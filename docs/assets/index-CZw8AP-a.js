const __vite__fileDeps=["assets/c4Diagram-ae766693-BDDR3rco.js","assets/svgDrawCommon-5e1cfd1d-DyVUAnf0.js","assets/flowDiagram-b222e15a-DJ4e6Ldn.js","assets/flowDb-c1833063-Cqw7xdST.js","assets/graph-bgEi4EwD.js","assets/layout-Byj8Scmg.js","assets/styles-483fbfea-BMWabbT_.js","assets/index-01f381cb-BAFoKZ3v.js","assets/clone-CN3KvUlB.js","assets/edges-066a5561-BgOHln9B.js","assets/createText-ca0c5216-BvYbWqeA.js","assets/line-CwnpGV_V.js","assets/array-BKyUJesY.js","assets/path-CbwjOpE9.js","assets/channel-C4XsNasP.js","assets/flowDiagram-v2-13329dc7-VtLDETdr.js","assets/erDiagram-09d1c15f-D8_uJb52.js","assets/ganttDiagram-b62c793e-DfUL_aZU.js","assets/linear-DUjQ7gVm.js","assets/init-Gi6I4Gst.js","assets/pieDiagram-bb1d19e5-DsVM8v8o.js","assets/arc-BVn34Vts.js","assets/ordinal-Cboi1Yqb.js","assets/quadrantDiagram-c759a472-cdoKcoSO.js","assets/xychartDiagram-f11f50a6-yvZ2I2qC.js","assets/requirementDiagram-87253d64-BLou0ryA.js","assets/sequenceDiagram-6894f283-Di1CqbYC.js","assets/classDiagram-fb54d2a0-CQMWkkQi.js","assets/styles-b83b31c9-yTRskxsw.js","assets/classDiagram-v2-a2b738ad-tGl87ywk.js","assets/stateDiagram-5dee940d-CbjHujSA.js","assets/styles-0784dbeb-TsAXYb7f.js","assets/stateDiagram-v2-1992cada-BfRK7THm.js","assets/journeyDiagram-6625b456-1SfXKlSR.js","assets/flowchart-elk-definition-ae0efee6-B7TJys5M.js","assets/timeline-definition-bf702344-BwSrtHDL.js","assets/mindmap-definition-307c710a-DJocX8z9.js","assets/sankeyDiagram-707fac0f-CTP5har4.js","assets/Tableau10-B-NsZVaP.js","assets/blockDiagram-9f4a6865-BvxRpQS7.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
var xo=Object.defineProperty;var wo=(_e,et,tt)=>et in _e?xo(_e,et,{enumerable:!0,configurable:!0,writable:!0,value:tt}):_e[et]=tt;var Jn=(_e,et,tt)=>(wo(_e,typeof et!="symbol"?et+"":et,tt),tt),_o=(_e,et,tt)=>{if(!et.has(_e))throw TypeError("Cannot "+tt)};var so=(_e,et,tt)=>{if(et.has(_e))throw TypeError("Cannot add the same private member more than once");et instanceof WeakSet?et.add(_e):et.set(_e,tt)};var no=(_e,et,tt)=>(_o(_e,et,"access private method"),tt);function _mergeNamespaces(_e,et){for(var tt=0;tt<et.length;tt++){const nt=et[tt];if(typeof nt!="string"&&!Array.isArray(nt)){for(const rt in nt)if(rt!=="default"&&!(rt in _e)){const it=Object.getOwnPropertyDescriptor(nt,rt);it&&Object.defineProperty(_e,rt,it.get?it:{enumerable:!0,get:()=>nt[rt]})}}}return Object.freeze(Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"}))}(function(){const et=document.createElement("link").relList;if(et&&et.supports&&et.supports("modulepreload"))return;for(const rt of document.querySelectorAll('link[rel="modulepreload"]'))nt(rt);new MutationObserver(rt=>{for(const it of rt)if(it.type==="childList")for(const ot of it.addedNodes)ot.tagName==="LINK"&&ot.rel==="modulepreload"&&nt(ot)}).observe(document,{childList:!0,subtree:!0});function tt(rt){const it={};return rt.integrity&&(it.integrity=rt.integrity),rt.referrerPolicy&&(it.referrerPolicy=rt.referrerPolicy),rt.crossOrigin==="use-credentials"?it.credentials="include":rt.crossOrigin==="anonymous"?it.credentials="omit":it.credentials="same-origin",it}function nt(rt){if(rt.ep)return;rt.ep=!0;const it=tt(rt);fetch(rt.href,it)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(_e){return _e&&_e.__esModule&&Object.prototype.hasOwnProperty.call(_e,"default")?_e.default:_e}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$3=Symbol.for("react.element"),n$4=Symbol.for("react.portal"),p$7=Symbol.for("react.fragment"),q$2=Symbol.for("react.strict_mode"),r$3=Symbol.for("react.profiler"),t$3=Symbol.for("react.provider"),u$2=Symbol.for("react.context"),v$3=Symbol.for("react.forward_ref"),w$1=Symbol.for("react.suspense"),x$1=Symbol.for("react.memo"),y$1=Symbol.for("react.lazy"),z$2=Symbol.iterator;function A$2(_e){return _e===null||typeof _e!="object"?null:(_e=z$2&&_e[z$2]||_e["@@iterator"],typeof _e=="function"?_e:null)}var B$2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$2=Object.assign,D$2={};function E$2(_e,et,tt){this.props=_e,this.context=et,this.refs=D$2,this.updater=tt||B$2}E$2.prototype.isReactComponent={};E$2.prototype.setState=function(_e,et){if(typeof _e!="object"&&typeof _e!="function"&&_e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_e,et,"setState")};E$2.prototype.forceUpdate=function(_e){this.updater.enqueueForceUpdate(this,_e,"forceUpdate")};function F$1(){}F$1.prototype=E$2.prototype;function G$2(_e,et,tt){this.props=_e,this.context=et,this.refs=D$2,this.updater=tt||B$2}var H$2=G$2.prototype=new F$1;H$2.constructor=G$2;C$2(H$2,E$2.prototype);H$2.isPureReactComponent=!0;var I$2=Array.isArray,J$1=Object.prototype.hasOwnProperty,K$1={current:null},L$2={key:!0,ref:!0,__self:!0,__source:!0};function M$2(_e,et,tt){var nt,rt={},it=null,ot=null;if(et!=null)for(nt in et.ref!==void 0&&(ot=et.ref),et.key!==void 0&&(it=""+et.key),et)J$1.call(et,nt)&&!L$2.hasOwnProperty(nt)&&(rt[nt]=et[nt]);var st=arguments.length-2;if(st===1)rt.children=tt;else if(1<st){for(var ut=Array(st),ft=0;ft<st;ft++)ut[ft]=arguments[ft+2];rt.children=ut}if(_e&&_e.defaultProps)for(nt in st=_e.defaultProps,st)rt[nt]===void 0&&(rt[nt]=st[nt]);return{$$typeof:l$3,type:_e,key:it,ref:ot,props:rt,_owner:K$1.current}}function N$2(_e,et){return{$$typeof:l$3,type:_e.type,key:et,ref:_e.ref,props:_e.props,_owner:_e._owner}}function O$2(_e){return typeof _e=="object"&&_e!==null&&_e.$$typeof===l$3}function escape$4(_e){var et={"=":"=0",":":"=2"};return"$"+_e.replace(/[=:]/g,function(tt){return et[tt]})}var P$3=/\/+/g;function Q$1(_e,et){return typeof _e=="object"&&_e!==null&&_e.key!=null?escape$4(""+_e.key):et.toString(36)}function R$2(_e,et,tt,nt,rt){var it=typeof _e;(it==="undefined"||it==="boolean")&&(_e=null);var ot=!1;if(_e===null)ot=!0;else switch(it){case"string":case"number":ot=!0;break;case"object":switch(_e.$$typeof){case l$3:case n$4:ot=!0}}if(ot)return ot=_e,rt=rt(ot),_e=nt===""?"."+Q$1(ot,0):nt,I$2(rt)?(tt="",_e!=null&&(tt=_e.replace(P$3,"$&/")+"/"),R$2(rt,et,tt,"",function(ft){return ft})):rt!=null&&(O$2(rt)&&(rt=N$2(rt,tt+(!rt.key||ot&&ot.key===rt.key?"":(""+rt.key).replace(P$3,"$&/")+"/")+_e)),et.push(rt)),1;if(ot=0,nt=nt===""?".":nt+":",I$2(_e))for(var st=0;st<_e.length;st++){it=_e[st];var ut=nt+Q$1(it,st);ot+=R$2(it,et,tt,ut,rt)}else if(ut=A$2(_e),typeof ut=="function")for(_e=ut.call(_e),st=0;!(it=_e.next()).done;)it=it.value,ut=nt+Q$1(it,st++),ot+=R$2(it,et,tt,ut,rt);else if(it==="object")throw et=String(_e),Error("Objects are not valid as a React child (found: "+(et==="[object Object]"?"object with keys {"+Object.keys(_e).join(", ")+"}":et)+"). If you meant to render a collection of children, use an array instead.");return ot}function S$2(_e,et,tt){if(_e==null)return _e;var nt=[],rt=0;return R$2(_e,nt,"","",function(it){return et.call(tt,it,rt++)}),nt}function T$2(_e){if(_e._status===-1){var et=_e._result;et=et(),et.then(function(tt){(_e._status===0||_e._status===-1)&&(_e._status=1,_e._result=tt)},function(tt){(_e._status===0||_e._status===-1)&&(_e._status=2,_e._result=tt)}),_e._status===-1&&(_e._status=0,_e._result=et)}if(_e._status===1)return _e._result.default;throw _e._result}var U$2={current:null},V$2={transition:null},W$2={ReactCurrentDispatcher:U$2,ReactCurrentBatchConfig:V$2,ReactCurrentOwner:K$1};function X$1(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$2,forEach:function(_e,et,tt){S$2(_e,function(){et.apply(this,arguments)},tt)},count:function(_e){var et=0;return S$2(_e,function(){et++}),et},toArray:function(_e){return S$2(_e,function(et){return et})||[]},only:function(_e){if(!O$2(_e))throw Error("React.Children.only expected to receive a single React element child.");return _e}};react_production_min.Component=E$2;react_production_min.Fragment=p$7;react_production_min.Profiler=r$3;react_production_min.PureComponent=G$2;react_production_min.StrictMode=q$2;react_production_min.Suspense=w$1;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$2;react_production_min.act=X$1;react_production_min.cloneElement=function(_e,et,tt){if(_e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+_e+".");var nt=C$2({},_e.props),rt=_e.key,it=_e.ref,ot=_e._owner;if(et!=null){if(et.ref!==void 0&&(it=et.ref,ot=K$1.current),et.key!==void 0&&(rt=""+et.key),_e.type&&_e.type.defaultProps)var st=_e.type.defaultProps;for(ut in et)J$1.call(et,ut)&&!L$2.hasOwnProperty(ut)&&(nt[ut]=et[ut]===void 0&&st!==void 0?st[ut]:et[ut])}var ut=arguments.length-2;if(ut===1)nt.children=tt;else if(1<ut){st=Array(ut);for(var ft=0;ft<ut;ft++)st[ft]=arguments[ft+2];nt.children=st}return{$$typeof:l$3,type:_e.type,key:rt,ref:it,props:nt,_owner:ot}};react_production_min.createContext=function(_e){return _e={$$typeof:u$2,_currentValue:_e,_currentValue2:_e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},_e.Provider={$$typeof:t$3,_context:_e},_e.Consumer=_e};react_production_min.createElement=M$2;react_production_min.createFactory=function(_e){var et=M$2.bind(null,_e);return et.type=_e,et};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(_e){return{$$typeof:v$3,render:_e}};react_production_min.isValidElement=O$2;react_production_min.lazy=function(_e){return{$$typeof:y$1,_payload:{_status:-1,_result:_e},_init:T$2}};react_production_min.memo=function(_e,et){return{$$typeof:x$1,type:_e,compare:et===void 0?null:et}};react_production_min.startTransition=function(_e){var et=V$2.transition;V$2.transition={};try{_e()}finally{V$2.transition=et}};react_production_min.unstable_act=X$1;react_production_min.useCallback=function(_e,et){return U$2.current.useCallback(_e,et)};react_production_min.useContext=function(_e){return U$2.current.useContext(_e)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(_e){return U$2.current.useDeferredValue(_e)};react_production_min.useEffect=function(_e,et){return U$2.current.useEffect(_e,et)};react_production_min.useId=function(){return U$2.current.useId()};react_production_min.useImperativeHandle=function(_e,et,tt){return U$2.current.useImperativeHandle(_e,et,tt)};react_production_min.useInsertionEffect=function(_e,et){return U$2.current.useInsertionEffect(_e,et)};react_production_min.useLayoutEffect=function(_e,et){return U$2.current.useLayoutEffect(_e,et)};react_production_min.useMemo=function(_e,et){return U$2.current.useMemo(_e,et)};react_production_min.useReducer=function(_e,et,tt){return U$2.current.useReducer(_e,et,tt)};react_production_min.useRef=function(_e){return U$2.current.useRef(_e)};react_production_min.useState=function(_e){return U$2.current.useState(_e)};react_production_min.useSyncExternalStore=function(_e,et,tt){return U$2.current.useSyncExternalStore(_e,et,tt)};react_production_min.useTransition=function(){return U$2.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const React=getDefaultExportFromCjs(reactExports),React$1=_mergeNamespaces({__proto__:null,default:React},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$3=reactExports,k$2=Symbol.for("react.element"),l$2=Symbol.for("react.fragment"),m$4=Object.prototype.hasOwnProperty,n$3=f$3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$6={key:!0,ref:!0,__self:!0,__source:!0};function q$1(_e,et,tt){var nt,rt={},it=null,ot=null;tt!==void 0&&(it=""+tt),et.key!==void 0&&(it=""+et.key),et.ref!==void 0&&(ot=et.ref);for(nt in et)m$4.call(et,nt)&&!p$6.hasOwnProperty(nt)&&(rt[nt]=et[nt]);if(_e&&_e.defaultProps)for(nt in et=_e.defaultProps,et)rt[nt]===void 0&&(rt[nt]=et[nt]);return{$$typeof:k$2,type:_e,key:it,ref:ot,props:rt,_owner:n$3.current}}reactJsxRuntime_production_min.Fragment=l$2;reactJsxRuntime_production_min.jsx=q$1;reactJsxRuntime_production_min.jsxs=q$1;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(_e){function et(Rt,Ot){var Nt=Rt.length;Rt.push(Ot);e:for(;0<Nt;){var It=Nt-1>>>1,Bt=Rt[It];if(0<rt(Bt,Ot))Rt[It]=Ot,Rt[Nt]=Bt,Nt=It;else break e}}function tt(Rt){return Rt.length===0?null:Rt[0]}function nt(Rt){if(Rt.length===0)return null;var Ot=Rt[0],Nt=Rt.pop();if(Nt!==Ot){Rt[0]=Nt;e:for(var It=0,Bt=Rt.length,zt=Bt>>>1;It<zt;){var Gt=2*(It+1)-1,Kt=Rt[Gt],fn=Gt+1,dn=Rt[fn];if(0>rt(Kt,Nt))fn<Bt&&0>rt(dn,Kt)?(Rt[It]=dn,Rt[fn]=Nt,It=fn):(Rt[It]=Kt,Rt[Gt]=Nt,It=Gt);else if(fn<Bt&&0>rt(dn,Nt))Rt[It]=dn,Rt[fn]=Nt,It=fn;else break e}}return Ot}function rt(Rt,Ot){var Nt=Rt.sortIndex-Ot.sortIndex;return Nt!==0?Nt:Rt.id-Ot.id}if(typeof performance=="object"&&typeof performance.now=="function"){var it=performance;_e.unstable_now=function(){return it.now()}}else{var ot=Date,st=ot.now();_e.unstable_now=function(){return ot.now()-st}}var ut=[],ft=[],dt=1,lt=null,at=3,ct=!1,ht=!1,pt=!1,mt=typeof setTimeout=="function"?setTimeout:null,gt=typeof clearTimeout=="function"?clearTimeout:null,yt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function bt(Rt){for(var Ot=tt(ft);Ot!==null;){if(Ot.callback===null)nt(ft);else if(Ot.startTime<=Rt)nt(ft),Ot.sortIndex=Ot.expirationTime,et(ut,Ot);else break;Ot=tt(ft)}}function xt(Rt){if(pt=!1,bt(Rt),!ht)if(tt(ut)!==null)ht=!0,Tt(vt);else{var Ot=tt(ft);Ot!==null&&St(xt,Ot.startTime-Rt)}}function vt(Rt,Ot){ht=!1,pt&&(pt=!1,gt(Ct),Ct=-1),ct=!0;var Nt=at;try{for(bt(Ot),lt=tt(ut);lt!==null&&(!(lt.expirationTime>Ot)||Rt&&!jt());){var It=lt.callback;if(typeof It=="function"){lt.callback=null,at=lt.priorityLevel;var Bt=It(lt.expirationTime<=Ot);Ot=_e.unstable_now(),typeof Bt=="function"?lt.callback=Bt:lt===tt(ut)&&nt(ut),bt(Ot)}else nt(ut);lt=tt(ut)}if(lt!==null)var zt=!0;else{var Gt=tt(ft);Gt!==null&&St(xt,Gt.startTime-Ot),zt=!1}return zt}finally{lt=null,at=Nt,ct=!1}}var wt=!1,_t=null,Ct=-1,Et=5,$t=-1;function jt(){return!(_e.unstable_now()-$t<Et)}function Dt(){if(_t!==null){var Rt=_e.unstable_now();$t=Rt;var Ot=!0;try{Ot=_t(!0,Rt)}finally{Ot?Pt():(wt=!1,_t=null)}}else wt=!1}var Pt;if(typeof yt=="function")Pt=function(){yt(Dt)};else if(typeof MessageChannel<"u"){var kt=new MessageChannel,At=kt.port2;kt.port1.onmessage=Dt,Pt=function(){At.postMessage(null)}}else Pt=function(){mt(Dt,0)};function Tt(Rt){_t=Rt,wt||(wt=!0,Pt())}function St(Rt,Ot){Ct=mt(function(){Rt(_e.unstable_now())},Ot)}_e.unstable_IdlePriority=5,_e.unstable_ImmediatePriority=1,_e.unstable_LowPriority=4,_e.unstable_NormalPriority=3,_e.unstable_Profiling=null,_e.unstable_UserBlockingPriority=2,_e.unstable_cancelCallback=function(Rt){Rt.callback=null},_e.unstable_continueExecution=function(){ht||ct||(ht=!0,Tt(vt))},_e.unstable_forceFrameRate=function(Rt){0>Rt||125<Rt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Et=0<Rt?Math.floor(1e3/Rt):5},_e.unstable_getCurrentPriorityLevel=function(){return at},_e.unstable_getFirstCallbackNode=function(){return tt(ut)},_e.unstable_next=function(Rt){switch(at){case 1:case 2:case 3:var Ot=3;break;default:Ot=at}var Nt=at;at=Ot;try{return Rt()}finally{at=Nt}},_e.unstable_pauseExecution=function(){},_e.unstable_requestPaint=function(){},_e.unstable_runWithPriority=function(Rt,Ot){switch(Rt){case 1:case 2:case 3:case 4:case 5:break;default:Rt=3}var Nt=at;at=Rt;try{return Ot()}finally{at=Nt}},_e.unstable_scheduleCallback=function(Rt,Ot,Nt){var It=_e.unstable_now();switch(typeof Nt=="object"&&Nt!==null?(Nt=Nt.delay,Nt=typeof Nt=="number"&&0<Nt?It+Nt:It):Nt=It,Rt){case 1:var Bt=-1;break;case 2:Bt=250;break;case 5:Bt=1073741823;break;case 4:Bt=1e4;break;default:Bt=5e3}return Bt=Nt+Bt,Rt={id:dt++,callback:Ot,priorityLevel:Rt,startTime:Nt,expirationTime:Bt,sortIndex:-1},Nt>It?(Rt.sortIndex=Nt,et(ft,Rt),tt(ut)===null&&Rt===tt(ft)&&(pt?(gt(Ct),Ct=-1):pt=!0,St(xt,Nt-It))):(Rt.sortIndex=Bt,et(ut,Rt),ht||ct||(ht=!0,Tt(vt))),Rt},_e.unstable_shouldYield=jt,_e.unstable_wrapCallback=function(Rt){var Ot=at;return function(){var Nt=at;at=Ot;try{return Rt.apply(this,arguments)}finally{at=Nt}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$5(_e){for(var et="https://reactjs.org/docs/error-decoder.html?invariant="+_e,tt=1;tt<arguments.length;tt++)et+="&args[]="+encodeURIComponent(arguments[tt]);return"Minified React error #"+_e+"; visit "+et+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(_e,et){ha(_e,et),ha(_e+"Capture",et)}function ha(_e,et){for(ea[_e]=et,_e=0;_e<et.length;_e++)da.add(et[_e])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(_e){return ja.call(ma,_e)?!0:ja.call(la,_e)?!1:ka.test(_e)?ma[_e]=!0:(la[_e]=!0,!1)}function pa(_e,et,tt,nt){if(tt!==null&&tt.type===0)return!1;switch(typeof et){case"function":case"symbol":return!0;case"boolean":return nt?!1:tt!==null?!tt.acceptsBooleans:(_e=_e.toLowerCase().slice(0,5),_e!=="data-"&&_e!=="aria-");default:return!1}}function qa(_e,et,tt,nt){if(et===null||typeof et>"u"||pa(_e,et,tt,nt))return!0;if(nt)return!1;if(tt!==null)switch(tt.type){case 3:return!et;case 4:return et===!1;case 5:return isNaN(et);case 6:return isNaN(et)||1>et}return!1}function v$2(_e,et,tt,nt,rt,it,ot){this.acceptsBooleans=et===2||et===3||et===4,this.attributeName=nt,this.attributeNamespace=rt,this.mustUseProperty=tt,this.propertyName=_e,this.type=et,this.sanitizeURL=it,this.removeEmptyString=ot}var z$1={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(_e){z$1[_e]=new v$2(_e,0,!1,_e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(_e){var et=_e[0];z$1[et]=new v$2(et,1,!1,_e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(_e){z$1[_e]=new v$2(_e,2,!1,_e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(_e){z$1[_e]=new v$2(_e,2,!1,_e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(_e){z$1[_e]=new v$2(_e,3,!1,_e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(_e){z$1[_e]=new v$2(_e,3,!0,_e,null,!1,!1)});["capture","download"].forEach(function(_e){z$1[_e]=new v$2(_e,4,!1,_e,null,!1,!1)});["cols","rows","size","span"].forEach(function(_e){z$1[_e]=new v$2(_e,6,!1,_e,null,!1,!1)});["rowSpan","start"].forEach(function(_e){z$1[_e]=new v$2(_e,5,!1,_e.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(_e){return _e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(_e){var et=_e.replace(ra,sa);z$1[et]=new v$2(et,1,!1,_e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(_e){var et=_e.replace(ra,sa);z$1[et]=new v$2(et,1,!1,_e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(_e){var et=_e.replace(ra,sa);z$1[et]=new v$2(et,1,!1,_e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(_e){z$1[_e]=new v$2(_e,1,!1,_e.toLowerCase(),null,!1,!1)});z$1.xlinkHref=new v$2("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(_e){z$1[_e]=new v$2(_e,1,!1,_e.toLowerCase(),null,!0,!0)});function ta(_e,et,tt,nt){var rt=z$1.hasOwnProperty(et)?z$1[et]:null;(rt!==null?rt.type!==0:nt||!(2<et.length)||et[0]!=="o"&&et[0]!=="O"||et[1]!=="n"&&et[1]!=="N")&&(qa(et,tt,rt,nt)&&(tt=null),nt||rt===null?oa(et)&&(tt===null?_e.removeAttribute(et):_e.setAttribute(et,""+tt)):rt.mustUseProperty?_e[rt.propertyName]=tt===null?rt.type===3?!1:"":tt:(et=rt.attributeName,nt=rt.attributeNamespace,tt===null?_e.removeAttribute(et):(rt=rt.type,tt=rt===3||rt===4&&tt===!0?"":""+tt,nt?_e.setAttributeNS(nt,et,tt):_e.setAttribute(et,tt))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(_e){return _e===null||typeof _e!="object"?null:(_e=Ja&&_e[Ja]||_e["@@iterator"],typeof _e=="function"?_e:null)}var A$1=Object.assign,La;function Ma(_e){if(La===void 0)try{throw Error()}catch(tt){var et=tt.stack.trim().match(/\n( *(at )?)/);La=et&&et[1]||""}return`
`+La+_e}var Na=!1;function Oa(_e,et){if(!_e||Na)return"";Na=!0;var tt=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(et)if(et=function(){throw Error()},Object.defineProperty(et.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(et,[])}catch(ft){var nt=ft}Reflect.construct(_e,[],et)}else{try{et.call()}catch(ft){nt=ft}_e.call(et.prototype)}else{try{throw Error()}catch(ft){nt=ft}_e()}}catch(ft){if(ft&&nt&&typeof ft.stack=="string"){for(var rt=ft.stack.split(`
`),it=nt.stack.split(`
`),ot=rt.length-1,st=it.length-1;1<=ot&&0<=st&&rt[ot]!==it[st];)st--;for(;1<=ot&&0<=st;ot--,st--)if(rt[ot]!==it[st]){if(ot!==1||st!==1)do if(ot--,st--,0>st||rt[ot]!==it[st]){var ut=`
`+rt[ot].replace(" at new "," at ");return _e.displayName&&ut.includes("<anonymous>")&&(ut=ut.replace("<anonymous>",_e.displayName)),ut}while(1<=ot&&0<=st);break}}}finally{Na=!1,Error.prepareStackTrace=tt}return(_e=_e?_e.displayName||_e.name:"")?Ma(_e):""}function Pa(_e){switch(_e.tag){case 5:return Ma(_e.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return _e=Oa(_e.type,!1),_e;case 11:return _e=Oa(_e.type.render,!1),_e;case 1:return _e=Oa(_e.type,!0),_e;default:return""}}function Qa(_e){if(_e==null)return null;if(typeof _e=="function")return _e.displayName||_e.name||null;if(typeof _e=="string")return _e;switch(_e){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof _e=="object")switch(_e.$$typeof){case Ca:return(_e.displayName||"Context")+".Consumer";case Ba:return(_e._context.displayName||"Context")+".Provider";case Da:var et=_e.render;return _e=_e.displayName,_e||(_e=et.displayName||et.name||"",_e=_e!==""?"ForwardRef("+_e+")":"ForwardRef"),_e;case Ga:return et=_e.displayName||null,et!==null?et:Qa(_e.type)||"Memo";case Ha:et=_e._payload,_e=_e._init;try{return Qa(_e(et))}catch{}}return null}function Ra(_e){var et=_e.type;switch(_e.tag){case 24:return"Cache";case 9:return(et.displayName||"Context")+".Consumer";case 10:return(et._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return _e=et.render,_e=_e.displayName||_e.name||"",et.displayName||(_e!==""?"ForwardRef("+_e+")":"ForwardRef");case 7:return"Fragment";case 5:return et;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(et);case 8:return et===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof et=="function")return et.displayName||et.name||null;if(typeof et=="string")return et}return null}function Sa(_e){switch(typeof _e){case"boolean":case"number":case"string":case"undefined":return _e;case"object":return _e;default:return""}}function Ta(_e){var et=_e.type;return(_e=_e.nodeName)&&_e.toLowerCase()==="input"&&(et==="checkbox"||et==="radio")}function Ua(_e){var et=Ta(_e)?"checked":"value",tt=Object.getOwnPropertyDescriptor(_e.constructor.prototype,et),nt=""+_e[et];if(!_e.hasOwnProperty(et)&&typeof tt<"u"&&typeof tt.get=="function"&&typeof tt.set=="function"){var rt=tt.get,it=tt.set;return Object.defineProperty(_e,et,{configurable:!0,get:function(){return rt.call(this)},set:function(ot){nt=""+ot,it.call(this,ot)}}),Object.defineProperty(_e,et,{enumerable:tt.enumerable}),{getValue:function(){return nt},setValue:function(ot){nt=""+ot},stopTracking:function(){_e._valueTracker=null,delete _e[et]}}}}function Va(_e){_e._valueTracker||(_e._valueTracker=Ua(_e))}function Wa(_e){if(!_e)return!1;var et=_e._valueTracker;if(!et)return!0;var tt=et.getValue(),nt="";return _e&&(nt=Ta(_e)?_e.checked?"true":"false":_e.value),_e=nt,_e!==tt?(et.setValue(_e),!0):!1}function Xa(_e){if(_e=_e||(typeof document<"u"?document:void 0),typeof _e>"u")return null;try{return _e.activeElement||_e.body}catch{return _e.body}}function Ya(_e,et){var tt=et.checked;return A$1({},et,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:tt??_e._wrapperState.initialChecked})}function Za(_e,et){var tt=et.defaultValue==null?"":et.defaultValue,nt=et.checked!=null?et.checked:et.defaultChecked;tt=Sa(et.value!=null?et.value:tt),_e._wrapperState={initialChecked:nt,initialValue:tt,controlled:et.type==="checkbox"||et.type==="radio"?et.checked!=null:et.value!=null}}function ab(_e,et){et=et.checked,et!=null&&ta(_e,"checked",et,!1)}function bb(_e,et){ab(_e,et);var tt=Sa(et.value),nt=et.type;if(tt!=null)nt==="number"?(tt===0&&_e.value===""||_e.value!=tt)&&(_e.value=""+tt):_e.value!==""+tt&&(_e.value=""+tt);else if(nt==="submit"||nt==="reset"){_e.removeAttribute("value");return}et.hasOwnProperty("value")?cb(_e,et.type,tt):et.hasOwnProperty("defaultValue")&&cb(_e,et.type,Sa(et.defaultValue)),et.checked==null&&et.defaultChecked!=null&&(_e.defaultChecked=!!et.defaultChecked)}function db(_e,et,tt){if(et.hasOwnProperty("value")||et.hasOwnProperty("defaultValue")){var nt=et.type;if(!(nt!=="submit"&&nt!=="reset"||et.value!==void 0&&et.value!==null))return;et=""+_e._wrapperState.initialValue,tt||et===_e.value||(_e.value=et),_e.defaultValue=et}tt=_e.name,tt!==""&&(_e.name=""),_e.defaultChecked=!!_e._wrapperState.initialChecked,tt!==""&&(_e.name=tt)}function cb(_e,et,tt){(et!=="number"||Xa(_e.ownerDocument)!==_e)&&(tt==null?_e.defaultValue=""+_e._wrapperState.initialValue:_e.defaultValue!==""+tt&&(_e.defaultValue=""+tt))}var eb=Array.isArray;function fb(_e,et,tt,nt){if(_e=_e.options,et){et={};for(var rt=0;rt<tt.length;rt++)et["$"+tt[rt]]=!0;for(tt=0;tt<_e.length;tt++)rt=et.hasOwnProperty("$"+_e[tt].value),_e[tt].selected!==rt&&(_e[tt].selected=rt),rt&&nt&&(_e[tt].defaultSelected=!0)}else{for(tt=""+Sa(tt),et=null,rt=0;rt<_e.length;rt++){if(_e[rt].value===tt){_e[rt].selected=!0,nt&&(_e[rt].defaultSelected=!0);return}et!==null||_e[rt].disabled||(et=_e[rt])}et!==null&&(et.selected=!0)}}function gb(_e,et){if(et.dangerouslySetInnerHTML!=null)throw Error(p$5(91));return A$1({},et,{value:void 0,defaultValue:void 0,children:""+_e._wrapperState.initialValue})}function hb(_e,et){var tt=et.value;if(tt==null){if(tt=et.children,et=et.defaultValue,tt!=null){if(et!=null)throw Error(p$5(92));if(eb(tt)){if(1<tt.length)throw Error(p$5(93));tt=tt[0]}et=tt}et==null&&(et=""),tt=et}_e._wrapperState={initialValue:Sa(tt)}}function ib(_e,et){var tt=Sa(et.value),nt=Sa(et.defaultValue);tt!=null&&(tt=""+tt,tt!==_e.value&&(_e.value=tt),et.defaultValue==null&&_e.defaultValue!==tt&&(_e.defaultValue=tt)),nt!=null&&(_e.defaultValue=""+nt)}function jb(_e){var et=_e.textContent;et===_e._wrapperState.initialValue&&et!==""&&et!==null&&(_e.value=et)}function kb(_e){switch(_e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(_e,et){return _e==null||_e==="http://www.w3.org/1999/xhtml"?kb(et):_e==="http://www.w3.org/2000/svg"&&et==="foreignObject"?"http://www.w3.org/1999/xhtml":_e}var mb,nb=function(_e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(et,tt,nt,rt){MSApp.execUnsafeLocalFunction(function(){return _e(et,tt,nt,rt)})}:_e}(function(_e,et){if(_e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in _e)_e.innerHTML=et;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+et.valueOf().toString()+"</svg>",et=mb.firstChild;_e.firstChild;)_e.removeChild(_e.firstChild);for(;et.firstChild;)_e.appendChild(et.firstChild)}});function ob(_e,et){if(et){var tt=_e.firstChild;if(tt&&tt===_e.lastChild&&tt.nodeType===3){tt.nodeValue=et;return}}_e.textContent=et}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(_e){qb.forEach(function(et){et=et+_e.charAt(0).toUpperCase()+_e.substring(1),pb[et]=pb[_e]})});function rb(_e,et,tt){return et==null||typeof et=="boolean"||et===""?"":tt||typeof et!="number"||et===0||pb.hasOwnProperty(_e)&&pb[_e]?(""+et).trim():et+"px"}function sb(_e,et){_e=_e.style;for(var tt in et)if(et.hasOwnProperty(tt)){var nt=tt.indexOf("--")===0,rt=rb(tt,et[tt],nt);tt==="float"&&(tt="cssFloat"),nt?_e.setProperty(tt,rt):_e[tt]=rt}}var tb=A$1({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(_e,et){if(et){if(tb[_e]&&(et.children!=null||et.dangerouslySetInnerHTML!=null))throw Error(p$5(137,_e));if(et.dangerouslySetInnerHTML!=null){if(et.children!=null)throw Error(p$5(60));if(typeof et.dangerouslySetInnerHTML!="object"||!("__html"in et.dangerouslySetInnerHTML))throw Error(p$5(61))}if(et.style!=null&&typeof et.style!="object")throw Error(p$5(62))}}function vb$2(_e,et){if(_e.indexOf("-")===-1)return typeof et.is=="string";switch(_e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(_e){return _e=_e.target||_e.srcElement||window,_e.correspondingUseElement&&(_e=_e.correspondingUseElement),_e.nodeType===3?_e.parentNode:_e}var yb=null,zb=null,Ab=null;function Bb(_e){if(_e=Cb(_e)){if(typeof yb!="function")throw Error(p$5(280));var et=_e.stateNode;et&&(et=Db(et),yb(_e.stateNode,_e.type,et))}}function Eb(_e){zb?Ab?Ab.push(_e):Ab=[_e]:zb=_e}function Fb(){if(zb){var _e=zb,et=Ab;if(Ab=zb=null,Bb(_e),et)for(_e=0;_e<et.length;_e++)Bb(et[_e])}}function Gb(_e,et){return _e(et)}function Hb(){}var Ib=!1;function Jb(_e,et,tt){if(Ib)return _e(et,tt);Ib=!0;try{return Gb(_e,et,tt)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(_e,et){var tt=_e.stateNode;if(tt===null)return null;var nt=Db(tt);if(nt===null)return null;tt=nt[et];e:switch(et){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(nt=!nt.disabled)||(_e=_e.type,nt=!(_e==="button"||_e==="input"||_e==="select"||_e==="textarea")),_e=!nt;break e;default:_e=!1}if(_e)return null;if(tt&&typeof tt!="function")throw Error(p$5(231,et,typeof tt));return tt}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(_e,et,tt,nt,rt,it,ot,st,ut){var ft=Array.prototype.slice.call(arguments,3);try{et.apply(tt,ft)}catch(dt){this.onError(dt)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(_e){Ob=!0,Pb=_e}};function Tb(_e,et,tt,nt,rt,it,ot,st,ut){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(_e,et,tt,nt,rt,it,ot,st,ut){if(Tb.apply(this,arguments),Ob){if(Ob){var ft=Pb;Ob=!1,Pb=null}else throw Error(p$5(198));Qb||(Qb=!0,Rb=ft)}}function Vb$1(_e){var et=_e,tt=_e;if(_e.alternate)for(;et.return;)et=et.return;else{_e=et;do et=_e,et.flags&4098&&(tt=et.return),_e=et.return;while(_e)}return et.tag===3?tt:null}function Wb(_e){if(_e.tag===13){var et=_e.memoizedState;if(et===null&&(_e=_e.alternate,_e!==null&&(et=_e.memoizedState)),et!==null)return et.dehydrated}return null}function Xb(_e){if(Vb$1(_e)!==_e)throw Error(p$5(188))}function Yb(_e){var et=_e.alternate;if(!et){if(et=Vb$1(_e),et===null)throw Error(p$5(188));return et!==_e?null:_e}for(var tt=_e,nt=et;;){var rt=tt.return;if(rt===null)break;var it=rt.alternate;if(it===null){if(nt=rt.return,nt!==null){tt=nt;continue}break}if(rt.child===it.child){for(it=rt.child;it;){if(it===tt)return Xb(rt),_e;if(it===nt)return Xb(rt),et;it=it.sibling}throw Error(p$5(188))}if(tt.return!==nt.return)tt=rt,nt=it;else{for(var ot=!1,st=rt.child;st;){if(st===tt){ot=!0,tt=rt,nt=it;break}if(st===nt){ot=!0,nt=rt,tt=it;break}st=st.sibling}if(!ot){for(st=it.child;st;){if(st===tt){ot=!0,tt=it,nt=rt;break}if(st===nt){ot=!0,nt=it,tt=rt;break}st=st.sibling}if(!ot)throw Error(p$5(189))}}if(tt.alternate!==nt)throw Error(p$5(190))}if(tt.tag!==3)throw Error(p$5(188));return tt.stateNode.current===tt?_e:et}function Zb(_e){return _e=Yb(_e),_e!==null?$b(_e):null}function $b(_e){if(_e.tag===5||_e.tag===6)return _e;for(_e=_e.child;_e!==null;){var et=$b(_e);if(et!==null)return et;_e=_e.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B$1=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(_e){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,_e,void 0,(_e.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(_e){return _e>>>=0,_e===0?32:31-(pc(_e)/qc|0)|0}var rc=64,sc=4194304;function tc(_e){switch(_e&-_e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return _e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return _e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return _e}}function uc(_e,et){var tt=_e.pendingLanes;if(tt===0)return 0;var nt=0,rt=_e.suspendedLanes,it=_e.pingedLanes,ot=tt&268435455;if(ot!==0){var st=ot&~rt;st!==0?nt=tc(st):(it&=ot,it!==0&&(nt=tc(it)))}else ot=tt&~rt,ot!==0?nt=tc(ot):it!==0&&(nt=tc(it));if(nt===0)return 0;if(et!==0&&et!==nt&&!(et&rt)&&(rt=nt&-nt,it=et&-et,rt>=it||rt===16&&(it&4194240)!==0))return et;if(nt&4&&(nt|=tt&16),et=_e.entangledLanes,et!==0)for(_e=_e.entanglements,et&=nt;0<et;)tt=31-oc(et),rt=1<<tt,nt|=_e[tt],et&=~rt;return nt}function vc(_e,et){switch(_e){case 1:case 2:case 4:return et+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return et+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(_e,et){for(var tt=_e.suspendedLanes,nt=_e.pingedLanes,rt=_e.expirationTimes,it=_e.pendingLanes;0<it;){var ot=31-oc(it),st=1<<ot,ut=rt[ot];ut===-1?(!(st&tt)||st&nt)&&(rt[ot]=vc(st,et)):ut<=et&&(_e.expiredLanes|=st),it&=~st}}function xc(_e){return _e=_e.pendingLanes&-1073741825,_e!==0?_e:_e&1073741824?1073741824:0}function yc(){var _e=rc;return rc<<=1,!(rc&4194240)&&(rc=64),_e}function zc(_e){for(var et=[],tt=0;31>tt;tt++)et.push(_e);return et}function Ac(_e,et,tt){_e.pendingLanes|=et,et!==536870912&&(_e.suspendedLanes=0,_e.pingedLanes=0),_e=_e.eventTimes,et=31-oc(et),_e[et]=tt}function Bc(_e,et){var tt=_e.pendingLanes&~et;_e.pendingLanes=et,_e.suspendedLanes=0,_e.pingedLanes=0,_e.expiredLanes&=et,_e.mutableReadLanes&=et,_e.entangledLanes&=et,et=_e.entanglements;var nt=_e.eventTimes;for(_e=_e.expirationTimes;0<tt;){var rt=31-oc(tt),it=1<<rt;et[rt]=0,nt[rt]=-1,_e[rt]=-1,tt&=~it}}function Cc$1(_e,et){var tt=_e.entangledLanes|=et;for(_e=_e.entanglements;tt;){var nt=31-oc(tt),rt=1<<nt;rt&et|_e[nt]&et&&(_e[nt]|=et),tt&=~rt}}var C$1=0;function Dc(_e){return _e&=-_e,1<_e?4<_e?_e&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(_e,et){switch(_e){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(et.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(et.pointerId)}}function Tc(_e,et,tt,nt,rt,it){return _e===null||_e.nativeEvent!==it?(_e={blockedOn:et,domEventName:tt,eventSystemFlags:nt,nativeEvent:it,targetContainers:[rt]},et!==null&&(et=Cb(et),et!==null&&Fc(et)),_e):(_e.eventSystemFlags|=nt,et=_e.targetContainers,rt!==null&&et.indexOf(rt)===-1&&et.push(rt),_e)}function Uc(_e,et,tt,nt,rt){switch(et){case"focusin":return Lc=Tc(Lc,_e,et,tt,nt,rt),!0;case"dragenter":return Mc=Tc(Mc,_e,et,tt,nt,rt),!0;case"mouseover":return Nc=Tc(Nc,_e,et,tt,nt,rt),!0;case"pointerover":var it=rt.pointerId;return Oc.set(it,Tc(Oc.get(it)||null,_e,et,tt,nt,rt)),!0;case"gotpointercapture":return it=rt.pointerId,Pc.set(it,Tc(Pc.get(it)||null,_e,et,tt,nt,rt)),!0}return!1}function Vc(_e){var et=Wc(_e.target);if(et!==null){var tt=Vb$1(et);if(tt!==null){if(et=tt.tag,et===13){if(et=Wb(tt),et!==null){_e.blockedOn=et,Ic(_e.priority,function(){Gc(tt)});return}}else if(et===3&&tt.stateNode.current.memoizedState.isDehydrated){_e.blockedOn=tt.tag===3?tt.stateNode.containerInfo:null;return}}}_e.blockedOn=null}function Xc(_e){if(_e.blockedOn!==null)return!1;for(var et=_e.targetContainers;0<et.length;){var tt=Yc(_e.domEventName,_e.eventSystemFlags,et[0],_e.nativeEvent);if(tt===null){tt=_e.nativeEvent;var nt=new tt.constructor(tt.type,tt);wb=nt,tt.target.dispatchEvent(nt),wb=null}else return et=Cb(tt),et!==null&&Fc(et),_e.blockedOn=tt,!1;et.shift()}return!0}function Zc(_e,et,tt){Xc(_e)&&tt.delete(et)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(_e,et){_e.blockedOn===et&&(_e.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(_e){function et(rt){return ad(rt,_e)}if(0<Kc.length){ad(Kc[0],_e);for(var tt=1;tt<Kc.length;tt++){var nt=Kc[tt];nt.blockedOn===_e&&(nt.blockedOn=null)}}for(Lc!==null&&ad(Lc,_e),Mc!==null&&ad(Mc,_e),Nc!==null&&ad(Nc,_e),Oc.forEach(et),Pc.forEach(et),tt=0;tt<Qc.length;tt++)nt=Qc[tt],nt.blockedOn===_e&&(nt.blockedOn=null);for(;0<Qc.length&&(tt=Qc[0],tt.blockedOn===null);)Vc(tt),tt.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(_e,et,tt,nt){var rt=C$1,it=cd.transition;cd.transition=null;try{C$1=1,fd(_e,et,tt,nt)}finally{C$1=rt,cd.transition=it}}function gd(_e,et,tt,nt){var rt=C$1,it=cd.transition;cd.transition=null;try{C$1=4,fd(_e,et,tt,nt)}finally{C$1=rt,cd.transition=it}}function fd(_e,et,tt,nt){if(dd){var rt=Yc(_e,et,tt,nt);if(rt===null)hd(_e,et,nt,id$n,tt),Sc(_e,nt);else if(Uc(rt,_e,et,tt,nt))nt.stopPropagation();else if(Sc(_e,nt),et&4&&-1<Rc.indexOf(_e)){for(;rt!==null;){var it=Cb(rt);if(it!==null&&Ec(it),it=Yc(_e,et,tt,nt),it===null&&hd(_e,et,nt,id$n,tt),it===rt)break;rt=it}rt!==null&&nt.stopPropagation()}else hd(_e,et,nt,null,tt)}}var id$n=null;function Yc(_e,et,tt,nt){if(id$n=null,_e=xb(nt),_e=Wc(_e),_e!==null)if(et=Vb$1(_e),et===null)_e=null;else if(tt=et.tag,tt===13){if(_e=Wb(et),_e!==null)return _e;_e=null}else if(tt===3){if(et.stateNode.current.memoizedState.isDehydrated)return et.tag===3?et.stateNode.containerInfo:null;_e=null}else et!==_e&&(_e=null);return id$n=_e,null}function jd(_e){switch(_e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var _e,et=ld,tt=et.length,nt,rt="value"in kd?kd.value:kd.textContent,it=rt.length;for(_e=0;_e<tt&&et[_e]===rt[_e];_e++);var ot=tt-_e;for(nt=1;nt<=ot&&et[tt-nt]===rt[it-nt];nt++);return md=rt.slice(_e,1<nt?1-nt:void 0)}function od(_e){var et=_e.keyCode;return"charCode"in _e?(_e=_e.charCode,_e===0&&et===13&&(_e=13)):_e=et,_e===10&&(_e=13),32<=_e||_e===13?_e:0}function pd(){return!0}function qd(){return!1}function rd(_e){function et(tt,nt,rt,it,ot){this._reactName=tt,this._targetInst=rt,this.type=nt,this.nativeEvent=it,this.target=ot,this.currentTarget=null;for(var st in _e)_e.hasOwnProperty(st)&&(tt=_e[st],this[st]=tt?tt(it):it[st]);return this.isDefaultPrevented=(it.defaultPrevented!=null?it.defaultPrevented:it.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$1(et.prototype,{preventDefault:function(){this.defaultPrevented=!0;var tt=this.nativeEvent;tt&&(tt.preventDefault?tt.preventDefault():typeof tt.returnValue!="unknown"&&(tt.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var tt=this.nativeEvent;tt&&(tt.stopPropagation?tt.stopPropagation():typeof tt.cancelBubble!="unknown"&&(tt.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),et}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(_e){return _e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$1({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$1({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(_e){return _e.relatedTarget===void 0?_e.fromElement===_e.srcElement?_e.toElement:_e.fromElement:_e.relatedTarget},movementX:function(_e){return"movementX"in _e?_e.movementX:(_e!==yd&&(yd&&_e.type==="mousemove"?(wd=_e.screenX-yd.screenX,xd=_e.screenY-yd.screenY):xd=wd=0,yd=_e),wd)},movementY:function(_e){return"movementY"in _e?_e.movementY:xd}}),Bd=rd(Ad),Cd=A$1({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$1({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$1({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$1({},sd,{clipboardData:function(_e){return"clipboardData"in _e?_e.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$1({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(_e){var et=this.nativeEvent;return et.getModifierState?et.getModifierState(_e):(_e=Od[_e])?!!et[_e]:!1}function zd(){return Pd}var Qd=A$1({},ud,{key:function(_e){if(_e.key){var et=Md[_e.key]||_e.key;if(et!=="Unidentified")return et}return _e.type==="keypress"?(_e=od(_e),_e===13?"Enter":String.fromCharCode(_e)):_e.type==="keydown"||_e.type==="keyup"?Nd[_e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(_e){return _e.type==="keypress"?od(_e):0},keyCode:function(_e){return _e.type==="keydown"||_e.type==="keyup"?_e.keyCode:0},which:function(_e){return _e.type==="keypress"?od(_e):_e.type==="keydown"||_e.type==="keyup"?_e.keyCode:0}}),Rd=rd(Qd),Sd=A$1({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$1({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$1({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$1({},Ad,{deltaX:function(_e){return"deltaX"in _e?_e.deltaX:"wheelDeltaX"in _e?-_e.wheelDeltaX:0},deltaY:function(_e){return"deltaY"in _e?_e.deltaY:"wheelDeltaY"in _e?-_e.wheelDeltaY:"wheelDelta"in _e?-_e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=" ",fe=!1;function ge(_e,et){switch(_e){case"keyup":return $d.indexOf(et.keyCode)!==-1;case"keydown":return et.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(_e){return _e=_e.detail,typeof _e=="object"&&"data"in _e?_e.data:null}var ie=!1;function je(_e,et){switch(_e){case"compositionend":return he(et);case"keypress":return et.which!==32?null:(fe=!0,ee);case"textInput":return _e=et.data,_e===ee&&fe?null:_e;default:return null}}function ke(_e,et){if(ie)return _e==="compositionend"||!ae&&ge(_e,et)?(_e=nd(),md=ld=kd=null,ie=!1,_e):null;switch(_e){case"paste":return null;case"keypress":if(!(et.ctrlKey||et.altKey||et.metaKey)||et.ctrlKey&&et.altKey){if(et.char&&1<et.char.length)return et.char;if(et.which)return String.fromCharCode(et.which)}return null;case"compositionend":return de&&et.locale!=="ko"?null:et.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(_e){var et=_e&&_e.nodeName&&_e.nodeName.toLowerCase();return et==="input"?!!le[_e.type]:et==="textarea"}function ne(_e,et,tt,nt){Eb(nt),et=oe(et,"onChange"),0<et.length&&(tt=new td("onChange","change",null,tt,nt),_e.push({event:tt,listeners:et}))}var pe=null,qe=null;function re(_e){se(_e,0)}function te(_e){var et=ue(_e);if(Wa(et))return _e}function ve(_e,et){if(_e==="change")return et}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(_e){if(_e.propertyName==="value"&&te(qe)){var et=[];ne(et,qe,_e,xb(_e)),Jb(re,et)}}function Ce(_e,et,tt){_e==="focusin"?(Ae(),pe=et,qe=tt,pe.attachEvent("onpropertychange",Be)):_e==="focusout"&&Ae()}function De(_e){if(_e==="selectionchange"||_e==="keyup"||_e==="keydown")return te(qe)}function Ee(_e,et){if(_e==="click")return te(et)}function Fe(_e,et){if(_e==="input"||_e==="change")return te(et)}function Ge(_e,et){return _e===et&&(_e!==0||1/_e===1/et)||_e!==_e&&et!==et}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(_e,et){if(He(_e,et))return!0;if(typeof _e!="object"||_e===null||typeof et!="object"||et===null)return!1;var tt=Object.keys(_e),nt=Object.keys(et);if(tt.length!==nt.length)return!1;for(nt=0;nt<tt.length;nt++){var rt=tt[nt];if(!ja.call(et,rt)||!He(_e[rt],et[rt]))return!1}return!0}function Je(_e){for(;_e&&_e.firstChild;)_e=_e.firstChild;return _e}function Ke(_e,et){var tt=Je(_e);_e=0;for(var nt;tt;){if(tt.nodeType===3){if(nt=_e+tt.textContent.length,_e<=et&&nt>=et)return{node:tt,offset:et-_e};_e=nt}e:{for(;tt;){if(tt.nextSibling){tt=tt.nextSibling;break e}tt=tt.parentNode}tt=void 0}tt=Je(tt)}}function Le(_e,et){return _e&&et?_e===et?!0:_e&&_e.nodeType===3?!1:et&&et.nodeType===3?Le(_e,et.parentNode):"contains"in _e?_e.contains(et):_e.compareDocumentPosition?!!(_e.compareDocumentPosition(et)&16):!1:!1}function Me(){for(var _e=window,et=Xa();et instanceof _e.HTMLIFrameElement;){try{var tt=typeof et.contentWindow.location.href=="string"}catch{tt=!1}if(tt)_e=et.contentWindow;else break;et=Xa(_e.document)}return et}function Ne(_e){var et=_e&&_e.nodeName&&_e.nodeName.toLowerCase();return et&&(et==="input"&&(_e.type==="text"||_e.type==="search"||_e.type==="tel"||_e.type==="url"||_e.type==="password")||et==="textarea"||_e.contentEditable==="true")}function Oe(_e){var et=Me(),tt=_e.focusedElem,nt=_e.selectionRange;if(et!==tt&&tt&&tt.ownerDocument&&Le(tt.ownerDocument.documentElement,tt)){if(nt!==null&&Ne(tt)){if(et=nt.start,_e=nt.end,_e===void 0&&(_e=et),"selectionStart"in tt)tt.selectionStart=et,tt.selectionEnd=Math.min(_e,tt.value.length);else if(_e=(et=tt.ownerDocument||document)&&et.defaultView||window,_e.getSelection){_e=_e.getSelection();var rt=tt.textContent.length,it=Math.min(nt.start,rt);nt=nt.end===void 0?it:Math.min(nt.end,rt),!_e.extend&&it>nt&&(rt=nt,nt=it,it=rt),rt=Ke(tt,it);var ot=Ke(tt,nt);rt&&ot&&(_e.rangeCount!==1||_e.anchorNode!==rt.node||_e.anchorOffset!==rt.offset||_e.focusNode!==ot.node||_e.focusOffset!==ot.offset)&&(et=et.createRange(),et.setStart(rt.node,rt.offset),_e.removeAllRanges(),it>nt?(_e.addRange(et),_e.extend(ot.node,ot.offset)):(et.setEnd(ot.node,ot.offset),_e.addRange(et)))}}for(et=[],_e=tt;_e=_e.parentNode;)_e.nodeType===1&&et.push({element:_e,left:_e.scrollLeft,top:_e.scrollTop});for(typeof tt.focus=="function"&&tt.focus(),tt=0;tt<et.length;tt++)_e=et[tt],_e.element.scrollLeft=_e.left,_e.element.scrollTop=_e.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(_e,et,tt){var nt=tt.window===tt?tt.document:tt.nodeType===9?tt:tt.ownerDocument;Te||Qe==null||Qe!==Xa(nt)||(nt=Qe,"selectionStart"in nt&&Ne(nt)?nt={start:nt.selectionStart,end:nt.selectionEnd}:(nt=(nt.ownerDocument&&nt.ownerDocument.defaultView||window).getSelection(),nt={anchorNode:nt.anchorNode,anchorOffset:nt.anchorOffset,focusNode:nt.focusNode,focusOffset:nt.focusOffset}),Se&&Ie(Se,nt)||(Se=nt,nt=oe(Re,"onSelect"),0<nt.length&&(et=new td("onSelect","select",null,et,tt),_e.push({event:et,listeners:nt}),et.target=Qe)))}function Ve(_e,et){var tt={};return tt[_e.toLowerCase()]=et.toLowerCase(),tt["Webkit"+_e]="webkit"+et,tt["Moz"+_e]="moz"+et,tt}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(_e){if(Xe[_e])return Xe[_e];if(!We[_e])return _e;var et=We[_e],tt;for(tt in et)if(et.hasOwnProperty(tt)&&tt in Ye)return Xe[_e]=et[tt];return _e}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(_e,et){df.set(_e,et),fa(et,[_e])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(_e,et,tt){var nt=_e.type||"unknown-event";_e.currentTarget=tt,Ub(nt,et,void 0,_e),_e.currentTarget=null}function se(_e,et){et=(et&4)!==0;for(var tt=0;tt<_e.length;tt++){var nt=_e[tt],rt=nt.event;nt=nt.listeners;e:{var it=void 0;if(et)for(var ot=nt.length-1;0<=ot;ot--){var st=nt[ot],ut=st.instance,ft=st.currentTarget;if(st=st.listener,ut!==it&&rt.isPropagationStopped())break e;nf(rt,st,ft),it=ut}else for(ot=0;ot<nt.length;ot++){if(st=nt[ot],ut=st.instance,ft=st.currentTarget,st=st.listener,ut!==it&&rt.isPropagationStopped())break e;nf(rt,st,ft),it=ut}}}if(Qb)throw _e=Rb,Qb=!1,Rb=null,_e}function D$1(_e,et){var tt=et[of];tt===void 0&&(tt=et[of]=new Set);var nt=_e+"__bubble";tt.has(nt)||(pf(et,_e,2,!1),tt.add(nt))}function qf(_e,et,tt){var nt=0;et&&(nt|=4),pf(tt,_e,nt,et)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(_e){if(!_e[rf]){_e[rf]=!0,da.forEach(function(tt){tt!=="selectionchange"&&(mf.has(tt)||qf(tt,!1,_e),qf(tt,!0,_e))});var et=_e.nodeType===9?_e:_e.ownerDocument;et===null||et[rf]||(et[rf]=!0,qf("selectionchange",!1,et))}}function pf(_e,et,tt,nt){switch(jd(et)){case 1:var rt=ed;break;case 4:rt=gd;break;default:rt=fd}tt=rt.bind(null,et,tt,_e),rt=void 0,!Lb||et!=="touchstart"&&et!=="touchmove"&&et!=="wheel"||(rt=!0),nt?rt!==void 0?_e.addEventListener(et,tt,{capture:!0,passive:rt}):_e.addEventListener(et,tt,!0):rt!==void 0?_e.addEventListener(et,tt,{passive:rt}):_e.addEventListener(et,tt,!1)}function hd(_e,et,tt,nt,rt){var it=nt;if(!(et&1)&&!(et&2)&&nt!==null)e:for(;;){if(nt===null)return;var ot=nt.tag;if(ot===3||ot===4){var st=nt.stateNode.containerInfo;if(st===rt||st.nodeType===8&&st.parentNode===rt)break;if(ot===4)for(ot=nt.return;ot!==null;){var ut=ot.tag;if((ut===3||ut===4)&&(ut=ot.stateNode.containerInfo,ut===rt||ut.nodeType===8&&ut.parentNode===rt))return;ot=ot.return}for(;st!==null;){if(ot=Wc(st),ot===null)return;if(ut=ot.tag,ut===5||ut===6){nt=it=ot;continue e}st=st.parentNode}}nt=nt.return}Jb(function(){var ft=it,dt=xb(tt),lt=[];e:{var at=df.get(_e);if(at!==void 0){var ct=td,ht=_e;switch(_e){case"keypress":if(od(tt)===0)break e;case"keydown":case"keyup":ct=Rd;break;case"focusin":ht="focus",ct=Fd;break;case"focusout":ht="blur",ct=Fd;break;case"beforeblur":case"afterblur":ct=Fd;break;case"click":if(tt.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ct=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ct=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ct=Vd;break;case $e:case af:case bf:ct=Hd;break;case cf:ct=Xd;break;case"scroll":ct=vd;break;case"wheel":ct=Zd;break;case"copy":case"cut":case"paste":ct=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ct=Td}var pt=(et&4)!==0,mt=!pt&&_e==="scroll",gt=pt?at!==null?at+"Capture":null:at;pt=[];for(var yt=ft,bt;yt!==null;){bt=yt;var xt=bt.stateNode;if(bt.tag===5&&xt!==null&&(bt=xt,gt!==null&&(xt=Kb(yt,gt),xt!=null&&pt.push(tf(yt,xt,bt)))),mt)break;yt=yt.return}0<pt.length&&(at=new ct(at,ht,null,tt,dt),lt.push({event:at,listeners:pt}))}}if(!(et&7)){e:{if(at=_e==="mouseover"||_e==="pointerover",ct=_e==="mouseout"||_e==="pointerout",at&&tt!==wb&&(ht=tt.relatedTarget||tt.fromElement)&&(Wc(ht)||ht[uf]))break e;if((ct||at)&&(at=dt.window===dt?dt:(at=dt.ownerDocument)?at.defaultView||at.parentWindow:window,ct?(ht=tt.relatedTarget||tt.toElement,ct=ft,ht=ht?Wc(ht):null,ht!==null&&(mt=Vb$1(ht),ht!==mt||ht.tag!==5&&ht.tag!==6)&&(ht=null)):(ct=null,ht=ft),ct!==ht)){if(pt=Bd,xt="onMouseLeave",gt="onMouseEnter",yt="mouse",(_e==="pointerout"||_e==="pointerover")&&(pt=Td,xt="onPointerLeave",gt="onPointerEnter",yt="pointer"),mt=ct==null?at:ue(ct),bt=ht==null?at:ue(ht),at=new pt(xt,yt+"leave",ct,tt,dt),at.target=mt,at.relatedTarget=bt,xt=null,Wc(dt)===ft&&(pt=new pt(gt,yt+"enter",ht,tt,dt),pt.target=bt,pt.relatedTarget=mt,xt=pt),mt=xt,ct&&ht)t:{for(pt=ct,gt=ht,yt=0,bt=pt;bt;bt=vf(bt))yt++;for(bt=0,xt=gt;xt;xt=vf(xt))bt++;for(;0<yt-bt;)pt=vf(pt),yt--;for(;0<bt-yt;)gt=vf(gt),bt--;for(;yt--;){if(pt===gt||gt!==null&&pt===gt.alternate)break t;pt=vf(pt),gt=vf(gt)}pt=null}else pt=null;ct!==null&&wf(lt,at,ct,pt,!1),ht!==null&&mt!==null&&wf(lt,mt,ht,pt,!0)}}e:{if(at=ft?ue(ft):window,ct=at.nodeName&&at.nodeName.toLowerCase(),ct==="select"||ct==="input"&&at.type==="file")var vt=ve;else if(me(at))if(we)vt=Fe;else{vt=De;var wt=Ce}else(ct=at.nodeName)&&ct.toLowerCase()==="input"&&(at.type==="checkbox"||at.type==="radio")&&(vt=Ee);if(vt&&(vt=vt(_e,ft))){ne(lt,vt,tt,dt);break e}wt&&wt(_e,at,ft),_e==="focusout"&&(wt=at._wrapperState)&&wt.controlled&&at.type==="number"&&cb(at,"number",at.value)}switch(wt=ft?ue(ft):window,_e){case"focusin":(me(wt)||wt.contentEditable==="true")&&(Qe=wt,Re=ft,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(lt,tt,dt);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(lt,tt,dt)}var _t;if(ae)e:{switch(_e){case"compositionstart":var Ct="onCompositionStart";break e;case"compositionend":Ct="onCompositionEnd";break e;case"compositionupdate":Ct="onCompositionUpdate";break e}Ct=void 0}else ie?ge(_e,tt)&&(Ct="onCompositionEnd"):_e==="keydown"&&tt.keyCode===229&&(Ct="onCompositionStart");Ct&&(de&&tt.locale!=="ko"&&(ie||Ct!=="onCompositionStart"?Ct==="onCompositionEnd"&&ie&&(_t=nd()):(kd=dt,ld="value"in kd?kd.value:kd.textContent,ie=!0)),wt=oe(ft,Ct),0<wt.length&&(Ct=new Ld(Ct,_e,null,tt,dt),lt.push({event:Ct,listeners:wt}),_t?Ct.data=_t:(_t=he(tt),_t!==null&&(Ct.data=_t)))),(_t=ce?je(_e,tt):ke(_e,tt))&&(ft=oe(ft,"onBeforeInput"),0<ft.length&&(dt=new Ld("onBeforeInput","beforeinput",null,tt,dt),lt.push({event:dt,listeners:ft}),dt.data=_t))}se(lt,et)})}function tf(_e,et,tt){return{instance:_e,listener:et,currentTarget:tt}}function oe(_e,et){for(var tt=et+"Capture",nt=[];_e!==null;){var rt=_e,it=rt.stateNode;rt.tag===5&&it!==null&&(rt=it,it=Kb(_e,tt),it!=null&&nt.unshift(tf(_e,it,rt)),it=Kb(_e,et),it!=null&&nt.push(tf(_e,it,rt))),_e=_e.return}return nt}function vf(_e){if(_e===null)return null;do _e=_e.return;while(_e&&_e.tag!==5);return _e||null}function wf(_e,et,tt,nt,rt){for(var it=et._reactName,ot=[];tt!==null&&tt!==nt;){var st=tt,ut=st.alternate,ft=st.stateNode;if(ut!==null&&ut===nt)break;st.tag===5&&ft!==null&&(st=ft,rt?(ut=Kb(tt,it),ut!=null&&ot.unshift(tf(tt,ut,st))):rt||(ut=Kb(tt,it),ut!=null&&ot.push(tf(tt,ut,st)))),tt=tt.return}ot.length!==0&&_e.push({event:et,listeners:ot})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(_e){return(typeof _e=="string"?_e:""+_e).replace(xf,`
`).replace(yf,"")}function Af(_e,et,tt){if(et=zf(et),zf(_e)!==et&&tt)throw Error(p$5(425))}function Bf(){}var Cf=null,Df=null;function Ef(_e,et){return _e==="textarea"||_e==="noscript"||typeof et.children=="string"||typeof et.children=="number"||typeof et.dangerouslySetInnerHTML=="object"&&et.dangerouslySetInnerHTML!==null&&et.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(_e){return Hf.resolve(null).then(_e).catch(If)}:Ff;function If(_e){setTimeout(function(){throw _e})}function Kf(_e,et){var tt=et,nt=0;do{var rt=tt.nextSibling;if(_e.removeChild(tt),rt&&rt.nodeType===8)if(tt=rt.data,tt==="/$"){if(nt===0){_e.removeChild(rt),bd(et);return}nt--}else tt!=="$"&&tt!=="$?"&&tt!=="$!"||nt++;tt=rt}while(tt);bd(et)}function Lf(_e){for(;_e!=null;_e=_e.nextSibling){var et=_e.nodeType;if(et===1||et===3)break;if(et===8){if(et=_e.data,et==="$"||et==="$!"||et==="$?")break;if(et==="/$")return null}}return _e}function Mf(_e){_e=_e.previousSibling;for(var et=0;_e;){if(_e.nodeType===8){var tt=_e.data;if(tt==="$"||tt==="$!"||tt==="$?"){if(et===0)return _e;et--}else tt==="/$"&&et++}_e=_e.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(_e){var et=_e[Of];if(et)return et;for(var tt=_e.parentNode;tt;){if(et=tt[uf]||tt[Of]){if(tt=et.alternate,et.child!==null||tt!==null&&tt.child!==null)for(_e=Mf(_e);_e!==null;){if(tt=_e[Of])return tt;_e=Mf(_e)}return et}_e=tt,tt=_e.parentNode}return null}function Cb(_e){return _e=_e[Of]||_e[uf],!_e||_e.tag!==5&&_e.tag!==6&&_e.tag!==13&&_e.tag!==3?null:_e}function ue(_e){if(_e.tag===5||_e.tag===6)return _e.stateNode;throw Error(p$5(33))}function Db(_e){return _e[Pf]||null}var Sf=[],Tf=-1;function Uf(_e){return{current:_e}}function E$1(_e){0>Tf||(_e.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$1(_e,et){Tf++,Sf[Tf]=_e.current,_e.current=et}var Vf={},H$1=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(_e,et){var tt=_e.type.contextTypes;if(!tt)return Vf;var nt=_e.stateNode;if(nt&&nt.__reactInternalMemoizedUnmaskedChildContext===et)return nt.__reactInternalMemoizedMaskedChildContext;var rt={},it;for(it in tt)rt[it]=et[it];return nt&&(_e=_e.stateNode,_e.__reactInternalMemoizedUnmaskedChildContext=et,_e.__reactInternalMemoizedMaskedChildContext=rt),rt}function Zf(_e){return _e=_e.childContextTypes,_e!=null}function $f(){E$1(Wf),E$1(H$1)}function ag(_e,et,tt){if(H$1.current!==Vf)throw Error(p$5(168));G$1(H$1,et),G$1(Wf,tt)}function bg(_e,et,tt){var nt=_e.stateNode;if(et=et.childContextTypes,typeof nt.getChildContext!="function")return tt;nt=nt.getChildContext();for(var rt in nt)if(!(rt in et))throw Error(p$5(108,Ra(_e)||"Unknown",rt));return A$1({},tt,nt)}function cg(_e){return _e=(_e=_e.stateNode)&&_e.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$1.current,G$1(H$1,_e),G$1(Wf,Wf.current),!0}function dg(_e,et,tt){var nt=_e.stateNode;if(!nt)throw Error(p$5(169));tt?(_e=bg(_e,et,Xf),nt.__reactInternalMemoizedMergedChildContext=_e,E$1(Wf),E$1(H$1),G$1(H$1,_e)):E$1(Wf),G$1(Wf,tt)}var eg=null,fg=!1,gg=!1;function hg(_e){eg===null?eg=[_e]:eg.push(_e)}function ig(_e){fg=!0,hg(_e)}function jg(){if(!gg&&eg!==null){gg=!0;var _e=0,et=C$1;try{var tt=eg;for(C$1=1;_e<tt.length;_e++){var nt=tt[_e];do nt=nt(!0);while(nt!==null)}eg=null,fg=!1}catch(rt){throw eg!==null&&(eg=eg.slice(_e+1)),ac(fc,jg),rt}finally{C$1=et,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(_e,et){kg[lg++]=ng,kg[lg++]=mg,mg=_e,ng=et}function ug(_e,et,tt){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=_e;var nt=rg;_e=sg;var rt=32-oc(nt)-1;nt&=~(1<<rt),tt+=1;var it=32-oc(et)+rt;if(30<it){var ot=rt-rt%5;it=(nt&(1<<ot)-1).toString(32),nt>>=ot,rt-=ot,rg=1<<32-oc(et)+rt|tt<<rt|nt,sg=it+_e}else rg=1<<it|tt<<rt|nt,sg=_e}function vg(_e){_e.return!==null&&(tg(_e,1),ug(_e,1,0))}function wg(_e){for(;_e===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;_e===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$1=!1,zg=null;function Ag(_e,et){var tt=Bg(5,null,null,0);tt.elementType="DELETED",tt.stateNode=et,tt.return=_e,et=_e.deletions,et===null?(_e.deletions=[tt],_e.flags|=16):et.push(tt)}function Cg(_e,et){switch(_e.tag){case 5:var tt=_e.type;return et=et.nodeType!==1||tt.toLowerCase()!==et.nodeName.toLowerCase()?null:et,et!==null?(_e.stateNode=et,xg=_e,yg=Lf(et.firstChild),!0):!1;case 6:return et=_e.pendingProps===""||et.nodeType!==3?null:et,et!==null?(_e.stateNode=et,xg=_e,yg=null,!0):!1;case 13:return et=et.nodeType!==8?null:et,et!==null?(tt=qg!==null?{id:rg,overflow:sg}:null,_e.memoizedState={dehydrated:et,treeContext:tt,retryLane:1073741824},tt=Bg(18,null,null,0),tt.stateNode=et,tt.return=_e,_e.child=tt,xg=_e,yg=null,!0):!1;default:return!1}}function Dg(_e){return(_e.mode&1)!==0&&(_e.flags&128)===0}function Eg(_e){if(I$1){var et=yg;if(et){var tt=et;if(!Cg(_e,et)){if(Dg(_e))throw Error(p$5(418));et=Lf(tt.nextSibling);var nt=xg;et&&Cg(_e,et)?Ag(nt,tt):(_e.flags=_e.flags&-4097|2,I$1=!1,xg=_e)}}else{if(Dg(_e))throw Error(p$5(418));_e.flags=_e.flags&-4097|2,I$1=!1,xg=_e}}}function Fg(_e){for(_e=_e.return;_e!==null&&_e.tag!==5&&_e.tag!==3&&_e.tag!==13;)_e=_e.return;xg=_e}function Gg(_e){if(_e!==xg)return!1;if(!I$1)return Fg(_e),I$1=!0,!1;var et;if((et=_e.tag!==3)&&!(et=_e.tag!==5)&&(et=_e.type,et=et!=="head"&&et!=="body"&&!Ef(_e.type,_e.memoizedProps)),et&&(et=yg)){if(Dg(_e))throw Hg(),Error(p$5(418));for(;et;)Ag(_e,et),et=Lf(et.nextSibling)}if(Fg(_e),_e.tag===13){if(_e=_e.memoizedState,_e=_e!==null?_e.dehydrated:null,!_e)throw Error(p$5(317));e:{for(_e=_e.nextSibling,et=0;_e;){if(_e.nodeType===8){var tt=_e.data;if(tt==="/$"){if(et===0){yg=Lf(_e.nextSibling);break e}et--}else tt!=="$"&&tt!=="$!"&&tt!=="$?"||et++}_e=_e.nextSibling}yg=null}}else yg=xg?Lf(_e.stateNode.nextSibling):null;return!0}function Hg(){for(var _e=yg;_e;)_e=Lf(_e.nextSibling)}function Ig(){yg=xg=null,I$1=!1}function Jg(_e){zg===null?zg=[_e]:zg.push(_e)}var Kg=ua.ReactCurrentBatchConfig;function Lg(_e,et,tt){if(_e=tt.ref,_e!==null&&typeof _e!="function"&&typeof _e!="object"){if(tt._owner){if(tt=tt._owner,tt){if(tt.tag!==1)throw Error(p$5(309));var nt=tt.stateNode}if(!nt)throw Error(p$5(147,_e));var rt=nt,it=""+_e;return et!==null&&et.ref!==null&&typeof et.ref=="function"&&et.ref._stringRef===it?et.ref:(et=function(ot){var st=rt.refs;ot===null?delete st[it]:st[it]=ot},et._stringRef=it,et)}if(typeof _e!="string")throw Error(p$5(284));if(!tt._owner)throw Error(p$5(290,_e))}return _e}function Mg(_e,et){throw _e=Object.prototype.toString.call(et),Error(p$5(31,_e==="[object Object]"?"object with keys {"+Object.keys(et).join(", ")+"}":_e))}function Ng(_e){var et=_e._init;return et(_e._payload)}function Og(_e){function et(gt,yt){if(_e){var bt=gt.deletions;bt===null?(gt.deletions=[yt],gt.flags|=16):bt.push(yt)}}function tt(gt,yt){if(!_e)return null;for(;yt!==null;)et(gt,yt),yt=yt.sibling;return null}function nt(gt,yt){for(gt=new Map;yt!==null;)yt.key!==null?gt.set(yt.key,yt):gt.set(yt.index,yt),yt=yt.sibling;return gt}function rt(gt,yt){return gt=Pg(gt,yt),gt.index=0,gt.sibling=null,gt}function it(gt,yt,bt){return gt.index=bt,_e?(bt=gt.alternate,bt!==null?(bt=bt.index,bt<yt?(gt.flags|=2,yt):bt):(gt.flags|=2,yt)):(gt.flags|=1048576,yt)}function ot(gt){return _e&&gt.alternate===null&&(gt.flags|=2),gt}function st(gt,yt,bt,xt){return yt===null||yt.tag!==6?(yt=Qg(bt,gt.mode,xt),yt.return=gt,yt):(yt=rt(yt,bt),yt.return=gt,yt)}function ut(gt,yt,bt,xt){var vt=bt.type;return vt===ya?dt(gt,yt,bt.props.children,xt,bt.key):yt!==null&&(yt.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===Ha&&Ng(vt)===yt.type)?(xt=rt(yt,bt.props),xt.ref=Lg(gt,yt,bt),xt.return=gt,xt):(xt=Rg(bt.type,bt.key,bt.props,null,gt.mode,xt),xt.ref=Lg(gt,yt,bt),xt.return=gt,xt)}function ft(gt,yt,bt,xt){return yt===null||yt.tag!==4||yt.stateNode.containerInfo!==bt.containerInfo||yt.stateNode.implementation!==bt.implementation?(yt=Sg(bt,gt.mode,xt),yt.return=gt,yt):(yt=rt(yt,bt.children||[]),yt.return=gt,yt)}function dt(gt,yt,bt,xt,vt){return yt===null||yt.tag!==7?(yt=Tg(bt,gt.mode,xt,vt),yt.return=gt,yt):(yt=rt(yt,bt),yt.return=gt,yt)}function lt(gt,yt,bt){if(typeof yt=="string"&&yt!==""||typeof yt=="number")return yt=Qg(""+yt,gt.mode,bt),yt.return=gt,yt;if(typeof yt=="object"&&yt!==null){switch(yt.$$typeof){case va:return bt=Rg(yt.type,yt.key,yt.props,null,gt.mode,bt),bt.ref=Lg(gt,null,yt),bt.return=gt,bt;case wa:return yt=Sg(yt,gt.mode,bt),yt.return=gt,yt;case Ha:var xt=yt._init;return lt(gt,xt(yt._payload),bt)}if(eb(yt)||Ka(yt))return yt=Tg(yt,gt.mode,bt,null),yt.return=gt,yt;Mg(gt,yt)}return null}function at(gt,yt,bt,xt){var vt=yt!==null?yt.key:null;if(typeof bt=="string"&&bt!==""||typeof bt=="number")return vt!==null?null:st(gt,yt,""+bt,xt);if(typeof bt=="object"&&bt!==null){switch(bt.$$typeof){case va:return bt.key===vt?ut(gt,yt,bt,xt):null;case wa:return bt.key===vt?ft(gt,yt,bt,xt):null;case Ha:return vt=bt._init,at(gt,yt,vt(bt._payload),xt)}if(eb(bt)||Ka(bt))return vt!==null?null:dt(gt,yt,bt,xt,null);Mg(gt,bt)}return null}function ct(gt,yt,bt,xt,vt){if(typeof xt=="string"&&xt!==""||typeof xt=="number")return gt=gt.get(bt)||null,st(yt,gt,""+xt,vt);if(typeof xt=="object"&&xt!==null){switch(xt.$$typeof){case va:return gt=gt.get(xt.key===null?bt:xt.key)||null,ut(yt,gt,xt,vt);case wa:return gt=gt.get(xt.key===null?bt:xt.key)||null,ft(yt,gt,xt,vt);case Ha:var wt=xt._init;return ct(gt,yt,bt,wt(xt._payload),vt)}if(eb(xt)||Ka(xt))return gt=gt.get(bt)||null,dt(yt,gt,xt,vt,null);Mg(yt,xt)}return null}function ht(gt,yt,bt,xt){for(var vt=null,wt=null,_t=yt,Ct=yt=0,Et=null;_t!==null&&Ct<bt.length;Ct++){_t.index>Ct?(Et=_t,_t=null):Et=_t.sibling;var $t=at(gt,_t,bt[Ct],xt);if($t===null){_t===null&&(_t=Et);break}_e&&_t&&$t.alternate===null&&et(gt,_t),yt=it($t,yt,Ct),wt===null?vt=$t:wt.sibling=$t,wt=$t,_t=Et}if(Ct===bt.length)return tt(gt,_t),I$1&&tg(gt,Ct),vt;if(_t===null){for(;Ct<bt.length;Ct++)_t=lt(gt,bt[Ct],xt),_t!==null&&(yt=it(_t,yt,Ct),wt===null?vt=_t:wt.sibling=_t,wt=_t);return I$1&&tg(gt,Ct),vt}for(_t=nt(gt,_t);Ct<bt.length;Ct++)Et=ct(_t,gt,Ct,bt[Ct],xt),Et!==null&&(_e&&Et.alternate!==null&&_t.delete(Et.key===null?Ct:Et.key),yt=it(Et,yt,Ct),wt===null?vt=Et:wt.sibling=Et,wt=Et);return _e&&_t.forEach(function(jt){return et(gt,jt)}),I$1&&tg(gt,Ct),vt}function pt(gt,yt,bt,xt){var vt=Ka(bt);if(typeof vt!="function")throw Error(p$5(150));if(bt=vt.call(bt),bt==null)throw Error(p$5(151));for(var wt=vt=null,_t=yt,Ct=yt=0,Et=null,$t=bt.next();_t!==null&&!$t.done;Ct++,$t=bt.next()){_t.index>Ct?(Et=_t,_t=null):Et=_t.sibling;var jt=at(gt,_t,$t.value,xt);if(jt===null){_t===null&&(_t=Et);break}_e&&_t&&jt.alternate===null&&et(gt,_t),yt=it(jt,yt,Ct),wt===null?vt=jt:wt.sibling=jt,wt=jt,_t=Et}if($t.done)return tt(gt,_t),I$1&&tg(gt,Ct),vt;if(_t===null){for(;!$t.done;Ct++,$t=bt.next())$t=lt(gt,$t.value,xt),$t!==null&&(yt=it($t,yt,Ct),wt===null?vt=$t:wt.sibling=$t,wt=$t);return I$1&&tg(gt,Ct),vt}for(_t=nt(gt,_t);!$t.done;Ct++,$t=bt.next())$t=ct(_t,gt,Ct,$t.value,xt),$t!==null&&(_e&&$t.alternate!==null&&_t.delete($t.key===null?Ct:$t.key),yt=it($t,yt,Ct),wt===null?vt=$t:wt.sibling=$t,wt=$t);return _e&&_t.forEach(function(Dt){return et(gt,Dt)}),I$1&&tg(gt,Ct),vt}function mt(gt,yt,bt,xt){if(typeof bt=="object"&&bt!==null&&bt.type===ya&&bt.key===null&&(bt=bt.props.children),typeof bt=="object"&&bt!==null){switch(bt.$$typeof){case va:e:{for(var vt=bt.key,wt=yt;wt!==null;){if(wt.key===vt){if(vt=bt.type,vt===ya){if(wt.tag===7){tt(gt,wt.sibling),yt=rt(wt,bt.props.children),yt.return=gt,gt=yt;break e}}else if(wt.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===Ha&&Ng(vt)===wt.type){tt(gt,wt.sibling),yt=rt(wt,bt.props),yt.ref=Lg(gt,wt,bt),yt.return=gt,gt=yt;break e}tt(gt,wt);break}else et(gt,wt);wt=wt.sibling}bt.type===ya?(yt=Tg(bt.props.children,gt.mode,xt,bt.key),yt.return=gt,gt=yt):(xt=Rg(bt.type,bt.key,bt.props,null,gt.mode,xt),xt.ref=Lg(gt,yt,bt),xt.return=gt,gt=xt)}return ot(gt);case wa:e:{for(wt=bt.key;yt!==null;){if(yt.key===wt)if(yt.tag===4&&yt.stateNode.containerInfo===bt.containerInfo&&yt.stateNode.implementation===bt.implementation){tt(gt,yt.sibling),yt=rt(yt,bt.children||[]),yt.return=gt,gt=yt;break e}else{tt(gt,yt);break}else et(gt,yt);yt=yt.sibling}yt=Sg(bt,gt.mode,xt),yt.return=gt,gt=yt}return ot(gt);case Ha:return wt=bt._init,mt(gt,yt,wt(bt._payload),xt)}if(eb(bt))return ht(gt,yt,bt,xt);if(Ka(bt))return pt(gt,yt,bt,xt);Mg(gt,bt)}return typeof bt=="string"&&bt!==""||typeof bt=="number"?(bt=""+bt,yt!==null&&yt.tag===6?(tt(gt,yt.sibling),yt=rt(yt,bt),yt.return=gt,gt=yt):(tt(gt,yt),yt=Qg(bt,gt.mode,xt),yt.return=gt,gt=yt),ot(gt)):tt(gt,yt)}return mt}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(_e){var et=Wg.current;E$1(Wg),_e._currentValue=et}function bh(_e,et,tt){for(;_e!==null;){var nt=_e.alternate;if((_e.childLanes&et)!==et?(_e.childLanes|=et,nt!==null&&(nt.childLanes|=et)):nt!==null&&(nt.childLanes&et)!==et&&(nt.childLanes|=et),_e===tt)break;_e=_e.return}}function ch(_e,et){Xg=_e,Zg=Yg=null,_e=_e.dependencies,_e!==null&&_e.firstContext!==null&&(_e.lanes&et&&(dh=!0),_e.firstContext=null)}function eh(_e){var et=_e._currentValue;if(Zg!==_e)if(_e={context:_e,memoizedValue:et,next:null},Yg===null){if(Xg===null)throw Error(p$5(308));Yg=_e,Xg.dependencies={lanes:0,firstContext:_e}}else Yg=Yg.next=_e;return et}var fh=null;function gh(_e){fh===null?fh=[_e]:fh.push(_e)}function hh(_e,et,tt,nt){var rt=et.interleaved;return rt===null?(tt.next=tt,gh(et)):(tt.next=rt.next,rt.next=tt),et.interleaved=tt,ih(_e,nt)}function ih(_e,et){_e.lanes|=et;var tt=_e.alternate;for(tt!==null&&(tt.lanes|=et),tt=_e,_e=_e.return;_e!==null;)_e.childLanes|=et,tt=_e.alternate,tt!==null&&(tt.childLanes|=et),tt=_e,_e=_e.return;return tt.tag===3?tt.stateNode:null}var jh=!1;function kh(_e){_e.updateQueue={baseState:_e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(_e,et){_e=_e.updateQueue,et.updateQueue===_e&&(et.updateQueue={baseState:_e.baseState,firstBaseUpdate:_e.firstBaseUpdate,lastBaseUpdate:_e.lastBaseUpdate,shared:_e.shared,effects:_e.effects})}function mh(_e,et){return{eventTime:_e,lane:et,tag:0,payload:null,callback:null,next:null}}function nh(_e,et,tt){var nt=_e.updateQueue;if(nt===null)return null;if(nt=nt.shared,K&2){var rt=nt.pending;return rt===null?et.next=et:(et.next=rt.next,rt.next=et),nt.pending=et,ih(_e,tt)}return rt=nt.interleaved,rt===null?(et.next=et,gh(nt)):(et.next=rt.next,rt.next=et),nt.interleaved=et,ih(_e,tt)}function oh(_e,et,tt){if(et=et.updateQueue,et!==null&&(et=et.shared,(tt&4194240)!==0)){var nt=et.lanes;nt&=_e.pendingLanes,tt|=nt,et.lanes=tt,Cc$1(_e,tt)}}function ph(_e,et){var tt=_e.updateQueue,nt=_e.alternate;if(nt!==null&&(nt=nt.updateQueue,tt===nt)){var rt=null,it=null;if(tt=tt.firstBaseUpdate,tt!==null){do{var ot={eventTime:tt.eventTime,lane:tt.lane,tag:tt.tag,payload:tt.payload,callback:tt.callback,next:null};it===null?rt=it=ot:it=it.next=ot,tt=tt.next}while(tt!==null);it===null?rt=it=et:it=it.next=et}else rt=it=et;tt={baseState:nt.baseState,firstBaseUpdate:rt,lastBaseUpdate:it,shared:nt.shared,effects:nt.effects},_e.updateQueue=tt;return}_e=tt.lastBaseUpdate,_e===null?tt.firstBaseUpdate=et:_e.next=et,tt.lastBaseUpdate=et}function qh(_e,et,tt,nt){var rt=_e.updateQueue;jh=!1;var it=rt.firstBaseUpdate,ot=rt.lastBaseUpdate,st=rt.shared.pending;if(st!==null){rt.shared.pending=null;var ut=st,ft=ut.next;ut.next=null,ot===null?it=ft:ot.next=ft,ot=ut;var dt=_e.alternate;dt!==null&&(dt=dt.updateQueue,st=dt.lastBaseUpdate,st!==ot&&(st===null?dt.firstBaseUpdate=ft:st.next=ft,dt.lastBaseUpdate=ut))}if(it!==null){var lt=rt.baseState;ot=0,dt=ft=ut=null,st=it;do{var at=st.lane,ct=st.eventTime;if((nt&at)===at){dt!==null&&(dt=dt.next={eventTime:ct,lane:0,tag:st.tag,payload:st.payload,callback:st.callback,next:null});e:{var ht=_e,pt=st;switch(at=et,ct=tt,pt.tag){case 1:if(ht=pt.payload,typeof ht=="function"){lt=ht.call(ct,lt,at);break e}lt=ht;break e;case 3:ht.flags=ht.flags&-65537|128;case 0:if(ht=pt.payload,at=typeof ht=="function"?ht.call(ct,lt,at):ht,at==null)break e;lt=A$1({},lt,at);break e;case 2:jh=!0}}st.callback!==null&&st.lane!==0&&(_e.flags|=64,at=rt.effects,at===null?rt.effects=[st]:at.push(st))}else ct={eventTime:ct,lane:at,tag:st.tag,payload:st.payload,callback:st.callback,next:null},dt===null?(ft=dt=ct,ut=lt):dt=dt.next=ct,ot|=at;if(st=st.next,st===null){if(st=rt.shared.pending,st===null)break;at=st,st=at.next,at.next=null,rt.lastBaseUpdate=at,rt.shared.pending=null}}while(!0);if(dt===null&&(ut=lt),rt.baseState=ut,rt.firstBaseUpdate=ft,rt.lastBaseUpdate=dt,et=rt.shared.interleaved,et!==null){rt=et;do ot|=rt.lane,rt=rt.next;while(rt!==et)}else it===null&&(rt.shared.lanes=0);rh|=ot,_e.lanes=ot,_e.memoizedState=lt}}function sh(_e,et,tt){if(_e=et.effects,et.effects=null,_e!==null)for(et=0;et<_e.length;et++){var nt=_e[et],rt=nt.callback;if(rt!==null){if(nt.callback=null,nt=tt,typeof rt!="function")throw Error(p$5(191,rt));rt.call(nt)}}}var th={},uh=Uf(th),vh=Uf(th),wh=Uf(th);function xh(_e){if(_e===th)throw Error(p$5(174));return _e}function yh(_e,et){switch(G$1(wh,et),G$1(vh,_e),G$1(uh,th),_e=et.nodeType,_e){case 9:case 11:et=(et=et.documentElement)?et.namespaceURI:lb(null,"");break;default:_e=_e===8?et.parentNode:et,et=_e.namespaceURI||null,_e=_e.tagName,et=lb(et,_e)}E$1(uh),G$1(uh,et)}function zh(){E$1(uh),E$1(vh),E$1(wh)}function Ah(_e){xh(wh.current);var et=xh(uh.current),tt=lb(et,_e.type);et!==tt&&(G$1(vh,_e),G$1(uh,tt))}function Bh(_e){vh.current===_e&&(E$1(uh),E$1(vh))}var L$1=Uf(0);function Ch(_e){for(var et=_e;et!==null;){if(et.tag===13){var tt=et.memoizedState;if(tt!==null&&(tt=tt.dehydrated,tt===null||tt.data==="$?"||tt.data==="$!"))return et}else if(et.tag===19&&et.memoizedProps.revealOrder!==void 0){if(et.flags&128)return et}else if(et.child!==null){et.child.return=et,et=et.child;continue}if(et===_e)break;for(;et.sibling===null;){if(et.return===null||et.return===_e)return null;et=et.return}et.sibling.return=et.return,et=et.sibling}return null}var Dh=[];function Eh(){for(var _e=0;_e<Dh.length;_e++)Dh[_e]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M$1=null,N$1=null,O$1=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P$2(){throw Error(p$5(321))}function Mh(_e,et){if(et===null)return!1;for(var tt=0;tt<et.length&&tt<_e.length;tt++)if(!He(_e[tt],et[tt]))return!1;return!0}function Nh(_e,et,tt,nt,rt,it){if(Hh=it,M$1=et,et.memoizedState=null,et.updateQueue=null,et.lanes=0,Fh.current=_e===null||_e.memoizedState===null?Oh:Ph,_e=tt(nt,rt),Jh){it=0;do{if(Jh=!1,Kh=0,25<=it)throw Error(p$5(301));it+=1,O$1=N$1=null,et.updateQueue=null,Fh.current=Qh,_e=tt(nt,rt)}while(Jh)}if(Fh.current=Rh,et=N$1!==null&&N$1.next!==null,Hh=0,O$1=N$1=M$1=null,Ih=!1,et)throw Error(p$5(300));return _e}function Sh(){var _e=Kh!==0;return Kh=0,_e}function Th(){var _e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O$1===null?M$1.memoizedState=O$1=_e:O$1=O$1.next=_e,O$1}function Uh(){if(N$1===null){var _e=M$1.alternate;_e=_e!==null?_e.memoizedState:null}else _e=N$1.next;var et=O$1===null?M$1.memoizedState:O$1.next;if(et!==null)O$1=et,N$1=_e;else{if(_e===null)throw Error(p$5(310));N$1=_e,_e={memoizedState:N$1.memoizedState,baseState:N$1.baseState,baseQueue:N$1.baseQueue,queue:N$1.queue,next:null},O$1===null?M$1.memoizedState=O$1=_e:O$1=O$1.next=_e}return O$1}function Vh(_e,et){return typeof et=="function"?et(_e):et}function Wh(_e){var et=Uh(),tt=et.queue;if(tt===null)throw Error(p$5(311));tt.lastRenderedReducer=_e;var nt=N$1,rt=nt.baseQueue,it=tt.pending;if(it!==null){if(rt!==null){var ot=rt.next;rt.next=it.next,it.next=ot}nt.baseQueue=rt=it,tt.pending=null}if(rt!==null){it=rt.next,nt=nt.baseState;var st=ot=null,ut=null,ft=it;do{var dt=ft.lane;if((Hh&dt)===dt)ut!==null&&(ut=ut.next={lane:0,action:ft.action,hasEagerState:ft.hasEagerState,eagerState:ft.eagerState,next:null}),nt=ft.hasEagerState?ft.eagerState:_e(nt,ft.action);else{var lt={lane:dt,action:ft.action,hasEagerState:ft.hasEagerState,eagerState:ft.eagerState,next:null};ut===null?(st=ut=lt,ot=nt):ut=ut.next=lt,M$1.lanes|=dt,rh|=dt}ft=ft.next}while(ft!==null&&ft!==it);ut===null?ot=nt:ut.next=st,He(nt,et.memoizedState)||(dh=!0),et.memoizedState=nt,et.baseState=ot,et.baseQueue=ut,tt.lastRenderedState=nt}if(_e=tt.interleaved,_e!==null){rt=_e;do it=rt.lane,M$1.lanes|=it,rh|=it,rt=rt.next;while(rt!==_e)}else rt===null&&(tt.lanes=0);return[et.memoizedState,tt.dispatch]}function Xh(_e){var et=Uh(),tt=et.queue;if(tt===null)throw Error(p$5(311));tt.lastRenderedReducer=_e;var nt=tt.dispatch,rt=tt.pending,it=et.memoizedState;if(rt!==null){tt.pending=null;var ot=rt=rt.next;do it=_e(it,ot.action),ot=ot.next;while(ot!==rt);He(it,et.memoizedState)||(dh=!0),et.memoizedState=it,et.baseQueue===null&&(et.baseState=it),tt.lastRenderedState=it}return[it,nt]}function Yh(){}function Zh(_e,et){var tt=M$1,nt=Uh(),rt=et(),it=!He(nt.memoizedState,rt);if(it&&(nt.memoizedState=rt,dh=!0),nt=nt.queue,$h(ai.bind(null,tt,nt,_e),[_e]),nt.getSnapshot!==et||it||O$1!==null&&O$1.memoizedState.tag&1){if(tt.flags|=2048,bi(9,ci.bind(null,tt,nt,rt,et),void 0,null),Q===null)throw Error(p$5(349));Hh&30||di(tt,et,rt)}return rt}function di(_e,et,tt){_e.flags|=16384,_e={getSnapshot:et,value:tt},et=M$1.updateQueue,et===null?(et={lastEffect:null,stores:null},M$1.updateQueue=et,et.stores=[_e]):(tt=et.stores,tt===null?et.stores=[_e]:tt.push(_e))}function ci(_e,et,tt,nt){et.value=tt,et.getSnapshot=nt,ei(et)&&fi(_e)}function ai(_e,et,tt){return tt(function(){ei(et)&&fi(_e)})}function ei(_e){var et=_e.getSnapshot;_e=_e.value;try{var tt=et();return!He(_e,tt)}catch{return!0}}function fi(_e){var et=ih(_e,1);et!==null&&gi(et,_e,1,-1)}function hi(_e){var et=Th();return typeof _e=="function"&&(_e=_e()),et.memoizedState=et.baseState=_e,_e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:_e},et.queue=_e,_e=_e.dispatch=ii.bind(null,M$1,_e),[et.memoizedState,_e]}function bi(_e,et,tt,nt){return _e={tag:_e,create:et,destroy:tt,deps:nt,next:null},et=M$1.updateQueue,et===null?(et={lastEffect:null,stores:null},M$1.updateQueue=et,et.lastEffect=_e.next=_e):(tt=et.lastEffect,tt===null?et.lastEffect=_e.next=_e:(nt=tt.next,tt.next=_e,_e.next=nt,et.lastEffect=_e)),_e}function ji(){return Uh().memoizedState}function ki(_e,et,tt,nt){var rt=Th();M$1.flags|=_e,rt.memoizedState=bi(1|et,tt,void 0,nt===void 0?null:nt)}function li(_e,et,tt,nt){var rt=Uh();nt=nt===void 0?null:nt;var it=void 0;if(N$1!==null){var ot=N$1.memoizedState;if(it=ot.destroy,nt!==null&&Mh(nt,ot.deps)){rt.memoizedState=bi(et,tt,it,nt);return}}M$1.flags|=_e,rt.memoizedState=bi(1|et,tt,it,nt)}function mi(_e,et){return ki(8390656,8,_e,et)}function $h(_e,et){return li(2048,8,_e,et)}function ni(_e,et){return li(4,2,_e,et)}function oi(_e,et){return li(4,4,_e,et)}function pi$1(_e,et){if(typeof et=="function")return _e=_e(),et(_e),function(){et(null)};if(et!=null)return _e=_e(),et.current=_e,function(){et.current=null}}function qi(_e,et,tt){return tt=tt!=null?tt.concat([_e]):null,li(4,4,pi$1.bind(null,et,_e),tt)}function ri(){}function si(_e,et){var tt=Uh();et=et===void 0?null:et;var nt=tt.memoizedState;return nt!==null&&et!==null&&Mh(et,nt[1])?nt[0]:(tt.memoizedState=[_e,et],_e)}function ti(_e,et){var tt=Uh();et=et===void 0?null:et;var nt=tt.memoizedState;return nt!==null&&et!==null&&Mh(et,nt[1])?nt[0]:(_e=_e(),tt.memoizedState=[_e,et],_e)}function ui(_e,et,tt){return Hh&21?(He(tt,et)||(tt=yc(),M$1.lanes|=tt,rh|=tt,_e.baseState=!0),et):(_e.baseState&&(_e.baseState=!1,dh=!0),_e.memoizedState=tt)}function vi(_e,et){var tt=C$1;C$1=tt!==0&&4>tt?tt:4,_e(!0);var nt=Gh.transition;Gh.transition={};try{_e(!1),et()}finally{C$1=tt,Gh.transition=nt}}function wi(){return Uh().memoizedState}function xi(_e,et,tt){var nt=yi(_e);if(tt={lane:nt,action:tt,hasEagerState:!1,eagerState:null,next:null},zi(_e))Ai(et,tt);else if(tt=hh(_e,et,tt,nt),tt!==null){var rt=R$1();gi(tt,_e,nt,rt),Bi(tt,et,nt)}}function ii(_e,et,tt){var nt=yi(_e),rt={lane:nt,action:tt,hasEagerState:!1,eagerState:null,next:null};if(zi(_e))Ai(et,rt);else{var it=_e.alternate;if(_e.lanes===0&&(it===null||it.lanes===0)&&(it=et.lastRenderedReducer,it!==null))try{var ot=et.lastRenderedState,st=it(ot,tt);if(rt.hasEagerState=!0,rt.eagerState=st,He(st,ot)){var ut=et.interleaved;ut===null?(rt.next=rt,gh(et)):(rt.next=ut.next,ut.next=rt),et.interleaved=rt;return}}catch{}finally{}tt=hh(_e,et,rt,nt),tt!==null&&(rt=R$1(),gi(tt,_e,nt,rt),Bi(tt,et,nt))}}function zi(_e){var et=_e.alternate;return _e===M$1||et!==null&&et===M$1}function Ai(_e,et){Jh=Ih=!0;var tt=_e.pending;tt===null?et.next=et:(et.next=tt.next,tt.next=et),_e.pending=et}function Bi(_e,et,tt){if(tt&4194240){var nt=et.lanes;nt&=_e.pendingLanes,tt|=nt,et.lanes=tt,Cc$1(_e,tt)}}var Rh={readContext:eh,useCallback:P$2,useContext:P$2,useEffect:P$2,useImperativeHandle:P$2,useInsertionEffect:P$2,useLayoutEffect:P$2,useMemo:P$2,useReducer:P$2,useRef:P$2,useState:P$2,useDebugValue:P$2,useDeferredValue:P$2,useTransition:P$2,useMutableSource:P$2,useSyncExternalStore:P$2,useId:P$2,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(_e,et){return Th().memoizedState=[_e,et===void 0?null:et],_e},useContext:eh,useEffect:mi,useImperativeHandle:function(_e,et,tt){return tt=tt!=null?tt.concat([_e]):null,ki(4194308,4,pi$1.bind(null,et,_e),tt)},useLayoutEffect:function(_e,et){return ki(4194308,4,_e,et)},useInsertionEffect:function(_e,et){return ki(4,2,_e,et)},useMemo:function(_e,et){var tt=Th();return et=et===void 0?null:et,_e=_e(),tt.memoizedState=[_e,et],_e},useReducer:function(_e,et,tt){var nt=Th();return et=tt!==void 0?tt(et):et,nt.memoizedState=nt.baseState=et,_e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_e,lastRenderedState:et},nt.queue=_e,_e=_e.dispatch=xi.bind(null,M$1,_e),[nt.memoizedState,_e]},useRef:function(_e){var et=Th();return _e={current:_e},et.memoizedState=_e},useState:hi,useDebugValue:ri,useDeferredValue:function(_e){return Th().memoizedState=_e},useTransition:function(){var _e=hi(!1),et=_e[0];return _e=vi.bind(null,_e[1]),Th().memoizedState=_e,[et,_e]},useMutableSource:function(){},useSyncExternalStore:function(_e,et,tt){var nt=M$1,rt=Th();if(I$1){if(tt===void 0)throw Error(p$5(407));tt=tt()}else{if(tt=et(),Q===null)throw Error(p$5(349));Hh&30||di(nt,et,tt)}rt.memoizedState=tt;var it={value:tt,getSnapshot:et};return rt.queue=it,mi(ai.bind(null,nt,it,_e),[_e]),nt.flags|=2048,bi(9,ci.bind(null,nt,it,tt,et),void 0,null),tt},useId:function(){var _e=Th(),et=Q.identifierPrefix;if(I$1){var tt=sg,nt=rg;tt=(nt&~(1<<32-oc(nt)-1)).toString(32)+tt,et=":"+et+"R"+tt,tt=Kh++,0<tt&&(et+="H"+tt.toString(32)),et+=":"}else tt=Lh++,et=":"+et+"r"+tt.toString(32)+":";return _e.memoizedState=et},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(_e){var et=Uh();return ui(et,N$1.memoizedState,_e)},useTransition:function(){var _e=Wh(Vh)[0],et=Uh().memoizedState;return[_e,et]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(_e){var et=Uh();return N$1===null?et.memoizedState=_e:ui(et,N$1.memoizedState,_e)},useTransition:function(){var _e=Xh(Vh)[0],et=Uh().memoizedState;return[_e,et]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(_e,et){if(_e&&_e.defaultProps){et=A$1({},et),_e=_e.defaultProps;for(var tt in _e)et[tt]===void 0&&(et[tt]=_e[tt]);return et}return et}function Di(_e,et,tt,nt){et=_e.memoizedState,tt=tt(nt,et),tt=tt==null?et:A$1({},et,tt),_e.memoizedState=tt,_e.lanes===0&&(_e.updateQueue.baseState=tt)}var Ei={isMounted:function(_e){return(_e=_e._reactInternals)?Vb$1(_e)===_e:!1},enqueueSetState:function(_e,et,tt){_e=_e._reactInternals;var nt=R$1(),rt=yi(_e),it=mh(nt,rt);it.payload=et,tt!=null&&(it.callback=tt),et=nh(_e,it,rt),et!==null&&(gi(et,_e,rt,nt),oh(et,_e,rt))},enqueueReplaceState:function(_e,et,tt){_e=_e._reactInternals;var nt=R$1(),rt=yi(_e),it=mh(nt,rt);it.tag=1,it.payload=et,tt!=null&&(it.callback=tt),et=nh(_e,it,rt),et!==null&&(gi(et,_e,rt,nt),oh(et,_e,rt))},enqueueForceUpdate:function(_e,et){_e=_e._reactInternals;var tt=R$1(),nt=yi(_e),rt=mh(tt,nt);rt.tag=2,et!=null&&(rt.callback=et),et=nh(_e,rt,nt),et!==null&&(gi(et,_e,nt,tt),oh(et,_e,nt))}};function Fi(_e,et,tt,nt,rt,it,ot){return _e=_e.stateNode,typeof _e.shouldComponentUpdate=="function"?_e.shouldComponentUpdate(nt,it,ot):et.prototype&&et.prototype.isPureReactComponent?!Ie(tt,nt)||!Ie(rt,it):!0}function Gi(_e,et,tt){var nt=!1,rt=Vf,it=et.contextType;return typeof it=="object"&&it!==null?it=eh(it):(rt=Zf(et)?Xf:H$1.current,nt=et.contextTypes,it=(nt=nt!=null)?Yf(_e,rt):Vf),et=new et(tt,it),_e.memoizedState=et.state!==null&&et.state!==void 0?et.state:null,et.updater=Ei,_e.stateNode=et,et._reactInternals=_e,nt&&(_e=_e.stateNode,_e.__reactInternalMemoizedUnmaskedChildContext=rt,_e.__reactInternalMemoizedMaskedChildContext=it),et}function Hi(_e,et,tt,nt){_e=et.state,typeof et.componentWillReceiveProps=="function"&&et.componentWillReceiveProps(tt,nt),typeof et.UNSAFE_componentWillReceiveProps=="function"&&et.UNSAFE_componentWillReceiveProps(tt,nt),et.state!==_e&&Ei.enqueueReplaceState(et,et.state,null)}function Ii(_e,et,tt,nt){var rt=_e.stateNode;rt.props=tt,rt.state=_e.memoizedState,rt.refs={},kh(_e);var it=et.contextType;typeof it=="object"&&it!==null?rt.context=eh(it):(it=Zf(et)?Xf:H$1.current,rt.context=Yf(_e,it)),rt.state=_e.memoizedState,it=et.getDerivedStateFromProps,typeof it=="function"&&(Di(_e,et,it,tt),rt.state=_e.memoizedState),typeof et.getDerivedStateFromProps=="function"||typeof rt.getSnapshotBeforeUpdate=="function"||typeof rt.UNSAFE_componentWillMount!="function"&&typeof rt.componentWillMount!="function"||(et=rt.state,typeof rt.componentWillMount=="function"&&rt.componentWillMount(),typeof rt.UNSAFE_componentWillMount=="function"&&rt.UNSAFE_componentWillMount(),et!==rt.state&&Ei.enqueueReplaceState(rt,rt.state,null),qh(_e,tt,rt,nt),rt.state=_e.memoizedState),typeof rt.componentDidMount=="function"&&(_e.flags|=4194308)}function Ji(_e,et){try{var tt="",nt=et;do tt+=Pa(nt),nt=nt.return;while(nt);var rt=tt}catch(it){rt=`
Error generating stack: `+it.message+`
`+it.stack}return{value:_e,source:et,stack:rt,digest:null}}function Ki(_e,et,tt){return{value:_e,source:null,stack:tt??null,digest:et??null}}function Li(_e,et){try{console.error(et.value)}catch(tt){setTimeout(function(){throw tt})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(_e,et,tt){tt=mh(-1,tt),tt.tag=3,tt.payload={element:null};var nt=et.value;return tt.callback=function(){Oi||(Oi=!0,Pi=nt),Li(_e,et)},tt}function Qi(_e,et,tt){tt=mh(-1,tt),tt.tag=3;var nt=_e.type.getDerivedStateFromError;if(typeof nt=="function"){var rt=et.value;tt.payload=function(){return nt(rt)},tt.callback=function(){Li(_e,et)}}var it=_e.stateNode;return it!==null&&typeof it.componentDidCatch=="function"&&(tt.callback=function(){Li(_e,et),typeof nt!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var ot=et.stack;this.componentDidCatch(et.value,{componentStack:ot!==null?ot:""})}),tt}function Si(_e,et,tt){var nt=_e.pingCache;if(nt===null){nt=_e.pingCache=new Mi;var rt=new Set;nt.set(et,rt)}else rt=nt.get(et),rt===void 0&&(rt=new Set,nt.set(et,rt));rt.has(tt)||(rt.add(tt),_e=Ti.bind(null,_e,et,tt),et.then(_e,_e))}function Ui(_e){do{var et;if((et=_e.tag===13)&&(et=_e.memoizedState,et=et!==null?et.dehydrated!==null:!0),et)return _e;_e=_e.return}while(_e!==null);return null}function Vi(_e,et,tt,nt,rt){return _e.mode&1?(_e.flags|=65536,_e.lanes=rt,_e):(_e===et?_e.flags|=65536:(_e.flags|=128,tt.flags|=131072,tt.flags&=-52805,tt.tag===1&&(tt.alternate===null?tt.tag=17:(et=mh(-1,1),et.tag=2,nh(tt,et,1))),tt.lanes|=1),_e)}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(_e,et,tt,nt){et.child=_e===null?Vg(et,null,tt,nt):Ug(et,_e.child,tt,nt)}function Yi(_e,et,tt,nt,rt){tt=tt.render;var it=et.ref;return ch(et,rt),nt=Nh(_e,et,tt,nt,it,rt),tt=Sh(),_e!==null&&!dh?(et.updateQueue=_e.updateQueue,et.flags&=-2053,_e.lanes&=~rt,Zi(_e,et,rt)):(I$1&&tt&&vg(et),et.flags|=1,Xi(_e,et,nt,rt),et.child)}function $i(_e,et,tt,nt,rt){if(_e===null){var it=tt.type;return typeof it=="function"&&!aj(it)&&it.defaultProps===void 0&&tt.compare===null&&tt.defaultProps===void 0?(et.tag=15,et.type=it,bj(_e,et,it,nt,rt)):(_e=Rg(tt.type,null,nt,et,et.mode,rt),_e.ref=et.ref,_e.return=et,et.child=_e)}if(it=_e.child,!(_e.lanes&rt)){var ot=it.memoizedProps;if(tt=tt.compare,tt=tt!==null?tt:Ie,tt(ot,nt)&&_e.ref===et.ref)return Zi(_e,et,rt)}return et.flags|=1,_e=Pg(it,nt),_e.ref=et.ref,_e.return=et,et.child=_e}function bj(_e,et,tt,nt,rt){if(_e!==null){var it=_e.memoizedProps;if(Ie(it,nt)&&_e.ref===et.ref)if(dh=!1,et.pendingProps=nt=it,(_e.lanes&rt)!==0)_e.flags&131072&&(dh=!0);else return et.lanes=_e.lanes,Zi(_e,et,rt)}return cj(_e,et,tt,nt,rt)}function dj(_e,et,tt){var nt=et.pendingProps,rt=nt.children,it=_e!==null?_e.memoizedState:null;if(nt.mode==="hidden")if(!(et.mode&1))et.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$1(ej,fj),fj|=tt;else{if(!(tt&1073741824))return _e=it!==null?it.baseLanes|tt:tt,et.lanes=et.childLanes=1073741824,et.memoizedState={baseLanes:_e,cachePool:null,transitions:null},et.updateQueue=null,G$1(ej,fj),fj|=_e,null;et.memoizedState={baseLanes:0,cachePool:null,transitions:null},nt=it!==null?it.baseLanes:tt,G$1(ej,fj),fj|=nt}else it!==null?(nt=it.baseLanes|tt,et.memoizedState=null):nt=tt,G$1(ej,fj),fj|=nt;return Xi(_e,et,rt,tt),et.child}function gj(_e,et){var tt=et.ref;(_e===null&&tt!==null||_e!==null&&_e.ref!==tt)&&(et.flags|=512,et.flags|=2097152)}function cj(_e,et,tt,nt,rt){var it=Zf(tt)?Xf:H$1.current;return it=Yf(et,it),ch(et,rt),tt=Nh(_e,et,tt,nt,it,rt),nt=Sh(),_e!==null&&!dh?(et.updateQueue=_e.updateQueue,et.flags&=-2053,_e.lanes&=~rt,Zi(_e,et,rt)):(I$1&&nt&&vg(et),et.flags|=1,Xi(_e,et,tt,rt),et.child)}function hj(_e,et,tt,nt,rt){if(Zf(tt)){var it=!0;cg(et)}else it=!1;if(ch(et,rt),et.stateNode===null)ij(_e,et),Gi(et,tt,nt),Ii(et,tt,nt,rt),nt=!0;else if(_e===null){var ot=et.stateNode,st=et.memoizedProps;ot.props=st;var ut=ot.context,ft=tt.contextType;typeof ft=="object"&&ft!==null?ft=eh(ft):(ft=Zf(tt)?Xf:H$1.current,ft=Yf(et,ft));var dt=tt.getDerivedStateFromProps,lt=typeof dt=="function"||typeof ot.getSnapshotBeforeUpdate=="function";lt||typeof ot.UNSAFE_componentWillReceiveProps!="function"&&typeof ot.componentWillReceiveProps!="function"||(st!==nt||ut!==ft)&&Hi(et,ot,nt,ft),jh=!1;var at=et.memoizedState;ot.state=at,qh(et,nt,ot,rt),ut=et.memoizedState,st!==nt||at!==ut||Wf.current||jh?(typeof dt=="function"&&(Di(et,tt,dt,nt),ut=et.memoizedState),(st=jh||Fi(et,tt,st,nt,at,ut,ft))?(lt||typeof ot.UNSAFE_componentWillMount!="function"&&typeof ot.componentWillMount!="function"||(typeof ot.componentWillMount=="function"&&ot.componentWillMount(),typeof ot.UNSAFE_componentWillMount=="function"&&ot.UNSAFE_componentWillMount()),typeof ot.componentDidMount=="function"&&(et.flags|=4194308)):(typeof ot.componentDidMount=="function"&&(et.flags|=4194308),et.memoizedProps=nt,et.memoizedState=ut),ot.props=nt,ot.state=ut,ot.context=ft,nt=st):(typeof ot.componentDidMount=="function"&&(et.flags|=4194308),nt=!1)}else{ot=et.stateNode,lh(_e,et),st=et.memoizedProps,ft=et.type===et.elementType?st:Ci(et.type,st),ot.props=ft,lt=et.pendingProps,at=ot.context,ut=tt.contextType,typeof ut=="object"&&ut!==null?ut=eh(ut):(ut=Zf(tt)?Xf:H$1.current,ut=Yf(et,ut));var ct=tt.getDerivedStateFromProps;(dt=typeof ct=="function"||typeof ot.getSnapshotBeforeUpdate=="function")||typeof ot.UNSAFE_componentWillReceiveProps!="function"&&typeof ot.componentWillReceiveProps!="function"||(st!==lt||at!==ut)&&Hi(et,ot,nt,ut),jh=!1,at=et.memoizedState,ot.state=at,qh(et,nt,ot,rt);var ht=et.memoizedState;st!==lt||at!==ht||Wf.current||jh?(typeof ct=="function"&&(Di(et,tt,ct,nt),ht=et.memoizedState),(ft=jh||Fi(et,tt,ft,nt,at,ht,ut)||!1)?(dt||typeof ot.UNSAFE_componentWillUpdate!="function"&&typeof ot.componentWillUpdate!="function"||(typeof ot.componentWillUpdate=="function"&&ot.componentWillUpdate(nt,ht,ut),typeof ot.UNSAFE_componentWillUpdate=="function"&&ot.UNSAFE_componentWillUpdate(nt,ht,ut)),typeof ot.componentDidUpdate=="function"&&(et.flags|=4),typeof ot.getSnapshotBeforeUpdate=="function"&&(et.flags|=1024)):(typeof ot.componentDidUpdate!="function"||st===_e.memoizedProps&&at===_e.memoizedState||(et.flags|=4),typeof ot.getSnapshotBeforeUpdate!="function"||st===_e.memoizedProps&&at===_e.memoizedState||(et.flags|=1024),et.memoizedProps=nt,et.memoizedState=ht),ot.props=nt,ot.state=ht,ot.context=ut,nt=ft):(typeof ot.componentDidUpdate!="function"||st===_e.memoizedProps&&at===_e.memoizedState||(et.flags|=4),typeof ot.getSnapshotBeforeUpdate!="function"||st===_e.memoizedProps&&at===_e.memoizedState||(et.flags|=1024),nt=!1)}return jj$3(_e,et,tt,nt,it,rt)}function jj$3(_e,et,tt,nt,rt,it){gj(_e,et);var ot=(et.flags&128)!==0;if(!nt&&!ot)return rt&&dg(et,tt,!1),Zi(_e,et,it);nt=et.stateNode,Wi.current=et;var st=ot&&typeof tt.getDerivedStateFromError!="function"?null:nt.render();return et.flags|=1,_e!==null&&ot?(et.child=Ug(et,_e.child,null,it),et.child=Ug(et,null,st,it)):Xi(_e,et,st,it),et.memoizedState=nt.state,rt&&dg(et,tt,!0),et.child}function kj(_e){var et=_e.stateNode;et.pendingContext?ag(_e,et.pendingContext,et.pendingContext!==et.context):et.context&&ag(_e,et.context,!1),yh(_e,et.containerInfo)}function lj(_e,et,tt,nt,rt){return Ig(),Jg(rt),et.flags|=256,Xi(_e,et,tt,nt),et.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(_e){return{baseLanes:_e,cachePool:null,transitions:null}}function oj(_e,et,tt){var nt=et.pendingProps,rt=L$1.current,it=!1,ot=(et.flags&128)!==0,st;if((st=ot)||(st=_e!==null&&_e.memoizedState===null?!1:(rt&2)!==0),st?(it=!0,et.flags&=-129):(_e===null||_e.memoizedState!==null)&&(rt|=1),G$1(L$1,rt&1),_e===null)return Eg(et),_e=et.memoizedState,_e!==null&&(_e=_e.dehydrated,_e!==null)?(et.mode&1?_e.data==="$!"?et.lanes=8:et.lanes=1073741824:et.lanes=1,null):(ot=nt.children,_e=nt.fallback,it?(nt=et.mode,it=et.child,ot={mode:"hidden",children:ot},!(nt&1)&&it!==null?(it.childLanes=0,it.pendingProps=ot):it=pj(ot,nt,0,null),_e=Tg(_e,nt,tt,null),it.return=et,_e.return=et,it.sibling=_e,et.child=it,et.child.memoizedState=nj(tt),et.memoizedState=mj,_e):qj(et,ot));if(rt=_e.memoizedState,rt!==null&&(st=rt.dehydrated,st!==null))return rj(_e,et,ot,nt,st,rt,tt);if(it){it=nt.fallback,ot=et.mode,rt=_e.child,st=rt.sibling;var ut={mode:"hidden",children:nt.children};return!(ot&1)&&et.child!==rt?(nt=et.child,nt.childLanes=0,nt.pendingProps=ut,et.deletions=null):(nt=Pg(rt,ut),nt.subtreeFlags=rt.subtreeFlags&14680064),st!==null?it=Pg(st,it):(it=Tg(it,ot,tt,null),it.flags|=2),it.return=et,nt.return=et,nt.sibling=it,et.child=nt,nt=it,it=et.child,ot=_e.child.memoizedState,ot=ot===null?nj(tt):{baseLanes:ot.baseLanes|tt,cachePool:null,transitions:ot.transitions},it.memoizedState=ot,it.childLanes=_e.childLanes&~tt,et.memoizedState=mj,nt}return it=_e.child,_e=it.sibling,nt=Pg(it,{mode:"visible",children:nt.children}),!(et.mode&1)&&(nt.lanes=tt),nt.return=et,nt.sibling=null,_e!==null&&(tt=et.deletions,tt===null?(et.deletions=[_e],et.flags|=16):tt.push(_e)),et.child=nt,et.memoizedState=null,nt}function qj(_e,et){return et=pj({mode:"visible",children:et},_e.mode,0,null),et.return=_e,_e.child=et}function sj(_e,et,tt,nt){return nt!==null&&Jg(nt),Ug(et,_e.child,null,tt),_e=qj(et,et.pendingProps.children),_e.flags|=2,et.memoizedState=null,_e}function rj(_e,et,tt,nt,rt,it,ot){if(tt)return et.flags&256?(et.flags&=-257,nt=Ki(Error(p$5(422))),sj(_e,et,ot,nt)):et.memoizedState!==null?(et.child=_e.child,et.flags|=128,null):(it=nt.fallback,rt=et.mode,nt=pj({mode:"visible",children:nt.children},rt,0,null),it=Tg(it,rt,ot,null),it.flags|=2,nt.return=et,it.return=et,nt.sibling=it,et.child=nt,et.mode&1&&Ug(et,_e.child,null,ot),et.child.memoizedState=nj(ot),et.memoizedState=mj,it);if(!(et.mode&1))return sj(_e,et,ot,null);if(rt.data==="$!"){if(nt=rt.nextSibling&&rt.nextSibling.dataset,nt)var st=nt.dgst;return nt=st,it=Error(p$5(419)),nt=Ki(it,nt,void 0),sj(_e,et,ot,nt)}if(st=(ot&_e.childLanes)!==0,dh||st){if(nt=Q,nt!==null){switch(ot&-ot){case 4:rt=2;break;case 16:rt=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:rt=32;break;case 536870912:rt=268435456;break;default:rt=0}rt=rt&(nt.suspendedLanes|ot)?0:rt,rt!==0&&rt!==it.retryLane&&(it.retryLane=rt,ih(_e,rt),gi(nt,_e,rt,-1))}return tj(),nt=Ki(Error(p$5(421))),sj(_e,et,ot,nt)}return rt.data==="$?"?(et.flags|=128,et.child=_e.child,et=uj.bind(null,_e),rt._reactRetry=et,null):(_e=it.treeContext,yg=Lf(rt.nextSibling),xg=et,I$1=!0,zg=null,_e!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=_e.id,sg=_e.overflow,qg=et),et=qj(et,nt.children),et.flags|=4096,et)}function vj(_e,et,tt){_e.lanes|=et;var nt=_e.alternate;nt!==null&&(nt.lanes|=et),bh(_e.return,et,tt)}function wj(_e,et,tt,nt,rt){var it=_e.memoizedState;it===null?_e.memoizedState={isBackwards:et,rendering:null,renderingStartTime:0,last:nt,tail:tt,tailMode:rt}:(it.isBackwards=et,it.rendering=null,it.renderingStartTime=0,it.last=nt,it.tail=tt,it.tailMode=rt)}function xj(_e,et,tt){var nt=et.pendingProps,rt=nt.revealOrder,it=nt.tail;if(Xi(_e,et,nt.children,tt),nt=L$1.current,nt&2)nt=nt&1|2,et.flags|=128;else{if(_e!==null&&_e.flags&128)e:for(_e=et.child;_e!==null;){if(_e.tag===13)_e.memoizedState!==null&&vj(_e,tt,et);else if(_e.tag===19)vj(_e,tt,et);else if(_e.child!==null){_e.child.return=_e,_e=_e.child;continue}if(_e===et)break e;for(;_e.sibling===null;){if(_e.return===null||_e.return===et)break e;_e=_e.return}_e.sibling.return=_e.return,_e=_e.sibling}nt&=1}if(G$1(L$1,nt),!(et.mode&1))et.memoizedState=null;else switch(rt){case"forwards":for(tt=et.child,rt=null;tt!==null;)_e=tt.alternate,_e!==null&&Ch(_e)===null&&(rt=tt),tt=tt.sibling;tt=rt,tt===null?(rt=et.child,et.child=null):(rt=tt.sibling,tt.sibling=null),wj(et,!1,rt,tt,it);break;case"backwards":for(tt=null,rt=et.child,et.child=null;rt!==null;){if(_e=rt.alternate,_e!==null&&Ch(_e)===null){et.child=rt;break}_e=rt.sibling,rt.sibling=tt,tt=rt,rt=_e}wj(et,!0,tt,null,it);break;case"together":wj(et,!1,null,null,void 0);break;default:et.memoizedState=null}return et.child}function ij(_e,et){!(et.mode&1)&&_e!==null&&(_e.alternate=null,et.alternate=null,et.flags|=2)}function Zi(_e,et,tt){if(_e!==null&&(et.dependencies=_e.dependencies),rh|=et.lanes,!(tt&et.childLanes))return null;if(_e!==null&&et.child!==_e.child)throw Error(p$5(153));if(et.child!==null){for(_e=et.child,tt=Pg(_e,_e.pendingProps),et.child=tt,tt.return=et;_e.sibling!==null;)_e=_e.sibling,tt=tt.sibling=Pg(_e,_e.pendingProps),tt.return=et;tt.sibling=null}return et.child}function yj(_e,et,tt){switch(et.tag){case 3:kj(et),Ig();break;case 5:Ah(et);break;case 1:Zf(et.type)&&cg(et);break;case 4:yh(et,et.stateNode.containerInfo);break;case 10:var nt=et.type._context,rt=et.memoizedProps.value;G$1(Wg,nt._currentValue),nt._currentValue=rt;break;case 13:if(nt=et.memoizedState,nt!==null)return nt.dehydrated!==null?(G$1(L$1,L$1.current&1),et.flags|=128,null):tt&et.child.childLanes?oj(_e,et,tt):(G$1(L$1,L$1.current&1),_e=Zi(_e,et,tt),_e!==null?_e.sibling:null);G$1(L$1,L$1.current&1);break;case 19:if(nt=(tt&et.childLanes)!==0,_e.flags&128){if(nt)return xj(_e,et,tt);et.flags|=128}if(rt=et.memoizedState,rt!==null&&(rt.rendering=null,rt.tail=null,rt.lastEffect=null),G$1(L$1,L$1.current),nt)break;return null;case 22:case 23:return et.lanes=0,dj(_e,et,tt)}return Zi(_e,et,tt)}var zj,Aj,Bj,Cj;zj=function(_e,et){for(var tt=et.child;tt!==null;){if(tt.tag===5||tt.tag===6)_e.appendChild(tt.stateNode);else if(tt.tag!==4&&tt.child!==null){tt.child.return=tt,tt=tt.child;continue}if(tt===et)break;for(;tt.sibling===null;){if(tt.return===null||tt.return===et)return;tt=tt.return}tt.sibling.return=tt.return,tt=tt.sibling}};Aj=function(){};Bj=function(_e,et,tt,nt){var rt=_e.memoizedProps;if(rt!==nt){_e=et.stateNode,xh(uh.current);var it=null;switch(tt){case"input":rt=Ya(_e,rt),nt=Ya(_e,nt),it=[];break;case"select":rt=A$1({},rt,{value:void 0}),nt=A$1({},nt,{value:void 0}),it=[];break;case"textarea":rt=gb(_e,rt),nt=gb(_e,nt),it=[];break;default:typeof rt.onClick!="function"&&typeof nt.onClick=="function"&&(_e.onclick=Bf)}ub(tt,nt);var ot;tt=null;for(ft in rt)if(!nt.hasOwnProperty(ft)&&rt.hasOwnProperty(ft)&&rt[ft]!=null)if(ft==="style"){var st=rt[ft];for(ot in st)st.hasOwnProperty(ot)&&(tt||(tt={}),tt[ot]="")}else ft!=="dangerouslySetInnerHTML"&&ft!=="children"&&ft!=="suppressContentEditableWarning"&&ft!=="suppressHydrationWarning"&&ft!=="autoFocus"&&(ea.hasOwnProperty(ft)?it||(it=[]):(it=it||[]).push(ft,null));for(ft in nt){var ut=nt[ft];if(st=rt!=null?rt[ft]:void 0,nt.hasOwnProperty(ft)&&ut!==st&&(ut!=null||st!=null))if(ft==="style")if(st){for(ot in st)!st.hasOwnProperty(ot)||ut&&ut.hasOwnProperty(ot)||(tt||(tt={}),tt[ot]="");for(ot in ut)ut.hasOwnProperty(ot)&&st[ot]!==ut[ot]&&(tt||(tt={}),tt[ot]=ut[ot])}else tt||(it||(it=[]),it.push(ft,tt)),tt=ut;else ft==="dangerouslySetInnerHTML"?(ut=ut?ut.__html:void 0,st=st?st.__html:void 0,ut!=null&&st!==ut&&(it=it||[]).push(ft,ut)):ft==="children"?typeof ut!="string"&&typeof ut!="number"||(it=it||[]).push(ft,""+ut):ft!=="suppressContentEditableWarning"&&ft!=="suppressHydrationWarning"&&(ea.hasOwnProperty(ft)?(ut!=null&&ft==="onScroll"&&D$1("scroll",_e),it||st===ut||(it=[])):(it=it||[]).push(ft,ut))}tt&&(it=it||[]).push("style",tt);var ft=it;(et.updateQueue=ft)&&(et.flags|=4)}};Cj=function(_e,et,tt,nt){tt!==nt&&(et.flags|=4)};function Dj(_e,et){if(!I$1)switch(_e.tailMode){case"hidden":et=_e.tail;for(var tt=null;et!==null;)et.alternate!==null&&(tt=et),et=et.sibling;tt===null?_e.tail=null:tt.sibling=null;break;case"collapsed":tt=_e.tail;for(var nt=null;tt!==null;)tt.alternate!==null&&(nt=tt),tt=tt.sibling;nt===null?et||_e.tail===null?_e.tail=null:_e.tail.sibling=null:nt.sibling=null}}function S$1(_e){var et=_e.alternate!==null&&_e.alternate.child===_e.child,tt=0,nt=0;if(et)for(var rt=_e.child;rt!==null;)tt|=rt.lanes|rt.childLanes,nt|=rt.subtreeFlags&14680064,nt|=rt.flags&14680064,rt.return=_e,rt=rt.sibling;else for(rt=_e.child;rt!==null;)tt|=rt.lanes|rt.childLanes,nt|=rt.subtreeFlags,nt|=rt.flags,rt.return=_e,rt=rt.sibling;return _e.subtreeFlags|=nt,_e.childLanes=tt,et}function Ej(_e,et,tt){var nt=et.pendingProps;switch(wg(et),et.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$1(et),null;case 1:return Zf(et.type)&&$f(),S$1(et),null;case 3:return nt=et.stateNode,zh(),E$1(Wf),E$1(H$1),Eh(),nt.pendingContext&&(nt.context=nt.pendingContext,nt.pendingContext=null),(_e===null||_e.child===null)&&(Gg(et)?et.flags|=4:_e===null||_e.memoizedState.isDehydrated&&!(et.flags&256)||(et.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(_e,et),S$1(et),null;case 5:Bh(et);var rt=xh(wh.current);if(tt=et.type,_e!==null&&et.stateNode!=null)Bj(_e,et,tt,nt,rt),_e.ref!==et.ref&&(et.flags|=512,et.flags|=2097152);else{if(!nt){if(et.stateNode===null)throw Error(p$5(166));return S$1(et),null}if(_e=xh(uh.current),Gg(et)){nt=et.stateNode,tt=et.type;var it=et.memoizedProps;switch(nt[Of]=et,nt[Pf]=it,_e=(et.mode&1)!==0,tt){case"dialog":D$1("cancel",nt),D$1("close",nt);break;case"iframe":case"object":case"embed":D$1("load",nt);break;case"video":case"audio":for(rt=0;rt<lf.length;rt++)D$1(lf[rt],nt);break;case"source":D$1("error",nt);break;case"img":case"image":case"link":D$1("error",nt),D$1("load",nt);break;case"details":D$1("toggle",nt);break;case"input":Za(nt,it),D$1("invalid",nt);break;case"select":nt._wrapperState={wasMultiple:!!it.multiple},D$1("invalid",nt);break;case"textarea":hb(nt,it),D$1("invalid",nt)}ub(tt,it),rt=null;for(var ot in it)if(it.hasOwnProperty(ot)){var st=it[ot];ot==="children"?typeof st=="string"?nt.textContent!==st&&(it.suppressHydrationWarning!==!0&&Af(nt.textContent,st,_e),rt=["children",st]):typeof st=="number"&&nt.textContent!==""+st&&(it.suppressHydrationWarning!==!0&&Af(nt.textContent,st,_e),rt=["children",""+st]):ea.hasOwnProperty(ot)&&st!=null&&ot==="onScroll"&&D$1("scroll",nt)}switch(tt){case"input":Va(nt),db(nt,it,!0);break;case"textarea":Va(nt),jb(nt);break;case"select":case"option":break;default:typeof it.onClick=="function"&&(nt.onclick=Bf)}nt=rt,et.updateQueue=nt,nt!==null&&(et.flags|=4)}else{ot=rt.nodeType===9?rt:rt.ownerDocument,_e==="http://www.w3.org/1999/xhtml"&&(_e=kb(tt)),_e==="http://www.w3.org/1999/xhtml"?tt==="script"?(_e=ot.createElement("div"),_e.innerHTML="<script><\/script>",_e=_e.removeChild(_e.firstChild)):typeof nt.is=="string"?_e=ot.createElement(tt,{is:nt.is}):(_e=ot.createElement(tt),tt==="select"&&(ot=_e,nt.multiple?ot.multiple=!0:nt.size&&(ot.size=nt.size))):_e=ot.createElementNS(_e,tt),_e[Of]=et,_e[Pf]=nt,zj(_e,et,!1,!1),et.stateNode=_e;e:{switch(ot=vb$2(tt,nt),tt){case"dialog":D$1("cancel",_e),D$1("close",_e),rt=nt;break;case"iframe":case"object":case"embed":D$1("load",_e),rt=nt;break;case"video":case"audio":for(rt=0;rt<lf.length;rt++)D$1(lf[rt],_e);rt=nt;break;case"source":D$1("error",_e),rt=nt;break;case"img":case"image":case"link":D$1("error",_e),D$1("load",_e),rt=nt;break;case"details":D$1("toggle",_e),rt=nt;break;case"input":Za(_e,nt),rt=Ya(_e,nt),D$1("invalid",_e);break;case"option":rt=nt;break;case"select":_e._wrapperState={wasMultiple:!!nt.multiple},rt=A$1({},nt,{value:void 0}),D$1("invalid",_e);break;case"textarea":hb(_e,nt),rt=gb(_e,nt),D$1("invalid",_e);break;default:rt=nt}ub(tt,rt),st=rt;for(it in st)if(st.hasOwnProperty(it)){var ut=st[it];it==="style"?sb(_e,ut):it==="dangerouslySetInnerHTML"?(ut=ut?ut.__html:void 0,ut!=null&&nb(_e,ut)):it==="children"?typeof ut=="string"?(tt!=="textarea"||ut!=="")&&ob(_e,ut):typeof ut=="number"&&ob(_e,""+ut):it!=="suppressContentEditableWarning"&&it!=="suppressHydrationWarning"&&it!=="autoFocus"&&(ea.hasOwnProperty(it)?ut!=null&&it==="onScroll"&&D$1("scroll",_e):ut!=null&&ta(_e,it,ut,ot))}switch(tt){case"input":Va(_e),db(_e,nt,!1);break;case"textarea":Va(_e),jb(_e);break;case"option":nt.value!=null&&_e.setAttribute("value",""+Sa(nt.value));break;case"select":_e.multiple=!!nt.multiple,it=nt.value,it!=null?fb(_e,!!nt.multiple,it,!1):nt.defaultValue!=null&&fb(_e,!!nt.multiple,nt.defaultValue,!0);break;default:typeof rt.onClick=="function"&&(_e.onclick=Bf)}switch(tt){case"button":case"input":case"select":case"textarea":nt=!!nt.autoFocus;break e;case"img":nt=!0;break e;default:nt=!1}}nt&&(et.flags|=4)}et.ref!==null&&(et.flags|=512,et.flags|=2097152)}return S$1(et),null;case 6:if(_e&&et.stateNode!=null)Cj(_e,et,_e.memoizedProps,nt);else{if(typeof nt!="string"&&et.stateNode===null)throw Error(p$5(166));if(tt=xh(wh.current),xh(uh.current),Gg(et)){if(nt=et.stateNode,tt=et.memoizedProps,nt[Of]=et,(it=nt.nodeValue!==tt)&&(_e=xg,_e!==null))switch(_e.tag){case 3:Af(nt.nodeValue,tt,(_e.mode&1)!==0);break;case 5:_e.memoizedProps.suppressHydrationWarning!==!0&&Af(nt.nodeValue,tt,(_e.mode&1)!==0)}it&&(et.flags|=4)}else nt=(tt.nodeType===9?tt:tt.ownerDocument).createTextNode(nt),nt[Of]=et,et.stateNode=nt}return S$1(et),null;case 13:if(E$1(L$1),nt=et.memoizedState,_e===null||_e.memoizedState!==null&&_e.memoizedState.dehydrated!==null){if(I$1&&yg!==null&&et.mode&1&&!(et.flags&128))Hg(),Ig(),et.flags|=98560,it=!1;else if(it=Gg(et),nt!==null&&nt.dehydrated!==null){if(_e===null){if(!it)throw Error(p$5(318));if(it=et.memoizedState,it=it!==null?it.dehydrated:null,!it)throw Error(p$5(317));it[Of]=et}else Ig(),!(et.flags&128)&&(et.memoizedState=null),et.flags|=4;S$1(et),it=!1}else zg!==null&&(Fj(zg),zg=null),it=!0;if(!it)return et.flags&65536?et:null}return et.flags&128?(et.lanes=tt,et):(nt=nt!==null,nt!==(_e!==null&&_e.memoizedState!==null)&&nt&&(et.child.flags|=8192,et.mode&1&&(_e===null||L$1.current&1?T$1===0&&(T$1=3):tj())),et.updateQueue!==null&&(et.flags|=4),S$1(et),null);case 4:return zh(),Aj(_e,et),_e===null&&sf(et.stateNode.containerInfo),S$1(et),null;case 10:return ah(et.type._context),S$1(et),null;case 17:return Zf(et.type)&&$f(),S$1(et),null;case 19:if(E$1(L$1),it=et.memoizedState,it===null)return S$1(et),null;if(nt=(et.flags&128)!==0,ot=it.rendering,ot===null)if(nt)Dj(it,!1);else{if(T$1!==0||_e!==null&&_e.flags&128)for(_e=et.child;_e!==null;){if(ot=Ch(_e),ot!==null){for(et.flags|=128,Dj(it,!1),nt=ot.updateQueue,nt!==null&&(et.updateQueue=nt,et.flags|=4),et.subtreeFlags=0,nt=tt,tt=et.child;tt!==null;)it=tt,_e=nt,it.flags&=14680066,ot=it.alternate,ot===null?(it.childLanes=0,it.lanes=_e,it.child=null,it.subtreeFlags=0,it.memoizedProps=null,it.memoizedState=null,it.updateQueue=null,it.dependencies=null,it.stateNode=null):(it.childLanes=ot.childLanes,it.lanes=ot.lanes,it.child=ot.child,it.subtreeFlags=0,it.deletions=null,it.memoizedProps=ot.memoizedProps,it.memoizedState=ot.memoizedState,it.updateQueue=ot.updateQueue,it.type=ot.type,_e=ot.dependencies,it.dependencies=_e===null?null:{lanes:_e.lanes,firstContext:_e.firstContext}),tt=tt.sibling;return G$1(L$1,L$1.current&1|2),et.child}_e=_e.sibling}it.tail!==null&&B$1()>Gj&&(et.flags|=128,nt=!0,Dj(it,!1),et.lanes=4194304)}else{if(!nt)if(_e=Ch(ot),_e!==null){if(et.flags|=128,nt=!0,tt=_e.updateQueue,tt!==null&&(et.updateQueue=tt,et.flags|=4),Dj(it,!0),it.tail===null&&it.tailMode==="hidden"&&!ot.alternate&&!I$1)return S$1(et),null}else 2*B$1()-it.renderingStartTime>Gj&&tt!==1073741824&&(et.flags|=128,nt=!0,Dj(it,!1),et.lanes=4194304);it.isBackwards?(ot.sibling=et.child,et.child=ot):(tt=it.last,tt!==null?tt.sibling=ot:et.child=ot,it.last=ot)}return it.tail!==null?(et=it.tail,it.rendering=et,it.tail=et.sibling,it.renderingStartTime=B$1(),et.sibling=null,tt=L$1.current,G$1(L$1,nt?tt&1|2:tt&1),et):(S$1(et),null);case 22:case 23:return Hj(),nt=et.memoizedState!==null,_e!==null&&_e.memoizedState!==null!==nt&&(et.flags|=8192),nt&&et.mode&1?fj&1073741824&&(S$1(et),et.subtreeFlags&6&&(et.flags|=8192)):S$1(et),null;case 24:return null;case 25:return null}throw Error(p$5(156,et.tag))}function Ij(_e,et){switch(wg(et),et.tag){case 1:return Zf(et.type)&&$f(),_e=et.flags,_e&65536?(et.flags=_e&-65537|128,et):null;case 3:return zh(),E$1(Wf),E$1(H$1),Eh(),_e=et.flags,_e&65536&&!(_e&128)?(et.flags=_e&-65537|128,et):null;case 5:return Bh(et),null;case 13:if(E$1(L$1),_e=et.memoizedState,_e!==null&&_e.dehydrated!==null){if(et.alternate===null)throw Error(p$5(340));Ig()}return _e=et.flags,_e&65536?(et.flags=_e&-65537|128,et):null;case 19:return E$1(L$1),null;case 4:return zh(),null;case 10:return ah(et.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U$1=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V$1=null;function Lj(_e,et){var tt=_e.ref;if(tt!==null)if(typeof tt=="function")try{tt(null)}catch(nt){W$1(_e,et,nt)}else tt.current=null}function Mj(_e,et,tt){try{tt()}catch(nt){W$1(_e,et,nt)}}var Nj=!1;function Oj(_e,et){if(Cf=dd,_e=Me(),Ne(_e)){if("selectionStart"in _e)var tt={start:_e.selectionStart,end:_e.selectionEnd};else e:{tt=(tt=_e.ownerDocument)&&tt.defaultView||window;var nt=tt.getSelection&&tt.getSelection();if(nt&&nt.rangeCount!==0){tt=nt.anchorNode;var rt=nt.anchorOffset,it=nt.focusNode;nt=nt.focusOffset;try{tt.nodeType,it.nodeType}catch{tt=null;break e}var ot=0,st=-1,ut=-1,ft=0,dt=0,lt=_e,at=null;t:for(;;){for(var ct;lt!==tt||rt!==0&&lt.nodeType!==3||(st=ot+rt),lt!==it||nt!==0&&lt.nodeType!==3||(ut=ot+nt),lt.nodeType===3&&(ot+=lt.nodeValue.length),(ct=lt.firstChild)!==null;)at=lt,lt=ct;for(;;){if(lt===_e)break t;if(at===tt&&++ft===rt&&(st=ot),at===it&&++dt===nt&&(ut=ot),(ct=lt.nextSibling)!==null)break;lt=at,at=lt.parentNode}lt=ct}tt=st===-1||ut===-1?null:{start:st,end:ut}}else tt=null}tt=tt||{start:0,end:0}}else tt=null;for(Df={focusedElem:_e,selectionRange:tt},dd=!1,V$1=et;V$1!==null;)if(et=V$1,_e=et.child,(et.subtreeFlags&1028)!==0&&_e!==null)_e.return=et,V$1=_e;else for(;V$1!==null;){et=V$1;try{var ht=et.alternate;if(et.flags&1024)switch(et.tag){case 0:case 11:case 15:break;case 1:if(ht!==null){var pt=ht.memoizedProps,mt=ht.memoizedState,gt=et.stateNode,yt=gt.getSnapshotBeforeUpdate(et.elementType===et.type?pt:Ci(et.type,pt),mt);gt.__reactInternalSnapshotBeforeUpdate=yt}break;case 3:var bt=et.stateNode.containerInfo;bt.nodeType===1?bt.textContent="":bt.nodeType===9&&bt.documentElement&&bt.removeChild(bt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$5(163))}}catch(xt){W$1(et,et.return,xt)}if(_e=et.sibling,_e!==null){_e.return=et.return,V$1=_e;break}V$1=et.return}return ht=Nj,Nj=!1,ht}function Pj(_e,et,tt){var nt=et.updateQueue;if(nt=nt!==null?nt.lastEffect:null,nt!==null){var rt=nt=nt.next;do{if((rt.tag&_e)===_e){var it=rt.destroy;rt.destroy=void 0,it!==void 0&&Mj(et,tt,it)}rt=rt.next}while(rt!==nt)}}function Qj(_e,et){if(et=et.updateQueue,et=et!==null?et.lastEffect:null,et!==null){var tt=et=et.next;do{if((tt.tag&_e)===_e){var nt=tt.create;tt.destroy=nt()}tt=tt.next}while(tt!==et)}}function Rj(_e){var et=_e.ref;if(et!==null){var tt=_e.stateNode;switch(_e.tag){case 5:_e=tt;break;default:_e=tt}typeof et=="function"?et(_e):et.current=_e}}function Sj(_e){var et=_e.alternate;et!==null&&(_e.alternate=null,Sj(et)),_e.child=null,_e.deletions=null,_e.sibling=null,_e.tag===5&&(et=_e.stateNode,et!==null&&(delete et[Of],delete et[Pf],delete et[of],delete et[Qf],delete et[Rf])),_e.stateNode=null,_e.return=null,_e.dependencies=null,_e.memoizedProps=null,_e.memoizedState=null,_e.pendingProps=null,_e.stateNode=null,_e.updateQueue=null}function Tj(_e){return _e.tag===5||_e.tag===3||_e.tag===4}function Uj(_e){e:for(;;){for(;_e.sibling===null;){if(_e.return===null||Tj(_e.return))return null;_e=_e.return}for(_e.sibling.return=_e.return,_e=_e.sibling;_e.tag!==5&&_e.tag!==6&&_e.tag!==18;){if(_e.flags&2||_e.child===null||_e.tag===4)continue e;_e.child.return=_e,_e=_e.child}if(!(_e.flags&2))return _e.stateNode}}function Vj(_e,et,tt){var nt=_e.tag;if(nt===5||nt===6)_e=_e.stateNode,et?tt.nodeType===8?tt.parentNode.insertBefore(_e,et):tt.insertBefore(_e,et):(tt.nodeType===8?(et=tt.parentNode,et.insertBefore(_e,tt)):(et=tt,et.appendChild(_e)),tt=tt._reactRootContainer,tt!=null||et.onclick!==null||(et.onclick=Bf));else if(nt!==4&&(_e=_e.child,_e!==null))for(Vj(_e,et,tt),_e=_e.sibling;_e!==null;)Vj(_e,et,tt),_e=_e.sibling}function Wj(_e,et,tt){var nt=_e.tag;if(nt===5||nt===6)_e=_e.stateNode,et?tt.insertBefore(_e,et):tt.appendChild(_e);else if(nt!==4&&(_e=_e.child,_e!==null))for(Wj(_e,et,tt),_e=_e.sibling;_e!==null;)Wj(_e,et,tt),_e=_e.sibling}var X=null,Xj=!1;function Yj(_e,et,tt){for(tt=tt.child;tt!==null;)Zj(_e,et,tt),tt=tt.sibling}function Zj(_e,et,tt){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,tt)}catch{}switch(tt.tag){case 5:U$1||Lj(tt,et);case 6:var nt=X,rt=Xj;X=null,Yj(_e,et,tt),X=nt,Xj=rt,X!==null&&(Xj?(_e=X,tt=tt.stateNode,_e.nodeType===8?_e.parentNode.removeChild(tt):_e.removeChild(tt)):X.removeChild(tt.stateNode));break;case 18:X!==null&&(Xj?(_e=X,tt=tt.stateNode,_e.nodeType===8?Kf(_e.parentNode,tt):_e.nodeType===1&&Kf(_e,tt),bd(_e)):Kf(X,tt.stateNode));break;case 4:nt=X,rt=Xj,X=tt.stateNode.containerInfo,Xj=!0,Yj(_e,et,tt),X=nt,Xj=rt;break;case 0:case 11:case 14:case 15:if(!U$1&&(nt=tt.updateQueue,nt!==null&&(nt=nt.lastEffect,nt!==null))){rt=nt=nt.next;do{var it=rt,ot=it.destroy;it=it.tag,ot!==void 0&&(it&2||it&4)&&Mj(tt,et,ot),rt=rt.next}while(rt!==nt)}Yj(_e,et,tt);break;case 1:if(!U$1&&(Lj(tt,et),nt=tt.stateNode,typeof nt.componentWillUnmount=="function"))try{nt.props=tt.memoizedProps,nt.state=tt.memoizedState,nt.componentWillUnmount()}catch(st){W$1(tt,et,st)}Yj(_e,et,tt);break;case 21:Yj(_e,et,tt);break;case 22:tt.mode&1?(U$1=(nt=U$1)||tt.memoizedState!==null,Yj(_e,et,tt),U$1=nt):Yj(_e,et,tt);break;default:Yj(_e,et,tt)}}function ak(_e){var et=_e.updateQueue;if(et!==null){_e.updateQueue=null;var tt=_e.stateNode;tt===null&&(tt=_e.stateNode=new Kj),et.forEach(function(nt){var rt=bk.bind(null,_e,nt);tt.has(nt)||(tt.add(nt),nt.then(rt,rt))})}}function ck(_e,et){var tt=et.deletions;if(tt!==null)for(var nt=0;nt<tt.length;nt++){var rt=tt[nt];try{var it=_e,ot=et,st=ot;e:for(;st!==null;){switch(st.tag){case 5:X=st.stateNode,Xj=!1;break e;case 3:X=st.stateNode.containerInfo,Xj=!0;break e;case 4:X=st.stateNode.containerInfo,Xj=!0;break e}st=st.return}if(X===null)throw Error(p$5(160));Zj(it,ot,rt),X=null,Xj=!1;var ut=rt.alternate;ut!==null&&(ut.return=null),rt.return=null}catch(ft){W$1(rt,et,ft)}}if(et.subtreeFlags&12854)for(et=et.child;et!==null;)dk(et,_e),et=et.sibling}function dk(_e,et){var tt=_e.alternate,nt=_e.flags;switch(_e.tag){case 0:case 11:case 14:case 15:if(ck(et,_e),ek(_e),nt&4){try{Pj(3,_e,_e.return),Qj(3,_e)}catch(pt){W$1(_e,_e.return,pt)}try{Pj(5,_e,_e.return)}catch(pt){W$1(_e,_e.return,pt)}}break;case 1:ck(et,_e),ek(_e),nt&512&&tt!==null&&Lj(tt,tt.return);break;case 5:if(ck(et,_e),ek(_e),nt&512&&tt!==null&&Lj(tt,tt.return),_e.flags&32){var rt=_e.stateNode;try{ob(rt,"")}catch(pt){W$1(_e,_e.return,pt)}}if(nt&4&&(rt=_e.stateNode,rt!=null)){var it=_e.memoizedProps,ot=tt!==null?tt.memoizedProps:it,st=_e.type,ut=_e.updateQueue;if(_e.updateQueue=null,ut!==null)try{st==="input"&&it.type==="radio"&&it.name!=null&&ab(rt,it),vb$2(st,ot);var ft=vb$2(st,it);for(ot=0;ot<ut.length;ot+=2){var dt=ut[ot],lt=ut[ot+1];dt==="style"?sb(rt,lt):dt==="dangerouslySetInnerHTML"?nb(rt,lt):dt==="children"?ob(rt,lt):ta(rt,dt,lt,ft)}switch(st){case"input":bb(rt,it);break;case"textarea":ib(rt,it);break;case"select":var at=rt._wrapperState.wasMultiple;rt._wrapperState.wasMultiple=!!it.multiple;var ct=it.value;ct!=null?fb(rt,!!it.multiple,ct,!1):at!==!!it.multiple&&(it.defaultValue!=null?fb(rt,!!it.multiple,it.defaultValue,!0):fb(rt,!!it.multiple,it.multiple?[]:"",!1))}rt[Pf]=it}catch(pt){W$1(_e,_e.return,pt)}}break;case 6:if(ck(et,_e),ek(_e),nt&4){if(_e.stateNode===null)throw Error(p$5(162));rt=_e.stateNode,it=_e.memoizedProps;try{rt.nodeValue=it}catch(pt){W$1(_e,_e.return,pt)}}break;case 3:if(ck(et,_e),ek(_e),nt&4&&tt!==null&&tt.memoizedState.isDehydrated)try{bd(et.containerInfo)}catch(pt){W$1(_e,_e.return,pt)}break;case 4:ck(et,_e),ek(_e);break;case 13:ck(et,_e),ek(_e),rt=_e.child,rt.flags&8192&&(it=rt.memoizedState!==null,rt.stateNode.isHidden=it,!it||rt.alternate!==null&&rt.alternate.memoizedState!==null||(fk=B$1())),nt&4&&ak(_e);break;case 22:if(dt=tt!==null&&tt.memoizedState!==null,_e.mode&1?(U$1=(ft=U$1)||dt,ck(et,_e),U$1=ft):ck(et,_e),ek(_e),nt&8192){if(ft=_e.memoizedState!==null,(_e.stateNode.isHidden=ft)&&!dt&&_e.mode&1)for(V$1=_e,dt=_e.child;dt!==null;){for(lt=V$1=dt;V$1!==null;){switch(at=V$1,ct=at.child,at.tag){case 0:case 11:case 14:case 15:Pj(4,at,at.return);break;case 1:Lj(at,at.return);var ht=at.stateNode;if(typeof ht.componentWillUnmount=="function"){nt=at,tt=at.return;try{et=nt,ht.props=et.memoizedProps,ht.state=et.memoizedState,ht.componentWillUnmount()}catch(pt){W$1(nt,tt,pt)}}break;case 5:Lj(at,at.return);break;case 22:if(at.memoizedState!==null){gk(lt);continue}}ct!==null?(ct.return=at,V$1=ct):gk(lt)}dt=dt.sibling}e:for(dt=null,lt=_e;;){if(lt.tag===5){if(dt===null){dt=lt;try{rt=lt.stateNode,ft?(it=rt.style,typeof it.setProperty=="function"?it.setProperty("display","none","important"):it.display="none"):(st=lt.stateNode,ut=lt.memoizedProps.style,ot=ut!=null&&ut.hasOwnProperty("display")?ut.display:null,st.style.display=rb("display",ot))}catch(pt){W$1(_e,_e.return,pt)}}}else if(lt.tag===6){if(dt===null)try{lt.stateNode.nodeValue=ft?"":lt.memoizedProps}catch(pt){W$1(_e,_e.return,pt)}}else if((lt.tag!==22&&lt.tag!==23||lt.memoizedState===null||lt===_e)&&lt.child!==null){lt.child.return=lt,lt=lt.child;continue}if(lt===_e)break e;for(;lt.sibling===null;){if(lt.return===null||lt.return===_e)break e;dt===lt&&(dt=null),lt=lt.return}dt===lt&&(dt=null),lt.sibling.return=lt.return,lt=lt.sibling}}break;case 19:ck(et,_e),ek(_e),nt&4&&ak(_e);break;case 21:break;default:ck(et,_e),ek(_e)}}function ek(_e){var et=_e.flags;if(et&2){try{e:{for(var tt=_e.return;tt!==null;){if(Tj(tt)){var nt=tt;break e}tt=tt.return}throw Error(p$5(160))}switch(nt.tag){case 5:var rt=nt.stateNode;nt.flags&32&&(ob(rt,""),nt.flags&=-33);var it=Uj(_e);Wj(_e,it,rt);break;case 3:case 4:var ot=nt.stateNode.containerInfo,st=Uj(_e);Vj(_e,st,ot);break;default:throw Error(p$5(161))}}catch(ut){W$1(_e,_e.return,ut)}_e.flags&=-3}et&4096&&(_e.flags&=-4097)}function hk(_e,et,tt){V$1=_e,ik(_e)}function ik(_e,et,tt){for(var nt=(_e.mode&1)!==0;V$1!==null;){var rt=V$1,it=rt.child;if(rt.tag===22&&nt){var ot=rt.memoizedState!==null||Jj;if(!ot){var st=rt.alternate,ut=st!==null&&st.memoizedState!==null||U$1;st=Jj;var ft=U$1;if(Jj=ot,(U$1=ut)&&!ft)for(V$1=rt;V$1!==null;)ot=V$1,ut=ot.child,ot.tag===22&&ot.memoizedState!==null?jk(rt):ut!==null?(ut.return=ot,V$1=ut):jk(rt);for(;it!==null;)V$1=it,ik(it),it=it.sibling;V$1=rt,Jj=st,U$1=ft}kk(_e)}else rt.subtreeFlags&8772&&it!==null?(it.return=rt,V$1=it):kk(_e)}}function kk(_e){for(;V$1!==null;){var et=V$1;if(et.flags&8772){var tt=et.alternate;try{if(et.flags&8772)switch(et.tag){case 0:case 11:case 15:U$1||Qj(5,et);break;case 1:var nt=et.stateNode;if(et.flags&4&&!U$1)if(tt===null)nt.componentDidMount();else{var rt=et.elementType===et.type?tt.memoizedProps:Ci(et.type,tt.memoizedProps);nt.componentDidUpdate(rt,tt.memoizedState,nt.__reactInternalSnapshotBeforeUpdate)}var it=et.updateQueue;it!==null&&sh(et,it,nt);break;case 3:var ot=et.updateQueue;if(ot!==null){if(tt=null,et.child!==null)switch(et.child.tag){case 5:tt=et.child.stateNode;break;case 1:tt=et.child.stateNode}sh(et,ot,tt)}break;case 5:var st=et.stateNode;if(tt===null&&et.flags&4){tt=st;var ut=et.memoizedProps;switch(et.type){case"button":case"input":case"select":case"textarea":ut.autoFocus&&tt.focus();break;case"img":ut.src&&(tt.src=ut.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(et.memoizedState===null){var ft=et.alternate;if(ft!==null){var dt=ft.memoizedState;if(dt!==null){var lt=dt.dehydrated;lt!==null&&bd(lt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$5(163))}U$1||et.flags&512&&Rj(et)}catch(at){W$1(et,et.return,at)}}if(et===_e){V$1=null;break}if(tt=et.sibling,tt!==null){tt.return=et.return,V$1=tt;break}V$1=et.return}}function gk(_e){for(;V$1!==null;){var et=V$1;if(et===_e){V$1=null;break}var tt=et.sibling;if(tt!==null){tt.return=et.return,V$1=tt;break}V$1=et.return}}function jk(_e){for(;V$1!==null;){var et=V$1;try{switch(et.tag){case 0:case 11:case 15:var tt=et.return;try{Qj(4,et)}catch(ut){W$1(et,tt,ut)}break;case 1:var nt=et.stateNode;if(typeof nt.componentDidMount=="function"){var rt=et.return;try{nt.componentDidMount()}catch(ut){W$1(et,rt,ut)}}var it=et.return;try{Rj(et)}catch(ut){W$1(et,it,ut)}break;case 5:var ot=et.return;try{Rj(et)}catch(ut){W$1(et,ot,ut)}}}catch(ut){W$1(et,et.return,ut)}if(et===_e){V$1=null;break}var st=et.sibling;if(st!==null){st.return=et.return,V$1=st;break}V$1=et.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K=0,Q=null,Y$1=null,Z$1=0,fj=0,ej=Uf(0),T$1=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R$1(){return K&6?B$1():Ak!==-1?Ak:Ak=B$1()}function yi(_e){return _e.mode&1?K&2&&Z$1!==0?Z$1&-Z$1:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(_e=C$1,_e!==0||(_e=window.event,_e=_e===void 0?16:jd(_e.type)),_e):1}function gi(_e,et,tt,nt){if(50<yk)throw yk=0,zk=null,Error(p$5(185));Ac(_e,tt,nt),(!(K&2)||_e!==Q)&&(_e===Q&&(!(K&2)&&(qk|=tt),T$1===4&&Ck(_e,Z$1)),Dk(_e,nt),tt===1&&K===0&&!(et.mode&1)&&(Gj=B$1()+500,fg&&jg()))}function Dk(_e,et){var tt=_e.callbackNode;wc(_e,et);var nt=uc(_e,_e===Q?Z$1:0);if(nt===0)tt!==null&&bc(tt),_e.callbackNode=null,_e.callbackPriority=0;else if(et=nt&-nt,_e.callbackPriority!==et){if(tt!=null&&bc(tt),et===1)_e.tag===0?ig(Ek.bind(null,_e)):hg(Ek.bind(null,_e)),Jf(function(){!(K&6)&&jg()}),tt=null;else{switch(Dc(nt)){case 1:tt=fc;break;case 4:tt=gc;break;case 16:tt=hc;break;case 536870912:tt=jc;break;default:tt=hc}tt=Fk(tt,Gk.bind(null,_e))}_e.callbackPriority=et,_e.callbackNode=tt}}function Gk(_e,et){if(Ak=-1,Bk=0,K&6)throw Error(p$5(327));var tt=_e.callbackNode;if(Hk()&&_e.callbackNode!==tt)return null;var nt=uc(_e,_e===Q?Z$1:0);if(nt===0)return null;if(nt&30||nt&_e.expiredLanes||et)et=Ik(_e,nt);else{et=nt;var rt=K;K|=2;var it=Jk();(Q!==_e||Z$1!==et)&&(uk=null,Gj=B$1()+500,Kk(_e,et));do try{Lk();break}catch(st){Mk(_e,st)}while(!0);$g(),mk.current=it,K=rt,Y$1!==null?et=0:(Q=null,Z$1=0,et=T$1)}if(et!==0){if(et===2&&(rt=xc(_e),rt!==0&&(nt=rt,et=Nk(_e,rt))),et===1)throw tt=pk,Kk(_e,0),Ck(_e,nt),Dk(_e,B$1()),tt;if(et===6)Ck(_e,nt);else{if(rt=_e.current.alternate,!(nt&30)&&!Ok(rt)&&(et=Ik(_e,nt),et===2&&(it=xc(_e),it!==0&&(nt=it,et=Nk(_e,it))),et===1))throw tt=pk,Kk(_e,0),Ck(_e,nt),Dk(_e,B$1()),tt;switch(_e.finishedWork=rt,_e.finishedLanes=nt,et){case 0:case 1:throw Error(p$5(345));case 2:Pk(_e,tk,uk);break;case 3:if(Ck(_e,nt),(nt&130023424)===nt&&(et=fk+500-B$1(),10<et)){if(uc(_e,0)!==0)break;if(rt=_e.suspendedLanes,(rt&nt)!==nt){R$1(),_e.pingedLanes|=_e.suspendedLanes&rt;break}_e.timeoutHandle=Ff(Pk.bind(null,_e,tk,uk),et);break}Pk(_e,tk,uk);break;case 4:if(Ck(_e,nt),(nt&4194240)===nt)break;for(et=_e.eventTimes,rt=-1;0<nt;){var ot=31-oc(nt);it=1<<ot,ot=et[ot],ot>rt&&(rt=ot),nt&=~it}if(nt=rt,nt=B$1()-nt,nt=(120>nt?120:480>nt?480:1080>nt?1080:1920>nt?1920:3e3>nt?3e3:4320>nt?4320:1960*lk(nt/1960))-nt,10<nt){_e.timeoutHandle=Ff(Pk.bind(null,_e,tk,uk),nt);break}Pk(_e,tk,uk);break;case 5:Pk(_e,tk,uk);break;default:throw Error(p$5(329))}}}return Dk(_e,B$1()),_e.callbackNode===tt?Gk.bind(null,_e):null}function Nk(_e,et){var tt=sk;return _e.current.memoizedState.isDehydrated&&(Kk(_e,et).flags|=256),_e=Ik(_e,et),_e!==2&&(et=tk,tk=tt,et!==null&&Fj(et)),_e}function Fj(_e){tk===null?tk=_e:tk.push.apply(tk,_e)}function Ok(_e){for(var et=_e;;){if(et.flags&16384){var tt=et.updateQueue;if(tt!==null&&(tt=tt.stores,tt!==null))for(var nt=0;nt<tt.length;nt++){var rt=tt[nt],it=rt.getSnapshot;rt=rt.value;try{if(!He(it(),rt))return!1}catch{return!1}}}if(tt=et.child,et.subtreeFlags&16384&&tt!==null)tt.return=et,et=tt;else{if(et===_e)break;for(;et.sibling===null;){if(et.return===null||et.return===_e)return!0;et=et.return}et.sibling.return=et.return,et=et.sibling}}return!0}function Ck(_e,et){for(et&=~rk,et&=~qk,_e.suspendedLanes|=et,_e.pingedLanes&=~et,_e=_e.expirationTimes;0<et;){var tt=31-oc(et),nt=1<<tt;_e[tt]=-1,et&=~nt}}function Ek(_e){if(K&6)throw Error(p$5(327));Hk();var et=uc(_e,0);if(!(et&1))return Dk(_e,B$1()),null;var tt=Ik(_e,et);if(_e.tag!==0&&tt===2){var nt=xc(_e);nt!==0&&(et=nt,tt=Nk(_e,nt))}if(tt===1)throw tt=pk,Kk(_e,0),Ck(_e,et),Dk(_e,B$1()),tt;if(tt===6)throw Error(p$5(345));return _e.finishedWork=_e.current.alternate,_e.finishedLanes=et,Pk(_e,tk,uk),Dk(_e,B$1()),null}function Qk(_e,et){var tt=K;K|=1;try{return _e(et)}finally{K=tt,K===0&&(Gj=B$1()+500,fg&&jg())}}function Rk(_e){wk!==null&&wk.tag===0&&!(K&6)&&Hk();var et=K;K|=1;var tt=ok.transition,nt=C$1;try{if(ok.transition=null,C$1=1,_e)return _e()}finally{C$1=nt,ok.transition=tt,K=et,!(K&6)&&jg()}}function Hj(){fj=ej.current,E$1(ej)}function Kk(_e,et){_e.finishedWork=null,_e.finishedLanes=0;var tt=_e.timeoutHandle;if(tt!==-1&&(_e.timeoutHandle=-1,Gf(tt)),Y$1!==null)for(tt=Y$1.return;tt!==null;){var nt=tt;switch(wg(nt),nt.tag){case 1:nt=nt.type.childContextTypes,nt!=null&&$f();break;case 3:zh(),E$1(Wf),E$1(H$1),Eh();break;case 5:Bh(nt);break;case 4:zh();break;case 13:E$1(L$1);break;case 19:E$1(L$1);break;case 10:ah(nt.type._context);break;case 22:case 23:Hj()}tt=tt.return}if(Q=_e,Y$1=_e=Pg(_e.current,null),Z$1=fj=et,T$1=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for(et=0;et<fh.length;et++)if(tt=fh[et],nt=tt.interleaved,nt!==null){tt.interleaved=null;var rt=nt.next,it=tt.pending;if(it!==null){var ot=it.next;it.next=rt,nt.next=ot}tt.pending=nt}fh=null}return _e}function Mk(_e,et){do{var tt=Y$1;try{if($g(),Fh.current=Rh,Ih){for(var nt=M$1.memoizedState;nt!==null;){var rt=nt.queue;rt!==null&&(rt.pending=null),nt=nt.next}Ih=!1}if(Hh=0,O$1=N$1=M$1=null,Jh=!1,Kh=0,nk.current=null,tt===null||tt.return===null){T$1=1,pk=et,Y$1=null;break}e:{var it=_e,ot=tt.return,st=tt,ut=et;if(et=Z$1,st.flags|=32768,ut!==null&&typeof ut=="object"&&typeof ut.then=="function"){var ft=ut,dt=st,lt=dt.tag;if(!(dt.mode&1)&&(lt===0||lt===11||lt===15)){var at=dt.alternate;at?(dt.updateQueue=at.updateQueue,dt.memoizedState=at.memoizedState,dt.lanes=at.lanes):(dt.updateQueue=null,dt.memoizedState=null)}var ct=Ui(ot);if(ct!==null){ct.flags&=-257,Vi(ct,ot,st,it,et),ct.mode&1&&Si(it,ft,et),et=ct,ut=ft;var ht=et.updateQueue;if(ht===null){var pt=new Set;pt.add(ut),et.updateQueue=pt}else ht.add(ut);break e}else{if(!(et&1)){Si(it,ft,et),tj();break e}ut=Error(p$5(426))}}else if(I$1&&st.mode&1){var mt=Ui(ot);if(mt!==null){!(mt.flags&65536)&&(mt.flags|=256),Vi(mt,ot,st,it,et),Jg(Ji(ut,st));break e}}it=ut=Ji(ut,st),T$1!==4&&(T$1=2),sk===null?sk=[it]:sk.push(it),it=ot;do{switch(it.tag){case 3:it.flags|=65536,et&=-et,it.lanes|=et;var gt=Ni(it,ut,et);ph(it,gt);break e;case 1:st=ut;var yt=it.type,bt=it.stateNode;if(!(it.flags&128)&&(typeof yt.getDerivedStateFromError=="function"||bt!==null&&typeof bt.componentDidCatch=="function"&&(Ri===null||!Ri.has(bt)))){it.flags|=65536,et&=-et,it.lanes|=et;var xt=Qi(it,st,et);ph(it,xt);break e}}it=it.return}while(it!==null)}Sk(tt)}catch(vt){et=vt,Y$1===tt&&tt!==null&&(Y$1=tt=tt.return);continue}break}while(!0)}function Jk(){var _e=mk.current;return mk.current=Rh,_e===null?Rh:_e}function tj(){(T$1===0||T$1===3||T$1===2)&&(T$1=4),Q===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q,Z$1)}function Ik(_e,et){var tt=K;K|=2;var nt=Jk();(Q!==_e||Z$1!==et)&&(uk=null,Kk(_e,et));do try{Tk();break}catch(rt){Mk(_e,rt)}while(!0);if($g(),K=tt,mk.current=nt,Y$1!==null)throw Error(p$5(261));return Q=null,Z$1=0,T$1}function Tk(){for(;Y$1!==null;)Uk(Y$1)}function Lk(){for(;Y$1!==null&&!cc();)Uk(Y$1)}function Uk(_e){var et=Vk(_e.alternate,_e,fj);_e.memoizedProps=_e.pendingProps,et===null?Sk(_e):Y$1=et,nk.current=null}function Sk(_e){var et=_e;do{var tt=et.alternate;if(_e=et.return,et.flags&32768){if(tt=Ij(tt,et),tt!==null){tt.flags&=32767,Y$1=tt;return}if(_e!==null)_e.flags|=32768,_e.subtreeFlags=0,_e.deletions=null;else{T$1=6,Y$1=null;return}}else if(tt=Ej(tt,et,fj),tt!==null){Y$1=tt;return}if(et=et.sibling,et!==null){Y$1=et;return}Y$1=et=_e}while(et!==null);T$1===0&&(T$1=5)}function Pk(_e,et,tt){var nt=C$1,rt=ok.transition;try{ok.transition=null,C$1=1,Wk(_e,et,tt,nt)}finally{ok.transition=rt,C$1=nt}return null}function Wk(_e,et,tt,nt){do Hk();while(wk!==null);if(K&6)throw Error(p$5(327));tt=_e.finishedWork;var rt=_e.finishedLanes;if(tt===null)return null;if(_e.finishedWork=null,_e.finishedLanes=0,tt===_e.current)throw Error(p$5(177));_e.callbackNode=null,_e.callbackPriority=0;var it=tt.lanes|tt.childLanes;if(Bc(_e,it),_e===Q&&(Y$1=Q=null,Z$1=0),!(tt.subtreeFlags&2064)&&!(tt.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),it=(tt.flags&15990)!==0,tt.subtreeFlags&15990||it){it=ok.transition,ok.transition=null;var ot=C$1;C$1=1;var st=K;K|=4,nk.current=null,Oj(_e,tt),dk(tt,_e),Oe(Df),dd=!!Cf,Df=Cf=null,_e.current=tt,hk(tt),dc(),K=st,C$1=ot,ok.transition=it}else _e.current=tt;if(vk&&(vk=!1,wk=_e,xk=rt),it=_e.pendingLanes,it===0&&(Ri=null),mc(tt.stateNode),Dk(_e,B$1()),et!==null)for(nt=_e.onRecoverableError,tt=0;tt<et.length;tt++)rt=et[tt],nt(rt.value,{componentStack:rt.stack,digest:rt.digest});if(Oi)throw Oi=!1,_e=Pi,Pi=null,_e;return xk&1&&_e.tag!==0&&Hk(),it=_e.pendingLanes,it&1?_e===zk?yk++:(yk=0,zk=_e):yk=0,jg(),null}function Hk(){if(wk!==null){var _e=Dc(xk),et=ok.transition,tt=C$1;try{if(ok.transition=null,C$1=16>_e?16:_e,wk===null)var nt=!1;else{if(_e=wk,wk=null,xk=0,K&6)throw Error(p$5(331));var rt=K;for(K|=4,V$1=_e.current;V$1!==null;){var it=V$1,ot=it.child;if(V$1.flags&16){var st=it.deletions;if(st!==null){for(var ut=0;ut<st.length;ut++){var ft=st[ut];for(V$1=ft;V$1!==null;){var dt=V$1;switch(dt.tag){case 0:case 11:case 15:Pj(8,dt,it)}var lt=dt.child;if(lt!==null)lt.return=dt,V$1=lt;else for(;V$1!==null;){dt=V$1;var at=dt.sibling,ct=dt.return;if(Sj(dt),dt===ft){V$1=null;break}if(at!==null){at.return=ct,V$1=at;break}V$1=ct}}}var ht=it.alternate;if(ht!==null){var pt=ht.child;if(pt!==null){ht.child=null;do{var mt=pt.sibling;pt.sibling=null,pt=mt}while(pt!==null)}}V$1=it}}if(it.subtreeFlags&2064&&ot!==null)ot.return=it,V$1=ot;else e:for(;V$1!==null;){if(it=V$1,it.flags&2048)switch(it.tag){case 0:case 11:case 15:Pj(9,it,it.return)}var gt=it.sibling;if(gt!==null){gt.return=it.return,V$1=gt;break e}V$1=it.return}}var yt=_e.current;for(V$1=yt;V$1!==null;){ot=V$1;var bt=ot.child;if(ot.subtreeFlags&2064&&bt!==null)bt.return=ot,V$1=bt;else e:for(ot=yt;V$1!==null;){if(st=V$1,st.flags&2048)try{switch(st.tag){case 0:case 11:case 15:Qj(9,st)}}catch(vt){W$1(st,st.return,vt)}if(st===ot){V$1=null;break e}var xt=st.sibling;if(xt!==null){xt.return=st.return,V$1=xt;break e}V$1=st.return}}if(K=rt,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,_e)}catch{}nt=!0}return nt}finally{C$1=tt,ok.transition=et}}return!1}function Xk(_e,et,tt){et=Ji(tt,et),et=Ni(_e,et,1),_e=nh(_e,et,1),et=R$1(),_e!==null&&(Ac(_e,1,et),Dk(_e,et))}function W$1(_e,et,tt){if(_e.tag===3)Xk(_e,_e,tt);else for(;et!==null;){if(et.tag===3){Xk(et,_e,tt);break}else if(et.tag===1){var nt=et.stateNode;if(typeof et.type.getDerivedStateFromError=="function"||typeof nt.componentDidCatch=="function"&&(Ri===null||!Ri.has(nt))){_e=Ji(tt,_e),_e=Qi(et,_e,1),et=nh(et,_e,1),_e=R$1(),et!==null&&(Ac(et,1,_e),Dk(et,_e));break}}et=et.return}}function Ti(_e,et,tt){var nt=_e.pingCache;nt!==null&&nt.delete(et),et=R$1(),_e.pingedLanes|=_e.suspendedLanes&tt,Q===_e&&(Z$1&tt)===tt&&(T$1===4||T$1===3&&(Z$1&130023424)===Z$1&&500>B$1()-fk?Kk(_e,0):rk|=tt),Dk(_e,et)}function Yk(_e,et){et===0&&(_e.mode&1?(et=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):et=1);var tt=R$1();_e=ih(_e,et),_e!==null&&(Ac(_e,et,tt),Dk(_e,tt))}function uj(_e){var et=_e.memoizedState,tt=0;et!==null&&(tt=et.retryLane),Yk(_e,tt)}function bk(_e,et){var tt=0;switch(_e.tag){case 13:var nt=_e.stateNode,rt=_e.memoizedState;rt!==null&&(tt=rt.retryLane);break;case 19:nt=_e.stateNode;break;default:throw Error(p$5(314))}nt!==null&&nt.delete(et),Yk(_e,tt)}var Vk;Vk=function(_e,et,tt){if(_e!==null)if(_e.memoizedProps!==et.pendingProps||Wf.current)dh=!0;else{if(!(_e.lanes&tt)&&!(et.flags&128))return dh=!1,yj(_e,et,tt);dh=!!(_e.flags&131072)}else dh=!1,I$1&&et.flags&1048576&&ug(et,ng,et.index);switch(et.lanes=0,et.tag){case 2:var nt=et.type;ij(_e,et),_e=et.pendingProps;var rt=Yf(et,H$1.current);ch(et,tt),rt=Nh(null,et,nt,_e,rt,tt);var it=Sh();return et.flags|=1,typeof rt=="object"&&rt!==null&&typeof rt.render=="function"&&rt.$$typeof===void 0?(et.tag=1,et.memoizedState=null,et.updateQueue=null,Zf(nt)?(it=!0,cg(et)):it=!1,et.memoizedState=rt.state!==null&&rt.state!==void 0?rt.state:null,kh(et),rt.updater=Ei,et.stateNode=rt,rt._reactInternals=et,Ii(et,nt,_e,tt),et=jj$3(null,et,nt,!0,it,tt)):(et.tag=0,I$1&&it&&vg(et),Xi(null,et,rt,tt),et=et.child),et;case 16:nt=et.elementType;e:{switch(ij(_e,et),_e=et.pendingProps,rt=nt._init,nt=rt(nt._payload),et.type=nt,rt=et.tag=Zk(nt),_e=Ci(nt,_e),rt){case 0:et=cj(null,et,nt,_e,tt);break e;case 1:et=hj(null,et,nt,_e,tt);break e;case 11:et=Yi(null,et,nt,_e,tt);break e;case 14:et=$i(null,et,nt,Ci(nt.type,_e),tt);break e}throw Error(p$5(306,nt,""))}return et;case 0:return nt=et.type,rt=et.pendingProps,rt=et.elementType===nt?rt:Ci(nt,rt),cj(_e,et,nt,rt,tt);case 1:return nt=et.type,rt=et.pendingProps,rt=et.elementType===nt?rt:Ci(nt,rt),hj(_e,et,nt,rt,tt);case 3:e:{if(kj(et),_e===null)throw Error(p$5(387));nt=et.pendingProps,it=et.memoizedState,rt=it.element,lh(_e,et),qh(et,nt,null,tt);var ot=et.memoizedState;if(nt=ot.element,it.isDehydrated)if(it={element:nt,isDehydrated:!1,cache:ot.cache,pendingSuspenseBoundaries:ot.pendingSuspenseBoundaries,transitions:ot.transitions},et.updateQueue.baseState=it,et.memoizedState=it,et.flags&256){rt=Ji(Error(p$5(423)),et),et=lj(_e,et,nt,tt,rt);break e}else if(nt!==rt){rt=Ji(Error(p$5(424)),et),et=lj(_e,et,nt,tt,rt);break e}else for(yg=Lf(et.stateNode.containerInfo.firstChild),xg=et,I$1=!0,zg=null,tt=Vg(et,null,nt,tt),et.child=tt;tt;)tt.flags=tt.flags&-3|4096,tt=tt.sibling;else{if(Ig(),nt===rt){et=Zi(_e,et,tt);break e}Xi(_e,et,nt,tt)}et=et.child}return et;case 5:return Ah(et),_e===null&&Eg(et),nt=et.type,rt=et.pendingProps,it=_e!==null?_e.memoizedProps:null,ot=rt.children,Ef(nt,rt)?ot=null:it!==null&&Ef(nt,it)&&(et.flags|=32),gj(_e,et),Xi(_e,et,ot,tt),et.child;case 6:return _e===null&&Eg(et),null;case 13:return oj(_e,et,tt);case 4:return yh(et,et.stateNode.containerInfo),nt=et.pendingProps,_e===null?et.child=Ug(et,null,nt,tt):Xi(_e,et,nt,tt),et.child;case 11:return nt=et.type,rt=et.pendingProps,rt=et.elementType===nt?rt:Ci(nt,rt),Yi(_e,et,nt,rt,tt);case 7:return Xi(_e,et,et.pendingProps,tt),et.child;case 8:return Xi(_e,et,et.pendingProps.children,tt),et.child;case 12:return Xi(_e,et,et.pendingProps.children,tt),et.child;case 10:e:{if(nt=et.type._context,rt=et.pendingProps,it=et.memoizedProps,ot=rt.value,G$1(Wg,nt._currentValue),nt._currentValue=ot,it!==null)if(He(it.value,ot)){if(it.children===rt.children&&!Wf.current){et=Zi(_e,et,tt);break e}}else for(it=et.child,it!==null&&(it.return=et);it!==null;){var st=it.dependencies;if(st!==null){ot=it.child;for(var ut=st.firstContext;ut!==null;){if(ut.context===nt){if(it.tag===1){ut=mh(-1,tt&-tt),ut.tag=2;var ft=it.updateQueue;if(ft!==null){ft=ft.shared;var dt=ft.pending;dt===null?ut.next=ut:(ut.next=dt.next,dt.next=ut),ft.pending=ut}}it.lanes|=tt,ut=it.alternate,ut!==null&&(ut.lanes|=tt),bh(it.return,tt,et),st.lanes|=tt;break}ut=ut.next}}else if(it.tag===10)ot=it.type===et.type?null:it.child;else if(it.tag===18){if(ot=it.return,ot===null)throw Error(p$5(341));ot.lanes|=tt,st=ot.alternate,st!==null&&(st.lanes|=tt),bh(ot,tt,et),ot=it.sibling}else ot=it.child;if(ot!==null)ot.return=it;else for(ot=it;ot!==null;){if(ot===et){ot=null;break}if(it=ot.sibling,it!==null){it.return=ot.return,ot=it;break}ot=ot.return}it=ot}Xi(_e,et,rt.children,tt),et=et.child}return et;case 9:return rt=et.type,nt=et.pendingProps.children,ch(et,tt),rt=eh(rt),nt=nt(rt),et.flags|=1,Xi(_e,et,nt,tt),et.child;case 14:return nt=et.type,rt=Ci(nt,et.pendingProps),rt=Ci(nt.type,rt),$i(_e,et,nt,rt,tt);case 15:return bj(_e,et,et.type,et.pendingProps,tt);case 17:return nt=et.type,rt=et.pendingProps,rt=et.elementType===nt?rt:Ci(nt,rt),ij(_e,et),et.tag=1,Zf(nt)?(_e=!0,cg(et)):_e=!1,ch(et,tt),Gi(et,nt,rt),Ii(et,nt,rt,tt),jj$3(null,et,nt,!0,_e,tt);case 19:return xj(_e,et,tt);case 22:return dj(_e,et,tt)}throw Error(p$5(156,et.tag))};function Fk(_e,et){return ac(_e,et)}function $k(_e,et,tt,nt){this.tag=_e,this.key=tt,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=et,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=nt,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(_e,et,tt,nt){return new $k(_e,et,tt,nt)}function aj(_e){return _e=_e.prototype,!(!_e||!_e.isReactComponent)}function Zk(_e){if(typeof _e=="function")return aj(_e)?1:0;if(_e!=null){if(_e=_e.$$typeof,_e===Da)return 11;if(_e===Ga)return 14}return 2}function Pg(_e,et){var tt=_e.alternate;return tt===null?(tt=Bg(_e.tag,et,_e.key,_e.mode),tt.elementType=_e.elementType,tt.type=_e.type,tt.stateNode=_e.stateNode,tt.alternate=_e,_e.alternate=tt):(tt.pendingProps=et,tt.type=_e.type,tt.flags=0,tt.subtreeFlags=0,tt.deletions=null),tt.flags=_e.flags&14680064,tt.childLanes=_e.childLanes,tt.lanes=_e.lanes,tt.child=_e.child,tt.memoizedProps=_e.memoizedProps,tt.memoizedState=_e.memoizedState,tt.updateQueue=_e.updateQueue,et=_e.dependencies,tt.dependencies=et===null?null:{lanes:et.lanes,firstContext:et.firstContext},tt.sibling=_e.sibling,tt.index=_e.index,tt.ref=_e.ref,tt}function Rg(_e,et,tt,nt,rt,it){var ot=2;if(nt=_e,typeof _e=="function")aj(_e)&&(ot=1);else if(typeof _e=="string")ot=5;else e:switch(_e){case ya:return Tg(tt.children,rt,it,et);case za:ot=8,rt|=8;break;case Aa:return _e=Bg(12,tt,et,rt|2),_e.elementType=Aa,_e.lanes=it,_e;case Ea:return _e=Bg(13,tt,et,rt),_e.elementType=Ea,_e.lanes=it,_e;case Fa:return _e=Bg(19,tt,et,rt),_e.elementType=Fa,_e.lanes=it,_e;case Ia:return pj(tt,rt,it,et);default:if(typeof _e=="object"&&_e!==null)switch(_e.$$typeof){case Ba:ot=10;break e;case Ca:ot=9;break e;case Da:ot=11;break e;case Ga:ot=14;break e;case Ha:ot=16,nt=null;break e}throw Error(p$5(130,_e==null?_e:typeof _e,""))}return et=Bg(ot,tt,et,rt),et.elementType=_e,et.type=nt,et.lanes=it,et}function Tg(_e,et,tt,nt){return _e=Bg(7,_e,nt,et),_e.lanes=tt,_e}function pj(_e,et,tt,nt){return _e=Bg(22,_e,nt,et),_e.elementType=Ia,_e.lanes=tt,_e.stateNode={isHidden:!1},_e}function Qg(_e,et,tt){return _e=Bg(6,_e,null,et),_e.lanes=tt,_e}function Sg(_e,et,tt){return et=Bg(4,_e.children!==null?_e.children:[],_e.key,et),et.lanes=tt,et.stateNode={containerInfo:_e.containerInfo,pendingChildren:null,implementation:_e.implementation},et}function al(_e,et,tt,nt,rt){this.tag=et,this.containerInfo=_e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=nt,this.onRecoverableError=rt,this.mutableSourceEagerHydrationData=null}function bl(_e,et,tt,nt,rt,it,ot,st,ut){return _e=new al(_e,et,tt,st,ut),et===1?(et=1,it===!0&&(et|=8)):et=0,it=Bg(3,null,null,et),_e.current=it,it.stateNode=_e,it.memoizedState={element:nt,isDehydrated:tt,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(it),_e}function cl(_e,et,tt){var nt=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:nt==null?null:""+nt,children:_e,containerInfo:et,implementation:tt}}function dl(_e){if(!_e)return Vf;_e=_e._reactInternals;e:{if(Vb$1(_e)!==_e||_e.tag!==1)throw Error(p$5(170));var et=_e;do{switch(et.tag){case 3:et=et.stateNode.context;break e;case 1:if(Zf(et.type)){et=et.stateNode.__reactInternalMemoizedMergedChildContext;break e}}et=et.return}while(et!==null);throw Error(p$5(171))}if(_e.tag===1){var tt=_e.type;if(Zf(tt))return bg(_e,tt,et)}return et}function el$1(_e,et,tt,nt,rt,it,ot,st,ut){return _e=bl(tt,nt,!0,_e,rt,it,ot,st,ut),_e.context=dl(null),tt=_e.current,nt=R$1(),rt=yi(tt),it=mh(nt,rt),it.callback=et??null,nh(tt,it,rt),_e.current.lanes=rt,Ac(_e,rt,nt),Dk(_e,nt),_e}function fl(_e,et,tt,nt){var rt=et.current,it=R$1(),ot=yi(rt);return tt=dl(tt),et.context===null?et.context=tt:et.pendingContext=tt,et=mh(it,ot),et.payload={element:_e},nt=nt===void 0?null:nt,nt!==null&&(et.callback=nt),_e=nh(rt,et,ot),_e!==null&&(gi(_e,rt,ot,it),oh(_e,rt,ot)),ot}function gl(_e){if(_e=_e.current,!_e.child)return null;switch(_e.child.tag){case 5:return _e.child.stateNode;default:return _e.child.stateNode}}function hl(_e,et){if(_e=_e.memoizedState,_e!==null&&_e.dehydrated!==null){var tt=_e.retryLane;_e.retryLane=tt!==0&&tt<et?tt:et}}function il(_e,et){hl(_e,et),(_e=_e.alternate)&&hl(_e,et)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(_e){console.error(_e)};function ll(_e){this._internalRoot=_e}ml.prototype.render=ll.prototype.render=function(_e){var et=this._internalRoot;if(et===null)throw Error(p$5(409));fl(_e,et,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var _e=this._internalRoot;if(_e!==null){this._internalRoot=null;var et=_e.containerInfo;Rk(function(){fl(null,_e,null,null)}),et[uf]=null}};function ml(_e){this._internalRoot=_e}ml.prototype.unstable_scheduleHydration=function(_e){if(_e){var et=Hc();_e={blockedOn:null,target:_e,priority:et};for(var tt=0;tt<Qc.length&&et!==0&&et<Qc[tt].priority;tt++);Qc.splice(tt,0,_e),tt===0&&Vc(_e)}};function nl(_e){return!(!_e||_e.nodeType!==1&&_e.nodeType!==9&&_e.nodeType!==11)}function ol(_e){return!(!_e||_e.nodeType!==1&&_e.nodeType!==9&&_e.nodeType!==11&&(_e.nodeType!==8||_e.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(_e,et,tt,nt,rt){if(rt){if(typeof nt=="function"){var it=nt;nt=function(){var ft=gl(ot);it.call(ft)}}var ot=el$1(et,nt,_e,0,null,!1,!1,"",pl);return _e._reactRootContainer=ot,_e[uf]=ot.current,sf(_e.nodeType===8?_e.parentNode:_e),Rk(),ot}for(;rt=_e.lastChild;)_e.removeChild(rt);if(typeof nt=="function"){var st=nt;nt=function(){var ft=gl(ut);st.call(ft)}}var ut=bl(_e,0,!1,null,null,!1,!1,"",pl);return _e._reactRootContainer=ut,_e[uf]=ut.current,sf(_e.nodeType===8?_e.parentNode:_e),Rk(function(){fl(et,ut,tt,nt)}),ut}function rl(_e,et,tt,nt,rt){var it=tt._reactRootContainer;if(it){var ot=it;if(typeof rt=="function"){var st=rt;rt=function(){var ut=gl(ot);st.call(ut)}}fl(et,ot,_e,rt)}else ot=ql(tt,et,_e,rt,nt);return gl(ot)}Ec=function(_e){switch(_e.tag){case 3:var et=_e.stateNode;if(et.current.memoizedState.isDehydrated){var tt=tc(et.pendingLanes);tt!==0&&(Cc$1(et,tt|1),Dk(et,B$1()),!(K&6)&&(Gj=B$1()+500,jg()))}break;case 13:Rk(function(){var nt=ih(_e,1);if(nt!==null){var rt=R$1();gi(nt,_e,1,rt)}}),il(_e,1)}};Fc=function(_e){if(_e.tag===13){var et=ih(_e,134217728);if(et!==null){var tt=R$1();gi(et,_e,134217728,tt)}il(_e,134217728)}};Gc=function(_e){if(_e.tag===13){var et=yi(_e),tt=ih(_e,et);if(tt!==null){var nt=R$1();gi(tt,_e,et,nt)}il(_e,et)}};Hc=function(){return C$1};Ic=function(_e,et){var tt=C$1;try{return C$1=_e,et()}finally{C$1=tt}};yb=function(_e,et,tt){switch(et){case"input":if(bb(_e,tt),et=tt.name,tt.type==="radio"&&et!=null){for(tt=_e;tt.parentNode;)tt=tt.parentNode;for(tt=tt.querySelectorAll("input[name="+JSON.stringify(""+et)+'][type="radio"]'),et=0;et<tt.length;et++){var nt=tt[et];if(nt!==_e&&nt.form===_e.form){var rt=Db(nt);if(!rt)throw Error(p$5(90));Wa(nt),bb(nt,rt)}}}break;case"textarea":ib(_e,tt);break;case"select":et=tt.value,et!=null&&fb(_e,!!tt.multiple,et,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(_e){return _e=Zb(_e),_e===null?null:_e.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(_e,et){var tt=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(et))throw Error(p$5(200));return cl(_e,et,null,tt)};reactDom_production_min.createRoot=function(_e,et){if(!nl(_e))throw Error(p$5(299));var tt=!1,nt="",rt=kl;return et!=null&&(et.unstable_strictMode===!0&&(tt=!0),et.identifierPrefix!==void 0&&(nt=et.identifierPrefix),et.onRecoverableError!==void 0&&(rt=et.onRecoverableError)),et=bl(_e,1,!1,null,null,tt,!1,nt,rt),_e[uf]=et.current,sf(_e.nodeType===8?_e.parentNode:_e),new ll(et)};reactDom_production_min.findDOMNode=function(_e){if(_e==null)return null;if(_e.nodeType===1)return _e;var et=_e._reactInternals;if(et===void 0)throw typeof _e.render=="function"?Error(p$5(188)):(_e=Object.keys(_e).join(","),Error(p$5(268,_e)));return _e=Zb(et),_e=_e===null?null:_e.stateNode,_e};reactDom_production_min.flushSync=function(_e){return Rk(_e)};reactDom_production_min.hydrate=function(_e,et,tt){if(!ol(et))throw Error(p$5(200));return rl(null,_e,et,!0,tt)};reactDom_production_min.hydrateRoot=function(_e,et,tt){if(!nl(_e))throw Error(p$5(405));var nt=tt!=null&&tt.hydratedSources||null,rt=!1,it="",ot=kl;if(tt!=null&&(tt.unstable_strictMode===!0&&(rt=!0),tt.identifierPrefix!==void 0&&(it=tt.identifierPrefix),tt.onRecoverableError!==void 0&&(ot=tt.onRecoverableError)),et=el$1(et,null,_e,1,tt??null,rt,!1,it,ot),_e[uf]=et.current,sf(_e),nt)for(_e=0;_e<nt.length;_e++)tt=nt[_e],rt=tt._getVersion,rt=rt(tt._source),et.mutableSourceEagerHydrationData==null?et.mutableSourceEagerHydrationData=[tt,rt]:et.mutableSourceEagerHydrationData.push(tt,rt);return new ml(et)};reactDom_production_min.render=function(_e,et,tt){if(!ol(et))throw Error(p$5(200));return rl(null,_e,et,!1,tt)};reactDom_production_min.unmountComponentAtNode=function(_e){if(!ol(_e))throw Error(p$5(40));return _e._reactRootContainer?(Rk(function(){rl(null,null,_e,!1,function(){_e._reactRootContainer=null,_e[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(_e,et,tt,nt){if(!ol(tt))throw Error(p$5(200));if(_e==null||_e._reactInternals===void 0)throw Error(p$5(38));return rl(_e,et,tt,!1,nt)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(_e){console.error(_e)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports;const ReactDOM=getDefaultExportFromCjs(reactDomExports);var m$3=reactDomExports;client.createRoot=m$3.createRoot,client.hydrateRoot=m$3.hydrateRoot;var top$1="top",bottom$1="bottom",right$1="right",left="left",auto="auto",basePlacements=[top$1,bottom$1,right$1,left],start$2="start",end$1="end",clippingParents="clippingParents",viewport="viewport",popper="popper",reference$1="reference",variationPlacements=basePlacements.reduce(function(_e,et){return _e.concat([et+"-"+start$2,et+"-"+end$1])},[]),placements=[].concat(basePlacements,[auto]).reduce(function(_e,et){return _e.concat([et,et+"-"+start$2,et+"-"+end$1])},[]),beforeRead="beforeRead",read="read",afterRead="afterRead",beforeMain="beforeMain",main="main",afterMain="afterMain",beforeWrite="beforeWrite",write="write",afterWrite="afterWrite",modifierPhases=[beforeRead,read,afterRead,beforeMain,main,afterMain,beforeWrite,write,afterWrite];function getNodeName$1(_e){return _e?(_e.nodeName||"").toLowerCase():null}function getWindow$1(_e){if(_e==null)return window;if(_e.toString()!=="[object Window]"){var et=_e.ownerDocument;return et&&et.defaultView||window}return _e}function isElement$2(_e){var et=getWindow$1(_e).Element;return _e instanceof et||_e instanceof Element}function isHTMLElement$1(_e){var et=getWindow$1(_e).HTMLElement;return _e instanceof et||_e instanceof HTMLElement}function isShadowRoot$1(_e){if(typeof ShadowRoot>"u")return!1;var et=getWindow$1(_e).ShadowRoot;return _e instanceof et||_e instanceof ShadowRoot}function applyStyles(_e){var et=_e.state;Object.keys(et.elements).forEach(function(tt){var nt=et.styles[tt]||{},rt=et.attributes[tt]||{},it=et.elements[tt];!isHTMLElement$1(it)||!getNodeName$1(it)||(Object.assign(it.style,nt),Object.keys(rt).forEach(function(ot){var st=rt[ot];st===!1?it.removeAttribute(ot):it.setAttribute(ot,st===!0?"":st)}))})}function effect$2(_e){var et=_e.state,tt={popper:{position:et.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(et.elements.popper.style,tt.popper),et.styles=tt,et.elements.arrow&&Object.assign(et.elements.arrow.style,tt.arrow),function(){Object.keys(et.elements).forEach(function(nt){var rt=et.elements[nt],it=et.attributes[nt]||{},ot=Object.keys(et.styles.hasOwnProperty(nt)?et.styles[nt]:tt[nt]),st=ot.reduce(function(ut,ft){return ut[ft]="",ut},{});!isHTMLElement$1(rt)||!getNodeName$1(rt)||(Object.assign(rt.style,st),Object.keys(it).forEach(function(ut){rt.removeAttribute(ut)}))})}}const applyStyles$1={name:"applyStyles",enabled:!0,phase:"write",fn:applyStyles,effect:effect$2,requires:["computeStyles"]};function getBasePlacement(_e){return _e.split("-")[0]}var max$5=Math.max,min$4=Math.min,round$3=Math.round;function getUAString(){var _e=navigator.userAgentData;return _e!=null&&_e.brands&&Array.isArray(_e.brands)?_e.brands.map(function(et){return et.brand+"/"+et.version}).join(" "):navigator.userAgent}function isLayoutViewport(){return!/^((?!chrome|android).)*safari/i.test(getUAString())}function getBoundingClientRect$1(_e,et,tt){et===void 0&&(et=!1),tt===void 0&&(tt=!1);var nt=_e.getBoundingClientRect(),rt=1,it=1;et&&isHTMLElement$1(_e)&&(rt=_e.offsetWidth>0&&round$3(nt.width)/_e.offsetWidth||1,it=_e.offsetHeight>0&&round$3(nt.height)/_e.offsetHeight||1);var ot=isElement$2(_e)?getWindow$1(_e):window,st=ot.visualViewport,ut=!isLayoutViewport()&&tt,ft=(nt.left+(ut&&st?st.offsetLeft:0))/rt,dt=(nt.top+(ut&&st?st.offsetTop:0))/it,lt=nt.width/rt,at=nt.height/it;return{width:lt,height:at,top:dt,right:ft+lt,bottom:dt+at,left:ft,x:ft,y:dt}}function getLayoutRect(_e){var et=getBoundingClientRect$1(_e),tt=_e.offsetWidth,nt=_e.offsetHeight;return Math.abs(et.width-tt)<=1&&(tt=et.width),Math.abs(et.height-nt)<=1&&(nt=et.height),{x:_e.offsetLeft,y:_e.offsetTop,width:tt,height:nt}}function contains$1(_e,et){var tt=et.getRootNode&&et.getRootNode();if(_e.contains(et))return!0;if(tt&&isShadowRoot$1(tt)){var nt=et;do{if(nt&&_e.isSameNode(nt))return!0;nt=nt.parentNode||nt.host}while(nt)}return!1}function getComputedStyle$3(_e){return getWindow$1(_e).getComputedStyle(_e)}function isTableElement$1(_e){return["table","td","th"].indexOf(getNodeName$1(_e))>=0}function getDocumentElement$1(_e){return((isElement$2(_e)?_e.ownerDocument:_e.document)||window.document).documentElement}function getParentNode$1(_e){return getNodeName$1(_e)==="html"?_e:_e.assignedSlot||_e.parentNode||(isShadowRoot$1(_e)?_e.host:null)||getDocumentElement$1(_e)}function getTrueOffsetParent$1(_e){return!isHTMLElement$1(_e)||getComputedStyle$3(_e).position==="fixed"?null:_e.offsetParent}function getContainingBlock$1(_e){var et=/firefox/i.test(getUAString()),tt=/Trident/i.test(getUAString());if(tt&&isHTMLElement$1(_e)){var nt=getComputedStyle$3(_e);if(nt.position==="fixed")return null}var rt=getParentNode$1(_e);for(isShadowRoot$1(rt)&&(rt=rt.host);isHTMLElement$1(rt)&&["html","body"].indexOf(getNodeName$1(rt))<0;){var it=getComputedStyle$3(rt);if(it.transform!=="none"||it.perspective!=="none"||it.contain==="paint"||["transform","perspective"].indexOf(it.willChange)!==-1||et&&it.willChange==="filter"||et&&it.filter&&it.filter!=="none")return rt;rt=rt.parentNode}return null}function getOffsetParent$1(_e){for(var et=getWindow$1(_e),tt=getTrueOffsetParent$1(_e);tt&&isTableElement$1(tt)&&getComputedStyle$3(tt).position==="static";)tt=getTrueOffsetParent$1(tt);return tt&&(getNodeName$1(tt)==="html"||getNodeName$1(tt)==="body"&&getComputedStyle$3(tt).position==="static")?et:tt||getContainingBlock$1(_e)||et}function getMainAxisFromPlacement(_e){return["top","bottom"].indexOf(_e)>=0?"x":"y"}function within(_e,et,tt){return max$5(_e,min$4(et,tt))}function withinMaxClamp(_e,et,tt){var nt=within(_e,et,tt);return nt>tt?tt:nt}function getFreshSideObject(){return{top:0,right:0,bottom:0,left:0}}function mergePaddingObject(_e){return Object.assign({},getFreshSideObject(),_e)}function expandToHashMap(_e,et){return et.reduce(function(tt,nt){return tt[nt]=_e,tt},{})}var toPaddingObject=function(et,tt){return et=typeof et=="function"?et(Object.assign({},tt.rects,{placement:tt.placement})):et,mergePaddingObject(typeof et!="number"?et:expandToHashMap(et,basePlacements))};function arrow$4(_e){var et,tt=_e.state,nt=_e.name,rt=_e.options,it=tt.elements.arrow,ot=tt.modifiersData.popperOffsets,st=getBasePlacement(tt.placement),ut=getMainAxisFromPlacement(st),ft=[left,right$1].indexOf(st)>=0,dt=ft?"height":"width";if(!(!it||!ot)){var lt=toPaddingObject(rt.padding,tt),at=getLayoutRect(it),ct=ut==="y"?top$1:left,ht=ut==="y"?bottom$1:right$1,pt=tt.rects.reference[dt]+tt.rects.reference[ut]-ot[ut]-tt.rects.popper[dt],mt=ot[ut]-tt.rects.reference[ut],gt=getOffsetParent$1(it),yt=gt?ut==="y"?gt.clientHeight||0:gt.clientWidth||0:0,bt=pt/2-mt/2,xt=lt[ct],vt=yt-at[dt]-lt[ht],wt=yt/2-at[dt]/2+bt,_t=within(xt,wt,vt),Ct=ut;tt.modifiersData[nt]=(et={},et[Ct]=_t,et.centerOffset=_t-wt,et)}}function effect$1(_e){var et=_e.state,tt=_e.options,nt=tt.element,rt=nt===void 0?"[data-popper-arrow]":nt;rt!=null&&(typeof rt=="string"&&(rt=et.elements.popper.querySelector(rt),!rt)||contains$1(et.elements.popper,rt)&&(et.elements.arrow=rt))}const arrow$5={name:"arrow",enabled:!0,phase:"main",fn:arrow$4,effect:effect$1,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function getVariation(_e){return _e.split("-")[1]}var unsetSides={top:"auto",right:"auto",bottom:"auto",left:"auto"};function roundOffsetsByDPR(_e,et){var tt=_e.x,nt=_e.y,rt=et.devicePixelRatio||1;return{x:round$3(tt*rt)/rt||0,y:round$3(nt*rt)/rt||0}}function mapToStyles(_e){var et,tt=_e.popper,nt=_e.popperRect,rt=_e.placement,it=_e.variation,ot=_e.offsets,st=_e.position,ut=_e.gpuAcceleration,ft=_e.adaptive,dt=_e.roundOffsets,lt=_e.isFixed,at=ot.x,ct=at===void 0?0:at,ht=ot.y,pt=ht===void 0?0:ht,mt=typeof dt=="function"?dt({x:ct,y:pt}):{x:ct,y:pt};ct=mt.x,pt=mt.y;var gt=ot.hasOwnProperty("x"),yt=ot.hasOwnProperty("y"),bt=left,xt=top$1,vt=window;if(ft){var wt=getOffsetParent$1(tt),_t="clientHeight",Ct="clientWidth";if(wt===getWindow$1(tt)&&(wt=getDocumentElement$1(tt),getComputedStyle$3(wt).position!=="static"&&st==="absolute"&&(_t="scrollHeight",Ct="scrollWidth")),wt=wt,rt===top$1||(rt===left||rt===right$1)&&it===end$1){xt=bottom$1;var Et=lt&&wt===vt&&vt.visualViewport?vt.visualViewport.height:wt[_t];pt-=Et-nt.height,pt*=ut?1:-1}if(rt===left||(rt===top$1||rt===bottom$1)&&it===end$1){bt=right$1;var $t=lt&&wt===vt&&vt.visualViewport?vt.visualViewport.width:wt[Ct];ct-=$t-nt.width,ct*=ut?1:-1}}var jt=Object.assign({position:st},ft&&unsetSides),Dt=dt===!0?roundOffsetsByDPR({x:ct,y:pt},getWindow$1(tt)):{x:ct,y:pt};if(ct=Dt.x,pt=Dt.y,ut){var Pt;return Object.assign({},jt,(Pt={},Pt[xt]=yt?"0":"",Pt[bt]=gt?"0":"",Pt.transform=(vt.devicePixelRatio||1)<=1?"translate("+ct+"px, "+pt+"px)":"translate3d("+ct+"px, "+pt+"px, 0)",Pt))}return Object.assign({},jt,(et={},et[xt]=yt?pt+"px":"",et[bt]=gt?ct+"px":"",et.transform="",et))}function computeStyles(_e){var et=_e.state,tt=_e.options,nt=tt.gpuAcceleration,rt=nt===void 0?!0:nt,it=tt.adaptive,ot=it===void 0?!0:it,st=tt.roundOffsets,ut=st===void 0?!0:st,ft={placement:getBasePlacement(et.placement),variation:getVariation(et.placement),popper:et.elements.popper,popperRect:et.rects.popper,gpuAcceleration:rt,isFixed:et.options.strategy==="fixed"};et.modifiersData.popperOffsets!=null&&(et.styles.popper=Object.assign({},et.styles.popper,mapToStyles(Object.assign({},ft,{offsets:et.modifiersData.popperOffsets,position:et.options.strategy,adaptive:ot,roundOffsets:ut})))),et.modifiersData.arrow!=null&&(et.styles.arrow=Object.assign({},et.styles.arrow,mapToStyles(Object.assign({},ft,{offsets:et.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:ut})))),et.attributes.popper=Object.assign({},et.attributes.popper,{"data-popper-placement":et.placement})}const computeStyles$1={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:computeStyles,data:{}};var passive$2={passive:!0};function effect(_e){var et=_e.state,tt=_e.instance,nt=_e.options,rt=nt.scroll,it=rt===void 0?!0:rt,ot=nt.resize,st=ot===void 0?!0:ot,ut=getWindow$1(et.elements.popper),ft=[].concat(et.scrollParents.reference,et.scrollParents.popper);return it&&ft.forEach(function(dt){dt.addEventListener("scroll",tt.update,passive$2)}),st&&ut.addEventListener("resize",tt.update,passive$2),function(){it&&ft.forEach(function(dt){dt.removeEventListener("scroll",tt.update,passive$2)}),st&&ut.removeEventListener("resize",tt.update,passive$2)}}const eventListeners={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect,data:{}};var hash$1={left:"right",right:"left",bottom:"top",top:"bottom"};function getOppositePlacement$1(_e){return _e.replace(/left|right|bottom|top/g,function(et){return hash$1[et]})}var hash={start:"end",end:"start"};function getOppositeVariationPlacement(_e){return _e.replace(/start|end/g,function(et){return hash[et]})}function getWindowScroll(_e){var et=getWindow$1(_e),tt=et.pageXOffset,nt=et.pageYOffset;return{scrollLeft:tt,scrollTop:nt}}function getWindowScrollBarX$1(_e){return getBoundingClientRect$1(getDocumentElement$1(_e)).left+getWindowScroll(_e).scrollLeft}function getViewportRect$1(_e,et){var tt=getWindow$1(_e),nt=getDocumentElement$1(_e),rt=tt.visualViewport,it=nt.clientWidth,ot=nt.clientHeight,st=0,ut=0;if(rt){it=rt.width,ot=rt.height;var ft=isLayoutViewport();(ft||!ft&&et==="fixed")&&(st=rt.offsetLeft,ut=rt.offsetTop)}return{width:it,height:ot,x:st+getWindowScrollBarX$1(_e),y:ut}}function getDocumentRect$1(_e){var et,tt=getDocumentElement$1(_e),nt=getWindowScroll(_e),rt=(et=_e.ownerDocument)==null?void 0:et.body,it=max$5(tt.scrollWidth,tt.clientWidth,rt?rt.scrollWidth:0,rt?rt.clientWidth:0),ot=max$5(tt.scrollHeight,tt.clientHeight,rt?rt.scrollHeight:0,rt?rt.clientHeight:0),st=-nt.scrollLeft+getWindowScrollBarX$1(_e),ut=-nt.scrollTop;return getComputedStyle$3(rt||tt).direction==="rtl"&&(st+=max$5(tt.clientWidth,rt?rt.clientWidth:0)-it),{width:it,height:ot,x:st,y:ut}}function isScrollParent(_e){var et=getComputedStyle$3(_e),tt=et.overflow,nt=et.overflowX,rt=et.overflowY;return/auto|scroll|overlay|hidden/.test(tt+rt+nt)}function getScrollParent(_e){return["html","body","#document"].indexOf(getNodeName$1(_e))>=0?_e.ownerDocument.body:isHTMLElement$1(_e)&&isScrollParent(_e)?_e:getScrollParent(getParentNode$1(_e))}function listScrollParents(_e,et){var tt;et===void 0&&(et=[]);var nt=getScrollParent(_e),rt=nt===((tt=_e.ownerDocument)==null?void 0:tt.body),it=getWindow$1(nt),ot=rt?[it].concat(it.visualViewport||[],isScrollParent(nt)?nt:[]):nt,st=et.concat(ot);return rt?st:st.concat(listScrollParents(getParentNode$1(ot)))}function rectToClientRect$1(_e){return Object.assign({},_e,{left:_e.x,top:_e.y,right:_e.x+_e.width,bottom:_e.y+_e.height})}function getInnerBoundingClientRect$1(_e,et){var tt=getBoundingClientRect$1(_e,!1,et==="fixed");return tt.top=tt.top+_e.clientTop,tt.left=tt.left+_e.clientLeft,tt.bottom=tt.top+_e.clientHeight,tt.right=tt.left+_e.clientWidth,tt.width=_e.clientWidth,tt.height=_e.clientHeight,tt.x=tt.left,tt.y=tt.top,tt}function getClientRectFromMixedType(_e,et,tt){return et===viewport?rectToClientRect$1(getViewportRect$1(_e,tt)):isElement$2(et)?getInnerBoundingClientRect$1(et,tt):rectToClientRect$1(getDocumentRect$1(getDocumentElement$1(_e)))}function getClippingParents(_e){var et=listScrollParents(getParentNode$1(_e)),tt=["absolute","fixed"].indexOf(getComputedStyle$3(_e).position)>=0,nt=tt&&isHTMLElement$1(_e)?getOffsetParent$1(_e):_e;return isElement$2(nt)?et.filter(function(rt){return isElement$2(rt)&&contains$1(rt,nt)&&getNodeName$1(rt)!=="body"}):[]}function getClippingRect$1(_e,et,tt,nt){var rt=et==="clippingParents"?getClippingParents(_e):[].concat(et),it=[].concat(rt,[tt]),ot=it[0],st=it.reduce(function(ut,ft){var dt=getClientRectFromMixedType(_e,ft,nt);return ut.top=max$5(dt.top,ut.top),ut.right=min$4(dt.right,ut.right),ut.bottom=min$4(dt.bottom,ut.bottom),ut.left=max$5(dt.left,ut.left),ut},getClientRectFromMixedType(_e,ot,nt));return st.width=st.right-st.left,st.height=st.bottom-st.top,st.x=st.left,st.y=st.top,st}function computeOffsets(_e){var et=_e.reference,tt=_e.element,nt=_e.placement,rt=nt?getBasePlacement(nt):null,it=nt?getVariation(nt):null,ot=et.x+et.width/2-tt.width/2,st=et.y+et.height/2-tt.height/2,ut;switch(rt){case top$1:ut={x:ot,y:et.y-tt.height};break;case bottom$1:ut={x:ot,y:et.y+et.height};break;case right$1:ut={x:et.x+et.width,y:st};break;case left:ut={x:et.x-tt.width,y:st};break;default:ut={x:et.x,y:et.y}}var ft=rt?getMainAxisFromPlacement(rt):null;if(ft!=null){var dt=ft==="y"?"height":"width";switch(it){case start$2:ut[ft]=ut[ft]-(et[dt]/2-tt[dt]/2);break;case end$1:ut[ft]=ut[ft]+(et[dt]/2-tt[dt]/2);break}}return ut}function detectOverflow$1(_e,et){et===void 0&&(et={});var tt=et,nt=tt.placement,rt=nt===void 0?_e.placement:nt,it=tt.strategy,ot=it===void 0?_e.strategy:it,st=tt.boundary,ut=st===void 0?clippingParents:st,ft=tt.rootBoundary,dt=ft===void 0?viewport:ft,lt=tt.elementContext,at=lt===void 0?popper:lt,ct=tt.altBoundary,ht=ct===void 0?!1:ct,pt=tt.padding,mt=pt===void 0?0:pt,gt=mergePaddingObject(typeof mt!="number"?mt:expandToHashMap(mt,basePlacements)),yt=at===popper?reference$1:popper,bt=_e.rects.popper,xt=_e.elements[ht?yt:at],vt=getClippingRect$1(isElement$2(xt)?xt:xt.contextElement||getDocumentElement$1(_e.elements.popper),ut,dt,ot),wt=getBoundingClientRect$1(_e.elements.reference),_t=computeOffsets({reference:wt,element:bt,strategy:"absolute",placement:rt}),Ct=rectToClientRect$1(Object.assign({},bt,_t)),Et=at===popper?Ct:wt,$t={top:vt.top-Et.top+gt.top,bottom:Et.bottom-vt.bottom+gt.bottom,left:vt.left-Et.left+gt.left,right:Et.right-vt.right+gt.right},jt=_e.modifiersData.offset;if(at===popper&&jt){var Dt=jt[rt];Object.keys($t).forEach(function(Pt){var kt=[right$1,bottom$1].indexOf(Pt)>=0?1:-1,At=[top$1,bottom$1].indexOf(Pt)>=0?"y":"x";$t[Pt]+=Dt[At]*kt})}return $t}function computeAutoPlacement(_e,et){et===void 0&&(et={});var tt=et,nt=tt.placement,rt=tt.boundary,it=tt.rootBoundary,ot=tt.padding,st=tt.flipVariations,ut=tt.allowedAutoPlacements,ft=ut===void 0?placements:ut,dt=getVariation(nt),lt=dt?st?variationPlacements:variationPlacements.filter(function(ht){return getVariation(ht)===dt}):basePlacements,at=lt.filter(function(ht){return ft.indexOf(ht)>=0});at.length===0&&(at=lt);var ct=at.reduce(function(ht,pt){return ht[pt]=detectOverflow$1(_e,{placement:pt,boundary:rt,rootBoundary:it,padding:ot})[getBasePlacement(pt)],ht},{});return Object.keys(ct).sort(function(ht,pt){return ct[ht]-ct[pt]})}function getExpandedFallbackPlacements(_e){if(getBasePlacement(_e)===auto)return[];var et=getOppositePlacement$1(_e);return[getOppositeVariationPlacement(_e),et,getOppositeVariationPlacement(et)]}function flip$3(_e){var et=_e.state,tt=_e.options,nt=_e.name;if(!et.modifiersData[nt]._skip){for(var rt=tt.mainAxis,it=rt===void 0?!0:rt,ot=tt.altAxis,st=ot===void 0?!0:ot,ut=tt.fallbackPlacements,ft=tt.padding,dt=tt.boundary,lt=tt.rootBoundary,at=tt.altBoundary,ct=tt.flipVariations,ht=ct===void 0?!0:ct,pt=tt.allowedAutoPlacements,mt=et.options.placement,gt=getBasePlacement(mt),yt=gt===mt,bt=ut||(yt||!ht?[getOppositePlacement$1(mt)]:getExpandedFallbackPlacements(mt)),xt=[mt].concat(bt).reduce(function(Gt,Kt){return Gt.concat(getBasePlacement(Kt)===auto?computeAutoPlacement(et,{placement:Kt,boundary:dt,rootBoundary:lt,padding:ft,flipVariations:ht,allowedAutoPlacements:pt}):Kt)},[]),vt=et.rects.reference,wt=et.rects.popper,_t=new Map,Ct=!0,Et=xt[0],$t=0;$t<xt.length;$t++){var jt=xt[$t],Dt=getBasePlacement(jt),Pt=getVariation(jt)===start$2,kt=[top$1,bottom$1].indexOf(Dt)>=0,At=kt?"width":"height",Tt=detectOverflow$1(et,{placement:jt,boundary:dt,rootBoundary:lt,altBoundary:at,padding:ft}),St=kt?Pt?right$1:left:Pt?bottom$1:top$1;vt[At]>wt[At]&&(St=getOppositePlacement$1(St));var Rt=getOppositePlacement$1(St),Ot=[];if(it&&Ot.push(Tt[Dt]<=0),st&&Ot.push(Tt[St]<=0,Tt[Rt]<=0),Ot.every(function(Gt){return Gt})){Et=jt,Ct=!1;break}_t.set(jt,Ot)}if(Ct)for(var Nt=ht?3:1,It=function(Kt){var fn=xt.find(function(dn){var Wt=_t.get(dn);if(Wt)return Wt.slice(0,Kt).every(function(rn){return rn})});if(fn)return Et=fn,"break"},Bt=Nt;Bt>0;Bt--){var zt=It(Bt);if(zt==="break")break}et.placement!==Et&&(et.modifiersData[nt]._skip=!0,et.placement=Et,et.reset=!0)}}const flip$4={name:"flip",enabled:!0,phase:"main",fn:flip$3,requiresIfExists:["offset"],data:{_skip:!1}};function getSideOffsets(_e,et,tt){return tt===void 0&&(tt={x:0,y:0}),{top:_e.top-et.height-tt.y,right:_e.right-et.width+tt.x,bottom:_e.bottom-et.height+tt.y,left:_e.left-et.width-tt.x}}function isAnySideFullyClipped(_e){return[top$1,right$1,bottom$1,left].some(function(et){return _e[et]>=0})}function hide(_e){var et=_e.state,tt=_e.name,nt=et.rects.reference,rt=et.rects.popper,it=et.modifiersData.preventOverflow,ot=detectOverflow$1(et,{elementContext:"reference"}),st=detectOverflow$1(et,{altBoundary:!0}),ut=getSideOffsets(ot,nt),ft=getSideOffsets(st,rt,it),dt=isAnySideFullyClipped(ut),lt=isAnySideFullyClipped(ft);et.modifiersData[tt]={referenceClippingOffsets:ut,popperEscapeOffsets:ft,isReferenceHidden:dt,hasPopperEscaped:lt},et.attributes.popper=Object.assign({},et.attributes.popper,{"data-popper-reference-hidden":dt,"data-popper-escaped":lt})}const hide$1={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:hide};function distanceAndSkiddingToXY(_e,et,tt){var nt=getBasePlacement(_e),rt=[left,top$1].indexOf(nt)>=0?-1:1,it=typeof tt=="function"?tt(Object.assign({},et,{placement:_e})):tt,ot=it[0],st=it[1];return ot=ot||0,st=(st||0)*rt,[left,right$1].indexOf(nt)>=0?{x:st,y:ot}:{x:ot,y:st}}function offset$4(_e){var et=_e.state,tt=_e.options,nt=_e.name,rt=tt.offset,it=rt===void 0?[0,0]:rt,ot=placements.reduce(function(dt,lt){return dt[lt]=distanceAndSkiddingToXY(lt,et.rects,it),dt},{}),st=ot[et.placement],ut=st.x,ft=st.y;et.modifiersData.popperOffsets!=null&&(et.modifiersData.popperOffsets.x+=ut,et.modifiersData.popperOffsets.y+=ft),et.modifiersData[nt]=ot}const offset$5={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:offset$4};function popperOffsets(_e){var et=_e.state,tt=_e.name;et.modifiersData[tt]=computeOffsets({reference:et.rects.reference,element:et.rects.popper,strategy:"absolute",placement:et.placement})}const popperOffsets$1={name:"popperOffsets",enabled:!0,phase:"read",fn:popperOffsets,data:{}};function getAltAxis(_e){return _e==="x"?"y":"x"}function preventOverflow(_e){var et=_e.state,tt=_e.options,nt=_e.name,rt=tt.mainAxis,it=rt===void 0?!0:rt,ot=tt.altAxis,st=ot===void 0?!1:ot,ut=tt.boundary,ft=tt.rootBoundary,dt=tt.altBoundary,lt=tt.padding,at=tt.tether,ct=at===void 0?!0:at,ht=tt.tetherOffset,pt=ht===void 0?0:ht,mt=detectOverflow$1(et,{boundary:ut,rootBoundary:ft,padding:lt,altBoundary:dt}),gt=getBasePlacement(et.placement),yt=getVariation(et.placement),bt=!yt,xt=getMainAxisFromPlacement(gt),vt=getAltAxis(xt),wt=et.modifiersData.popperOffsets,_t=et.rects.reference,Ct=et.rects.popper,Et=typeof pt=="function"?pt(Object.assign({},et.rects,{placement:et.placement})):pt,$t=typeof Et=="number"?{mainAxis:Et,altAxis:Et}:Object.assign({mainAxis:0,altAxis:0},Et),jt=et.modifiersData.offset?et.modifiersData.offset[et.placement]:null,Dt={x:0,y:0};if(wt){if(it){var Pt,kt=xt==="y"?top$1:left,At=xt==="y"?bottom$1:right$1,Tt=xt==="y"?"height":"width",St=wt[xt],Rt=St+mt[kt],Ot=St-mt[At],Nt=ct?-Ct[Tt]/2:0,It=yt===start$2?_t[Tt]:Ct[Tt],Bt=yt===start$2?-Ct[Tt]:-_t[Tt],zt=et.elements.arrow,Gt=ct&&zt?getLayoutRect(zt):{width:0,height:0},Kt=et.modifiersData["arrow#persistent"]?et.modifiersData["arrow#persistent"].padding:getFreshSideObject(),fn=Kt[kt],dn=Kt[At],Wt=within(0,_t[Tt],Gt[Tt]),rn=bt?_t[Tt]/2-Nt-Wt-fn-$t.mainAxis:It-Wt-fn-$t.mainAxis,Vt=bt?-_t[Tt]/2+Nt+Wt+dn+$t.mainAxis:Bt+Wt+dn+$t.mainAxis,an=et.elements.arrow&&getOffsetParent$1(et.elements.arrow),Qt=an?xt==="y"?an.clientTop||0:an.clientLeft||0:0,Zt=(Pt=jt==null?void 0:jt[xt])!=null?Pt:0,xn=St+rn-Zt-Qt,vn=St+Vt-Zt,gn=within(ct?min$4(Rt,xn):Rt,St,ct?max$5(Ot,vn):Ot);wt[xt]=gn,Dt[xt]=gn-St}if(st){var Cn,kn=xt==="x"?top$1:left,En=xt==="x"?bottom$1:right$1,sn=wt[vt],On=vt==="y"?"height":"width",Tn=sn+mt[kn],bn=sn-mt[En],Dn=[top$1,left].indexOf(gt)!==-1,Nn=(Cn=jt==null?void 0:jt[vt])!=null?Cn:0,wn=Dn?Tn:sn-_t[On]-Ct[On]-Nn+$t.altAxis,qn=Dn?sn+_t[On]+Ct[On]-Nn-$t.altAxis:bn,or=ct&&Dn?withinMaxClamp(wn,sn,qn):within(ct?wn:Tn,sn,ct?qn:bn);wt[vt]=or,Dt[vt]=or-sn}et.modifiersData[nt]=Dt}}const preventOverflow$1={name:"preventOverflow",enabled:!0,phase:"main",fn:preventOverflow,requiresIfExists:["offset"]};function getHTMLElementScroll(_e){return{scrollLeft:_e.scrollLeft,scrollTop:_e.scrollTop}}function getNodeScroll$1(_e){return _e===getWindow$1(_e)||!isHTMLElement$1(_e)?getWindowScroll(_e):getHTMLElementScroll(_e)}function isElementScaled(_e){var et=_e.getBoundingClientRect(),tt=round$3(et.width)/_e.offsetWidth||1,nt=round$3(et.height)/_e.offsetHeight||1;return tt!==1||nt!==1}function getCompositeRect(_e,et,tt){tt===void 0&&(tt=!1);var nt=isHTMLElement$1(et),rt=isHTMLElement$1(et)&&isElementScaled(et),it=getDocumentElement$1(et),ot=getBoundingClientRect$1(_e,rt,tt),st={scrollLeft:0,scrollTop:0},ut={x:0,y:0};return(nt||!nt&&!tt)&&((getNodeName$1(et)!=="body"||isScrollParent(it))&&(st=getNodeScroll$1(et)),isHTMLElement$1(et)?(ut=getBoundingClientRect$1(et,!0),ut.x+=et.clientLeft,ut.y+=et.clientTop):it&&(ut.x=getWindowScrollBarX$1(it))),{x:ot.left+st.scrollLeft-ut.x,y:ot.top+st.scrollTop-ut.y,width:ot.width,height:ot.height}}function order(_e){var et=new Map,tt=new Set,nt=[];_e.forEach(function(it){et.set(it.name,it)});function rt(it){tt.add(it.name);var ot=[].concat(it.requires||[],it.requiresIfExists||[]);ot.forEach(function(st){if(!tt.has(st)){var ut=et.get(st);ut&&rt(ut)}}),nt.push(it)}return _e.forEach(function(it){tt.has(it.name)||rt(it)}),nt}function orderModifiers(_e){var et=order(_e);return modifierPhases.reduce(function(tt,nt){return tt.concat(et.filter(function(rt){return rt.phase===nt}))},[])}function debounce(_e){var et;return function(){return et||(et=new Promise(function(tt){Promise.resolve().then(function(){et=void 0,tt(_e())})})),et}}function mergeByName(_e){var et=_e.reduce(function(tt,nt){var rt=tt[nt.name];return tt[nt.name]=rt?Object.assign({},rt,nt,{options:Object.assign({},rt.options,nt.options),data:Object.assign({},rt.data,nt.data)}):nt,tt},{});return Object.keys(et).map(function(tt){return et[tt]})}var DEFAULT_OPTIONS={placement:"bottom",modifiers:[],strategy:"absolute"};function areValidElements(){for(var _e=arguments.length,et=new Array(_e),tt=0;tt<_e;tt++)et[tt]=arguments[tt];return!et.some(function(nt){return!(nt&&typeof nt.getBoundingClientRect=="function")})}function popperGenerator(_e){_e===void 0&&(_e={});var et=_e,tt=et.defaultModifiers,nt=tt===void 0?[]:tt,rt=et.defaultOptions,it=rt===void 0?DEFAULT_OPTIONS:rt;return function(st,ut,ft){ft===void 0&&(ft=it);var dt={placement:"bottom",orderedModifiers:[],options:Object.assign({},DEFAULT_OPTIONS,it),modifiersData:{},elements:{reference:st,popper:ut},attributes:{},styles:{}},lt=[],at=!1,ct={state:dt,setOptions:function(gt){var yt=typeof gt=="function"?gt(dt.options):gt;pt(),dt.options=Object.assign({},it,dt.options,yt),dt.scrollParents={reference:isElement$2(st)?listScrollParents(st):st.contextElement?listScrollParents(st.contextElement):[],popper:listScrollParents(ut)};var bt=orderModifiers(mergeByName([].concat(nt,dt.options.modifiers)));return dt.orderedModifiers=bt.filter(function(xt){return xt.enabled}),ht(),ct.update()},forceUpdate:function(){if(!at){var gt=dt.elements,yt=gt.reference,bt=gt.popper;if(areValidElements(yt,bt)){dt.rects={reference:getCompositeRect(yt,getOffsetParent$1(bt),dt.options.strategy==="fixed"),popper:getLayoutRect(bt)},dt.reset=!1,dt.placement=dt.options.placement,dt.orderedModifiers.forEach(function($t){return dt.modifiersData[$t.name]=Object.assign({},$t.data)});for(var xt=0;xt<dt.orderedModifiers.length;xt++){if(dt.reset===!0){dt.reset=!1,xt=-1;continue}var vt=dt.orderedModifiers[xt],wt=vt.fn,_t=vt.options,Ct=_t===void 0?{}:_t,Et=vt.name;typeof wt=="function"&&(dt=wt({state:dt,options:Ct,name:Et,instance:ct})||dt)}}}},update:debounce(function(){return new Promise(function(mt){ct.forceUpdate(),mt(dt)})}),destroy:function(){pt(),at=!0}};if(!areValidElements(st,ut))return ct;ct.setOptions(ft).then(function(mt){!at&&ft.onFirstUpdate&&ft.onFirstUpdate(mt)});function ht(){dt.orderedModifiers.forEach(function(mt){var gt=mt.name,yt=mt.options,bt=yt===void 0?{}:yt,xt=mt.effect;if(typeof xt=="function"){var vt=xt({state:dt,name:gt,instance:ct,options:bt}),wt=function(){};lt.push(vt||wt)}})}function pt(){lt.forEach(function(mt){return mt()}),lt=[]}return ct}}var createPopper$3=popperGenerator(),defaultModifiers$1=[eventListeners,popperOffsets$1,computeStyles$1,applyStyles$1],createPopper$2=popperGenerator({defaultModifiers:defaultModifiers$1}),defaultModifiers=[eventListeners,popperOffsets$1,computeStyles$1,applyStyles$1,offset$5,flip$4,preventOverflow$1,arrow$5,hide$1],createPopper$1=popperGenerator({defaultModifiers});const Popper=Object.freeze(Object.defineProperty({__proto__:null,afterMain,afterRead,afterWrite,applyStyles:applyStyles$1,arrow:arrow$5,auto,basePlacements,beforeMain,beforeRead,beforeWrite,bottom:bottom$1,clippingParents,computeStyles:computeStyles$1,createPopper:createPopper$1,createPopperBase:createPopper$3,createPopperLite:createPopper$2,detectOverflow:detectOverflow$1,end:end$1,eventListeners,flip:flip$4,hide:hide$1,left,main,modifierPhases,offset:offset$5,placements,popper,popperGenerator,popperOffsets:popperOffsets$1,preventOverflow:preventOverflow$1,read,reference:reference$1,right:right$1,start:start$2,top:top$1,variationPlacements,viewport,write},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const elementMap=new Map,Data={set(_e,et,tt){elementMap.has(_e)||elementMap.set(_e,new Map);const nt=elementMap.get(_e);if(!nt.has(et)&&nt.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(nt.keys())[0]}.`);return}nt.set(et,tt)},get(_e,et){return elementMap.has(_e)&&elementMap.get(_e).get(et)||null},remove(_e,et){if(!elementMap.has(_e))return;const tt=elementMap.get(_e);tt.delete(et),tt.size===0&&elementMap.delete(_e)}},MAX_UID=1e6,MILLISECONDS_MULTIPLIER=1e3,TRANSITION_END="transitionend",parseSelector=_e=>(_e&&window.CSS&&window.CSS.escape&&(_e=_e.replace(/#([^\s"#']+)/g,(et,tt)=>`#${CSS.escape(tt)}`)),_e),toType=_e=>_e==null?`${_e}`:Object.prototype.toString.call(_e).match(/\s([a-z]+)/i)[1].toLowerCase(),getUID=_e=>{do _e+=Math.floor(Math.random()*MAX_UID);while(document.getElementById(_e));return _e},getTransitionDurationFromElement=_e=>{if(!_e)return 0;let{transitionDuration:et,transitionDelay:tt}=window.getComputedStyle(_e);const nt=Number.parseFloat(et),rt=Number.parseFloat(tt);return!nt&&!rt?0:(et=et.split(",")[0],tt=tt.split(",")[0],(Number.parseFloat(et)+Number.parseFloat(tt))*MILLISECONDS_MULTIPLIER)},triggerTransitionEnd=_e=>{_e.dispatchEvent(new Event(TRANSITION_END))},isElement$1=_e=>!_e||typeof _e!="object"?!1:(typeof _e.jquery<"u"&&(_e=_e[0]),typeof _e.nodeType<"u"),getElement=_e=>isElement$1(_e)?_e.jquery?_e[0]:_e:typeof _e=="string"&&_e.length>0?document.querySelector(parseSelector(_e)):null,isVisible=_e=>{if(!isElement$1(_e)||_e.getClientRects().length===0)return!1;const et=getComputedStyle(_e).getPropertyValue("visibility")==="visible",tt=_e.closest("details:not([open])");if(!tt)return et;if(tt!==_e){const nt=_e.closest("summary");if(nt&&nt.parentNode!==tt||nt===null)return!1}return et},isDisabled=_e=>!_e||_e.nodeType!==Node.ELEMENT_NODE||_e.classList.contains("disabled")?!0:typeof _e.disabled<"u"?_e.disabled:_e.hasAttribute("disabled")&&_e.getAttribute("disabled")!=="false",findShadowRoot=_e=>{if(!document.documentElement.attachShadow)return null;if(typeof _e.getRootNode=="function"){const et=_e.getRootNode();return et instanceof ShadowRoot?et:null}return _e instanceof ShadowRoot?_e:_e.parentNode?findShadowRoot(_e.parentNode):null},noop$b=()=>{},reflow=_e=>{_e.offsetHeight},getjQuery=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,DOMContentLoadedCallbacks=[],onDOMContentLoaded=_e=>{document.readyState==="loading"?(DOMContentLoadedCallbacks.length||document.addEventListener("DOMContentLoaded",()=>{for(const et of DOMContentLoadedCallbacks)et()}),DOMContentLoadedCallbacks.push(_e)):_e()},isRTL$1=()=>document.documentElement.dir==="rtl",defineJQueryPlugin=_e=>{onDOMContentLoaded(()=>{const et=getjQuery();if(et){const tt=_e.NAME,nt=et.fn[tt];et.fn[tt]=_e.jQueryInterface,et.fn[tt].Constructor=_e,et.fn[tt].noConflict=()=>(et.fn[tt]=nt,_e.jQueryInterface)}})},execute=(_e,et=[],tt=_e)=>typeof _e=="function"?_e(...et):tt,executeAfterTransition=(_e,et,tt=!0)=>{if(!tt){execute(_e);return}const rt=getTransitionDurationFromElement(et)+5;let it=!1;const ot=({target:st})=>{st===et&&(it=!0,et.removeEventListener(TRANSITION_END,ot),execute(_e))};et.addEventListener(TRANSITION_END,ot),setTimeout(()=>{it||triggerTransitionEnd(et)},rt)},getNextActiveElement=(_e,et,tt,nt)=>{const rt=_e.length;let it=_e.indexOf(et);return it===-1?!tt&&nt?_e[rt-1]:_e[0]:(it+=tt?1:-1,nt&&(it=(it+rt)%rt),_e[Math.max(0,Math.min(it,rt-1))])},namespaceRegex=/[^.]*(?=\..*)\.|.*/,stripNameRegex=/\..*/,stripUidRegex=/::\d+$/,eventRegistry={};let uidEvent=1;const customEvents={mouseenter:"mouseover",mouseleave:"mouseout"},nativeEvents=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function makeEventUid(_e,et){return et&&`${et}::${uidEvent++}`||_e.uidEvent||uidEvent++}function getElementEvents(_e){const et=makeEventUid(_e);return _e.uidEvent=et,eventRegistry[et]=eventRegistry[et]||{},eventRegistry[et]}function bootstrapHandler(_e,et){return function tt(nt){return hydrateObj(nt,{delegateTarget:_e}),tt.oneOff&&EventHandler.off(_e,nt.type,et),et.apply(_e,[nt])}}function bootstrapDelegationHandler(_e,et,tt){return function nt(rt){const it=_e.querySelectorAll(et);for(let{target:ot}=rt;ot&&ot!==this;ot=ot.parentNode)for(const st of it)if(st===ot)return hydrateObj(rt,{delegateTarget:ot}),nt.oneOff&&EventHandler.off(_e,rt.type,et,tt),tt.apply(ot,[rt])}}function findHandler(_e,et,tt=null){return Object.values(_e).find(nt=>nt.callable===et&&nt.delegationSelector===tt)}function normalizeParameters(_e,et,tt){const nt=typeof et=="string",rt=nt?tt:et||tt;let it=getTypeEvent(_e);return nativeEvents.has(it)||(it=_e),[nt,rt,it]}function addHandler(_e,et,tt,nt,rt){if(typeof et!="string"||!_e)return;let[it,ot,st]=normalizeParameters(et,tt,nt);et in customEvents&&(ot=(ht=>function(pt){if(!pt.relatedTarget||pt.relatedTarget!==pt.delegateTarget&&!pt.delegateTarget.contains(pt.relatedTarget))return ht.call(this,pt)})(ot));const ut=getElementEvents(_e),ft=ut[st]||(ut[st]={}),dt=findHandler(ft,ot,it?tt:null);if(dt){dt.oneOff=dt.oneOff&&rt;return}const lt=makeEventUid(ot,et.replace(namespaceRegex,"")),at=it?bootstrapDelegationHandler(_e,tt,ot):bootstrapHandler(_e,ot);at.delegationSelector=it?tt:null,at.callable=ot,at.oneOff=rt,at.uidEvent=lt,ft[lt]=at,_e.addEventListener(st,at,it)}function removeHandler(_e,et,tt,nt,rt){const it=findHandler(et[tt],nt,rt);it&&(_e.removeEventListener(tt,it,!!rt),delete et[tt][it.uidEvent])}function removeNamespacedHandlers(_e,et,tt,nt){const rt=et[tt]||{};for(const[it,ot]of Object.entries(rt))it.includes(nt)&&removeHandler(_e,et,tt,ot.callable,ot.delegationSelector)}function getTypeEvent(_e){return _e=_e.replace(stripNameRegex,""),customEvents[_e]||_e}const EventHandler={on(_e,et,tt,nt){addHandler(_e,et,tt,nt,!1)},one(_e,et,tt,nt){addHandler(_e,et,tt,nt,!0)},off(_e,et,tt,nt){if(typeof et!="string"||!_e)return;const[rt,it,ot]=normalizeParameters(et,tt,nt),st=ot!==et,ut=getElementEvents(_e),ft=ut[ot]||{},dt=et.startsWith(".");if(typeof it<"u"){if(!Object.keys(ft).length)return;removeHandler(_e,ut,ot,it,rt?tt:null);return}if(dt)for(const lt of Object.keys(ut))removeNamespacedHandlers(_e,ut,lt,et.slice(1));for(const[lt,at]of Object.entries(ft)){const ct=lt.replace(stripUidRegex,"");(!st||et.includes(ct))&&removeHandler(_e,ut,ot,at.callable,at.delegationSelector)}},trigger(_e,et,tt){if(typeof et!="string"||!_e)return null;const nt=getjQuery(),rt=getTypeEvent(et),it=et!==rt;let ot=null,st=!0,ut=!0,ft=!1;it&&nt&&(ot=nt.Event(et,tt),nt(_e).trigger(ot),st=!ot.isPropagationStopped(),ut=!ot.isImmediatePropagationStopped(),ft=ot.isDefaultPrevented());const dt=hydrateObj(new Event(et,{bubbles:st,cancelable:!0}),tt);return ft&&dt.preventDefault(),ut&&_e.dispatchEvent(dt),dt.defaultPrevented&&ot&&ot.preventDefault(),dt}};function hydrateObj(_e,et={}){for(const[tt,nt]of Object.entries(et))try{_e[tt]=nt}catch{Object.defineProperty(_e,tt,{configurable:!0,get(){return nt}})}return _e}function normalizeData(_e){if(_e==="true")return!0;if(_e==="false")return!1;if(_e===Number(_e).toString())return Number(_e);if(_e===""||_e==="null")return null;if(typeof _e!="string")return _e;try{return JSON.parse(decodeURIComponent(_e))}catch{return _e}}function normalizeDataKey(_e){return _e.replace(/[A-Z]/g,et=>`-${et.toLowerCase()}`)}const Manipulator={setDataAttribute(_e,et,tt){_e.setAttribute(`data-bs-${normalizeDataKey(et)}`,tt)},removeDataAttribute(_e,et){_e.removeAttribute(`data-bs-${normalizeDataKey(et)}`)},getDataAttributes(_e){if(!_e)return{};const et={},tt=Object.keys(_e.dataset).filter(nt=>nt.startsWith("bs")&&!nt.startsWith("bsConfig"));for(const nt of tt){let rt=nt.replace(/^bs/,"");rt=rt.charAt(0).toLowerCase()+rt.slice(1,rt.length),et[rt]=normalizeData(_e.dataset[nt])}return et},getDataAttribute(_e,et){return normalizeData(_e.getAttribute(`data-bs-${normalizeDataKey(et)}`))}};class Config{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(et){return et=this._mergeConfigObj(et),et=this._configAfterMerge(et),this._typeCheckConfig(et),et}_configAfterMerge(et){return et}_mergeConfigObj(et,tt){const nt=isElement$1(tt)?Manipulator.getDataAttribute(tt,"config"):{};return{...this.constructor.Default,...typeof nt=="object"?nt:{},...isElement$1(tt)?Manipulator.getDataAttributes(tt):{},...typeof et=="object"?et:{}}}_typeCheckConfig(et,tt=this.constructor.DefaultType){for(const[nt,rt]of Object.entries(tt)){const it=et[nt],ot=isElement$1(it)?"element":toType(it);if(!new RegExp(rt).test(ot))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${nt}" provided type "${ot}" but expected type "${rt}".`)}}}const VERSION$1="5.3.3";class BaseComponent extends Config{constructor(et,tt){super(),et=getElement(et),et&&(this._element=et,this._config=this._getConfig(tt),Data.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Data.remove(this._element,this.constructor.DATA_KEY),EventHandler.off(this._element,this.constructor.EVENT_KEY);for(const et of Object.getOwnPropertyNames(this))this[et]=null}_queueCallback(et,tt,nt=!0){executeAfterTransition(et,tt,nt)}_getConfig(et){return et=this._mergeConfigObj(et,this._element),et=this._configAfterMerge(et),this._typeCheckConfig(et),et}static getInstance(et){return Data.get(getElement(et),this.DATA_KEY)}static getOrCreateInstance(et,tt={}){return this.getInstance(et)||new this(et,typeof tt=="object"?tt:null)}static get VERSION(){return VERSION$1}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(et){return`${et}${this.EVENT_KEY}`}}const getSelector=_e=>{let et=_e.getAttribute("data-bs-target");if(!et||et==="#"){let tt=_e.getAttribute("href");if(!tt||!tt.includes("#")&&!tt.startsWith("."))return null;tt.includes("#")&&!tt.startsWith("#")&&(tt=`#${tt.split("#")[1]}`),et=tt&&tt!=="#"?tt.trim():null}return et?et.split(",").map(tt=>parseSelector(tt)).join(","):null},SelectorEngine={find(_e,et=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(et,_e))},findOne(_e,et=document.documentElement){return Element.prototype.querySelector.call(et,_e)},children(_e,et){return[].concat(..._e.children).filter(tt=>tt.matches(et))},parents(_e,et){const tt=[];let nt=_e.parentNode.closest(et);for(;nt;)tt.push(nt),nt=nt.parentNode.closest(et);return tt},prev(_e,et){let tt=_e.previousElementSibling;for(;tt;){if(tt.matches(et))return[tt];tt=tt.previousElementSibling}return[]},next(_e,et){let tt=_e.nextElementSibling;for(;tt;){if(tt.matches(et))return[tt];tt=tt.nextElementSibling}return[]},focusableChildren(_e){const et=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(tt=>`${tt}:not([tabindex^="-"])`).join(",");return this.find(et,_e).filter(tt=>!isDisabled(tt)&&isVisible(tt))},getSelectorFromElement(_e){const et=getSelector(_e);return et&&SelectorEngine.findOne(et)?et:null},getElementFromSelector(_e){const et=getSelector(_e);return et?SelectorEngine.findOne(et):null},getMultipleElementsFromSelector(_e){const et=getSelector(_e);return et?SelectorEngine.find(et):[]}},enableDismissTrigger=(_e,et="hide")=>{const tt=`click.dismiss${_e.EVENT_KEY}`,nt=_e.NAME;EventHandler.on(document,tt,`[data-bs-dismiss="${nt}"]`,function(rt){if(["A","AREA"].includes(this.tagName)&&rt.preventDefault(),isDisabled(this))return;const it=SelectorEngine.getElementFromSelector(this)||this.closest(`.${nt}`);_e.getOrCreateInstance(it)[et]()})},NAME$f="alert",DATA_KEY$a="bs.alert",EVENT_KEY$b=`.${DATA_KEY$a}`,EVENT_CLOSE=`close${EVENT_KEY$b}`,EVENT_CLOSED=`closed${EVENT_KEY$b}`,CLASS_NAME_FADE$5="fade",CLASS_NAME_SHOW$8="show";class Alert extends BaseComponent{static get NAME(){return NAME$f}close(){if(EventHandler.trigger(this._element,EVENT_CLOSE).defaultPrevented)return;this._element.classList.remove(CLASS_NAME_SHOW$8);const tt=this._element.classList.contains(CLASS_NAME_FADE$5);this._queueCallback(()=>this._destroyElement(),this._element,tt)}_destroyElement(){this._element.remove(),EventHandler.trigger(this._element,EVENT_CLOSED),this.dispose()}static jQueryInterface(et){return this.each(function(){const tt=Alert.getOrCreateInstance(this);if(typeof et=="string"){if(tt[et]===void 0||et.startsWith("_")||et==="constructor")throw new TypeError(`No method named "${et}"`);tt[et](this)}})}}enableDismissTrigger(Alert,"close");defineJQueryPlugin(Alert);const NAME$e="button",DATA_KEY$9="bs.button",EVENT_KEY$a=`.${DATA_KEY$9}`,DATA_API_KEY$6=".data-api",CLASS_NAME_ACTIVE$3="active",SELECTOR_DATA_TOGGLE$5='[data-bs-toggle="button"]',EVENT_CLICK_DATA_API$6=`click${EVENT_KEY$a}${DATA_API_KEY$6}`;let Button$2=class po extends BaseComponent{static get NAME(){return NAME$e}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(CLASS_NAME_ACTIVE$3))}static jQueryInterface(et){return this.each(function(){const tt=po.getOrCreateInstance(this);et==="toggle"&&tt[et]()})}};EventHandler.on(document,EVENT_CLICK_DATA_API$6,SELECTOR_DATA_TOGGLE$5,_e=>{_e.preventDefault();const et=_e.target.closest(SELECTOR_DATA_TOGGLE$5);Button$2.getOrCreateInstance(et).toggle()});defineJQueryPlugin(Button$2);const NAME$d="swipe",EVENT_KEY$9=".bs.swipe",EVENT_TOUCHSTART=`touchstart${EVENT_KEY$9}`,EVENT_TOUCHMOVE=`touchmove${EVENT_KEY$9}`,EVENT_TOUCHEND=`touchend${EVENT_KEY$9}`,EVENT_POINTERDOWN=`pointerdown${EVENT_KEY$9}`,EVENT_POINTERUP=`pointerup${EVENT_KEY$9}`,POINTER_TYPE_TOUCH="touch",POINTER_TYPE_PEN="pen",CLASS_NAME_POINTER_EVENT="pointer-event",SWIPE_THRESHOLD=40,Default$c={endCallback:null,leftCallback:null,rightCallback:null},DefaultType$c={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Swipe extends Config{constructor(et,tt){super(),this._element=et,!(!et||!Swipe.isSupported())&&(this._config=this._getConfig(tt),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Default$c}static get DefaultType(){return DefaultType$c}static get NAME(){return NAME$d}dispose(){EventHandler.off(this._element,EVENT_KEY$9)}_start(et){if(!this._supportPointerEvents){this._deltaX=et.touches[0].clientX;return}this._eventIsPointerPenTouch(et)&&(this._deltaX=et.clientX)}_end(et){this._eventIsPointerPenTouch(et)&&(this._deltaX=et.clientX-this._deltaX),this._handleSwipe(),execute(this._config.endCallback)}_move(et){this._deltaX=et.touches&&et.touches.length>1?0:et.touches[0].clientX-this._deltaX}_handleSwipe(){const et=Math.abs(this._deltaX);if(et<=SWIPE_THRESHOLD)return;const tt=et/this._deltaX;this._deltaX=0,tt&&execute(tt>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(EventHandler.on(this._element,EVENT_POINTERDOWN,et=>this._start(et)),EventHandler.on(this._element,EVENT_POINTERUP,et=>this._end(et)),this._element.classList.add(CLASS_NAME_POINTER_EVENT)):(EventHandler.on(this._element,EVENT_TOUCHSTART,et=>this._start(et)),EventHandler.on(this._element,EVENT_TOUCHMOVE,et=>this._move(et)),EventHandler.on(this._element,EVENT_TOUCHEND,et=>this._end(et)))}_eventIsPointerPenTouch(et){return this._supportPointerEvents&&(et.pointerType===POINTER_TYPE_PEN||et.pointerType===POINTER_TYPE_TOUCH)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const NAME$c="carousel",DATA_KEY$8="bs.carousel",EVENT_KEY$8=`.${DATA_KEY$8}`,DATA_API_KEY$5=".data-api",ARROW_LEFT_KEY$1="ArrowLeft",ARROW_RIGHT_KEY$1="ArrowRight",TOUCHEVENT_COMPAT_WAIT=500,ORDER_NEXT="next",ORDER_PREV="prev",DIRECTION_LEFT="left",DIRECTION_RIGHT="right",EVENT_SLIDE=`slide${EVENT_KEY$8}`,EVENT_SLID=`slid${EVENT_KEY$8}`,EVENT_KEYDOWN$1=`keydown${EVENT_KEY$8}`,EVENT_MOUSEENTER$1=`mouseenter${EVENT_KEY$8}`,EVENT_MOUSELEAVE$1=`mouseleave${EVENT_KEY$8}`,EVENT_DRAG_START=`dragstart${EVENT_KEY$8}`,EVENT_LOAD_DATA_API$3=`load${EVENT_KEY$8}${DATA_API_KEY$5}`,EVENT_CLICK_DATA_API$5=`click${EVENT_KEY$8}${DATA_API_KEY$5}`,CLASS_NAME_CAROUSEL="carousel",CLASS_NAME_ACTIVE$2="active",CLASS_NAME_SLIDE="slide",CLASS_NAME_END="carousel-item-end",CLASS_NAME_START="carousel-item-start",CLASS_NAME_NEXT="carousel-item-next",CLASS_NAME_PREV="carousel-item-prev",SELECTOR_ACTIVE=".active",SELECTOR_ITEM=".carousel-item",SELECTOR_ACTIVE_ITEM=SELECTOR_ACTIVE+SELECTOR_ITEM,SELECTOR_ITEM_IMG=".carousel-item img",SELECTOR_INDICATORS=".carousel-indicators",SELECTOR_DATA_SLIDE="[data-bs-slide], [data-bs-slide-to]",SELECTOR_DATA_RIDE='[data-bs-ride="carousel"]',KEY_TO_DIRECTION={[ARROW_LEFT_KEY$1]:DIRECTION_RIGHT,[ARROW_RIGHT_KEY$1]:DIRECTION_LEFT},Default$b={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},DefaultType$b={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Carousel extends BaseComponent{constructor(et,tt){super(et,tt),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=SelectorEngine.findOne(SELECTOR_INDICATORS,this._element),this._addEventListeners(),this._config.ride===CLASS_NAME_CAROUSEL&&this.cycle()}static get Default(){return Default$b}static get DefaultType(){return DefaultType$b}static get NAME(){return NAME$c}next(){this._slide(ORDER_NEXT)}nextWhenVisible(){!document.hidden&&isVisible(this._element)&&this.next()}prev(){this._slide(ORDER_PREV)}pause(){this._isSliding&&triggerTransitionEnd(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){EventHandler.one(this._element,EVENT_SLID,()=>this.cycle());return}this.cycle()}}to(et){const tt=this._getItems();if(et>tt.length-1||et<0)return;if(this._isSliding){EventHandler.one(this._element,EVENT_SLID,()=>this.to(et));return}const nt=this._getItemIndex(this._getActive());if(nt===et)return;const rt=et>nt?ORDER_NEXT:ORDER_PREV;this._slide(rt,tt[et])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(et){return et.defaultInterval=et.interval,et}_addEventListeners(){this._config.keyboard&&EventHandler.on(this._element,EVENT_KEYDOWN$1,et=>this._keydown(et)),this._config.pause==="hover"&&(EventHandler.on(this._element,EVENT_MOUSEENTER$1,()=>this.pause()),EventHandler.on(this._element,EVENT_MOUSELEAVE$1,()=>this._maybeEnableCycle())),this._config.touch&&Swipe.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const nt of SelectorEngine.find(SELECTOR_ITEM_IMG,this._element))EventHandler.on(nt,EVENT_DRAG_START,rt=>rt.preventDefault());const tt={leftCallback:()=>this._slide(this._directionToOrder(DIRECTION_LEFT)),rightCallback:()=>this._slide(this._directionToOrder(DIRECTION_RIGHT)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),TOUCHEVENT_COMPAT_WAIT+this._config.interval))}};this._swipeHelper=new Swipe(this._element,tt)}_keydown(et){if(/input|textarea/i.test(et.target.tagName))return;const tt=KEY_TO_DIRECTION[et.key];tt&&(et.preventDefault(),this._slide(this._directionToOrder(tt)))}_getItemIndex(et){return this._getItems().indexOf(et)}_setActiveIndicatorElement(et){if(!this._indicatorsElement)return;const tt=SelectorEngine.findOne(SELECTOR_ACTIVE,this._indicatorsElement);tt.classList.remove(CLASS_NAME_ACTIVE$2),tt.removeAttribute("aria-current");const nt=SelectorEngine.findOne(`[data-bs-slide-to="${et}"]`,this._indicatorsElement);nt&&(nt.classList.add(CLASS_NAME_ACTIVE$2),nt.setAttribute("aria-current","true"))}_updateInterval(){const et=this._activeElement||this._getActive();if(!et)return;const tt=Number.parseInt(et.getAttribute("data-bs-interval"),10);this._config.interval=tt||this._config.defaultInterval}_slide(et,tt=null){if(this._isSliding)return;const nt=this._getActive(),rt=et===ORDER_NEXT,it=tt||getNextActiveElement(this._getItems(),nt,rt,this._config.wrap);if(it===nt)return;const ot=this._getItemIndex(it),st=ct=>EventHandler.trigger(this._element,ct,{relatedTarget:it,direction:this._orderToDirection(et),from:this._getItemIndex(nt),to:ot});if(st(EVENT_SLIDE).defaultPrevented||!nt||!it)return;const ft=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(ot),this._activeElement=it;const dt=rt?CLASS_NAME_START:CLASS_NAME_END,lt=rt?CLASS_NAME_NEXT:CLASS_NAME_PREV;it.classList.add(lt),reflow(it),nt.classList.add(dt),it.classList.add(dt);const at=()=>{it.classList.remove(dt,lt),it.classList.add(CLASS_NAME_ACTIVE$2),nt.classList.remove(CLASS_NAME_ACTIVE$2,lt,dt),this._isSliding=!1,st(EVENT_SLID)};this._queueCallback(at,nt,this._isAnimated()),ft&&this.cycle()}_isAnimated(){return this._element.classList.contains(CLASS_NAME_SLIDE)}_getActive(){return SelectorEngine.findOne(SELECTOR_ACTIVE_ITEM,this._element)}_getItems(){return SelectorEngine.find(SELECTOR_ITEM,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(et){return isRTL$1()?et===DIRECTION_LEFT?ORDER_PREV:ORDER_NEXT:et===DIRECTION_LEFT?ORDER_NEXT:ORDER_PREV}_orderToDirection(et){return isRTL$1()?et===ORDER_PREV?DIRECTION_LEFT:DIRECTION_RIGHT:et===ORDER_PREV?DIRECTION_RIGHT:DIRECTION_LEFT}static jQueryInterface(et){return this.each(function(){const tt=Carousel.getOrCreateInstance(this,et);if(typeof et=="number"){tt.to(et);return}if(typeof et=="string"){if(tt[et]===void 0||et.startsWith("_")||et==="constructor")throw new TypeError(`No method named "${et}"`);tt[et]()}})}}EventHandler.on(document,EVENT_CLICK_DATA_API$5,SELECTOR_DATA_SLIDE,function(_e){const et=SelectorEngine.getElementFromSelector(this);if(!et||!et.classList.contains(CLASS_NAME_CAROUSEL))return;_e.preventDefault();const tt=Carousel.getOrCreateInstance(et),nt=this.getAttribute("data-bs-slide-to");if(nt){tt.to(nt),tt._maybeEnableCycle();return}if(Manipulator.getDataAttribute(this,"slide")==="next"){tt.next(),tt._maybeEnableCycle();return}tt.prev(),tt._maybeEnableCycle()});EventHandler.on(window,EVENT_LOAD_DATA_API$3,()=>{const _e=SelectorEngine.find(SELECTOR_DATA_RIDE);for(const et of _e)Carousel.getOrCreateInstance(et)});defineJQueryPlugin(Carousel);const NAME$b="collapse",DATA_KEY$7="bs.collapse",EVENT_KEY$7=`.${DATA_KEY$7}`,DATA_API_KEY$4=".data-api",EVENT_SHOW$6=`show${EVENT_KEY$7}`,EVENT_SHOWN$6=`shown${EVENT_KEY$7}`,EVENT_HIDE$6=`hide${EVENT_KEY$7}`,EVENT_HIDDEN$6=`hidden${EVENT_KEY$7}`,EVENT_CLICK_DATA_API$4=`click${EVENT_KEY$7}${DATA_API_KEY$4}`,CLASS_NAME_SHOW$7="show",CLASS_NAME_COLLAPSE="collapse",CLASS_NAME_COLLAPSING="collapsing",CLASS_NAME_COLLAPSED="collapsed",CLASS_NAME_DEEPER_CHILDREN=`:scope .${CLASS_NAME_COLLAPSE} .${CLASS_NAME_COLLAPSE}`,CLASS_NAME_HORIZONTAL="collapse-horizontal",WIDTH="width",HEIGHT="height",SELECTOR_ACTIVES=".collapse.show, .collapse.collapsing",SELECTOR_DATA_TOGGLE$4='[data-bs-toggle="collapse"]',Default$a={parent:null,toggle:!0},DefaultType$a={parent:"(null|element)",toggle:"boolean"};let Collapse$1=class lo extends BaseComponent{constructor(et,tt){super(et,tt),this._isTransitioning=!1,this._triggerArray=[];const nt=SelectorEngine.find(SELECTOR_DATA_TOGGLE$4);for(const rt of nt){const it=SelectorEngine.getSelectorFromElement(rt),ot=SelectorEngine.find(it).filter(st=>st===this._element);it!==null&&ot.length&&this._triggerArray.push(rt)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Default$a}static get DefaultType(){return DefaultType$a}static get NAME(){return NAME$b}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let et=[];if(this._config.parent&&(et=this._getFirstLevelChildren(SELECTOR_ACTIVES).filter(st=>st!==this._element).map(st=>lo.getOrCreateInstance(st,{toggle:!1}))),et.length&&et[0]._isTransitioning||EventHandler.trigger(this._element,EVENT_SHOW$6).defaultPrevented)return;for(const st of et)st.hide();const nt=this._getDimension();this._element.classList.remove(CLASS_NAME_COLLAPSE),this._element.classList.add(CLASS_NAME_COLLAPSING),this._element.style[nt]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const rt=()=>{this._isTransitioning=!1,this._element.classList.remove(CLASS_NAME_COLLAPSING),this._element.classList.add(CLASS_NAME_COLLAPSE,CLASS_NAME_SHOW$7),this._element.style[nt]="",EventHandler.trigger(this._element,EVENT_SHOWN$6)},ot=`scroll${nt[0].toUpperCase()+nt.slice(1)}`;this._queueCallback(rt,this._element,!0),this._element.style[nt]=`${this._element[ot]}px`}hide(){if(this._isTransitioning||!this._isShown()||EventHandler.trigger(this._element,EVENT_HIDE$6).defaultPrevented)return;const tt=this._getDimension();this._element.style[tt]=`${this._element.getBoundingClientRect()[tt]}px`,reflow(this._element),this._element.classList.add(CLASS_NAME_COLLAPSING),this._element.classList.remove(CLASS_NAME_COLLAPSE,CLASS_NAME_SHOW$7);for(const rt of this._triggerArray){const it=SelectorEngine.getElementFromSelector(rt);it&&!this._isShown(it)&&this._addAriaAndCollapsedClass([rt],!1)}this._isTransitioning=!0;const nt=()=>{this._isTransitioning=!1,this._element.classList.remove(CLASS_NAME_COLLAPSING),this._element.classList.add(CLASS_NAME_COLLAPSE),EventHandler.trigger(this._element,EVENT_HIDDEN$6)};this._element.style[tt]="",this._queueCallback(nt,this._element,!0)}_isShown(et=this._element){return et.classList.contains(CLASS_NAME_SHOW$7)}_configAfterMerge(et){return et.toggle=!!et.toggle,et.parent=getElement(et.parent),et}_getDimension(){return this._element.classList.contains(CLASS_NAME_HORIZONTAL)?WIDTH:HEIGHT}_initializeChildren(){if(!this._config.parent)return;const et=this._getFirstLevelChildren(SELECTOR_DATA_TOGGLE$4);for(const tt of et){const nt=SelectorEngine.getElementFromSelector(tt);nt&&this._addAriaAndCollapsedClass([tt],this._isShown(nt))}}_getFirstLevelChildren(et){const tt=SelectorEngine.find(CLASS_NAME_DEEPER_CHILDREN,this._config.parent);return SelectorEngine.find(et,this._config.parent).filter(nt=>!tt.includes(nt))}_addAriaAndCollapsedClass(et,tt){if(et.length)for(const nt of et)nt.classList.toggle(CLASS_NAME_COLLAPSED,!tt),nt.setAttribute("aria-expanded",tt)}static jQueryInterface(et){const tt={};return typeof et=="string"&&/show|hide/.test(et)&&(tt.toggle=!1),this.each(function(){const nt=lo.getOrCreateInstance(this,tt);if(typeof et=="string"){if(typeof nt[et]>"u")throw new TypeError(`No method named "${et}"`);nt[et]()}})}};EventHandler.on(document,EVENT_CLICK_DATA_API$4,SELECTOR_DATA_TOGGLE$4,function(_e){(_e.target.tagName==="A"||_e.delegateTarget&&_e.delegateTarget.tagName==="A")&&_e.preventDefault();for(const et of SelectorEngine.getMultipleElementsFromSelector(this))Collapse$1.getOrCreateInstance(et,{toggle:!1}).toggle()});defineJQueryPlugin(Collapse$1);const NAME$a="dropdown",DATA_KEY$6="bs.dropdown",EVENT_KEY$6=`.${DATA_KEY$6}`,DATA_API_KEY$3=".data-api",ESCAPE_KEY$2="Escape",TAB_KEY$1="Tab",ARROW_UP_KEY$1="ArrowUp",ARROW_DOWN_KEY$1="ArrowDown",RIGHT_MOUSE_BUTTON=2,EVENT_HIDE$5=`hide${EVENT_KEY$6}`,EVENT_HIDDEN$5=`hidden${EVENT_KEY$6}`,EVENT_SHOW$5=`show${EVENT_KEY$6}`,EVENT_SHOWN$5=`shown${EVENT_KEY$6}`,EVENT_CLICK_DATA_API$3=`click${EVENT_KEY$6}${DATA_API_KEY$3}`,EVENT_KEYDOWN_DATA_API=`keydown${EVENT_KEY$6}${DATA_API_KEY$3}`,EVENT_KEYUP_DATA_API=`keyup${EVENT_KEY$6}${DATA_API_KEY$3}`,CLASS_NAME_SHOW$6="show",CLASS_NAME_DROPUP="dropup",CLASS_NAME_DROPEND="dropend",CLASS_NAME_DROPSTART="dropstart",CLASS_NAME_DROPUP_CENTER="dropup-center",CLASS_NAME_DROPDOWN_CENTER="dropdown-center",SELECTOR_DATA_TOGGLE$3='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',SELECTOR_DATA_TOGGLE_SHOWN=`${SELECTOR_DATA_TOGGLE$3}.${CLASS_NAME_SHOW$6}`,SELECTOR_MENU=".dropdown-menu",SELECTOR_NAVBAR=".navbar",SELECTOR_NAVBAR_NAV=".navbar-nav",SELECTOR_VISIBLE_ITEMS=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",PLACEMENT_TOP=isRTL$1()?"top-end":"top-start",PLACEMENT_TOPEND=isRTL$1()?"top-start":"top-end",PLACEMENT_BOTTOM=isRTL$1()?"bottom-end":"bottom-start",PLACEMENT_BOTTOMEND=isRTL$1()?"bottom-start":"bottom-end",PLACEMENT_RIGHT=isRTL$1()?"left-start":"right-start",PLACEMENT_LEFT=isRTL$1()?"right-start":"left-start",PLACEMENT_TOPCENTER="top",PLACEMENT_BOTTOMCENTER="bottom",Default$9={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},DefaultType$9={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};let Dropdown$3=class ro extends BaseComponent{constructor(et,tt){super(et,tt),this._popper=null,this._parent=this._element.parentNode,this._menu=SelectorEngine.next(this._element,SELECTOR_MENU)[0]||SelectorEngine.prev(this._element,SELECTOR_MENU)[0]||SelectorEngine.findOne(SELECTOR_MENU,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Default$9}static get DefaultType(){return DefaultType$9}static get NAME(){return NAME$a}toggle(){return this._isShown()?this.hide():this.show()}show(){if(isDisabled(this._element)||this._isShown())return;const et={relatedTarget:this._element};if(!EventHandler.trigger(this._element,EVENT_SHOW$5,et).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(SELECTOR_NAVBAR_NAV))for(const nt of[].concat(...document.body.children))EventHandler.on(nt,"mouseover",noop$b);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(CLASS_NAME_SHOW$6),this._element.classList.add(CLASS_NAME_SHOW$6),EventHandler.trigger(this._element,EVENT_SHOWN$5,et)}}hide(){if(isDisabled(this._element)||!this._isShown())return;const et={relatedTarget:this._element};this._completeHide(et)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(et){if(!EventHandler.trigger(this._element,EVENT_HIDE$5,et).defaultPrevented){if("ontouchstart"in document.documentElement)for(const nt of[].concat(...document.body.children))EventHandler.off(nt,"mouseover",noop$b);this._popper&&this._popper.destroy(),this._menu.classList.remove(CLASS_NAME_SHOW$6),this._element.classList.remove(CLASS_NAME_SHOW$6),this._element.setAttribute("aria-expanded","false"),Manipulator.removeDataAttribute(this._menu,"popper"),EventHandler.trigger(this._element,EVENT_HIDDEN$5,et)}}_getConfig(et){if(et=super._getConfig(et),typeof et.reference=="object"&&!isElement$1(et.reference)&&typeof et.reference.getBoundingClientRect!="function")throw new TypeError(`${NAME$a.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return et}_createPopper(){if(typeof Popper>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let et=this._element;this._config.reference==="parent"?et=this._parent:isElement$1(this._config.reference)?et=getElement(this._config.reference):typeof this._config.reference=="object"&&(et=this._config.reference);const tt=this._getPopperConfig();this._popper=createPopper$1(et,this._menu,tt)}_isShown(){return this._menu.classList.contains(CLASS_NAME_SHOW$6)}_getPlacement(){const et=this._parent;if(et.classList.contains(CLASS_NAME_DROPEND))return PLACEMENT_RIGHT;if(et.classList.contains(CLASS_NAME_DROPSTART))return PLACEMENT_LEFT;if(et.classList.contains(CLASS_NAME_DROPUP_CENTER))return PLACEMENT_TOPCENTER;if(et.classList.contains(CLASS_NAME_DROPDOWN_CENTER))return PLACEMENT_BOTTOMCENTER;const tt=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return et.classList.contains(CLASS_NAME_DROPUP)?tt?PLACEMENT_TOPEND:PLACEMENT_TOP:tt?PLACEMENT_BOTTOMEND:PLACEMENT_BOTTOM}_detectNavbar(){return this._element.closest(SELECTOR_NAVBAR)!==null}_getOffset(){const{offset:et}=this._config;return typeof et=="string"?et.split(",").map(tt=>Number.parseInt(tt,10)):typeof et=="function"?tt=>et(tt,this._element):et}_getPopperConfig(){const et={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Manipulator.setDataAttribute(this._menu,"popper","static"),et.modifiers=[{name:"applyStyles",enabled:!1}]),{...et,...execute(this._config.popperConfig,[et])}}_selectMenuItem({key:et,target:tt}){const nt=SelectorEngine.find(SELECTOR_VISIBLE_ITEMS,this._menu).filter(rt=>isVisible(rt));nt.length&&getNextActiveElement(nt,tt,et===ARROW_DOWN_KEY$1,!nt.includes(tt)).focus()}static jQueryInterface(et){return this.each(function(){const tt=ro.getOrCreateInstance(this,et);if(typeof et=="string"){if(typeof tt[et]>"u")throw new TypeError(`No method named "${et}"`);tt[et]()}})}static clearMenus(et){if(et.button===RIGHT_MOUSE_BUTTON||et.type==="keyup"&&et.key!==TAB_KEY$1)return;const tt=SelectorEngine.find(SELECTOR_DATA_TOGGLE_SHOWN);for(const nt of tt){const rt=ro.getInstance(nt);if(!rt||rt._config.autoClose===!1)continue;const it=et.composedPath(),ot=it.includes(rt._menu);if(it.includes(rt._element)||rt._config.autoClose==="inside"&&!ot||rt._config.autoClose==="outside"&&ot||rt._menu.contains(et.target)&&(et.type==="keyup"&&et.key===TAB_KEY$1||/input|select|option|textarea|form/i.test(et.target.tagName)))continue;const st={relatedTarget:rt._element};et.type==="click"&&(st.clickEvent=et),rt._completeHide(st)}}static dataApiKeydownHandler(et){const tt=/input|textarea/i.test(et.target.tagName),nt=et.key===ESCAPE_KEY$2,rt=[ARROW_UP_KEY$1,ARROW_DOWN_KEY$1].includes(et.key);if(!rt&&!nt||tt&&!nt)return;et.preventDefault();const it=this.matches(SELECTOR_DATA_TOGGLE$3)?this:SelectorEngine.prev(this,SELECTOR_DATA_TOGGLE$3)[0]||SelectorEngine.next(this,SELECTOR_DATA_TOGGLE$3)[0]||SelectorEngine.findOne(SELECTOR_DATA_TOGGLE$3,et.delegateTarget.parentNode),ot=ro.getOrCreateInstance(it);if(rt){et.stopPropagation(),ot.show(),ot._selectMenuItem(et);return}ot._isShown()&&(et.stopPropagation(),ot.hide(),it.focus())}};EventHandler.on(document,EVENT_KEYDOWN_DATA_API,SELECTOR_DATA_TOGGLE$3,Dropdown$3.dataApiKeydownHandler);EventHandler.on(document,EVENT_KEYDOWN_DATA_API,SELECTOR_MENU,Dropdown$3.dataApiKeydownHandler);EventHandler.on(document,EVENT_CLICK_DATA_API$3,Dropdown$3.clearMenus);EventHandler.on(document,EVENT_KEYUP_DATA_API,Dropdown$3.clearMenus);EventHandler.on(document,EVENT_CLICK_DATA_API$3,SELECTOR_DATA_TOGGLE$3,function(_e){_e.preventDefault(),Dropdown$3.getOrCreateInstance(this).toggle()});defineJQueryPlugin(Dropdown$3);const NAME$9="backdrop",CLASS_NAME_FADE$4="fade",CLASS_NAME_SHOW$5="show",EVENT_MOUSEDOWN=`mousedown.bs.${NAME$9}`,Default$8={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},DefaultType$8={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Backdrop extends Config{constructor(et){super(),this._config=this._getConfig(et),this._isAppended=!1,this._element=null}static get Default(){return Default$8}static get DefaultType(){return DefaultType$8}static get NAME(){return NAME$9}show(et){if(!this._config.isVisible){execute(et);return}this._append();const tt=this._getElement();this._config.isAnimated&&reflow(tt),tt.classList.add(CLASS_NAME_SHOW$5),this._emulateAnimation(()=>{execute(et)})}hide(et){if(!this._config.isVisible){execute(et);return}this._getElement().classList.remove(CLASS_NAME_SHOW$5),this._emulateAnimation(()=>{this.dispose(),execute(et)})}dispose(){this._isAppended&&(EventHandler.off(this._element,EVENT_MOUSEDOWN),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const et=document.createElement("div");et.className=this._config.className,this._config.isAnimated&&et.classList.add(CLASS_NAME_FADE$4),this._element=et}return this._element}_configAfterMerge(et){return et.rootElement=getElement(et.rootElement),et}_append(){if(this._isAppended)return;const et=this._getElement();this._config.rootElement.append(et),EventHandler.on(et,EVENT_MOUSEDOWN,()=>{execute(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(et){executeAfterTransition(et,this._getElement(),this._config.isAnimated)}}const NAME$8="focustrap",DATA_KEY$5="bs.focustrap",EVENT_KEY$5=`.${DATA_KEY$5}`,EVENT_FOCUSIN$2=`focusin${EVENT_KEY$5}`,EVENT_KEYDOWN_TAB=`keydown.tab${EVENT_KEY$5}`,TAB_KEY="Tab",TAB_NAV_FORWARD="forward",TAB_NAV_BACKWARD="backward",Default$7={autofocus:!0,trapElement:null},DefaultType$7={autofocus:"boolean",trapElement:"element"};class FocusTrap extends Config{constructor(et){super(),this._config=this._getConfig(et),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Default$7}static get DefaultType(){return DefaultType$7}static get NAME(){return NAME$8}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),EventHandler.off(document,EVENT_KEY$5),EventHandler.on(document,EVENT_FOCUSIN$2,et=>this._handleFocusin(et)),EventHandler.on(document,EVENT_KEYDOWN_TAB,et=>this._handleKeydown(et)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,EventHandler.off(document,EVENT_KEY$5))}_handleFocusin(et){const{trapElement:tt}=this._config;if(et.target===document||et.target===tt||tt.contains(et.target))return;const nt=SelectorEngine.focusableChildren(tt);nt.length===0?tt.focus():this._lastTabNavDirection===TAB_NAV_BACKWARD?nt[nt.length-1].focus():nt[0].focus()}_handleKeydown(et){et.key===TAB_KEY&&(this._lastTabNavDirection=et.shiftKey?TAB_NAV_BACKWARD:TAB_NAV_FORWARD)}}const SELECTOR_FIXED_CONTENT=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",SELECTOR_STICKY_CONTENT=".sticky-top",PROPERTY_PADDING="padding-right",PROPERTY_MARGIN="margin-right";class ScrollBarHelper{constructor(){this._element=document.body}getWidth(){const et=document.documentElement.clientWidth;return Math.abs(window.innerWidth-et)}hide(){const et=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,PROPERTY_PADDING,tt=>tt+et),this._setElementAttributes(SELECTOR_FIXED_CONTENT,PROPERTY_PADDING,tt=>tt+et),this._setElementAttributes(SELECTOR_STICKY_CONTENT,PROPERTY_MARGIN,tt=>tt-et)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,PROPERTY_PADDING),this._resetElementAttributes(SELECTOR_FIXED_CONTENT,PROPERTY_PADDING),this._resetElementAttributes(SELECTOR_STICKY_CONTENT,PROPERTY_MARGIN)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(et,tt,nt){const rt=this.getWidth(),it=ot=>{if(ot!==this._element&&window.innerWidth>ot.clientWidth+rt)return;this._saveInitialAttribute(ot,tt);const st=window.getComputedStyle(ot).getPropertyValue(tt);ot.style.setProperty(tt,`${nt(Number.parseFloat(st))}px`)};this._applyManipulationCallback(et,it)}_saveInitialAttribute(et,tt){const nt=et.style.getPropertyValue(tt);nt&&Manipulator.setDataAttribute(et,tt,nt)}_resetElementAttributes(et,tt){const nt=rt=>{const it=Manipulator.getDataAttribute(rt,tt);if(it===null){rt.style.removeProperty(tt);return}Manipulator.removeDataAttribute(rt,tt),rt.style.setProperty(tt,it)};this._applyManipulationCallback(et,nt)}_applyManipulationCallback(et,tt){if(isElement$1(et)){tt(et);return}for(const nt of SelectorEngine.find(et,this._element))tt(nt)}}const NAME$7="modal",DATA_KEY$4="bs.modal",EVENT_KEY$4=`.${DATA_KEY$4}`,DATA_API_KEY$2=".data-api",ESCAPE_KEY$1="Escape",EVENT_HIDE$4=`hide${EVENT_KEY$4}`,EVENT_HIDE_PREVENTED$1=`hidePrevented${EVENT_KEY$4}`,EVENT_HIDDEN$4=`hidden${EVENT_KEY$4}`,EVENT_SHOW$4=`show${EVENT_KEY$4}`,EVENT_SHOWN$4=`shown${EVENT_KEY$4}`,EVENT_RESIZE$1=`resize${EVENT_KEY$4}`,EVENT_CLICK_DISMISS=`click.dismiss${EVENT_KEY$4}`,EVENT_MOUSEDOWN_DISMISS=`mousedown.dismiss${EVENT_KEY$4}`,EVENT_KEYDOWN_DISMISS$1=`keydown.dismiss${EVENT_KEY$4}`,EVENT_CLICK_DATA_API$2=`click${EVENT_KEY$4}${DATA_API_KEY$2}`,CLASS_NAME_OPEN="modal-open",CLASS_NAME_FADE$3="fade",CLASS_NAME_SHOW$4="show",CLASS_NAME_STATIC="modal-static",OPEN_SELECTOR$1=".modal.show",SELECTOR_DIALOG=".modal-dialog",SELECTOR_MODAL_BODY=".modal-body",SELECTOR_DATA_TOGGLE$2='[data-bs-toggle="modal"]',Default$6={backdrop:!0,focus:!0,keyboard:!0},DefaultType$6={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};let Modal$4=class mo extends BaseComponent{constructor(et,tt){super(et,tt),this._dialog=SelectorEngine.findOne(SELECTOR_DIALOG,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new ScrollBarHelper,this._addEventListeners()}static get Default(){return Default$6}static get DefaultType(){return DefaultType$6}static get NAME(){return NAME$7}toggle(et){return this._isShown?this.hide():this.show(et)}show(et){this._isShown||this._isTransitioning||EventHandler.trigger(this._element,EVENT_SHOW$4,{relatedTarget:et}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(CLASS_NAME_OPEN),this._adjustDialog(),this._backdrop.show(()=>this._showElement(et)))}hide(){!this._isShown||this._isTransitioning||EventHandler.trigger(this._element,EVENT_HIDE$4).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(CLASS_NAME_SHOW$4),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){EventHandler.off(window,EVENT_KEY$4),EventHandler.off(this._dialog,EVENT_KEY$4),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Backdrop({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new FocusTrap({trapElement:this._element})}_showElement(et){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const tt=SelectorEngine.findOne(SELECTOR_MODAL_BODY,this._dialog);tt&&(tt.scrollTop=0),reflow(this._element),this._element.classList.add(CLASS_NAME_SHOW$4);const nt=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,EventHandler.trigger(this._element,EVENT_SHOWN$4,{relatedTarget:et})};this._queueCallback(nt,this._dialog,this._isAnimated())}_addEventListeners(){EventHandler.on(this._element,EVENT_KEYDOWN_DISMISS$1,et=>{if(et.key===ESCAPE_KEY$1){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),EventHandler.on(window,EVENT_RESIZE$1,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),EventHandler.on(this._element,EVENT_MOUSEDOWN_DISMISS,et=>{EventHandler.one(this._element,EVENT_CLICK_DISMISS,tt=>{if(!(this._element!==et.target||this._element!==tt.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(CLASS_NAME_OPEN),this._resetAdjustments(),this._scrollBar.reset(),EventHandler.trigger(this._element,EVENT_HIDDEN$4)})}_isAnimated(){return this._element.classList.contains(CLASS_NAME_FADE$3)}_triggerBackdropTransition(){if(EventHandler.trigger(this._element,EVENT_HIDE_PREVENTED$1).defaultPrevented)return;const tt=this._element.scrollHeight>document.documentElement.clientHeight,nt=this._element.style.overflowY;nt==="hidden"||this._element.classList.contains(CLASS_NAME_STATIC)||(tt||(this._element.style.overflowY="hidden"),this._element.classList.add(CLASS_NAME_STATIC),this._queueCallback(()=>{this._element.classList.remove(CLASS_NAME_STATIC),this._queueCallback(()=>{this._element.style.overflowY=nt},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const et=this._element.scrollHeight>document.documentElement.clientHeight,tt=this._scrollBar.getWidth(),nt=tt>0;if(nt&&!et){const rt=isRTL$1()?"paddingLeft":"paddingRight";this._element.style[rt]=`${tt}px`}if(!nt&&et){const rt=isRTL$1()?"paddingRight":"paddingLeft";this._element.style[rt]=`${tt}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(et,tt){return this.each(function(){const nt=mo.getOrCreateInstance(this,et);if(typeof et=="string"){if(typeof nt[et]>"u")throw new TypeError(`No method named "${et}"`);nt[et](tt)}})}};EventHandler.on(document,EVENT_CLICK_DATA_API$2,SELECTOR_DATA_TOGGLE$2,function(_e){const et=SelectorEngine.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&_e.preventDefault(),EventHandler.one(et,EVENT_SHOW$4,rt=>{rt.defaultPrevented||EventHandler.one(et,EVENT_HIDDEN$4,()=>{isVisible(this)&&this.focus()})});const tt=SelectorEngine.findOne(OPEN_SELECTOR$1);tt&&Modal$4.getInstance(tt).hide(),Modal$4.getOrCreateInstance(et).toggle(this)});enableDismissTrigger(Modal$4);defineJQueryPlugin(Modal$4);const NAME$6="offcanvas",DATA_KEY$3="bs.offcanvas",EVENT_KEY$3=`.${DATA_KEY$3}`,DATA_API_KEY$1=".data-api",EVENT_LOAD_DATA_API$2=`load${EVENT_KEY$3}${DATA_API_KEY$1}`,ESCAPE_KEY="Escape",CLASS_NAME_SHOW$3="show",CLASS_NAME_SHOWING$1="showing",CLASS_NAME_HIDING="hiding",CLASS_NAME_BACKDROP="offcanvas-backdrop",OPEN_SELECTOR=".offcanvas.show",EVENT_SHOW$3=`show${EVENT_KEY$3}`,EVENT_SHOWN$3=`shown${EVENT_KEY$3}`,EVENT_HIDE$3=`hide${EVENT_KEY$3}`,EVENT_HIDE_PREVENTED=`hidePrevented${EVENT_KEY$3}`,EVENT_HIDDEN$3=`hidden${EVENT_KEY$3}`,EVENT_RESIZE=`resize${EVENT_KEY$3}`,EVENT_CLICK_DATA_API$1=`click${EVENT_KEY$3}${DATA_API_KEY$1}`,EVENT_KEYDOWN_DISMISS=`keydown.dismiss${EVENT_KEY$3}`,SELECTOR_DATA_TOGGLE$1='[data-bs-toggle="offcanvas"]',Default$5={backdrop:!0,keyboard:!0,scroll:!1},DefaultType$5={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};let Offcanvas$2=class go extends BaseComponent{constructor(et,tt){super(et,tt),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Default$5}static get DefaultType(){return DefaultType$5}static get NAME(){return NAME$6}toggle(et){return this._isShown?this.hide():this.show(et)}show(et){if(this._isShown||EventHandler.trigger(this._element,EVENT_SHOW$3,{relatedTarget:et}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new ScrollBarHelper().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(CLASS_NAME_SHOWING$1);const nt=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(CLASS_NAME_SHOW$3),this._element.classList.remove(CLASS_NAME_SHOWING$1),EventHandler.trigger(this._element,EVENT_SHOWN$3,{relatedTarget:et})};this._queueCallback(nt,this._element,!0)}hide(){if(!this._isShown||EventHandler.trigger(this._element,EVENT_HIDE$3).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(CLASS_NAME_HIDING),this._backdrop.hide();const tt=()=>{this._element.classList.remove(CLASS_NAME_SHOW$3,CLASS_NAME_HIDING),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new ScrollBarHelper().reset(),EventHandler.trigger(this._element,EVENT_HIDDEN$3)};this._queueCallback(tt,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const et=()=>{if(this._config.backdrop==="static"){EventHandler.trigger(this._element,EVENT_HIDE_PREVENTED);return}this.hide()},tt=!!this._config.backdrop;return new Backdrop({className:CLASS_NAME_BACKDROP,isVisible:tt,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:tt?et:null})}_initializeFocusTrap(){return new FocusTrap({trapElement:this._element})}_addEventListeners(){EventHandler.on(this._element,EVENT_KEYDOWN_DISMISS,et=>{if(et.key===ESCAPE_KEY){if(this._config.keyboard){this.hide();return}EventHandler.trigger(this._element,EVENT_HIDE_PREVENTED)}})}static jQueryInterface(et){return this.each(function(){const tt=go.getOrCreateInstance(this,et);if(typeof et=="string"){if(tt[et]===void 0||et.startsWith("_")||et==="constructor")throw new TypeError(`No method named "${et}"`);tt[et](this)}})}};EventHandler.on(document,EVENT_CLICK_DATA_API$1,SELECTOR_DATA_TOGGLE$1,function(_e){const et=SelectorEngine.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&_e.preventDefault(),isDisabled(this))return;EventHandler.one(et,EVENT_HIDDEN$3,()=>{isVisible(this)&&this.focus()});const tt=SelectorEngine.findOne(OPEN_SELECTOR);tt&&tt!==et&&Offcanvas$2.getInstance(tt).hide(),Offcanvas$2.getOrCreateInstance(et).toggle(this)});EventHandler.on(window,EVENT_LOAD_DATA_API$2,()=>{for(const _e of SelectorEngine.find(OPEN_SELECTOR))Offcanvas$2.getOrCreateInstance(_e).show()});EventHandler.on(window,EVENT_RESIZE,()=>{for(const _e of SelectorEngine.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(_e).position!=="fixed"&&Offcanvas$2.getOrCreateInstance(_e).hide()});enableDismissTrigger(Offcanvas$2);defineJQueryPlugin(Offcanvas$2);const ARIA_ATTRIBUTE_PATTERN=/^aria-[\w-]*$/i,DefaultAllowlist={"*":["class","dir","id","lang","role",ARIA_ATTRIBUTE_PATTERN],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},uriAttributes=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),SAFE_URL_PATTERN=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,allowedAttribute=(_e,et)=>{const tt=_e.nodeName.toLowerCase();return et.includes(tt)?uriAttributes.has(tt)?!!SAFE_URL_PATTERN.test(_e.nodeValue):!0:et.filter(nt=>nt instanceof RegExp).some(nt=>nt.test(tt))};function sanitizeHtml(_e,et,tt){if(!_e.length)return _e;if(tt&&typeof tt=="function")return tt(_e);const rt=new window.DOMParser().parseFromString(_e,"text/html"),it=[].concat(...rt.body.querySelectorAll("*"));for(const ot of it){const st=ot.nodeName.toLowerCase();if(!Object.keys(et).includes(st)){ot.remove();continue}const ut=[].concat(...ot.attributes),ft=[].concat(et["*"]||[],et[st]||[]);for(const dt of ut)allowedAttribute(dt,ft)||ot.removeAttribute(dt.nodeName)}return rt.body.innerHTML}const NAME$5="TemplateFactory",Default$4={allowList:DefaultAllowlist,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},DefaultType$4={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},DefaultContentType={entry:"(string|element|function|null)",selector:"(string|element)"};class TemplateFactory extends Config{constructor(et){super(),this._config=this._getConfig(et)}static get Default(){return Default$4}static get DefaultType(){return DefaultType$4}static get NAME(){return NAME$5}getContent(){return Object.values(this._config.content).map(et=>this._resolvePossibleFunction(et)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(et){return this._checkContent(et),this._config.content={...this._config.content,...et},this}toHtml(){const et=document.createElement("div");et.innerHTML=this._maybeSanitize(this._config.template);for(const[rt,it]of Object.entries(this._config.content))this._setContent(et,it,rt);const tt=et.children[0],nt=this._resolvePossibleFunction(this._config.extraClass);return nt&&tt.classList.add(...nt.split(" ")),tt}_typeCheckConfig(et){super._typeCheckConfig(et),this._checkContent(et.content)}_checkContent(et){for(const[tt,nt]of Object.entries(et))super._typeCheckConfig({selector:tt,entry:nt},DefaultContentType)}_setContent(et,tt,nt){const rt=SelectorEngine.findOne(nt,et);if(rt){if(tt=this._resolvePossibleFunction(tt),!tt){rt.remove();return}if(isElement$1(tt)){this._putElementInTemplate(getElement(tt),rt);return}if(this._config.html){rt.innerHTML=this._maybeSanitize(tt);return}rt.textContent=tt}}_maybeSanitize(et){return this._config.sanitize?sanitizeHtml(et,this._config.allowList,this._config.sanitizeFn):et}_resolvePossibleFunction(et){return execute(et,[this])}_putElementInTemplate(et,tt){if(this._config.html){tt.innerHTML="",tt.append(et);return}tt.textContent=et.textContent}}const NAME$4="tooltip",DISALLOWED_ATTRIBUTES=new Set(["sanitize","allowList","sanitizeFn"]),CLASS_NAME_FADE$2="fade",CLASS_NAME_MODAL="modal",CLASS_NAME_SHOW$2="show",SELECTOR_TOOLTIP_INNER=".tooltip-inner",SELECTOR_MODAL=`.${CLASS_NAME_MODAL}`,EVENT_MODAL_HIDE="hide.bs.modal",TRIGGER_HOVER="hover",TRIGGER_FOCUS="focus",TRIGGER_CLICK="click",TRIGGER_MANUAL="manual",EVENT_HIDE$2="hide",EVENT_HIDDEN$2="hidden",EVENT_SHOW$2="show",EVENT_SHOWN$2="shown",EVENT_INSERTED="inserted",EVENT_CLICK$1="click",EVENT_FOCUSIN$1="focusin",EVENT_FOCUSOUT$1="focusout",EVENT_MOUSEENTER="mouseenter",EVENT_MOUSELEAVE="mouseleave",AttachmentMap={AUTO:"auto",TOP:"top",RIGHT:isRTL$1()?"left":"right",BOTTOM:"bottom",LEFT:isRTL$1()?"right":"left"},Default$3={allowList:DefaultAllowlist,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},DefaultType$3={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};let Tooltip$2=class yo extends BaseComponent{constructor(et,tt){if(typeof Popper>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(et,tt),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Default$3}static get DefaultType(){return DefaultType$3}static get NAME(){return NAME$4}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),EventHandler.off(this._element.closest(SELECTOR_MODAL),EVENT_MODAL_HIDE,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const et=EventHandler.trigger(this._element,this.constructor.eventName(EVENT_SHOW$2)),nt=(findShadowRoot(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(et.defaultPrevented||!nt)return;this._disposePopper();const rt=this._getTipElement();this._element.setAttribute("aria-describedby",rt.getAttribute("id"));const{container:it}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(it.append(rt),EventHandler.trigger(this._element,this.constructor.eventName(EVENT_INSERTED))),this._popper=this._createPopper(rt),rt.classList.add(CLASS_NAME_SHOW$2),"ontouchstart"in document.documentElement)for(const st of[].concat(...document.body.children))EventHandler.on(st,"mouseover",noop$b);const ot=()=>{EventHandler.trigger(this._element,this.constructor.eventName(EVENT_SHOWN$2)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(ot,this.tip,this._isAnimated())}hide(){if(!this._isShown()||EventHandler.trigger(this._element,this.constructor.eventName(EVENT_HIDE$2)).defaultPrevented)return;if(this._getTipElement().classList.remove(CLASS_NAME_SHOW$2),"ontouchstart"in document.documentElement)for(const rt of[].concat(...document.body.children))EventHandler.off(rt,"mouseover",noop$b);this._activeTrigger[TRIGGER_CLICK]=!1,this._activeTrigger[TRIGGER_FOCUS]=!1,this._activeTrigger[TRIGGER_HOVER]=!1,this._isHovered=null;const nt=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),EventHandler.trigger(this._element,this.constructor.eventName(EVENT_HIDDEN$2)))};this._queueCallback(nt,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(et){const tt=this._getTemplateFactory(et).toHtml();if(!tt)return null;tt.classList.remove(CLASS_NAME_FADE$2,CLASS_NAME_SHOW$2),tt.classList.add(`bs-${this.constructor.NAME}-auto`);const nt=getUID(this.constructor.NAME).toString();return tt.setAttribute("id",nt),this._isAnimated()&&tt.classList.add(CLASS_NAME_FADE$2),tt}setContent(et){this._newContent=et,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(et){return this._templateFactory?this._templateFactory.changeContent(et):this._templateFactory=new TemplateFactory({...this._config,content:et,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[SELECTOR_TOOLTIP_INNER]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(et){return this.constructor.getOrCreateInstance(et.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(CLASS_NAME_FADE$2)}_isShown(){return this.tip&&this.tip.classList.contains(CLASS_NAME_SHOW$2)}_createPopper(et){const tt=execute(this._config.placement,[this,et,this._element]),nt=AttachmentMap[tt.toUpperCase()];return createPopper$1(this._element,et,this._getPopperConfig(nt))}_getOffset(){const{offset:et}=this._config;return typeof et=="string"?et.split(",").map(tt=>Number.parseInt(tt,10)):typeof et=="function"?tt=>et(tt,this._element):et}_resolvePossibleFunction(et){return execute(et,[this._element])}_getPopperConfig(et){const tt={placement:et,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:nt=>{this._getTipElement().setAttribute("data-popper-placement",nt.state.placement)}}]};return{...tt,...execute(this._config.popperConfig,[tt])}}_setListeners(){const et=this._config.trigger.split(" ");for(const tt of et)if(tt==="click")EventHandler.on(this._element,this.constructor.eventName(EVENT_CLICK$1),this._config.selector,nt=>{this._initializeOnDelegatedTarget(nt).toggle()});else if(tt!==TRIGGER_MANUAL){const nt=tt===TRIGGER_HOVER?this.constructor.eventName(EVENT_MOUSEENTER):this.constructor.eventName(EVENT_FOCUSIN$1),rt=tt===TRIGGER_HOVER?this.constructor.eventName(EVENT_MOUSELEAVE):this.constructor.eventName(EVENT_FOCUSOUT$1);EventHandler.on(this._element,nt,this._config.selector,it=>{const ot=this._initializeOnDelegatedTarget(it);ot._activeTrigger[it.type==="focusin"?TRIGGER_FOCUS:TRIGGER_HOVER]=!0,ot._enter()}),EventHandler.on(this._element,rt,this._config.selector,it=>{const ot=this._initializeOnDelegatedTarget(it);ot._activeTrigger[it.type==="focusout"?TRIGGER_FOCUS:TRIGGER_HOVER]=ot._element.contains(it.relatedTarget),ot._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},EventHandler.on(this._element.closest(SELECTOR_MODAL),EVENT_MODAL_HIDE,this._hideModalHandler)}_fixTitle(){const et=this._element.getAttribute("title");et&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",et),this._element.setAttribute("data-bs-original-title",et),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(et,tt){clearTimeout(this._timeout),this._timeout=setTimeout(et,tt)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(et){const tt=Manipulator.getDataAttributes(this._element);for(const nt of Object.keys(tt))DISALLOWED_ATTRIBUTES.has(nt)&&delete tt[nt];return et={...tt,...typeof et=="object"&&et?et:{}},et=this._mergeConfigObj(et),et=this._configAfterMerge(et),this._typeCheckConfig(et),et}_configAfterMerge(et){return et.container=et.container===!1?document.body:getElement(et.container),typeof et.delay=="number"&&(et.delay={show:et.delay,hide:et.delay}),typeof et.title=="number"&&(et.title=et.title.toString()),typeof et.content=="number"&&(et.content=et.content.toString()),et}_getDelegateConfig(){const et={};for(const[tt,nt]of Object.entries(this._config))this.constructor.Default[tt]!==nt&&(et[tt]=nt);return et.selector=!1,et.trigger="manual",et}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(et){return this.each(function(){const tt=yo.getOrCreateInstance(this,et);if(typeof et=="string"){if(typeof tt[et]>"u")throw new TypeError(`No method named "${et}"`);tt[et]()}})}};defineJQueryPlugin(Tooltip$2);const NAME$3="popover",SELECTOR_TITLE=".popover-header",SELECTOR_CONTENT=".popover-body",Default$2={...Tooltip$2.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},DefaultType$2={...Tooltip$2.DefaultType,content:"(null|string|element|function)"};let Popover$2=class bo extends Tooltip$2{static get Default(){return Default$2}static get DefaultType(){return DefaultType$2}static get NAME(){return NAME$3}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[SELECTOR_TITLE]:this._getTitle(),[SELECTOR_CONTENT]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(et){return this.each(function(){const tt=bo.getOrCreateInstance(this,et);if(typeof et=="string"){if(typeof tt[et]>"u")throw new TypeError(`No method named "${et}"`);tt[et]()}})}};defineJQueryPlugin(Popover$2);const NAME$2="scrollspy",DATA_KEY$2="bs.scrollspy",EVENT_KEY$2=`.${DATA_KEY$2}`,DATA_API_KEY=".data-api",EVENT_ACTIVATE=`activate${EVENT_KEY$2}`,EVENT_CLICK=`click${EVENT_KEY$2}`,EVENT_LOAD_DATA_API$1=`load${EVENT_KEY$2}${DATA_API_KEY}`,CLASS_NAME_DROPDOWN_ITEM="dropdown-item",CLASS_NAME_ACTIVE$1="active",SELECTOR_DATA_SPY='[data-bs-spy="scroll"]',SELECTOR_TARGET_LINKS="[href]",SELECTOR_NAV_LIST_GROUP=".nav, .list-group",SELECTOR_NAV_LINKS=".nav-link",SELECTOR_NAV_ITEMS=".nav-item",SELECTOR_LIST_ITEMS=".list-group-item",SELECTOR_LINK_ITEMS=`${SELECTOR_NAV_LINKS}, ${SELECTOR_NAV_ITEMS} > ${SELECTOR_NAV_LINKS}, ${SELECTOR_LIST_ITEMS}`,SELECTOR_DROPDOWN=".dropdown",SELECTOR_DROPDOWN_TOGGLE$1=".dropdown-toggle",Default$1={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},DefaultType$1={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class ScrollSpy extends BaseComponent{constructor(et,tt){super(et,tt),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Default$1}static get DefaultType(){return DefaultType$1}static get NAME(){return NAME$2}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const et of this._observableSections.values())this._observer.observe(et)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(et){return et.target=getElement(et.target)||document.body,et.rootMargin=et.offset?`${et.offset}px 0px -30%`:et.rootMargin,typeof et.threshold=="string"&&(et.threshold=et.threshold.split(",").map(tt=>Number.parseFloat(tt))),et}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(EventHandler.off(this._config.target,EVENT_CLICK),EventHandler.on(this._config.target,EVENT_CLICK,SELECTOR_TARGET_LINKS,et=>{const tt=this._observableSections.get(et.target.hash);if(tt){et.preventDefault();const nt=this._rootElement||window,rt=tt.offsetTop-this._element.offsetTop;if(nt.scrollTo){nt.scrollTo({top:rt,behavior:"smooth"});return}nt.scrollTop=rt}}))}_getNewObserver(){const et={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(tt=>this._observerCallback(tt),et)}_observerCallback(et){const tt=ot=>this._targetLinks.get(`#${ot.target.id}`),nt=ot=>{this._previousScrollData.visibleEntryTop=ot.target.offsetTop,this._process(tt(ot))},rt=(this._rootElement||document.documentElement).scrollTop,it=rt>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=rt;for(const ot of et){if(!ot.isIntersecting){this._activeTarget=null,this._clearActiveClass(tt(ot));continue}const st=ot.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(it&&st){if(nt(ot),!rt)return;continue}!it&&!st&&nt(ot)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const et=SelectorEngine.find(SELECTOR_TARGET_LINKS,this._config.target);for(const tt of et){if(!tt.hash||isDisabled(tt))continue;const nt=SelectorEngine.findOne(decodeURI(tt.hash),this._element);isVisible(nt)&&(this._targetLinks.set(decodeURI(tt.hash),tt),this._observableSections.set(tt.hash,nt))}}_process(et){this._activeTarget!==et&&(this._clearActiveClass(this._config.target),this._activeTarget=et,et.classList.add(CLASS_NAME_ACTIVE$1),this._activateParents(et),EventHandler.trigger(this._element,EVENT_ACTIVATE,{relatedTarget:et}))}_activateParents(et){if(et.classList.contains(CLASS_NAME_DROPDOWN_ITEM)){SelectorEngine.findOne(SELECTOR_DROPDOWN_TOGGLE$1,et.closest(SELECTOR_DROPDOWN)).classList.add(CLASS_NAME_ACTIVE$1);return}for(const tt of SelectorEngine.parents(et,SELECTOR_NAV_LIST_GROUP))for(const nt of SelectorEngine.prev(tt,SELECTOR_LINK_ITEMS))nt.classList.add(CLASS_NAME_ACTIVE$1)}_clearActiveClass(et){et.classList.remove(CLASS_NAME_ACTIVE$1);const tt=SelectorEngine.find(`${SELECTOR_TARGET_LINKS}.${CLASS_NAME_ACTIVE$1}`,et);for(const nt of tt)nt.classList.remove(CLASS_NAME_ACTIVE$1)}static jQueryInterface(et){return this.each(function(){const tt=ScrollSpy.getOrCreateInstance(this,et);if(typeof et=="string"){if(tt[et]===void 0||et.startsWith("_")||et==="constructor")throw new TypeError(`No method named "${et}"`);tt[et]()}})}}EventHandler.on(window,EVENT_LOAD_DATA_API$1,()=>{for(const _e of SelectorEngine.find(SELECTOR_DATA_SPY))ScrollSpy.getOrCreateInstance(_e)});defineJQueryPlugin(ScrollSpy);const NAME$1="tab",DATA_KEY$1="bs.tab",EVENT_KEY$1=`.${DATA_KEY$1}`,EVENT_HIDE$1=`hide${EVENT_KEY$1}`,EVENT_HIDDEN$1=`hidden${EVENT_KEY$1}`,EVENT_SHOW$1=`show${EVENT_KEY$1}`,EVENT_SHOWN$1=`shown${EVENT_KEY$1}`,EVENT_CLICK_DATA_API=`click${EVENT_KEY$1}`,EVENT_KEYDOWN=`keydown${EVENT_KEY$1}`,EVENT_LOAD_DATA_API=`load${EVENT_KEY$1}`,ARROW_LEFT_KEY="ArrowLeft",ARROW_RIGHT_KEY="ArrowRight",ARROW_UP_KEY="ArrowUp",ARROW_DOWN_KEY="ArrowDown",HOME_KEY="Home",END_KEY="End",CLASS_NAME_ACTIVE="active",CLASS_NAME_FADE$1="fade",CLASS_NAME_SHOW$1="show",CLASS_DROPDOWN="dropdown",SELECTOR_DROPDOWN_TOGGLE=".dropdown-toggle",SELECTOR_DROPDOWN_MENU=".dropdown-menu",NOT_SELECTOR_DROPDOWN_TOGGLE=`:not(${SELECTOR_DROPDOWN_TOGGLE})`,SELECTOR_TAB_PANEL='.list-group, .nav, [role="tablist"]',SELECTOR_OUTER=".nav-item, .list-group-item",SELECTOR_INNER=`.nav-link${NOT_SELECTOR_DROPDOWN_TOGGLE}, .list-group-item${NOT_SELECTOR_DROPDOWN_TOGGLE}, [role="tab"]${NOT_SELECTOR_DROPDOWN_TOGGLE}`,SELECTOR_DATA_TOGGLE='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',SELECTOR_INNER_ELEM=`${SELECTOR_INNER}, ${SELECTOR_DATA_TOGGLE}`,SELECTOR_DATA_TOGGLE_ACTIVE=`.${CLASS_NAME_ACTIVE}[data-bs-toggle="tab"], .${CLASS_NAME_ACTIVE}[data-bs-toggle="pill"], .${CLASS_NAME_ACTIVE}[data-bs-toggle="list"]`;let Tab$2=class uo extends BaseComponent{constructor(et){super(et),this._parent=this._element.closest(SELECTOR_TAB_PANEL),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),EventHandler.on(this._element,EVENT_KEYDOWN,tt=>this._keydown(tt)))}static get NAME(){return NAME$1}show(){const et=this._element;if(this._elemIsActive(et))return;const tt=this._getActiveElem(),nt=tt?EventHandler.trigger(tt,EVENT_HIDE$1,{relatedTarget:et}):null;EventHandler.trigger(et,EVENT_SHOW$1,{relatedTarget:tt}).defaultPrevented||nt&&nt.defaultPrevented||(this._deactivate(tt,et),this._activate(et,tt))}_activate(et,tt){if(!et)return;et.classList.add(CLASS_NAME_ACTIVE),this._activate(SelectorEngine.getElementFromSelector(et));const nt=()=>{if(et.getAttribute("role")!=="tab"){et.classList.add(CLASS_NAME_SHOW$1);return}et.removeAttribute("tabindex"),et.setAttribute("aria-selected",!0),this._toggleDropDown(et,!0),EventHandler.trigger(et,EVENT_SHOWN$1,{relatedTarget:tt})};this._queueCallback(nt,et,et.classList.contains(CLASS_NAME_FADE$1))}_deactivate(et,tt){if(!et)return;et.classList.remove(CLASS_NAME_ACTIVE),et.blur(),this._deactivate(SelectorEngine.getElementFromSelector(et));const nt=()=>{if(et.getAttribute("role")!=="tab"){et.classList.remove(CLASS_NAME_SHOW$1);return}et.setAttribute("aria-selected",!1),et.setAttribute("tabindex","-1"),this._toggleDropDown(et,!1),EventHandler.trigger(et,EVENT_HIDDEN$1,{relatedTarget:tt})};this._queueCallback(nt,et,et.classList.contains(CLASS_NAME_FADE$1))}_keydown(et){if(![ARROW_LEFT_KEY,ARROW_RIGHT_KEY,ARROW_UP_KEY,ARROW_DOWN_KEY,HOME_KEY,END_KEY].includes(et.key))return;et.stopPropagation(),et.preventDefault();const tt=this._getChildren().filter(rt=>!isDisabled(rt));let nt;if([HOME_KEY,END_KEY].includes(et.key))nt=tt[et.key===HOME_KEY?0:tt.length-1];else{const rt=[ARROW_RIGHT_KEY,ARROW_DOWN_KEY].includes(et.key);nt=getNextActiveElement(tt,et.target,rt,!0)}nt&&(nt.focus({preventScroll:!0}),uo.getOrCreateInstance(nt).show())}_getChildren(){return SelectorEngine.find(SELECTOR_INNER_ELEM,this._parent)}_getActiveElem(){return this._getChildren().find(et=>this._elemIsActive(et))||null}_setInitialAttributes(et,tt){this._setAttributeIfNotExists(et,"role","tablist");for(const nt of tt)this._setInitialAttributesOnChild(nt)}_setInitialAttributesOnChild(et){et=this._getInnerElement(et);const tt=this._elemIsActive(et),nt=this._getOuterElement(et);et.setAttribute("aria-selected",tt),nt!==et&&this._setAttributeIfNotExists(nt,"role","presentation"),tt||et.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(et,"role","tab"),this._setInitialAttributesOnTargetPanel(et)}_setInitialAttributesOnTargetPanel(et){const tt=SelectorEngine.getElementFromSelector(et);tt&&(this._setAttributeIfNotExists(tt,"role","tabpanel"),et.id&&this._setAttributeIfNotExists(tt,"aria-labelledby",`${et.id}`))}_toggleDropDown(et,tt){const nt=this._getOuterElement(et);if(!nt.classList.contains(CLASS_DROPDOWN))return;const rt=(it,ot)=>{const st=SelectorEngine.findOne(it,nt);st&&st.classList.toggle(ot,tt)};rt(SELECTOR_DROPDOWN_TOGGLE,CLASS_NAME_ACTIVE),rt(SELECTOR_DROPDOWN_MENU,CLASS_NAME_SHOW$1),nt.setAttribute("aria-expanded",tt)}_setAttributeIfNotExists(et,tt,nt){et.hasAttribute(tt)||et.setAttribute(tt,nt)}_elemIsActive(et){return et.classList.contains(CLASS_NAME_ACTIVE)}_getInnerElement(et){return et.matches(SELECTOR_INNER_ELEM)?et:SelectorEngine.findOne(SELECTOR_INNER_ELEM,et)}_getOuterElement(et){return et.closest(SELECTOR_OUTER)||et}static jQueryInterface(et){return this.each(function(){const tt=uo.getOrCreateInstance(this);if(typeof et=="string"){if(tt[et]===void 0||et.startsWith("_")||et==="constructor")throw new TypeError(`No method named "${et}"`);tt[et]()}})}};EventHandler.on(document,EVENT_CLICK_DATA_API,SELECTOR_DATA_TOGGLE,function(_e){["A","AREA"].includes(this.tagName)&&_e.preventDefault(),!isDisabled(this)&&Tab$2.getOrCreateInstance(this).show()});EventHandler.on(window,EVENT_LOAD_DATA_API,()=>{for(const _e of SelectorEngine.find(SELECTOR_DATA_TOGGLE_ACTIVE))Tab$2.getOrCreateInstance(_e)});defineJQueryPlugin(Tab$2);const NAME="toast",DATA_KEY="bs.toast",EVENT_KEY=`.${DATA_KEY}`,EVENT_MOUSEOVER=`mouseover${EVENT_KEY}`,EVENT_MOUSEOUT=`mouseout${EVENT_KEY}`,EVENT_FOCUSIN=`focusin${EVENT_KEY}`,EVENT_FOCUSOUT=`focusout${EVENT_KEY}`,EVENT_HIDE=`hide${EVENT_KEY}`,EVENT_HIDDEN=`hidden${EVENT_KEY}`,EVENT_SHOW=`show${EVENT_KEY}`,EVENT_SHOWN=`shown${EVENT_KEY}`,CLASS_NAME_FADE="fade",CLASS_NAME_HIDE="hide",CLASS_NAME_SHOW="show",CLASS_NAME_SHOWING="showing",DefaultType={animation:"boolean",autohide:"boolean",delay:"number"},Default={animation:!0,autohide:!0,delay:5e3};class Toast extends BaseComponent{constructor(et,tt){super(et,tt),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Default}static get DefaultType(){return DefaultType}static get NAME(){return NAME}show(){if(EventHandler.trigger(this._element,EVENT_SHOW).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(CLASS_NAME_FADE);const tt=()=>{this._element.classList.remove(CLASS_NAME_SHOWING),EventHandler.trigger(this._element,EVENT_SHOWN),this._maybeScheduleHide()};this._element.classList.remove(CLASS_NAME_HIDE),reflow(this._element),this._element.classList.add(CLASS_NAME_SHOW,CLASS_NAME_SHOWING),this._queueCallback(tt,this._element,this._config.animation)}hide(){if(!this.isShown()||EventHandler.trigger(this._element,EVENT_HIDE).defaultPrevented)return;const tt=()=>{this._element.classList.add(CLASS_NAME_HIDE),this._element.classList.remove(CLASS_NAME_SHOWING,CLASS_NAME_SHOW),EventHandler.trigger(this._element,EVENT_HIDDEN)};this._element.classList.add(CLASS_NAME_SHOWING),this._queueCallback(tt,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(CLASS_NAME_SHOW),super.dispose()}isShown(){return this._element.classList.contains(CLASS_NAME_SHOW)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(et,tt){switch(et.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=tt;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=tt;break}}if(tt){this._clearTimeout();return}const nt=et.relatedTarget;this._element===nt||this._element.contains(nt)||this._maybeScheduleHide()}_setListeners(){EventHandler.on(this._element,EVENT_MOUSEOVER,et=>this._onInteraction(et,!0)),EventHandler.on(this._element,EVENT_MOUSEOUT,et=>this._onInteraction(et,!1)),EventHandler.on(this._element,EVENT_FOCUSIN,et=>this._onInteraction(et,!0)),EventHandler.on(this._element,EVENT_FOCUSOUT,et=>this._onInteraction(et,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(et){return this.each(function(){const tt=Toast.getOrCreateInstance(this,et);if(typeof et=="string"){if(typeof tt[et]>"u")throw new TypeError(`No method named "${et}"`);tt[et](this)}})}}enableDismissTrigger(Toast);defineJQueryPlugin(Toast);var classnames={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(_e){(function(){var et={}.hasOwnProperty;function tt(){for(var it="",ot=0;ot<arguments.length;ot++){var st=arguments[ot];st&&(it=rt(it,nt(st)))}return it}function nt(it){if(typeof it=="string"||typeof it=="number")return it;if(typeof it!="object")return"";if(Array.isArray(it))return tt.apply(null,it);if(it.toString!==Object.prototype.toString&&!it.toString.toString().includes("[native code]"))return it.toString();var ot="";for(var st in it)et.call(it,st)&&it[st]&&(ot=rt(ot,st));return ot}function rt(it,ot){return ot?it?it+" "+ot:it+ot:it}_e.exports?(tt.default=tt,_e.exports=tt):window.classNames=tt})()})(classnames);var classnamesExports=classnames.exports;const classNames=getDefaultExportFromCjs(classnamesExports);function _extends$5(){return _extends$5=Object.assign?Object.assign.bind():function(_e){for(var et=1;et<arguments.length;et++){var tt=arguments[et];for(var nt in tt)({}).hasOwnProperty.call(tt,nt)&&(_e[nt]=tt[nt])}return _e},_extends$5.apply(null,arguments)}function _objectWithoutPropertiesLoose$d(_e,et){if(_e==null)return{};var tt={};for(var nt in _e)if({}.hasOwnProperty.call(_e,nt)){if(et.indexOf(nt)>=0)continue;tt[nt]=_e[nt]}return tt}function defaultKey(_e){return"default"+_e.charAt(0).toUpperCase()+_e.substr(1)}function _toPropertyKey$1(_e){var et=_toPrimitive$1(_e,"string");return typeof et=="symbol"?et:String(et)}function _toPrimitive$1(_e,et){if(typeof _e!="object"||_e===null)return _e;var tt=_e[Symbol.toPrimitive];if(tt!==void 0){var nt=tt.call(_e,et);if(typeof nt!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(_e)}function useUncontrolledProp$1(_e,et,tt){var nt=reactExports.useRef(_e!==void 0),rt=reactExports.useState(et),it=rt[0],ot=rt[1],st=_e!==void 0,ut=nt.current;return nt.current=st,!st&&ut&&it!==et&&ot(et),[st?_e:it,reactExports.useCallback(function(ft){for(var dt=arguments.length,lt=new Array(dt>1?dt-1:0),at=1;at<dt;at++)lt[at-1]=arguments[at];tt&&tt.apply(void 0,[ft].concat(lt)),ot(ft)},[tt])]}function useUncontrolled(_e,et){return Object.keys(et).reduce(function(tt,nt){var rt,it=tt,ot=it[defaultKey(nt)],st=it[nt],ut=_objectWithoutPropertiesLoose$d(it,[defaultKey(nt),nt].map(_toPropertyKey$1)),ft=et[nt],dt=useUncontrolledProp$1(st,ot,_e[ft]),lt=dt[0],at=dt[1];return _extends$5({},ut,(rt={},rt[nt]=lt,rt[ft]=at,rt))},_e)}function _setPrototypeOf$2(_e,et){return _setPrototypeOf$2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(tt,nt){return tt.__proto__=nt,tt},_setPrototypeOf$2(_e,et)}function _inheritsLoose$1(_e,et){_e.prototype=Object.create(et.prototype),_e.prototype.constructor=_e,_setPrototypeOf$2(_e,et)}const DEFAULT_BREAKPOINTS=["xxl","xl","lg","md","sm","xs"],DEFAULT_MIN_BREAKPOINT="xs",ThemeContext=reactExports.createContext({prefixes:{},breakpoints:DEFAULT_BREAKPOINTS,minBreakpoint:DEFAULT_MIN_BREAKPOINT});function useBootstrapPrefix(_e,et){const{prefixes:tt}=reactExports.useContext(ThemeContext);return _e||tt[et]||et}function useBootstrapBreakpoints(){const{breakpoints:_e}=reactExports.useContext(ThemeContext);return _e}function useBootstrapMinBreakpoint(){const{minBreakpoint:_e}=reactExports.useContext(ThemeContext);return _e}function useIsRTL(){const{dir:_e}=reactExports.useContext(ThemeContext);return _e==="rtl"}function ownerDocument(_e){return _e&&_e.ownerDocument||document}function ownerWindow(_e){var et=ownerDocument(_e);return et&&et.defaultView||window}function getComputedStyle$2(_e,et){return ownerWindow(_e).getComputedStyle(_e,et)}var rUpper=/([A-Z])/g;function hyphenate(_e){return _e.replace(rUpper,"-$1").toLowerCase()}var msPattern=/^ms-/;function hyphenateStyleName(_e){return hyphenate(_e).replace(msPattern,"-ms-")}var supportedTransforms=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function isTransform(_e){return!!(_e&&supportedTransforms.test(_e))}function style(_e,et){var tt="",nt="";if(typeof et=="string")return _e.style.getPropertyValue(hyphenateStyleName(et))||getComputedStyle$2(_e).getPropertyValue(hyphenateStyleName(et));Object.keys(et).forEach(function(rt){var it=et[rt];!it&&it!==0?_e.style.removeProperty(hyphenateStyleName(rt)):isTransform(rt)?nt+=rt+"("+it+") ":tt+=hyphenateStyleName(rt)+": "+it+";"}),nt&&(tt+="transform: "+nt+";"),_e.style.cssText+=";"+tt}var propTypes$4={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function _e(nt,rt,it,ot,st,ut){if(ut!==ReactPropTypesSecret){var ft=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw ft.name="Invariant Violation",ft}}_e.isRequired=_e;function et(){return _e}var tt={array:_e,bigint:_e,bool:_e,func:_e,number:_e,object:_e,string:_e,symbol:_e,any:_e,arrayOf:et,element:_e,elementType:_e,instanceOf:et,node:_e,objectOf:et,oneOf:et,oneOfType:et,shape:et,exact:et,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return tt.PropTypes=tt,tt};propTypes$4.exports=factoryWithThrowingShims();var propTypesExports=propTypes$4.exports;const PropTypes=getDefaultExportFromCjs(propTypesExports),config$2={disabled:!1},TransitionGroupContext=React.createContext(null);var forceReflow=function(et){return et.scrollTop},UNMOUNTED="unmounted",EXITED="exited",ENTERING="entering",ENTERED="entered",EXITING="exiting",Transition$1=function(_e){_inheritsLoose$1(et,_e);function et(nt,rt){var it;it=_e.call(this,nt,rt)||this;var ot=rt,st=ot&&!ot.isMounting?nt.enter:nt.appear,ut;return it.appearStatus=null,nt.in?st?(ut=EXITED,it.appearStatus=ENTERING):ut=ENTERED:nt.unmountOnExit||nt.mountOnEnter?ut=UNMOUNTED:ut=EXITED,it.state={status:ut},it.nextCallback=null,it}et.getDerivedStateFromProps=function(rt,it){var ot=rt.in;return ot&&it.status===UNMOUNTED?{status:EXITED}:null};var tt=et.prototype;return tt.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},tt.componentDidUpdate=function(rt){var it=null;if(rt!==this.props){var ot=this.state.status;this.props.in?ot!==ENTERING&&ot!==ENTERED&&(it=ENTERING):(ot===ENTERING||ot===ENTERED)&&(it=EXITING)}this.updateStatus(!1,it)},tt.componentWillUnmount=function(){this.cancelNextCallback()},tt.getTimeouts=function(){var rt=this.props.timeout,it,ot,st;return it=ot=st=rt,rt!=null&&typeof rt!="number"&&(it=rt.exit,ot=rt.enter,st=rt.appear!==void 0?rt.appear:ot),{exit:it,enter:ot,appear:st}},tt.updateStatus=function(rt,it){if(rt===void 0&&(rt=!1),it!==null)if(this.cancelNextCallback(),it===ENTERING){if(this.props.unmountOnExit||this.props.mountOnEnter){var ot=this.props.nodeRef?this.props.nodeRef.current:ReactDOM.findDOMNode(this);ot&&forceReflow(ot)}this.performEnter(rt)}else this.performExit();else this.props.unmountOnExit&&this.state.status===EXITED&&this.setState({status:UNMOUNTED})},tt.performEnter=function(rt){var it=this,ot=this.props.enter,st=this.context?this.context.isMounting:rt,ut=this.props.nodeRef?[st]:[ReactDOM.findDOMNode(this),st],ft=ut[0],dt=ut[1],lt=this.getTimeouts(),at=st?lt.appear:lt.enter;if(!rt&&!ot||config$2.disabled){this.safeSetState({status:ENTERED},function(){it.props.onEntered(ft)});return}this.props.onEnter(ft,dt),this.safeSetState({status:ENTERING},function(){it.props.onEntering(ft,dt),it.onTransitionEnd(at,function(){it.safeSetState({status:ENTERED},function(){it.props.onEntered(ft,dt)})})})},tt.performExit=function(){var rt=this,it=this.props.exit,ot=this.getTimeouts(),st=this.props.nodeRef?void 0:ReactDOM.findDOMNode(this);if(!it||config$2.disabled){this.safeSetState({status:EXITED},function(){rt.props.onExited(st)});return}this.props.onExit(st),this.safeSetState({status:EXITING},function(){rt.props.onExiting(st),rt.onTransitionEnd(ot.exit,function(){rt.safeSetState({status:EXITED},function(){rt.props.onExited(st)})})})},tt.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},tt.safeSetState=function(rt,it){it=this.setNextCallback(it),this.setState(rt,it)},tt.setNextCallback=function(rt){var it=this,ot=!0;return this.nextCallback=function(st){ot&&(ot=!1,it.nextCallback=null,rt(st))},this.nextCallback.cancel=function(){ot=!1},this.nextCallback},tt.onTransitionEnd=function(rt,it){this.setNextCallback(it);var ot=this.props.nodeRef?this.props.nodeRef.current:ReactDOM.findDOMNode(this),st=rt==null&&!this.props.addEndListener;if(!ot||st){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var ut=this.props.nodeRef?[this.nextCallback]:[ot,this.nextCallback],ft=ut[0],dt=ut[1];this.props.addEndListener(ft,dt)}rt!=null&&setTimeout(this.nextCallback,rt)},tt.render=function(){var rt=this.state.status;if(rt===UNMOUNTED)return null;var it=this.props,ot=it.children;it.in,it.mountOnEnter,it.unmountOnExit,it.appear,it.enter,it.exit,it.timeout,it.addEndListener,it.onEnter,it.onEntering,it.onEntered,it.onExit,it.onExiting,it.onExited,it.nodeRef;var st=_objectWithoutPropertiesLoose$d(it,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return React.createElement(TransitionGroupContext.Provider,{value:null},typeof ot=="function"?ot(rt,st):React.cloneElement(React.Children.only(ot),st))},et}(React.Component);Transition$1.contextType=TransitionGroupContext;Transition$1.propTypes={};function noop$a(){}Transition$1.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:noop$a,onEntering:noop$a,onEntered:noop$a,onExit:noop$a,onExiting:noop$a,onExited:noop$a};Transition$1.UNMOUNTED=UNMOUNTED;Transition$1.EXITED=EXITED;Transition$1.ENTERING=ENTERING;Transition$1.ENTERED=ENTERED;Transition$1.EXITING=EXITING;const canUseDOM=!!(typeof window<"u"&&window.document&&window.document.createElement);var optionsSupported=!1,onceSupported=!1;try{var options={get passive(){return optionsSupported=!0},get once(){return onceSupported=optionsSupported=!0}};canUseDOM&&(window.addEventListener("test",options,options),window.removeEventListener("test",options,!0))}catch{}function addEventListener(_e,et,tt,nt){if(nt&&typeof nt!="boolean"&&!onceSupported){var rt=nt.once,it=nt.capture,ot=tt;!onceSupported&&rt&&(ot=tt.__once||function st(ut){this.removeEventListener(et,st,it),tt.call(this,ut)},tt.__once=ot),_e.addEventListener(et,ot,optionsSupported?nt:it)}_e.addEventListener(et,tt,nt)}function removeEventListener(_e,et,tt,nt){var rt=nt&&typeof nt!="boolean"?nt.capture:nt;_e.removeEventListener(et,tt,rt),tt.__once&&_e.removeEventListener(et,tt.__once,rt)}function listen(_e,et,tt,nt){return addEventListener(_e,et,tt,nt),function(){removeEventListener(_e,et,tt,nt)}}function triggerEvent(_e,et,tt,nt){if(nt===void 0&&(nt=!0),_e){var rt=document.createEvent("HTMLEvents");rt.initEvent(et,tt,nt),_e.dispatchEvent(rt)}}function parseDuration$1(_e){var et=style(_e,"transitionDuration")||"",tt=et.indexOf("ms")===-1?1e3:1;return parseFloat(et)*tt}function emulateTransitionEnd(_e,et,tt){tt===void 0&&(tt=5);var nt=!1,rt=setTimeout(function(){nt||triggerEvent(_e,"transitionend",!0)},et+tt),it=listen(_e,"transitionend",function(){nt=!0},{once:!0});return function(){clearTimeout(rt),it()}}function transitionEnd(_e,et,tt,nt){tt==null&&(tt=parseDuration$1(_e)||0);var rt=emulateTransitionEnd(_e,tt,nt),it=listen(_e,"transitionend",et);return function(){rt(),it()}}function parseDuration(_e,et){const tt=style(_e,et)||"",nt=tt.indexOf("ms")===-1?1e3:1;return parseFloat(tt)*nt}function transitionEndListener(_e,et){const tt=parseDuration(_e,"transitionDuration"),nt=parseDuration(_e,"transitionDelay"),rt=transitionEnd(_e,it=>{it.target===_e&&(rt(),et(it))},tt+nt)}function createChainedFunction(..._e){return _e.filter(et=>et!=null).reduce((et,tt)=>{if(typeof tt!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return et===null?tt:function(...rt){et.apply(this,rt),tt.apply(this,rt)}},null)}function triggerBrowserReflow(_e){_e.offsetHeight}const toFnRef=_e=>!_e||typeof _e=="function"?_e:et=>{_e.current=et};function mergeRefs(_e,et){const tt=toFnRef(_e),nt=toFnRef(et);return rt=>{tt&&tt(rt),nt&&nt(rt)}}function useMergedRefs(_e,et){return reactExports.useMemo(()=>mergeRefs(_e,et),[_e,et])}function safeFindDOMNode(_e){return _e&&"setState"in _e?ReactDOM.findDOMNode(_e):_e??null}const TransitionWrapper=React.forwardRef(({onEnter:_e,onEntering:et,onEntered:tt,onExit:nt,onExiting:rt,onExited:it,addEndListener:ot,children:st,childRef:ut,...ft},dt)=>{const lt=reactExports.useRef(null),at=useMergedRefs(lt,ut),ct=wt=>{at(safeFindDOMNode(wt))},ht=wt=>_t=>{wt&&lt.current&&wt(lt.current,_t)},pt=reactExports.useCallback(ht(_e),[_e]),mt=reactExports.useCallback(ht(et),[et]),gt=reactExports.useCallback(ht(tt),[tt]),yt=reactExports.useCallback(ht(nt),[nt]),bt=reactExports.useCallback(ht(rt),[rt]),xt=reactExports.useCallback(ht(it),[it]),vt=reactExports.useCallback(ht(ot),[ot]);return jsxRuntimeExports.jsx(Transition$1,{ref:dt,...ft,onEnter:pt,onEntered:gt,onEntering:mt,onExit:yt,onExited:xt,onExiting:bt,addEndListener:vt,nodeRef:lt,children:typeof st=="function"?(wt,_t)=>st(wt,{..._t,ref:ct}):React.cloneElement(st,{ref:ct})})}),MARGINS={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function getDefaultDimensionValue(_e,et){const tt=`offset${_e[0].toUpperCase()}${_e.slice(1)}`,nt=et[tt],rt=MARGINS[_e];return nt+parseInt(style(et,rt[0]),10)+parseInt(style(et,rt[1]),10)}const collapseStyles={[EXITED]:"collapse",[EXITING]:"collapsing",[ENTERING]:"collapsing",[ENTERED]:"collapse show"},Collapse=React.forwardRef(({onEnter:_e,onEntering:et,onEntered:tt,onExit:nt,onExiting:rt,className:it,children:ot,dimension:st="height",in:ut=!1,timeout:ft=300,mountOnEnter:dt=!1,unmountOnExit:lt=!1,appear:at=!1,getDimensionValue:ct=getDefaultDimensionValue,...ht},pt)=>{const mt=typeof st=="function"?st():st,gt=reactExports.useMemo(()=>createChainedFunction(wt=>{wt.style[mt]="0"},_e),[mt,_e]),yt=reactExports.useMemo(()=>createChainedFunction(wt=>{const _t=`scroll${mt[0].toUpperCase()}${mt.slice(1)}`;wt.style[mt]=`${wt[_t]}px`},et),[mt,et]),bt=reactExports.useMemo(()=>createChainedFunction(wt=>{wt.style[mt]=null},tt),[mt,tt]),xt=reactExports.useMemo(()=>createChainedFunction(wt=>{wt.style[mt]=`${ct(mt,wt)}px`,triggerBrowserReflow(wt)},nt),[nt,ct,mt]),vt=reactExports.useMemo(()=>createChainedFunction(wt=>{wt.style[mt]=null},rt),[mt,rt]);return jsxRuntimeExports.jsx(TransitionWrapper,{ref:pt,addEndListener:transitionEndListener,...ht,"aria-expanded":ht.role?ut:null,onEnter:gt,onEntering:yt,onEntered:bt,onExit:xt,onExiting:vt,childRef:ot.ref,in:ut,timeout:ft,mountOnEnter:dt,unmountOnExit:lt,appear:at,children:(wt,_t)=>React.cloneElement(ot,{..._t,className:classNames(it,ot.props.className,collapseStyles[wt],mt==="width"&&"collapse-horizontal")})})});function isAccordionItemSelected(_e,et){return Array.isArray(_e)?_e.includes(et):_e===et}const context$4=reactExports.createContext({});context$4.displayName="AccordionContext";const AccordionCollapse=reactExports.forwardRef(({as:_e="div",bsPrefix:et,className:tt,children:nt,eventKey:rt,...it},ot)=>{const{activeEventKey:st}=reactExports.useContext(context$4);return et=useBootstrapPrefix(et,"accordion-collapse"),jsxRuntimeExports.jsx(Collapse,{ref:ot,in:isAccordionItemSelected(st,rt),...it,className:classNames(tt,et),children:jsxRuntimeExports.jsx(_e,{children:reactExports.Children.only(nt)})})});AccordionCollapse.displayName="AccordionCollapse";const context$3=reactExports.createContext({eventKey:""});context$3.displayName="AccordionItemContext";const AccordionBody=reactExports.forwardRef(({as:_e="div",bsPrefix:et,className:tt,onEnter:nt,onEntering:rt,onEntered:it,onExit:ot,onExiting:st,onExited:ut,...ft},dt)=>{et=useBootstrapPrefix(et,"accordion-body");const{eventKey:lt}=reactExports.useContext(context$3);return jsxRuntimeExports.jsx(AccordionCollapse,{eventKey:lt,onEnter:nt,onEntering:rt,onEntered:it,onExit:ot,onExiting:st,onExited:ut,children:jsxRuntimeExports.jsx(_e,{ref:dt,...ft,className:classNames(tt,et)})})});AccordionBody.displayName="AccordionBody";function useAccordionButton(_e,et){const{activeEventKey:tt,onSelect:nt,alwaysOpen:rt}=reactExports.useContext(context$4);return it=>{let ot=_e===tt?null:_e;rt&&(Array.isArray(tt)?tt.includes(_e)?ot=tt.filter(st=>st!==_e):ot=[...tt,_e]:ot=[_e]),nt==null||nt(ot,it),et==null||et(it)}}const AccordionButton=reactExports.forwardRef(({as:_e="button",bsPrefix:et,className:tt,onClick:nt,...rt},it)=>{et=useBootstrapPrefix(et,"accordion-button");const{eventKey:ot}=reactExports.useContext(context$3),st=useAccordionButton(ot,nt),{activeEventKey:ut}=reactExports.useContext(context$4);return _e==="button"&&(rt.type="button"),jsxRuntimeExports.jsx(_e,{ref:it,onClick:st,...rt,"aria-expanded":Array.isArray(ut)?ut.includes(ot):ot===ut,className:classNames(tt,et,!isAccordionItemSelected(ut,ot)&&"collapsed")})});AccordionButton.displayName="AccordionButton";const AccordionHeader=reactExports.forwardRef(({as:_e="h2",bsPrefix:et,className:tt,children:nt,onClick:rt,...it},ot)=>(et=useBootstrapPrefix(et,"accordion-header"),jsxRuntimeExports.jsx(_e,{ref:ot,...it,className:classNames(tt,et),children:jsxRuntimeExports.jsx(AccordionButton,{onClick:rt,children:nt})})));AccordionHeader.displayName="AccordionHeader";const AccordionItem=reactExports.forwardRef(({as:_e="div",bsPrefix:et,className:tt,eventKey:nt,...rt},it)=>{et=useBootstrapPrefix(et,"accordion-item");const ot=reactExports.useMemo(()=>({eventKey:nt}),[nt]);return jsxRuntimeExports.jsx(context$3.Provider,{value:ot,children:jsxRuntimeExports.jsx(_e,{ref:it,...rt,className:classNames(tt,et)})})});AccordionItem.displayName="AccordionItem";const Accordion=reactExports.forwardRef((_e,et)=>{const{as:tt="div",activeKey:nt,bsPrefix:rt,className:it,onSelect:ot,flush:st,alwaysOpen:ut,...ft}=useUncontrolled(_e,{activeKey:"onSelect"}),dt=useBootstrapPrefix(rt,"accordion"),lt=reactExports.useMemo(()=>({activeEventKey:nt,onSelect:ot,alwaysOpen:ut}),[nt,ot,ut]);return jsxRuntimeExports.jsx(context$4.Provider,{value:lt,children:jsxRuntimeExports.jsx(tt,{ref:et,...ft,className:classNames(it,dt,st&&`${dt}-flush`)})})});Accordion.displayName="Accordion";const Accordion$1=Object.assign(Accordion,{Button:AccordionButton,Collapse:AccordionCollapse,Item:AccordionItem,Header:AccordionHeader,Body:AccordionBody});function useCommittedRef(_e){const et=reactExports.useRef(_e);return reactExports.useEffect(()=>{et.current=_e},[_e]),et}function useEventCallback(_e){const et=useCommittedRef(_e);return reactExports.useCallback(function(...tt){return et.current&&et.current(...tt)},[et])}const divWithClassName=_e=>reactExports.forwardRef((et,tt)=>jsxRuntimeExports.jsx("div",{...et,ref:tt,className:classNames(et.className,_e)}));function useCallbackRef(){return reactExports.useState(null)}function useEventListener$1(_e,et,tt,nt=!1){const rt=useEventCallback(tt);reactExports.useEffect(()=>{const it=typeof _e=="function"?_e():_e;return it.addEventListener(et,rt,nt),()=>it.removeEventListener(et,rt,nt)},[_e])}function useMounted(){const _e=reactExports.useRef(!0),et=reactExports.useRef(()=>_e.current);return reactExports.useEffect(()=>(_e.current=!0,()=>{_e.current=!1}),[]),et.current}function usePrevious(_e){const et=reactExports.useRef(null);return reactExports.useEffect(()=>{et.current=_e}),et.current}const isReactNative=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",isDOM=typeof document<"u",useIsomorphicEffect=isDOM||isReactNative?reactExports.useLayoutEffect:reactExports.useEffect,_excluded$c=["as","disabled"];function _objectWithoutPropertiesLoose$c(_e,et){if(_e==null)return{};var tt={},nt=Object.keys(_e),rt,it;for(it=0;it<nt.length;it++)rt=nt[it],!(et.indexOf(rt)>=0)&&(tt[rt]=_e[rt]);return tt}function isTrivialHref$1(_e){return!_e||_e.trim()==="#"}function useButtonProps({tagName:_e,disabled:et,href:tt,target:nt,rel:rt,role:it,onClick:ot,tabIndex:st=0,type:ut}){_e||(tt!=null||nt!=null||rt!=null?_e="a":_e="button");const ft={tagName:_e};if(_e==="button")return[{type:ut||"button",disabled:et},ft];const dt=at=>{if((et||_e==="a"&&isTrivialHref$1(tt))&&at.preventDefault(),et){at.stopPropagation();return}ot==null||ot(at)},lt=at=>{at.key===" "&&(at.preventDefault(),dt(at))};return _e==="a"&&(tt||(tt="#"),et&&(tt=void 0)),[{role:it??"button",disabled:void 0,tabIndex:et?void 0:st,href:tt,target:_e==="a"?nt:void 0,"aria-disabled":et||void 0,rel:_e==="a"?rt:void 0,onClick:dt,onKeyDown:lt},ft]}const Button$1=reactExports.forwardRef((_e,et)=>{let{as:tt,disabled:nt}=_e,rt=_objectWithoutPropertiesLoose$c(_e,_excluded$c);const[it,{tagName:ot}]=useButtonProps(Object.assign({tagName:tt,disabled:nt},rt));return jsxRuntimeExports.jsx(ot,Object.assign({},rt,it,{ref:et}))});Button$1.displayName="Button";const _excluded$b=["onKeyDown"];function _objectWithoutPropertiesLoose$b(_e,et){if(_e==null)return{};var tt={},nt=Object.keys(_e),rt,it;for(it=0;it<nt.length;it++)rt=nt[it],!(et.indexOf(rt)>=0)&&(tt[rt]=_e[rt]);return tt}function isTrivialHref(_e){return!_e||_e.trim()==="#"}const Anchor=reactExports.forwardRef((_e,et)=>{let{onKeyDown:tt}=_e,nt=_objectWithoutPropertiesLoose$b(_e,_excluded$b);const[rt]=useButtonProps(Object.assign({tagName:"a"},nt)),it=useEventCallback(ot=>{rt.onKeyDown(ot),tt==null||tt(ot)});return isTrivialHref(nt.href)||nt.role==="button"?jsxRuntimeExports.jsx("a",Object.assign({ref:et},nt,rt,{onKeyDown:it})):jsxRuntimeExports.jsx("a",Object.assign({ref:et},nt,{onKeyDown:tt}))});Anchor.displayName="Anchor";const fadeStyles={[ENTERING]:"show",[ENTERED]:"show"},Fade=reactExports.forwardRef(({className:_e,children:et,transitionClasses:tt={},onEnter:nt,...rt},it)=>{const ot={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...rt},st=reactExports.useCallback((ut,ft)=>{triggerBrowserReflow(ut),nt==null||nt(ut,ft)},[nt]);return jsxRuntimeExports.jsx(TransitionWrapper,{ref:it,addEndListener:transitionEndListener,...ot,onEnter:st,childRef:et.ref,children:(ut,ft)=>reactExports.cloneElement(et,{...ft,className:classNames("fade",_e,et.props.className,fadeStyles[ut],tt[ut])})})});Fade.displayName="Fade";const propTypes$3={"aria-label":PropTypes.string,onClick:PropTypes.func,variant:PropTypes.oneOf(["white"])},CloseButton=reactExports.forwardRef(({className:_e,variant:et,"aria-label":tt="Close",...nt},rt)=>jsxRuntimeExports.jsx("button",{ref:rt,type:"button",className:classNames("btn-close",et&&`btn-close-${et}`,_e),"aria-label":tt,...nt}));CloseButton.displayName="CloseButton";CloseButton.propTypes=propTypes$3;const Badge=reactExports.forwardRef(({bsPrefix:_e,bg:et="primary",pill:tt=!1,text:nt,className:rt,as:it="span",...ot},st)=>{const ut=useBootstrapPrefix(_e,"badge");return jsxRuntimeExports.jsx(it,{ref:st,...ot,className:classNames(rt,ut,tt&&"rounded-pill",nt&&`text-${nt}`,et&&`bg-${et}`)})});Badge.displayName="Badge";const Button=reactExports.forwardRef(({as:_e,bsPrefix:et,variant:tt="primary",size:nt,active:rt=!1,disabled:it=!1,className:ot,...st},ut)=>{const ft=useBootstrapPrefix(et,"btn"),[dt,{tagName:lt}]=useButtonProps({tagName:_e,disabled:it,...st}),at=lt;return jsxRuntimeExports.jsx(at,{...dt,...st,ref:ut,disabled:it,className:classNames(ot,ft,rt&&"active",tt&&`${ft}-${tt}`,nt&&`${ft}-${nt}`,st.href&&it&&"disabled")})});Button.displayName="Button";const ButtonGroup=reactExports.forwardRef(({bsPrefix:_e,size:et,vertical:tt=!1,className:nt,role:rt="group",as:it="div",...ot},st)=>{const ut=useBootstrapPrefix(_e,"btn-group");let ft=ut;return tt&&(ft=`${ut}-vertical`),jsxRuntimeExports.jsx(it,{...ot,ref:st,role:rt,className:classNames(nt,ft,et&&`${ut}-${et}`)})});ButtonGroup.displayName="ButtonGroup";const CardBody=reactExports.forwardRef(({className:_e,bsPrefix:et,as:tt="div",...nt},rt)=>(et=useBootstrapPrefix(et,"card-body"),jsxRuntimeExports.jsx(tt,{ref:rt,className:classNames(_e,et),...nt})));CardBody.displayName="CardBody";const CardFooter=reactExports.forwardRef(({className:_e,bsPrefix:et,as:tt="div",...nt},rt)=>(et=useBootstrapPrefix(et,"card-footer"),jsxRuntimeExports.jsx(tt,{ref:rt,className:classNames(_e,et),...nt})));CardFooter.displayName="CardFooter";const context$2=reactExports.createContext(null);context$2.displayName="CardHeaderContext";const CardHeader=reactExports.forwardRef(({bsPrefix:_e,className:et,as:tt="div",...nt},rt)=>{const it=useBootstrapPrefix(_e,"card-header"),ot=reactExports.useMemo(()=>({cardHeaderBsPrefix:it}),[it]);return jsxRuntimeExports.jsx(context$2.Provider,{value:ot,children:jsxRuntimeExports.jsx(tt,{ref:rt,...nt,className:classNames(et,it)})})});CardHeader.displayName="CardHeader";const CardImg=reactExports.forwardRef(({bsPrefix:_e,className:et,variant:tt,as:nt="img",...rt},it)=>{const ot=useBootstrapPrefix(_e,"card-img");return jsxRuntimeExports.jsx(nt,{ref:it,className:classNames(tt?`${ot}-${tt}`:ot,et),...rt})});CardImg.displayName="CardImg";const CardImgOverlay=reactExports.forwardRef(({className:_e,bsPrefix:et,as:tt="div",...nt},rt)=>(et=useBootstrapPrefix(et,"card-img-overlay"),jsxRuntimeExports.jsx(tt,{ref:rt,className:classNames(_e,et),...nt})));CardImgOverlay.displayName="CardImgOverlay";const CardLink=reactExports.forwardRef(({className:_e,bsPrefix:et,as:tt="a",...nt},rt)=>(et=useBootstrapPrefix(et,"card-link"),jsxRuntimeExports.jsx(tt,{ref:rt,className:classNames(_e,et),...nt})));CardLink.displayName="CardLink";const DivStyledAsH6=divWithClassName("h6"),CardSubtitle=reactExports.forwardRef(({className:_e,bsPrefix:et,as:tt=DivStyledAsH6,...nt},rt)=>(et=useBootstrapPrefix(et,"card-subtitle"),jsxRuntimeExports.jsx(tt,{ref:rt,className:classNames(_e,et),...nt})));CardSubtitle.displayName="CardSubtitle";const CardText=reactExports.forwardRef(({className:_e,bsPrefix:et,as:tt="p",...nt},rt)=>(et=useBootstrapPrefix(et,"card-text"),jsxRuntimeExports.jsx(tt,{ref:rt,className:classNames(_e,et),...nt})));CardText.displayName="CardText";const DivStyledAsH5$1=divWithClassName("h5"),CardTitle=reactExports.forwardRef(({className:_e,bsPrefix:et,as:tt=DivStyledAsH5$1,...nt},rt)=>(et=useBootstrapPrefix(et,"card-title"),jsxRuntimeExports.jsx(tt,{ref:rt,className:classNames(_e,et),...nt})));CardTitle.displayName="CardTitle";const Card=reactExports.forwardRef(({bsPrefix:_e,className:et,bg:tt,text:nt,border:rt,body:it=!1,children:ot,as:st="div",...ut},ft)=>{const dt=useBootstrapPrefix(_e,"card");return jsxRuntimeExports.jsx(st,{ref:ft,...ut,className:classNames(et,dt,tt&&`bg-${tt}`,nt&&`text-${nt}`,rt&&`border-${rt}`),children:it?jsxRuntimeExports.jsx(CardBody,{children:ot}):ot})});Card.displayName="Card";const Card$1=Object.assign(Card,{Img:CardImg,Title:CardTitle,Subtitle:CardSubtitle,Body:CardBody,Link:CardLink,Text:CardText,Header:CardHeader,Footer:CardFooter,ImgOverlay:CardImgOverlay});function useUpdatedRef(_e){const et=reactExports.useRef(_e);return et.current=_e,et}function useWillUnmount(_e){const et=useUpdatedRef(_e);reactExports.useEffect(()=>()=>et.current(),[])}function map$3(_e,et){let tt=0;return reactExports.Children.map(_e,nt=>reactExports.isValidElement(nt)?et(nt,tt++):nt)}function forEach$2(_e,et){let tt=0;reactExports.Children.forEach(_e,nt=>{reactExports.isValidElement(nt)&&et(nt,tt++)})}function hasChildOfType(_e,et){return reactExports.Children.toArray(_e).some(tt=>reactExports.isValidElement(tt)&&tt.type===et)}function useCol({as:_e,bsPrefix:et,className:tt,...nt}){et=useBootstrapPrefix(et,"col");const rt=useBootstrapBreakpoints(),it=useBootstrapMinBreakpoint(),ot=[],st=[];return rt.forEach(ut=>{const ft=nt[ut];delete nt[ut];let dt,lt,at;typeof ft=="object"&&ft!=null?{span:dt,offset:lt,order:at}=ft:dt=ft;const ct=ut!==it?`-${ut}`:"";dt&&ot.push(dt===!0?`${et}${ct}`:`${et}${ct}-${dt}`),at!=null&&st.push(`order${ct}-${at}`),lt!=null&&st.push(`offset${ct}-${lt}`)}),[{...nt,className:classNames(tt,...ot,...st)},{as:_e,bsPrefix:et,spans:ot}]}const Col=reactExports.forwardRef((_e,et)=>{const[{className:tt,...nt},{as:rt="div",bsPrefix:it,spans:ot}]=useCol(_e);return jsxRuntimeExports.jsx(rt,{...nt,ref:et,className:classNames(tt,!ot.length&&it)})});Col.displayName="Col";const Container=reactExports.forwardRef(({bsPrefix:_e,fluid:et=!1,as:tt="div",className:nt,...rt},it)=>{const ot=useBootstrapPrefix(_e,"container"),st=typeof et=="string"?`-${et}`:"-fluid";return jsxRuntimeExports.jsx(tt,{ref:it,...rt,className:classNames(nt,et?`${ot}${st}`:ot)})});Container.displayName="Container";var toArray$5=Function.prototype.bind.call(Function.prototype.call,[].slice);function qsa(_e,et){return toArray$5(_e.querySelectorAll(et))}function useUncontrolledProp(_e,et,tt){const nt=reactExports.useRef(_e!==void 0),[rt,it]=reactExports.useState(et),ot=_e!==void 0,st=nt.current;return nt.current=ot,!ot&&st&&rt!==et&&it(et),[ot?_e:rt,reactExports.useCallback((...ut)=>{const[ft,...dt]=ut;let lt=tt==null?void 0:tt(ft,...dt);return it(ft),lt},[tt])]}function useForceUpdate(){const[,_e]=reactExports.useReducer(et=>!et,!1);return _e}const DropdownContext$1=reactExports.createContext(null);var has$2=Object.prototype.hasOwnProperty;function find$8(_e,et,tt){for(tt of _e.keys())if(dequal(tt,et))return tt}function dequal(_e,et){var tt,nt,rt;if(_e===et)return!0;if(_e&&et&&(tt=_e.constructor)===et.constructor){if(tt===Date)return _e.getTime()===et.getTime();if(tt===RegExp)return _e.toString()===et.toString();if(tt===Array){if((nt=_e.length)===et.length)for(;nt--&&dequal(_e[nt],et[nt]););return nt===-1}if(tt===Set){if(_e.size!==et.size)return!1;for(nt of _e)if(rt=nt,rt&&typeof rt=="object"&&(rt=find$8(et,rt),!rt)||!et.has(rt))return!1;return!0}if(tt===Map){if(_e.size!==et.size)return!1;for(nt of _e)if(rt=nt[0],rt&&typeof rt=="object"&&(rt=find$8(et,rt),!rt)||!dequal(nt[1],et.get(rt)))return!1;return!0}if(tt===ArrayBuffer)_e=new Uint8Array(_e),et=new Uint8Array(et);else if(tt===DataView){if((nt=_e.byteLength)===et.byteLength)for(;nt--&&_e.getInt8(nt)===et.getInt8(nt););return nt===-1}if(ArrayBuffer.isView(_e)){if((nt=_e.byteLength)===et.byteLength)for(;nt--&&_e[nt]===et[nt];);return nt===-1}if(!tt||typeof _e=="object"){nt=0;for(tt in _e)if(has$2.call(_e,tt)&&++nt&&!has$2.call(et,tt)||!(tt in et)||!dequal(_e[tt],et[tt]))return!1;return Object.keys(et).length===nt}}return _e!==_e&&et!==et}function useSafeState(_e){const et=useMounted();return[_e[0],reactExports.useCallback(tt=>{if(et())return _e[1](tt)},[et,_e[1]])]}const createPopper=popperGenerator({defaultModifiers:[hide$1,popperOffsets$1,computeStyles$1,eventListeners,offset$5,flip$4,preventOverflow$1,arrow$5]}),_excluded$a=["enabled","placement","strategy","modifiers"];function _objectWithoutPropertiesLoose$a(_e,et){if(_e==null)return{};var tt={},nt=Object.keys(_e),rt,it;for(it=0;it<nt.length;it++)rt=nt[it],!(et.indexOf(rt)>=0)&&(tt[rt]=_e[rt]);return tt}const disabledApplyStylesModifier={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},ariaDescribedByModifier={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:_e})=>()=>{const{reference:et,popper:tt}=_e.elements;if("removeAttribute"in et){const nt=(et.getAttribute("aria-describedby")||"").split(",").filter(rt=>rt.trim()!==tt.id);nt.length?et.setAttribute("aria-describedby",nt.join(",")):et.removeAttribute("aria-describedby")}},fn:({state:_e})=>{var et;const{popper:tt,reference:nt}=_e.elements,rt=(et=tt.getAttribute("role"))==null?void 0:et.toLowerCase();if(tt.id&&rt==="tooltip"&&"setAttribute"in nt){const it=nt.getAttribute("aria-describedby");if(it&&it.split(",").indexOf(tt.id)!==-1)return;nt.setAttribute("aria-describedby",it?`${it},${tt.id}`:tt.id)}}},EMPTY_MODIFIERS=[];function usePopper(_e,et,tt={}){let{enabled:nt=!0,placement:rt="bottom",strategy:it="absolute",modifiers:ot=EMPTY_MODIFIERS}=tt,st=_objectWithoutPropertiesLoose$a(tt,_excluded$a);const ut=reactExports.useRef(ot),ft=reactExports.useRef(),dt=reactExports.useCallback(()=>{var mt;(mt=ft.current)==null||mt.update()},[]),lt=reactExports.useCallback(()=>{var mt;(mt=ft.current)==null||mt.forceUpdate()},[]),[at,ct]=useSafeState(reactExports.useState({placement:rt,update:dt,forceUpdate:lt,attributes:{},styles:{popper:{},arrow:{}}})),ht=reactExports.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:mt})=>{const gt={},yt={};Object.keys(mt.elements).forEach(bt=>{gt[bt]=mt.styles[bt],yt[bt]=mt.attributes[bt]}),ct({state:mt,styles:gt,attributes:yt,update:dt,forceUpdate:lt,placement:mt.placement})}}),[dt,lt,ct]),pt=reactExports.useMemo(()=>(dequal(ut.current,ot)||(ut.current=ot),ut.current),[ot]);return reactExports.useEffect(()=>{!ft.current||!nt||ft.current.setOptions({placement:rt,strategy:it,modifiers:[...pt,ht,disabledApplyStylesModifier]})},[it,rt,ht,nt,pt]),reactExports.useEffect(()=>{if(!(!nt||_e==null||et==null))return ft.current=createPopper(_e,et,Object.assign({},st,{placement:rt,strategy:it,modifiers:[...pt,ariaDescribedByModifier,ht]})),()=>{ft.current!=null&&(ft.current.destroy(),ft.current=void 0,ct(mt=>Object.assign({},mt,{attributes:{},styles:{popper:{}}})))}},[nt,_e,et]),at}function contains(_e,et){if(_e.contains)return _e.contains(et);if(_e.compareDocumentPosition)return _e===et||!!(_e.compareDocumentPosition(et)&16)}var warning$1=function(){},warning_1=warning$1;const warning$2=getDefaultExportFromCjs(warning_1),noop$9=()=>{};function isLeftClickEvent(_e){return _e.button===0}function isModifiedEvent$1(_e){return!!(_e.metaKey||_e.altKey||_e.ctrlKey||_e.shiftKey)}const getRefTarget=_e=>_e&&("current"in _e?_e.current:_e),InitialTriggerEvents={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function useClickOutside(_e,et=noop$9,{disabled:tt,clickTrigger:nt="click"}={}){const rt=reactExports.useRef(!1),it=reactExports.useRef(!1),ot=reactExports.useCallback(ft=>{const dt=getRefTarget(_e);warning$2(!!dt,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),rt.current=!dt||isModifiedEvent$1(ft)||!isLeftClickEvent(ft)||!!contains(dt,ft.target)||it.current,it.current=!1},[_e]),st=useEventCallback(ft=>{const dt=getRefTarget(_e);dt&&contains(dt,ft.target)&&(it.current=!0)}),ut=useEventCallback(ft=>{rt.current||et(ft)});reactExports.useEffect(()=>{var ft,dt;if(tt||_e==null)return;const lt=ownerDocument(getRefTarget(_e)),at=lt.defaultView||window;let ct=(ft=at.event)!=null?ft:(dt=at.parent)==null?void 0:dt.event,ht=null;InitialTriggerEvents[nt]&&(ht=listen(lt,InitialTriggerEvents[nt],st,!0));const pt=listen(lt,nt,ot,!0),mt=listen(lt,nt,yt=>{if(yt===ct){ct=void 0;return}ut(yt)});let gt=[];return"ontouchstart"in lt.documentElement&&(gt=[].slice.call(lt.body.children).map(yt=>listen(yt,"mousemove",noop$9))),()=>{ht==null||ht(),pt(),mt(),gt.forEach(yt=>yt())}},[_e,tt,nt,ot,st,ut])}function toModifierMap(_e){const et={};return Array.isArray(_e)?(_e==null||_e.forEach(tt=>{et[tt.name]=tt}),et):_e||et}function toModifierArray(_e={}){return Array.isArray(_e)?_e:Object.keys(_e).map(et=>(_e[et].name=et,_e[et]))}function mergeOptionsWithPopperConfig({enabled:_e,enableEvents:et,placement:tt,flip:nt,offset:rt,fixed:it,containerPadding:ot,arrowElement:st,popperConfig:ut={}}){var ft,dt,lt,at,ct;const ht=toModifierMap(ut.modifiers);return Object.assign({},ut,{placement:tt,enabled:_e,strategy:it?"fixed":ut.strategy,modifiers:toModifierArray(Object.assign({},ht,{eventListeners:{enabled:et,options:(ft=ht.eventListeners)==null?void 0:ft.options},preventOverflow:Object.assign({},ht.preventOverflow,{options:ot?Object.assign({padding:ot},(dt=ht.preventOverflow)==null?void 0:dt.options):(lt=ht.preventOverflow)==null?void 0:lt.options}),offset:{options:Object.assign({offset:rt},(at=ht.offset)==null?void 0:at.options)},arrow:Object.assign({},ht.arrow,{enabled:!!st,options:Object.assign({},(ct=ht.arrow)==null?void 0:ct.options,{element:st})}),flip:Object.assign({enabled:!!nt},ht.flip)}))})}const _excluded$9=["children","usePopper"];function _objectWithoutPropertiesLoose$9(_e,et){if(_e==null)return{};var tt={},nt=Object.keys(_e),rt,it;for(it=0;it<nt.length;it++)rt=nt[it],!(et.indexOf(rt)>=0)&&(tt[rt]=_e[rt]);return tt}const noop$8=()=>{};function useDropdownMenu(_e={}){const et=reactExports.useContext(DropdownContext$1),[tt,nt]=useCallbackRef(),rt=reactExports.useRef(!1),{flip:it,offset:ot,rootCloseEvent:st,fixed:ut=!1,placement:ft,popperConfig:dt={},enableEventListeners:lt=!0,usePopper:at=!!et}=_e,ct=(et==null?void 0:et.show)==null?!!_e.show:et.show;ct&&!rt.current&&(rt.current=!0);const ht=wt=>{et==null||et.toggle(!1,wt)},{placement:pt,setMenu:mt,menuElement:gt,toggleElement:yt}=et||{},bt=usePopper(yt,gt,mergeOptionsWithPopperConfig({placement:ft||pt||"bottom-start",enabled:at,enableEvents:lt??ct,offset:ot,flip:it,fixed:ut,arrowElement:tt,popperConfig:dt})),xt=Object.assign({ref:mt||noop$8,"aria-labelledby":yt==null?void 0:yt.id},bt.attributes.popper,{style:bt.styles.popper}),vt={show:ct,placement:pt,hasShown:rt.current,toggle:et==null?void 0:et.toggle,popper:at?bt:null,arrowProps:at?Object.assign({ref:nt},bt.attributes.arrow,{style:bt.styles.arrow}):{}};return useClickOutside(gt,ht,{clickTrigger:st,disabled:!ct}),[xt,vt]}function DropdownMenu$1(_e){let{children:et,usePopper:tt=!0}=_e,nt=_objectWithoutPropertiesLoose$9(_e,_excluded$9);const[rt,it]=useDropdownMenu(Object.assign({},nt,{usePopper:tt}));return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:et(rt,it)})}DropdownMenu$1.displayName="DropdownMenu";const $b5e257d569688ac6$var$defaultContext={prefix:String(Math.round(Math.random()*1e10)),current:0},$b5e257d569688ac6$var$SSRContext=React.createContext($b5e257d569688ac6$var$defaultContext),$b5e257d569688ac6$var$IsSSRContext=React.createContext(!1);let $b5e257d569688ac6$var$canUseDOM=!!(typeof window<"u"&&window.document&&window.document.createElement),$b5e257d569688ac6$var$componentIds=new WeakMap;function $b5e257d569688ac6$var$useCounter(_e=!1){let et=reactExports.useContext($b5e257d569688ac6$var$SSRContext),tt=reactExports.useRef(null);if(tt.current===null&&!_e){var nt,rt;let it=(rt=React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||rt===void 0||(nt=rt.ReactCurrentOwner)===null||nt===void 0?void 0:nt.current;if(it){let ot=$b5e257d569688ac6$var$componentIds.get(it);ot==null?$b5e257d569688ac6$var$componentIds.set(it,{id:et.current,state:it.memoizedState}):it.memoizedState!==ot.state&&(et.current=ot.id,$b5e257d569688ac6$var$componentIds.delete(it))}tt.current=++et.current}return tt.current}function $b5e257d569688ac6$var$useLegacySSRSafeId(_e){let et=reactExports.useContext($b5e257d569688ac6$var$SSRContext);et===$b5e257d569688ac6$var$defaultContext&&!$b5e257d569688ac6$var$canUseDOM&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let tt=$b5e257d569688ac6$var$useCounter(!!_e),nt=`react-aria${et.prefix}`;return _e||`${nt}-${tt}`}function $b5e257d569688ac6$var$useModernSSRSafeId(_e){let et=React.useId(),[tt]=reactExports.useState($b5e257d569688ac6$export$535bd6ca7f90a273()),nt=tt?"react-aria":`react-aria${$b5e257d569688ac6$var$defaultContext.prefix}`;return _e||`${nt}-${et}`}const $b5e257d569688ac6$export$619500959fc48b26=typeof React.useId=="function"?$b5e257d569688ac6$var$useModernSSRSafeId:$b5e257d569688ac6$var$useLegacySSRSafeId;function $b5e257d569688ac6$var$getSnapshot(){return!1}function $b5e257d569688ac6$var$getServerSnapshot(){return!0}function $b5e257d569688ac6$var$subscribe(_e){return()=>{}}function $b5e257d569688ac6$export$535bd6ca7f90a273(){return typeof React.useSyncExternalStore=="function"?React.useSyncExternalStore($b5e257d569688ac6$var$subscribe,$b5e257d569688ac6$var$getSnapshot,$b5e257d569688ac6$var$getServerSnapshot):reactExports.useContext($b5e257d569688ac6$var$IsSSRContext)}const isRoleMenu=_e=>{var et;return((et=_e.getAttribute("role"))==null?void 0:et.toLowerCase())==="menu"},noop$7=()=>{};function useDropdownToggle(){const _e=$b5e257d569688ac6$export$619500959fc48b26(),{show:et=!1,toggle:tt=noop$7,setToggle:nt,menuElement:rt}=reactExports.useContext(DropdownContext$1)||{},it=reactExports.useCallback(st=>{tt(!et,st)},[et,tt]),ot={id:_e,ref:nt||noop$7,onClick:it,"aria-expanded":!!et};return rt&&isRoleMenu(rt)&&(ot["aria-haspopup"]=!0),[ot,{show:et,toggle:tt}]}function DropdownToggle$1({children:_e}){const[et,tt]=useDropdownToggle();return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:_e(et,tt)})}DropdownToggle$1.displayName="DropdownToggle";const SelectableContext=reactExports.createContext(null),makeEventKey=(_e,et=null)=>_e!=null?String(_e):et||null,SelectableContext$1=SelectableContext,NavContext=reactExports.createContext(null);NavContext.displayName="NavContext";const ATTRIBUTE_PREFIX="data-rr-ui-",PROPERTY_PREFIX="rrUi";function dataAttr(_e){return`${ATTRIBUTE_PREFIX}${_e}`}function dataProp(_e){return`${PROPERTY_PREFIX}${_e}`}const _excluded$8=["eventKey","disabled","onClick","active","as"];function _objectWithoutPropertiesLoose$8(_e,et){if(_e==null)return{};var tt={},nt=Object.keys(_e),rt,it;for(it=0;it<nt.length;it++)rt=nt[it],!(et.indexOf(rt)>=0)&&(tt[rt]=_e[rt]);return tt}function useDropdownItem({key:_e,href:et,active:tt,disabled:nt,onClick:rt}){const it=reactExports.useContext(SelectableContext$1),ot=reactExports.useContext(NavContext),{activeKey:st}=ot||{},ut=makeEventKey(_e,et),ft=tt==null&&_e!=null?makeEventKey(st)===ut:tt;return[{onClick:useEventCallback(lt=>{nt||(rt==null||rt(lt),it&&!lt.isPropagationStopped()&&it(ut,lt))}),"aria-disabled":nt||void 0,"aria-selected":ft,[dataAttr("dropdown-item")]:""},{isActive:ft}]}const DropdownItem$1=reactExports.forwardRef((_e,et)=>{let{eventKey:tt,disabled:nt,onClick:rt,active:it,as:ot=Button$1}=_e,st=_objectWithoutPropertiesLoose$8(_e,_excluded$8);const[ut]=useDropdownItem({key:tt,href:st.href,disabled:nt,onClick:rt,active:it});return jsxRuntimeExports.jsx(ot,Object.assign({},st,{ref:et},ut))});DropdownItem$1.displayName="DropdownItem";const Context=reactExports.createContext(canUseDOM?window:void 0);Context.Provider;function useWindow(){return reactExports.useContext(Context)}function useRefWithUpdate(){const _e=useForceUpdate(),et=reactExports.useRef(null),tt=reactExports.useCallback(nt=>{et.current=nt,_e()},[_e]);return[et,tt]}function Dropdown$2({defaultShow:_e,show:et,onSelect:tt,onToggle:nt,itemSelector:rt=`* [${dataAttr("dropdown-item")}]`,focusFirstItemOnShow:it,placement:ot="bottom-start",children:st}){const ut=useWindow(),[ft,dt]=useUncontrolledProp(et,_e,nt),[lt,at]=useRefWithUpdate(),ct=lt.current,[ht,pt]=useRefWithUpdate(),mt=ht.current,gt=usePrevious(ft),yt=reactExports.useRef(null),bt=reactExports.useRef(!1),xt=reactExports.useContext(SelectableContext$1),vt=reactExports.useCallback((jt,Dt,Pt=Dt==null?void 0:Dt.type)=>{dt(jt,{originalEvent:Dt,source:Pt})},[dt]),wt=useEventCallback((jt,Dt)=>{tt==null||tt(jt,Dt),vt(!1,Dt,"select"),Dt.isPropagationStopped()||xt==null||xt(jt,Dt)}),_t=reactExports.useMemo(()=>({toggle:vt,placement:ot,show:ft,menuElement:ct,toggleElement:mt,setMenu:at,setToggle:pt}),[vt,ot,ft,ct,mt,at,pt]);ct&&gt&&!ft&&(bt.current=ct.contains(ct.ownerDocument.activeElement));const Ct=useEventCallback(()=>{mt&&mt.focus&&mt.focus()}),Et=useEventCallback(()=>{const jt=yt.current;let Dt=it;if(Dt==null&&(Dt=lt.current&&isRoleMenu(lt.current)?"keyboard":!1),Dt===!1||Dt==="keyboard"&&!/^key.+$/.test(jt))return;const Pt=qsa(lt.current,rt)[0];Pt&&Pt.focus&&Pt.focus()});reactExports.useEffect(()=>{ft?Et():bt.current&&(bt.current=!1,Ct())},[ft,bt,Ct,Et]),reactExports.useEffect(()=>{yt.current=null});const $t=(jt,Dt)=>{if(!lt.current)return null;const Pt=qsa(lt.current,rt);let kt=Pt.indexOf(jt)+Dt;return kt=Math.max(0,Math.min(kt,Pt.length)),Pt[kt]};return useEventListener$1(reactExports.useCallback(()=>ut.document,[ut]),"keydown",jt=>{var Dt,Pt;const{key:kt}=jt,At=jt.target,Tt=(Dt=lt.current)==null?void 0:Dt.contains(At),St=(Pt=ht.current)==null?void 0:Pt.contains(At);if(/input|textarea/i.test(At.tagName)&&(kt===" "||kt!=="Escape"&&Tt||kt==="Escape"&&At.type==="search")||!Tt&&!St||kt==="Tab"&&(!lt.current||!ft))return;yt.current=jt.type;const Ot={originalEvent:jt,source:jt.type};switch(kt){case"ArrowUp":{const Nt=$t(At,-1);Nt&&Nt.focus&&Nt.focus(),jt.preventDefault();return}case"ArrowDown":if(jt.preventDefault(),!ft)dt(!0,Ot);else{const Nt=$t(At,1);Nt&&Nt.focus&&Nt.focus()}return;case"Tab":addEventListener(At.ownerDocument,"keyup",Nt=>{var It;(Nt.key==="Tab"&&!Nt.target||!((It=lt.current)!=null&&It.contains(Nt.target)))&&dt(!1,Ot)},{once:!0});break;case"Escape":kt==="Escape"&&(jt.preventDefault(),jt.stopPropagation()),dt(!1,Ot);break}}),jsxRuntimeExports.jsx(SelectableContext$1.Provider,{value:wt,children:jsxRuntimeExports.jsx(DropdownContext$1.Provider,{value:_t,children:st})})}Dropdown$2.displayName="Dropdown";Dropdown$2.Menu=DropdownMenu$1;Dropdown$2.Toggle=DropdownToggle$1;Dropdown$2.Item=DropdownItem$1;const DropdownContext=reactExports.createContext({});DropdownContext.displayName="DropdownContext";const DropdownDivider=reactExports.forwardRef(({className:_e,bsPrefix:et,as:tt="hr",role:nt="separator",...rt},it)=>(et=useBootstrapPrefix(et,"dropdown-divider"),jsxRuntimeExports.jsx(tt,{ref:it,className:classNames(_e,et),role:nt,...rt})));DropdownDivider.displayName="DropdownDivider";const DropdownHeader=reactExports.forwardRef(({className:_e,bsPrefix:et,as:tt="div",role:nt="heading",...rt},it)=>(et=useBootstrapPrefix(et,"dropdown-header"),jsxRuntimeExports.jsx(tt,{ref:it,className:classNames(_e,et),role:nt,...rt})));DropdownHeader.displayName="DropdownHeader";const DropdownItem=reactExports.forwardRef(({bsPrefix:_e,className:et,eventKey:tt,disabled:nt=!1,onClick:rt,active:it,as:ot=Anchor,...st},ut)=>{const ft=useBootstrapPrefix(_e,"dropdown-item"),[dt,lt]=useDropdownItem({key:tt,href:st.href,disabled:nt,onClick:rt,active:it});return jsxRuntimeExports.jsx(ot,{...st,...dt,ref:ut,className:classNames(et,ft,lt.isActive&&"active",nt&&"disabled")})});DropdownItem.displayName="DropdownItem";const DropdownItemText=reactExports.forwardRef(({className:_e,bsPrefix:et,as:tt="span",...nt},rt)=>(et=useBootstrapPrefix(et,"dropdown-item-text"),jsxRuntimeExports.jsx(tt,{ref:rt,className:classNames(_e,et),...nt})));DropdownItemText.displayName="DropdownItemText";const context$1=reactExports.createContext(null);context$1.displayName="InputGroupContext";const context=reactExports.createContext(null);context.displayName="NavbarContext";function useWrappedRefWithWarning(_e,et){return _e}function getDropdownMenuPlacement(_e,et,tt){const nt=tt?"top-end":"top-start",rt=tt?"top-start":"top-end",it=tt?"bottom-end":"bottom-start",ot=tt?"bottom-start":"bottom-end",st=tt?"right-start":"left-start",ut=tt?"right-end":"left-end",ft=tt?"left-start":"right-start",dt=tt?"left-end":"right-end";let lt=_e?ot:it;return et==="up"?lt=_e?rt:nt:et==="end"?lt=_e?dt:ft:et==="start"?lt=_e?ut:st:et==="down-centered"?lt="bottom":et==="up-centered"&&(lt="top"),lt}const DropdownMenu=reactExports.forwardRef(({bsPrefix:_e,className:et,align:tt,rootCloseEvent:nt,flip:rt=!0,show:it,renderOnMount:ot,as:st="div",popperConfig:ut,variant:ft,...dt},lt)=>{let at=!1;const ct=reactExports.useContext(context),ht=useBootstrapPrefix(_e,"dropdown-menu"),{align:pt,drop:mt,isRTL:gt}=reactExports.useContext(DropdownContext);tt=tt||pt;const yt=reactExports.useContext(context$1),bt=[];if(tt)if(typeof tt=="object"){const jt=Object.keys(tt);if(jt.length){const Dt=jt[0],Pt=tt[Dt];at=Pt==="start",bt.push(`${ht}-${Dt}-${Pt}`)}}else tt==="end"&&(at=!0);const xt=getDropdownMenuPlacement(at,mt,gt),[vt,{hasShown:wt,popper:_t,show:Ct,toggle:Et}]=useDropdownMenu({flip:rt,rootCloseEvent:nt,show:it,usePopper:!ct&&bt.length===0,offset:[0,2],popperConfig:ut,placement:xt});if(vt.ref=useMergedRefs(useWrappedRefWithWarning(lt),vt.ref),useIsomorphicEffect(()=>{Ct&&(_t==null||_t.update())},[Ct]),!wt&&!ot&&!yt)return null;typeof st!="string"&&(vt.show=Ct,vt.close=()=>Et==null?void 0:Et(!1),vt.align=tt);let $t=dt.style;return _t!=null&&_t.placement&&($t={...dt.style,...vt.style},dt["x-placement"]=_t.placement),jsxRuntimeExports.jsx(st,{...dt,...vt,style:$t,...(bt.length||ct)&&{"data-bs-popper":"static"},className:classNames(et,ht,Ct&&"show",at&&`${ht}-end`,ft&&`${ht}-${ft}`,...bt)})});DropdownMenu.displayName="DropdownMenu";const DropdownToggle=reactExports.forwardRef(({bsPrefix:_e,split:et,className:tt,childBsPrefix:nt,as:rt=Button,...it},ot)=>{const st=useBootstrapPrefix(_e,"dropdown-toggle"),ut=reactExports.useContext(DropdownContext$1);nt!==void 0&&(it.bsPrefix=nt);const[ft]=useDropdownToggle();return ft.ref=useMergedRefs(ft.ref,useWrappedRefWithWarning(ot)),jsxRuntimeExports.jsx(rt,{className:classNames(tt,st,et&&`${st}-split`,(ut==null?void 0:ut.show)&&"show"),...ft,...it})});DropdownToggle.displayName="DropdownToggle";const Dropdown=reactExports.forwardRef((_e,et)=>{const{bsPrefix:tt,drop:nt="down",show:rt,className:it,align:ot="start",onSelect:st,onToggle:ut,focusFirstItemOnShow:ft,as:dt="div",navbar:lt,autoClose:at=!0,...ct}=useUncontrolled(_e,{show:"onToggle"}),ht=reactExports.useContext(context$1),pt=useBootstrapPrefix(tt,"dropdown"),mt=useIsRTL(),gt=_t=>at===!1?_t==="click":at==="inside"?_t!=="rootClose":at==="outside"?_t!=="select":!0,yt=useEventCallback((_t,Ct)=>{var Et,$t;!((Et=Ct.originalEvent)==null||($t=Et.target)==null)&&$t.classList.contains("dropdown-toggle")&&Ct.source==="mousedown"||(Ct.originalEvent.currentTarget===document&&(Ct.source!=="keydown"||Ct.originalEvent.key==="Escape")&&(Ct.source="rootClose"),gt(Ct.source)&&(ut==null||ut(_t,Ct)))}),xt=getDropdownMenuPlacement(ot==="end",nt,mt),vt=reactExports.useMemo(()=>({align:ot,drop:nt,isRTL:mt}),[ot,nt,mt]),wt={down:pt,"down-centered":`${pt}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return jsxRuntimeExports.jsx(DropdownContext.Provider,{value:vt,children:jsxRuntimeExports.jsx(Dropdown$2,{placement:xt,show:rt,onSelect:st,onToggle:yt,focusFirstItemOnShow:ft,itemSelector:`.${pt}-item:not(.disabled):not(:disabled)`,children:ht?ct.children:jsxRuntimeExports.jsx(dt,{...ct,ref:et,className:classNames(it,rt&&"show",wt[nt])})})})});Dropdown.displayName="Dropdown";const Dropdown$1=Object.assign(Dropdown,{Toggle:DropdownToggle,Menu:DropdownMenu,Item:DropdownItem,ItemText:DropdownItemText,Divider:DropdownDivider,Header:DropdownHeader}),propTypes$2={type:PropTypes.string,tooltip:PropTypes.bool,as:PropTypes.elementType},Feedback=reactExports.forwardRef(({as:_e="div",className:et,type:tt="valid",tooltip:nt=!1,...rt},it)=>jsxRuntimeExports.jsx(_e,{...rt,ref:it,className:classNames(et,`${tt}-${nt?"tooltip":"feedback"}`)}));Feedback.displayName="Feedback";Feedback.propTypes=propTypes$2;const FormContext$1=reactExports.createContext({}),FormCheckInput=reactExports.forwardRef(({id:_e,bsPrefix:et,className:tt,type:nt="checkbox",isValid:rt=!1,isInvalid:it=!1,as:ot="input",...st},ut)=>{const{controlId:ft}=reactExports.useContext(FormContext$1);return et=useBootstrapPrefix(et,"form-check-input"),jsxRuntimeExports.jsx(ot,{...st,ref:ut,type:nt,id:_e||ft,className:classNames(tt,et,rt&&"is-valid",it&&"is-invalid")})});FormCheckInput.displayName="FormCheckInput";const FormCheckLabel=reactExports.forwardRef(({bsPrefix:_e,className:et,htmlFor:tt,...nt},rt)=>{const{controlId:it}=reactExports.useContext(FormContext$1);return _e=useBootstrapPrefix(_e,"form-check-label"),jsxRuntimeExports.jsx("label",{...nt,ref:rt,htmlFor:tt||it,className:classNames(et,_e)})});FormCheckLabel.displayName="FormCheckLabel";const FormCheck=reactExports.forwardRef(({id:_e,bsPrefix:et,bsSwitchPrefix:tt,inline:nt=!1,reverse:rt=!1,disabled:it=!1,isValid:ot=!1,isInvalid:st=!1,feedbackTooltip:ut=!1,feedback:ft,feedbackType:dt,className:lt,style:at,title:ct="",type:ht="checkbox",label:pt,children:mt,as:gt="input",...yt},bt)=>{et=useBootstrapPrefix(et,"form-check"),tt=useBootstrapPrefix(tt,"form-switch");const{controlId:xt}=reactExports.useContext(FormContext$1),vt=reactExports.useMemo(()=>({controlId:_e||xt}),[xt,_e]),wt=!mt&&pt!=null&&pt!==!1||hasChildOfType(mt,FormCheckLabel),_t=jsxRuntimeExports.jsx(FormCheckInput,{...yt,type:ht==="switch"?"checkbox":ht,ref:bt,isValid:ot,isInvalid:st,disabled:it,as:gt});return jsxRuntimeExports.jsx(FormContext$1.Provider,{value:vt,children:jsxRuntimeExports.jsx("div",{style:at,className:classNames(lt,wt&&et,nt&&`${et}-inline`,rt&&`${et}-reverse`,ht==="switch"&&tt),children:mt||jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[_t,wt&&jsxRuntimeExports.jsx(FormCheckLabel,{title:ct,children:pt}),ft&&jsxRuntimeExports.jsx(Feedback,{type:dt,tooltip:ut,children:ft})]})})})});FormCheck.displayName="FormCheck";const FormCheck$1=Object.assign(FormCheck,{Input:FormCheckInput,Label:FormCheckLabel}),FormControl=reactExports.forwardRef(({bsPrefix:_e,type:et,size:tt,htmlSize:nt,id:rt,className:it,isValid:ot=!1,isInvalid:st=!1,plaintext:ut,readOnly:ft,as:dt="input",...lt},at)=>{const{controlId:ct}=reactExports.useContext(FormContext$1);return _e=useBootstrapPrefix(_e,"form-control"),jsxRuntimeExports.jsx(dt,{...lt,type:et,size:nt,ref:at,readOnly:ft,id:rt||ct,className:classNames(it,ut?`${_e}-plaintext`:_e,tt&&`${_e}-${tt}`,et==="color"&&`${_e}-color`,ot&&"is-valid",st&&"is-invalid")})});FormControl.displayName="FormControl";const FormControl$1=Object.assign(FormControl,{Feedback}),FormFloating=reactExports.forwardRef(({className:_e,bsPrefix:et,as:tt="div",...nt},rt)=>(et=useBootstrapPrefix(et,"form-floating"),jsxRuntimeExports.jsx(tt,{ref:rt,className:classNames(_e,et),...nt})));FormFloating.displayName="FormFloating";const FormGroup=reactExports.forwardRef(({controlId:_e,as:et="div",...tt},nt)=>{const rt=reactExports.useMemo(()=>({controlId:_e}),[_e]);return jsxRuntimeExports.jsx(FormContext$1.Provider,{value:rt,children:jsxRuntimeExports.jsx(et,{...tt,ref:nt})})});FormGroup.displayName="FormGroup";const FormLabel=reactExports.forwardRef(({as:_e="label",bsPrefix:et,column:tt=!1,visuallyHidden:nt=!1,className:rt,htmlFor:it,...ot},st)=>{const{controlId:ut}=reactExports.useContext(FormContext$1);et=useBootstrapPrefix(et,"form-label");let ft="col-form-label";typeof tt=="string"&&(ft=`${ft} ${ft}-${tt}`);const dt=classNames(rt,et,nt&&"visually-hidden",tt&&ft);return it=it||ut,tt?jsxRuntimeExports.jsx(Col,{ref:st,as:"label",className:dt,htmlFor:it,...ot}):jsxRuntimeExports.jsx(_e,{ref:st,className:dt,htmlFor:it,...ot})});FormLabel.displayName="FormLabel";const FormRange=reactExports.forwardRef(({bsPrefix:_e,className:et,id:tt,...nt},rt)=>{const{controlId:it}=reactExports.useContext(FormContext$1);return _e=useBootstrapPrefix(_e,"form-range"),jsxRuntimeExports.jsx("input",{...nt,type:"range",ref:rt,className:classNames(et,_e),id:tt||it})});FormRange.displayName="FormRange";const FormSelect=reactExports.forwardRef(({bsPrefix:_e,size:et,htmlSize:tt,className:nt,isValid:rt=!1,isInvalid:it=!1,id:ot,...st},ut)=>{const{controlId:ft}=reactExports.useContext(FormContext$1);return _e=useBootstrapPrefix(_e,"form-select"),jsxRuntimeExports.jsx("select",{...st,size:tt,ref:ut,className:classNames(nt,_e,et&&`${_e}-${et}`,rt&&"is-valid",it&&"is-invalid"),id:ot||ft})});FormSelect.displayName="FormSelect";const FormText=reactExports.forwardRef(({bsPrefix:_e,className:et,as:tt="small",muted:nt,...rt},it)=>(_e=useBootstrapPrefix(_e,"form-text"),jsxRuntimeExports.jsx(tt,{...rt,ref:it,className:classNames(et,_e,nt&&"text-muted")})));FormText.displayName="FormText";const Switch=reactExports.forwardRef((_e,et)=>jsxRuntimeExports.jsx(FormCheck$1,{..._e,ref:et,type:"switch"}));Switch.displayName="Switch";const Switch$1=Object.assign(Switch,{Input:FormCheck$1.Input,Label:FormCheck$1.Label}),FloatingLabel=reactExports.forwardRef(({bsPrefix:_e,className:et,children:tt,controlId:nt,label:rt,...it},ot)=>(_e=useBootstrapPrefix(_e,"form-floating"),jsxRuntimeExports.jsxs(FormGroup,{ref:ot,className:classNames(et,_e),controlId:nt,...it,children:[tt,jsxRuntimeExports.jsx("label",{htmlFor:nt,children:rt})]})));FloatingLabel.displayName="FloatingLabel";const propTypes$1={_ref:PropTypes.any,validated:PropTypes.bool,as:PropTypes.elementType},Form=reactExports.forwardRef(({className:_e,validated:et,as:tt="form",...nt},rt)=>jsxRuntimeExports.jsx(tt,{...nt,ref:rt,className:classNames(_e,et&&"was-validated")}));Form.displayName="Form";Form.propTypes=propTypes$1;const Form$1=Object.assign(Form,{Group:FormGroup,Control:FormControl$1,Floating:FormFloating,Check:FormCheck$1,Switch:Switch$1,Label:FormLabel,Text:FormText,Range:FormRange,Select:FormSelect,FloatingLabel}),TabContext=reactExports.createContext(null),_excluded$7=["as","active","eventKey"];function _objectWithoutPropertiesLoose$7(_e,et){if(_e==null)return{};var tt={},nt=Object.keys(_e),rt,it;for(it=0;it<nt.length;it++)rt=nt[it],!(et.indexOf(rt)>=0)&&(tt[rt]=_e[rt]);return tt}function useNavItem({key:_e,onClick:et,active:tt,id:nt,role:rt,disabled:it}){const ot=reactExports.useContext(SelectableContext$1),st=reactExports.useContext(NavContext),ut=reactExports.useContext(TabContext);let ft=tt;const dt={role:rt};if(st){!rt&&st.role==="tablist"&&(dt.role="tab");const lt=st.getControllerId(_e??null),at=st.getControlledId(_e??null);dt[dataAttr("event-key")]=_e,dt.id=lt||nt,ft=tt==null&&_e!=null?st.activeKey===_e:tt,(ft||!(ut!=null&&ut.unmountOnExit)&&!(ut!=null&&ut.mountOnEnter))&&(dt["aria-controls"]=at)}return dt.role==="tab"&&(dt["aria-selected"]=ft,ft||(dt.tabIndex=-1),it&&(dt.tabIndex=-1,dt["aria-disabled"]=!0)),dt.onClick=useEventCallback(lt=>{it||(et==null||et(lt),_e!=null&&ot&&!lt.isPropagationStopped()&&ot(_e,lt))}),[dt,{isActive:ft}]}const NavItem$1=reactExports.forwardRef((_e,et)=>{let{as:tt=Button$1,active:nt,eventKey:rt}=_e,it=_objectWithoutPropertiesLoose$7(_e,_excluded$7);const[ot,st]=useNavItem(Object.assign({key:makeEventKey(rt,it.href),active:nt},it));return ot[dataAttr("active")]=st.isActive,jsxRuntimeExports.jsx(tt,Object.assign({},it,ot,{ref:et}))});NavItem$1.displayName="NavItem";const NavItem$2=NavItem$1,_excluded$6=["as","onSelect","activeKey","role","onKeyDown"];function _objectWithoutPropertiesLoose$6(_e,et){if(_e==null)return{};var tt={},nt=Object.keys(_e),rt,it;for(it=0;it<nt.length;it++)rt=nt[it],!(et.indexOf(rt)>=0)&&(tt[rt]=_e[rt]);return tt}const noop$6=()=>{},EVENT_KEY_ATTR=dataAttr("event-key"),Nav$2=reactExports.forwardRef((_e,et)=>{let{as:tt="div",onSelect:nt,activeKey:rt,role:it,onKeyDown:ot}=_e,st=_objectWithoutPropertiesLoose$6(_e,_excluded$6);const ut=useForceUpdate(),ft=reactExports.useRef(!1),dt=reactExports.useContext(SelectableContext$1),lt=reactExports.useContext(TabContext);let at,ct;lt&&(it=it||"tablist",rt=lt.activeKey,at=lt.getControlledId,ct=lt.getControllerId);const ht=reactExports.useRef(null),pt=bt=>{const xt=ht.current;if(!xt)return null;const vt=qsa(xt,`[${EVENT_KEY_ATTR}]:not([aria-disabled=true])`),wt=xt.querySelector("[aria-selected=true]");if(!wt||wt!==document.activeElement)return null;const _t=vt.indexOf(wt);if(_t===-1)return null;let Ct=_t+bt;return Ct>=vt.length&&(Ct=0),Ct<0&&(Ct=vt.length-1),vt[Ct]},mt=(bt,xt)=>{bt!=null&&(nt==null||nt(bt,xt),dt==null||dt(bt,xt))},gt=bt=>{if(ot==null||ot(bt),!lt)return;let xt;switch(bt.key){case"ArrowLeft":case"ArrowUp":xt=pt(-1);break;case"ArrowRight":case"ArrowDown":xt=pt(1);break;default:return}xt&&(bt.preventDefault(),mt(xt.dataset[dataProp("EventKey")]||null,bt),ft.current=!0,ut())};reactExports.useEffect(()=>{if(ht.current&&ft.current){const bt=ht.current.querySelector(`[${EVENT_KEY_ATTR}][aria-selected=true]`);bt==null||bt.focus()}ft.current=!1});const yt=useMergedRefs(et,ht);return jsxRuntimeExports.jsx(SelectableContext$1.Provider,{value:mt,children:jsxRuntimeExports.jsx(NavContext.Provider,{value:{role:it,activeKey:makeEventKey(rt),getControlledId:at||noop$6,getControllerId:ct||noop$6},children:jsxRuntimeExports.jsx(tt,Object.assign({},st,{onKeyDown:gt,ref:yt,role:it}))})})});Nav$2.displayName="Nav";const BaseNav=Object.assign(Nav$2,{Item:NavItem$2}),ListGroupItem=reactExports.forwardRef(({bsPrefix:_e,active:et,disabled:tt,eventKey:nt,className:rt,variant:it,action:ot,as:st,...ut},ft)=>{_e=useBootstrapPrefix(_e,"list-group-item");const[dt,lt]=useNavItem({key:makeEventKey(nt,ut.href),active:et,...ut}),at=useEventCallback(ht=>{if(tt){ht.preventDefault(),ht.stopPropagation();return}dt.onClick(ht)});tt&&ut.tabIndex===void 0&&(ut.tabIndex=-1,ut["aria-disabled"]=!0);const ct=st||(ot?ut.href?"a":"button":"div");return jsxRuntimeExports.jsx(ct,{ref:ft,...ut,...dt,onClick:at,className:classNames(rt,_e,lt.isActive&&"active",tt&&"disabled",it&&`${_e}-${it}`,ot&&`${_e}-action`)})});ListGroupItem.displayName="ListGroupItem";const ListGroup=reactExports.forwardRef((_e,et)=>{const{className:tt,bsPrefix:nt,variant:rt,horizontal:it,numbered:ot,as:st="div",...ut}=useUncontrolled(_e,{activeKey:"onSelect"}),ft=useBootstrapPrefix(nt,"list-group");let dt;return it&&(dt=it===!0?"horizontal":`horizontal-${it}`),jsxRuntimeExports.jsx(BaseNav,{ref:et,...ut,as:st,className:classNames(tt,ft,rt&&`${ft}-${rt}`,dt&&`${ft}-${dt}`,ot&&`${ft}-numbered`)})});ListGroup.displayName="ListGroup";const ListGroup$1=Object.assign(ListGroup,{Item:ListGroupItem});var size;function scrollbarSize(_e){if((!size&&size!==0||_e)&&canUseDOM){var et=document.createElement("div");et.style.position="absolute",et.style.top="-9999px",et.style.width="50px",et.style.height="50px",et.style.overflow="scroll",document.body.appendChild(et),size=et.offsetWidth-et.clientWidth,document.body.removeChild(et)}return size}function activeElement(_e){_e===void 0&&(_e=ownerDocument());try{var et=_e.activeElement;return!et||!et.nodeName?null:et}catch{return _e.body}}function getBodyScrollbarWidth(_e=document){const et=_e.defaultView;return Math.abs(et.innerWidth-_e.documentElement.clientWidth)}const OPEN_DATA_ATTRIBUTE=dataAttr("modal-open");class ModalManager{constructor({ownerDocument:et,handleContainerOverflow:tt=!0,isRTL:nt=!1}={}){this.handleContainerOverflow=tt,this.isRTL=nt,this.modals=[],this.ownerDocument=et}getScrollbarWidth(){return getBodyScrollbarWidth(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(et){}removeModalAttributes(et){}setContainerStyle(et){const tt={overflow:"hidden"},nt=this.isRTL?"paddingLeft":"paddingRight",rt=this.getElement();et.style={overflow:rt.style.overflow,[nt]:rt.style[nt]},et.scrollBarWidth&&(tt[nt]=`${parseInt(style(rt,nt)||"0",10)+et.scrollBarWidth}px`),rt.setAttribute(OPEN_DATA_ATTRIBUTE,""),style(rt,tt)}reset(){[...this.modals].forEach(et=>this.remove(et))}removeContainerStyle(et){const tt=this.getElement();tt.removeAttribute(OPEN_DATA_ATTRIBUTE),Object.assign(tt.style,et.style)}add(et){let tt=this.modals.indexOf(et);return tt!==-1||(tt=this.modals.length,this.modals.push(et),this.setModalAttributes(et),tt!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),tt}remove(et){const tt=this.modals.indexOf(et);tt!==-1&&(this.modals.splice(tt,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(et))}isTopModal(et){return!!this.modals.length&&this.modals[this.modals.length-1]===et}}const resolveContainerRef=(_e,et)=>canUseDOM?_e==null?(et||ownerDocument()).body:(typeof _e=="function"&&(_e=_e()),_e&&"current"in _e&&(_e=_e.current),_e&&("nodeType"in _e||_e.getBoundingClientRect)?_e:null):null;function useWaitForDOMRef(_e,et){const tt=useWindow(),[nt,rt]=reactExports.useState(()=>resolveContainerRef(_e,tt==null?void 0:tt.document));if(!nt){const it=resolveContainerRef(_e);it&&rt(it)}return reactExports.useEffect(()=>{},[et,nt]),reactExports.useEffect(()=>{const it=resolveContainerRef(_e);it!==nt&&rt(it)},[_e,nt]),nt}function NoopTransition({children:_e,in:et,onExited:tt,mountOnEnter:nt,unmountOnExit:rt}){const it=reactExports.useRef(null),ot=reactExports.useRef(et),st=useEventCallback(tt);reactExports.useEffect(()=>{et?ot.current=!0:st(it.current)},[et,st]);const ut=useMergedRefs(it,_e.ref),ft=reactExports.cloneElement(_e,{ref:ut});return et?ft:rt||!ot.current&&nt?null:ft}function isEscKey(_e){return _e.code==="Escape"||_e.keyCode===27}function getReactVersion(){const _e=reactExports.version.split(".");return{major:+_e[0],minor:+_e[1],patch:+_e[2]}}const _excluded$5=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function _objectWithoutPropertiesLoose$5(_e,et){if(_e==null)return{};var tt={},nt=Object.keys(_e),rt,it;for(it=0;it<nt.length;it++)rt=nt[it],!(et.indexOf(rt)>=0)&&(tt[rt]=_e[rt]);return tt}function useRTGTransitionProps(_e){let{onEnter:et,onEntering:tt,onEntered:nt,onExit:rt,onExiting:it,onExited:ot,addEndListener:st,children:ut}=_e,ft=_objectWithoutPropertiesLoose$5(_e,_excluded$5);const{major:dt}=getReactVersion(),lt=dt>=19?ut.props.ref:ut.ref,at=reactExports.useRef(null),ct=useMergedRefs(at,typeof ut=="function"?null:lt),ht=wt=>_t=>{wt&&at.current&&wt(at.current,_t)},pt=reactExports.useCallback(ht(et),[et]),mt=reactExports.useCallback(ht(tt),[tt]),gt=reactExports.useCallback(ht(nt),[nt]),yt=reactExports.useCallback(ht(rt),[rt]),bt=reactExports.useCallback(ht(it),[it]),xt=reactExports.useCallback(ht(ot),[ot]),vt=reactExports.useCallback(ht(st),[st]);return Object.assign({},ft,{nodeRef:at},et&&{onEnter:pt},tt&&{onEntering:mt},nt&&{onEntered:gt},rt&&{onExit:yt},it&&{onExiting:bt},ot&&{onExited:xt},st&&{addEndListener:vt},{children:typeof ut=="function"?(wt,_t)=>ut(wt,Object.assign({},_t,{ref:ct})):reactExports.cloneElement(ut,{ref:ct})})}const _excluded$4=["component"];function _objectWithoutPropertiesLoose$4(_e,et){if(_e==null)return{};var tt={},nt=Object.keys(_e),rt,it;for(it=0;it<nt.length;it++)rt=nt[it],!(et.indexOf(rt)>=0)&&(tt[rt]=_e[rt]);return tt}const RTGTransition=reactExports.forwardRef((_e,et)=>{let{component:tt}=_e,nt=_objectWithoutPropertiesLoose$4(_e,_excluded$4);const rt=useRTGTransitionProps(nt);return jsxRuntimeExports.jsx(tt,Object.assign({ref:et},rt))});function useTransition({in:_e,onTransition:et}){const tt=reactExports.useRef(null),nt=reactExports.useRef(!0),rt=useEventCallback(et);return useIsomorphicEffect(()=>{if(!tt.current)return;let it=!1;return rt({in:_e,element:tt.current,initial:nt.current,isStale:()=>it}),()=>{it=!0}},[_e,rt]),useIsomorphicEffect(()=>(nt.current=!1,()=>{nt.current=!0}),[]),tt}function ImperativeTransition({children:_e,in:et,onExited:tt,onEntered:nt,transition:rt}){const[it,ot]=reactExports.useState(!et);et&&it&&ot(!1);const st=useTransition({in:!!et,onTransition:ft=>{const dt=()=>{ft.isStale()||(ft.in?nt==null||nt(ft.element,ft.initial):(ot(!0),tt==null||tt(ft.element)))};Promise.resolve(rt(ft)).then(dt,lt=>{throw ft.in||ot(!0),lt})}}),ut=useMergedRefs(st,_e.ref);return it&&!et?null:reactExports.cloneElement(_e,{ref:ut})}function renderTransition(_e,et,tt){return _e?jsxRuntimeExports.jsx(RTGTransition,Object.assign({},tt,{component:_e})):et?jsxRuntimeExports.jsx(ImperativeTransition,Object.assign({},tt,{transition:et})):jsxRuntimeExports.jsx(NoopTransition,Object.assign({},tt))}const _excluded$3=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function _objectWithoutPropertiesLoose$3(_e,et){if(_e==null)return{};var tt={},nt=Object.keys(_e),rt,it;for(it=0;it<nt.length;it++)rt=nt[it],!(et.indexOf(rt)>=0)&&(tt[rt]=_e[rt]);return tt}let manager;function getManager(_e){return manager||(manager=new ModalManager({ownerDocument:_e==null?void 0:_e.document})),manager}function useModalManager(_e){const et=useWindow(),tt=_e||getManager(et),nt=reactExports.useRef({dialog:null,backdrop:null});return Object.assign(nt.current,{add:()=>tt.add(nt.current),remove:()=>tt.remove(nt.current),isTopModal:()=>tt.isTopModal(nt.current),setDialogRef:reactExports.useCallback(rt=>{nt.current.dialog=rt},[]),setBackdropRef:reactExports.useCallback(rt=>{nt.current.backdrop=rt},[])})}const Modal$3=reactExports.forwardRef((_e,et)=>{let{show:tt=!1,role:nt="dialog",className:rt,style:it,children:ot,backdrop:st=!0,keyboard:ut=!0,onBackdropClick:ft,onEscapeKeyDown:dt,transition:lt,runTransition:at,backdropTransition:ct,runBackdropTransition:ht,autoFocus:pt=!0,enforceFocus:mt=!0,restoreFocus:gt=!0,restoreFocusOptions:yt,renderDialog:bt,renderBackdrop:xt=vn=>jsxRuntimeExports.jsx("div",Object.assign({},vn)),manager:vt,container:wt,onShow:_t,onHide:Ct=()=>{},onExit:Et,onExited:$t,onExiting:jt,onEnter:Dt,onEntering:Pt,onEntered:kt}=_e,At=_objectWithoutPropertiesLoose$3(_e,_excluded$3);const Tt=useWindow(),St=useWaitForDOMRef(wt),Rt=useModalManager(vt),Ot=useMounted(),Nt=usePrevious(tt),[It,Bt]=reactExports.useState(!tt),zt=reactExports.useRef(null);reactExports.useImperativeHandle(et,()=>Rt,[Rt]),canUseDOM&&!Nt&&tt&&(zt.current=activeElement(Tt==null?void 0:Tt.document)),tt&&It&&Bt(!1);const Gt=useEventCallback(()=>{if(Rt.add(),Vt.current=listen(document,"keydown",Wt),rn.current=listen(document,"focus",()=>setTimeout(fn),!0),_t&&_t(),pt){var vn,gn;const Cn=activeElement((vn=(gn=Rt.dialog)==null?void 0:gn.ownerDocument)!=null?vn:Tt==null?void 0:Tt.document);Rt.dialog&&Cn&&!contains(Rt.dialog,Cn)&&(zt.current=Cn,Rt.dialog.focus())}}),Kt=useEventCallback(()=>{if(Rt.remove(),Vt.current==null||Vt.current(),rn.current==null||rn.current(),gt){var vn;(vn=zt.current)==null||vn.focus==null||vn.focus(yt),zt.current=null}});reactExports.useEffect(()=>{!tt||!St||Gt()},[tt,St,Gt]),reactExports.useEffect(()=>{It&&Kt()},[It,Kt]),useWillUnmount(()=>{Kt()});const fn=useEventCallback(()=>{if(!mt||!Ot()||!Rt.isTopModal())return;const vn=activeElement(Tt==null?void 0:Tt.document);Rt.dialog&&vn&&!contains(Rt.dialog,vn)&&Rt.dialog.focus()}),dn=useEventCallback(vn=>{vn.target===vn.currentTarget&&(ft==null||ft(vn),st===!0&&Ct())}),Wt=useEventCallback(vn=>{ut&&isEscKey(vn)&&Rt.isTopModal()&&(dt==null||dt(vn),vn.defaultPrevented||Ct())}),rn=reactExports.useRef(),Vt=reactExports.useRef(),an=(...vn)=>{Bt(!0),$t==null||$t(...vn)};if(!St)return null;const Qt=Object.assign({role:nt,ref:Rt.setDialogRef,"aria-modal":nt==="dialog"?!0:void 0},At,{style:it,className:rt,tabIndex:-1});let Zt=bt?bt(Qt):jsxRuntimeExports.jsx("div",Object.assign({},Qt,{children:reactExports.cloneElement(ot,{role:"document"})}));Zt=renderTransition(lt,at,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!tt,onExit:Et,onExiting:jt,onExited:an,onEnter:Dt,onEntering:Pt,onEntered:kt,children:Zt});let xn=null;return st&&(xn=xt({ref:Rt.setBackdropRef,onClick:dn}),xn=renderTransition(ct,ht,{in:!!tt,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:xn})),jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:ReactDOM.createPortal(jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[xn,Zt]}),St)})});Modal$3.displayName="Modal";const BaseModal=Object.assign(Modal$3,{Manager:ModalManager});function hasClass(_e,et){return _e.classList?!!et&&_e.classList.contains(et):(" "+(_e.className.baseVal||_e.className)+" ").indexOf(" "+et+" ")!==-1}function addClass(_e,et){_e.classList?_e.classList.add(et):hasClass(_e,et)||(typeof _e.className=="string"?_e.className=_e.className+" "+et:_e.setAttribute("class",(_e.className&&_e.className.baseVal||"")+" "+et))}function replaceClassName(_e,et){return _e.replace(new RegExp("(^|\\s)"+et+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function removeClass(_e,et){_e.classList?_e.classList.remove(et):typeof _e.className=="string"?_e.className=replaceClassName(_e.className,et):_e.setAttribute("class",replaceClassName(_e.className&&_e.className.baseVal||"",et))}const Selector={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class BootstrapModalManager extends ModalManager{adjustAndStore(et,tt,nt){const rt=tt.style[et];tt.dataset[et]=rt,style(tt,{[et]:`${parseFloat(style(tt,et))+nt}px`})}restore(et,tt){const nt=tt.dataset[et];nt!==void 0&&(delete tt.dataset[et],style(tt,{[et]:nt}))}setContainerStyle(et){super.setContainerStyle(et);const tt=this.getElement();if(addClass(tt,"modal-open"),!et.scrollBarWidth)return;const nt=this.isRTL?"paddingLeft":"paddingRight",rt=this.isRTL?"marginLeft":"marginRight";qsa(tt,Selector.FIXED_CONTENT).forEach(it=>this.adjustAndStore(nt,it,et.scrollBarWidth)),qsa(tt,Selector.STICKY_CONTENT).forEach(it=>this.adjustAndStore(rt,it,-et.scrollBarWidth)),qsa(tt,Selector.NAVBAR_TOGGLER).forEach(it=>this.adjustAndStore(rt,it,et.scrollBarWidth))}removeContainerStyle(et){super.removeContainerStyle(et);const tt=this.getElement();removeClass(tt,"modal-open");const nt=this.isRTL?"paddingLeft":"paddingRight",rt=this.isRTL?"marginLeft":"marginRight";qsa(tt,Selector.FIXED_CONTENT).forEach(it=>this.restore(nt,it)),qsa(tt,Selector.STICKY_CONTENT).forEach(it=>this.restore(rt,it)),qsa(tt,Selector.NAVBAR_TOGGLER).forEach(it=>this.restore(rt,it))}}let sharedManager;function getSharedManager(_e){return sharedManager||(sharedManager=new BootstrapModalManager(_e)),sharedManager}const ModalBody=reactExports.forwardRef(({className:_e,bsPrefix:et,as:tt="div",...nt},rt)=>(et=useBootstrapPrefix(et,"modal-body"),jsxRuntimeExports.jsx(tt,{ref:rt,className:classNames(_e,et),...nt})));ModalBody.displayName="ModalBody";const ModalContext=reactExports.createContext({onHide(){}}),ModalDialog=reactExports.forwardRef(({bsPrefix:_e,className:et,contentClassName:tt,centered:nt,size:rt,fullscreen:it,children:ot,scrollable:st,...ut},ft)=>{_e=useBootstrapPrefix(_e,"modal");const dt=`${_e}-dialog`,lt=typeof it=="string"?`${_e}-fullscreen-${it}`:`${_e}-fullscreen`;return jsxRuntimeExports.jsx("div",{...ut,ref:ft,className:classNames(dt,et,rt&&`${_e}-${rt}`,nt&&`${dt}-centered`,st&&`${dt}-scrollable`,it&&lt),children:jsxRuntimeExports.jsx("div",{className:classNames(`${_e}-content`,tt),children:ot})})});ModalDialog.displayName="ModalDialog";const ModalFooter=reactExports.forwardRef(({className:_e,bsPrefix:et,as:tt="div",...nt},rt)=>(et=useBootstrapPrefix(et,"modal-footer"),jsxRuntimeExports.jsx(tt,{ref:rt,className:classNames(_e,et),...nt})));ModalFooter.displayName="ModalFooter";const AbstractModalHeader=reactExports.forwardRef(({closeLabel:_e="Close",closeVariant:et,closeButton:tt=!1,onHide:nt,children:rt,...it},ot)=>{const st=reactExports.useContext(ModalContext),ut=useEventCallback(()=>{st==null||st.onHide(),nt==null||nt()});return jsxRuntimeExports.jsxs("div",{ref:ot,...it,children:[rt,tt&&jsxRuntimeExports.jsx(CloseButton,{"aria-label":_e,variant:et,onClick:ut})]})}),ModalHeader=reactExports.forwardRef(({bsPrefix:_e,className:et,closeLabel:tt="Close",closeButton:nt=!1,...rt},it)=>(_e=useBootstrapPrefix(_e,"modal-header"),jsxRuntimeExports.jsx(AbstractModalHeader,{ref:it,...rt,className:classNames(et,_e),closeLabel:tt,closeButton:nt})));ModalHeader.displayName="ModalHeader";const DivStyledAsH4=divWithClassName("h4"),ModalTitle=reactExports.forwardRef(({className:_e,bsPrefix:et,as:tt=DivStyledAsH4,...nt},rt)=>(et=useBootstrapPrefix(et,"modal-title"),jsxRuntimeExports.jsx(tt,{ref:rt,className:classNames(_e,et),...nt})));ModalTitle.displayName="ModalTitle";function DialogTransition$1(_e){return jsxRuntimeExports.jsx(Fade,{..._e,timeout:null})}function BackdropTransition$1(_e){return jsxRuntimeExports.jsx(Fade,{..._e,timeout:null})}const Modal$1=reactExports.forwardRef(({bsPrefix:_e,className:et,style:tt,dialogClassName:nt,contentClassName:rt,children:it,dialogAs:ot=ModalDialog,"data-bs-theme":st,"aria-labelledby":ut,"aria-describedby":ft,"aria-label":dt,show:lt=!1,animation:at=!0,backdrop:ct=!0,keyboard:ht=!0,onEscapeKeyDown:pt,onShow:mt,onHide:gt,container:yt,autoFocus:bt=!0,enforceFocus:xt=!0,restoreFocus:vt=!0,restoreFocusOptions:wt,onEntered:_t,onExit:Ct,onExiting:Et,onEnter:$t,onEntering:jt,onExited:Dt,backdropClassName:Pt,manager:kt,...At},Tt)=>{const[St,Rt]=reactExports.useState({}),[Ot,Nt]=reactExports.useState(!1),It=reactExports.useRef(!1),Bt=reactExports.useRef(!1),zt=reactExports.useRef(null),[Gt,Kt]=useCallbackRef(),fn=useMergedRefs(Tt,Kt),dn=useEventCallback(gt),Wt=useIsRTL();_e=useBootstrapPrefix(_e,"modal");const rn=reactExports.useMemo(()=>({onHide:dn}),[dn]);function Vt(){return kt||getSharedManager({isRTL:Wt})}function an(wn){if(!canUseDOM)return;const qn=Vt().getScrollbarWidth()>0,or=wn.scrollHeight>ownerDocument(wn).documentElement.clientHeight;Rt({paddingRight:qn&&!or?scrollbarSize():void 0,paddingLeft:!qn&&or?scrollbarSize():void 0})}const Qt=useEventCallback(()=>{Gt&&an(Gt.dialog)});useWillUnmount(()=>{removeEventListener(window,"resize",Qt),zt.current==null||zt.current()});const Zt=()=>{It.current=!0},xn=wn=>{It.current&&Gt&&wn.target===Gt.dialog&&(Bt.current=!0),It.current=!1},vn=()=>{Nt(!0),zt.current=transitionEnd(Gt.dialog,()=>{Nt(!1)})},gn=wn=>{wn.target===wn.currentTarget&&vn()},Cn=wn=>{if(ct==="static"){gn(wn);return}if(Bt.current||wn.target!==wn.currentTarget){Bt.current=!1;return}gt==null||gt()},kn=wn=>{ht?pt==null||pt(wn):(wn.preventDefault(),ct==="static"&&vn())},En=(wn,qn)=>{wn&&an(wn),$t==null||$t(wn,qn)},sn=wn=>{zt.current==null||zt.current(),Ct==null||Ct(wn)},On=(wn,qn)=>{jt==null||jt(wn,qn),addEventListener(window,"resize",Qt)},Tn=wn=>{wn&&(wn.style.display=""),Dt==null||Dt(wn),removeEventListener(window,"resize",Qt)},bn=reactExports.useCallback(wn=>jsxRuntimeExports.jsx("div",{...wn,className:classNames(`${_e}-backdrop`,Pt,!at&&"show")}),[at,Pt,_e]),Dn={...tt,...St};Dn.display="block";const Nn=wn=>jsxRuntimeExports.jsx("div",{role:"dialog",...wn,style:Dn,className:classNames(et,_e,Ot&&`${_e}-static`,!at&&"show"),onClick:ct?Cn:void 0,onMouseUp:xn,"data-bs-theme":st,"aria-label":dt,"aria-labelledby":ut,"aria-describedby":ft,children:jsxRuntimeExports.jsx(ot,{...At,onMouseDown:Zt,className:nt,contentClassName:rt,children:it})});return jsxRuntimeExports.jsx(ModalContext.Provider,{value:rn,children:jsxRuntimeExports.jsx(BaseModal,{show:lt,ref:fn,backdrop:ct,container:yt,keyboard:!0,autoFocus:bt,enforceFocus:xt,restoreFocus:vt,restoreFocusOptions:wt,onEscapeKeyDown:kn,onShow:mt,onHide:gt,onEnter:En,onEntering:On,onEntered:_t,onExit:sn,onExiting:Et,onExited:Tn,manager:Vt(),transition:at?DialogTransition$1:void 0,backdropTransition:at?BackdropTransition$1:void 0,renderBackdrop:bn,renderDialog:Nn})})});Modal$1.displayName="Modal";const Modal$2=Object.assign(Modal$1,{Body:ModalBody,Header:ModalHeader,Title:ModalTitle,Footer:ModalFooter,Dialog:ModalDialog,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150});var all$3={exports:{}},createChainableTypeChecker={exports:{}};(function(_e,et){Object.defineProperty(et,"__esModule",{value:!0}),et.default=tt;function tt(nt){function rt(ot,st,ut,ft,dt,lt){var at=ft||"<<anonymous>>",ct=lt||ut;if(st[ut]==null)return ot?new Error("Required "+dt+" `"+ct+"` was not specified "+("in `"+at+"`.")):null;for(var ht=arguments.length,pt=Array(ht>6?ht-6:0),mt=6;mt<ht;mt++)pt[mt-6]=arguments[mt];return nt.apply(void 0,[st,ut,at,dt,ct].concat(pt))}var it=rt.bind(null,!1);return it.isRequired=rt.bind(null,!0),it}_e.exports=et.default})(createChainableTypeChecker,createChainableTypeChecker.exports);var createChainableTypeCheckerExports=createChainableTypeChecker.exports;(function(_e,et){Object.defineProperty(et,"__esModule",{value:!0}),et.default=it;var tt=createChainableTypeCheckerExports,nt=rt(tt);function rt(ot){return ot&&ot.__esModule?ot:{default:ot}}function it(){for(var ot=arguments.length,st=Array(ot),ut=0;ut<ot;ut++)st[ut]=arguments[ut];function ft(){for(var dt=arguments.length,lt=Array(dt),at=0;at<dt;at++)lt[at]=arguments[at];var ct=null;return st.forEach(function(ht){if(ct==null){var pt=ht.apply(void 0,lt);pt!=null&&(ct=pt)}}),ct}return(0,nt.default)(ft)}_e.exports=et.default})(all$3,all$3.exports);const NavItem=reactExports.forwardRef(({className:_e,bsPrefix:et,as:tt="div",...nt},rt)=>(et=useBootstrapPrefix(et,"nav-item"),jsxRuntimeExports.jsx(tt,{ref:rt,className:classNames(_e,et),...nt})));NavItem.displayName="NavItem";const NavLink=reactExports.forwardRef(({bsPrefix:_e,className:et,as:tt=Anchor,active:nt,eventKey:rt,disabled:it=!1,...ot},st)=>{_e=useBootstrapPrefix(_e,"nav-link");const[ut,ft]=useNavItem({key:makeEventKey(rt,ot.href),active:nt,disabled:it,...ot});return jsxRuntimeExports.jsx(tt,{...ot,...ut,ref:st,disabled:it,className:classNames(et,_e,it&&"disabled",ft.isActive&&"active")})});NavLink.displayName="NavLink";const Nav=reactExports.forwardRef((_e,et)=>{const{as:tt="div",bsPrefix:nt,variant:rt,fill:it=!1,justify:ot=!1,navbar:st,navbarScroll:ut,className:ft,activeKey:dt,...lt}=useUncontrolled(_e,{activeKey:"onSelect"}),at=useBootstrapPrefix(nt,"nav");let ct,ht,pt=!1;const mt=reactExports.useContext(context),gt=reactExports.useContext(context$2);return mt?(ct=mt.bsPrefix,pt=st??!0):gt&&({cardHeaderBsPrefix:ht}=gt),jsxRuntimeExports.jsx(BaseNav,{as:tt,ref:et,activeKey:dt,className:classNames(ft,{[at]:!pt,[`${ct}-nav`]:pt,[`${ct}-nav-scroll`]:pt&&ut,[`${ht}-${rt}`]:!!ht,[`${at}-${rt}`]:!!rt,[`${at}-fill`]:it,[`${at}-justified`]:ot}),...lt})});Nav.displayName="Nav";const Nav$1=Object.assign(Nav,{Item:NavItem,Link:NavLink}),NavbarBrand=reactExports.forwardRef(({bsPrefix:_e,className:et,as:tt,...nt},rt)=>{_e=useBootstrapPrefix(_e,"navbar-brand");const it=tt||(nt.href?"a":"span");return jsxRuntimeExports.jsx(it,{...nt,ref:rt,className:classNames(et,_e)})});NavbarBrand.displayName="NavbarBrand";const NavbarCollapse=reactExports.forwardRef(({children:_e,bsPrefix:et,...tt},nt)=>{et=useBootstrapPrefix(et,"navbar-collapse");const rt=reactExports.useContext(context);return jsxRuntimeExports.jsx(Collapse,{in:!!(rt&&rt.expanded),...tt,children:jsxRuntimeExports.jsx("div",{ref:nt,className:et,children:_e})})});NavbarCollapse.displayName="NavbarCollapse";const NavbarToggle=reactExports.forwardRef(({bsPrefix:_e,className:et,children:tt,label:nt="Toggle navigation",as:rt="button",onClick:it,...ot},st)=>{_e=useBootstrapPrefix(_e,"navbar-toggler");const{onToggle:ut,expanded:ft}=reactExports.useContext(context)||{},dt=useEventCallback(lt=>{it&&it(lt),ut&&ut()});return rt==="button"&&(ot.type="button"),jsxRuntimeExports.jsx(rt,{...ot,ref:st,onClick:dt,"aria-label":nt,className:classNames(et,_e,!ft&&"collapsed"),children:tt||jsxRuntimeExports.jsx("span",{className:`${_e}-icon`})})});NavbarToggle.displayName="NavbarToggle";const matchersByWindow=new WeakMap,getMatcher=(_e,et)=>{if(!_e||!et)return;const tt=matchersByWindow.get(et)||new Map;matchersByWindow.set(et,tt);let nt=tt.get(_e);return nt||(nt=et.matchMedia(_e),nt.refCount=0,tt.set(nt.media,nt)),nt};function useMediaQuery(_e,et=typeof window>"u"?void 0:window){const tt=getMatcher(_e,et),[nt,rt]=reactExports.useState(()=>tt?tt.matches:!1);return useIsomorphicEffect(()=>{let it=getMatcher(_e,et);if(!it)return rt(!1);let ot=matchersByWindow.get(et);const st=()=>{rt(it.matches)};return it.refCount++,it.addListener(st),st(),()=>{it.removeListener(st),it.refCount--,it.refCount<=0&&(ot==null||ot.delete(it.media)),it=void 0}},[_e]),nt}function createBreakpointHook(_e){const et=Object.keys(_e);function tt(st,ut){return st===ut?ut:st?`${st} and ${ut}`:ut}function nt(st){return et[Math.min(et.indexOf(st)+1,et.length-1)]}function rt(st){const ut=nt(st);let ft=_e[ut];return typeof ft=="number"?ft=`${ft-.2}px`:ft=`calc(${ft} - 0.2px)`,`(max-width: ${ft})`}function it(st){let ut=_e[st];return typeof ut=="number"&&(ut=`${ut}px`),`(min-width: ${ut})`}function ot(st,ut,ft){let dt;typeof st=="object"?(dt=st,ft=ut,ut=!0):(ut=ut||!0,dt={[st]:ut});let lt=reactExports.useMemo(()=>Object.entries(dt).reduce((at,[ct,ht])=>((ht==="up"||ht===!0)&&(at=tt(at,it(ct))),(ht==="down"||ht===!0)&&(at=tt(at,rt(ct))),at),""),[JSON.stringify(dt)]);return useMediaQuery(lt,ft)}return ot}const useBreakpoint=createBreakpointHook({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),OffcanvasBody=reactExports.forwardRef(({className:_e,bsPrefix:et,as:tt="div",...nt},rt)=>(et=useBootstrapPrefix(et,"offcanvas-body"),jsxRuntimeExports.jsx(tt,{ref:rt,className:classNames(_e,et),...nt})));OffcanvasBody.displayName="OffcanvasBody";const transitionStyles={[ENTERING]:"show",[ENTERED]:"show"},OffcanvasToggling=reactExports.forwardRef(({bsPrefix:_e,className:et,children:tt,in:nt=!1,mountOnEnter:rt=!1,unmountOnExit:it=!1,appear:ot=!1,...st},ut)=>(_e=useBootstrapPrefix(_e,"offcanvas"),jsxRuntimeExports.jsx(TransitionWrapper,{ref:ut,addEndListener:transitionEndListener,in:nt,mountOnEnter:rt,unmountOnExit:it,appear:ot,...st,childRef:tt.ref,children:(ft,dt)=>reactExports.cloneElement(tt,{...dt,className:classNames(et,tt.props.className,(ft===ENTERING||ft===EXITING)&&`${_e}-toggling`,transitionStyles[ft])})})));OffcanvasToggling.displayName="OffcanvasToggling";const OffcanvasHeader=reactExports.forwardRef(({bsPrefix:_e,className:et,closeLabel:tt="Close",closeButton:nt=!1,...rt},it)=>(_e=useBootstrapPrefix(_e,"offcanvas-header"),jsxRuntimeExports.jsx(AbstractModalHeader,{ref:it,...rt,className:classNames(et,_e),closeLabel:tt,closeButton:nt})));OffcanvasHeader.displayName="OffcanvasHeader";const DivStyledAsH5=divWithClassName("h5"),OffcanvasTitle=reactExports.forwardRef(({className:_e,bsPrefix:et,as:tt=DivStyledAsH5,...nt},rt)=>(et=useBootstrapPrefix(et,"offcanvas-title"),jsxRuntimeExports.jsx(tt,{ref:rt,className:classNames(_e,et),...nt})));OffcanvasTitle.displayName="OffcanvasTitle";function DialogTransition(_e){return jsxRuntimeExports.jsx(OffcanvasToggling,{..._e})}function BackdropTransition(_e){return jsxRuntimeExports.jsx(Fade,{..._e})}const Offcanvas=reactExports.forwardRef(({bsPrefix:_e,className:et,children:tt,"aria-labelledby":nt,placement:rt="start",responsive:it,show:ot=!1,backdrop:st=!0,keyboard:ut=!0,scroll:ft=!1,onEscapeKeyDown:dt,onShow:lt,onHide:at,container:ct,autoFocus:ht=!0,enforceFocus:pt=!0,restoreFocus:mt=!0,restoreFocusOptions:gt,onEntered:yt,onExit:bt,onExiting:xt,onEnter:vt,onEntering:wt,onExited:_t,backdropClassName:Ct,manager:Et,renderStaticNode:$t=!1,...jt},Dt)=>{const Pt=reactExports.useRef();_e=useBootstrapPrefix(_e,"offcanvas");const{onToggle:kt}=reactExports.useContext(context)||{},[At,Tt]=reactExports.useState(!1),St=useBreakpoint(it||"xs","up");reactExports.useEffect(()=>{Tt(it?ot&&!St:ot)},[ot,it,St]);const Rt=useEventCallback(()=>{kt==null||kt(),at==null||at()}),Ot=reactExports.useMemo(()=>({onHide:Rt}),[Rt]);function Nt(){return Et||(ft?(Pt.current||(Pt.current=new BootstrapModalManager({handleContainerOverflow:!1})),Pt.current):getSharedManager())}const It=(Kt,...fn)=>{Kt&&(Kt.style.visibility="visible"),vt==null||vt(Kt,...fn)},Bt=(Kt,...fn)=>{Kt&&(Kt.style.visibility=""),_t==null||_t(...fn)},zt=reactExports.useCallback(Kt=>jsxRuntimeExports.jsx("div",{...Kt,className:classNames(`${_e}-backdrop`,Ct)}),[Ct,_e]),Gt=Kt=>jsxRuntimeExports.jsx("div",{...Kt,...jt,className:classNames(et,it?`${_e}-${it}`:_e,`${_e}-${rt}`),"aria-labelledby":nt,children:tt});return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[!At&&(it||$t)&&Gt({}),jsxRuntimeExports.jsx(ModalContext.Provider,{value:Ot,children:jsxRuntimeExports.jsx(BaseModal,{show:At,ref:Dt,backdrop:st,container:ct,keyboard:ut,autoFocus:ht,enforceFocus:pt&&!ft,restoreFocus:mt,restoreFocusOptions:gt,onEscapeKeyDown:dt,onShow:lt,onHide:Rt,onEnter:It,onEntering:wt,onEntered:yt,onExit:bt,onExiting:xt,onExited:Bt,manager:Nt(),transition:DialogTransition,backdropTransition:BackdropTransition,renderBackdrop:zt,renderDialog:Gt})})]})});Offcanvas.displayName="Offcanvas";const Offcanvas$1=Object.assign(Offcanvas,{Body:OffcanvasBody,Header:OffcanvasHeader,Title:OffcanvasTitle}),NavbarOffcanvas=reactExports.forwardRef((_e,et)=>{const tt=reactExports.useContext(context);return jsxRuntimeExports.jsx(Offcanvas$1,{ref:et,show:!!(tt!=null&&tt.expanded),..._e,renderStaticNode:!0})});NavbarOffcanvas.displayName="NavbarOffcanvas";const NavbarText=reactExports.forwardRef(({className:_e,bsPrefix:et,as:tt="span",...nt},rt)=>(et=useBootstrapPrefix(et,"navbar-text"),jsxRuntimeExports.jsx(tt,{ref:rt,className:classNames(_e,et),...nt})));NavbarText.displayName="NavbarText";const Navbar=reactExports.forwardRef((_e,et)=>{const{bsPrefix:tt,expand:nt=!0,variant:rt="light",bg:it,fixed:ot,sticky:st,className:ut,as:ft="nav",expanded:dt,onToggle:lt,onSelect:at,collapseOnSelect:ct=!1,...ht}=useUncontrolled(_e,{expanded:"onToggle"}),pt=useBootstrapPrefix(tt,"navbar"),mt=reactExports.useCallback((...bt)=>{at==null||at(...bt),ct&&dt&&(lt==null||lt(!1))},[at,ct,dt,lt]);ht.role===void 0&&ft!=="nav"&&(ht.role="navigation");let gt=`${pt}-expand`;typeof nt=="string"&&(gt=`${gt}-${nt}`);const yt=reactExports.useMemo(()=>({onToggle:()=>lt==null?void 0:lt(!dt),bsPrefix:pt,expanded:!!dt,expand:nt}),[pt,dt,nt,lt]);return jsxRuntimeExports.jsx(context.Provider,{value:yt,children:jsxRuntimeExports.jsx(SelectableContext$1.Provider,{value:mt,children:jsxRuntimeExports.jsx(ft,{ref:et,...ht,className:classNames(ut,pt,nt&&gt,rt&&`${pt}-${rt}`,it&&`bg-${it}`,st&&`sticky-${st}`,ot&&`fixed-${ot}`)})})})});Navbar.displayName="Navbar";const Navbar$1=Object.assign(Navbar,{Brand:NavbarBrand,Collapse:NavbarCollapse,Offcanvas:NavbarOffcanvas,Text:NavbarText,Toggle:NavbarToggle}),NavDropdown=reactExports.forwardRef(({id:_e,title:et,children:tt,bsPrefix:nt,className:rt,rootCloseEvent:it,menuRole:ot,disabled:st,active:ut,renderMenuOnMount:ft,menuVariant:dt,...lt},at)=>{const ct=useBootstrapPrefix(void 0,"nav-item");return jsxRuntimeExports.jsxs(Dropdown$1,{ref:at,...lt,className:classNames(rt,ct),children:[jsxRuntimeExports.jsx(Dropdown$1.Toggle,{id:_e,eventKey:null,active:ut,disabled:st,childBsPrefix:nt,as:NavLink,children:et}),jsxRuntimeExports.jsx(Dropdown$1.Menu,{role:ot,renderOnMount:ft,rootCloseEvent:it,variant:dt,children:tt})]})});NavDropdown.displayName="NavDropdown";const NavDropdown$1=Object.assign(NavDropdown,{Item:Dropdown$1.Item,ItemText:Dropdown$1.ItemText,Divider:Dropdown$1.Divider,Header:Dropdown$1.Header}),noop$5=()=>{};function useRootClose(_e,et,{disabled:tt,clickTrigger:nt}={}){const rt=et||noop$5;useClickOutside(_e,rt,{disabled:tt,clickTrigger:nt});const it=useEventCallback(ot=>{isEscKey(ot)&&rt(ot)});reactExports.useEffect(()=>{if(tt||_e==null)return;const ot=ownerDocument(getRefTarget(_e));let st=(ot.defaultView||window).event;const ut=listen(ot,"keyup",ft=>{if(ft===st){st=void 0;return}it(ft)});return()=>{ut()}},[_e,tt,it])}const Overlay$1=reactExports.forwardRef((_e,et)=>{const{flip:tt,offset:nt,placement:rt,containerPadding:it,popperConfig:ot={},transition:st,runTransition:ut}=_e,[ft,dt]=useCallbackRef(),[lt,at]=useCallbackRef(),ct=useMergedRefs(dt,et),ht=useWaitForDOMRef(_e.container),pt=useWaitForDOMRef(_e.target),[mt,gt]=reactExports.useState(!_e.show),yt=usePopper(pt,ft,mergeOptionsWithPopperConfig({placement:rt,enableEvents:!!_e.show,containerPadding:it||5,flip:tt,offset:nt,arrowElement:lt,popperConfig:ot}));_e.show&&mt&&gt(!1);const bt=(...jt)=>{gt(!0),_e.onExited&&_e.onExited(...jt)},xt=_e.show||!mt;if(useRootClose(ft,_e.onHide,{disabled:!_e.rootClose||_e.rootCloseDisabled,clickTrigger:_e.rootCloseEvent}),!xt)return null;const{onExit:vt,onExiting:wt,onEnter:_t,onEntering:Ct,onEntered:Et}=_e;let $t=_e.children(Object.assign({},yt.attributes.popper,{style:yt.styles.popper,ref:ct}),{popper:yt,placement:rt,show:!!_e.show,arrowProps:Object.assign({},yt.attributes.arrow,{style:yt.styles.arrow,ref:at})});return $t=renderTransition(st,ut,{in:!!_e.show,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:$t,onExit:vt,onExiting:wt,onExited:bt,onEnter:_t,onEntering:Ct,onEntered:Et}),ht?ReactDOM.createPortal($t,ht):null});Overlay$1.displayName="Overlay";const PopoverHeader=reactExports.forwardRef(({className:_e,bsPrefix:et,as:tt="div",...nt},rt)=>(et=useBootstrapPrefix(et,"popover-header"),jsxRuntimeExports.jsx(tt,{ref:rt,className:classNames(_e,et),...nt})));PopoverHeader.displayName="PopoverHeader";const PopoverBody=reactExports.forwardRef(({className:_e,bsPrefix:et,as:tt="div",...nt},rt)=>(et=useBootstrapPrefix(et,"popover-body"),jsxRuntimeExports.jsx(tt,{ref:rt,className:classNames(_e,et),...nt})));PopoverBody.displayName="PopoverBody";function getOverlayDirection(_e,et){let tt=_e;return _e==="left"?tt=et?"end":"start":_e==="right"&&(tt=et?"start":"end"),tt}function getInitialPopperStyles(_e="absolute"){return{position:_e,top:"0",left:"0",opacity:"0",pointerEvents:"none"}}const Popover=reactExports.forwardRef(({bsPrefix:_e,placement:et="right",className:tt,style:nt,children:rt,body:it,arrowProps:ot,hasDoneInitialMeasure:st,popper:ut,show:ft,...dt},lt)=>{const at=useBootstrapPrefix(_e,"popover"),ct=useIsRTL(),[ht]=(et==null?void 0:et.split("-"))||[],pt=getOverlayDirection(ht,ct);let mt=nt;return ft&&!st&&(mt={...nt,...getInitialPopperStyles(ut==null?void 0:ut.strategy)}),jsxRuntimeExports.jsxs("div",{ref:lt,role:"tooltip",style:mt,"x-placement":ht,className:classNames(tt,at,ht&&`bs-popover-${pt}`),...dt,children:[jsxRuntimeExports.jsx("div",{className:"popover-arrow",...ot}),it?jsxRuntimeExports.jsx(PopoverBody,{children:rt}):rt]})}),Popover$1=Object.assign(Popover,{Header:PopoverHeader,Body:PopoverBody,POPPER_OFFSET:[0,8]}),Tooltip=reactExports.forwardRef(({bsPrefix:_e,placement:et="right",className:tt,style:nt,children:rt,arrowProps:it,hasDoneInitialMeasure:ot,popper:st,show:ut,...ft},dt)=>{_e=useBootstrapPrefix(_e,"tooltip");const lt=useIsRTL(),[at]=(et==null?void 0:et.split("-"))||[],ct=getOverlayDirection(at,lt);let ht=nt;return ut&&!ot&&(ht={...nt,...getInitialPopperStyles(st==null?void 0:st.strategy)}),jsxRuntimeExports.jsxs("div",{ref:dt,style:ht,role:"tooltip","x-placement":at,className:classNames(tt,_e,`bs-tooltip-${ct}`),...ft,children:[jsxRuntimeExports.jsx("div",{className:"tooltip-arrow",...it}),jsxRuntimeExports.jsx("div",{className:`${_e}-inner`,children:rt})]})});Tooltip.displayName="Tooltip";const Tooltip$1=Object.assign(Tooltip,{TOOLTIP_OFFSET:[0,6]});function useOverlayOffset(_e){const et=reactExports.useRef(null),tt=useBootstrapPrefix(void 0,"popover"),nt=useBootstrapPrefix(void 0,"tooltip"),rt=reactExports.useMemo(()=>({name:"offset",options:{offset:()=>{if(_e)return _e;if(et.current){if(hasClass(et.current,tt))return Popover$1.POPPER_OFFSET;if(hasClass(et.current,nt))return Tooltip$1.TOOLTIP_OFFSET}return[0,0]}}}),[_e,tt,nt]);return[et,[rt]]}function wrapRefs(_e,et){const{ref:tt}=_e,{ref:nt}=et;_e.ref=tt.__wrapped||(tt.__wrapped=rt=>tt(safeFindDOMNode(rt))),et.ref=nt.__wrapped||(nt.__wrapped=rt=>nt(safeFindDOMNode(rt)))}const Overlay=reactExports.forwardRef(({children:_e,transition:et=Fade,popperConfig:tt={},rootClose:nt=!1,placement:rt="top",show:it=!1,...ot},st)=>{const ut=reactExports.useRef({}),[ft,dt]=reactExports.useState(null),[lt,at]=useOverlayOffset(ot.offset),ct=useMergedRefs(st,lt),ht=et===!0?Fade:et||void 0,pt=useEventCallback(mt=>{dt(mt),tt==null||tt.onFirstUpdate==null||tt.onFirstUpdate(mt)});return useIsomorphicEffect(()=>{ft&&ot.target&&(ut.current.scheduleUpdate==null||ut.current.scheduleUpdate())},[ft,ot.target]),reactExports.useEffect(()=>{it||dt(null)},[it]),jsxRuntimeExports.jsx(Overlay$1,{...ot,ref:ct,popperConfig:{...tt,modifiers:at.concat(tt.modifiers||[]),onFirstUpdate:pt},transition:ht,rootClose:nt,placement:rt,show:it,children:(mt,{arrowProps:gt,popper:yt,show:bt})=>{var xt,vt;wrapRefs(mt,gt);const wt=yt==null?void 0:yt.placement,_t=Object.assign(ut.current,{state:yt==null?void 0:yt.state,scheduleUpdate:yt==null?void 0:yt.update,placement:wt,outOfBoundaries:(yt==null||(xt=yt.state)==null||(vt=xt.modifiersData.hide)==null?void 0:vt.isReferenceHidden)||!1,strategy:tt.strategy}),Ct=!!ft;return typeof _e=="function"?_e({...mt,placement:wt,show:bt,...!et&&bt&&{className:"show"},popper:_t,arrowProps:gt,hasDoneInitialMeasure:Ct}):reactExports.cloneElement(_e,{...mt,placement:wt,arrowProps:gt,popper:_t,hasDoneInitialMeasure:Ct,className:classNames(_e.props.className,!et&&bt&&"show"),style:{..._e.props.style,...mt.style}})}})});Overlay.displayName="Overlay";const Row=reactExports.forwardRef(({bsPrefix:_e,className:et,as:tt="div",...nt},rt)=>{const it=useBootstrapPrefix(_e,"row"),ot=useBootstrapBreakpoints(),st=useBootstrapMinBreakpoint(),ut=`${it}-cols`,ft=[];return ot.forEach(dt=>{const lt=nt[dt];delete nt[dt];let at;lt!=null&&typeof lt=="object"?{cols:at}=lt:at=lt;const ct=dt!==st?`-${dt}`:"";at!=null&&ft.push(`${ut}${ct}-${at}`)}),jsxRuntimeExports.jsx(tt,{ref:rt,...nt,className:classNames(et,it,...ft)})});Row.displayName="Row";const _excluded$2=["active","eventKey","mountOnEnter","transition","unmountOnExit","role","onEnter","onEntering","onEntered","onExit","onExiting","onExited"],_excluded2=["activeKey","getControlledId","getControllerId"],_excluded3=["as"];function _objectWithoutPropertiesLoose$2(_e,et){if(_e==null)return{};var tt={},nt=Object.keys(_e),rt,it;for(it=0;it<nt.length;it++)rt=nt[it],!(et.indexOf(rt)>=0)&&(tt[rt]=_e[rt]);return tt}function useTabPanel(_e){let{active:et,eventKey:tt,mountOnEnter:nt,transition:rt,unmountOnExit:it,role:ot="tabpanel",onEnter:st,onEntering:ut,onEntered:ft,onExit:dt,onExiting:lt,onExited:at}=_e,ct=_objectWithoutPropertiesLoose$2(_e,_excluded$2);const ht=reactExports.useContext(TabContext);if(!ht)return[Object.assign({},ct,{role:ot}),{eventKey:tt,isActive:et,mountOnEnter:nt,transition:rt,unmountOnExit:it,onEnter:st,onEntering:ut,onEntered:ft,onExit:dt,onExiting:lt,onExited:at}];const{activeKey:pt,getControlledId:mt,getControllerId:gt}=ht,yt=_objectWithoutPropertiesLoose$2(ht,_excluded2),bt=makeEventKey(tt);return[Object.assign({},ct,{role:ot,id:mt(tt),"aria-labelledby":gt(tt)}),{eventKey:tt,isActive:et==null&&bt!=null?makeEventKey(pt)===bt:et,transition:rt||yt.transition,mountOnEnter:nt??yt.mountOnEnter,unmountOnExit:it??yt.unmountOnExit,onEnter:st,onEntering:ut,onEntered:ft,onExit:dt,onExiting:lt,onExited:at}]}const TabPanel=reactExports.forwardRef((_e,et)=>{let{as:tt="div"}=_e,nt=_objectWithoutPropertiesLoose$2(_e,_excluded3);const[rt,{isActive:it,onEnter:ot,onEntering:st,onEntered:ut,onExit:ft,onExiting:dt,onExited:lt,mountOnEnter:at,unmountOnExit:ct,transition:ht=NoopTransition}]=useTabPanel(nt);return jsxRuntimeExports.jsx(TabContext.Provider,{value:null,children:jsxRuntimeExports.jsx(SelectableContext$1.Provider,{value:null,children:jsxRuntimeExports.jsx(ht,{in:it,onEnter:ot,onEntering:st,onEntered:ut,onExit:ft,onExiting:dt,onExited:lt,mountOnEnter:at,unmountOnExit:ct,children:jsxRuntimeExports.jsx(tt,Object.assign({},rt,{ref:et,hidden:!it,"aria-hidden":!it}))})})})});TabPanel.displayName="TabPanel";const Tabs$1=_e=>{const{id:et,generateChildId:tt,onSelect:nt,activeKey:rt,defaultActiveKey:it,transition:ot,mountOnEnter:st,unmountOnExit:ut,children:ft}=_e,[dt,lt]=useUncontrolledProp(rt,it,nt),at=$b5e257d569688ac6$export$619500959fc48b26(et),ct=reactExports.useMemo(()=>tt||((pt,mt)=>at?`${at}-${mt}-${pt}`:null),[at,tt]),ht=reactExports.useMemo(()=>({onSelect:lt,activeKey:dt,transition:ot,mountOnEnter:st||!1,unmountOnExit:ut||!1,getControlledId:pt=>ct(pt,"tabpane"),getControllerId:pt=>ct(pt,"tab")}),[lt,dt,ot,st,ut,ct]);return jsxRuntimeExports.jsx(TabContext.Provider,{value:ht,children:jsxRuntimeExports.jsx(SelectableContext$1.Provider,{value:lt||null,children:ft})})};Tabs$1.Panel=TabPanel;function getTabTransitionComponent(_e){return typeof _e=="boolean"?_e?Fade:NoopTransition:_e}const TabContainer=({transition:_e,...et})=>jsxRuntimeExports.jsx(Tabs$1,{...et,transition:getTabTransitionComponent(_e)});TabContainer.displayName="TabContainer";const TabContent=reactExports.forwardRef(({className:_e,bsPrefix:et,as:tt="div",...nt},rt)=>(et=useBootstrapPrefix(et,"tab-content"),jsxRuntimeExports.jsx(tt,{ref:rt,className:classNames(_e,et),...nt})));TabContent.displayName="TabContent";const TabPane=reactExports.forwardRef(({bsPrefix:_e,transition:et,...tt},nt)=>{const[{className:rt,as:it="div",...ot},{isActive:st,onEnter:ut,onEntering:ft,onEntered:dt,onExit:lt,onExiting:at,onExited:ct,mountOnEnter:ht,unmountOnExit:pt,transition:mt=Fade}]=useTabPanel({...tt,transition:getTabTransitionComponent(et)}),gt=useBootstrapPrefix(_e,"tab-pane");return jsxRuntimeExports.jsx(TabContext.Provider,{value:null,children:jsxRuntimeExports.jsx(SelectableContext$1.Provider,{value:null,children:jsxRuntimeExports.jsx(mt,{in:st,onEnter:ut,onEntering:ft,onEntered:dt,onExit:lt,onExiting:at,onExited:ct,mountOnEnter:ht,unmountOnExit:pt,children:jsxRuntimeExports.jsx(it,{...ot,ref:nt,className:classNames(rt,gt,st&&"active")})})})})});TabPane.displayName="TabPane";const propTypes={eventKey:PropTypes.oneOfType([PropTypes.string,PropTypes.number]),title:PropTypes.node.isRequired,disabled:PropTypes.bool,tabClassName:PropTypes.string,tabAttrs:PropTypes.object},Tab=()=>{throw new Error("ReactBootstrap: The `Tab` component is not meant to be rendered! It's an abstract component that is only valid as a direct Child of the `Tabs` Component. For custom tabs components use TabPane and TabsContainer directly")};Tab.propTypes=propTypes;const Tab$1=Object.assign(Tab,{Container:TabContainer,Content:TabContent,Pane:TabPane}),Table=reactExports.forwardRef(({bsPrefix:_e,className:et,striped:tt,bordered:nt,borderless:rt,hover:it,size:ot,variant:st,responsive:ut,...ft},dt)=>{const lt=useBootstrapPrefix(_e,"table"),at=classNames(et,lt,st&&`${lt}-${st}`,ot&&`${lt}-${ot}`,tt&&`${lt}-${typeof tt=="string"?`striped-${tt}`:"striped"}`,nt&&`${lt}-bordered`,rt&&`${lt}-borderless`,it&&`${lt}-hover`),ct=jsxRuntimeExports.jsx("table",{...ft,className:at,ref:dt});if(ut){let ht=`${lt}-responsive`;return typeof ut=="string"&&(ht=`${ht}-${ut}`),jsxRuntimeExports.jsx("div",{className:ht,children:ct})}return ct});function getDefaultActiveKey(_e){let et;return forEach$2(_e,tt=>{et==null&&(et=tt.props.eventKey)}),et}function renderTab(_e){const{title:et,eventKey:tt,disabled:nt,tabClassName:rt,tabAttrs:it,id:ot}=_e.props;return et==null?null:jsxRuntimeExports.jsx(NavItem,{as:"li",role:"presentation",children:jsxRuntimeExports.jsx(NavLink,{as:"button",type:"button",eventKey:tt,disabled:nt,id:ot,className:rt,...it,children:et})})}const Tabs=_e=>{const{id:et,onSelect:tt,transition:nt,mountOnEnter:rt=!1,unmountOnExit:it=!1,variant:ot="tabs",children:st,activeKey:ut=getDefaultActiveKey(st),...ft}=useUncontrolled(_e,{activeKey:"onSelect"});return jsxRuntimeExports.jsxs(Tabs$1,{id:et,activeKey:ut,onSelect:tt,transition:getTabTransitionComponent(nt),mountOnEnter:rt,unmountOnExit:it,children:[jsxRuntimeExports.jsx(Nav$1,{id:et,...ft,role:"tablist",as:"ul",variant:ot,children:map$3(st,renderTab)}),jsxRuntimeExports.jsx(TabContent,{children:map$3(st,dt=>{const lt={...dt.props};return delete lt.title,delete lt.disabled,delete lt.tabClassName,delete lt.tabAttrs,jsxRuntimeExports.jsx(TabPane,{...lt})})})]})};Tabs.displayName="Tabs";function exportTeam(_e,et,tt,nt=null){let rt={};Array.isArray(nt)&&nt.forEach(function(ot){rt[ot.id]=ot});let it=JSON.parse(JSON.stringify(_e[et]));if(console.log("EXPORT TEAM",it&&it.name,it),Array.isArray(_e[et].files)){let ot=[];_e[et].files.forEach(function(st){rt[st]&&ot.push(rt[st])}),it.files=ot}if(Array.isArray(_e[et].members)){let ot=[];_e[et].members.forEach(function(st){if(st.startsWith("TEAM:::::")){let ut=st.slice(9),ft=_e[ut]?JSON.parse(JSON.stringify(exportTeam(_e,ut,tt))):{};ot.push(Object.assign({},ft,{id:st}))}else{let ut=tt[st]?JSON.parse(JSON.stringify(tt[st])):{};ot.push(Object.assign({},ut,{id:st}))}}),it.members=ot}if(Array.isArray(it.expert_selector)&&it.expert_selector.length>0){let ot=it.expert_selector[0];if(ot.startsWith("TEAM:::::")){let st=ot.slice(9);it.expert_selector=_e[st]?JSON.parse(JSON.stringify(exportTeam(_e,st,tt))):{},it.expert_selector.id=ot}else it.expert_selector=tt[ot]?JSON.parse(JSON.stringify(tt[ot])):{},it.expert_selector.id=ot}else it.expert_selector=null;if(Array.isArray(it.planner)&&it.planner.length>0){let ot=it.planner[0];if(ot.startsWith("TEAM:::::")){let st=ot.slice(9);it.planner=_e[st]?JSON.parse(JSON.stringify(exportTeam(_e,st,tt))):{},it.planner.id=ot}else it.planner=tt[ot]?JSON.parse(JSON.stringify(tt[ot])):{},it.planner.id=ot}else it.planner=null;if(Array.isArray(it.generator)&&it.generator.length>0){let ot=it.generator[0];if(ot.startsWith("TEAM:::::")){let st=ot.slice(9);it.generator=_e[st]?JSON.parse(JSON.stringify(exportTeam(_e,st,tt))):{},it.generator.id=ot}else it.generator=tt[ot]?JSON.parse(JSON.stringify(tt[ot])):{},it.generator.id=ot}else it.generator=null;if(Array.isArray(it.summariser)&&it.summariser.length>0){let ot=it.summariser[0];if(ot.startsWith("TEAM:::::")){let st=ot.slice(9);it.summariser=_e[st]?JSON.parse(JSON.stringify(exportTeam(_e,st,tt))):{},it.summariser.id=ot}else it.summariser=tt[ot]?JSON.parse(JSON.stringify(tt[ot])):{},it.summariser.id=ot}else it.summariser=null;if(Array.isArray(it.scorer)&&it.scorer.length>0){let ot=it.scorer[0];if(ot.startsWith("TEAM:::::")){let st=ot.slice(9);it.scorer=_e[st]?JSON.parse(JSON.stringify(exportTeam(_e,st,tt))):{},it.scorer.id=ot}else it.scorer=tt[ot]?JSON.parse(JSON.stringify(tt[ot])):{},it.scorer.id=ot}else it.scorer=null;if(Array.isArray(it.rewriter)&&it.rewriter.length>0){let ot=it.rewriter[0];if(ot.startsWith("TEAM:::::")){let st=ot.slice(9);it.rewriter=_e[st]?JSON.parse(JSON.stringify(exportTeam(_e,st,tt))):{},it.rewriter.id=ot}else it.rewriter=tt[ot]?JSON.parse(JSON.stringify(tt[ot])):{},it.rewriter.id=ot}else it.rewriter=null;if(Array.isArray(it.formatter)&&it.formatter.length>0){let ot=it.formatter[0];if(ot.startsWith("TEAM:::::")){let st=ot.slice(9);it.formatter=_e[st]?JSON.parse(JSON.stringify(exportTeam(_e,st,tt))):{},it.formatter.id=ot}else it.formatter=tt[ot]?JSON.parse(JSON.stringify(tt[ot])):{},it.formatter.id=ot}else it.formatter=null;if(Array.isArray(it.feeder)&&it.feeder.length>0){let ot=it.feeder[0];if(ot.startsWith("TEAM:::::")){let st=ot.slice(9);it.feeder=_e[st]?JSON.parse(JSON.stringify(exportTeam(_e,st,tt))):{},it.feeder.id=ot}else it.feeder=tt[ot]?JSON.parse(JSON.stringify(tt[ot])):{},it.feeder.id=ot}else it.feeder=null;if(Array.isArray(it.blocker)&&it.blocker.length>0){let ot=it.blocker[0];if(ot.startsWith("TEAM:::::")){let st=ot.slice(9);it.blocker=_e[st]?JSON.parse(JSON.stringify(exportTeam(_e,st,tt))):{},it.blocker.id=ot}else it.blocker=tt[ot]?JSON.parse(JSON.stringify(tt[ot])):{},it.blocker.id=ot}else it.blocker=null;if(Array.isArray(it.question_generator)&&it.question_generator.length>0){let ot=it.question_generator[0];if(ot.startsWith("TEAM:::::")){let st=ot.slice(9);it.question_generator=_e[st]?JSON.parse(JSON.stringify(exportTeam(_e,st,tt))):{},it.question_generator.id=ot}else it.question_generator=tt[ot]?JSON.parse(JSON.stringify(tt[ot])):{},it.question_generator.id=ot}else it.question_generator=null;return console.log("EXPORTED TEAM",it),it}function useUtils(){return{getTeamMemberIndex(_e,et,tt){return{}},exportTeam,downloadText:function(_e,et){const tt=URL.createObjectURL(new Blob([_e])),nt=document.createElement("a");nt.href=tt,nt.download=et,document.body.appendChild(nt),nt.click(),setTimeout(()=>{document.body.removeChild(nt),window.URL.revokeObjectURL(tt)},0)},scrollTo:function(_e,et){var tt=document.getElementById(_e);if(tt){var nt=et||10,rt=tt.offsetTop,it=rt-nt;setTimeout(function(){document.documentElement.scrollTop=it,document.body.scrollTop=it},300)}},cosineSimilarity:function(_e,et,tt=6){if(_e.length!==et.length)throw new Error("Vectors must have the same length");const nt=_e.reduce((ot,st,ut)=>{const ft=et[ut];return ot+st*(ft!==void 0?ft:0)},0),rt=Math.sqrt(_e.reduce((ot,st)=>ot+st*st,0)),it=Math.sqrt(et.reduce((ot,st)=>ot+st*st,0));return rt===0||it===0?0:parseFloat((nt/(rt*it)).toFixed(tt))},blobToText:function(_e){return new Promise((et,tt)=>{var nt=new FileReader;nt.onload=function(){et(nt.result)},nt.onerror=function(){tt(new Error("Error reading the Blob as text."))},_e instanceof Blob?nt.readAsText(_e):et()})},stripCodeParts:function(_e){let et=_e.split("```"),tt=[];for(let nt=0;nt<et.length;nt++){let rt=et[nt];nt%2===0&&rt&&rt.trim&&rt.trim().length>0&&tt.push(rt)}return tt.join(`
`)},readFileAsText:function(_e){return new Promise(function(et,tt){function nt(rt){var it=new FileReader;it.onloadend=function(){it.result&&et(it.result)},rt&&it.readAsText(rt)}nt(_e)})},base64UrlToText:function(_e){const et=_e.split(",")[1],tt=atob(et);let nt="";for(let rt=0;rt<tt.length;rt++)nt+=String.fromCharCode(tt.charCodeAt(rt));return nt},blobToBase64:function(_e){return new Promise(function(et,tt){var nt=new FileReader;nt.onload=function(){var rt=nt.result;et(rt)},_e instanceof Blob?nt.readAsDataURL(_e):et()})},generateRandomId:function(){var _e=new Date().getTime(),et=Math.random().toString(36).substr(2);return _e+"-"+et},generateShortRandomId:function(){var _e=Math.random().toString(36).substr(2);return _e},summariseConfig:function(_e){let et=!!(_e&&_e.tts&&_e.tts.use==="openai"&&_e.tts.openai_key),tt=!!(_e&&_e.tts&&_e.tts.use==="self_hosted"&&_e.tts.self_hosted_url),nt=!!(_e&&_e.tts&&_e.tts.use==="web_speech"),rt=!!(_e&&_e.tts&&_e.tts.use==="me_speak"),it=et||tt||nt||rt,ot=!!(_e&&_e.stt&&_e.stt.use==="openai"&&_e.stt.openai_key),st=!!(_e&&_e.stt&&_e.stt.use==="groq"&&_e.stt.groq_key),ut=!!(_e&&_e.stt&&_e.stt.use==="self_hosted"&&_e.stt.self_hosted_url),ft=!!(_e&&_e.stt&&_e.stt.use==="local"&&_e.stt.local_whisper_model),dt=ot||ut||ft||st,lt=!!(_e&&_e.llm&&_e.llm.use==="openai"&&_e.llm.openai_key&&_e.llm.openai_url!=="https://api.groq.com/openai"),at=!!(_e&&_e.llm&&_e.llm.use==="openai"&&_e.llm.openai_key&&_e.llm.openai_model&&_e.llm.openai_url==="https://api.groq.com/openai"),ct=!!(_e&&_e.llm&&_e.llm.use==="self_hosted"&&_e.llm.self_hosted_url);return{useGroq:at,usingOpenAiTts:et,usingSelfHostedTts:tt,usingWebSpeechTts:nt,usingMeSpeakTts:rt,usingTts:it,usingStt:dt,usingOpenAiStt:ot,usingSelfHostedStt:ut,usingLocalStt:ft,useOpenAi:lt,useSelfHosted:ct,useLlm:lt||ct||at,openAiBillable:lt||et||ot}},uniquifyArray:function(_e){if(Array.isArray(_e)){var et={};return _e.forEach(function(tt){et[tt]=!0}),Object.keys(et)}else return[]},renderPrompt:function(_e,et,tt,nt,rt=!1){function it(st){return st&&st.outputType?st.outputType==="JavaScript"||st.outputType==="Python"?`
Respond as a block of `+st.outputType+" code, strictly "+st.outputType+" code with no comments or explanations and no other format":`
Respond using `+st.outputType+" notation, strictly "+st.outputType+" and no other format":""}JSON.parse(JSON.stringify(tt));let ot=it(nt);switch(_e){case"openai":let st=JSON.parse(JSON.stringify(tt));return st.unshift({role:"system",content:et?et+ot:""}),JSON.stringify(st);case"nous-hermes-2-mistral":return`<|im_start|>system
`+(et?et+ot:"")+"<|im_end|>"+tt.map(function(ut){return"<|im_start|>"+ut.role+`
`+ut.content+"<|im_end|>"}).join(`
`)+(rt?`
<|im_start|>assistant
`:"");case"orca-mini-3":return`### System:
`+(et?et+ot:"")+`
`+tt.map(function(ut){return ut.role==="user"?`
### User:
`+ut.content+`
`:`
### Response:
`+ut.content+`
`})+(rt?`
### Response:
`:"")}}}}function useIcons(){var _e={"arrow-go-forward-line":jsxRuntimeExports.jsx("svg",{height:"24px",width:"24px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M18.1716 6.99955H11C7.68629 6.99955 5 9.68584 5 12.9996C5 16.3133 7.68629 18.9996 11 18.9996H20V20.9996H11C6.58172 20.9996 3 17.4178 3 12.9996C3 8.58127 6.58172 4.99955 11 4.99955H18.1716L15.636 2.46402L17.0503 1.0498L22 5.99955L17.0503 10.9493L15.636 9.53509L18.1716 6.99955Z"})}),"arrow-down":jsxRuntimeExports.jsx("svg",{height:"24px",width:"24px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M11.9999 13.1714L16.9497 8.22168L18.3639 9.63589L11.9999 15.9999L5.63599 9.63589L7.0502 8.22168L11.9999 13.1714Z"})}),palette:jsxRuntimeExports.jsx("svg",{height:"24px",width:"24px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M12 2C17.5222 2 22 5.97778 22 10.8889C22 13.9556 19.5111 16.4444 16.4444 16.4444H14.4778C13.5556 16.4444 12.8111 17.1889 12.8111 18.1111C12.8111 18.5333 12.9778 18.9222 13.2333 19.2111C13.5 19.5111 13.6667 19.9 13.6667 20.3333C13.6667 21.2556 12.9 22 12 22C6.47778 22 2 17.5222 2 12C2 6.47778 6.47778 2 12 2ZM10.8111 18.1111C10.8111 16.0843 12.451 14.4444 14.4778 14.4444H16.4444C18.4065 14.4444 20 12.851 20 10.8889C20 7.1392 16.4677 4 12 4C7.58235 4 4 7.58235 4 12C4 16.19 7.2226 19.6285 11.324 19.9718C10.9948 19.4168 10.8111 18.7761 10.8111 18.1111ZM7.5 12C6.67157 12 6 11.3284 6 10.5C6 9.67157 6.67157 9 7.5 9C8.32843 9 9 9.67157 9 10.5C9 11.3284 8.32843 12 7.5 12ZM16.5 12C15.6716 12 15 11.3284 15 10.5C15 9.67157 15.6716 9 16.5 9C17.3284 9 18 9.67157 18 10.5C18 11.3284 17.3284 12 16.5 12ZM12 9C11.1716 9 10.5 8.32843 10.5 7.5C10.5 6.67157 11.1716 6 12 6C12.8284 6 13.5 6.67157 13.5 7.5C13.5 8.32843 12.8284 9 12 9Z"})}),"hexagon-fill":jsxRuntimeExports.jsx("svg",{height:"24px",width:"24px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M17.5 2.5L23 12L17.5 21.5H6.5L1 12L6.5 2.5H17.5Z"})}),"loader-line":jsxRuntimeExports.jsx("svg",{height:"24px",width:"24px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M11.9995 2C12.5518 2 12.9995 2.44772 12.9995 3V6C12.9995 6.55228 12.5518 7 11.9995 7C11.4472 7 10.9995 6.55228 10.9995 6V3C10.9995 2.44772 11.4472 2 11.9995 2ZM11.9995 17C12.5518 17 12.9995 17.4477 12.9995 18V21C12.9995 21.5523 12.5518 22 11.9995 22C11.4472 22 10.9995 21.5523 10.9995 21V18C10.9995 17.4477 11.4472 17 11.9995 17ZM20.6597 7C20.9359 7.47829 20.772 8.08988 20.2937 8.36602L17.6956 9.86602C17.2173 10.1422 16.6057 9.97829 16.3296 9.5C16.0535 9.02171 16.2173 8.41012 16.6956 8.13398L19.2937 6.63397C19.772 6.35783 20.3836 6.52171 20.6597 7ZM7.66935 14.5C7.94549 14.9783 7.78161 15.5899 7.30332 15.866L4.70525 17.366C4.22695 17.6422 3.61536 17.4783 3.33922 17C3.06308 16.5217 3.22695 15.9101 3.70525 15.634L6.30332 14.134C6.78161 13.8578 7.3932 14.0217 7.66935 14.5ZM20.6597 17C20.3836 17.4783 19.772 17.6422 19.2937 17.366L16.6956 15.866C16.2173 15.5899 16.0535 14.9783 16.3296 14.5C16.6057 14.0217 17.2173 13.8578 17.6956 14.134L20.2937 15.634C20.772 15.9101 20.9359 16.5217 20.6597 17ZM7.66935 9.5C7.3932 9.97829 6.78161 10.1422 6.30332 9.86602L3.70525 8.36602C3.22695 8.08988 3.06308 7.47829 3.33922 7C3.61536 6.52171 4.22695 6.35783 4.70525 6.63397L7.30332 8.13398C7.78161 8.41012 7.94549 9.02171 7.66935 9.5Z"})}),"mic-fill":jsxRuntimeExports.jsx("svg",{height:"24px",width:"24px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M11.9998 1C14.7612 1 16.9998 3.23858 16.9998 6V10C16.9998 12.7614 14.7612 15 11.9998 15C9.23833 15 6.99976 12.7614 6.99976 10V6C6.99976 3.23858 9.23833 1 11.9998 1ZM3.05469 11H5.07065C5.55588 14.3923 8.47329 17 11.9998 17C15.5262 17 18.4436 14.3923 18.9289 11H20.9448C20.4837 15.1716 17.1714 18.4839 12.9998 18.9451V23H10.9998V18.9451C6.82814 18.4839 3.51584 15.1716 3.05469 11Z"})}),"mic-off-fill":jsxRuntimeExports.jsx("svg",{height:"24px",width:"24px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M16.4249 17.839C15.3929 18.4228 14.2341 18.8087 13.0002 18.9451V23H11.0002V18.9451C6.82854 18.4839 3.51623 15.1716 3.05509 11H5.07105C5.55627 14.3923 8.47368 17 12.0002 17C13.0503 17 14.0464 16.7688 14.9404 16.3544L13.3902 14.8042C12.9489 14.9317 12.4825 15 12.0002 15C9.23873 15 7.00016 12.7614 7.00016 10V8.41421L1.39355 2.80761L2.80777 1.3934L22.6068 21.1924L21.1925 22.6066L16.4249 17.839ZM19.3747 15.1604L17.9323 13.7179C18.4407 12.9084 18.788 11.9874 18.9293 11H20.9452C20.7754 12.5366 20.2187 13.9565 19.3747 15.1604ZM16.4658 12.2514L7.68575 3.47139C8.55427 1.99268 10.1613 1 12.0002 1C14.7616 1 17.0002 3.23858 17.0002 6V10C17.0002 10.8099 16.8076 11.5748 16.4658 12.2514Z"})}),"send-plane-line":jsxRuntimeExports.jsx("svg",{height:"24px",width:"24px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M21.7267 2.95694L16.2734 22.0432C16.1225 22.5716 15.7979 22.5956 15.5563 22.1126L11 13L1.9229 9.36919C1.41322 9.16532 1.41953 8.86022 1.95695 8.68108L21.0432 2.31901C21.5716 2.14285 21.8747 2.43866 21.7267 2.95694ZM19.0353 5.09647L6.81221 9.17085L12.4488 11.4255L15.4895 17.5068L19.0353 5.09647Z"})}),"stop-circle-fill":jsxRuntimeExports.jsx("svg",{height:"24px",width:"24px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM9 9V15H15V9H9Z"})}),"stop-large-fill":jsxRuntimeExports.jsx("svg",{height:"24px",width:"24px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M3 4C3 3.44772 3.44772 3 4 3H20C20.5523 3 21 3.44772 21 4V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4Z"})}),"volume-off-vibrate-fill":jsxRuntimeExports.jsx("svg",{height:"24px",width:"24px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M19.3891 3.16117L20.8033 4.57538L18.3277 7.04955L20.8033 9.52513L18.3277 11.9993L20.8033 14.4749L18.3284 16.9498L20.8033 19.4246L19.3891 20.8388L15.5 16.9498L17.9749 14.4749L15.5 12L17.9749 9.52513L15.5 7.05026L19.3891 3.16117ZM13 19.9449C13 20.221 12.7761 20.4449 12.5 20.4449C12.3846 20.4449 12.2727 20.405 12.1834 20.3319L6.88901 15.9991L3.00001 16C2.44772 16 2.00001 15.5523 2.00001 15V9.00001C2.00001 8.44772 2.44772 8.00001 3.00001 8.00001L5.58362 7.99762L1.80762 4.22183L3.22183 2.80762L12.9996 12.5856L13 19.9449ZM12.887 3.73851C12.9601 3.82784 13 3.93971 13 4.05513V9.75717L9.282 6.04017L12.1834 3.66815C12.3971 3.49328 12.7121 3.52479 12.887 3.73851Z"})}),"volume-vibrate-fill":jsxRuntimeExports.jsx("svg",{height:"24px",width:"24px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M19.3891 3.16113L20.8033 4.57535L18.3277 7.04951L20.8033 9.52509L18.3277 11.9993L20.8033 14.4748L18.3284 16.9497L20.8033 19.4246L19.3891 20.8388L15.5 16.9497L17.9749 14.4748L15.5 12L17.9749 9.52509L15.5 7.05022L19.3891 3.16113ZM12.887 3.73847C12.9601 3.8278 13 3.93967 13 4.05509V19.9448C13 20.221 12.7761 20.4448 12.5 20.4448C12.3846 20.4448 12.2727 20.4049 12.1834 20.3318L6.889 15.9991L3 16C2.44772 16 2 15.5523 2 15V8.99997C2 8.44768 2.44772 7.99997 3 7.99997L6.889 7.99907L12.1834 3.66811C12.3971 3.49325 12.7121 3.52475 12.887 3.73847Z"})}),github:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"36px",width:"36px",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M12.001 2C6.47598 2 2.00098 6.475 2.00098 12C2.00098 16.425 4.86348 20.1625 8.83848 21.4875C9.33848 21.575 9.52598 21.275 9.52598 21.0125C9.52598 20.775 9.51348 19.9875 9.51348 19.15C7.00098 19.6125 6.35098 18.5375 6.15098 17.975C6.03848 17.6875 5.55098 16.8 5.12598 16.5625C4.77598 16.375 4.27598 15.9125 5.11348 15.9C5.90098 15.8875 6.46348 16.625 6.65098 16.925C7.55098 18.4375 8.98848 18.0125 9.56348 17.75C9.65098 17.1 9.91348 16.6625 10.201 16.4125C7.97598 16.1625 5.65098 15.3 5.65098 11.475C5.65098 10.3875 6.03848 9.4875 6.67598 8.7875C6.57598 8.5375 6.22598 7.5125 6.77598 6.1375C6.77598 6.1375 7.61348 5.875 9.52598 7.1625C10.326 6.9375 11.176 6.825 12.026 6.825C12.876 6.825 13.726 6.9375 14.526 7.1625C16.4385 5.8625 17.276 6.1375 17.276 6.1375C17.826 7.5125 17.476 8.5375 17.376 8.7875C18.0135 9.4875 18.401 10.375 18.401 11.475C18.401 15.3125 16.0635 16.1625 13.8385 16.4125C14.201 16.725 14.5135 17.325 14.5135 18.2625C14.5135 19.6 14.501 20.675 14.501 21.0125C14.501 21.275 14.6885 21.5875 15.1885 21.4875C19.259 20.1133 21.9999 16.2963 22.001 12C22.001 6.475 17.526 2 12.001 2Z"})}),menu:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",height:"24px",width:"24px",color:"white",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M3 4H21V6H3V4ZM3 11H21V13H3V11ZM3 18H21V20H3V18Z"})}),plus:jsxRuntimeExports.jsx("svg",{color:"black",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",height:"24px",width:"24px",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M11  11V5H13V11H19V13H13V19H11V13H5V11H11Z"})}),login:jsxRuntimeExports.jsx("svg",{color:"black",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",height:"24px",width:"24px",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M4 15H6V20H18V4H6V9H4V3C4 2.44772 4.44772 2 5 2H19C19.5523 2 20 2.44772 20 3V21C20 21.5523 19.5523 22 19 22H5C4.44772 22 4 21.5523 4 21V15ZM10 11V8L15 12L10 16V13H2V11H10Z"})}),logout:jsxRuntimeExports.jsx("svg",{color:"black",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",height:"24px",width:"24px",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M4 18H6V20H18V4H6V6H4V3C4 2.44772 4.44772 2 5 2H19C19.5523 2 20 2.44772 20 3V21C20 21.5523 19.5523 22 19 22H5C4.44772 22 4 21.5523 4 21V18ZM6 11H13V13H6V16L1 12L6 8V11Z"})}),user:jsxRuntimeExports.jsx("svg",{color:"black",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",height:"24px",width:"24px",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M4 22C4 17.5817 7.58172 14 12 14C16.4183 14 20 17.5817 20 22H4ZM12 13C8.685 13 6 10.315 6 7C6 3.685 8.685 1 12 1C15.315 1 18 3.685 18 7C18 10.315 15.315 13 12 13Z"})}),user_logout:jsxRuntimeExports.jsx("svg",{color:"black",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",height:"24px",width:"24px",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M14 14.252V16.3414C13.3744 16.1203 12.7013 16 12 16C8.68629 16 6 18.6863 6 22H4C4 17.5817 7.58172 14 12 14C12.6906 14 13.3608 14.0875 14 14.252ZM12 13C8.685 13 6 10.315 6 7C6 3.685 8.685 1 12 1C15.315 1 18 3.685 18 7C18 10.315 15.315 13 12 13ZM12 11C14.21 11 16 9.21 16 7C16 4.79 14.21 3 12 3C9.79 3 8 4.79 8 7C8 9.21 9.79 11 12 11ZM19.4184 17H23.0042V19H19.4184L21.2469 20.8284L19.8326 22.2426L15.59 18L19.8326 13.7574L21.2469 15.1716L19.4184 17Z"})}),play:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",height:"24px",width:"24px",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M16.3944 12.0001L10 7.7371V16.263L16.3944 12.0001ZM19.376 12.4161L8.77735 19.4818C8.54759 19.635 8.23715 19.5729 8.08397 19.3432C8.02922 19.261 8 19.1645 8 19.0658V4.93433C8 4.65818 8.22386 4.43433 8.5 4.43433C8.59871 4.43433 8.69522 4.46355 8.77735 4.5183L19.376 11.584C19.6057 11.7372 19.6678 12.0477 19.5146 12.2774C19.478 12.3323 19.4309 12.3795 19.376 12.4161Z"})}),openai:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",height:"24px",width:"24px",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M20.5624 10.1875C20.8124 9.5 20.8749 8.8125 20.8124 8.125C20.7499 7.4375 20.4999 6.75 20.1874 6.125C19.6249 5.1875 18.8124 4.4375 17.8749 4C16.8749 3.5625 15.8124 3.4375 14.7499 3.6875C14.2499 3.1875 13.6874 2.75 13.0624 2.4375C12.4374 2.125 11.6874 2 10.9999 2C9.9374 2 8.8749 2.3125 7.9999 2.9375C7.1249 3.5625 6.4999 4.4375 6.1874 5.4375C5.4374 5.625 4.8124 5.9375 4.1874 6.3125C3.6249 6.75 3.1874 7.3125 2.8124 7.875C2.24991 8.8125 2.06241 9.875 2.18741 10.9375C2.31241 12 2.7499 13 3.4374 13.8125C3.1874 14.5 3.1249 15.1875 3.1874 15.875C3.2499 16.5625 3.4999 17.25 3.8124 17.875C4.3749 18.8125 5.1874 19.5625 6.1249 20C7.1249 20.4375 8.1874 20.5625 9.2499 20.3125C9.7499 20.8125 10.3124 21.25 10.9374 21.5625C11.5624 21.875 12.3124 22 12.9999 22C14.0624 22 15.1249 21.6875 15.9999 21.0625C16.8749 20.4375 17.4999 19.5625 17.8124 18.5625C18.4999 18.4375 19.1874 18.125 19.7499 17.6875C20.3124 17.25 20.8124 16.75 21.1249 16.125C21.6874 15.1875 21.8749 14.125 21.7499 13.0625C21.6249 12 21.2499 11 20.5624 10.1875ZM13.0624 20.6875C12.0624 20.6875 11.3124 20.375 10.6249 19.8125C10.6249 19.8125 10.6874 19.75 10.7499 19.75L14.7499 17.4375C14.8749 17.375 14.9374 17.3125 14.9999 17.1875C15.0624 17.0625 15.0624 17 15.0624 16.875V11.25L16.7499 12.25V16.875C16.8124 19.0625 15.0624 20.6875 13.0624 20.6875ZM4.9999 17.25C4.5624 16.5 4.3749 15.625 4.5624 14.75C4.5624 14.75 4.6249 14.8125 4.6874 14.8125L8.6874 17.125C8.8124 17.1875 8.8749 17.1875 8.9999 17.1875C9.1249 17.1875 9.2499 17.1875 9.3124 17.125L14.1874 14.3125V16.25L10.1249 18.625C9.2499 19.125 8.2499 19.25 7.3124 19C6.3124 18.75 5.4999 18.125 4.9999 17.25ZM3.9374 8.5625C4.3749 7.8125 5.0624 7.25 5.8749 6.9375V7.0625V11.6875C5.8749 11.8125 5.8749 11.9375 5.9374 12C5.9999 12.125 6.0624 12.1875 6.1874 12.25L11.0624 15.0625L9.3749 16.0625L5.3749 13.75C4.4999 13.25 3.8749 12.4375 3.6249 11.5C3.3749 10.5625 3.4374 9.4375 3.9374 8.5625ZM17.7499 11.75L12.8749 8.9375L14.5624 7.9375L18.5624 10.25C19.1874 10.625 19.6874 11.125 19.9999 11.75C20.3124 12.375 20.4999 13.0625 20.4374 13.8125C20.3749 14.5 20.1249 15.1875 19.6874 15.75C19.2499 16.3125 18.6874 16.75 17.9999 17V12.25C17.9999 12.125 17.9999 12 17.9374 11.9375C17.9374 11.9375 17.8749 11.8125 17.7499 11.75ZM19.4374 9.25C19.4374 9.25 19.3749 9.1875 19.3124 9.1875L15.3124 6.875C15.1874 6.8125 15.1249 6.8125 14.9999 6.8125C14.8749 6.8125 14.7499 6.8125 14.6874 6.875L9.8124 9.6875V7.75L13.8749 5.375C14.4999 5 15.1874 4.875 15.9374 4.875C16.6249 4.875 17.3124 5.125 17.9374 5.5625C18.4999 6 18.9999 6.5625 19.2499 7.1875C19.4999 7.8125 19.5624 8.5625 19.4374 9.25ZM8.9374 12.75L7.2499 11.75V7.0625C7.2499 6.375 7.4374 5.625 7.8124 5.0625C8.1874 4.4375 8.7499 4 9.3749 3.6875C9.9999 3.375 10.7499 3.25 11.4374 3.375C12.1249 3.4375 12.8124 3.75 13.3749 4.1875C13.3749 4.1875 13.3124 4.25 13.2499 4.25L9.2499 6.5625C9.1249 6.625 9.0624 6.6875 8.9999 6.8125C8.9374 6.9375 8.9374 7 8.9374 7.125V12.75ZM9.8124 10.75L11.9999 9.5L14.1874 10.75V13.25L11.9999 14.5L9.8124 13.25V10.75Z"})}),pencil:jsxRuntimeExports.jsx("svg",{height:"16px",width:"16px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M15.7279 9.57627L14.3137 8.16206L5 17.4758V18.89H6.41421L15.7279 9.57627ZM17.1421 8.16206L18.5563 6.74785L17.1421 5.33363L15.7279 6.74785L17.1421 8.16206ZM7.24264 20.89H3V16.6473L16.435 3.21231C16.8256 2.82179 17.4587 2.82179 17.8492 3.21231L20.6777 6.04074C21.0682 6.43126 21.0682 7.06443 20.6777 7.45495L7.24264 20.89Z"})}),speak:jsxRuntimeExports.jsx("svg",{height:"24px",width:"24px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M16.9337 8.96494C16.426 5.03562 13.0675 2 9 2 4.58172 2 1 5.58172 1 10 1 11.8924 1.65707 13.6313 2.7555 15.0011 3.56351 16.0087 4.00033 17.1252 4.00025 18.3061L4 22H13L13.001 19H15C16.1046 19 17 18.1046 17 17V14.071L18.9593 13.2317C19.3025 13.0847 19.3324 12.7367 19.1842 12.5037L16.9337 8.96494ZM3 10C3 6.68629 5.68629 4 9 4 12.0243 4 14.5665 6.25141 14.9501 9.22118L15.0072 9.66262 16.5497 12.0881 15 12.7519V17H11.0017L11.0007 20H6.00013L6.00025 18.3063C6.00036 16.6672 5.40965 15.114 4.31578 13.7499 3.46818 12.6929 3 11.3849 3 10ZM21.1535 18.1024 19.4893 16.9929C20.4436 15.5642 21 13.8471 21 12.0001 21 10.153 20.4436 8.4359 19.4893 7.00722L21.1535 5.89771C22.32 7.64386 23 9.74254 23 12.0001 23 14.2576 22.32 16.3562 21.1535 18.1024Z"})}),team:jsxRuntimeExports.jsx("svg",{height:"24px",width:"24px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M12 11C14.7614 11 17 13.2386 17 16V22H15V16C15 14.4023 13.7511 13.0963 12.1763 13.0051L12 13C10.4023 13 9.09634 14.2489 9.00509 15.8237L9 16V22H7V16C7 13.2386 9.23858 11 12 11ZM5.5 14C5.77885 14 6.05009 14.0326 6.3101 14.0942C6.14202 14.594 6.03873 15.122 6.00896 15.6693L6 16L6.0007 16.0856C5.88757 16.0456 5.76821 16.0187 5.64446 16.0069L5.5 16C4.7203 16 4.07955 16.5949 4.00687 17.3555L4 17.5V22H2V17.5C2 15.567 3.567 14 5.5 14ZM18.5 14C20.433 14 22 15.567 22 17.5V22H20V17.5C20 16.7203 19.4051 16.0796 18.6445 16.0069L18.5 16C18.3248 16 18.1566 16.03 18.0003 16.0852L18 16C18 15.3343 17.8916 14.694 17.6915 14.0956C17.9499 14.0326 18.2211 14 18.5 14ZM5.5 8C6.88071 8 8 9.11929 8 10.5C8 11.8807 6.88071 13 5.5 13C4.11929 13 3 11.8807 3 10.5C3 9.11929 4.11929 8 5.5 8ZM18.5 8C19.8807 8 21 9.11929 21 10.5C21 11.8807 19.8807 13 18.5 13C17.1193 13 16 11.8807 16 10.5C16 9.11929 17.1193 8 18.5 8ZM5.5 10C5.22386 10 5 10.2239 5 10.5C5 10.7761 5.22386 11 5.5 11C5.77614 11 6 10.7761 6 10.5C6 10.2239 5.77614 10 5.5 10ZM18.5 10C18.2239 10 18 10.2239 18 10.5C18 10.7761 18.2239 11 18.5 11C18.7761 11 19 10.7761 19 10.5C19 10.2239 18.7761 10 18.5 10ZM12 2C14.2091 2 16 3.79086 16 6C16 8.20914 14.2091 10 12 10C9.79086 10 8 8.20914 8 6C8 3.79086 9.79086 2 12 2ZM12 4C10.8954 4 10 4.89543 10 6C10 7.10457 10.8954 8 12 8C13.1046 8 14 7.10457 14 6C14 4.89543 13.1046 4 12 4Z"})}),teamlarge:jsxRuntimeExports.jsx("svg",{height:"24px",width:"24px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M12 11C14.7614 11 17 13.2386 17 16V22H15V16C15 14.4023 13.7511 13.0963 12.1763 13.0051L12 13C10.4023 13 9.09634 14.2489 9.00509 15.8237L9 16V22H7V16C7 13.2386 9.23858 11 12 11ZM5.5 14C5.77885 14 6.05009 14.0326 6.3101 14.0942C6.14202 14.594 6.03873 15.122 6.00896 15.6693L6 16L6.0007 16.0856C5.88757 16.0456 5.76821 16.0187 5.64446 16.0069L5.5 16C4.7203 16 4.07955 16.5949 4.00687 17.3555L4 17.5V22H2V17.5C2 15.567 3.567 14 5.5 14ZM18.5 14C20.433 14 22 15.567 22 17.5V22H20V17.5C20 16.7203 19.4051 16.0796 18.6445 16.0069L18.5 16C18.3248 16 18.1566 16.03 18.0003 16.0852L18 16C18 15.3343 17.8916 14.694 17.6915 14.0956C17.9499 14.0326 18.2211 14 18.5 14ZM5.5 8C6.88071 8 8 9.11929 8 10.5C8 11.8807 6.88071 13 5.5 13C4.11929 13 3 11.8807 3 10.5C3 9.11929 4.11929 8 5.5 8ZM18.5 8C19.8807 8 21 9.11929 21 10.5C21 11.8807 19.8807 13 18.5 13C17.1193 13 16 11.8807 16 10.5C16 9.11929 17.1193 8 18.5 8ZM5.5 10C5.22386 10 5 10.2239 5 10.5C5 10.7761 5.22386 11 5.5 11C5.77614 11 6 10.7761 6 10.5C6 10.2239 5.77614 10 5.5 10ZM18.5 10C18.2239 10 18 10.2239 18 10.5C18 10.7761 18.2239 11 18.5 11C18.7761 11 19 10.7761 19 10.5C19 10.2239 18.7761 10 18.5 10ZM12 2C14.2091 2 16 3.79086 16 6C16 8.20914 14.2091 10 12 10C9.79086 10 8 8.20914 8 6C8 3.79086 9.79086 2 12 2ZM12 4C10.8954 4 10 4.89543 10 6C10 7.10457 10.8954 8 12 8C13.1046 8 14 7.10457 14 6C14 4.89543 13.1046 4 12 4Z"})}),settings:jsxRuntimeExports.jsx("svg",{height:"24px",width:"24px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M2.13127 13.6308C1.9492 12.5349 1.95521 11.434 2.13216 10.3695C3.23337 10.3963 4.22374 9.86798 4.60865 8.93871C4.99357 8.00944 4.66685 6.93557 3.86926 6.17581C4.49685 5.29798 5.27105 4.51528 6.17471 3.86911C6.9345 4.66716 8.0087 4.99416 8.93822 4.60914C9.86774 4.22412 10.3961 3.23332 10.369 2.13176C11.4649 1.94969 12.5658 1.9557 13.6303 2.13265C13.6036 3.23385 14.1319 4.22422 15.0612 4.60914C15.9904 4.99406 17.0643 4.66733 17.8241 3.86975C18.7019 4.49734 19.4846 5.27153 20.1308 6.1752C19.3327 6.93499 19.0057 8.00919 19.3907 8.93871C19.7757 9.86823 20.7665 10.3966 21.8681 10.3695C22.0502 11.4654 22.0442 12.5663 21.8672 13.6308C20.766 13.6041 19.7756 14.1324 19.3907 15.0616C19.0058 15.9909 19.3325 17.0648 20.1301 17.8245C19.5025 18.7024 18.7283 19.4851 17.8247 20.1312C17.0649 19.3332 15.9907 19.0062 15.0612 19.3912C14.1316 19.7762 13.6033 20.767 13.6303 21.8686C12.5344 22.0507 11.4335 22.0447 10.3691 21.8677C10.3958 20.7665 9.86749 19.7761 8.93822 19.3912C8.00895 19.0063 6.93508 19.333 6.17532 20.1306C5.29749 19.503 4.51479 18.7288 3.86862 17.8252C4.66667 17.0654 4.99367 15.9912 4.60865 15.0616C4.22363 14.1321 3.23284 13.6038 2.13127 13.6308ZM11.9997 15.0002C13.6565 15.0002 14.9997 13.657 14.9997 12.0002C14.9997 10.3433 13.6565 9.00018 11.9997 9.00018C10.3428 9.00018 8.99969 10.3433 8.99969 12.0002C8.99969 13.657 10.3428 15.0002 11.9997 15.0002Z"})}),save:jsxRuntimeExports.jsx("svg",{height:"24px",width:"24px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M7 19V13H17V19H19V7.82843L16.1716 5H5V19H7ZM4 3H17L21 7V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3ZM9 15V19H15V15H9Z"})}),bin:jsxRuntimeExports.jsx("svg",{height:"24px",width:"24px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M17 6H22V8H20V21C20 21.5523 19.5523 22 19 22H5C4.44772 22 4 21.5523 4 21V8H2V6H7V3C7 2.44772 7.44772 2 8 2H16C16.5523 2 17 2.44772 17 3V6ZM18 8H6V20H18V8ZM9 11H11V17H9V11ZM13 11H15V17H13V11ZM9 4V6H15V4H9Z"})}),close:jsxRuntimeExports.jsx("svg",{height:"24px",width:"24px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M11.9997 10.5865L16.9495 5.63672L18.3637 7.05093L13.4139 12.0007L18.3637 16.9504L16.9495 18.3646L11.9997 13.4149L7.04996 18.3646L5.63574 16.9504L10.5855 12.0007L5.63574 7.05093L7.04996 5.63672L11.9997 10.5865Z"})}),add:jsxRuntimeExports.jsx("svg",{height:"24px",width:"24px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M11 11V5H13V11H19V13H13V19H11V13H5V11H11Z"})}),clipboard:jsxRuntimeExports.jsx("svg",{height:"24px",width:"24px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M7 4V2H17V4H20.0066C20.5552 4 21 4.44495 21 4.9934V21.0066C21 21.5552 20.5551 22 20.0066 22H3.9934C3.44476 22 3 21.5551 3 21.0066V4.9934C3 4.44476 3.44495 4 3.9934 4H7ZM7 6H5V20H19V6H17V8H7V6ZM9 4V6H15V4H9Z"})}),question:jsxRuntimeExports.jsx("svg",{height:"24px",width:"24px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20ZM11 15H13V17H11V15ZM13 13.3551V14H11V12.5C11 11.9477 11.4477 11.5 12 11.5C12.8284 11.5 13.5 10.8284 13.5 10C13.5 9.17157 12.8284 8.5 12 8.5C11.2723 8.5 10.6656 9.01823 10.5288 9.70577L8.56731 9.31346C8.88637 7.70919 10.302 6.5 12 6.5C13.933 6.5 15.5 8.067 15.5 10C15.5 11.5855 14.4457 12.9248 13 13.3551Z"})}),reply:jsxRuntimeExports.jsx("svg",{height:"24px",width:"24px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M11 20L1 12L11 4V9C16.5228 9 21 13.4772 21 19C21 19.2729 20.9891 19.5433 20.9676 19.8107C19.4605 16.9502 16.458 15 13 15H11V20Z"})}),commit:jsxRuntimeExports.jsx("svg",{height:"24px",width:"24px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M18 16V14H19V4H6V14.0354C6.1633 14.0121 6.33024 14 6.5 14H8V16H6.5C5.67157 16 5 16.6716 5 17.5C5 18.3284 5.67157 19 6.5 19H10V21H6.5C4.567 21 3 19.433 3 17.5V5C3 3.34315 4.34315 2 6 2H20C20.5523 2 21 2.44772 21 3V20C21 20.5523 20.5523 21 20 21H16V19H19V16H18ZM7 5H9V7H7V5ZM7 8H9V10H7V8ZM14 17V23H12V17H9L13 12L17 17H14Z"})}),chat:jsxRuntimeExports.jsx("svg",{height:"24px",width:"24px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M10 3H14C18.4183 3 22 6.58172 22 11C22 15.4183 18.4183 19 14 19V22.5C9 20.5 2 17.5 2 11C2 6.58172 5.58172 3 10 3ZM12 17H14C17.3137 17 20 14.3137 20 11C20 7.68629 17.3137 5 14 5H10C6.68629 5 4 7.68629 4 11C4 14.61 6.46208 16.9656 12 19.4798V17Z"})}),history:jsxRuntimeExports.jsx("svg",{height:"24px",width:"24px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12H4C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C9.25022 4 6.82447 5.38734 5.38451 7.50024L8 7.5V9.5H2V3.5H4L3.99989 5.99918C5.82434 3.57075 8.72873 2 12 2ZM13 7L12.9998 11.585L16.2426 14.8284L14.8284 16.2426L10.9998 12.413L11 7H13Z"})}),newchat:jsxRuntimeExports.jsx("svg",{color:"white",height:"24px",width:"24px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M14 3V5H4V18.3851L5.76282 17H20V10H22V18C22 18.5523 21.5523 19 21 19H6.45455L2 22.5V4C2 3.44772 2.44772 3 3 3H14ZM19 3V0H21V3H24V5H21V8H19V5H16V3H19Z"})}),filecopy:jsxRuntimeExports.jsx("svg",{height:"24px",width:"24px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M6.9998 6V3C6.9998 2.44772 7.44752 2 7.9998 2H19.9998C20.5521 2 20.9998 2.44772 20.9998 3V17C20.9998 17.5523 20.5521 18 19.9998 18H16.9998V20.9991C16.9998 21.5519 16.5499 22 15.993 22H4.00666C3.45059 22 3 21.5554 3 20.9991L3.0026 7.00087C3.0027 6.44811 3.45264 6 4.00942 6H6.9998ZM5.00242 8L5.00019 20H14.9998V8H5.00242ZM8.9998 6H16.9998V16H18.9998V4H8.9998V6Z"})}),brain:jsxRuntimeExports.jsx("svg",{height:"24px",width:"24px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M9 4C10.1046 4 11 4.89543 11 6V12.8271C10.1058 12.1373 8.96602 11.7305 7.6644 11.5136L7.3356 13.4864C8.71622 13.7165 9.59743 14.1528 10.1402 14.7408C10.67 15.3147 11 16.167 11 17.5C11 18.8807 9.88071 20 8.5 20C7.11929 20 6 18.8807 6 17.5V17.1493C6.43007 17.2926 6.87634 17.4099 7.3356 17.4864L7.6644 15.5136C6.92149 15.3898 6.1752 15.1144 5.42909 14.7599C4.58157 14.3573 4 13.499 4 12.5C4 11.6653 4.20761 11.0085 4.55874 10.5257C4.90441 10.0504 5.4419 9.6703 6.24254 9.47014L7 9.28078V6C7 4.89543 7.89543 4 9 4ZM12 3.35418C11.2671 2.52376 10.1947 2 9 2C6.79086 2 5 3.79086 5 6V7.77422C4.14895 8.11644 3.45143 8.64785 2.94126 9.34933C2.29239 10.2415 2 11.3347 2 12.5C2 14.0652 2.79565 15.4367 4 16.2422V17.5C4 19.9853 6.01472 22 8.5 22C9.91363 22 11.175 21.3482 12 20.3287C12.825 21.3482 14.0864 22 15.5 22C17.9853 22 20 19.9853 20 17.5V16.2422C21.2044 15.4367 22 14.0652 22 12.5C22 11.3347 21.7076 10.2415 21.0587 9.34933C20.5486 8.64785 19.8511 8.11644 19 7.77422V6C19 3.79086 17.2091 2 15 2C13.8053 2 12.7329 2.52376 12 3.35418ZM18 17.1493V17.5C18 18.8807 16.8807 20 15.5 20C14.1193 20 13 18.8807 13 17.5C13 16.167 13.33 15.3147 13.8598 14.7408C14.4026 14.1528 15.2838 13.7165 16.6644 13.4864L16.3356 11.5136C15.034 11.7305 13.8942 12.1373 13 12.8271V6C13 4.89543 13.8954 4 15 4C16.1046 4 17 4.89543 17 6V9.28078L17.7575 9.47014C18.5581 9.6703 19.0956 10.0504 19.4413 10.5257C19.7924 11.0085 20 11.6653 20 12.5C20 13.499 19.4184 14.3573 18.5709 14.7599C17.8248 15.1144 17.0785 15.3898 16.3356 15.5136L16.6644 17.4864C17.1237 17.4099 17.5699 17.2926 18 17.1493Z"})}),attachment:jsxRuntimeExports.jsx("svg",{height:"24px",width:"24px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M14 13.5V8C14 5.79086 12.2091 4 10 4C7.79086 4 6 5.79086 6 8V13.5C6 17.0899 8.91015 20 12.5 20C16.0899 20 19 17.0899 19 13.5V4H21V13.5C21 18.1944 17.1944 22 12.5 22C7.80558 22 4 18.1944 4 13.5V8C4 4.68629 6.68629 2 10 2C13.3137 2 16 4.68629 16 8V13.5C16 15.433 14.433 17 12.5 17C10.567 17 9 15.433 9 13.5V8H11V13.5C11 14.3284 11.6716 15 12.5 15C13.3284 15 14 14.3284 14 13.5Z"})}),magic:jsxRuntimeExports.jsx("svg",{height:"24px",width:"24px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M15.1986 9.94447C14.7649 9.5337 14.4859 8.98613 14.4085 8.39384L14.0056 5.31138L11.275 6.79724C10.7503 7.08274 10.1433 7.17888 9.55608 7.06948L6.49998 6.50015L7.06931 9.55625C7.17871 10.1435 7.08257 10.7505 6.79707 11.2751L5.31121 14.0057L8.39367 14.4086C8.98596 14.4861 9.53353 14.7651 9.94431 15.1987L12.0821 17.4557L13.4178 14.6486C13.6745 14.1092 14.109 13.6747 14.6484 13.418L17.4555 12.0823L15.1986 9.94447ZM15.2238 15.5079L13.0111 20.1581C12.8687 20.4573 12.5107 20.5844 12.2115 20.442C12.1448 20.4103 12.0845 20.3665 12.0337 20.3129L8.49229 16.5741C8.39749 16.474 8.27113 16.4096 8.13445 16.3918L3.02816 15.7243C2.69958 15.6814 2.46804 15.3802 2.51099 15.0516C2.52056 14.9784 2.54359 14.9075 2.5789 14.8426L5.04031 10.3192C5.1062 10.1981 5.12839 10.058 5.10314 9.92253L4.16 4.85991C4.09931 4.53414 4.3142 4.22086 4.63997 4.16017C4.7126 4.14664 4.78711 4.14664 4.85974 4.16017L9.92237 5.10331C10.0579 5.12855 10.198 5.10637 10.319 5.04048L14.8424 2.57907C15.1335 2.42068 15.4979 2.52825 15.6562 2.81931C15.6916 2.88421 15.7146 2.95507 15.7241 3.02833L16.3916 8.13462C16.4095 8.2713 16.4739 8.39766 16.5739 8.49245L20.3127 12.0338C20.5533 12.2617 20.5636 12.6415 20.3357 12.8821C20.2849 12.9357 20.2246 12.9795 20.1579 13.0112L15.5078 15.224C15.3833 15.2832 15.283 15.3835 15.2238 15.5079ZM16.0206 17.435L17.4348 16.0208L21.6775 20.2634L20.2633 21.6776L16.0206 17.435Z"})}),tag:jsxRuntimeExports.jsx("svg",{height:"24px",width:"24px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M10.9042 2.10025L20.8037 3.51446L22.2179 13.414L13.0255 22.6063C12.635 22.9969 12.0019 22.9969 11.6113 22.6063L1.71184 12.7069C1.32131 12.3163 1.32131 11.6832 1.71184 11.2926L10.9042 2.10025ZM11.6113 4.22157L3.83316 11.9997L12.3184 20.485L20.0966 12.7069L19.036 5.28223L11.6113 4.22157ZM13.7327 10.5855C12.9516 9.80448 12.9516 8.53815 13.7327 7.7571C14.5137 6.97606 15.78 6.97606 16.5611 7.7571C17.3421 8.53815 17.3421 9.80448 16.5611 10.5855C15.78 11.3666 14.5137 11.3666 13.7327 10.5855Z"})}),left:jsxRuntimeExports.jsx("svg",{height:"24px",width:"24px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M8.36853 12L13.1162 3.03212L14.8838 3.9679L10.6315 12L14.8838 20.0321L13.1162 20.9679L8.36853 12Z"})}),right:jsxRuntimeExports.jsx("svg",{height:"24px",width:"24px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M15.6315 12L10.8838 3.03212L9.11622 3.9679L13.3685 12L9.11622 20.0321L10.8838 20.9679L15.6315 12Z"})}),user:jsxRuntimeExports.jsx("svg",{height:"24px",width:"24px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M20 22H18V20C18 18.3431 16.6569 17 15 17H9C7.34315 17 6 18.3431 6 20V22H4V20C4 17.2386 6.23858 15 9 15H15C17.7614 15 20 17.2386 20 20V22ZM12 13C8.68629 13 6 10.3137 6 7C6 3.68629 8.68629 1 12 1C15.3137 1 18 3.68629 18 7C18 10.3137 15.3137 13 12 13ZM12 11C14.2091 11 16 9.20914 16 7C16 4.79086 14.2091 3 12 3C9.79086 3 8 4.79086 8 7C8 9.20914 9.79086 11 12 11Z"})}),hammer:jsxRuntimeExports.jsx("svg",{height:"24px",width:"24px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M20 2C20.5523 2 21 2.44772 21 3V8C21 8.55228 20.5523 9 20 9H15V22C15 22.5523 14.5523 23 14 23H10C9.44772 23 9 22.5523 9 22V9H3.5C2.94772 9 2.5 8.55228 2.5 8V5.61803C2.5 5.23926 2.714 4.893 3.05279 4.72361L8.5 2H20ZM15 4H8.97214L4.5 6.23607V7H11V21H13V7H15V4ZM19 4H17V7H19V4Z"})}),search:jsxRuntimeExports.jsx("svg",{height:"24px",width:"24px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M18.031 16.6168L22.3137 20.8995L20.8995 22.3137L16.6168 18.031C15.0769 19.263 13.124 20 11 20C6.032 20 2 15.968 2 11C2 6.032 6.032 2 11 2C15.968 2 20 6.032 20 11C20 13.124 19.263 15.0769 18.031 16.6168ZM16.0247 15.8748C17.2475 14.6146 18 12.8956 18 11C18 7.1325 14.8675 4 11 4C7.1325 4 4 7.1325 4 11C4 14.8675 7.1325 18 11 18C12.8956 18 14.6146 17.2475 15.8748 16.0247L16.0247 15.8748Z"})}),home:jsxRuntimeExports.jsx("svg",{height:"24px",width:"24px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M19 21H5C4.44772 21 4 20.5523 4 20V11L1 11L11.3273 1.6115C11.7087 1.26475 12.2913 1.26475 12.6727 1.6115L23 11L20 11V20C20 20.5523 19.5523 21 19 21ZM13 19H18V9.15745L12 3.7029L6 9.15745V19H11V13H13V19Z"})}),folder:jsxRuntimeExports.jsx("svg",{height:"24px",width:"24px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M4 5V19H20V7H11.5858L9.58579 5H4ZM12.4142 5H21C21.5523 5 22 5.44772 22 6V20C22 20.5523 21.5523 21 21 21H3C2.44772 21 2 20.5523 2 20V4C2 3.44772 2.44772 3 3 3H10.4142L12.4142 5Z"})}),googledrive:jsxRuntimeExports.jsx("svg",{height:"24px",width:"24px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M9.09742 6.15015L4.31009 14.4431L6.06471 17.4746L10.8502 9.18597L9.09742 6.15015ZM7.79701 18.4742H17.3651L19.1162 15.44H9.54877L7.79701 18.4742ZM19.1109 13.44L14.3252 5.15002H10.8294L15.6156 13.44H19.1109ZM8.52 3.15002H15.48L22 14.4444L18.52 20.4742H5.49L2 14.4444L8.52 3.15002ZM12.0049 11.186L10.7035 13.44H13.3062L12.0049 11.186Z"})}),cursor:jsxRuntimeExports.jsx("svg",{height:"24px",width:"24px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M13.9093 12.3603L17.0007 20.8537L14.1816 21.8798L11.0902 13.3864L6.91797 16.5422L8.4087 1.63318L19.134 12.0959L13.9093 12.3603Z"})}),star:jsxRuntimeExports.jsx("svg",{height:"24px",width:"24px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M12.0006 18.26L4.94715 22.2082L6.52248 14.2799L0.587891 8.7918L8.61493 7.84006L12.0006 0.5L15.3862 7.84006L23.4132 8.7918L17.4787 14.2799L19.054 22.2082L12.0006 18.26ZM12.0006 15.968L16.2473 18.3451L15.2988 13.5717L18.8719 10.2674L14.039 9.69434L12.0006 5.27502L9.96214 9.69434L5.12921 10.2674L8.70231 13.5717L7.75383 18.3451L12.0006 15.968Z"})}),import:jsxRuntimeExports.jsx("svg",{height:"24px",width:"24px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M22 4C22 3.44772 21.5523 3 21 3H3C2.44772 3 2 3.44772 2 4V20C2 20.5523 2.44772 21 3 21H21C21.5523 21 22 20.5523 22 20V4ZM4 15H7.41604C8.1876 16.7659 9.94968 18 12 18C14.0503 18 15.8124 16.7659 16.584 15H20V19H4V15ZM4 5H20V13H15C15 14.6569 13.6569 16 12 16C10.3431 16 9 14.6569 9 13H4V5ZM16 9H13V6H11V9H8L12 13.5L16 9Z"})}),export:jsxRuntimeExports.jsx("svg",{height:"24px",width:"24px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M22 4C22 3.44772 21.5523 3 21 3H3C2.44772 3 2 3.44772 2 4V20C2 20.5523 2.44772 21 3 21H21C21.5523 21 22 20.5523 22 20V4ZM4 15H7.41604C8.1876 16.7659 9.94968 18 12 18C14.0503 18 15.8124 16.7659 16.584 15H20V19H4V15ZM4 5H20V13H15C15 14.6569 13.6569 16 12 16C10.3431 16 9 14.6569 9 13H4V5ZM16 11H13V14H11V11H8L12 6.5L16 11Z"})}),clipboard:jsxRuntimeExports.jsx("svg",{height:"24px",width:"24px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M7 4V2H17V4H20.0066C20.5552 4 21 4.44495 21 4.9934V21.0066C21 21.5552 20.5551 22 20.0066 22H3.9934C3.44476 22 3 21.5551 3 21.0066V4.9934C3 4.44476 3.44495 4 3.9934 4H7ZM7 6H5V20H19V6H17V8H7V6ZM9 4V6H15V4H9Z"})}),stack:jsxRuntimeExports.jsx("svg",{height:"24px",width:"24px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M20.0834 15.1999L21.2855 15.9212C21.5223 16.0633 21.599 16.3704 21.457 16.6072C21.4147 16.6776 21.3559 16.7365 21.2855 16.7787L12.5145 22.0412C12.1979 22.2313 11.8022 22.2313 11.4856 22.0412L2.71463 16.7787C2.47784 16.6366 2.40106 16.3295 2.54313 16.0927C2.58536 16.0223 2.64425 15.9634 2.71463 15.9212L3.91672 15.1999L12.0001 20.0499L20.0834 15.1999ZM20.0834 10.4999L21.2855 11.2212C21.5223 11.3633 21.599 11.6704 21.457 11.9072C21.4147 11.9776 21.3559 12.0365 21.2855 12.0787L12.0001 17.6499L2.71463 12.0787C2.47784 11.9366 2.40106 11.6295 2.54313 11.3927C2.58536 11.3223 2.64425 11.2634 2.71463 11.2212L3.91672 10.4999L12.0001 15.3499L20.0834 10.4999ZM12.5145 1.30864L21.2855 6.5712C21.5223 6.71327 21.599 7.0204 21.457 7.25719C21.4147 7.32757 21.3559 7.38647 21.2855 7.42869L12.0001 12.9999L2.71463 7.42869C2.47784 7.28662 2.40106 6.97949 2.54313 6.7427C2.58536 6.67232 2.64425 6.61343 2.71463 6.5712L11.4856 1.30864C11.8022 1.11864 12.1979 1.11864 12.5145 1.30864ZM12.0001 3.33233L5.88735 6.99995L12.0001 10.6676L18.1128 6.99995L12.0001 3.33233Z"})})};return _e}const word="[a-fA-F\\d:]",b$1=_e=>_e&&_e.includeBoundaries?`(?:(?<=\\s|^)(?=${word})|(?<=${word})(?=\\s|$))`:"",v4="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",v6seg="[a-fA-F\\d]{1,4}",v6=`
(?:
(?:${v6seg}:){7}(?:${v6seg}|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:${v6seg}:){6}(?:${v4}|:${v6seg}|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:${v6seg}:){5}(?::${v4}|(?::${v6seg}){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:${v6seg}:){4}(?:(?::${v6seg}){0,1}:${v4}|(?::${v6seg}){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:${v6seg}:){3}(?:(?::${v6seg}){0,2}:${v4}|(?::${v6seg}){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:${v6seg}:){2}(?:(?::${v6seg}){0,3}:${v4}|(?::${v6seg}){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:${v6seg}:){1}(?:(?::${v6seg}){0,4}:${v4}|(?::${v6seg}){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::${v6seg}){0,5}:${v4}|(?::${v6seg}){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`.replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),v46Exact=new RegExp(`(?:^${v4}$)|(?:^${v6}$)`),v4exact=new RegExp(`^${v4}$`),v6exact=new RegExp(`^${v6}$`),ip=_e=>_e&&_e.exact?v46Exact:new RegExp(`(?:${b$1(_e)}${v4}${b$1(_e)})|(?:${b$1(_e)}${v6}${b$1(_e)})`,"g");ip.v4=_e=>_e&&_e.exact?v4exact:new RegExp(`${b$1(_e)}${v4}${b$1(_e)}`,"g");ip.v6=_e=>_e&&_e.exact?v6exact:new RegExp(`${b$1(_e)}${v6}${b$1(_e)}`,"g");var ipRegex$1=ip;const ipRegex=ipRegex$1,isIp=_e=>ipRegex({exact:!0}).test(_e);isIp.v4=_e=>ipRegex.v4({exact:!0}).test(_e);isIp.v6=_e=>ipRegex.v6({exact:!0}).test(_e);isIp.version=_e=>isIp(_e)?isIp.v4(_e)?4:6:void 0;var isIp_1=isIp;const isIp$1=getDefaultExportFromCjs(isIp_1);class CancelError extends Error{constructor(){super("Request was cancelled"),this.name="CancelError"}get isCanceled(){return!0}}class IpNotFoundError extends Error{constructor(et){super("Could not get the public IP address",et),this.name="IpNotFoundError"}}const defaults$5={timeout:5e3},urls={v4:["https://ipv4.icanhazip.com/","https://api.ipify.org/"],v6:["https://ipv6.icanhazip.com/","https://api6.ipify.org/"]},sendXhr=(_e,et,tt)=>{const nt=new XMLHttpRequest;let rt;const it=new Promise((ot,st)=>{rt=st,nt.addEventListener("error",st,{once:!0}),nt.addEventListener("timeout",st,{once:!0}),nt.addEventListener("load",()=>{const ut=nt.responseText.trim();if(!ut||!isIp$1[tt](ut)){st();return}ot(ut)},{once:!0}),nt.open("GET",_e),nt.timeout=et.timeout,nt.send()});return it.cancel=()=>{nt.abort(),rt(new CancelError)},it},queryHttps=(_e,et)=>{let tt;const nt=async function(){const rt=[...urls[_e],...et.fallbackUrls??[]];let it;for(const ot of rt)try{return tt=sendXhr(ot,et,_e),await tt}catch(st){if(it=st,st instanceof CancelError)throw st}throw new IpNotFoundError({cause:it})}();return nt.cancel=()=>{tt.cancel()},nt},publicIp={};publicIp.v4=_e=>queryHttps("v4",{...defaults$5,..._e});publicIp.v6=_e=>queryHttps("v6",{...defaults$5,..._e});async function isOnline(_e){if(_e={timeout:5e3,ipVersion:4,..._e},!(navigator!=null&&navigator.onLine))return!1;const et=_e.ipVersion===4?"v4":"v6";try{return await publicIp[et](_e),!0}catch{return!1}}function useAppState(_e){const et=useUtils();let tt=reactExports.useRef(new AbortController);const[nt,rt]=reactExports.useState(0),[it,ot]=reactExports.useState(""),st=reactExports.useRef([]);function ut(En){st.current=En}const[ft,dt]=reactExports.useState([]);function lt(En){dt(En),localStorage.setItem("voice2llm_category_filter",JSON.stringify(En)),_e.doSave()}const at=reactExports.useRef(!1);let ct=reactExports.useRef();reactExports.useEffect(function(){return ct.current=setInterval(function(){isOnline().then(function(En){at.current=En,kn()})},2e4),isOnline().then(function(En){at.current=En,kn()}),function(){window.clearInterval(ct.current)}},[]);const[ht,pt]=reactExports.useState(!1),[mt,gt]=reactExports.useState(!1),[yt,bt]=reactExports.useState(!1),[xt,vt]=reactExports.useState(!1),[wt,_t]=reactExports.useState({fred:3,mike:9});function Ct(En){_t(En),localStorage.setItem("voice2llm_categories",JSON.stringify(En)),_e.doSave()}const[Et,$t]=reactExports.useState(""),jt=reactExports.useRef("");function Dt(En){jt.current=En,$t(En)}const[Pt,kt]=reactExports.useState(!1),[At,Tt]=reactExports.useState(!1),[St,Rt]=reactExports.useState();function Ot(En){Rt(En),localStorage.setItem("voice2llm_config",JSON.stringify(En)),_e.doSave()}const[Nt,It]=reactExports.useState(0);function Bt(En){En?fetch("https://m7tueuetec.execute-api.us-east-1.amazonaws.com/rate",{method:"GET",headers:{authorization:"Bearer "+En}}).then(function(sn){if(!sn.ok)throw new Error("Failed to load rate");sn.text().then(function(On){parseFloat(On.replace('"',""))>0?It(parseFloat(On.replace('"',""))):It(0)})}):It(0)}reactExports.useEffect(function(){_e.token&&_e.token.access_token&&Bt(_e.token.access_token)},[_e.token&&_e.token.access_token]);const[zt,Gt]=reactExports.useState(0);function Kt(En){En?fetch("https://m7tueuetec.execute-api.us-east-1.amazonaws.com/balance",{method:"GET",headers:{authorization:"Bearer "+En}}).then(function(sn){if(!sn.ok)throw new Error("Failed to load balance");sn.text().then(function(On){parseFloat(On)>0?Gt(parseFloat(On)):Gt(0)})}):Gt(0)}const[fn,dn]=reactExports.useState([]);reactExports.useEffect(function(){Vt.current&&fetch("https://m7tueuetec.execute-api.us-east-1.amazonaws.com/pricing",{method:"GET",headers:{authorization:"Bearer "+(_e.token&&_e.token.access_token?_e.token.access_token:"")}}).then(function(En){if(!En.ok)throw new Error("Failed to load pricing");En.json().then(function(sn){if(sn&&sn.llm){let On=sn.llm.map(function(Dn){return Dn.id=et.generateRandomId(),Dn}),Tn=[];_e.token&&_e.token.access_token?zt>0&&_e.token&&_e.token.access_token?Tn=["openai","groqcloud","togetherai","deepinfra"]:(Vt.current&&Vt.current.llm&&Vt.current.llm.openai_key&&Tn.push("openai"),Tn.push("groqcloud")):Tn.push("groqcloud");let bn=On.filter(function(Dn){return console.log(Dn.provider,Tn),!!(Dn.provider&&Tn.indexOf(Dn.provider)!==-1)});Vt.current&&Vt.current.llm&&Vt.current.llm.self_hosted_url&&(Vt.current&&Vt.current.llm&&Vt.current.llm.self_hosted_models?Vt.current.llm.self_hosted_models.split(",").forEach(function(Dn){bn.push({provider:"selfhosted",model:Dn,price_in:0,price_out:0})}):bn.push({provider:"selfhosted",model:"selfhosted",price_in:0,price_out:0})),dn(bn)}})})},[St&&St.llm&&St.llm.self_hosted_models?St.llm.self_hosted_models:"",St&&St.llm&&St.llm.self_hosted_key?St.llm.self_hosted_key:"",St&&St.llm&&St.llm.openai_key?St.llm.openai_key:"",St&&St.llm&&St.llm.groqcloud_key?St.llm.groqcloud_key:"",zt,_e.token&&_e.token.access_token?_e.token.access_token:""]);const[Wt,rn]=reactExports.useState(!0),Vt=reactExports.useRef({}),an=reactExports.useRef(""),Qt=useIcons();reactExports.useEffect(function(){if(!St){try{let En=JSON.parse(localStorage.getItem("voice2llm_config"));Ot(En),kn()}catch{Ot({llm:{},tts:{},stt:{}}),kn()}try{let En=JSON.parse(localStorage.getItem("voice2llm_category_filter"));lt(En),kn()}catch{lt(["featured"]),kn()}}},[]);function Zt(){return!0}function xn(){vt(!0)}function vn(){vt(!1)}const[gn,Cn]=reactExports.useState(new Date().getTime());function kn(){Cn(new Date().getTime())}return{errorMessage:it,setErrorMessage:ot,isOnlineRef:at,exchangeRate:Nt,setExchangeRate:It,updateExchangeRate:Bt,abortController:tt,creditBalance:zt,updateCreditBalance:Kt,availableModels:fn,utteranceQueue:st,setUtteranceQueue:ut,mergeData:yt,setMergeData:bt,lastLlmTrigger:an,autoStartMicrophone:ht,setAutoStartMicrophone:pt,autoStopMicrophone:mt,setAutoStopMicrophone:gt,llmEnabled:Wt,setLlmEnabled:rn,icons:Qt,configRef:Vt,refreshHash:gn,setRefreshHash:Cn,forceRefresh:kn,hasRequiredConfig:Zt,isSpeaking:At,setIsSpeaking:Tt,isWaiting:xt,startWaiting:xn,stopWaiting:vn,userMessage:Et,userMessageRef:jt,setUserMessage:Dt,isReady:Pt,setIsReady:kt,config:St,setConfig:Ot,categories:wt,setCategories:Ct,accordionSelectedKey:nt,setAccordionSelectedKey:rt,categoryFilter:ft,setCategoryFilter:lt}}var index$5=reactExports.useLayoutEffect,useLatest=function(et){var tt=reactExports.useRef(et);return index$5(function(){tt.current=et}),tt},updateRef=function(et,tt){if(typeof et=="function"){et(tt);return}et.current=tt},useComposedRef=function(et,tt){var nt=reactExports.useRef();return reactExports.useCallback(function(rt){et.current=rt,nt.current&&updateRef(nt.current,null),nt.current=tt,tt&&updateRef(tt,rt)},[tt])},HIDDEN_TEXTAREA_STYLE={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},forceHiddenStyles=function(et){Object.keys(HIDDEN_TEXTAREA_STYLE).forEach(function(tt){et.style.setProperty(tt,HIDDEN_TEXTAREA_STYLE[tt],"important")})},forceHiddenStyles$1=forceHiddenStyles,hiddenTextarea=null,getHeight=function(et,tt){var nt=et.scrollHeight;return tt.sizingStyle.boxSizing==="border-box"?nt+tt.borderSize:nt-tt.paddingSize};function calculateNodeHeight(_e,et,tt,nt){tt===void 0&&(tt=1),nt===void 0&&(nt=1/0),hiddenTextarea||(hiddenTextarea=document.createElement("textarea"),hiddenTextarea.setAttribute("tabindex","-1"),hiddenTextarea.setAttribute("aria-hidden","true"),forceHiddenStyles$1(hiddenTextarea)),hiddenTextarea.parentNode===null&&document.body.appendChild(hiddenTextarea);var rt=_e.paddingSize,it=_e.borderSize,ot=_e.sizingStyle,st=ot.boxSizing;Object.keys(ot).forEach(function(at){var ct=at;hiddenTextarea.style[ct]=ot[ct]}),forceHiddenStyles$1(hiddenTextarea),hiddenTextarea.value=et;var ut=getHeight(hiddenTextarea,_e);hiddenTextarea.value=et,ut=getHeight(hiddenTextarea,_e),hiddenTextarea.value="x";var ft=hiddenTextarea.scrollHeight-rt,dt=ft*tt;st==="border-box"&&(dt=dt+rt+it),ut=Math.max(dt,ut);var lt=ft*nt;return st==="border-box"&&(lt=lt+rt+it),ut=Math.min(lt,ut),[ut,ft]}var noop$4=function(){},pick=function(et,tt){return et.reduce(function(nt,rt){return nt[rt]=tt[rt],nt},{})},SIZING_STYLE=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],isIE=!!document.documentElement.currentStyle,getSizingData=function(et){var tt=window.getComputedStyle(et);if(tt===null)return null;var nt=pick(SIZING_STYLE,tt),rt=nt.boxSizing;if(rt==="")return null;isIE&&rt==="border-box"&&(nt.width=parseFloat(nt.width)+parseFloat(nt.borderRightWidth)+parseFloat(nt.borderLeftWidth)+parseFloat(nt.paddingRight)+parseFloat(nt.paddingLeft)+"px");var it=parseFloat(nt.paddingBottom)+parseFloat(nt.paddingTop),ot=parseFloat(nt.borderBottomWidth)+parseFloat(nt.borderTopWidth);return{sizingStyle:nt,paddingSize:it,borderSize:ot}},getSizingData$1=getSizingData;function useListener(_e,et,tt){var nt=useLatest(tt);reactExports.useLayoutEffect(function(){var rt=function(ot){return nt.current(ot)};if(_e)return _e.addEventListener(et,rt),function(){return _e.removeEventListener(et,rt)}},[])}var useWindowResizeListener=function(et){useListener(window,"resize",et)},useFontsLoadedListener=function(et){useListener(document.fonts,"loadingdone",et)},_excluded$1=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],TextareaAutosize=function(et,tt){var nt=et.cacheMeasurements,rt=et.maxRows,it=et.minRows,ot=et.onChange,st=ot===void 0?noop$4:ot,ut=et.onHeightChange,ft=ut===void 0?noop$4:ut,dt=_objectWithoutPropertiesLoose$d(et,_excluded$1),lt=dt.value!==void 0,at=reactExports.useRef(null),ct=useComposedRef(at,tt),ht=reactExports.useRef(0),pt=reactExports.useRef(),mt=function(){var bt=at.current,xt=nt&&pt.current?pt.current:getSizingData$1(bt);if(xt){pt.current=xt;var vt=calculateNodeHeight(xt,bt.value||bt.placeholder||"x",it,rt),wt=vt[0],_t=vt[1];ht.current!==wt&&(ht.current=wt,bt.style.setProperty("height",wt+"px","important"),ft(wt,{rowHeight:_t}))}},gt=function(bt){lt||mt(),st(bt)};return reactExports.useLayoutEffect(mt),useWindowResizeListener(mt),useFontsLoadedListener(mt),reactExports.createElement("textarea",_extends$5({},dt,{onChange:gt,ref:ct}))},index$4=reactExports.forwardRef(TextareaAutosize);function ConfigWizard({user:_e,token:et,login:tt,logout:nt,config:rt,setConfig:it,forceRefresh:ot}){const[st,ut]=reactExports.useState(""),[ft,dt]=reactExports.useState("");reactExports.useState("");const lt=useIcons();reactExports.useEffect(function(){ut(rt&&rt.llm&&rt.llm.openai_key?rt.llm.openai_key:"")},[JSON.stringify(rt)]);function at(){st&&(rt=rt||{},rt.llm=rt.llm?rt.llm:{},rt.stt=rt.stt?rt.stt:{},rt.tts=rt.tts?rt.tts:{},rt.llm.openai_key=st,rt.llm.use="openai",rt.stt.openai_key=st,rt.stt.use="openai",rt.tts.openai_key=st,rt.tts.use="openai",it(rt),ot())}function ct(){ft&&(rt=rt||{},rt.llm=rt.llm?rt.llm:{},rt.stt=rt.stt?rt.stt:{},rt.tts=rt.tts?rt.tts:{},rt.llm.openai_key=ft,rt.llm.openai_hosted_url="https://api.groq.com/openai",rt.llm.openai_model="llama3-8b-8192",rt.llm.use="openai",it(rt),ot())}function ht(){rt=rt||{},rt.llm=rt.llm?rt.llm:{},rt.llm.use="none",it(rt),ot()}return jsxRuntimeExports.jsxs("div",{style:{marginLeft:"0.5em"},children:[jsxRuntimeExports.jsxs("h5",{style:{marginTop:"1em",marginBottom:"1em"},children:["Quick Start",!(et&&et.access_token)&&jsxRuntimeExports.jsx(Button,{style:{marginLeft:"3em"},onClick:function(){tt()},variant:"primary",children:"Login to Load Configuration"}),jsxRuntimeExports.jsx(Button,{style:{marginLeft:"3em"},variant:"danger",onClick:ht,children:"Skip"})]}),jsxRuntimeExports.jsxs("div",{style:{borderBottom:"2px solid black"},children:[jsxRuntimeExports.jsxs(Row,{children:[jsxRuntimeExports.jsxs(Col,{className:"mb-3",style:{border:"1px solid black",paddingTop:"1.5em",paddingBottom:"1.5em",paddingLeft:"1em",paddingRight:"1em"},children:[jsxRuntimeExports.jsx("b",{style:{fontSize:"1em",marginBottom:"1em"},children:"The easiest way to get going is to enter an API key for OpenAI."}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("div",{style:{marginBottom:"1em"},children:jsxRuntimeExports.jsx("a",{target:"_new",href:"https://platform.openai.com/api-keys",style:{textDecoration:"none"},children:jsxRuntimeExports.jsx(Button,{variant:"primary",style:{},children:"Get API Key"})})}),jsxRuntimeExports.jsxs(Form$1.Group,{className:"mb-3",controlId:"formKey",children:[jsxRuntimeExports.jsx(Form$1.Control,{type:"text",placeholder:"Enter key",style:{width:"80%",float:"left"},value:st,onChange:function(pt){ut(pt.target.value)}}),jsxRuntimeExports.jsx(Button,{variant:"primary",style:{float:"right",fontStyle:"italic",float:"left"},onClick:function(){navigator.clipboard.readText().then(pt=>{document.getElementById("pasteArea").innerText=pt}).catch(pt=>{console.error("Failed to read clipboard contents: ",pt)})},children:lt.clipboard}),jsxRuntimeExports.jsx(Button,{style:{float:"left"},disabled:!st,variant:"success",onClick:at,children:"Setup OpenAi"}),jsxRuntimeExports.jsx("div",{style:{clear:"both"}})]})]}),jsxRuntimeExports.jsxs(Col,{className:"mb-3",style:{border:"1px solid black",paddingTop:"1.5em",paddingBottom:"1.5em",paddingLeft:"1em",paddingRight:"1em"},children:[jsxRuntimeExports.jsx("b",{style:{fontSize:"1em",marginBottom:"1em"},children:"Alternately GroqCloud is fast and cheap for open models."}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("div",{style:{marginBottom:"1em"},children:jsxRuntimeExports.jsx("a",{target:"_new",href:"https://console.groq.com/keys",style:{textDecoration:"none"},children:jsxRuntimeExports.jsx(Button,{variant:"primary",style:{},children:"Get API Key"})})}),jsxRuntimeExports.jsxs(Form$1.Group,{className:"mb-3",controlId:"formKey",children:[jsxRuntimeExports.jsx(Form$1.Control,{type:"text",placeholder:"Enter key",style:{width:"80%",float:"left"},value:ft,onChange:function(pt){dt(pt.target.value)}}),jsxRuntimeExports.jsx(Button,{variant:"primary",style:{float:"right",fontStyle:"italic",float:"left"},onClick:function(){navigator.clipboard.readText().then(pt=>{document.getElementById("pasteArea").innerText=pt}).catch(pt=>{console.error("Failed to read clipboard contents: ",pt)})},children:lt.clipboard}),jsxRuntimeExports.jsx(Button,{style:{float:"left"},disabled:!ft,variant:"success",onClick:ct,children:"Setup GroqCloud"}),jsxRuntimeExports.jsx("div",{style:{clear:"both"}})]})]})]}),jsxRuntimeExports.jsx(Row,{children:jsxRuntimeExports.jsx(Col,{children:jsxRuntimeExports.jsxs(Form$1.Text,{className:"text-muted",children:[jsxRuntimeExports.jsx("div",{style:{color:"red",fontWeight:"bold"},children:"Warning! API Keys are stored in browser local storage on this computer."}),jsxRuntimeExports.jsx("div",{style:{color:"red",fontWeight:"bold"},children:"Warning! If you login with Google, API Keys are stored in private document in your Google Drive."}),jsxRuntimeExports.jsx("div",{style:{color:"red",fontWeight:"bold"},children:"API Keys are used strictly for relevant API requests."})]})})}),jsxRuntimeExports.jsx(Row,{style:{borderTop:"2px solid black",marginTop:"1em",marginBottom:"1em"},children:jsxRuntimeExports.jsx(Col,{children:jsxRuntimeExports.jsxs(Form$1.Text,{className:"text-muted",children:[jsxRuntimeExports.jsxs("span",{style:{color:"black",fontWeight:"bold"},children:["This an Open Source project released under an MIT licence, the ",jsxRuntimeExports.jsx("a",{target:"new",href:"https://github.com/syntithenai/talktoateam",style:{color:"black",borderRadius:"50px"},children:"	source code is available on Github"}),jsxRuntimeExports.jsxs("a",{target:"new",href:"https://github.com/syntithenai/talktoateam",style:{color:"black",borderRadius:"50px"},children:[lt.github,"  "]})]}),jsxRuntimeExports.jsx("span",{children:jsxRuntimeExports.jsxs("form",{action:"https://www.paypal.com/donate",method:"post",target:"_new",children:[jsxRuntimeExports.jsx("input",{type:"hidden",name:"hosted_button_id",value:"3YUZQ4TGLEVCE"}),jsxRuntimeExports.jsx("input",{type:"image",style:{transform:"rotate(20deg)",height:"60px",width:"50px"},src:"https://pics.paypal.com/00/s/OGVmNmM4NTQtMGQ0MS00NGVhLWI0NDgtNzMxYWRkMDY5NzIy/file.PNG",border:"0",name:"submit",title:"Buy me a beer!",alt:"Buy me a beer!"}),jsxRuntimeExports.jsx("img",{alt:"",border:"0",src:"https://www.paypal.com/en_AU/i/scr/pixel.gif",width:"1",height:"1"})]})})]})})})]})]})}var dist$4={},ga4={},gtag={};(function(_e){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var et=function(){for(var rt=arguments.length,it=new Array(rt),ot=0;ot<rt;ot++)it[ot]=arguments[ot];if(typeof window<"u"){var st;typeof window.gtag>"u"&&(window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)}),(st=window).gtag.apply(st,it)}},tt=et;_e.default=tt})(gtag);var format$4={};(function(_e){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=ot;var et=/^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|vs?\.?|via)$/i;function tt(st){return st.toString().trim().replace(/[A-Za-z0-9\u00C0-\u00FF]+[^\s-]*/g,function(ut,ft,dt){return ft>0&&ft+ut.length!==dt.length&&ut.search(et)>-1&&dt.charAt(ft-2)!==":"&&(dt.charAt(ft+ut.length)!=="-"||dt.charAt(ft-1)==="-")&&dt.charAt(ft-1).search(/[^\s-]/)<0?ut.toLowerCase():ut.substr(1).search(/[A-Z]|\../)>-1?ut:ut.charAt(0).toUpperCase()+ut.substr(1)})}function nt(st){return typeof st=="string"&&st.indexOf("@")!==-1}var rt="REDACTED (Potential Email Address)";function it(st){return nt(st)?(console.warn("This arg looks like an email address, redacting."),rt):st}function ot(){var st=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",ut=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,ft=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,dt=st||"";return ut&&(dt=tt(st)),ft&&(dt=it(dt)),dt}})(format$4);(function(_e){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=_e.GA4=void 0;var et=ot(gtag),tt=ot(format$4),nt=["eventCategory","eventAction","eventLabel","eventValue","hitType"],rt=["title","location"],it=["page","hitType"];function ot(kt){return kt&&kt.__esModule?kt:{default:kt}}function st(kt,At){if(kt==null)return{};var Tt=ut(kt,At),St,Rt;if(Object.getOwnPropertySymbols){var Ot=Object.getOwnPropertySymbols(kt);for(Rt=0;Rt<Ot.length;Rt++)St=Ot[Rt],!(At.indexOf(St)>=0)&&Object.prototype.propertyIsEnumerable.call(kt,St)&&(Tt[St]=kt[St])}return Tt}function ut(kt,At){if(kt==null)return{};var Tt={},St=Object.keys(kt),Rt,Ot;for(Ot=0;Ot<St.length;Ot++)Rt=St[Ot],!(At.indexOf(Rt)>=0)&&(Tt[Rt]=kt[Rt]);return Tt}function ft(kt){"@babel/helpers - typeof";return ft=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(At){return typeof At}:function(At){return At&&typeof Symbol=="function"&&At.constructor===Symbol&&At!==Symbol.prototype?"symbol":typeof At},ft(kt)}function dt(kt){return ct(kt)||at(kt)||yt(kt)||lt()}function lt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function at(kt){if(typeof Symbol<"u"&&kt[Symbol.iterator]!=null||kt["@@iterator"]!=null)return Array.from(kt)}function ct(kt){if(Array.isArray(kt))return bt(kt)}function ht(kt,At){var Tt=Object.keys(kt);if(Object.getOwnPropertySymbols){var St=Object.getOwnPropertySymbols(kt);At&&(St=St.filter(function(Rt){return Object.getOwnPropertyDescriptor(kt,Rt).enumerable})),Tt.push.apply(Tt,St)}return Tt}function pt(kt){for(var At=1;At<arguments.length;At++){var Tt=arguments[At]!=null?arguments[At]:{};At%2?ht(Object(Tt),!0).forEach(function(St){Et(kt,St,Tt[St])}):Object.getOwnPropertyDescriptors?Object.defineProperties(kt,Object.getOwnPropertyDescriptors(Tt)):ht(Object(Tt)).forEach(function(St){Object.defineProperty(kt,St,Object.getOwnPropertyDescriptor(Tt,St))})}return kt}function mt(kt,At){return vt(kt)||xt(kt,At)||yt(kt,At)||gt()}function gt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yt(kt,At){if(kt){if(typeof kt=="string")return bt(kt,At);var Tt=Object.prototype.toString.call(kt).slice(8,-1);if(Tt==="Object"&&kt.constructor&&(Tt=kt.constructor.name),Tt==="Map"||Tt==="Set")return Array.from(kt);if(Tt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Tt))return bt(kt,At)}}function bt(kt,At){(At==null||At>kt.length)&&(At=kt.length);for(var Tt=0,St=new Array(At);Tt<At;Tt++)St[Tt]=kt[Tt];return St}function xt(kt,At){var Tt=kt==null?null:typeof Symbol<"u"&&kt[Symbol.iterator]||kt["@@iterator"];if(Tt!=null){var St,Rt,Ot,Nt,It=[],Bt=!0,zt=!1;try{if(Ot=(Tt=Tt.call(kt)).next,At!==0)for(;!(Bt=(St=Ot.call(Tt)).done)&&(It.push(St.value),It.length!==At);Bt=!0);}catch(Gt){zt=!0,Rt=Gt}finally{try{if(!Bt&&Tt.return!=null&&(Nt=Tt.return(),Object(Nt)!==Nt))return}finally{if(zt)throw Rt}}return It}}function vt(kt){if(Array.isArray(kt))return kt}function wt(kt,At){if(!(kt instanceof At))throw new TypeError("Cannot call a class as a function")}function _t(kt,At){for(var Tt=0;Tt<At.length;Tt++){var St=At[Tt];St.enumerable=St.enumerable||!1,St.configurable=!0,"value"in St&&(St.writable=!0),Object.defineProperty(kt,$t(St.key),St)}}function Ct(kt,At,Tt){return At&&_t(kt.prototype,At),Object.defineProperty(kt,"prototype",{writable:!1}),kt}function Et(kt,At,Tt){return At=$t(At),At in kt?Object.defineProperty(kt,At,{value:Tt,enumerable:!0,configurable:!0,writable:!0}):kt[At]=Tt,kt}function $t(kt){var At=jt(kt,"string");return ft(At)==="symbol"?At:String(At)}function jt(kt,At){if(ft(kt)!=="object"||kt===null)return kt;var Tt=kt[Symbol.toPrimitive];if(Tt!==void 0){var St=Tt.call(kt,At||"default");if(ft(St)!=="object")return St;throw new TypeError("@@toPrimitive must return a primitive value.")}return(At==="string"?String:Number)(kt)}var Dt=function(){function kt(){var At=this;wt(this,kt),Et(this,"reset",function(){At.isInitialized=!1,At._testMode=!1,At._currentMeasurementId,At._hasLoadedGA=!1,At._isQueuing=!1,At._queueGtag=[]}),Et(this,"_gtag",function(){for(var Tt=arguments.length,St=new Array(Tt),Rt=0;Rt<Tt;Rt++)St[Rt]=arguments[Rt];At._testMode||At._isQueuing?At._queueGtag.push(St):et.default.apply(void 0,St)}),Et(this,"_loadGA",function(Tt,St){var Rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"https://www.googletagmanager.com/gtag/js";if(!(typeof window>"u"||typeof document>"u")&&!At._hasLoadedGA){var Ot=document.createElement("script");Ot.async=!0,Ot.src="".concat(Rt,"?id=").concat(Tt),St&&Ot.setAttribute("nonce",St),document.body.appendChild(Ot),window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},At._hasLoadedGA=!0}}),Et(this,"_toGtagOptions",function(Tt){if(Tt){var St={cookieUpdate:"cookie_update",cookieExpires:"cookie_expires",cookieDomain:"cookie_domain",cookieFlags:"cookie_flags",userId:"user_id",clientId:"client_id",anonymizeIp:"anonymize_ip",contentGroup1:"content_group1",contentGroup2:"content_group2",contentGroup3:"content_group3",contentGroup4:"content_group4",contentGroup5:"content_group5",allowAdFeatures:"allow_google_signals",allowAdPersonalizationSignals:"allow_ad_personalization_signals",nonInteraction:"non_interaction",page:"page_path",hitCallback:"event_callback"},Rt=Object.entries(Tt).reduce(function(Ot,Nt){var It=mt(Nt,2),Bt=It[0],zt=It[1];return St[Bt]?Ot[St[Bt]]=zt:Ot[Bt]=zt,Ot},{});return Rt}}),Et(this,"initialize",function(Tt){var St=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Tt)throw new Error("Require GA_MEASUREMENT_ID");var Rt=typeof Tt=="string"?[{trackingId:Tt}]:Tt;At._currentMeasurementId=Rt[0].trackingId;var Ot=St.gaOptions,Nt=St.gtagOptions,It=St.nonce,Bt=St.testMode,zt=Bt===void 0?!1:Bt,Gt=St.gtagUrl;if(At._testMode=zt,zt||At._loadGA(At._currentMeasurementId,It,Gt),At.isInitialized||(At._gtag("js",new Date),Rt.forEach(function(dn){var Wt=pt(pt(pt({},At._toGtagOptions(pt(pt({},Ot),dn.gaOptions))),Nt),dn.gtagOptions);Object.keys(Wt).length?At._gtag("config",dn.trackingId,Wt):At._gtag("config",dn.trackingId)})),At.isInitialized=!0,!zt){var Kt=dt(At._queueGtag);for(At._queueGtag=[],At._isQueuing=!1;Kt.length;){var fn=Kt.shift();At._gtag.apply(At,dt(fn)),fn[0]==="get"&&(At._isQueuing=!0)}}}),Et(this,"set",function(Tt){if(!Tt){console.warn("`fieldsObject` is required in .set()");return}if(ft(Tt)!=="object"){console.warn("Expected `fieldsObject` arg to be an Object");return}Object.keys(Tt).length===0&&console.warn("empty `fieldsObject` given to .set()"),At._gaCommand("set",Tt)}),Et(this,"_gaCommandSendEvent",function(Tt,St,Rt,Ot,Nt){At._gtag("event",St,pt(pt({event_category:Tt,event_label:Rt,value:Ot},Nt&&{non_interaction:Nt.nonInteraction}),At._toGtagOptions(Nt)))}),Et(this,"_gaCommandSendEventParameters",function(){for(var Tt=arguments.length,St=new Array(Tt),Rt=0;Rt<Tt;Rt++)St[Rt]=arguments[Rt];if(typeof St[0]=="string")At._gaCommandSendEvent.apply(At,dt(St.slice(1)));else{var Ot=St[0],Nt=Ot.eventCategory,It=Ot.eventAction,Bt=Ot.eventLabel,zt=Ot.eventValue;Ot.hitType;var Gt=st(Ot,nt);At._gaCommandSendEvent(Nt,It,Bt,zt,Gt)}}),Et(this,"_gaCommandSendTiming",function(Tt,St,Rt,Ot){At._gtag("event","timing_complete",{name:St,value:Rt,event_category:Tt,event_label:Ot})}),Et(this,"_gaCommandSendPageview",function(Tt,St){if(St&&Object.keys(St).length){var Rt=At._toGtagOptions(St),Ot=Rt.title,Nt=Rt.location,It=st(Rt,rt);At._gtag("event","page_view",pt(pt(pt(pt({},Tt&&{page_path:Tt}),Ot&&{page_title:Ot}),Nt&&{page_location:Nt}),It))}else Tt?At._gtag("event","page_view",{page_path:Tt}):At._gtag("event","page_view")}),Et(this,"_gaCommandSendPageviewParameters",function(){for(var Tt=arguments.length,St=new Array(Tt),Rt=0;Rt<Tt;Rt++)St[Rt]=arguments[Rt];if(typeof St[0]=="string")At._gaCommandSendPageview.apply(At,dt(St.slice(1)));else{var Ot=St[0],Nt=Ot.page;Ot.hitType;var It=st(Ot,it);At._gaCommandSendPageview(Nt,It)}}),Et(this,"_gaCommandSend",function(){for(var Tt=arguments.length,St=new Array(Tt),Rt=0;Rt<Tt;Rt++)St[Rt]=arguments[Rt];var Ot=typeof St[0]=="string"?St[0]:St[0].hitType;switch(Ot){case"event":At._gaCommandSendEventParameters.apply(At,St);break;case"pageview":At._gaCommandSendPageviewParameters.apply(At,St);break;case"timing":At._gaCommandSendTiming.apply(At,dt(St.slice(1)));break;case"screenview":case"transaction":case"item":case"social":case"exception":console.warn("Unsupported send command: ".concat(Ot));break;default:console.warn("Send command doesn't exist: ".concat(Ot))}}),Et(this,"_gaCommandSet",function(){for(var Tt=arguments.length,St=new Array(Tt),Rt=0;Rt<Tt;Rt++)St[Rt]=arguments[Rt];typeof St[0]=="string"&&(St[0]=Et({},St[0],St[1])),At._gtag("set",At._toGtagOptions(St[0]))}),Et(this,"_gaCommand",function(Tt){for(var St=arguments.length,Rt=new Array(St>1?St-1:0),Ot=1;Ot<St;Ot++)Rt[Ot-1]=arguments[Ot];switch(Tt){case"send":At._gaCommandSend.apply(At,Rt);break;case"set":At._gaCommandSet.apply(At,Rt);break;default:console.warn("Command doesn't exist: ".concat(Tt))}}),Et(this,"ga",function(){for(var Tt=arguments.length,St=new Array(Tt),Rt=0;Rt<Tt;Rt++)St[Rt]=arguments[Rt];if(typeof St[0]=="string")At._gaCommand.apply(At,St);else{var Ot=St[0];At._gtag("get",At._currentMeasurementId,"client_id",function(Nt){At._isQueuing=!1;var It=At._queueGtag;for(Ot({get:function(Gt){return Gt==="clientId"?Nt:Gt==="trackingId"?At._currentMeasurementId:Gt==="apiVersion"?"1":void 0}});It.length;){var Bt=It.shift();At._gtag.apply(At,dt(Bt))}}),At._isQueuing=!0}return At.ga}),Et(this,"event",function(Tt,St){if(typeof Tt=="string")At._gtag("event",Tt,At._toGtagOptions(St));else{var Rt=Tt.action,Ot=Tt.category,Nt=Tt.label,It=Tt.value,Bt=Tt.nonInteraction,zt=Tt.transport;if(!Ot||!Rt){console.warn("args.category AND args.action are required in event()");return}var Gt={hitType:"event",eventCategory:(0,tt.default)(Ot),eventAction:(0,tt.default)(Rt)};Nt&&(Gt.eventLabel=(0,tt.default)(Nt)),typeof It<"u"&&(typeof It!="number"?console.warn("Expected `args.value` arg to be a Number."):Gt.eventValue=It),typeof Bt<"u"&&(typeof Bt!="boolean"?console.warn("`args.nonInteraction` must be a boolean."):Gt.nonInteraction=Bt),typeof zt<"u"&&(typeof zt!="string"?console.warn("`args.transport` must be a string."):(["beacon","xhr","image"].indexOf(zt)===-1&&console.warn("`args.transport` must be either one of these values: `beacon`, `xhr` or `image`"),Gt.transport=zt)),At._gaCommand("send",Gt)}}),Et(this,"send",function(Tt){At._gaCommand("send",Tt)}),this.reset()}return Ct(kt,[{key:"gtag",value:function(){this._gtag.apply(this,arguments)}}]),kt}();_e.GA4=Dt;var Pt=new Dt;_e.default=Pt})(ga4);(function(_e){function et(st){"@babel/helpers - typeof";return et=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ut){return typeof ut}:function(ut){return ut&&typeof Symbol=="function"&&ut.constructor===Symbol&&ut!==Symbol.prototype?"symbol":typeof ut},et(st)}Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=_e.ReactGAImplementation=void 0;var tt=rt(ga4);function nt(st){if(typeof WeakMap!="function")return null;var ut=new WeakMap,ft=new WeakMap;return(nt=function(lt){return lt?ft:ut})(st)}function rt(st,ut){if(st&&st.__esModule)return st;if(st===null||et(st)!=="object"&&typeof st!="function")return{default:st};var ft=nt(ut);if(ft&&ft.has(st))return ft.get(st);var dt={},lt=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var at in st)if(at!=="default"&&Object.prototype.hasOwnProperty.call(st,at)){var ct=lt?Object.getOwnPropertyDescriptor(st,at):null;ct&&(ct.get||ct.set)?Object.defineProperty(dt,at,ct):dt[at]=st[at]}return dt.default=st,ft&&ft.set(st,dt),dt}var it=tt.GA4;_e.ReactGAImplementation=it;var ot=tt.default;_e.default=ot})(dist$4);const ReactGA=getDefaultExportFromCjs(dist$4);var dist$3={},ort_min={exports:{}};/*!
* ONNX Runtime Web v1.15.1
* Copyright (c) Microsoft Corporation. All rights reserved.
* Licensed under the MIT License.
*/(function(module,exports){(function(_e,et){module.exports=et()})(self,()=>(()=>{var __webpack_modules__={8453:(_e,et,tt)=>{tt.r(et),tt.d(et,{InferenceSession:()=>ct,Tensor:()=>lt,env:()=>ot,registerBackend:()=>it});const nt={},rt=[],it=(ht,pt,mt)=>{if(!pt||typeof pt.init!="function"||typeof pt.createSessionHandler!="function")throw new TypeError("not a valid backend");{const gt=nt[ht];if(gt===void 0)nt[ht]={backend:pt,priority:mt};else{if(gt.priority>mt)return;if(gt.priority===mt&&gt.backend!==pt)throw new Error(`cannot register backend "${ht}" using priority ${mt}`)}if(mt>=0){const yt=rt.indexOf(ht);yt!==-1&&rt.splice(yt,1);for(let bt=0;bt<rt.length;bt++)if(nt[rt[bt]].priority<=mt)return void rt.splice(bt,0,ht);rt.push(ht)}}},ot=new class{constructor(){this.wasm={},this.webgl={},this.webgpu={},this.logLevelInternal="warning"}set logLevel(ht){if(ht!==void 0){if(typeof ht!="string"||["verbose","info","warning","error","fatal"].indexOf(ht)===-1)throw new Error(`Unsupported logging level: ${ht}`);this.logLevelInternal=ht}}get logLevel(){return this.logLevelInternal}},st=new Map([["float32",Float32Array],["uint8",Uint8Array],["int8",Int8Array],["uint16",Uint16Array],["int16",Int16Array],["int32",Int32Array],["bool",Uint8Array],["float64",Float64Array],["uint32",Uint32Array]]),ut=new Map([[Float32Array,"float32"],[Uint8Array,"uint8"],[Int8Array,"int8"],[Uint16Array,"uint16"],[Int16Array,"int16"],[Int32Array,"int32"],[Float64Array,"float64"],[Uint32Array,"uint32"]]);let ft=!1;class dt{constructor(pt,mt,gt){let yt,bt,xt;if((()=>{if(!ft){ft=!0;const wt=typeof BigInt64Array<"u"&&typeof BigInt64Array.from=="function",_t=typeof BigUint64Array<"u"&&typeof BigUint64Array.from=="function";wt&&(st.set("int64",BigInt64Array),ut.set(BigInt64Array,"int64")),_t&&(st.set("uint64",BigUint64Array),ut.set(BigUint64Array,"uint64"))}})(),typeof pt=="string")if(yt=pt,xt=gt,pt==="string"){if(!Array.isArray(mt))throw new TypeError("A string tensor's data must be a string array.");bt=mt}else{const wt=st.get(pt);if(wt===void 0)throw new TypeError(`Unsupported tensor type: ${pt}.`);if(Array.isArray(mt))bt=wt.from(mt);else{if(!(mt instanceof wt))throw new TypeError(`A ${yt} tensor's data must be type of ${wt}`);bt=mt}}else if(xt=mt,Array.isArray(pt)){if(pt.length===0)throw new TypeError("Tensor type cannot be inferred from an empty array.");const wt=typeof pt[0];if(wt==="string")yt="string",bt=pt;else{if(wt!=="boolean")throw new TypeError(`Invalid element type of data array: ${wt}.`);yt="bool",bt=Uint8Array.from(pt)}}else{const wt=ut.get(pt.constructor);if(wt===void 0)throw new TypeError(`Unsupported type for tensor data: ${pt.constructor}.`);yt=wt,bt=pt}if(xt===void 0)xt=[bt.length];else if(!Array.isArray(xt))throw new TypeError("A tensor's dims must be a number array");const vt=(wt=>{let _t=1;for(let Ct=0;Ct<wt.length;Ct++){const Et=wt[Ct];if(typeof Et!="number"||!Number.isSafeInteger(Et))throw new TypeError(`dims[${Ct}] must be an integer, got: ${Et}`);if(Et<0)throw new RangeError(`dims[${Ct}] must be a non-negative integer, got: ${Et}`);_t*=Et}return _t})(xt);if(vt!==bt.length)throw new Error(`Tensor's size(${vt}) does not match data length(${bt.length}).`);this.dims=xt,this.type=yt,this.data=bt,this.size=vt}static bufferToTensor(pt,mt){if(pt===void 0)throw new Error("Image buffer must be defined");if(mt.height===void 0||mt.width===void 0)throw new Error("Image height and width must be defined");if(mt.tensorLayout==="NHWC")throw new Error("NHWC Tensor layout is not supported yet");const{height:gt,width:yt}=mt,bt=mt.norm??{mean:255,bias:0};let xt,vt;xt=typeof bt.mean=="number"?[bt.mean,bt.mean,bt.mean,bt.mean]:[bt.mean[0],bt.mean[1],bt.mean[2],bt.mean[3]??255],vt=typeof bt.bias=="number"?[bt.bias,bt.bias,bt.bias,bt.bias]:[bt.bias[0],bt.bias[1],bt.bias[2],bt.bias[3]??0];const wt=mt.bitmapFormat!==void 0?mt.bitmapFormat:"RGBA",_t=mt.tensorFormat!==void 0&&mt.tensorFormat!==void 0?mt.tensorFormat:"RGB",Ct=gt*yt,Et=_t==="RGBA"?new Float32Array(4*Ct):new Float32Array(3*Ct);let $t=4,jt=0,Dt=1,Pt=2,kt=3,At=0,Tt=Ct,St=2*Ct,Rt=-1;wt==="RGB"&&($t=3,jt=0,Dt=1,Pt=2,kt=-1),_t==="RGBA"?Rt=3*Ct:_t==="RBG"?(At=0,St=Ct,Tt=2*Ct):_t==="BGR"&&(St=0,Tt=Ct,At=2*Ct);for(let Ot=0;Ot<Ct;Ot++,jt+=$t,Pt+=$t,Dt+=$t,kt+=$t)Et[At++]=(pt[jt]+vt[0])/xt[0],Et[Tt++]=(pt[Dt]+vt[1])/xt[1],Et[St++]=(pt[Pt]+vt[2])/xt[2],Rt!==-1&&kt!==-1&&(Et[Rt++]=(pt[kt]+vt[3])/xt[3]);return new dt("float32",Et,_t==="RGBA"?[1,4,gt,yt]:[1,3,gt,yt])}static async fromImage(pt,mt){const gt=typeof HTMLImageElement<"u"&&pt instanceof HTMLImageElement,yt=typeof ImageData<"u"&&pt instanceof ImageData,bt=typeof ImageBitmap<"u"&&pt instanceof ImageBitmap,xt=typeof pt=="string";let vt,wt=mt??{};if(gt){const _t=document.createElement("canvas");_t.width=pt.width,_t.height=pt.height;const Ct=_t.getContext("2d");if(Ct==null)throw new Error("Can not access image data");{let Et=pt.height,$t=pt.width;if(mt!==void 0&&mt.resizedHeight!==void 0&&mt.resizedWidth!==void 0&&(Et=mt.resizedHeight,$t=mt.resizedWidth),mt!==void 0){if(wt=mt,mt.tensorFormat!==void 0)throw new Error("Image input config format must be RGBA for HTMLImageElement");if(wt.tensorFormat="RGBA",mt.height!==void 0&&mt.height!==Et)throw new Error("Image input config height doesn't match HTMLImageElement height");if(wt.height=Et,mt.width!==void 0&&mt.width!==$t)throw new Error("Image input config width doesn't match HTMLImageElement width");wt.width=$t}else wt.tensorFormat="RGBA",wt.height=Et,wt.width=$t;Ct.drawImage(pt,0,0),vt=Ct.getImageData(0,0,$t,Et).data}}else{if(!yt){if(bt){if(mt===void 0)throw new Error("Please provide image config with format for Imagebitmap");if(mt.bitmapFormat!==void 0)throw new Error("Image input config format must be defined for ImageBitmap");const _t=document.createElement("canvas").getContext("2d");if(_t!=null){const Ct=pt.height,Et=pt.width;if(_t.drawImage(pt,0,0,Et,Ct),vt=_t.getImageData(0,0,Et,Ct).data,mt!==void 0){if(mt.height!==void 0&&mt.height!==Ct)throw new Error("Image input config height doesn't match ImageBitmap height");if(wt.height=Ct,mt.width!==void 0&&mt.width!==Et)throw new Error("Image input config width doesn't match ImageBitmap width");wt.width=Et}else wt.height=Ct,wt.width=Et;return dt.bufferToTensor(vt,wt)}throw new Error("Can not access image data")}if(xt)return new Promise((_t,Ct)=>{const Et=document.createElement("canvas"),$t=Et.getContext("2d");if(!pt||!$t)return Ct();const jt=new Image;jt.crossOrigin="Anonymous",jt.src=pt,jt.onload=()=>{Et.width=jt.width,Et.height=jt.height,$t.drawImage(jt,0,0,Et.width,Et.height);const Dt=$t.getImageData(0,0,Et.width,Et.height);if(mt!==void 0){if(mt.height!==void 0&&mt.height!==Et.height)throw new Error("Image input config height doesn't match height");if(wt.height=Et.height,mt.width!==void 0&&mt.width!==Et.width)throw new Error("Image input config width doesn't match width");wt.width=Et.width}else wt.height=Et.height,wt.width=Et.width;_t(dt.bufferToTensor(Dt.data,wt))}});throw new Error("Input data provided is not supported - aborted tensor creation")}{const _t="RGBA";let Ct,Et;if(mt!==void 0&&mt.resizedWidth!==void 0&&mt.resizedHeight!==void 0?(Ct=mt.resizedHeight,Et=mt.resizedWidth):(Ct=pt.height,Et=pt.width),mt!==void 0){if(wt=mt,mt.bitmapFormat!==void 0&&mt.bitmapFormat!==_t)throw new Error("Image input config format must be RGBA for ImageData");wt.bitmapFormat="RGBA"}else wt.bitmapFormat="RGBA";if(wt.height=Ct,wt.width=Et,mt!==void 0){const $t=document.createElement("canvas");$t.width=Et,$t.height=Ct;const jt=$t.getContext("2d");if(jt==null)throw new Error("Can not access image data");jt.putImageData(pt,0,0),vt=jt.getImageData(0,0,Et,Ct).data}else vt=pt.data}}if(vt!==void 0)return dt.bufferToTensor(vt,wt);throw new Error("Input data provided is not supported - aborted tensor creation")}toDataURL(pt){const mt=document.createElement("canvas");mt.width=this.dims[3],mt.height=this.dims[2];const gt=mt.getContext("2d");if(gt!=null){let yt,bt;(pt==null?void 0:pt.tensorLayout)!==void 0&&pt.tensorLayout==="NHWC"?(yt=this.dims[2],bt=this.dims[3]):(yt=this.dims[3],bt=this.dims[2]);const xt=(pt==null?void 0:pt.format)!==void 0?pt.format:"RGB",vt=pt==null?void 0:pt.norm;let wt,_t;vt===void 0||vt.mean===void 0?wt=[255,255,255,255]:typeof vt.mean=="number"?wt=[vt.mean,vt.mean,vt.mean,vt.mean]:(wt=[vt.mean[0],vt.mean[1],vt.mean[2],0],vt.mean[3]!==void 0&&(wt[3]=vt.mean[3])),vt===void 0||vt.bias===void 0?_t=[0,0,0,0]:typeof vt.bias=="number"?_t=[vt.bias,vt.bias,vt.bias,vt.bias]:(_t=[vt.bias[0],vt.bias[1],vt.bias[2],0],vt.bias[3]!==void 0&&(_t[3]=vt.bias[3]));const Ct=bt*yt;let Et=0,$t=Ct,jt=2*Ct,Dt=-1;xt==="RGBA"?(Et=0,$t=Ct,jt=2*Ct,Dt=3*Ct):xt==="RGB"?(Et=0,$t=Ct,jt=2*Ct):xt==="RBG"&&(Et=0,jt=Ct,$t=2*Ct);for(let Pt=0;Pt<bt;Pt++)for(let kt=0;kt<yt;kt++){const At=(this.data[Et++]-_t[0])*wt[0],Tt=(this.data[$t++]-_t[1])*wt[1],St=(this.data[jt++]-_t[2])*wt[2],Rt=Dt===-1?255:(this.data[Dt++]-_t[3])*wt[3];gt.fillStyle="rgba("+At+","+Tt+","+St+","+Rt+")",gt.fillRect(kt,Pt,1,1)}return mt.toDataURL()}throw new Error("Can not access image data")}toImageData(pt){const mt=document.createElement("canvas").getContext("2d");let gt;if(mt==null)throw new Error("Can not access image data");{let yt,bt,xt;(pt==null?void 0:pt.tensorLayout)!==void 0&&pt.tensorLayout==="NHWC"?(yt=this.dims[2],bt=this.dims[1],xt=this.dims[3]):(yt=this.dims[3],bt=this.dims[2],xt=this.dims[1]);const vt=pt!==void 0&&pt.format!==void 0?pt.format:"RGB",wt=pt==null?void 0:pt.norm;let _t,Ct;wt===void 0||wt.mean===void 0?_t=[255,255,255,255]:typeof wt.mean=="number"?_t=[wt.mean,wt.mean,wt.mean,wt.mean]:(_t=[wt.mean[0],wt.mean[1],wt.mean[2],255],wt.mean[3]!==void 0&&(_t[3]=wt.mean[3])),wt===void 0||wt.bias===void 0?Ct=[0,0,0,0]:typeof wt.bias=="number"?Ct=[wt.bias,wt.bias,wt.bias,wt.bias]:(Ct=[wt.bias[0],wt.bias[1],wt.bias[2],0],wt.bias[3]!==void 0&&(Ct[3]=wt.bias[3]));const Et=bt*yt;if(pt!==void 0){if(pt.height!==void 0&&pt.height!==bt)throw new Error("Image output config height doesn't match tensor height");if(pt.width!==void 0&&pt.width!==yt)throw new Error("Image output config width doesn't match tensor width");if(pt.format!==void 0&&xt===4&&pt.format!=="RGBA"||xt===3&&pt.format!=="RGB"&&pt.format!=="BGR")throw new Error("Tensor format doesn't match input tensor dims")}const $t=4;let jt=0,Dt=1,Pt=2,kt=3,At=0,Tt=Et,St=2*Et,Rt=-1;vt==="RGBA"?(At=0,Tt=Et,St=2*Et,Rt=3*Et):vt==="RGB"?(At=0,Tt=Et,St=2*Et):vt==="RBG"&&(At=0,St=Et,Tt=2*Et),gt=mt.createImageData(yt,bt);for(let Ot=0;Ot<bt*yt;jt+=$t,Dt+=$t,Pt+=$t,kt+=$t,Ot++)gt.data[jt]=(this.data[At++]-Ct[0])*_t[0],gt.data[Dt]=(this.data[Tt++]-Ct[1])*_t[1],gt.data[Pt]=(this.data[St++]-Ct[2])*_t[2],gt.data[kt]=Rt===-1?255:(this.data[Rt++]-Ct[3])*_t[3]}return gt}reshape(pt){return new dt(this.type,this.data,pt)}}const lt=dt;class at{constructor(pt){this.handler=pt}async run(pt,mt,gt){const yt={};let bt={};if(typeof pt!="object"||pt===null||pt instanceof lt||Array.isArray(pt))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let xt=!0;if(typeof mt=="object"){if(mt===null)throw new TypeError("Unexpected argument[1]: cannot be null.");if(mt instanceof lt)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(mt)){if(mt.length===0)throw new TypeError("'fetches' cannot be an empty array.");xt=!1;for(const _t of mt){if(typeof _t!="string")throw new TypeError("'fetches' must be a string array or an object.");if(this.outputNames.indexOf(_t)===-1)throw new RangeError(`'fetches' contains invalid output name: ${_t}.`);yt[_t]=null}if(typeof gt=="object"&&gt!==null)bt=gt;else if(gt!==void 0)throw new TypeError("'options' must be an object.")}else{let _t=!1;const Ct=Object.getOwnPropertyNames(mt);for(const Et of this.outputNames)if(Ct.indexOf(Et)!==-1){const $t=mt[Et];($t===null||$t instanceof lt)&&(_t=!0,xt=!1,yt[Et]=$t)}if(_t){if(typeof gt=="object"&&gt!==null)bt=gt;else if(gt!==void 0)throw new TypeError("'options' must be an object.")}else bt=mt}}else if(mt!==void 0)throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(const _t of this.inputNames)if(pt[_t]===void 0)throw new Error(`input '${_t}' is missing in 'feeds'.`);if(xt)for(const _t of this.outputNames)yt[_t]=null;const vt=await this.handler.run(pt,yt,bt),wt={};for(const _t in vt)Object.hasOwnProperty.call(vt,_t)&&(wt[_t]=new lt(vt[_t].type,vt[_t].data,vt[_t].dims));return wt}static async create(pt,mt,gt,yt){let bt,xt={};if(typeof pt=="string"){if(bt=pt,typeof mt=="object"&&mt!==null)xt=mt;else if(mt!==void 0)throw new TypeError("'options' must be an object.")}else if(pt instanceof Uint8Array){if(bt=pt,typeof mt=="object"&&mt!==null)xt=mt;else if(mt!==void 0)throw new TypeError("'options' must be an object.")}else{if(!(pt instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&pt instanceof SharedArrayBuffer))throw new TypeError("Unexpected argument[0]: must be 'path' or 'buffer'.");{const Ct=pt;let Et=0,$t=pt.byteLength;if(typeof mt=="object"&&mt!==null)xt=mt;else if(typeof mt=="number"){if(Et=mt,!Number.isSafeInteger(Et))throw new RangeError("'byteOffset' must be an integer.");if(Et<0||Et>=Ct.byteLength)throw new RangeError(`'byteOffset' is out of range [0, ${Ct.byteLength}).`);if($t=pt.byteLength-Et,typeof gt=="number"){if($t=gt,!Number.isSafeInteger($t))throw new RangeError("'byteLength' must be an integer.");if($t<=0||Et+$t>Ct.byteLength)throw new RangeError(`'byteLength' is out of range (0, ${Ct.byteLength-Et}].`);if(typeof yt=="object"&&yt!==null)xt=yt;else if(yt!==void 0)throw new TypeError("'options' must be an object.")}else if(gt!==void 0)throw new TypeError("'byteLength' must be a number.")}else if(mt!==void 0)throw new TypeError("'options' must be an object.");bt=new Uint8Array(Ct,Et,$t)}}const vt=(xt.executionProviders||[]).map(Ct=>typeof Ct=="string"?Ct:Ct.name),wt=await(async Ct=>{const Et=Ct.length===0?rt:Ct,$t=[];for(const jt of Et){const Dt=nt[jt];if(Dt){if(Dt.initialized)return Dt.backend;if(Dt.aborted)continue;const Pt=!!Dt.initPromise;try{return Pt||(Dt.initPromise=Dt.backend.init()),await Dt.initPromise,Dt.initialized=!0,Dt.backend}catch(kt){Pt||$t.push({name:jt,err:kt}),Dt.aborted=!0}finally{delete Dt.initPromise}}}throw new Error(`no available backend found. ERR: ${$t.map(jt=>`[${jt.name}] ${jt.err}`).join(", ")}`)})(vt),_t=await wt.createSessionHandler(bt,xt);return new at(_t)}startProfiling(){this.handler.startProfiling()}endProfiling(){this.handler.endProfiling()}get inputNames(){return this.handler.inputNames}get outputNames(){return this.handler.outputNames}}const ct=at},5716:(_e,et,tt)=>{et.R=void 0;const nt=tt(6027),rt=tt(1723);et.R=new class{async init(){}async createSessionHandler(it,ot){const st=new nt.Session(ot);return await st.loadModel(it),new rt.OnnxjsSessionHandler(st)}}},2818:(_e,et,tt)=>{et.c8=et.rX=void 0;const nt=tt(8453),rt=tt(5381),it=tt(9544),ot=tt(6640);et.rX=()=>{if((typeof nt.env.wasm.initTimeout!="number"||nt.env.wasm.initTimeout<0)&&(nt.env.wasm.initTimeout=0),typeof nt.env.wasm.simd!="boolean"&&(nt.env.wasm.simd=!0),typeof nt.env.wasm.proxy!="boolean"&&(nt.env.wasm.proxy=!1),typeof nt.env.wasm.numThreads!="number"||!Number.isInteger(nt.env.wasm.numThreads)||nt.env.wasm.numThreads<=0){const st=typeof navigator>"u"?(0,rt.cpus)().length:navigator.hardwareConcurrency;nt.env.wasm.numThreads=Math.min(4,Math.ceil((st||1)/2))}},et.c8=new class{async init(){(0,et.rX)(),await(0,it.initWasm)()}async createSessionHandler(st,ut){const ft=new ot.OnnxruntimeWebAssemblySessionHandler;return await ft.loadModel(st,ut),Promise.resolve(ft)}}},1057:function(_e,et,tt){var nt=this&&this.__createBinding||(Object.create?function(ot,st,ut,ft){ft===void 0&&(ft=ut);var dt=Object.getOwnPropertyDescriptor(st,ut);dt&&!("get"in dt?!st.__esModule:dt.writable||dt.configurable)||(dt={enumerable:!0,get:function(){return st[ut]}}),Object.defineProperty(ot,ft,dt)}:function(ot,st,ut,ft){ft===void 0&&(ft=ut),ot[ft]=st[ut]}),rt=this&&this.__exportStar||function(ot,st){for(var ut in ot)ut==="default"||Object.prototype.hasOwnProperty.call(st,ut)||nt(st,ot,ut)};Object.defineProperty(et,"__esModule",{value:!0}),rt(tt(8453),et);const it=tt(8453);{const ot=tt(5716).R;(0,it.registerBackend)("webgl",ot,-10)}{const ot=tt(2818).c8;(0,it.registerBackend)("cpu",ot,10),(0,it.registerBackend)("wasm",ot,10),(0,it.registerBackend)("xnnpack",ot,9)}},4910:(_e,et)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.createAttributeWithCacheKey=void 0;class tt{constructor(rt){Object.assign(this,rt)}get cacheKey(){return this._cacheKey||(this._cacheKey=Object.getOwnPropertyNames(this).sort().map(rt=>`${this[rt]}`).join(";")),this._cacheKey}}et.createAttributeWithCacheKey=nt=>new tt(nt)},6874:(_e,et,tt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.Attribute=void 0;const nt=tt(1446),rt=tt(1287),it=tt(9240),ot=tt(7273);var st=rt.onnxruntime.experimental.fbs;class ut{constructor(dt){if(this._attributes=new Map,dt!=null){for(const lt of dt)lt instanceof nt.onnx.AttributeProto?this._attributes.set(lt.name,[ut.getValue(lt),ut.getType(lt)]):lt instanceof st.Attribute&&this._attributes.set(lt.name(),[ut.getValue(lt),ut.getType(lt)]);if(this._attributes.size<dt.length)throw new Error("duplicated attribute names")}}set(dt,lt,at){this._attributes.set(dt,[at,lt])}delete(dt){this._attributes.delete(dt)}getFloat(dt,lt){return this.get(dt,"float",lt)}getInt(dt,lt){return this.get(dt,"int",lt)}getString(dt,lt){return this.get(dt,"string",lt)}getTensor(dt,lt){return this.get(dt,"tensor",lt)}getFloats(dt,lt){return this.get(dt,"floats",lt)}getInts(dt,lt){return this.get(dt,"ints",lt)}getStrings(dt,lt){return this.get(dt,"strings",lt)}getTensors(dt,lt){return this.get(dt,"tensors",lt)}get(dt,lt,at){const ct=this._attributes.get(dt);if(ct===void 0){if(at!==void 0)return at;throw new Error(`required attribute not found: ${dt}`)}if(ct[1]!==lt)throw new Error(`type mismatch: expected ${lt} but got ${ct[1]}`);return ct[0]}static getType(dt){const lt=dt instanceof nt.onnx.AttributeProto?dt.type:dt.type();switch(lt){case nt.onnx.AttributeProto.AttributeType.FLOAT:return"float";case nt.onnx.AttributeProto.AttributeType.INT:return"int";case nt.onnx.AttributeProto.AttributeType.STRING:return"string";case nt.onnx.AttributeProto.AttributeType.TENSOR:return"tensor";case nt.onnx.AttributeProto.AttributeType.FLOATS:return"floats";case nt.onnx.AttributeProto.AttributeType.INTS:return"ints";case nt.onnx.AttributeProto.AttributeType.STRINGS:return"strings";case nt.onnx.AttributeProto.AttributeType.TENSORS:return"tensors";default:throw new Error(`attribute type is not supported yet: ${nt.onnx.AttributeProto.AttributeType[lt]}`)}}static getValue(dt){const lt=dt instanceof nt.onnx.AttributeProto?dt.type:dt.type();if(lt===nt.onnx.AttributeProto.AttributeType.GRAPH||lt===nt.onnx.AttributeProto.AttributeType.GRAPHS)throw new Error("graph attribute is not supported yet");const at=this.getValueNoCheck(dt);if(lt===nt.onnx.AttributeProto.AttributeType.INT&&ot.LongUtil.isLong(at))return ot.LongUtil.longToNumber(at);if(lt===nt.onnx.AttributeProto.AttributeType.INTS){const ct=at,ht=new Array(ct.length);for(let pt=0;pt<ct.length;pt++){const mt=ct[pt];ht[pt]=ot.LongUtil.longToNumber(mt)}return ht}if(lt===nt.onnx.AttributeProto.AttributeType.TENSOR)return dt instanceof nt.onnx.AttributeProto?it.Tensor.fromProto(at):it.Tensor.fromOrtTensor(at);if(lt===nt.onnx.AttributeProto.AttributeType.TENSORS){if(dt instanceof nt.onnx.AttributeProto)return at.map(ct=>it.Tensor.fromProto(ct));if(dt instanceof st.Attribute)return at.map(ct=>it.Tensor.fromOrtTensor(ct))}if(lt===nt.onnx.AttributeProto.AttributeType.STRING&&dt instanceof nt.onnx.AttributeProto){const ct=at;return(0,ot.decodeUtf8String)(ct)}return lt===nt.onnx.AttributeProto.AttributeType.STRINGS&&dt instanceof nt.onnx.AttributeProto?at.map(ot.decodeUtf8String):at}static getValueNoCheck(dt){return dt instanceof nt.onnx.AttributeProto?this.getValueNoCheckFromOnnxFormat(dt):this.getValueNoCheckFromOrtFormat(dt)}static getValueNoCheckFromOnnxFormat(dt){switch(dt.type){case nt.onnx.AttributeProto.AttributeType.FLOAT:return dt.f;case nt.onnx.AttributeProto.AttributeType.INT:return dt.i;case nt.onnx.AttributeProto.AttributeType.STRING:return dt.s;case nt.onnx.AttributeProto.AttributeType.TENSOR:return dt.t;case nt.onnx.AttributeProto.AttributeType.GRAPH:return dt.g;case nt.onnx.AttributeProto.AttributeType.FLOATS:return dt.floats;case nt.onnx.AttributeProto.AttributeType.INTS:return dt.ints;case nt.onnx.AttributeProto.AttributeType.STRINGS:return dt.strings;case nt.onnx.AttributeProto.AttributeType.TENSORS:return dt.tensors;case nt.onnx.AttributeProto.AttributeType.GRAPHS:return dt.graphs;default:throw new Error(`unsupported attribute type: ${nt.onnx.AttributeProto.AttributeType[dt.type]}`)}}static getValueNoCheckFromOrtFormat(dt){switch(dt.type()){case st.AttributeType.FLOAT:return dt.f();case st.AttributeType.INT:return dt.i();case st.AttributeType.STRING:return dt.s();case st.AttributeType.TENSOR:return dt.t();case st.AttributeType.GRAPH:return dt.g();case st.AttributeType.FLOATS:return dt.floatsArray();case st.AttributeType.INTS:{const lt=[];for(let at=0;at<dt.intsLength();at++)lt.push(dt.ints(at));return lt}case st.AttributeType.STRINGS:{const lt=[];for(let at=0;at<dt.stringsLength();at++)lt.push(dt.strings(at));return lt}case st.AttributeType.TENSORS:{const lt=[];for(let at=0;at<dt.tensorsLength();at++)lt.push(dt.tensors(at));return lt}default:throw new Error(`unsupported attribute type: ${st.AttributeType[dt.type()]}`)}}}et.Attribute=ut},1975:(_e,et,tt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.resolveBackend=et.backend=void 0;const nt=tt(4418),rt=new Map;async function it(ot){const st=et.backend;if(st[ot]!==void 0&&function(ut){const ft=ut;return"initialize"in ft&&typeof ft.initialize=="function"&&"createSessionHandler"in ft&&typeof ft.createSessionHandler=="function"&&"dispose"in ft&&typeof ft.dispose=="function"}(st[ot])){const ut=st[ot];let ft=ut.initialize();if(typeof ft=="object"&&"then"in ft&&(ft=await ft),ft)return rt.set(ot,ut),ut}}et.backend={webgl:new nt.WebGLBackend},et.resolveBackend=async function ot(st){if(!st)return ot(["webgl"]);{const ut=typeof st=="string"?[st]:st;for(const ft of ut){const dt=rt.get(ft);if(dt)return dt;const lt=await it(ft);if(lt)return lt}}throw new Error("no available backend to use")}},4418:(_e,et,tt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.WebGLBackend=void 0;const nt=tt(8453),rt=tt(1315),it=tt(2171),ot=tt(3389);et.WebGLBackend=class{get contextId(){return nt.env.webgl.contextId}set contextId(st){nt.env.webgl.contextId=st}get matmulMaxBatchSize(){return nt.env.webgl.matmulMaxBatchSize}set matmulMaxBatchSize(st){nt.env.webgl.matmulMaxBatchSize=st}get textureCacheMode(){return nt.env.webgl.textureCacheMode}set textureCacheMode(st){nt.env.webgl.textureCacheMode=st}get pack(){return nt.env.webgl.pack}set pack(st){nt.env.webgl.pack=st}get async(){return nt.env.webgl.async}set async(st){nt.env.webgl.async=st}initialize(){try{return this.glContext=(0,ot.createWebGLContext)(this.contextId),typeof this.matmulMaxBatchSize!="number"&&(this.matmulMaxBatchSize=16),typeof this.textureCacheMode!="string"&&(this.textureCacheMode="full"),typeof this.pack!="boolean"&&(this.pack=!1),typeof this.async!="boolean"&&(this.async=!1),rt.Logger.setWithEnv(nt.env),rt.Logger.verbose("WebGLBackend",`Created WebGLContext: ${typeof this.glContext} with matmulMaxBatchSize: ${this.matmulMaxBatchSize}; textureCacheMode: ${this.textureCacheMode}; pack: ${this.pack}; async: ${this.async}.`),!0}catch(st){return rt.Logger.warning("WebGLBackend",`Unable to initialize WebGLBackend. ${st}`),!1}}createSessionHandler(st){return new it.WebGLSessionHandler(this,st)}dispose(){this.glContext.dispose()}}},6859:(_e,et,tt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.CoordsGlslLib=void 0;const nt=tt(7273),rt=tt(1997),it=tt(6757),ot=tt(7618),st=tt(432);class ut extends rt.GlslLib{constructor(dt){super(dt)}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},this.offsetToCoords()),this.coordsToOffset()),this.toVec()),this.valueFrom()),this.getCommonUtilFuncs()),this.getInputsSamplingSnippets()),this.getOutputSamplingSnippet())}getCustomTypes(){return{}}offsetToCoords(){return{offsetToCoords:new rt.GlslLibRoutine(`
      vec2 offsetToCoords(int offset, int width, int height) {
        int t = offset / width;
        int s = offset - t*width;
        vec2 coords = (vec2(s,t) + vec2(0.5,0.5)) / vec2(width, height);
        return coords;
      }
      `)}}coordsToOffset(){return{coordsToOffset:new rt.GlslLibRoutine(`
      int coordsToOffset(vec2 coords, int width, int height) {
        float s = coords.s * float(width);
        float t = coords.t * float(height);
        int offset = int(t) * width + int(s);
        return offset;
      }
      `)}}getOutputSamplingSnippet(){const dt=this.context.outputTextureLayout;return dt.isPacked?this.getPackedOutputSamplingSnippet(dt):this.getUnpackedOutputSamplingSnippet(dt)}getPackedOutputSamplingSnippet(dt){const lt=dt.unpackedShape,at=[dt.width,dt.height],ct={},ht="getOutputCoords";switch(lt.length){case 0:ct[ht]=this.getOutputScalarCoords();break;case 1:ct[ht]=this.getOutputPacked1DCoords(lt,at);break;case 2:ct[ht]=this.getOutputPacked2DCoords(lt,at);break;case 3:ct[ht]=this.getOutputPacked3DCoords(lt,at);break;default:ct[ht]=this.getOutputPackedNDCoords(lt,at)}const pt=`
      void setOutput(vec4 val) {
        ${(0,it.getGlsl)(this.context.glContext.version).output} = val;
      }
    `;return ct.floatTextureSetRGBA=new rt.GlslLibRoutine(pt),ct}getUnpackedOutputSamplingSnippet(dt){const lt=dt.unpackedShape,at=[dt.width,dt.height],ct={},ht="getOutputCoords";switch(lt.length){case 0:ct[ht]=this.getOutputScalarCoords();break;case 1:ct[ht]=this.getOutputUnpacked1DCoords(lt,at);break;case 2:ct[ht]=this.getOutputUnpacked2DCoords(lt,at);break;case 3:ct[ht]=this.getOutputUnpacked3DCoords(lt,at);break;case 4:ct[ht]=this.getOutputUnpacked4DCoords(lt,at);break;case 5:ct[ht]=this.getOutputUnpacked5DCoords(lt,at);break;case 6:ct[ht]=this.getOutputUnpacked6DCoords(lt,at);break;default:throw new Error(`Unsupported output dimensionality: ${lt.length}`)}const pt=`
        void setOutput(float val) {
          ${(0,it.getGlsl)(this.context.glContext.version).output} = vec4(val, 0, 0, 0);
        }
    `;return ct.floatTextureSetR=new rt.GlslLibRoutine(pt),ct}getOutputScalarCoords(){return new rt.GlslLibRoutine(`
      int getOutputCoords() {
        return 0;
      }
    `)}getOutputPacked1DCoords(dt,lt){const at=lt;let ct="";return at[0]===1?(ct=`
          int getOutputCoords() {
            return 2 * int(TexCoords.y * ${at[1]}.0);
          }
        `,new rt.GlslLibRoutine(ct)):at[1]===1?(ct=`
          int getOutputCoords() {
            return 2 * int(TexCoords.x * ${at[0]}.0);
          }
        `,new rt.GlslLibRoutine(ct)):(ct=`
        int getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                 vec2(${at[0]}, ${at[1]}));
          return 2 * (resTexRC.y * ${at[0]} + resTexRC.x);
        }
      `,new rt.GlslLibRoutine(ct))}getOutputPacked2DCoords(dt,lt){let at="";if(nt.ArrayUtil.arraysEqual(dt,lt))return at=`
        ivec2 getOutputCoords() {
          return 2 * ivec2(TexCoords.xy * vec2(${lt[0]}, ${lt[1]}));
        }
      `,new rt.GlslLibRoutine(at);const ct=lt,ht=Math.ceil(dt[1]/2);return at=`
        ivec2 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${ct[0]}, ${ct[1]}));

          int index = resTexRC.y * ${ct[0]} + resTexRC.x;

          // reverse r and c order for packed texture
          int r = imod(index, ${ht}) * 2;
          int c = 2 * (index / ${ht});

          return ivec2(r, c);
        }
      `,new rt.GlslLibRoutine(at)}getOutputPacked3DCoords(dt,lt){const at=[lt[0],lt[1]],ct=Math.ceil(dt[2]/2),ht=ct*Math.ceil(dt[1]/2),pt=`
        ivec3 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${at[0]}, ${at[1]}));
          int index = resTexRC.y * ${at[0]} + resTexRC.x;

          int b = index / ${ht};
          index -= b * ${ht};

          // reverse r and c order for packed texture
          int r = imod(index, ${ct}) * 2;
          int c = 2 * (index / ${ct});

          return ivec3(b, r, c);
        }
      `;return new rt.GlslLibRoutine(pt)}getOutputPackedNDCoords(dt,lt){const at=[lt[0],lt[1]],ct=Math.ceil(dt[dt.length-1]/2),ht=ct*Math.ceil(dt[dt.length-2]/2);let pt=ht,mt="",gt="b, r, c";for(let bt=2;bt<dt.length-1;bt++)pt*=dt[dt.length-bt-1],mt=`
      int b${bt} = index / ${pt};
      index -= b${bt} * ${pt};
    `+mt,gt=`b${bt}, `+gt;const yt=`
      ivec${dt.length} getOutputCoords() {
        ivec2 resTexRC = ivec2(TexCoords.xy *
                              vec2(${at[0]}, ${at[1]}));
        int index = resTexRC.y * ${at[0]} + resTexRC.x;

        ${mt}

        int b = index / ${ht};
        index -= b * ${ht};

        // reverse r and c order for packed texture
        int r = imod(index, ${ct}) * 2;
        int c = 2 * (index / ${ct});

        return ivec${dt.length}(${gt});
      }
    `;return new rt.GlslLibRoutine(yt)}getOutputUnpacked1DCoords(dt,lt){const at=`
        int getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${lt[0]}, ${lt[1]}));
          return resTexRC.y * ${lt[0]} + resTexRC.x;
        }
      `;return new rt.GlslLibRoutine(at)}getOutputUnpacked2DCoords(dt,lt){const at=`
        ivec2 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${lt[0]}, ${lt[1]}));
          int index = resTexRC.y * ${lt[0]} + resTexRC.x;
          int r = index / ${dt[1]};
          int c = index - r * ${dt[1]};
          return ivec2(r, c);
        }
      `;return new rt.GlslLibRoutine(at)}getOutputUnpacked3DCoords(dt,lt){let at="";const ct=dt.length;let ht=null;ct<2&&(ht=[]),ht=new Array(ct-1),ht[ct-2]=dt[ct-1];for(let gt=ct-3;gt>=0;--gt)ht[gt]=ht[gt+1]*dt[gt+1];const pt=["r","c","d"],mt=ht.map((gt,yt)=>`int ${pt[yt]} = index / ${gt}; ${yt===ht.length-1?`int ${pt[yt+1]} = index - ${pt[yt]} * ${gt}`:`index -= ${pt[yt]} * ${gt}`};`).join("");return at=`
        ivec3 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${lt[0]}, ${lt[1]}));
          int index = resTexRC.y * ${lt[0]} + resTexRC.x;
          ${mt}
          return ivec3(r, c, d);
        }
      `,new rt.GlslLibRoutine(at)}getOutputUnpacked4DCoords(dt,lt){let at="";const ct=dt.length;let ht=null;ct<2&&(ht=[]),ht=new Array(ct-1),ht[ct-2]=dt[ct-1];for(let gt=ct-3;gt>=0;--gt)ht[gt]=ht[gt+1]*dt[gt+1];const pt=["r","c","d","d2"],mt=ht.map((gt,yt)=>`int ${pt[yt]} = index / ${gt}; ${yt===ht.length-1?`int ${pt[yt+1]} = index - ${pt[yt]} * ${gt}`:`index -= ${pt[yt]} * ${gt}`};`).join("");return at=`
      ivec4 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${lt[0]}, ${lt[1]}));
          int index = resTexRC.y * ${lt[0]} + resTexRC.x;
          ${mt}
          return ivec4(r, c, d, d2);
        }
      `,new rt.GlslLibRoutine(at)}getOutputUnpacked5DCoords(dt,lt){let at="";const ct=dt.length;let ht=null;ct<2&&(ht=[]),ht=new Array(ct-1),ht[ct-2]=dt[ct-1];for(let gt=ct-3;gt>=0;--gt)ht[gt]=ht[gt+1]*dt[gt+1];const pt=["r","c","d","d2","d3"],mt=ht.map((gt,yt)=>`int ${pt[yt]} = index / ${gt}; ${yt===ht.length-1?`int ${pt[yt+1]} = index - ${pt[yt]} * ${gt}`:`index -= ${pt[yt]} * ${gt}`};`).join("");return at=`
      ivec5 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${lt[0]}, ${lt[1]}));
          int index = resTexRC.y * ${lt[0]} + resTexRC.x;
          ${mt}
          return ivec5(r, c, d, d2, d3);
        }
      `,new rt.GlslLibRoutine(at)}getOutputUnpacked6DCoords(dt,lt){let at="";const ct=dt.length;let ht=null;ct<2&&(ht=[]),ht=new Array(ct-1),ht[ct-2]=dt[ct-1];for(let gt=ct-3;gt>=0;--gt)ht[gt]=ht[gt+1]*dt[gt+1];const pt=["r","c","d","d2","d3","d4"],mt=ht.map((gt,yt)=>`int ${pt[yt]} = index / ${gt}; ${yt===ht.length-1?`int ${pt[yt+1]} = index - ${pt[yt]} * ${gt}`:`index -= ${pt[yt]} * ${gt}`};`).join("");return at=`
     ivec6 getOutputCoords() {
         ivec2 resTexRC = ivec2(TexCoords.xy *
                               vec2(${lt[0]}, ${lt[1]}));
         int index = resTexRC.y * ${lt[0]} + resTexRC.x;
         ${mt}
         return ivec6(r, c, d, d2, d3, d4);
       }
     `,new rt.GlslLibRoutine(at)}getCommonUtilFuncs(){const dt={};let lt="uvFromFlat";dt[lt]=new rt.GlslLibRoutine(`
    vec2 uvFromFlat(int texNumR, int texNumC, int index) {
      int texC = index / texNumR;
      int texR = index - texC * texNumR;
      // TODO: swap texR, texC order in following function so row is corresponding to u and column is corresponding to
      //       v.
      return (vec2(texR, texC) + halfCR) / vec2(texNumR, texNumC);
    }
    `),lt="packedUVfrom1D",dt[lt]=new rt.GlslLibRoutine(`
      vec2 packedUVfrom1D(int texNumR, int texNumC, int index) {
        int texelIndex = index / 2;
        int texR = texelIndex / texNumC;
        int texC = texelIndex - texR * texNumC;
        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
      }
      `),lt="packedUVfrom2D",dt[lt]=new rt.GlslLibRoutine(`
      vec2 packedUVfrom2D(int texNumR, int texNumC, int texelsInLogicalRow, int row, int col) {
        int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);
        int texR = texelIndex / texNumC;
        int texC = texelIndex - texR * texNumC;
        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
      }
      `),lt="packedUVfrom3D",dt[lt]=new rt.GlslLibRoutine(`
      vec2 packedUVfrom3D(int texNumR, int texNumC,
          int texelsInBatch, int texelsInLogicalRow, int b,
          int row, int col) {
        int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);
        int texR = index / texNumC;
        int texC = index - texR * texNumC;
        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
      }
      `),lt="sampleTexture";const at=(0,it.getGlsl)(this.context.glContext.version);return dt[lt]=new rt.GlslLibRoutine(`
        float sampleTexture(sampler2D textureSampler, vec2 uv) {
            return ${at.texture2D}(textureSampler, uv).r;
        }`),dt}getInputsSamplingSnippets(){const dt={},lt=this.context.outputTextureLayout;return this.context.programInfo.inputNames.forEach((at,ct)=>{const ht=this.context.inputTextureLayouts[ct],pt=(0,st.generateShaderFuncNameFromInputSamplerName)(at);ht.isPacked?dt[pt]=this.getPackedSamplerFromInput(pt,at,ht):dt[pt]=this.getUnpackedSamplerFromInput(pt,at,ht);const mt=(0,st.generateShaderFuncNameFromInputSamplerNameAtOutCoords)(at);ht.unpackedShape.length<=lt.unpackedShape.length&&(ht.isPacked?dt[mt]=this.getPackedSamplerAtOutputCoords(mt,ht,lt,at):dt[mt]=this.getUnpackedSamplerAtOutputCoords(mt,ht,lt,at))}),dt}getPackedSamplerAtOutputCoords(dt,lt,at,ct){const ht=lt.unpackedShape,pt=at.unpackedShape,mt=ct,gt=(0,st.generateShaderFuncNameFromInputSamplerName)(mt),yt=ht.length,bt=pt.length,xt=nt.BroadcastUtil.getBroadcastDims(ht,pt),vt=(0,st.getCoordsDataType)(bt),wt=bt-yt;let _t;const Ct=(0,st.getGlChannels)();_t=yt===0?"":bt<2&&xt.length>=1?"coords = 0;":xt.map(kt=>`coords.${Ct[kt+wt]} = 0;`).join(`
`);let Et="";Et=bt<2&&yt>0?"coords":ht.map((kt,At)=>`coords.${Ct[At+wt]}`).join(", ");let $t="return outputValue;";const jt=nt.ShapeUtil.size(ht)===1,Dt=nt.ShapeUtil.size(pt)===1;if(yt!==1||jt||Dt){if(jt&&!Dt)$t=bt===1?`
          return vec4(outputValue.x, outputValue.x, 0., 0.);
        `:`
          return vec4(outputValue.x);
        `;else if(xt.length){const kt=yt-2,At=yt-1;xt.indexOf(kt)>-1&&xt.indexOf(At)>-1?$t="return vec4(outputValue.x);":xt.indexOf(kt)>-1?$t="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":xt.indexOf(At)>-1&&($t="return vec4(outputValue.xx, outputValue.zz);")}}else $t=`
        return vec4(outputValue.xy, outputValue.xy);
      `;const Pt=`
      vec4 ${dt}() {
        ${vt} coords = getOutputCoords();
        
        int lastDim = coords.${Ct[bt-1]};
        coords.${Ct[bt-1]} = coords.${Ct[bt-2]};
        coords.${Ct[bt-2]} = lastDim;
      
        ${_t}
        vec4 outputValue = ${gt}(${Et});
        ${$t}
      }
    `;return new rt.GlslLibRoutine(Pt,["coordinates.getOutputCoords"])}getUnpackedSamplerAtOutputCoords(dt,lt,at,ct){const ht=[at.width,at.height],pt=[lt.width,lt.height],mt=lt.unpackedShape.length,gt=at.unpackedShape.length,yt=lt.unpackedShape,bt=at.unpackedShape,xt=(0,st.generateShaderFuncNameFromInputSamplerName)(ct);if(mt===gt&&nt.ArrayUtil.arraysEqual(pt,ht)){const Dt=`
          float ${dt}() {
            return sampleTexture(${ct}, TexCoords);
          }
        `;return new rt.GlslLibRoutine(Dt,["coordinates.sampleTexture"])}const vt=(0,st.getCoordsDataType)(gt),wt=nt.BroadcastUtil.getBroadcastDims(yt,bt),_t=gt-mt;let Ct;const Et=(0,st.getGlChannels)();Ct=mt===0?"":gt<2&&wt.length>=1?"coords = 0;":wt.map(Dt=>`coords.${Et[Dt+_t]} = 0;`).join(`
`);let $t="";$t=gt<2&&mt>0?"coords":lt.unpackedShape.map((Dt,Pt)=>`coords.${Et[Pt+_t]}`).join(", ");const jt=`
        float ${dt}() {
          ${vt} coords = getOutputCoords();
          ${Ct}
          return ${xt}(${$t});
        }
      `;return new rt.GlslLibRoutine(jt,["coordinates.getOutputCoords"])}getPackedSamplerFromInput(dt,lt,at){switch(at.unpackedShape.length){case 0:return this.getPackedSamplerScalar(dt,lt);case 1:return this.getPackedSampler1D(dt,lt,at);case 2:return this.getPackedSampler2D(dt,lt,at);case 3:return this.getPackedSampler3D(dt,lt,at);default:return this.getPackedSamplerND(dt,lt,at)}}getUnpackedSamplerFromInput(dt,lt,at){const ct=at.unpackedShape;switch(ct.length){case 0:return this.getUnpackedSamplerScalar(dt,lt,at);case 1:return this.getUnpackedSampler1D(dt,lt,at);case 2:return this.getUnpackedSampler2D(dt,lt,at);case 3:return this.getUnpackedSampler3D(dt,lt,at);case 4:return this.getUnpackedSampler4D(dt,lt,at);case 5:return this.getUnpackedSampler5D(dt,lt,at);case 6:return this.getUnpackedSampler6D(dt,lt,at);default:throw new Error(`Unsupported dimension ${ct.length}-D`)}}getPackedSamplerScalar(dt,lt){const at=`
          vec4 ${dt}() {
            return ${(0,it.getGlsl)(this.context.glContext.version).texture2D}(${lt}, halfCR);
          }
        `;return new rt.GlslLibRoutine(at)}getPackedSampler1D(dt,lt,at){const ct=[at.width,at.height],ht=[ct[1],ct[0]],pt=(0,it.getGlsl)(this.context.glContext.version),mt=`vec4 ${dt}(int index) {
      vec2 uv = packedUVfrom1D(
      ${ht[0]}, ${ht[1]}, index);
      return ${pt.texture2D}(${lt}, uv);
    }`;return new rt.GlslLibRoutine(mt,["coordinates.packedUVfrom1D"])}getPackedSampler2D(dt,lt,at){const ct=at.unpackedShape,ht=[at.width,at.height],pt=(0,it.getGlsl)(this.context.glContext.version),mt=ht[0],gt=ht[1];if(ht!=null&&nt.ArrayUtil.arraysEqual(ct,ht)){const vt=`vec4 ${dt}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${gt}.0, ${mt}.0);
        return ${pt.texture2D}(${lt}, uv);
      }`;return new rt.GlslLibRoutine(vt)}const yt=ht,bt=Math.ceil(ct[1]/2),xt=`vec4 ${dt}(int row, int col) {
      vec2 uv = packedUVfrom2D(${yt[1]}, ${yt[0]}, ${bt}, row, col);
      return ${pt.texture2D}(${lt}, uv);
    }`;return new rt.GlslLibRoutine(xt,["coordinates.packedUVfrom2D"])}getPackedSampler3D(dt,lt,at){const ct=at.unpackedShape,ht=[at.width,at.height],pt=[ht[0],ht[1]],mt=(0,it.getGlsl)(this.context.glContext.version);if(ct[0]===1){const vt=ct.slice(1),wt=[1,2],_t=(0,st.squeezeInputShape)(ct,vt),Ct=["b","row","col"],Et=JSON.parse(JSON.stringify(at));Et.unpackedShape=_t;const $t=this.getPackedSamplerFromInput(dt,lt,Et),jt=`${$t.routineBody}
      vec4 ${dt}(int b, int row, int col) {
        return ${dt}(${(0,st.getSqueezedParams)(Ct,wt)});
      } `;return new rt.GlslLibRoutine(jt,$t.dependencies)}const gt=pt[0],yt=pt[1],bt=Math.ceil(ct[2]/2),xt=`vec4 ${dt}(int b, int row, int col) {
      vec2 uv = packedUVfrom3D(
        ${yt}, ${gt}, ${bt*Math.ceil(ct[1]/2)}, ${bt}, b, row, col);
      return ${mt.texture2D}(${lt}, uv);}`;return new rt.GlslLibRoutine(xt,["coordinates.packedUVfrom3D"])}getPackedSamplerND(dt,lt,at){const ct=at.unpackedShape,ht=ct.length,pt=[at.width,at.height],mt=(0,it.getGlsl)(this.context.glContext.version),gt=[pt[0],pt[1]],yt=gt[1],bt=gt[0],xt=Math.ceil(ct[ht-1]/2);let vt=xt*Math.ceil(ct[ht-2]/2),wt="int b, int row, int col",_t=`b * ${vt} + (row / 2) * ${xt} + (col / 2)`;for(let Et=2;Et<ht-1;Et++)wt=`int b${Et}, `+wt,vt*=ct[ht-Et-1],_t=`b${Et} * ${vt} + `+_t;const Ct=`vec4 ${dt}(${wt}) {
      int index = ${_t};
      int texR = index / ${bt};
      int texC = index - texR * ${bt};
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${bt}, ${yt});
      return ${mt.texture2D}(${lt}, uv);
    }`;return new rt.GlslLibRoutine(Ct)}getUnpackedSamplerScalar(dt,lt,at){const[ct,ht]=[at.width,at.height];if(ct===1&&ht===1){const mt=`
          float ${dt}() {
            return sampleTexture(${lt}, halfCR);
          }
        `;return new rt.GlslLibRoutine(mt,["coordinates.sampleTexture"])}const pt=`
        float ${dt}() {
          int offset_${lt} = coordsToOffset(TexCoords, ${ct}, ${ht});
          vec2 uv = uvFromFlat(${ct}, ${ht}, offset_${lt});
          return sampleTexture(${lt}, uv);
        }
      `;return new rt.GlslLibRoutine(pt,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler1D(dt,lt,at){const ct=at.width,ht=at.height;if(ht===1&&ct===1){const mt=`
        float ${dt}(int index) {
          return sampleTexture(${lt}, halfCR);
        }
      `;return new rt.GlslLibRoutine(mt,["coordinates.sampleTexture"])}if(ht===1){const mt=`
          float ${dt}(int index) {
            vec2 uv = vec2((float(index) + 0.5) / ${ct}.0, 0.5);
            return sampleTexture(${lt}, uv);
          }
        `;return new rt.GlslLibRoutine(mt,["coordinates.sampleTexture"])}if(ct===1){const mt=`
          float ${dt}(int index) {
            vec2 uv = vec2(0.5, (float(index) + 0.5) / ${ht}.0);
            return sampleTexture(${lt}, uv);
          }
        `;return new rt.GlslLibRoutine(mt,["coordinates.sampleTexture"])}const pt=`
        float ${dt}(int index) {
          vec2 uv = uvFromFlat(${ct}, ${ht}, index);
          return sampleTexture(${lt}, uv);
        }
      `;return new rt.GlslLibRoutine(pt,["coordinates.uvFromFlat","coordinates.sampleTexture"])}getUnpackedSampler2D(dt,lt,at){const ct=at.unpackedShape,ht=[at.height,at.width];if(ht!=null&&nt.ArrayUtil.arraysEqual(ct,ht)){const vt=`
          float ${dt}(int row, int col) {
            vec2 uv = (vec2(row, col) + halfCR) / vec2(${ht[1]}.0, ${ht[0]}.0);
            return sampleTexture(${lt}, uv);
          }
        `;return new rt.GlslLibRoutine(vt,["coordinates.sampleTexture"])}const{newShape:pt,keptDims:mt}=(0,ot.squeezeShape)(ct),gt=pt;if(gt.length<ct.length){const vt=(0,st.squeezeInputShape)(ct,gt),wt=JSON.parse(JSON.stringify(at));wt.unpackedShape=vt;const _t=["col","row"],Ct=`
          ${this.getUnpackedSamplerFromInput(dt,lt,wt).routineBody}
          float ${dt}(int row, int col) {
            return ${dt}(${(0,st.getSqueezedParams)(_t,mt)});
          }
        `;return new rt.GlslLibRoutine(Ct,["coordinates.sampleTexture"])}const yt=ht[1],bt=ht[0];if(bt===1){const vt=`
          float ${dt}(int row, int col) {
            int offset_${lt} = coordsToOffset(TexCoords, ${yt}, ${bt});
            float index = dot(vec3(row, col, offset_${lt}), vec3(${ct[1]}, 1, 1));
            vec2 uv = vec2(0.5, (index + 0.5) / ${yt}.0);
            return sampleTexture(${lt}, uv);
          }
        `;return new rt.GlslLibRoutine(vt,["coordinates.sampleTexture","coordinates.coordsToOffset"])}if(yt===1){const vt=`
          float ${dt}(int row, int col) {
            int offset_${lt} = coordsToOffset(TexCoords, ${yt}, ${bt});
            float index = dot(vec3(row, col, offset_${lt}), vec3(${ct[1]}, 1, 1));
            vec2 uv = vec2((index + 0.5) / ${bt}.0, 0.5);
            return sampleTexture(${lt}, uv);
          }
        `;return new rt.GlslLibRoutine(vt,["coordinates.sampleTexture","coordinates.coordsToOffset"])}const xt=`
        float ${dt}(int row, int col) {
          int index = col * ${ct[1]} + row;
          vec2 uv = uvFromFlat(${yt}, ${bt}, index);
          return sampleTexture(${lt}, uv);
        }
      `;return new rt.GlslLibRoutine(xt,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler3D(dt,lt,at){const ct=at.unpackedShape,ht=ct[1]*ct[2],pt=ct[2],{newShape:mt,keptDims:gt}=(0,ot.squeezeShape)(ct),yt=mt;if(yt.length<ct.length){const xt=(0,st.squeezeInputShape)(ct,yt),vt=["batch","col","row"],wt=JSON.parse(JSON.stringify(at));wt.unpackedShape=xt;const _t=this.getUnpackedSamplerFromInput(dt,lt,wt),Ct=gt.reverse(),Et=`
          ${_t.routineBody}
          float ${dt}(int batch, int row, int col) {
            return ${dt}(${(0,st.getSqueezedParams)(vt,Ct)});
          }
        `;return new rt.GlslLibRoutine(Et,_t.dependencies)}const bt=`
          float ${dt}(int depth, int row, int col) {
            // Explicitly use integer operations as dot() only works on floats.
            int index = depth * ${ht} + col * ${pt} + row;
            vec2 uv = uvFromFlat(${at.width}, ${at.height}, index);
            return sampleTexture(${lt}, uv);
          }
      `;return new rt.GlslLibRoutine(bt,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler4D(dt,lt,at){const ct=at.unpackedShape,ht=ct[3],pt=ct[2]*ht,mt=`
        float ${dt}(int row, int col, int depth, int depth2) {
          int index = row * ${ct[1]*pt} + col * ${pt} +
              depth2 * ${ht} + depth;
          vec2 uv = uvFromFlat(${at.width}, ${at.height}, index);
          return sampleTexture(${lt}, uv);
        }
      `;return new rt.GlslLibRoutine(mt,["coordinates.uvFromFlat","coordinates.sampleTexture"])}getUnpackedSampler5D(dt,lt,at){const ct=at.unpackedShape,ht=ct[4],pt=ct[3]*ht,mt=ct[2]*pt,gt=ct[1]*mt,{newShape:yt,keptDims:bt}=(0,ot.squeezeShape)(ct);if(yt.length<ct.length){const vt=(0,st.squeezeInputShape)(ct,yt),wt=["row","col","depth","depth2","depth3"],_t=JSON.parse(JSON.stringify(at));_t.unpackedShape=vt;const Ct=`
          ${this.getUnpackedSamplerFromInput(dt,lt,_t).routineBody}
          float ${dt}(int row, int col, int depth, int depth2, int depth3) {
            return ${dt}(${(0,st.getSqueezedParams)(wt,bt)});
          }
        `;return new rt.GlslLibRoutine(Ct,["coordinates.sampleTexture","coordinates.uvFromFlat"])}const xt=`
        float ${dt}(int row, int col, int depth, int depth2, int depth3) {
          int index = row * ${gt} + col * ${mt} + depth * ${pt} +
          depth3 * ${ht} + depth2;
          vec2 uv = uvFromFlat(${at.width}, ${at.height}, index);
          return sampleTexture(${lt}, uv);
        }
      `;return new rt.GlslLibRoutine(xt,["coordinates.sampleTexture","coordinates.uvFromFlat"])}getUnpackedSampler6D(dt,lt,at){const ct=at.unpackedShape,ht=ct[5],pt=ct[4]*ht,mt=ct[3]*pt,gt=ct[2]*mt,yt=ct[1]*gt,{newShape:bt,keptDims:xt}=(0,ot.squeezeShape)(ct);if(bt.length<ct.length){const wt=(0,st.squeezeInputShape)(ct,bt),_t=["row","col","depth","depth2","depth3","depth4"],Ct=JSON.parse(JSON.stringify(at));Ct.unpackedShape=wt;const Et=`
            ${this.getUnpackedSamplerFromInput(dt,lt,Ct).routineBody}
            float ${dt}(int row, int col, int depth,
              int depth2, int depth3, int depth4) {
              return ${dt}(${(0,st.getSqueezedParams)(_t,xt)});
            }
          `;return new rt.GlslLibRoutine(Et,["coordinates.sampleTexture","coordinates.uvFromFlat"])}const vt=`
          float ${dt}(int row, int col, int depth,
            int depth2, int depth3, int depth4) {
            int index = row * ${yt} + col * ${gt} + depth * ${mt} +
            depth2 * ${pt} + depth3 * ${ht} + depth4;
            vec2 uv = uvFromFlat(${at.width}, ${at.height}, index);
            return sampleTexture(${lt}, uv);
          }
        `;return new rt.GlslLibRoutine(vt,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}toVec(){const dt=this.context.outputTextureLayout,lt=dt.shape.length,at=dt.strides,ct=dt.width,ht=dt.height,pt=[];for(let gt=0;gt<lt-1;++gt)pt.push(`
        c[${gt}] = offset / ${at[gt]};`),pt.push(`
        offset -= c[${gt}] * ${at[gt]};`);pt.push(`
        c[${lt-1}] = offset;`);const mt=`
      void toVec(vec2 texCoords, out int c[${lt}]) {
        int offset = coordsToOffset(texCoords, ${ct}, ${ht});
        ${pt.join("")}
      }
      void toVec(int offset, out int c[${lt}]) {
        ${pt.join("")}
      }
    `;return{toVec:new rt.GlslLibRoutine(mt,["coordinates.coordsToOffset"])}}valueFrom(){const dt={};return this.context.programInfo.inputNames.forEach((lt,at)=>{const ct=this.context.inputTextureLayouts[at],ht=(ct.unpackedShape.length>0?ct.unpackedShape:ct.shape).length;let pt=`_${lt}`;dt[pt]=new rt.GlslLibRoutine(this.getValueFromSingle(lt,ht,ct.width,ct.height,!1),[`shapeUtils.indicesToOffset${pt}`,"coordinates.offsetToCoords","fragcolor.getColorAsFloat"]),pt+="_T",dt[pt]=new rt.GlslLibRoutine(this.getValueFromSingle(lt,ht,ct.width,ct.height,!0),[`shapeUtils.indicesToOffset${pt}`,"coordinates.offsetToCoords","fragcolor.getColorAsFloat"])}),dt}getValueFromSingle(dt,lt,at,ct,ht){let pt=`_${dt}`;return ht&&(pt+="_T"),`
        float ${pt}(int m[${lt}]) {
          int offset = indicesToOffset${pt}(m);
          vec2 coords = offsetToCoords(offset, ${at}, ${ct});
          float value = getColorAsFloat(${(0,it.getGlsl)(this.context.glContext.version).texture2D}(${dt}, coords));
          return value;
        }
        `}getPackedValueFrom(dt,lt,at,ct,ht){let pt=`_${dt}_Pack`;return ht&&(pt+="_T"),`
        vec4 ${pt}(int m[${lt}]) {
          int offset = indicesToOffset_${dt}(m);
          vec2 coords = offsetToCoords(offset, ${at}, ${ct});
          return ${(0,it.getGlsl)(this.context.glContext.version).texture2D}(${dt}, coords);
        }
        `}}et.CoordsGlslLib=ut},1997:(_e,et)=>{var tt;Object.defineProperty(et,"__esModule",{value:!0}),et.TopologicalSortGlslRoutines=et.GlslLibRoutineNode=et.GlslLibRoutine=et.GlslLib=et.GlslContext=et.FunctionType=void 0,(tt=et.FunctionType||(et.FunctionType={}))[tt.ValueBased=0]="ValueBased",tt[tt.Positional=1]="Positional",et.GlslContext=class{constructor(nt,rt,it,ot){this.glContext=nt,this.programInfo=rt,this.inputTextureLayouts=it,this.outputTextureLayout=ot}},et.GlslLib=class{constructor(nt){this.context=nt}},et.GlslLibRoutine=class{constructor(nt,rt){this.routineBody=nt,this.dependencies=rt}},et.GlslLibRoutineNode=class{constructor(nt,rt,it){this.name=nt,this.dependencies=it||[],rt&&(this.routineBody=rt)}addDependency(nt){nt&&this.dependencies.push(nt)}},et.TopologicalSortGlslRoutines=class{static returnOrderedNodes(nt){if(!nt||nt.length===0)return[];if(nt.length===1)return nt;const rt=new Set,it=new Set,ot=new Array;return this.createOrderedNodes(nt,rt,it,ot),ot}static createOrderedNodes(nt,rt,it,ot){for(let st=0;st<nt.length;++st)this.dfsTraverse(nt[st],rt,it,ot)}static dfsTraverse(nt,rt,it,ot){if(!nt||it.has(nt.name))return;if(rt.has(nt.name))throw new Error("Cyclic dependency detected. Can't topologically sort routines needed for shader.");rt.add(nt.name);const st=nt.dependencies;if(st&&st.length>0)for(let ut=0;ut<st.length;++ut)this.dfsTraverse(st[ut],rt,it,ot);ot.push(nt),it.add(nt.name),rt.delete(nt.name)}}},1371:(_e,et,tt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.EncodingGlslLib=void 0;const nt=tt(1997);class rt extends nt.GlslLib{constructor(ot){super(ot)}getFunctions(){return Object.assign(Object.assign({},this.encodeFloat32()),this.decodeFloat32())}getCustomTypes(){return{}}encodeFloat32(){return{encode:new nt.GlslLibRoutine(`highp vec4 encode(highp float f) {
        return vec4(f, 0.0, 0.0, 0.0);
      }
        `)}}decodeFloat32(){return{decode:new nt.GlslLibRoutine(`highp float decode(highp vec4 rgba) {
        return rgba.r;
      }
        `)}}encodeUint8(){const ot=rt.isLittleEndian()?"rgba.rgba=rgba.abgr;":"";return{encode:new nt.GlslLibRoutine(`
      highp vec4 encode(highp float f) {
        highp float F = abs(f);
        highp float Sign = step(0.0,-f);
        highp float Exponent = floor(log2(F));
        highp float Mantissa = (exp2(- Exponent) * F);
        Exponent = floor(log2(F) + 127.0) + floor(log2(Mantissa));
        highp vec4 rgba;
        rgba[0] = 128.0 * Sign  + floor(Exponent*exp2(-1.0));
        rgba[1] = 128.0 * mod(Exponent,2.0) + mod(floor(Mantissa*128.0),128.0);
        rgba[2] = floor(mod(floor(Mantissa*exp2(23.0 -8.0)),exp2(8.0)));
        rgba[3] = floor(exp2(23.0)*mod(Mantissa,exp2(-15.0)));
        ${ot}
        rgba = rgba / 255.0; // values need to be normalized to [0,1]
        return rgba;
    }
        `)}}decodeUint8(){const ot=rt.isLittleEndian()?"rgba.rgba=rgba.abgr;":"";return{decode:new nt.GlslLibRoutine(`
        highp float decode(highp vec4 rgba) {
          rgba = rgba * 255.0; // values need to be de-normalized from [0,1] to [0,255]
          ${ot}
          highp float Sign = 1.0 - step(128.0,rgba[0])*2.0;
          highp float Exponent = 2.0 * mod(rgba[0],128.0) + step(128.0,rgba[1]) - 127.0;
          highp float Mantissa = mod(rgba[1],128.0)*65536.0 + rgba[2]*256.0 +rgba[3] + float(0x800000);
          highp float Result =  Sign * exp2(Exponent) * (Mantissa * exp2(-23.0 ));
          return Result;
      }
        `)}}static isLittleEndian(){const ot=new ArrayBuffer(4),st=new Uint32Array(ot),ut=new Uint8Array(ot);if(st[0]=3735928559,ut[0]===239)return!0;if(ut[0]===222)return!1;throw new Error("unknown endianness")}}et.EncodingGlslLib=rt},2691:(_e,et,tt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.FragColorGlslLib=void 0;const nt=tt(1997),rt=tt(6757);class it extends nt.GlslLib{constructor(st){super(st)}getFunctions(){return Object.assign(Object.assign({},this.setFragColor()),this.getColorAsFloat())}getCustomTypes(){return{}}setFragColor(){const st=(0,rt.getGlsl)(this.context.glContext.version);return{setFragColor:new nt.GlslLibRoutine(`
        void setFragColor(float value) {
            ${st.output} = encode(value);
        }
        `,["encoding.encode"])}}getColorAsFloat(){return{getColorAsFloat:new nt.GlslLibRoutine(`
        float getColorAsFloat(vec4 color) {
            return decode(color);
        }
        `,["encoding.decode"])}}}et.FragColorGlslLib=it},3878:(_e,et)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.replaceInlines=void 0;const tt=/@inline[\s\n\r]+(\w+)[\s\n\r]+([0-9a-zA-Z_]+)\s*\(([^)]*)\)\s*{(([^}]|[\n\r])*)}/gm;et.replaceInlines=function(nt){const rt={};let it;for(;(it=tt.exec(nt))!==null;){const ot=it[3].split(",").map(st=>{const ut=st.trim().split(" ");return ut&&ut.length===2?{type:ut[0],name:ut[1]}:null}).filter(st=>st!==null);rt[it[2]]={params:ot,body:it[4]}}for(const ot in rt){const st="(\\w+)?\\s+([_0-9a-zA-Z]+)\\s+=\\s+__FUNC__\\((.*)\\)\\s*;".replace("__FUNC__",ot),ut=new RegExp(st,"gm");for(;(it=ut.exec(nt))!==null;){const ft=it[1],dt=it[2],lt=it[3].split(","),at=ft?`${ft} ${dt};`:"";let ct=rt[ot].body,ht="";rt[ot].params.forEach((mt,gt)=>{mt&&(ht+=`${mt.type} ${mt.name} = ${lt[gt]};
`)}),ct=`${ht}
 ${ct}`,ct=ct.replace("return",`${dt} = `);const pt=`
      ${at}
      {
        ${ct}
      }
      `;nt=nt.replace(it[0],pt)}}return nt.replace(tt,"")}},8897:(_e,et,tt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.GlslPreprocessor=void 0;const nt=tt(1997),rt=tt(3878),it=tt(1248),ot=tt(6757);et.GlslPreprocessor=class{constructor(st,ut,ft,dt){this.libs={},this.glslLibRoutineDependencyGraph={},this.context=new nt.GlslContext(st,ut,ft,dt),Object.keys(it.glslRegistry).forEach(at=>{const ct=new it.glslRegistry[at](this.context);this.libs[at]=ct});const lt=this.glslLibRoutineDependencyGraph;for(const at in this.libs){const ct=this.libs[at].getFunctions();for(const ht in ct){const pt=at+"."+ht;let mt;lt[pt]?(mt=lt[pt],mt.routineBody=ct[ht].routineBody):(mt=new nt.GlslLibRoutineNode(pt,ct[ht].routineBody),lt[pt]=mt);const gt=ct[ht].dependencies;if(gt)for(let yt=0;yt<gt.length;++yt)if(lt[gt[yt]])mt.addDependency(lt[gt[yt]]);else{const bt=new nt.GlslLibRoutineNode(gt[yt]);lt[gt[yt]]=bt,mt.addDependency(bt)}}}}preprocess(){const st=this.context.programInfo;let ut=st.shaderSource;return this.context.programInfo.hasMain||(ut=`${ut}
      ${(0,ot.getDefaultFragShaderMain)(this.context.glContext.version,this.context.outputTextureLayout.shape.length)}`),ut=(0,rt.replaceInlines)(ut),`${(0,ot.getFragShaderPreamble)(this.context.glContext.version)}
    ${this.getUniforms(st.inputNames,st.variables)}
    ${this.getImports(ut)}
    ${ut}`}getImports(st){const ut=this.selectGlslLibRoutinesToBeIncluded(st);if(ut.length===0)return"";let ft="";for(let dt=0;dt<ut.length;++dt){if(!ut[dt].routineBody)throw new Error(`Missing body for the Glsl Library routine: ${ut[dt].name}`);ft+=ut[dt].routineBody+`
`}return ft}selectGlslLibRoutinesToBeIncluded(st){const ut=[];return Object.keys(this.glslLibRoutineDependencyGraph).forEach(ft=>{const dt=ft.split(".")[1];st.indexOf(dt)!==-1&&ut.push(this.glslLibRoutineDependencyGraph[ft])}),nt.TopologicalSortGlslRoutines.returnOrderedNodes(ut)}getUniforms(st,ut){const ft=[];if(st)for(const dt of st)ft.push(`uniform sampler2D ${dt};`);if(ut)for(const dt of ut)ft.push(`uniform ${dt.type} ${dt.name}${dt.arrayLength?`[${dt.arrayLength}]`:""};`);return ft.join(`
`)}}},1248:(_e,et,tt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.glslRegistry=void 0;const nt=tt(6859),rt=tt(1371),it=tt(2691),ot=tt(9183),st=tt(9314);et.glslRegistry={encoding:rt.EncodingGlslLib,fragcolor:it.FragColorGlslLib,vec:st.VecGlslLib,shapeUtils:ot.ShapeUtilsGlslLib,coordinates:nt.CoordsGlslLib}},9183:(_e,et,tt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.ShapeUtilsGlslLib=void 0;const nt=tt(1997);class rt extends nt.GlslLib{constructor(ot){super(ot)}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},this.bcastIndex()),this.bcastMatmulIndex()),this.offsetToIndices()),this.indicesToOffset()),this.incrementIndices())}getCustomTypes(){return{}}bcastIndex(){const ot=this.context.outputTextureLayout.shape.length,st={};return this.context.programInfo.inputNames.forEach((ut,ft)=>{const dt=this.context.inputTextureLayouts[ft].unpackedShape;if(dt.length<=ot){const lt=dt.length,at=ot-lt,ct=`bcastIndices_${ut}`;let ht="";for(let mt=0;mt<lt;++mt)ht+=`
          realIndices[${mt}] = int( mod(float(bcastedIndices[${at+mt}]), ${dt[mt]}.0) );
          `;const pt=`
        void ${ct} (int bcastedIndices[${ot}], out int realIndices[${lt}]) {
          ${ht}
        }
        `;st[ct]=new nt.GlslLibRoutine(pt)}}),st}bcastMatmulIndex(){const ot=this.context.outputTextureLayout.shape.length,st={};return this.context.programInfo.inputNames.forEach((ut,ft)=>{const dt=this.context.inputTextureLayouts[ft].shape;if(!(dt.length<2||dt.length>ot)){const lt=dt.length,at=ot-lt,ct=`bcastMatmulIndices_${ut}`;let ht="";for(let mt=0;mt<lt-2;++mt)ht+=`
          realIndices[${mt}] = int( mod(float(bcastedIndices[${at+mt}]), ${dt[mt]}.0) );
          `;const pt=`
        void ${ct}(int bcastedIndices[${ot}], out int realIndices[${lt}]) {
          ${ht}
          realIndices[${lt-1}] = bcastedIndices[${ot-1}];
          realIndices[${lt-2}] = bcastedIndices[${ot-2}];
        }
        `;st[ct]=new nt.GlslLibRoutine(pt)}}),st}indicesToOffset(){const ot={};return this.context.programInfo.inputNames.forEach((st,ut)=>{const ft=this.context.inputTextureLayouts[ut].shape,dt=this.context.inputTextureLayouts[ut].strides,lt=ft.length;let at=`indicesToOffset_${st}`;ot[at]=new nt.GlslLibRoutine(rt.indexToOffsetSingle(at,lt,dt)),at=`indicesToOffset_${st}_T`,ot[at]=new nt.GlslLibRoutine(rt.indexToOffsetSingle(at,lt,dt.slice().reverse()))}),ot}static indexToOffsetSingle(ot,st,ut){let ft="";for(let dt=st-1;dt>=0;--dt)ft+=`
        offset += indices[${dt}] * ${ut[dt]};
        `;return`
      int ${ot}(int indices[${st}]) {
        int offset = 0;
        ${ft}
        return offset;
      }
      `}offsetToIndices(){const ot={};return this.context.programInfo.inputNames.forEach((st,ut)=>{const ft=this.context.inputTextureLayouts[ut].shape,dt=this.context.inputTextureLayouts[ut].strides,lt=ft.length;let at=`offsetToIndices_${st}`;ot[at]=new nt.GlslLibRoutine(rt.offsetToIndicesSingle(at,lt,dt)),at=`offsetToIndices_${st}_T`,ot[at]=new nt.GlslLibRoutine(rt.offsetToIndicesSingle(at,lt,dt.slice().reverse()))}),ot}static offsetToIndicesSingle(ot,st,ut){const ft=[];for(let dt=0;dt<st-1;++dt)ft.push(`
      indices[${dt}] = offset / ${ut[dt]};`),ft.push(`
        offset -= indices[${dt}] * ${ut[dt]};`);return ft.push(`
      indices[${st-1}] = offset;`),`
      void ${ot}(int offset, out int indices[${st}]) {
        ${ft.join("")}
      }
      `}incrementIndices(){const ot={};return this.context.programInfo.inputNames.forEach((st,ut)=>{const ft=this.context.inputTextureLayouts[ut].shape,dt=ft.length,lt=`incrementIndices_${st}`;let at="";for(let ht=0;ht<dt;++ht)at+=`
        shape[${ht}] = ${ft[ht]};`;const ct=`
        void ${lt}(int axis, out int indices[${dt}]) {
          int shape[${dt}];
          ${at};
          for(int i = ${dt} -1 ; i >= 0; --i) {
            if(i > axis) continue;
            indices[i] += 1;
            if(indices[i] < shape[i]) {
              break;
            }
            indices[i] = 0;
          }
        }
        `;ot[lt]=new nt.GlslLibRoutine(ct)}),ot}}et.ShapeUtilsGlslLib=rt},6757:(_e,et)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.getDefaultFragShaderMain=et.getFragShaderPreamble=et.getVertexShaderSource=et.getGlsl=void 0;const tt={version:"",attribute:"attribute",varyingVertex:"varying",varyingFrag:"varying",texture2D:"texture2D",output:"gl_FragColor",outputDeclaration:""},nt={version:"#version 300 es",attribute:"in",varyingVertex:"out",varyingFrag:"in",texture2D:"texture",output:"outputColor",outputDeclaration:"out vec4 outputColor;"};function rt(it){return it===1?tt:nt}et.getGlsl=rt,et.getVertexShaderSource=function(it){const ot=rt(it);return`${ot.version}
      precision highp float;
      ${ot.attribute} vec3 position;
      ${ot.attribute} vec2 textureCoord;

      ${ot.varyingVertex} vec2 TexCoords;

      void main()
      {
          gl_Position = vec4(position, 1.0);
          TexCoords = textureCoord;
      }`},et.getFragShaderPreamble=function(it){const ot=rt(it);return`${ot.version}
    precision highp float;
    precision highp int;
    precision highp sampler2D;
    ${ot.varyingFrag} vec2 TexCoords;
    ${ot.outputDeclaration}
    const vec2 halfCR = vec2(0.5, 0.5);

    // Custom vector types to handle higher dimenalities.
    struct ivec5
    {
      int x;
      int y;
      int z;
      int w;
      int u;
    };

    struct ivec6
    {
      int x;
      int y;
      int z;
      int w;
      int u;
      int v;
    };

    int imod(int x, int y) {
      return x - y * (x / y);
    }

    `},et.getDefaultFragShaderMain=function(it,ot){return`
  void main() {
    int indices[${ot}];
    toVec(TexCoords, indices);
    vec4 result = vec4(process(indices));
    ${rt(it).output} = result;
  }
  `}},9314:(_e,et,tt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.VecGlslLib=void 0;const nt=tt(1997);class rt extends nt.GlslLib{constructor(ot){super(ot)}getCustomTypes(){return{}}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign({},this.binaryVecFunctions()),this.copyVec()),this.setVecItem()),this.getVecItem())}binaryVecFunctions(){const ot=this.context.outputTextureLayout.shape.length,st={add:"+=",sub:"-=",mul:"*=",div:"/="},ut={};for(const ft in st){const dt=`${ft}Vec`;let lt="";for(let ct=0;ct<ot;++ct)lt+=`
          dest[${ct}] ${st[ft]} src[${ct}];
          `;const at=`
        void ${dt}(int src[${ot}], out int dest[${ot}]) {
          ${lt}
        }
        `;ut[dt]=new nt.GlslLibRoutine(at)}return ut}copyVec(){const ot=this.context.outputTextureLayout.shape.length;let st="";for(let ft=0;ft<ot;++ft)st+=`
        dest[${ft}] = src[${ft}];
        `;const ut=`
      void copyVec(int src[${ot}], out int dest[${ot}]) {
        ${st}
      }
      `;return{copyVec:new nt.GlslLibRoutine(ut)}}setVecItem(){const ot=this.context.outputTextureLayout.shape.length;let st=`
        if(index < 0)
            index =${ot} + index;
        if (index == 0)
            m[0] = value;
        `;for(let ft=1;ft<ot-1;++ft)st+=`
        else if (index == ${ft})
            m[${ft}] = value;
            `;st+=`
        else
            m[${ot-1}] = value;
        `;const ut=`
      void setVecItem(out int m[${ot}], int index, int value) {
        ${st}
      }
        `;return{setVecItem:new nt.GlslLibRoutine(ut)}}getVecItem(){const ot=this.context.outputTextureLayout.shape.length;let st=`
        if(index < 0)
            index = ${ot} + index;
        if (index == 0)
            return m[0];
      `;for(let ft=1;ft<ot-1;++ft)st+=`
        else if (index == ${ft})
            return m[${ft}];
      `;st+=`
        else
            return m[${ot-1}];
        `;const ut=`
      int getVecItem(int m[${ot}], int index) {
        ${st}
      }
    `;return{getVecItem:new nt.GlslLibRoutine(ut)}}}et.VecGlslLib=rt},7860:(_e,et,tt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.WebGLInferenceHandler=void 0;const nt=tt(1315),rt=tt(9240),it=tt(7273),ot=tt(9),st=tt(7379),ut=tt(2488),ft=tt(540),dt=tt(3314),lt=tt(5639);et.WebGLInferenceHandler=class{constructor(at){this.session=at,this.packedTextureDataCache=new Map,this.unpackedTextureDataCache=new Map}calculateTextureWidthAndHeight(at,ct){return(0,dt.calculateTextureWidthAndHeight)(this.session.layoutStrategy,at,ct)}executeProgram(at,ct){if(ct.length<at.inputNames.length)throw new Error(`Input size mustn't be less than ${at.inputNames.length}.`);if(at.inputNames.length!==at.inputTypes.length)throw new Error("input names size does not match input types");const ht=[];for(let xt=0;xt<at.inputNames.length;++xt)ht[xt]=this.getOrCreateTextureData(ct[xt],at.inputTypes[xt]);const pt=((xt,vt)=>{const wt=vt.map(Ct=>`${Ct.unpackedShape.join(",")};${Ct.width}x${Ct.height}`).join("_");let _t=xt.name;return xt.cacheHint&&(_t+="["+xt.cacheHint+"]"),_t+=":"+wt,_t})(at,ht);let mt=this.session.programManager.getArtifact(pt);const gt=mt?mt.programInfo:typeof at.get=="function"?at.get():at,yt=(0,dt.createTextureLayoutFromTextureType)(this.session.layoutStrategy,gt.output.dims,gt.output.textureType),bt=this.createTextureData(yt,gt.output.type);return mt||(mt=this.session.programManager.build(gt,ht,bt),this.session.programManager.setArtifact(pt,mt)),this.runProgram(mt,ht,bt),bt}run(at,ct){return this.executeProgram(at,ct).tensor}runProgram(at,ct,ht){for(let pt=0;pt<ct.length;++pt)if(!!ct[pt].isPacked!=(at.programInfo.inputTypes[pt]===lt.TextureType.packed))throw new Error(`input[${pt}] property packed inconsistent`);if(!!ht.isPacked!=(at.programInfo.output.textureType===lt.TextureType.packed))throw new Error("output property packed inconsistent");this.session.programManager.run(at,ct,ht)}getOrCreateTextureData(at,ct){let ht=this.getTextureData(at.dataId,ct===lt.TextureType.packed);if(!ht&&(ht=this.getTextureData(at.dataId,ct!==lt.TextureType.packed),ht))return ct===lt.TextureType.packed?this.pack(ht):this.unpack(ht);if(!ht){const pt=(0,dt.createTextureLayoutFromTextureType)(this.session.layoutStrategy,at.dims,ct);if(ct===lt.TextureType.packedLastDimension){const yt=at.dims;if(yt.length===4){const bt=[yt[0],Math.ceil(yt[1]*yt[2]*yt[3]/4)],xt=(0,dt.createTextureLayoutFromTextureType)(this.session.layoutStrategy,bt,ct);let vt=at.numberData;if(yt[1]*yt[2]*yt[3]%4!=0){const wt=yt[0],_t=yt[1]*yt[2]*yt[3],Ct=Math.ceil(_t*1/4)*4;vt=new Float32Array(wt*Ct);for(let Et=0;Et<wt;++Et){const $t=Et*_t,jt=Et*Ct+Et%1*_t;vt.set(at.numberData.subarray($t,$t+_t),jt)}}return this.createTextureData(xt,at.type,vt,at,1)}}if(ct===lt.TextureType.packed){const mt=(0,dt.createTextureLayoutFromShape)(this.session.layoutStrategy,at.dims,1,[],{reverseWH:!0}),gt=this.createTextureData(mt,at.type,at.numberData,at,1);ht=this.pack(gt)}else ht=this.createTextureData(pt,at.type,at.numberData,at,1)}return ht}createTextureDataFromLayoutBindTensor(at,ct,ht,pt){return this.createTextureData(at,ct,ht,pt,1)}createTextureData(at,ct,ht,pt,mt){nt.Logger.verbose("InferenceHandler",`Creating TextureData: layout:[${JSON.stringify(at)}]`);const gt=this.session.textureManager.createTextureFromLayout(ct,at,ht,mt);return this.createTextureDataFromTexture(at,ct,gt,pt)}reshapeUnpacked(at,ct){const ht=this.getOrCreateTextureData(at,lt.TextureType.unpacked),pt={channels:ht.channels,height:ht.height,width:ht.width,shape:ct.length!==0?ct:[1],strides:it.ShapeUtil.computeStrides(ct),unpackedShape:ct};return this.createTextureDataFromTexture(pt,at.type,ht.texture).tensor}reshapePacked(at,ct){const ht=this.getOrCreateTextureData(at,lt.TextureType.packed);if((0,st.isReshapeCheap)(at.dims,ct)){const bt={channels:ht.channels,height:ht.height,width:ht.width,shape:ct.length!==0?ct:[1],strides:it.ShapeUtil.computeStrides(ct),unpackedShape:ct,isPacked:!0};return this.createTextureDataFromTexture(bt,at.type,ht.texture).tensor}const pt=(0,st.processDims3D)(at.dims),mt=(0,st.processDims3D)(ct),gt=this.reshapePacked(at,pt),yt=this.run((0,st.createPackedReshape3DProgramInfoLoader)(this,gt,mt),[gt]);return this.reshapePacked(yt,ct)}cast(at,ct){const ht=this.getOrCreateTextureData(at,lt.TextureType.unpacked);return this.createTextureDataFromTexture(ht,ct,ht.texture).tensor}createTextureDataFromTexture(at,ct,ht,pt,mt){const gt=Object.assign(Object.assign({},at),{tensor:pt||new rt.Tensor(at.unpackedShape,ct,yt=>this.readTexture(gt),async yt=>this.readTextureAsync(gt),void 0,mt),texture:ht});return this.setTextureData(gt.tensor.dataId,gt,at.isPacked),gt}getTextureData(at,ct=!1){return this.session.isInitializer(at)?this.session.getTextureData(at,ct):ct?this.packedTextureDataCache.get(at):this.unpackedTextureDataCache.get(at)}setTextureData(at,ct,ht=!1){this.session.isInitializer(at)?this.session.setTextureData(at,ct,ht):(ht?this.packedTextureDataCache:this.unpackedTextureDataCache).set(at,ct)}isTextureLayoutCached(at,ct=!1){return!!this.getTextureData(at.dataId,ct)}dispose(){this.session.textureManager.clearActiveTextures(),this.packedTextureDataCache.forEach(at=>this.session.textureManager.releaseTexture(at)),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache.forEach(at=>this.session.textureManager.releaseTexture(at)),this.unpackedTextureDataCache=new Map}readTexture(at){return at.isPacked?this.readTexture(this.unpack(at)):this.session.backend.glContext.isFloat32DownloadSupported?this.session.textureManager.readTexture(at,at.tensor.type,at.channels):this.session.textureManager.readUint8TextureAsFloat((0,ut.encodeAsUint8)(this,at))}async readTextureAsync(at){return at.isPacked?this.readTextureAsync(this.unpack(at)):this.session.backend.glContext.isFloat32DownloadSupported?this.session.textureManager.readTextureAsync(at,at.tensor.type,at.channels):this.session.textureManager.readUint8TextureAsFloat((0,ut.encodeAsUint8)(this,at))}pack(at){return this.executeProgram((0,ot.createPackProgramInfoLoader)(this,at.tensor),[at.tensor])}unpack(at){return this.executeProgram((0,ft.createUnpackProgramInfoLoader)(this,at.tensor),[at.tensor])}}},4110:function(_e,et,tt){var nt=this&&this.__createBinding||(Object.create?function(Nt,It,Bt,zt){zt===void 0&&(zt=Bt);var Gt=Object.getOwnPropertyDescriptor(It,Bt);Gt&&!("get"in Gt?!It.__esModule:Gt.writable||Gt.configurable)||(Gt={enumerable:!0,get:function(){return It[Bt]}}),Object.defineProperty(Nt,zt,Gt)}:function(Nt,It,Bt,zt){zt===void 0&&(zt=Bt),Nt[zt]=It[Bt]}),rt=this&&this.__setModuleDefault||(Object.create?function(Nt,It){Object.defineProperty(Nt,"default",{enumerable:!0,value:It})}:function(Nt,It){Nt.default=It}),it=this&&this.__importStar||function(Nt){if(Nt&&Nt.__esModule)return Nt;var It={};if(Nt!=null)for(var Bt in Nt)Bt!=="default"&&Object.prototype.hasOwnProperty.call(Nt,Bt)&&nt(It,Nt,Bt);return rt(It,Nt),It};Object.defineProperty(et,"__esModule",{value:!0}),et.WEBGL_OP_RESOLVE_RULES=void 0;const ot=tt(8817),st=it(tt(5194)),ut=tt(4752),ft=tt(6668),dt=tt(9754),lt=tt(5042),at=tt(6742),ct=tt(4125),ht=tt(6149),pt=tt(5378),mt=tt(6981),gt=tt(7413),yt=tt(7006),bt=tt(8276),xt=tt(5565),vt=tt(2834),wt=tt(1010),_t=tt(8126),Ct=tt(2801),Et=tt(565),$t=tt(2444),jt=tt(815),Dt=tt(564),Pt=tt(5416),kt=tt(1240),At=tt(5944),Tt=tt(5707),St=it(tt(9087)),Rt=tt(7862),Ot=tt(3980);et.WEBGL_OP_RESOLVE_RULES=[["Abs","","6+",St.abs],["Acos","","7+",St.acos],["Add","","7+",st.add],["And","","7+",st.and],["Asin","","7+",St.asin],["Atan","","7+",St.atan],["AveragePool","","7+",vt.averagePool,vt.parseAveragePoolAttributes],["BatchNormalization","","7+",ot.batchNormalization,ot.parseBatchNormalizationAttributes],["Cast","","6+",ut.cast,ut.parseCastAttributes],["Ceil","","6+",St.ceil],["Clip","","6-10",St.clip,St.parseClipAttributes],["Clip","","11+",St.clipV11],["Concat","","4+",ft.concat,ft.parseConcatAttributes],["Conv","","1+",dt.conv,dt.parseConvAttributes],["ConvTranspose","","1+",lt.convTranspose,lt.parseConvTransposeAttributes],["Cos","","7+",St.cos],["Div","","7+",st.div],["Dropout","","7+",St.identity],["DepthToSpace","","1+",at.depthToSpace,at.parseDepthToSpaceAttributes],["Equal","","7+",st.equal],["Elu","","6+",St.elu,St.parseEluAttributes],["Exp","","6+",St.exp],["Flatten","","1+",ct.flatten,ct.parseFlattenAttributes],["Floor","","6+",St.floor],["FusedConv","com.microsoft","1+",dt.conv,dt.parseConvAttributes],["Gather","","1+",ht.gather,ht.parseGatherAttributes],["Gemm","","7-10",pt.gemm,pt.parseGemmAttributesV7],["Gemm","","11+",pt.gemm,pt.parseGemmAttributesV11],["GlobalAveragePool","","1+",vt.globalAveragePool,vt.parseGlobalAveragePoolAttributes],["GlobalMaxPool","","1+",vt.globalMaxPool],["Greater","","7+",st.greater],["Identity","","1+",St.identity],["ImageScaler","","1+",mt.imageScaler,mt.parseImageScalerAttributes],["InstanceNormalization","","6+",gt.instanceNormalization,gt.parseInstanceNormalizationAttributes],["LeakyRelu","","6+",St.leakyRelu,St.parseLeakyReluAttributes],["Less","","7+",st.less],["LRN","","1+",yt.lrn,yt.parseLrnAttributes],["Log","","6+",St.log],["MatMul","","1+",bt.matMul,bt.parseMatMulAttributes],["MaxPool","","1+",vt.maxPool,vt.parseMaxPoolAttributes],["Mul","","7+",st.mul],["Neg","","6+",St.neg],["Not","","1+",St.not],["Or","","7+",st.or],["Pad","","2-10",xt.padV2,xt.parsePadAttributesV2],["Pad","","11+",xt.padV11,xt.parsePadAttributesV11],["Pow","","7+",st.pow],["PRelu","","7+",st.pRelu],["ReduceLogSum","","1+",wt.reduceLogSum,wt.parseReduceAttributes],["ReduceMax","","1+",wt.reduceMax,wt.parseReduceAttributes],["ReduceMean","","1+",wt.reduceMean,wt.parseReduceAttributes],["ReduceMin","","1+",wt.reduceMin,wt.parseReduceAttributes],["ReduceProd","","1+",wt.reduceProd,wt.parseReduceAttributes],["ReduceSum","","1-12",wt.reduceSum,wt.parseReduceAttributes],["ReduceSumSquare","","1+",wt.reduceLogSumSquare,wt.parseReduceAttributes],["Relu","","6+",St.relu],["Reshape","","5+",_t.reshape],["Resize","","10",Ct.resize,Ct.parseResizeAttributesV10],["Resize","","11+",Ct.resize,Ct.parseResizeAttributesV11],["Shape","","1+",Et.shape],["Sigmoid","","6+",St.sigmoid],["Sin","","7+",St.sin],["Slice","","10+",$t.sliceV10],["Slice","","1-9",$t.slice,$t.parseSliceAttributes],["Softmax","","1-12",jt.softmax,jt.parseSoftmaxAttributes],["Softmax","","13+",jt.softmaxV13,jt.parseSoftmaxAttributesV13],["Split","","2-12",Dt.split,Dt.parseSplitAttributes],["Sqrt","","6+",St.sqrt],["Squeeze","","1-12",Pt.squeeze,Pt.parseSqueezeAttributes],["Squeeze","","13+",Pt.squeezeV13],["Sub","","7+",st.sub],["Sum","","6+",kt.sum],["Tan","","7+",St.tan],["Tanh","","6+",St.tanh],["Tile","","6+",At.tile],["Transpose","","1+",Tt.transpose,Tt.parseTransposeAttributes],["Upsample","","7-8",Ot.upsample,Ot.parseUpsampleAttributesV7],["Upsample","","9",Ot.upsample,Ot.parseUpsampleAttributesV9],["Unsqueeze","","1-12",Rt.unsqueeze,Rt.parseUnsqueezeAttributes],["Unsqueeze","","13+",Rt.unsqueezeV13],["Xor","","7+",st.xor]]},8817:(_e,et,tt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.parseBatchNormalizationAttributes=et.batchNormalization=void 0;const nt=tt(4910),rt=tt(6757),it=tt(5639),ot={name:"BatchNormalization",inputNames:["A","Scale","B","Mean","Variance"],inputTypes:[it.TextureType.unpacked,it.TextureType.unpacked,it.TextureType.unpacked,it.TextureType.unpacked,it.TextureType.unpacked]};et.batchNormalization=(ft,dt,lt)=>(ut(dt),[ft.run(Object.assign(Object.assign({},ot),{cacheHint:lt.cacheKey,get:()=>st(ft,dt,lt)}),dt)]),et.parseBatchNormalizationAttributes=ft=>{const dt=ft.attributes.getFloat("epsilon",1e-5),lt=ft.attributes.getFloat("momentum",.9),at=ft.attributes.getInt("spatial",1);return(0,nt.createAttributeWithCacheKey)({epsilon:dt,momentum:lt,spatial:at})};const st=(ft,dt,lt)=>{const at=(0,rt.getGlsl)(ft.session.backend.glContext.version),ct=dt[0].dims.length,[ht,pt]=ft.calculateTextureWidthAndHeight(dt[1].dims,it.TextureType.unpacked),mt=`
  float process(int[${ct}] indices) {
    vec2 position = offsetToCoords(indices[1], ${ht}, ${pt});
    float scale = getColorAsFloat(${at.texture2D}(Scale, position));
    float mean = getColorAsFloat(${at.texture2D}(Mean, position));
    float variance = getColorAsFloat(${at.texture2D}(Variance, position));
    float b = getColorAsFloat(${at.texture2D}(B, position));

    return scale * ( (_A(indices) - mean) / sqrt(variance + float(${lt.epsilon})) ) + b;
  }`;return Object.assign(Object.assign({},ot),{output:{dims:dt[0].dims,type:dt[0].type,textureType:it.TextureType.unpacked},shaderSource:mt})},ut=ft=>{if(!ft||ft.length!==5)throw new Error("BatchNormalization requires 5 inputs.");const dt=ft[0],lt=ft[1],at=ft[2],ct=ft[3],ht=ft[4];if(dt.dims.length<3||lt.dims.length!==1||at.dims.length!==1||ct.dims.length!==1||ht.dims.length!==1)throw new Error("invalid input shape.");if(lt.dims[0]!==dt.dims[1]||at.dims[0]!==dt.dims[1]||ct.dims[0]!==dt.dims[1]||ht.dims[0]!==dt.dims[1])throw new Error("invalid input shape.");if(dt.type!=="float32"&&dt.type!=="float64"||lt.type!=="float32"&&lt.type!=="float64"||at.type!=="float32"&&at.type!=="float64"||ct.type!=="float32"&&ct.type!=="float64"||ht.type!=="float32"&&ht.type!=="float64")throw new Error("invalid input tensor types.")}},5194:(_e,et,tt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.xor=et.sub=et.pRelu=et.pow=et.or=et.mul=et.less=et.greater=et.equal=et.div=et.and=et.add=et.glslPRelu=et.glslPow=et.glslXor=et.glslOr=et.glslAnd=et.glslLess=et.glslGreater=et.glslEqual=et.glslSub=et.glslMul=et.glslDiv=et.glslAdd=void 0;const nt=tt(7273),rt=tt(1997),it=tt(6757),ot=tt(5639);function st(){const vt="add_";return{body:`
  float ${vt}(float a, float b) {
    return a + b;
  }
  vec4 ${vt}(vec4 v1, vec4 v2) {
    return v1 + v2;
  }
  `,name:vt,type:rt.FunctionType.ValueBased}}function ut(){const vt="div_";return{body:`
  float ${vt}(float a, float b) {
    return a / b;
  }
  vec4 ${vt}(vec4 v1, vec4 v2) {
    return v1 / v2;
  }
  `,name:vt,type:rt.FunctionType.ValueBased}}function ft(){const vt="mul_";return{body:`
  float ${vt}(float a, float b) {
    return a * b;
  }
  vec4 ${vt}(vec4 v1, vec4 v2) {
    return v1 * v2;
  }
  `,name:vt,type:rt.FunctionType.ValueBased}}function dt(){const vt="sub_";return{body:`
  float ${vt}(float a, float b) {
    return a - b;
  }
  vec4 ${vt}(vec4 v1, vec4 v2) {
    return v1 - v2;
  }
  `,name:vt,type:rt.FunctionType.ValueBased}}function lt(){const vt="equal_";return{body:`
  float ${vt}(float a, float b) {
    return float(a == b);
  }
  vec4 ${vt}(vec4 v1, vec4 v2) {
    return vec4(equal(v1, v2));
  }
  `,name:vt,type:rt.FunctionType.ValueBased}}function at(){const vt="greater_";return{body:`
  float ${vt}(float a, float b) {
    return float(a > b);
  }
  vec4 ${vt}(vec4 v1, vec4 v2) {
    return vec4( v1.r > v2.r ,
      v1.g > v2.g,
      v1.b > v2.b,
      v1.a > v2.a );
  }
  `,name:vt,type:rt.FunctionType.ValueBased}}function ct(){const vt="less_";return{body:`
  float ${vt}(float a, float b) {
    return float(a < b);
  }
  vec4 ${vt}(vec4 v1, vec4 v2) {
    return vec4( v1.r < v2.r ,
                v1.g < v2.g,
                v1.b < v2.b,
                v1.a < v2.a );
  }
  `,name:vt,type:rt.FunctionType.ValueBased}}function ht(){const vt="and_";return{body:`
  float ${vt}(float a, float b) {
    return float( bool(a) && bool(b) );
  }
  vec4 ${vt}(vec4 v1, vec4 v2) {
    bvec4 b1 = bvec4(v1);
    bvec4 b2 = bvec4(v2);
    return vec4( b1.r && b2.r ,
                b1.g && b2.g,
                b1.b && b2.b,
                b1.a && b2.a );
  }
  `,name:vt,type:rt.FunctionType.ValueBased}}function pt(){const vt="or_";return{body:`
  float ${vt}(float a, float b) {
    return float( bool(a) || bool(b) );
  }
  vec4 ${vt}(vec4 v1, vec4 v2) {
    bvec4 b1 = bvec4(v1);
    bvec4 b2 = bvec4(v2);
    return vec4( b1.r || b2.r ,
                b1.g || b2.g,
                b1.b || b2.b,
                b1.a || b2.a );
  }
  `,name:vt,type:rt.FunctionType.ValueBased}}function mt(){const vt="xor_";return{body:`
  float ${vt}(float a, float b) {
    return float( bool(a) ^^ bool(b) );
  }
  vec4 ${vt}(vec4 v1, vec4 v2) {
    bvec4 b1 = bvec4(v1);
    bvec4 b2 = bvec4(v2);
    return vec4( b1.r ^^ b2.r ,
                b1.g ^^ b2.g,
                b1.b ^^ b2.b,
                b1.a ^^ b2.a );
  }
  `,name:vt,type:rt.FunctionType.ValueBased}}function gt(){return function(vt){const wt=`${vt}_`;return{body:`
  float ${wt}(float a, float b) {
    return ${vt}(a, b);
  }
  vec4 ${wt}(vec4 v1, vec4 v2) {
    return ${vt}(v1, v2);
  }
  `,name:wt,type:rt.FunctionType.ValueBased}}("pow")}function yt(){const vt="prelu_";return{body:`
  float ${vt}(float a, float b) {
    return a < 0.0 ? a * b: a;
  }
  vec4 ${vt}(vec4 v1, vec4 v2) {
    return vec4(
      v1.r < 0.0 ? v1.r * v2.r: v1.r,
      v1.g < 0.0 ? v1.g * v2.g: v1.g,
      v1.b < 0.0 ? v1.b * v2.b: v1.b,
      v1.a < 0.0 ? v1.a * v2.a: v1.a
      );
  }
  `,name:vt,type:rt.FunctionType.ValueBased}}et.glslAdd=st,et.glslDiv=ut,et.glslMul=ft,et.glslSub=dt,et.glslEqual=lt,et.glslGreater=at,et.glslLess=ct,et.glslAnd=ht,et.glslOr=pt,et.glslXor=mt,et.glslPow=gt,et.glslPRelu=yt;const bt=(vt,wt,_t,Ct=wt[0].type,Et)=>{const $t=vt.session.pack?ot.TextureType.packed:ot.TextureType.unpacked;return{name:_t.name,inputNames:["A","B"],inputTypes:[$t,$t],cacheHint:Et,get:()=>xt(vt,wt,_t,Ct)}},xt=(vt,wt,_t,Ct=wt[0].type)=>{const Et=vt.session.pack?ot.TextureType.packed:ot.TextureType.unpacked,$t=!nt.ShapeUtil.areEqual(wt[0].dims,wt[1].dims);let jt=wt[0].dims;const Dt=vt.session.pack;if($t){const At=nt.BroadcastUtil.calcShape(wt[0].dims,wt[1].dims,!1);if(!At)throw new Error("Can't perform binary op on the given tensors");jt=At;const Tt=jt.length,St=wt[0].dims.length!==0?wt[0].dims.length:1,Rt=wt[1].dims.length!==0?wt[1].dims.length:1,Ot=wt[0].dims.length!==0?"bcastIndices_A(indices, aindices);":"aindices[0] = 0;",Nt=wt[1].dims.length!==0?"bcastIndices_B(indices, bindices);":"bindices[0] = 0;",It=(0,it.getGlsl)(vt.session.backend.glContext.version),Bt=Dt?`
      ${_t.body}
      void main() {
        vec4 a = getAAtOutCoords();
        vec4 b = getBAtOutCoords();
        vec4 result = ${_t.name}(a, b);
        ${It.output} = result;
      }`:`
      ${_t.body}
      float process(int indices[${Tt}]) {
        int aindices[${St}];
        int bindices[${Rt}];
        ${Ot}
        ${Nt}
        return ${_t.name}(_A(aindices), _B(bindices));
      }`;return{name:_t.name,inputNames:["A","B"],inputTypes:[Et,Et],output:{dims:jt,type:Ct,textureType:Et},shaderSource:Bt,hasMain:Dt}}const Pt=(0,it.getGlsl)(vt.session.backend.glContext.version),kt=`
    ${_t.body}
    void main() {
      vec4 v1 = ${Pt.texture2D}(A, TexCoords);
      vec4 v2 = ${Pt.texture2D}(B, TexCoords);
      vec4 result = ${_t.name}(v1, v2);
      ${Pt.output} = result;
    }
    `;return{name:_t.name,inputNames:["A","B"],inputTypes:[Et,Et],output:{dims:wt[0].dims,type:Ct,textureType:Et},shaderSource:kt,hasMain:!0}};et.add=(vt,wt)=>[vt.run(bt(vt,wt,st()),wt)],et.and=(vt,wt)=>[vt.run(bt(vt,wt,ht(),"bool"),wt)],et.div=(vt,wt)=>[vt.run(bt(vt,wt,ut()),wt)],et.equal=(vt,wt)=>[vt.run(bt(vt,wt,lt(),"bool"),wt)],et.greater=(vt,wt)=>[vt.run(bt(vt,wt,at(),"bool"),wt)],et.less=(vt,wt)=>[vt.run(bt(vt,wt,ct(),"bool"),wt)],et.mul=(vt,wt)=>[vt.run(bt(vt,wt,ft()),wt)],et.or=(vt,wt)=>[vt.run(bt(vt,wt,pt(),"bool"),wt)],et.pow=(vt,wt)=>[vt.run(bt(vt,wt,gt()),wt)],et.pRelu=(vt,wt)=>[vt.run(bt(vt,wt,yt()),wt)],et.sub=(vt,wt)=>[vt.run(bt(vt,wt,dt()),wt)],et.xor=(vt,wt)=>[vt.run(bt(vt,wt,mt(),"bool"),wt)]},4752:(_e,et,tt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.parseCastAttributes=et.cast=void 0;const nt=tt(7273);et.cast=(it,ot,st)=>(rt(ot),[it.cast(ot[0],st)]),et.parseCastAttributes=it=>nt.ProtoUtil.tensorDataTypeFromProto(it.attributes.getInt("to"));const rt=it=>{if(!it||it.length!==1)throw new Error("Cast requires 1 input.");if(it[0].type==="string")throw new Error("Invalid input type.")}},4595:(_e,et,tt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.createPackedConcatProgramInfoLoader=void 0;const nt=tt(6757),rt=tt(5639),it=tt(432),ot=tt(5614);et.createPackedConcatProgramInfoLoader=(ut,ft,dt)=>{const lt=(at=ft.length,ct=dt.cacheKey,{name:"Concat (packed)",inputNames:Array.from({length:at},(ht,pt)=>`X${pt}`),inputTypes:Array(at).fill(rt.TextureType.packed),cacheHint:ct});var at,ct;return Object.assign(Object.assign({},lt),{get:()=>((ht,pt,mt,gt)=>{const yt=mt[0].dims.slice();if(gt>=yt.length||gt<-1*yt.length)throw new Error("axis specified for concat doesn't match input dimensionality");gt<0&&(gt=yt.length+gt);const bt=yt.slice(0);for(let Ot=1;Ot<mt.length;Ot++){const Nt=mt[Ot].dims.slice();for(let It=0;It<yt.length;It++)if(It===gt)bt[gt]+=Nt[It];else if(yt[It]!==Nt[It])throw new Error("non concat dimensions must match")}const xt=bt.length,vt=(0,ot.getChannels)("coords",xt),wt=(0,it.getCoordsDataType)(xt),_t=(0,ot.unpackFromChannel)(),Ct=mt.map(Ot=>Ot.dims),Et=(0,it.getGlChannels)(xt),$t=new Array(Ct.length-1);$t[0]=Ct[0][gt];for(let Ot=1;Ot<$t.length;Ot++)$t[Ot]=$t[Ot-1]+Ct[Ot][gt];const jt=Et[gt],Dt=Et.slice(-2),Pt=Et.join();let kt=`if (${jt} < ${$t[0]}) {
        return getChannel(
            getX0(${Pt}), vec2(${Dt.join()}));
        }`;for(let Ot=1;Ot<$t.length;Ot++){const Nt=$t[Ot-1];kt+=`
            if (${jt} < ${$t[Ot]}  && ${jt} >= ${$t[Ot-1]}) {
              return getChannel(
                getX${Ot}(${st(Et,jt,Nt)}),
                vec2(${st(Dt,jt,Nt)}));
            }`}const At=$t.length,Tt=$t[$t.length-1];kt+=`
            return getChannel(
              getX${At}(${st(Et,jt,Tt)}),
              vec2(${st(Dt,jt,Tt)}));`;const St=(0,nt.getGlsl)(ht.session.backend.glContext.version),Rt=`
          ${_t}
          float getValue(${Et.map(Ot=>"int "+Ot)}) {
            ${kt}
          }

          void main() {
            ${wt} coords = getOutputCoords();
            int lastDim = coords.${Et[xt-1]};
            coords.${Et[xt-1]} = coords.${Et[xt-2]};
            coords.${Et[xt-2]} = lastDim;

            vec4 result = vec4(getValue(${vt}), 0., 0., 0.);

            ${vt[xt-1]} = ${vt[xt-1]} + 1;
            if (${vt[xt-1]} < ${bt[xt-1]}) {
              result.g = getValue(${vt});
            }

            ${vt[xt-2]} = ${vt[xt-2]} + 1;
            if (${vt[xt-2]} < ${bt[xt-2]}) {
              result.a = getValue(${vt});
            }

            ${vt[xt-1]} = ${vt[xt-1]} - 1;
            if (${vt[xt-2]} < ${bt[xt-2]} &&
                ${vt[xt-1]} < ${bt[xt-1]}) {
              result.b = getValue(${vt});
            }
            ${St.output} = result;
          }
        `;return Object.assign(Object.assign({},pt),{output:{dims:bt,type:mt[0].type,textureType:rt.TextureType.packed},shaderSource:Rt,hasMain:!0})})(ut,lt,ft,dt.axis)})};const st=(ut,ft,dt)=>{const lt=ut.indexOf(ft);return ut.map((at,ct)=>ct===lt?`${at} - ${dt}`:at).join()}},6668:(_e,et,tt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.parseConcatAttributes=et.concat=void 0;const nt=tt(4910),rt=tt(5639),it=tt(4595);et.concat=(at,ct,ht)=>(lt(ct),at.session.pack&&ct[0].dims.length>1?[at.run((0,it.createPackedConcatProgramInfoLoader)(at,ct,ht),ct)]:[at.run(ot(at,ct,ht),ct)]);const ot=(at,ct,ht)=>{const pt=(mt=ct.length,gt=ht.cacheKey,{name:"Concat",inputNames:Array.from({length:mt},(yt,bt)=>`X${bt}`),inputTypes:Array(mt).fill(rt.TextureType.unpacked),cacheHint:gt});var mt,gt;return Object.assign(Object.assign({},pt),{get:()=>((yt,bt,xt,vt)=>{const wt=xt[0].dims.slice();if(vt>=wt.length||vt<-1*wt.length)throw new Error("axis specified for concat doesn't match input dimensionality");vt<0&&(vt=wt.length+vt);const _t=wt.slice(0);for(let Pt=1;Pt<xt.length;Pt++){const kt=xt[Pt].dims.slice();for(let At=0;At<wt.length;At++)if(At===vt)_t[vt]+=kt[At];else if(wt[At]!==kt[At])throw new Error("non concat dimensions must match")}const Ct=_t.length,Et=new Array(xt.length);let $t=0;for(let Pt=0;Pt<Et.length;++Pt)$t+=xt[Pt].dims[vt],Et[Pt]=$t;let jt="";jt=xt.length<5?st(Et):ut(Et);const Dt=`
        ${ft(xt.length,Ct)}
        ${dt(Et)}
        ${jt}
        float process(int indices[${Ct}]) {
          int textureIndex = getTextureWhereDataResides (indices[${vt}]);

          if(textureIndex != 0) {
            indices[${vt}] = indices[${vt}] - int(getSizeInConcatAxisValueFromIndex(textureIndex-int(1)));
          }

          return fetchDataFromCorrectTexture(textureIndex, indices);
        }`;return Object.assign(Object.assign({},bt),{output:{dims:_t,type:xt[0].type,textureType:rt.TextureType.unpacked},shaderSource:Dt})})(0,pt,ct,ht.axis)})},st=at=>`int getTextureWhereDataResides(int index) {
      ${at.map((ct,ht)=>`if(index<${ct}) {return ${ht};}
`).join("")}
    }`,ut=at=>st(at),ft=(at,ct)=>{const ht=[`float fetchDataFromCorrectTexture(int textureIndex, int indices[${ct}]) {`];for(let pt=0;pt<at;++pt)pt===0?ht.push(`	if (textureIndex == ${pt}) { return _X${pt}(indices); }`):pt===at-1?ht.push(`	else { return _X${pt}(indices); }`):ht.push(`	else if (textureIndex == ${pt}) { return _X${pt}(indices); }`);return ht.push("	}"),ht.join(`
`)},dt=at=>{const ct=["int getSizeInConcatAxisValueFromIndex(int index) {"];for(let ht=0;ht<at.length;++ht)ht===0?ct.push(`	if (index == ${ht}) { return ${at[ht]}; }`):ht===at.length-1?ct.push(`	else { return ${at[ht]}; }`):ct.push(`	else if (index == ${ht}) { return ${at[ht]}; }`);return ct.push("	}"),ct.join(`
`)};et.parseConcatAttributes=at=>(0,nt.createAttributeWithCacheKey)({axis:at.attributes.getInt("axis")});const lt=at=>{if(!at||at.length<1)throw new Error("too few inputs");const ct=at[0].type,ht=at[0].dims.length;if(ct==="string")throw new Error("string tensor is not supported yet");for(const pt of at){if(pt.type!==ct)throw new Error("input tensors should be one type");if(pt.dims.length!==ht)throw new Error("input tensors should have the same shape")}}},7825:(_e,et,tt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.createUnpackedGroupedConvProgramInfoLoader=void 0;const nt=tt(1315),rt=tt(6757),it=tt(5639),ot=tt(9754),st=tt(2150);et.createUnpackedGroupedConvProgramInfoLoader=(ut,ft,dt)=>{const lt=(at=ft.length>2,ct=dt.cacheKey,{name:"GroupedConv",inputNames:at?["X","W","Bias"]:["X","W"],inputTypes:at?[it.TextureType.unpacked,it.TextureType.unpacked,it.TextureType.unpacked]:[it.TextureType.unpacked,it.TextureType.unpacked],cacheHint:ct});var at,ct;return Object.assign(Object.assign({},lt),{get:()=>((ht,pt,mt,gt)=>{const yt=pt.length>2?"value += getBias(output_channel);":"",bt=pt[0].dims.slice(),xt=pt[1].dims.slice(),vt=xt[0]/gt.group;nt.Logger.verbose("GroupedConv",`autpPad:${gt.autoPad}, dilations:${gt.dilations}, group:${gt.group}, kernelShape:${gt.kernelShape}, pads:${gt.pads}, strides:${gt.strides}`);const wt=(0,ot.calculateOutputShape)(bt,xt,gt.dilations,gt.pads,gt.strides),_t=(0,rt.getGlsl)(ht.session.backend.glContext.version),{activationFunction:Ct,applyActivation:Et}=(0,st.getActivationSnippet)(gt),$t=`
  const ivec2 strides = ivec2(${gt.strides[0]}, ${gt.strides[1]});
  const ivec2 pads = ivec2(${gt.pads[0]}, ${gt.pads[1]});
  ${Ct}
  void main() {
    ivec4 coords = getOutputCoords();
    int batch = coords.x;
    int output_channel = coords.y;
    ivec2 xRCCorner = coords.zw * strides - pads;
    int group_id = output_channel / ${vt};

    float value = 0.0;
    for (int wInChannel = 0; wInChannel < ${xt[1]}; wInChannel++) {
      int input_channel = group_id * ${xt[1]} + wInChannel;
      for (int wHeight = 0; wHeight < ${xt[2]}; wHeight++) {
        int xHeight = xRCCorner.x + wHeight * ${gt.dilations[0]};

        if (xHeight < 0 || xHeight >= ${bt[2]}) {
          continue;
        }

        for (int wWidth = 0; wWidth < ${xt[3]}; wWidth++) {
          int xWidth = xRCCorner.y + wWidth * ${gt.dilations[1]};
          if (xWidth < 0 || xWidth >= ${bt[3]}) {
            continue;
          }

          float xVal = getX(batch, input_channel, xWidth, xHeight);
          float wVal = getW(output_channel, wInChannel, wWidth, wHeight);
          value += xVal*wVal;
        }
      }
    }
    ${yt}
    ${Et}
    ${_t.output} = vec4(value, .0, .0, .0);
  }
`;return Object.assign(Object.assign({},mt),{output:{dims:wt,type:pt[0].type,textureType:it.TextureType.unpacked},shaderSource:$t,hasMain:!0})})(ut,ft,lt,dt)})}},7708:(_e,et,tt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.conv2DPacked=et.conv2DPackedPointwise=void 0;const nt=tt(9754),rt=tt(5950),it=tt(5632);et.conv2DPackedPointwise=(ot,st,ut)=>{const ft=st[0].dims,dt=st[1].dims,lt=(0,nt.calculateOutputShape)(ft,dt,ut.dilations,ut.pads,ut.strides),at=ot.reshapePacked(st[0],[ft[1],ft[2]*ft[3]]),ct=ot.reshapePacked(st[1],[dt[0],dt[1]]),ht=st.length>2?[ct,at,st[2]]:[ct,at],pt=ot.run((0,it.createPackedMatmulProgramInfoLoader)(ot,ht,ut),ht);return ot.reshapePacked(pt,lt)},et.conv2DPacked=(ot,st,ut)=>{const ft=st[0].dims,dt=st[1].dims,lt=(0,nt.calculateOutputShape)(ft,dt,ut.dilations,ut.pads,ut.strides),at=ot.run((0,rt.createPackedIm2ColProgramInfoLoader)(ot,st[0],st[1],lt,ut),[st[0]]),ct=ot.reshapePacked(st[1],[dt[0],dt[1]*dt[2]*dt[3]]),ht=st.length===3?[ct,at,st[2]]:[ct,at],pt=ot.run((0,it.createPackedMatmulProgramInfoLoader)(ot,ht,ut),ht);return ot.reshapePacked(pt,lt)}},5042:(_e,et,tt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.parseConvTransposeAttributes=et.convTranspose=void 0;const nt=tt(4910),rt=tt(6757),it=tt(5639),ot=tt(2150),st=(ct,ht,pt,mt,gt,yt)=>(ct-1)*ht+pt+(mt-1)*gt+1-yt,ut=(ct,ht,pt,mt,gt)=>{const yt=Math.floor(ct/2);ht==="SAME_UPPER"?(pt[mt]=yt,pt[gt]=ct-yt):ht==="SAME_LOWER"&&(pt[mt]=ct-yt,pt[gt]=yt)};et.convTranspose=(ct,ht,pt)=>(at(ht,pt),ft(ct,ht,pt));const ft=(ct,ht,pt)=>{const mt=lt(pt,ht);return[dt(ct,ht,mt)]},dt=(ct,ht,pt)=>ct.run(((mt,gt,yt)=>{const bt=(xt=gt.length>2,vt=yt.cacheKey,{name:"ConvTranspose",inputNames:xt?["X","W","B"]:["X","W"],inputTypes:xt?[it.TextureType.unpacked,it.TextureType.unpacked,it.TextureType.unpacked]:[it.TextureType.unpacked,it.TextureType.unpacked],cacheHint:vt});var xt,vt;return Object.assign(Object.assign({},bt),{get:()=>((wt,_t,Ct,Et)=>{const $t=_t.length>2?"getB(output_channel)":"0.0",jt=_t[0].dims,Dt=_t[1].dims,Pt=Dt[1],kt=Dt[0]/Et.group,At=[_t[0].dims[0],_t[1].dims[1]*Et.group,...Et.outputShape],Tt=(0,rt.getGlsl)(wt.session.backend.glContext.version),{activationFunction:St,applyActivation:Rt}=(0,ot.getActivationSnippet)(Et),Ot=`
  const ivec2 strides = ivec2(${Et.strides[0]}, ${Et.strides[1]});
  const ivec2 pads = ivec2(${Et.pads[0]}, ${Et.pads[1]});
  ${St}
  void main() {
    ivec4 coords = getOutputCoords();
    int batch = coords.x;
    int output_channel = coords.y;

    ivec2 loc = coords.zw + pads;

    int group_id = output_channel / ${Pt};
    int wOutChannel = output_channel - group_id * ${Pt};

    float value = ${$t};
    for (int inChannelOffset = 0; inChannelOffset < ${kt}; inChannelOffset++) {
      int input_channel = group_id * ${kt} + inChannelOffset;
      for (int wWOff = 0; wWOff < ${Dt[2]}; wWOff++) {
        for (int wHOff = 0; wHOff < ${Dt[3]}; wHOff++) {
          ivec2 wOff = ivec2(wWOff * ${Et.dilations[0]}, wHOff * ${Et.dilations[1]});
          ivec2 wLoc = loc - wOff;
          ivec2 wLocIn = wLoc / strides;
          if (
            wLocIn * strides == wLoc &&
            wLocIn.x >= 0 && wLocIn.x < ${jt[2]} &&
            wLocIn.y >= 0 && wLocIn.y < ${jt[3]}
          ) {
            float xVal = getX(batch, input_channel, wLocIn.y, wLocIn.x);
            float wVal = getW(input_channel, wOutChannel, wHOff, wWOff);
            value += xVal * wVal;
          }
        }
      }
    }
    ${Rt}
    ${Tt.output} = vec4(value, .0, .0, .0);
  }
`;return Object.assign(Object.assign({},Ct),{output:{dims:At,type:_t[0].type,textureType:it.TextureType.unpacked},shaderSource:Ot,hasMain:!0})})(mt,gt,bt,yt)})})(ct,ht,pt),ht),lt=(ct,ht)=>{const pt=ct.kernelShape.slice();if(ct.kernelShape.length===0)for(let bt=2;bt<ht[1].dims.length;++bt)pt.push(ht[1].dims[bt]);const mt=ct.pads.slice(),gt=ct.outputShape.slice();((bt,xt,vt,wt,_t,Ct,Et,$t)=>{const jt=bt.length-2,Dt=$t.length===0;for(let Pt=0;Pt<jt;++Pt){const kt=Dt?bt[Pt+2]*Ct[Pt]:$t[Pt],At=st(bt[Pt+2],Ct[Pt],_t[Pt],xt[Pt],vt[Pt],kt);ut(At,wt,_t,Pt,Pt+jt),Dt&&$t.push(Ct[Pt]*(bt[Pt+2]-1)+Et[Pt]+(xt[Pt]-1)*vt[Pt]+1-_t[Pt]-_t[Pt+jt])}})(ht[0].dims,pt,ct.dilations,ct.autoPad,mt,ct.strides,ct.outputPadding,gt);const yt=Object.assign({},ct);return Object.assign(yt,{kernelShape:pt,pads:mt,outputShape:gt,cacheKey:ct.cacheKey}),yt};et.parseConvTransposeAttributes=ct=>{const ht=ct.attributes,pt=(0,ot.parseInternalActivationAttributes)(ht),mt=ht.getString("auto_pad","NOTSET"),gt=ht.getInts("dilations",[1,1]),yt=ht.getInt("group",1),bt=ht.getInts("kernel_shape",[]),xt=ht.getInts("output_padding",[0,0]),vt=ht.getInts("output_shape",[]),wt=ht.getInts("pads",[0,0,0,0]),_t=ht.getInts("strides",[1,1]);return(0,nt.createAttributeWithCacheKey)(Object.assign({autoPad:mt,dilations:gt,group:yt,kernelShape:bt,outputPadding:xt,outputShape:vt,pads:wt,strides:_t},pt))};const at=(ct,ht)=>{if(!ct||ct.length!==2&&ct.length!==3)throw new Error("Conv requires 2 or 3 inputs");if(ct[0].dims.length!==4||ct[1].dims.length!==4)throw new Error("currently only support 2-dimensional conv");if(ct[0].dims[1]!==ct[1].dims[0])throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");const pt=ct[1].dims[1]*ht.group;if(ct.length===3&&(ct[2].dims.length!==1||ct[2].dims[0]!==pt))throw new Error("invalid bias");const mt=ct[0].dims.length-2;if(ht.dilations.length!==mt)throw new Error(`dilations should be ${mt}D`);if(ht.strides.length!==mt)throw new Error(`strides should be ${mt}D`);if(ht.pads.length!==2*mt)throw new Error(`pads should be ${2*mt}D`);if(ht.outputPadding.length!==mt)throw new Error(`output_padding should be ${mt}D`);if(ht.kernelShape.length!==0&&ht.kernelShape.length!==ct[1].dims.length-2)throw new Error("invalid kernel shape");if(ht.outputShape.length!==0&&ht.outputShape.length!==ct[0].dims.length-2)throw new Error("invalid output shape");if(ct[0].type!=="float32"||ct[1].type!=="float32")throw new Error("ConvTranspose input(X,W) should be float tensor");if(ct.length===3&&ct[2].type!=="float32")throw new Error("ConvTranspose input(bias) should be float tensor")}},9754:(_e,et,tt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.parseConvAttributes=et.conv=et.calculateOutputShape=void 0;const nt=tt(4910),rt=tt(7273),it=tt(7825),ot=tt(7708),st=tt(3281),ut=tt(2150),ft=tt(1625),dt=tt(8276);et.calculateOutputShape=(mt,gt,yt,bt,xt)=>{const vt=mt[0],wt=mt.slice(2),_t=wt.length,Ct=gt[0],Et=gt.slice(2).map((jt,Dt)=>jt+(jt-1)*(yt[Dt]-1)),$t=wt.map((jt,Dt)=>jt+bt[Dt]+bt[Dt+_t]).map((jt,Dt)=>Math.floor((jt-Et[Dt]+xt[Dt])/xt[Dt]));return[vt,Ct].concat(...$t)},et.conv=(mt,gt,yt)=>(pt(gt,yt),lt(mt,gt,yt));const lt=(mt,gt,yt)=>{const bt=ht(yt,gt),xt=mt.session.pack,vt=bt.kernelShape[0]===1&&bt.kernelShape[1]===1;return bt.group>1?[mt.run((0,it.createUnpackedGroupedConvProgramInfoLoader)(mt,gt,bt),gt)]:vt&&xt?[at(mt,gt,bt)]:xt&&gt[0].dims.length===4&&gt[0].dims[0]===1&&!vt?[(0,ot.conv2DPacked)(mt,gt,bt)]:[ct(mt,gt,bt)]},at=(mt,gt,yt)=>{const bt=gt[0].dims,xt=gt[1].dims,vt=(0,et.calculateOutputShape)(bt,xt,yt.dilations,yt.pads,yt.strides),wt=mt.reshapeUnpacked(gt[0],[bt[1],bt[2]*bt[3]]),_t=mt.reshapeUnpacked(gt[1],[xt[0],xt[1]]),Ct=gt.length>2?[_t,wt,gt[2]]:[_t,wt],Et=mt.run((0,dt.createMatmulProgramInfoLoader)(Ct,yt),Ct);return mt.reshapeUnpacked(Et,vt)},ct=(mt,gt,yt)=>{const bt=gt[0].dims,xt=gt[1].dims,vt=(0,et.calculateOutputShape)(bt,xt,yt.dilations,yt.pads,yt.strides),wt=mt.run((0,ft.createIm2ColProgramInfoLoader)(mt,gt[0],gt[1],vt,yt),[gt[0]]),_t=gt.length===3?[wt,gt[1],gt[2]]:[wt,gt[1]];return mt.run((0,st.createDotProductProgramInfoLoader)(mt,gt,vt,yt),_t)},ht=(mt,gt)=>{const yt=mt.kernelShape.slice();if(mt.kernelShape.length===0)for(let vt=2;vt<gt[1].dims.length;++vt)yt.push(gt[1].dims[vt]);const bt=mt.pads.slice();rt.PoolConvUtil.adjustPadsBasedOnAutoPad(gt[0].dims,mt.strides,mt.dilations,yt,bt,mt.autoPad);const xt=Object.assign({},mt);return Object.assign(xt,{kernelShape:yt,pads:bt,cacheKey:mt.cacheKey}),xt};et.parseConvAttributes=mt=>{const gt=mt.attributes,yt=(0,ut.parseInternalActivationAttributes)(gt),bt=gt.getString("auto_pad","NOTSET"),xt=gt.getInts("dilations",[1,1]),vt=gt.getInt("group",1),wt=gt.getInts("kernel_shape",[]),_t=gt.getInts("pads",[0,0,0,0]),Ct=gt.getInts("strides",[1,1]);return(0,nt.createAttributeWithCacheKey)(Object.assign({autoPad:bt,dilations:xt,group:vt,kernelShape:wt,pads:_t,strides:Ct},yt))};const pt=(mt,gt)=>{if(!mt||mt.length!==2&&mt.length!==3)throw new Error("Conv requires 2 or 3 inputs");if(mt[0].dims.length!==4||mt[1].dims.length!==4)throw new Error("currently only support 2-dimensional conv");if(mt[0].dims[1]!==mt[1].dims[1]*gt.group)throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");if(mt.length===3&&(mt[2].dims.length!==1||mt[1].dims[0]!==mt[2].dims[0]))throw new Error("invalid bias");const yt=mt[0].dims.length-2;if(gt.dilations.length!==yt)throw new Error(`dilations should be ${yt}D`);if(gt.strides.length!==yt)throw new Error(`strides should be ${yt}D`);if(gt.pads.length!==2*yt)throw new Error(`pads should be ${2*yt}D`);if(gt.kernelShape.length!==0&&gt.kernelShape.length!==mt[1].dims.length-2)throw new Error("invalid kernel shape");if(mt[0].type!=="float32"||mt[1].type!=="float32")throw new Error("Conv input(X,W) should be float tensor");if(mt.length===3&&mt[2].type!=="float32")throw new Error("Conv input(bias) should be float tensor")}},6742:(_e,et,tt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.parseDepthToSpaceAttributes=et.depthToSpace=void 0;const nt=tt(5707);et.depthToSpace=(it,ot,st)=>{rt(ot);const ut=st.blocksize,ft=ut*ut,dt=st.mode==="DCR"?[0,3,4,1,5,2]:[0,1,4,2,5,3],lt=st.mode==="DCR"?[ot[0].dims[0],ut,ut,ot[0].dims[1]/ft,ot[0].dims[2],ot[0].dims[3]]:[ot[0].dims[0],ot[0].dims[1]/ft,ut,ut,ot[0].dims[2],ot[0].dims[3]],at=it.reshapeUnpacked(ot[0],lt),ct={perm:dt,cacheKey:`${dt}`},[ht]=(0,nt.transpose)(it,[at],ct),pt=[ot[0].dims[0],ot[0].dims[1]/ft,ot[0].dims[2]*ut,ot[0].dims[3]*ut];return[it.reshapeUnpacked(ht,pt)]},et.parseDepthToSpaceAttributes=it=>{const ot=it.attributes.getInt("blocksize");if(ot<1)throw new Error(`blocksize must be >= 1, but got : ${ot} for DepthToSpace`);const st=it.attributes.getString("mode","DCR");if(st!=="DCR"&&st!=="CRD")throw new Error(`unrecognized mode: ${st} for DepthToSpace`);return{mode:st,blocksize:ot}};const rt=it=>{if(it.length!==1)throw new Error(`DepthToSpace expect 1 inputs, but got ${it.length}`);if(it[0].type==="string"||it[0].dims.length!==4)throw new TypeError("DepthToSpace input should be a 4-D numeric tensor")}},3281:(_e,et,tt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.createDotProductProgramInfoLoader=void 0;const nt=tt(7273),rt=tt(6757),it=tt(5639),ot=tt(2150),st=tt(1625);et.createDotProductProgramInfoLoader=(ut,ft,dt,lt)=>{const at=((ct,ht)=>({name:"ConvDotProduct",inputNames:ct?["Im2Col","K","B"]:["Im2Col","K"],inputTypes:ct?[it.TextureType.unpacked,it.TextureType.packedLastDimension,it.TextureType.unpacked]:[it.TextureType.unpacked,it.TextureType.packedLastDimension],cacheKey:ht.activationCacheKey}))(ft.length>2,lt);return Object.assign(Object.assign({},at),{get:()=>((ct,ht,pt,mt,gt)=>{const yt=pt[0].dims,bt=pt[1].dims,xt=[bt[0],Math.ceil(yt[1]*bt[2]*bt[3]/4)],vt=(0,st.calculateIm2ColDims)(yt,bt,mt),[wt,_t]=ct.calculateTextureWidthAndHeight(xt,it.TextureType.packedLastDimension),Ct=nt.ShapeUtil.computeStrides(vt),[Et,$t]=ct.calculateTextureWidthAndHeight(vt,it.TextureType.packedLastDimension),jt=mt.length,Dt=pt.length<3?"0.0":"_B(b)",Pt=Math.ceil(yt[1]*bt[2]*bt[3]/4),{activationFunction:kt,applyActivation:At}=(0,ot.getActivationSnippet)(gt),Tt=(0,rt.getGlsl)(ct.session.backend.glContext.version),St=`
${kt}
float process(int indices[${jt}]) {
  int b[1];
  b[0] = indices[1];
  int im2col[4];
  im2col[0] = indices[0];
  im2col[1] = indices[2];
  im2col[2] = indices[3];
  int im2colOffset = im2col[0] * ${Ct[0]} + im2col[1] * ${Ct[1]} + im2col[2] * ${Ct[2]};
  int kernelOffset = indices[1] * ${xt[1]};
  float value = ${Dt};
  for (int i = 0; i < ${Pt}; ++i) {
    vec2 im2colCoords = offsetToCoords(im2colOffset, ${Et}, ${$t});
    vec2 kernelCoords = offsetToCoords(kernelOffset, ${wt}, ${_t});
    value += dot(${Tt.texture2D}(Im2Col, im2colCoords), ${Tt.texture2D}(K, kernelCoords));
    ++im2colOffset;
    ++kernelOffset;
  }
  ${At}
  return value;
}`;return Object.assign(Object.assign({},ht),{output:{dims:mt,type:pt[0].type,textureType:it.TextureType.unpacked},shaderSource:St})})(ut,at,ft,dt,lt)})}},4125:(_e,et,tt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.parseFlattenAttributes=et.flatten=void 0;const nt=tt(7273);et.flatten=(it,ot,st)=>{rt(ot,st);const ut=nt.ShapeUtil.flattenShape(ot[0].dims,st);return[it.reshapeUnpacked(ot[0],ut)]},et.parseFlattenAttributes=it=>it.attributes.getInt("axis",1);const rt=(it,ot)=>{if(!it||it.length!==1)throw new Error("Flatten requires 1 input.");const st=it[0].dims.length;if(st===0)throw new Error("scalar tensor is not supported.");if(ot<-st||ot>st)throw new Error("Invalid axis");if(it[0].type==="string")throw new Error("string tensor is not supported.")}},2150:(_e,et,tt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.parseInternalActivationAttributes=et.getActivationSnippet=void 0;const nt=tt(7273),rt=tt(9087);et.getActivationSnippet=function(it){let ot;switch(it.activation){case"Relu":ot=(0,rt.glslRelu)();break;case"Sigmoid":ot=(0,rt.glslSigmoid)();break;case"Clip":ot=(0,rt.glslClip)(it.clipMin,it.clipMax);break;default:return{activationFunction:"",applyActivation:""}}const st=ot.name;return{activationFunction:ot.body,applyActivation:`value = ${st}_(value);`}},et.parseInternalActivationAttributes=it=>{const ot=it.getString("activation","");if(ot==="Clip"){const[st,ut]=it.getFloats("activation_params",[nt.MIN_CLIP,nt.MAX_CLIP]);return{activation:ot,clipMax:ut,clipMin:st,activationCacheKey:`${ot}:${st},${ut}`}}return{activation:ot,activationCacheKey:ot}}},6149:(_e,et,tt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.parseGatherAttributes=et.gather=void 0;const nt=tt(4910),rt=tt(6145),it=tt(7273),ot=tt(5639);et.gather=(dt,lt,at)=>(ft(lt,at.axis),[dt.run(ut(dt,lt,at),lt)]),et.parseGatherAttributes=dt=>(0,nt.createAttributeWithCacheKey)({axis:dt.attributes.getInt("axis",0)});const st={name:"Gather",inputNames:["A","B"],inputTypes:[ot.TextureType.unpacked,ot.TextureType.unpacked]},ut=(dt,lt,at)=>{const ct=Object.assign(Object.assign({},st),{cacheHint:at.cacheKey});return Object.assign(Object.assign({},ct),{get:()=>((ht,pt,mt,gt)=>{const yt=mt[0].dims.slice(),bt=mt[1].dims.slice(),xt=new Array(yt.length+bt.length-1);gt=it.ShapeUtil.normalizeAxis(gt,yt.length);const vt=[];for(let _t=0;_t<xt.length;_t++)_t<gt?(xt[_t]=yt[_t],vt.push(`inputIdx[${_t}] = outputIdx[${_t}];`)):_t<gt+bt.length?(xt[_t]=bt[_t-gt],vt.push(`indexDataIdx[${_t-gt}] = outputIdx[${_t}];`)):(xt[_t]=yt[_t-bt.length+1],vt.push(`inputIdx[${_t-bt.length+1}] = outputIdx[${_t}];`));const wt=`
      float process(int outputIdx[${xt.length||1}]) {
        int inputIdx[${yt.length}];
        int indexDataIdx[${bt.length||1}];
        indexDataIdx[0] = 0;
        ${vt.join(`
        `)}
        int idx = int(_B(indexDataIdx));
        inputIdx[${gt}] = idx < 0 ? idx + ${yt[gt]} : idx;
        return _A(inputIdx);
      }`;return Object.assign(Object.assign({},pt),{output:{dims:xt,type:mt[0].type,textureType:ot.TextureType.unpacked},shaderSource:wt})})(0,ct,lt,at.axis)})},ft=(dt,lt)=>{if(!dt||dt.length!==2)throw new Error("Gather requires 2 inputs.");const at=dt[0].dims.length;if(at<1)throw new Error("Invalid input shape.");if(lt<-at||lt>at-1)throw new Error("Invalid axis.");if(rt.NUMBER_TYPES.indexOf(dt[0].type)===-1)throw new Error("Invaid input type.");if(dt[1].type!=="int32"&&dt[1].type!=="int16")throw new Error("Invaid input type.")}},5378:(_e,et,tt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.parseGemmAttributesV11=et.parseGemmAttributesV7=et.gemm=void 0;const nt=tt(4910),rt=tt(7273),it=tt(5639);et.gemm=(dt,lt,at)=>(ft(lt,at),[dt.run(st(lt,at),lt)]);const ot=(dt,lt)=>{const at=dt.attributes.getInt("transA",0)!==0,ct=dt.attributes.getInt("transB",0)!==0,ht=dt.attributes.getFloat("alpha",1),pt=dt.attributes.getFloat("beta",1);return(0,nt.createAttributeWithCacheKey)({transA:at,transB:ct,alpha:ht,beta:pt,isOptionalC:lt})};et.parseGemmAttributesV7=dt=>ot(dt,!1),et.parseGemmAttributesV11=dt=>ot(dt,!0);const st=(dt,lt)=>{const at={name:"Gemm",inputNames:dt.length===3?["A","B","C"]:["A","B"],inputTypes:dt.length===3?[it.TextureType.unpacked,it.TextureType.unpacked,it.TextureType.unpacked]:[it.TextureType.unpacked,it.TextureType.unpacked],key:lt.cacheKey};return Object.assign(Object.assign({},at),{get:()=>ut(at,dt,lt)})},ut=(dt,lt,at)=>{const ct=lt[0].dims.slice(),ht=lt[1].dims.slice(),[pt,mt]=rt.GemmUtil.getShapeOfGemmResult(ct,at.transA,ht,at.transB,lt.length===3?lt[2].dims:void 0),gt=[pt,mt];if(!gt)throw new Error("Can't use gemm on the given tensors");let yt=ct[ct.length-1],bt="";at.transA&&(yt=ct[0]),at.transA&&at.transB?bt="value += _A_T(a) * _B_T(b);":at.transA&&!at.transB?bt="value += _A_T(a) * _B(b);":!at.transA&&at.transB?bt="value += _A(a) * _B_T(b);":at.transA||at.transB||(bt="value += _A(a) * _B(b);");const xt=gt.length,vt=`
      float process(int indices[${xt}]) {
          int a[${xt}];
          int b[${xt}];
          ${lt.length===3?`int c[${lt[2].dims.length}];`:""}

          copyVec(indices, a);
          copyVec(indices, b);
          ${lt.length===3?"bcastIndices_C(indices, c);":""}

          float value = 0.0;
          for (int k=0; k<${yt}; ++k) {
              a[${xt-1}] = k;
              b[${xt-2}] = k;
              ${bt}
          }

          value = value * alpha;
          ${lt.length===3?"value += beta * _C(c);":""}
          return value;
      }`;return Object.assign(Object.assign({},dt),{output:{dims:gt,type:lt[0].type,textureType:it.TextureType.unpacked},variables:[{name:"alpha",type:"float",data:at.alpha},{name:"beta",type:"float",data:at.beta}],shaderSource:vt})},ft=(dt,lt)=>{if(!dt)throw new Error("Input is missing");if(lt.isOptionalC&&(dt.length<2||dt.length>3))throw new Error("Invaid input shape.");if(!lt.isOptionalC&&dt.length!==3)throw new Error("Gemm requires 3 inputs");if(dt.length===3&&dt[2].dims.length!==1&&dt[2].dims.length!==2)throw new Error("Invalid input shape of C");if(dt[0].type!=="float32"&&dt[0].type!=="float64"||dt[1].type!=="float32"&&dt[1].type!=="float64"||dt.length===3&&dt[2].type!=="float32"&&dt[2].type!=="float64")throw new Error("Invalid input type.");if(dt[0].type!==dt[1].type||dt.length===3&&dt[0].type!==dt[2].type)throw new Error("Input types are mismatched")}},5950:(_e,et,tt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.createPackedIm2ColProgramInfoLoader=void 0;const nt=tt(6757),rt=tt(5639),it=tt(5614);et.createPackedIm2ColProgramInfoLoader=(ot,st,ut,ft,dt)=>{const lt=(at=dt.cacheKey,{name:"Im2Col (packed)",inputNames:["A"],inputTypes:[rt.TextureType.packed],cacheHint:at});var at;return Object.assign(Object.assign({},lt),{get:()=>((ct,ht,pt,mt,gt,yt)=>{const bt=pt.dims,xt=mt.dims,vt=gt.length,wt=[xt[1]*xt[2]*xt[3],gt[2]*gt[3]],_t=xt[2]*xt[3],Ct=(0,it.unpackFromChannel)(),Et=(0,nt.getGlsl)(ct.session.backend.glContext.version);let $t="";for(let Dt=0;Dt<=1;Dt++)for(let Pt=0;Pt<=1;Pt++)$t+=`
            blockIndex = rc.x + ${Pt};
            pos = rc.y + ${Dt};

            if(blockIndex < ${wt[1]} && pos < ${wt[0]}) {
              offsetY = int(blockIndex / (${gt[vt-1]})) * ${yt.strides[0]} -
                ${yt.pads[0]};
              d0 = offsetY + ${yt.dilations[0]} * (imod(pos, ${_t}) / ${xt[2]});

              if(d0 < ${bt[2]} && d0 >= 0) {
                offsetX = imod(blockIndex, ${gt[vt-1]}) * ${yt.strides[1]} -
                  ${yt.pads[1]};
                d1 = offsetX + ${yt.dilations[1]} * imod(imod(pos, ${_t}), ${xt[2]});

                if(d1 < ${bt[3]} && d1 >= 0) {

                  ch = int(float(pos)/ ${_t}.);
                    innerDims = vec2(d0, d1);
                    result[${2*Dt+Pt}] = getChannel(
                      getA(0, ch, int(innerDims.x),
                      int(innerDims.y)), innerDims);
                }
              }
            }

          `;const jt=`
      ${Ct}

      void main() {
        ivec2 rc = getOutputCoords();
          vec4 result = vec4(0.0);
          int blockIndex, pos, offsetY, d0, offsetX, d1, ch;
          vec2 innerDims;
          ${$t}
          ${Et.output} = result;
      }
            `;return Object.assign(Object.assign({},ht),{output:{dims:wt,type:pt.type,textureType:rt.TextureType.packed},shaderSource:jt,hasMain:!0})})(ot,lt,st,ut,ft,dt)})}},1625:(_e,et,tt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.calculateIm2ColDims=et.createIm2ColProgramInfoLoader=void 0;const nt=tt(5639);et.createIm2ColProgramInfoLoader=(rt,it,ot,st,ut)=>{const ft=(dt=ut.cacheKey,{name:"Im2Col",inputNames:["X"],inputTypes:[nt.TextureType.unpacked],cacheHint:dt});var dt;return Object.assign(Object.assign({},ft),{get:()=>((lt,at,ct,ht,pt,mt)=>{const gt=ct.dims,yt=ht.dims,bt=pt.length,xt=(0,et.calculateIm2ColDims)(gt,yt,pt,4),vt=`
        const int XC = ${gt[1]};
        const int XH = ${gt[2]};
        const int XW = ${gt[3]};
        const int KH = ${mt.kernelShape[0]};
        const int KW = ${mt.kernelShape[1]};
        const int dilationH = ${mt.dilations[0]};
        const int dilationW = ${mt.dilations[1]};
        const int strideH = ${mt.strides[0]};
        const int strideW = ${mt.strides[1]};
        const int padH = ${mt.pads[0]};
        const int padW = ${mt.pads[1]};
        const int KHKW = KH*KW;
        const int XCKHKW = XC * KHKW;
        const int outputChannels = 4;
        vec4 process(int indices[${bt}]) {
          int b  = indices[0]; // batch size
          int oh = indices[1] * strideH - padH; //output height
          int ow = indices[2] * strideW - padW; //output width
          int p = indices[3] * outputChannels; //patch
          vec4 value = vec4(0.0);
          for(int i=0; i < outputChannels; ++i) {
            if(p < XCKHKW) {
              int patchC = p / KHKW;
              int patchH = (p - patchC*KHKW) / KW;
              int patchW = (p - patchC*KHKW) - patchH * KW;
              int xh2 = oh + patchH * dilationH;
              int xw2 = ow + patchW * dilationW;
              int x[${gt.length}];
              x[0] = b;
              x[1] = patchC;
              x[2] = xh2;
              x[3] = xw2;
              if(xh2 >= 0 &&
                  xh2 < XH &&
                  xw2 >= 0 &&
                  xw2 < XW) {
                value[i] = _X(x);
              }
            }
            ++p;
          }
          return value;
        }
        `;return Object.assign(Object.assign({},at),{output:{dims:xt,type:ct.type,textureType:nt.TextureType.packedLastDimension},shaderSource:vt})})(0,ft,it,ot,st,ut)})},et.calculateIm2ColDims=(rt,it,ot,st=4)=>[ot[0],ot[2],ot[3],Math.ceil(rt[1]*it[2]*it[3]/st)]},6981:(_e,et,tt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.parseImageScalerAttributes=et.imageScaler=void 0;const nt=tt(4910),rt=tt(5639);et.imageScaler=(ft,dt,lt)=>(ut(dt),[ft.run(ot(ft,dt,lt),dt)]),et.parseImageScalerAttributes=ft=>{const dt=ft.attributes.getFloat("scale"),lt=ft.attributes.getFloats("bias");return(0,nt.createAttributeWithCacheKey)({scale:dt,bias:lt})};const it={name:"ImageScaler",inputNames:["X"],inputTypes:[rt.TextureType.unpacked]},ot=(ft,dt,lt)=>{const at=Object.assign(Object.assign({},it),{cacheHint:lt.cacheKey});return Object.assign(Object.assign({},at),{get:()=>((ct,ht,pt,mt)=>{const gt=pt[0].dims.slice(),yt=gt.length,bt=`
      ${st(mt.bias.length)}
      float process(int indices[${yt}]) {
        return _X(indices) * scale + getBias(bias, indices[1]);
      }`;return Object.assign(Object.assign({},ht),{output:{dims:gt,type:pt[0].type,textureType:rt.TextureType.unpacked},variables:[{name:"bias",type:"float",arrayLength:mt.bias.length,data:mt.bias},{name:"scale",type:"float",data:mt.scale}],shaderSource:bt})})(0,at,dt,lt)})},st=ft=>{const dt=[`float getBias(float bias[${ft}], int channel) {`];for(let lt=0;lt<ft;++lt)lt===0?dt.push(`	if (channel == ${lt}) { return bias[${lt}]; }`):lt===ft-1?dt.push(`	else { return bias[${lt}]; }`):dt.push(`	else if (channel == ${lt}) { return bias[${lt}]; }`);return dt.push("	}"),dt.join(`
`)},ut=ft=>{if(!ft||ft.length!==1)throw new Error("ImageScaler requires 1 input.");if(ft[0].dims.length!==4)throw new Error("Invalid input shape.");if(ft[0].type!=="float32"&&ft[0].type!=="float64")throw new Error("Invalid input type.")}},7413:(_e,et,tt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.parseInstanceNormalizationAttributes=et.instanceNormalization=void 0;const nt=tt(6757),rt=tt(5639);et.instanceNormalization=(dt,lt,at)=>{ft(lt);const ct=dt.run(ot(lt[0]),lt);return[dt.run(ut(dt,lt[0],at,ct.dims),[lt[0],ct,lt[1],lt[2]])]},et.parseInstanceNormalizationAttributes=dt=>dt.attributes.getFloat("epsilon",1e-5);const it={name:"InstanceNormalization_MeanAndVariance",inputNames:["X"],inputTypes:[rt.TextureType.unpacked]},ot=dt=>Object.assign(Object.assign({},it),{get:()=>((lt,at)=>{const ct=at.dims.slice(),ht=ct[1],pt=ct[2]*ct[3],mt=[ct[0],ht],gt=`
      vec4 process(int[2] indices) {
        vec4 v = vec4(0.0);
        int a[4];
        a[0] = indices[0];
        a[1] = indices[1];
        float temp = 0.0;
        for(int a2=0; a2<${ct[2]}; a2++) {
          a[2] = a2;
          for(int a3=0; a3<${ct[3]}; a3++) {
            a[3] = a3;
            float x = _X(a);
            temp += x;
          }
        }
        float mean = temp / float(${pt});
        temp = 0.0;
        for(int a2=0; a2<${ct[2]}; a2++) {
          a[2] = a2;
          for(int a3=0; a3<${ct[3]}; a3++) {
            a[3] = a3;
            float x = _X(a);
            temp += (x - mean) * (x - mean);
          }
        }
        v.r = mean;
        v.g = temp / float(${pt});

        return v;
      }`;return Object.assign(Object.assign({},lt),{output:{dims:mt,type:at.type,textureType:rt.TextureType.packedLastDimension},shaderSource:gt})})(it,dt)}),st={name:"InstanceNormalization_ComputeOutput",inputNames:["X","MeanAndVariance","Scale","B"],inputTypes:[rt.TextureType.unpacked,rt.TextureType.packedLastDimension,rt.TextureType.unpacked,rt.TextureType.unpacked]},ut=(dt,lt,at,ct)=>{const ht=Object.assign(Object.assign({},st),{cacheHint:`${at}`});return Object.assign(Object.assign({},ht),{get:()=>((pt,mt,gt,yt,bt)=>{const xt=(0,nt.getGlsl)(pt.session.backend.glContext.version),[vt,wt]=pt.calculateTextureWidthAndHeight(bt,rt.TextureType.packedLastDimension),[_t,Ct]=[vt/4,wt],Et=`
      vec4 get_MeanAndVariance(int[2] mv) {
        int offset = indicesToOffset_MeanAndVariance(mv);
        vec2 coords = offsetToCoords(offset, ${_t}, ${Ct});
        return ${xt.texture2D}(MeanAndVariance, coords);
      }

      float process(int[4] indices) {
        int mv[2];
        mv[0] = indices[0];
        mv[1] = indices[1];
        vec4 mean_and_variance = get_MeanAndVariance(mv);
        float mean = mean_and_variance.r;
        float variance = mean_and_variance.g;

        int sb[1];
        sb[0] = indices[1];
        float scale = _Scale(sb);
        float b = _B(sb);

        return scale * (_X(indices) - mean) / sqrt(variance + epsilon) + b;
      }`;return Object.assign(Object.assign({},mt),{output:{dims:gt.dims,type:gt.type,textureType:rt.TextureType.unpacked},variables:[{name:"epsilon",type:"float",data:yt}],shaderSource:Et})})(dt,ht,lt,at,ct)})},ft=dt=>{if(!dt||dt.length!==3)throw new Error("InstanceNormalization requires 3 inputs.");const lt=dt[0],at=dt[1],ct=dt[2];if(lt.dims.length<3||at.dims.length!==1||ct.dims.length!==1)throw new Error("Invalid input shape.");if(at.dims[0]!==lt.dims[1]||ct.dims[0]!==lt.dims[1])throw new Error("Input shapes are mismatched.");if(lt.type!=="float32"&&lt.type!=="float64"||at.type!=="float32"&&at.type!=="float64"||ct.type!=="float32"&&ct.type!=="float64")throw new Error("Invalid input type.");if(dt[0].dims.length!==4)throw new Error("Only support 4-D input shape.")}},7006:(_e,et,tt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.createLrnProgramInfoLoader=et.parseLrnAttributes=et.lrn=void 0;const nt=tt(4910),rt=tt(5639);et.lrn=(ut,ft,dt)=>(st(ft),[ut.run(ot(ft,dt),ft)]),et.parseLrnAttributes=ut=>{const ft=ut.attributes.getFloat("alpha",1e-4),dt=ut.attributes.getFloat("beta",.75),lt=ut.attributes.getFloat("bias",1),at=ut.attributes.getInt("size");return(0,nt.createAttributeWithCacheKey)({alpha:ft,beta:dt,bias:lt,size:at})};const it={name:"LRN",inputNames:["X"],inputTypes:[rt.TextureType.unpacked]};function ot(ut,ft){return Object.assign(Object.assign({},it),{cacheHint:ft.cacheKey,get:()=>function(dt,lt){const at=dt[0].dims[1],ct=dt[0].dims.length,ht=-Math.floor((lt.size-1)/2),pt=Math.ceil((lt.size-1)/2),mt=`float(${lt.alpha}) / float(${lt.size})`,gt=`
    float process(int indices[${ct}]) {
        int c = indices[1];
        float x = _X(indices);
        float square_sum = 0.0;

        for (int i = ${ht}; i <= ${pt}; i++) {
          int idx = c + i;
          if (c >= 0 && c < ${at}) {
            indices[1] = idx;
            float j = _X(indices);
            square_sum += j * j;
          }
        }
        return x / pow(float(${lt.bias}) + ${mt} * square_sum, float(${lt.beta}));
    }`;return Object.assign(Object.assign({},it),{cacheHint:lt.cacheKey,output:{dims:dt[0].dims,type:dt[0].type,textureType:rt.TextureType.unpacked},shaderSource:gt})}(ut,ft)})}et.createLrnProgramInfoLoader=ot;const st=ut=>{if(!ut||ut.length!==1)throw new Error("LRN requires 1 input.");if(ut[0].dims.length!==4)throw new Error('currently only support LRN for input with "NCHW" format');if(ut[0].type!=="float32")throw new Error("input should be float type")}},5632:(_e,et,tt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.createPackedMatmulProgramInfoLoader=void 0;const nt=tt(7273),rt=tt(6757),it=tt(5639),ot=tt(432),st=tt(2150),ut=tt(8276);et.createPackedMatmulProgramInfoLoader=(ft,dt,lt)=>{const at=(ct=dt.length>2,ht=lt.activationCacheKey,{name:"MatMul (packed)",inputNames:ct?["A","B","Bias"]:["A","B"],inputTypes:ct?[it.TextureType.packed,it.TextureType.packed,it.TextureType.packed]:[it.TextureType.packed,it.TextureType.packed],cacheHint:ht});var ct,ht;return Object.assign(Object.assign({},at),{get:()=>((pt,mt,gt,yt)=>{const bt=gt.length>2,xt=bt?"value += getBiasForMatmul();":"",vt=gt[0].dims,wt=gt[1].dims,_t=nt.BroadcastUtil.calcShape(vt,wt,!0),Ct=!nt.ShapeUtil.areEqual(gt[0].dims,gt[1].dims);if(!_t)throw new Error("Can't use matmul on the given tensors");const Et=vt[vt.length-1],$t=Math.ceil(Et/2),jt=vt.length,Dt=wt.length,Pt=(0,rt.getGlsl)(pt.session.backend.glContext.version),kt=(0,ot.getCoordsDataType)(_t.length),At=_t.length,Tt=(0,ot.getGlChannels)(),{activationFunction:St,applyActivation:Rt}=(0,st.getActivationSnippet)(yt),Ot=bt?`${(0,ut.getBiasForMatmul)(kt,Tt,gt[2].dims,_t,!0)}`:"",Nt=Ct?`${function(Gt,Kt,fn,dn){let Wt=[],rn=[];const Vt=fn[0].dims,an=fn[1].dims,Qt=Vt.length,Zt=an.length,xn=dn.length,vn=xn-Qt,gn=xn-Zt;Wt=Vt.map((Tn,bn)=>`coords.${Kt[bn+vn]}`),Wt[Qt-1]="i*2",Wt.join(", "),rn=an.map((Tn,bn)=>`coords.${Kt[bn+gn]}`),rn[Zt-2]="i*2",rn.join(", ");const Cn=nt.BroadcastUtil.getBroadcastDims(Vt,dn),kn=nt.BroadcastUtil.getBroadcastDims(an,dn),En=Cn.map(Tn=>`coords.${Kt[Tn+vn]} = 0;`).join(`
`),sn=kn.map(Tn=>`coords.${Kt[Tn+gn]} = 0;`).join(`
`),On=`int lastDim = coords.${Kt[xn-1]};
  coords.${Kt[xn-1]} = coords.${Kt[xn-2]};
  coords.${Kt[xn-2]} = lastDim;`;return`
vec4 getAAtOutCoordsMatmul(int i) {
  ${Gt} coords = getOutputCoords();
  ${On}
  ${En}
  vec4 outputValue = getA(${Wt});
  return outputValue;
}

vec4 getBAtOutCoordsMatmul(int i) {
  ${Gt} coords = getOutputCoords();
  ${On}
  ${sn}
  vec4 outputValue = getB(${rn});
  return outputValue;
}`}(kt,Tt,gt,_t)}`:"",It=Ct?"getAAtOutCoordsMatmul(i)":`getA(${function(Gt,Kt){let fn="";for(let dn=0;dn<Kt-2;dn++)fn+=`rc.${Gt[dn]}, `;return fn+=`rc.${Gt[Kt-2]}, i*2`,fn}(Tt,jt)})`,Bt=Ct?"getBAtOutCoordsMatmul(i)":`getB(${function(Gt,Kt){let fn="";for(let dn=0;dn<Kt-2;dn++)fn+=`rc.${Gt[dn]}, `;return fn+=`i*2, rc.${Gt[Kt-1]}`,fn}(Tt,Dt)})`,zt=`
            ${Nt}
            ${Ot}
            ${St}
            void main() {
              ${Ct?"":`${kt} rc =
          getOutputCoords(); int lastDim = rc.${Tt[At-1]}; rc.${Tt[At-1]} =
          rc.${Tt[At-2]}; rc.${Tt[At-2]} = lastDim;
      `}

              vec4 value = vec4(0);
              for (int i = 0; i < ${$t}; i++) {
                vec4 a = ${It};
                vec4 b = ${Bt};

                value += (a.rrbb * b.rgrg);
                value += (a.ggaa * b.baba);
              }
              ${xt}
              ${Rt}
              ${Pt.output} = value;
            }`;return Object.assign(Object.assign({},mt),{output:{dims:_t,type:gt[0].type,textureType:it.TextureType.packed},shaderSource:zt,hasMain:!0})})(ft,at,dt,lt)})}},8276:(_e,et,tt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.getBiasForMatmul=et.createMatmulProgramInfoLoader=et.parseMatMulAttributes=et.matMul=void 0;const nt=tt(7273),rt=tt(5639),it=tt(432),ot=tt(2150),st=tt(5632);et.matMul=(at,ct,ht)=>(dt(ct),at.session.pack?[at.run((0,st.createPackedMatmulProgramInfoLoader)(at,ct,ht),ct)]:[at.run(ft(ct,ht),ct)]),et.parseMatMulAttributes=at=>(0,ot.parseInternalActivationAttributes)(at.attributes);const ut=(at,ct)=>({name:"MatMul",inputNames:at?["A","B","Bias"]:["A","B"],inputTypes:at?[rt.TextureType.unpacked,rt.TextureType.unpacked,rt.TextureType.unpacked]:[rt.TextureType.unpacked,rt.TextureType.unpacked],cacheHint:ct});function ft(at,ct){const ht=ut(at.length>2,ct.activationCacheKey);return Object.assign(Object.assign({},ht),{get:()=>function(pt,mt,gt){const yt=mt[0].dims,bt=mt[1].dims,xt=nt.BroadcastUtil.calcShape(yt,bt,!0);if(!xt)throw new Error("Can't use matmul on the given tensors");const vt=(0,it.getCoordsDataType)(xt.length),wt=(0,it.getGlChannels)(),{activationFunction:_t,applyActivation:Ct}=(0,ot.getActivationSnippet)(gt),Et=mt.length>2,$t=Et?"value += getBiasForMatmul();":"",jt=Et?`${lt(vt,wt,mt[2].dims,xt,!1)}`:"",Dt=xt.length,Pt=yt.length,kt=bt.length,At=`
    ${_t}
    ${jt}
    float process(int indices[${Dt}]) {
        int a[${Pt}];
        int b[${kt}];
        bcastMatmulIndices_A(indices, a);
        bcastMatmulIndices_B(indices, b);

        float value;
        for (int k=0; k<${yt[yt.length-1]}; ++k) {
            a[${Pt-1}] = k;
            b[${kt-2}] = k;
            value += _A(a) * _B(b);
        }
        ${$t}
        ${Ct}
        return value;
    }`;return Object.assign(Object.assign({},pt),{output:{dims:xt,type:mt[0].type,textureType:rt.TextureType.unpacked},shaderSource:At})}(ht,at,ct)})}et.createMatmulProgramInfoLoader=ft;const dt=at=>{if(!at||at.length!==2)throw new Error("MatMul requires 2 inputs.");if(at[0].dims[at[0].dims.length-1]!==at[1].dims[at[1].dims.length-2])throw new Error("shared dimension does not match.");if(at[0].type!=="float32"&&at[0].type!=="float64"||at[1].type!=="float32"&&at[1].type!=="float64")throw new Error("inputs should be float type");if(at[0].type!==at[1].type)throw new Error("inputs types should match")};function lt(at,ct,ht,pt,mt){let gt="";const yt=ht.length,bt=pt.length,xt=bt-yt;gt=bt<2&&yt>0?"coords":ht.map((_t,Ct)=>`coords.${ct[Ct+xt]}`).join(", ");const vt=nt.BroadcastUtil.getBroadcastDims(ht,pt).map(_t=>`coords.${ct[_t+xt]} = 0;`).join(`
`);let wt="vec4(outputValue.xx, outputValue.yy)";return nt.ShapeUtil.size(ht)===1&&(wt="vec4(outputValue.x)"),mt?`
vec4 getBiasForMatmul() {
  ${at} coords = getOutputCoords();
  ${vt}
  vec4 outputValue = getBias(${gt});
  return ${wt};
}`:`
float getBiasForMatmul() {
  ${at} coords = getOutputCoords();
  ${vt}
  return getBias(coords.x);
}`}et.getBiasForMatmul=lt},9:(_e,et,tt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.createPackProgramInfoLoader=void 0;const nt=tt(6757),rt=tt(5639),it=tt(432),ot=tt(5614),st={name:"pack",inputNames:["A"],inputTypes:[rt.TextureType.unpackedReversed]};et.createPackProgramInfoLoader=(ut,ft)=>Object.assign(Object.assign({},st),{get:()=>((dt,lt)=>{const at=(0,nt.getGlsl)(dt.session.backend.glContext.version),ct=lt.dims,ht=ct.length,pt=lt.dims.length,mt=(0,it.getCoordsDataType)(pt),gt=(0,ot.getChannels)("rc",pt),yt=(bt=pt,xt=gt,vt=ct[ct.length-2],wt=ct[ct.length-1],bt===0||bt===1?"":`
    int r = ${xt[bt-2]};
    int c = ${xt[bt-1]};
    int rp1 = ${xt[bt-2]} + 1;
    int cp1 = ${xt[bt-1]} + 1;
    bool rEdge = rp1 >= ${wt};
    bool cEdge = cp1 >= ${vt};
    `);var bt,xt,vt,wt;let _t;_t=ht===0?[1,1]:ht===1?[ct[0],1]:[ct[pt-1],ct[pt-2]];const Ct=function(jt,Dt,Pt){if(jt===0)return"false";if(jt===1)return`rc > ${Dt[0]}`;let kt="";for(let At=jt-2;At<jt;At++)kt+=`${Pt[At]} >= ${Dt[At-jt+2]}`,At<jt-1&&(kt+="||");return kt}(pt,_t,gt),Et=function(jt,Dt){const Pt=jt.length;if(Pt===0)return"getA(), 0, 0, 0";if(Pt===1)return`getA(rc),
            rc + 1 >= ${jt[0]} ? 0. : getA(rc + 1),
            0, 0`;let kt="";if(Pt>2)for(let At=0;At<Pt-2;++At)kt+=`${Dt[At]},`;return`getA(${kt}r, c),
          rEdge ? 0. : getA(${kt}rp1, c),
          cEdge ? 0. : getA(${kt}r, cp1),
          rEdge || cEdge ? 0. : getA(${kt}rp1, cp1)`}(ct,gt),$t=`
        void main() {
          ${mt} rc = getOutputCoords();

          if(${Ct}) {
            ${at.output} = vec4(0);
          } else {
            ${yt}

            ${at.output} = vec4(${Et});
          }
        }
      `;return Object.assign(Object.assign({},st),{hasMain:!0,output:{dims:lt.dims,type:lt.type,textureType:rt.TextureType.packed},shaderSource:$t})})(ut,ft)})},5614:(_e,et,tt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.unpackFromChannel=et.getChannels=et.getVecChannels=void 0;const nt=tt(432);function rt(it,ot){return(0,nt.getGlChannels)(ot).map(st=>`${it}.${st}`)}et.getVecChannels=rt,et.getChannels=function(it,ot){return ot===1?[it]:rt(it,ot)},et.unpackFromChannel=function(){return`
    float getChannel(vec4 frag, int dim) {
      int modCoord = imod(dim, 2);
      return modCoord == 0 ? frag.r : frag.g;
    }

    float getChannel(vec4 frag, vec2 innerDims) {
      vec2 modCoord = mod(innerDims, 2.);
      return modCoord.x == 0. ?
        (modCoord.y == 0. ? frag.r : frag.g) :
        (modCoord.y == 0. ? frag.b : frag.a);
    }
  `}},5565:(_e,et,tt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.parsePadAttributesV11=et.padV11=et.parsePadAttributesV2=et.padV2=void 0;const nt=tt(4910),rt=tt(7273),it=tt(6757),ot=tt(5639),st={name:"Pad",inputNames:["A"],inputTypes:[ot.TextureType.unpacked]};et.padV2=(mt,gt,yt)=>(dt(gt),[mt.run(Object.assign(Object.assign({},st),{cacheHint:yt.cacheKey,get:()=>ft(mt,gt[0],yt)}),gt)]),et.parsePadAttributesV2=mt=>{const gt=mt.attributes.getString("mode","constant"),yt=mt.attributes.getFloat("value",0),bt=mt.attributes.getInts("pads");return(0,nt.createAttributeWithCacheKey)({mode:gt,value:yt,pads:bt})},et.padV11=(mt,gt,yt)=>{lt(gt);const bt=ut(mt,gt,yt);return(0,et.padV2)(mt,[gt[0]],bt)},et.parsePadAttributesV11=mt=>mt.attributes.getString("mode","constant");const ut=(mt,gt,yt)=>{if(!mt.session.isInitializer(gt[1].dataId)||gt.length>=3&&!mt.session.isInitializer(gt[2].dataId))throw new Error("dynamic pad attributes are not allowed");const bt=Array.from(gt[1].integerData),xt=gt.length>=3?gt[2].floatData[0]:0;return(0,nt.createAttributeWithCacheKey)({mode:yt,pads:bt,value:xt})},ft=(mt,gt,yt)=>{const bt=rt.ShapeUtil.padShape(gt.dims.slice(),yt.pads),xt=bt.length,vt=`
      ${at(mt,gt,yt)}
      float process(int[${xt}] indices) {
          return padA(indices);
      }`;return{name:"Pad",inputNames:["A"],inputTypes:[ot.TextureType.unpacked],output:{dims:bt,type:gt.type,textureType:ot.TextureType.unpacked},shaderSource:vt}},dt=mt=>{if(!mt||mt.length!==1)throw new Error("Pad requires 1 input");if(mt[0].type!=="float32"&&mt[0].type!=="float64")throw new Error("Invalid input type.")},lt=mt=>{if(!mt||mt.length!==2&&mt.length!==3)throw new Error("Pad requires 2 or 3 inputs");if(mt[1].type!=="int32")throw new Error("Invalid input type.");if(mt.length>=3&&mt[2].type==="string")throw new Error("Invalid input type.")},at=(mt,gt,yt)=>{const bt=(0,it.getGlsl)(mt.session.backend.glContext.version),[xt,vt]=mt.calculateTextureWidthAndHeight(gt.dims,ot.TextureType.unpacked),wt=rt.ShapeUtil.computeStrides(gt.dims);switch(yt.mode){case"constant":return ct(bt,gt.dims,wt,xt,vt,yt.pads,yt.value);case"reflect":return ht(bt,gt.dims,wt,xt,vt,yt.pads);case"edge":return pt(bt,gt.dims,wt,xt,vt,yt.pads);default:throw new Error("Invalid mode")}},ct=(mt,gt,yt,bt,xt,vt,wt)=>{const _t=gt.length;let Ct="";for(let Et=_t-1;Et>=0;--Et)Ct+=`
        k = m[${Et}] - ${vt[Et]};
        if (k < 0)  return constant;
        if (k >= ${gt[Et]}) return constant;
        offset += k * ${yt[Et]};
        `;return`
      float padA(int m[${_t}]) {
        const float constant = float(${wt});
        int offset = 0;
        int k = 0;
        ${Ct}
        vec2 coords = offsetToCoords(offset, ${bt}, ${xt});
        float value = getColorAsFloat(${mt.texture2D}(A, coords));
        return value;
      }
      `},ht=(mt,gt,yt,bt,xt,vt)=>{const wt=gt.length;let _t="";for(let Ct=wt-1;Ct>=0;--Ct)_t+=`
        k = m[${Ct}] - ${vt[Ct]};
        if (k < 0) { k = -k; }
        {
          const int _2n_1 = ${2*(gt[Ct]-1)};
          k = int( mod( float(k), float(_2n_1) ) ) ;
          if(k >= ${gt[Ct]}) { k = _2n_1 - k; }
        }
        offset += k * ${yt[Ct]};
        `;return`
      float padA(int m[${wt}]) {
        int offset = 0;
        int k = 0;
        ${_t}
        vec2 coords = offsetToCoords(offset, ${bt}, ${xt});
        float value = getColorAsFloat(${mt.texture2D}(A, coords));
        return value;
      }
      `},pt=(mt,gt,yt,bt,xt,vt)=>{const wt=gt.length;let _t="";for(let Ct=wt-1;Ct>=0;--Ct)_t+=`
        k = m[${Ct}] - ${vt[Ct]};
        if (k < 0)  k = 0;
        if (k >= ${gt[Ct]}) k = ${gt[Ct]-1};
        offset += k * ${yt[Ct]};
      `;return`
      float padA(int m[${wt}]) {
        int offset = 0;
        int k = 0;
        ${_t}
        vec2 coords = offsetToCoords(offset, ${bt}, ${xt});
        float value = getColorAsFloat(${mt.texture2D}(A, coords));
        return value;
      }
      `}},2834:(_e,et,tt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.globalMaxPool=et.parseMaxPoolAttributes=et.maxPool=et.parseGlobalAveragePoolAttributes=et.globalAveragePool=et.parseAveragePoolAttributes=et.averagePool=void 0;const nt=tt(4910),rt=tt(7273),it=tt(5639);et.averagePool=(pt,mt,gt)=>{lt(mt);const yt={name:"AveragePool",inputNames:["X"],inputTypes:[it.TextureType.unpacked],cacheHint:gt.cacheKey};return[pt.run(Object.assign(Object.assign({},yt),{get:()=>ot(mt,yt,!1,gt)}),mt)]},et.parseAveragePoolAttributes=pt=>{const mt=pt.attributes.getString("auto_pad","NOTSET"),gt=pt.attributes.getInt("ceil_mode",0),yt=pt.attributes.getInt("count_include_pad",0)!==0,bt=pt.attributes.getInts("kernel_shape"),xt=pt.attributes.getInts("strides",[]),vt=pt.attributes.getInts("pads",[]);if(gt!==0)throw new Error("using ceil() in shape computation is not yet supported for AveragePool");return(0,nt.createAttributeWithCacheKey)({autoPad:mt,ceilMode:gt,countIncludePad:yt,kernelShape:bt,strides:xt,pads:vt})};const ot=(pt,mt,gt,yt)=>{const[bt,xt]=ut(pt,yt,gt),vt=rt.ShapeUtil.size(bt.kernelShape);let wt="";bt.countIncludePad?wt+=`value /= float(${vt});`:wt+=`value /= float(${vt} - pad);`;const _t=`
        ${at(pt[0].dims,bt,"value += _X(x);",wt,"0.0")}
      `;return Object.assign(Object.assign({},mt),{output:{dims:xt,type:pt[0].type,textureType:it.TextureType.unpacked},shaderSource:_t})};et.globalAveragePool=(pt,mt,gt)=>{lt(mt);const yt={name:"GlobalAveragePool",inputNames:["X"],inputTypes:[it.TextureType.unpacked],cacheHint:`${gt.countIncludePad}`};return[pt.run(Object.assign(Object.assign({},yt),{get:()=>ot(mt,yt,!0,gt)}),mt)]},et.parseGlobalAveragePoolAttributes=pt=>{const mt=pt.attributes.getInt("count_include_pad",0)!==0;return(0,nt.createAttributeWithCacheKey)({autoPad:"",ceilMode:0,countIncludePad:mt,kernelShape:[],strides:[],pads:[]})},et.maxPool=(pt,mt,gt)=>{lt(mt);const yt={name:"MaxPool",inputNames:["X"],inputTypes:[it.TextureType.unpacked],cacheHint:gt.cacheKey};return[pt.run(Object.assign(Object.assign({},yt),{get:()=>st(mt,yt,!1,gt)}),mt)]},et.parseMaxPoolAttributes=pt=>{const mt=pt.attributes.getString("auto_pad","NOTSET"),gt=pt.attributes.getInt("ceil_mode",0),yt=pt.attributes.getInts("kernel_shape"),bt=pt.attributes.getInts("strides",[]),xt=pt.attributes.getInts("pads",[]),vt=pt.attributes.getInt("storage_order",0),wt=pt.attributes.getInts("dilations",[]);if(vt!==0)throw new Error("column major storage order is not yet supported for MaxPool");if(gt!==0)throw new Error("using ceil() in shape computation is not yet supported for MaxPool");return(0,nt.createAttributeWithCacheKey)({autoPad:mt,ceilMode:gt,countIncludePad:!1,kernelShape:yt,strides:bt,pads:xt,storageOrder:vt,dilations:wt})};const st=(pt,mt,gt,yt)=>{const[bt,xt]=ut(pt,yt,gt),vt=`
      ${at(pt[0].dims,bt,`
      value = max(_X(x), value);
    `,"","-1e5")}
    `;return Object.assign(Object.assign({},mt),{output:{dims:xt,type:pt[0].type,textureType:it.TextureType.unpacked},shaderSource:vt})},ut=(pt,mt,gt)=>{const yt=pt[0].dims.slice(),bt=Object.hasOwnProperty.call(mt,"dilations"),xt=mt.kernelShape.slice(),vt=mt.strides.slice(),wt=bt?mt.dilations.slice():[],_t=mt.pads.slice();rt.PoolConvUtil.adjustPoolAttributes(gt,yt,xt,vt,wt,_t);const Ct=rt.PoolConvUtil.computePoolOutputShape(gt,yt,vt,wt,xt,_t,mt.autoPad),Et=Object.assign({},mt);return bt?Object.assign(Et,{kernelShape:xt,strides:vt,pads:_t,dilations:wt,cacheKey:mt.cacheKey}):Object.assign(Et,{kernelShape:xt,strides:vt,pads:_t,cacheKey:mt.cacheKey}),[Et,Ct]},ft={autoPad:"",ceilMode:0,countIncludePad:!1,kernelShape:[],strides:[],pads:[],storageOrder:0,dilations:[],cacheKey:""},dt={name:"GlobalMaxPool",inputNames:["X"],inputTypes:[it.TextureType.unpacked]};et.globalMaxPool=(pt,mt)=>(lt(mt),[pt.run(Object.assign(Object.assign({},dt),{get:()=>st(mt,dt,!0,ft)}),mt)]);const lt=pt=>{if(!pt||pt.length!==1)throw new Error("Pool ops requires 1 input.");if(pt[0].type!=="float32"&&pt[0].type!=="float64")throw new Error("Invalid input type.")},at=(pt,mt,gt,yt,bt)=>{const xt=pt.length;if(mt.kernelShape.length<=2){const vt=mt.kernelShape[mt.kernelShape.length-1],wt=mt.strides[mt.strides.length-1],_t=mt.pads[mt.pads.length/2-1],Ct=mt.pads[mt.pads.length-1],Et=pt[xt-1];let $t="",jt="",Dt="";if($t=_t+Ct!==0?`
          for (int i = 0; i < ${vt}; i++) {
            x[${xt} - 1] = indices[${xt} - 1] * ${wt} - ${_t} + i;
            if (x[${xt} - 1] < 0 || x[${xt} - 1] >= ${Et}) {
              pad++;
              continue;
            }
            ${gt}
          }`:`
          for (int i = 0; i < ${vt}; i++) {
            x[${xt} - 1] = indices[${xt} - 1] * ${wt} - ${_t} + i;
            ${gt}
          }`,mt.kernelShape.length===2){const Pt=mt.kernelShape[mt.kernelShape.length-2],kt=mt.strides[mt.strides.length-2],At=mt.pads[mt.pads.length/2-2],Tt=mt.pads[mt.pads.length-2],St=pt[xt-2];jt=At+Tt!==0?`
            for (int j = 0; j < ${Pt}; j++) {
              x[${xt} - 2] = indices[${xt} - 2] * ${kt} - ${At} + j;
              if (x[${xt} - 2] < 0 || x[${xt} - 2] >= ${St}) {
                pad+= ${vt};
                continue;
              }
          `:`
            for (int j = 0; j < ${Pt}; j++) {
              x[${xt} - 2] = indices[${xt} - 2] * ${kt} - ${At} + j;
            `,Dt=`
          }
        `}return`
        float process(int indices[${xt}]) {
          int x[${xt}];
          copyVec(indices, x);

          float value = ${bt};
          int pad = 0;
          ${jt}
          ${$t}
          ${Dt}
          ${yt}
          return value;
        }
      `}{const vt=rt.ShapeUtil.size(mt.kernelShape),wt=rt.ShapeUtil.computeStrides(mt.kernelShape),_t=wt.length,Ct=mt.pads.length,Et=ht(_t),$t=ct(pt,"inputDims"),jt=ct(mt.pads,"pads"),Dt=ct(wt,"kernelStrides"),Pt=ct(mt.strides,"strides");let kt="";return kt=mt.pads.reduce((At,Tt)=>At+Tt)?`
            if (x[j] >= inputDims[j] || x[j] < 0) {
              pad++;
              isPad = true;
              break;
            }
          }
          if (!isPad) {
            ${gt}
          }`:`
          }
          ${gt}
        `,`
        ${Et}
        float process(int indices[${xt}]) {
          int x[${xt}];
          copyVec(indices, x);
          int offset[${_t}];
          int pads[${Ct}];
          int inputDims[${xt}];
          int kernelStrides[${_t}];
          int strides[${_t}];
          ${jt}
          ${$t}
          ${Pt}
          ${Dt}

          float value = ${bt};
          int pad = 0;
          bool isPad = false;
          for (int i = 0; i < ${vt}; i++) {
            offsetToIndices(i, kernelStrides, offset);
            isPad = false;
            for (int j = ${xt} - ${_t}; j < ${xt}; j++) {
              x[j] = indices[j] * strides[j - ${xt} + ${_t}]
                + offset[j - ${xt} + ${_t}] - pads[j - 2];
              ${kt}
          }
          ${yt}

          return value;
        }
      `}},ct=(pt,mt)=>{let gt="";for(let yt=0;yt<pt.length;yt++)gt+=`
      ${mt}[${yt}] = ${pt[yt]};
    `;return gt},ht=pt=>`
  void offsetToIndices(int offset, int[${pt}] strides, out int[${pt}] indices) {
    if (${pt} == 0) {
      return;
    }
    for (int i = 0; i < ${pt} - 1; ++i) {
      indices[i] = offset / strides[i];
      offset -= indices[i] * strides[i];
    }
    indices[${pt} - 1] = offset;
  }`},1010:(_e,et,tt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.reduceLogSumSquare=et.reduceLogSum=et.reduceProd=et.reduceMin=et.reduceMax=et.reduceMean=et.reduceSum=et.parseReduceAttributes=void 0;const nt=tt(4910),rt=tt(6145),it=tt(7273),ot=tt(5639),st=(dt,lt,at,ct,ht)=>{ft(lt);const pt={name:ct,inputNames:["A"],inputTypes:[ot.TextureType.unpacked]};return[dt.run(Object.assign(Object.assign({},pt),{cacheHint:at.cacheKey,get:()=>ut(dt,lt,at,ct,ht,pt)}),lt)]};et.parseReduceAttributes=dt=>{const lt=dt.attributes.getInts("axes",[]),at=dt.attributes.getInt("keepdims",1)===1;return(0,nt.createAttributeWithCacheKey)({axes:lt,keepDims:at})};const ut=(dt,lt,at,ct,ht,pt)=>{const mt=[],gt=lt[0].dims.length||1,yt=[],bt=it.ShapeUtil.normalizeAxes(at.axes,lt[0].dims.length),xt=ht(lt,bt);let vt=xt[1];for(let _t=0;_t<lt[0].dims.length;_t++)bt.indexOf(_t)>=0||bt.length===0?(at.keepDims&&mt.push(1),vt=`
          for(int j${_t} = 0; j${_t} < ${lt[0].dims[_t]}; j${_t}++) {
            inputIdx[${_t}] = j${_t};
            ${vt}
          }`):(yt.push(`inputIdx[${_t}] = outputIdx[${mt.length}];`),mt.push(lt[0].dims[_t]));const wt=`
      float process(int outputIdx[${mt.length||1}]) {
        float value;                 // final result
        int inputIdx[${gt}];      // addressing input data
        ${yt.join(`
`)}
        ${xt[0]}       // init ops for reduce max/min
        ${vt}
        ${xt[2]}       // final computation for reduce mean
        return value;
      }`;return Object.assign(Object.assign({},pt),{output:{dims:mt,type:lt[0].type,textureType:ot.TextureType.unpacked},shaderSource:wt})},ft=dt=>{if(!dt||dt.length!==1)throw new Error("Reduce op requires 1 input.");if(rt.NUMBER_TYPES.indexOf(dt[0].type)===-1)throw new Error("Invalid input type.")};et.reduceSum=(dt,lt,at)=>st(dt,lt,at,"ReduceSum",()=>["value = 0.0;","value += _A(inputIdx);",""]),et.reduceMean=(dt,lt,at)=>st(dt,lt,at,"ReduceMean",(ct,ht)=>{let pt=1;for(let mt=0;mt<ct[0].dims.length;mt++)(ht.indexOf(mt)>=0||ht.length===0)&&(pt*=ct[0].dims[mt]);return["value = 0.0;","value += _A(inputIdx);",`value /= ${pt}.;`]}),et.reduceMax=(dt,lt,at)=>st(dt,lt,at,"ReduceMax",(ct,ht)=>{const pt=[];for(let mt=0;mt<ct[0].dims.length;mt++)(ht.indexOf(mt)>=0||ht.length===0)&&pt.push(`inputIdx[${mt}] = 0;`);return[`${pt.join(`
`)}
value = _A(inputIdx);`,"value = max(value, _A(inputIdx));",""]}),et.reduceMin=(dt,lt,at)=>st(dt,lt,at,"ReduceMin",(ct,ht)=>{const pt=[];for(let mt=0;mt<ct[0].dims.length;mt++)(ht.indexOf(mt)>=0||ht.length===0)&&pt.push(`inputIdx[${mt}] = 0;`);return[`${pt.join(`
`)}
value = _A(inputIdx);`,"value = min(value, _A(inputIdx));",""]}),et.reduceProd=(dt,lt,at)=>st(dt,lt,at,"ReduceProd",()=>["value = 1.0;","value *= _A(inputIdx);",""]),et.reduceLogSum=(dt,lt,at)=>st(dt,lt,at,"ReduceLogSum",()=>["value = 0.0;","value += _A(inputIdx);","value = log(value);"]),et.reduceLogSumSquare=(dt,lt,at)=>st(dt,lt,at,"ReduceLogSumSquare",()=>["float t; value = 0.0;","t = _A(inputIdx); value += t * t;",""])},7379:(_e,et,tt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.isReshapeCheap=et.processDims3D=et.createPackedReshape3DProgramInfoLoader=void 0;const nt=tt(7273),rt=tt(6757),it=tt(5639),ot=tt(5614);et.createPackedReshape3DProgramInfoLoader=(st,ut,ft)=>{const dt=(lt=>({name:"Reshape (packed)",inputTypes:[it.TextureType.packed],inputNames:["A"],cacheHint:`${lt}`}))(ft);return Object.assign(Object.assign({},dt),{get:()=>((lt,at,ct,ht)=>{const pt=at.dims,mt=ht;let gt="";for(let xt=0;xt<4;xt++){let vt="";switch(xt){case 0:vt="outputCoords = rc;";break;case 1:vt="outputCoords = ivec3(rc.x, rc.y+1, rc.z);";break;case 2:vt="outputCoords = ivec3(rc.x, rc.y, rc.z+1);";break;case 3:vt="outputCoords = ivec3(rc.x, rc.y+1, rc.z+1);";break;default:throw new Error}gt+=`
        ${vt}
        ${xt>0?"if(outputCoords.y < rows && outputCoords.z < cols){":""}
          int flattenedIndex = getFlattenedIndex(outputCoords);

          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flattenedIndex);
          vec2 innerDims = vec2(float(inputRC.y),float(inputRC.z));

          result[${xt}] = getChannel(getA(inputRC.x, inputRC.y, inputRC.z), innerDims);

        ${xt>0?"}":""}
      `}const yt=(0,rt.getGlsl)(lt.session.backend.glContext.version),bt=`
      ${function(xt){const vt=nt.ShapeUtil.computeStrides(xt),wt=["b","r","c"],_t="index";return`
    ivec3 inputCoordsFromReshapedOutCoords(int index) {
      ${vt.map((Ct,Et)=>`int ${wt[Et]} = ${_t} / ${Ct}; ${Et===vt.length-1?`int ${wt[Et+1]} = ${_t} - ${wt[Et]} * ${Ct}`:`index -= ${wt[Et]} * ${Ct}`};`).join("")}
      return ivec3(b, r, c);
    }
  `}(pt)}
      ${function(xt){const vt=nt.ShapeUtil.computeStrides(xt);return`
  int getFlattenedIndex(ivec3 coords) {
    // reverse y, z order
    return coords.x * ${vt[0]} + coords.z * ${vt[1]} + coords.y;
  }
`}(mt)}
      ${(0,ot.unpackFromChannel)()}

      void main() {
        ivec3 rc = getOutputCoords();

        vec4 result = vec4(0.0);

        ivec3 outputCoords;
        int rows = ${mt[2]};
        int cols = ${mt[1]};

        ${gt}
        ${yt.output} = result;
      }
    `;return Object.assign(Object.assign({},ct),{output:{dims:mt,type:at.type,textureType:it.TextureType.packed},shaderSource:bt,hasMain:!0})})(st,ut,dt,ft)})},et.processDims3D=function(st){if(st.length===0)return[1,1,1];let ut=1;for(let ft=0;ft<st.length-2;++ft)ut*=st[ft];return[ut,st.length>1?st[st.length-2]:1,st[st.length-1]]},et.isReshapeCheap=function(st,ut){let ft=!1;return ft=st.length===0||ut.length===0||(st.length<2||ut.length<2?st[st.length-1]===ut[ut.length-1]:st[st.length-1]===ut[ut.length-1]&&st[st.length-2]===ut[ut.length-2]),ft}},8126:(_e,et,tt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.reshape=void 0;const nt=tt(7273);et.reshape=(rt,it)=>{const ot=nt.ShapeUtil.calculateReshapedDims(it[0].dims,it[1].integerData);return rt.session.pack?[rt.reshapePacked(it[0],ot)]:[rt.reshapeUnpacked(it[0],ot)]}},2801:(_e,et,tt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.parseResizeAttributesV11=et.parseResizeAttributesV10=et.resize=void 0;const nt=tt(6757),rt=tt(5639),it=tt(432),ot=tt(5614),st=tt(3980),ut={name:"Resize",inputNames:["A"],inputTypes:[rt.TextureType.packed]};et.resize=(ct,ht,pt)=>((0,st.validateInputs)(ht,pt),[ct.run(Object.assign(Object.assign({},ut),{cacheHint:pt.cacheKey,get:()=>ft(ct,ht,pt)}),ht)]),et.parseResizeAttributesV10=ct=>(0,st.parseUpsampleAttributes)(ct,10),et.parseResizeAttributesV11=ct=>(0,st.parseUpsampleAttributes)(ct,11);const ft=(ct,ht,pt)=>{const mt=(0,nt.getGlsl)(ct.session.backend.glContext.version),[gt,yt]=dt(ht,pt);if(gt.every(kt=>kt===1)&&pt.coordinateTransformMode!=="tf_crop_and_resize")return Object.assign(Object.assign({},ut),{output:{dims:yt,type:ht[0].type,textureType:rt.TextureType.packed},hasMain:!0,shaderSource:`void main() {
                    vec4 v = ${mt.texture2D}(X, TexCoords);
                    ${mt.output} = v;
                }`});const bt=yt.length;if(bt<2)throw new Error(`output dimension should be at least 2, but got ${bt}`);const xt=yt[bt-2],vt=yt[bt-1],wt=ht[0].dims;if(bt!==wt.length)throw new Error(`output dimension should match input ${wt.length}, but got ${bt}`);const _t=wt[bt-2],Ct=wt[bt-1],Et=gt[bt-2],$t=gt[bt-1];let jt="";if(pt.mode!=="linear")throw new Error(`resize (packed) does not support mode: '${pt.mode}'`);switch(pt.coordinateTransformMode){case"asymmetric":jt=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        return vec4(coords) / scaleWHWH;
                    }
                `;break;case"half_pixel":jt=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        return (vec4(coords) + 0.5) / scaleWHWH - 0.5;
                    }
                `;break;case"pytorch_half_pixel":jt=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        vec4 fcoords = vec4(coords);
                        return vec4(
                            ${vt}.0 > 1.0 ? (fcoords.x + 0.5) / scaleWHWH.x - 0.5 : 0.0,
                            ${xt}.0 > 1.0 ? (fcoords.y + 0.5) / scaleWHWH.y - 0.5 : 0.0,
                            ${vt}.0 > 1.0 ? (fcoords.z + 0.5) / scaleWHWH.z - 0.5 : 0.0,
                            ${xt}.0 > 1.0 ? (fcoords.w + 0.5) / scaleWHWH.w - 0.5 : 0.0
                          );
                    }
                `;break;case"align_corners":jt=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        vec4 resized = vec4(${vt}.0 - 1.0, ${xt}.0 - 1.0, ${vt}.0 - 1.0,
                            ${xt}.0 - 1.0);
                        vec4 original = vec4(${Ct}.0 - 1.0, ${_t}.0 - 1.0, ${Ct}.0 - 1.0,
                            ${_t}.0 - 1.0);
                        vec4 new_scale = original / resized;
                        return vec4(coords) * new_scale;
                    }
                `;break;default:throw new Error(`resize (packed) does not support coordinateTransformMode:                                 '${pt.coordinateTransformMode}'`)}const Dt=(0,it.getCoordsDataType)(bt),Pt=`
            const vec2 inputWH = vec2(${_t}.0, ${Ct}.0);
            const vec4 scaleWHWH = vec4(float(${Et}), float(${$t}), float(${Et}), float(${$t}));
            ${(0,ot.unpackFromChannel)()}
            ${jt}
            float getAValue(int x10, int r, int c, int d) {
                return getChannel(getA(x10, r, c, d), vec2(c, d));
            }
            void main() {
                ${Dt} rc = getOutputCoords();

                int batch = rc[0];
                int depth = rc[1];

                // retrieve the 4 coordinates that is used in the 4 packed output values.
                ivec4 coords = ivec4(rc.wz, rc.w + 1, rc.z + 1);

                // calculate the source index in fraction
                vec4 sourceFrac = getSourceFracIndex(coords);

                // get the lower and upper bound of the 4 values that will be packed into one texel.
                ivec4 x00 = ivec4(max(sourceFrac.xy, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.xy)));
                ivec4 x01 = ivec4(max(sourceFrac.xw, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.xw)));
                ivec4 x10 = ivec4(max(sourceFrac.zy, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.zy)));
                ivec4 x11 = ivec4(max(sourceFrac.zw, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.zw)));

                bool hasNextRow = rc.w < ${xt-1};
                bool hasNextCol = rc.z < ${vt-1};

                // pack x00, x01, x10, x11's top-left corner into one vec4 structure
                vec4 topLeft = vec4(
                    getAValue(batch, depth, x00.x, x00.y),
                    hasNextCol ? getAValue(batch, depth, x01.x, x01.y) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.x, x10.y) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.x, x11.y) : 0.0);

                // pack x00, x01, x10, x11's top-right corner into one vec4 structure
                vec4 topRight = vec4(
                    getAValue(batch, depth, x00.x, x00.w),
                    hasNextCol ? getAValue(batch, depth, x01.x, x01.w) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.x, x10.w) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.x, x11.w) : 0.0);

                // pack x00, x01, x10, x11's bottom-left corner into one vec4 structure
                vec4 bottomLeft = vec4(
                    getAValue(batch, depth, x00.z, x00.y),
                    hasNextCol ? getAValue(batch, depth, x01.z, x01.y) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.z, x10.y) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.z, x11.y) : 0.0);

                // pack x00, x01, x10, x11's bottom-right corner into one vec4 structure
                vec4 bottomRight = vec4(
                    getAValue(batch, depth, x00.z, x00.w),
                    hasNextCol ? getAValue(batch, depth, x01.z, x01.w) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.z, x10.w) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.z, x11.w) : 0.0);

                // calculate the interpolation fraction on u and v direction
                vec4 frac = vec4(sourceFrac) - floor(sourceFrac);
                vec4 clampFrac = clamp(frac, vec4(0.0), vec4(1.0));

                vec4 top = mix(topLeft, topRight, clampFrac.ywyw);
                vec4 bottom = mix(bottomLeft, bottomRight, clampFrac.ywyw);
                vec4 newValue = mix(top, bottom, clampFrac.xxzz);

                ${mt.output} = vec4(newValue);
            }
        `;return Object.assign(Object.assign({},ut),{output:{dims:yt,type:ht[0].type,textureType:rt.TextureType.packed},hasMain:!0,shaderSource:Pt})},dt=(ct,ht)=>{const pt=ct[0].dims;let mt,gt=ht.scales;if(gt.length===0){const bt=ct[ht.scalesInputIdx];if(bt&&bt.size!==0){if(ct[ht.sizesInputIdx])throw new Error("Only one of scales or sizes must be provided as input.");gt=lt(bt,ht.mode,ht.isResize)}else{const xt=ct[ht.sizesInputIdx];if(!xt||xt.size===0)throw new Error("Either scales or sizes MUST be provided as input.");mt=Array.from(xt.integerData),gt=at(mt,pt,ht.mode,ht.isResize)}}else if(ct[ht.sizesInputIdx])throw new Error("Only one of scales or sizes must be provided as input.");const yt=mt||pt.map((bt,xt)=>Math.floor(bt*gt[xt]));return[gt,yt]},lt=(ct,ht,pt)=>{const mt=Array.from(ct.floatData);return(0,st.scalesValidation)(mt,ht,pt),mt},at=(ct,ht,pt,mt)=>{const gt=ht.length,yt=new Array(gt);for(let bt=0,xt=gt;bt<xt;bt++)if(ht[bt]===0){if(ct[bt]!==0)throw new Error("Input dim is zero but required output dim is non-zero.");yt[bt]=1}else yt[bt]=ct[bt]/ht[bt];return(0,st.scalesValidation)(yt,pt,mt),yt}},565:(_e,et,tt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.shape=void 0;const nt=tt(9240);et.shape=(it,ot)=>(rt(ot),[new nt.Tensor([ot[0].dims.length],"int32",void 0,void 0,new Int32Array(ot[0].dims))]);const rt=it=>{if(!it||it.length!==1)throw new Error("Shape requires 1 input.")}},2444:(_e,et,tt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.sliceV10=et.parseSliceAttributes=et.slice=void 0;const nt=tt(4910),rt=tt(6145),it=tt(7273),ot=tt(5639),st={name:"Slice",inputNames:["A"],inputTypes:[ot.TextureType.unpacked]};et.slice=(at,ct,ht)=>(ft(ct),[at.run(Object.assign(Object.assign({},st),{cacheHint:ht.cacheKey,get:()=>ut(at,ct[0],ht)}),ct)]),et.parseSliceAttributes=at=>{const ct=at.attributes.getInts("starts"),ht=at.attributes.getInts("ends"),pt=at.attributes.getInts("axes",[]);return(0,nt.createAttributeWithCacheKey)({starts:ct,ends:ht,axes:pt})};const ut=(at,ct,ht)=>{const pt=ht.axes.length===0?ct.dims.slice(0).map((wt,_t)=>_t):ht.axes,mt=it.ShapeUtil.normalizeAxes(pt,ct.dims.length),gt=ht.starts.map((wt,_t)=>wt>ct.dims[mt[_t]]-1?ct.dims[mt[_t]]:it.ShapeUtil.normalizeAxis(wt,ct.dims[mt[_t]])),yt=ht.ends.map((wt,_t)=>wt>ct.dims[mt[_t]]-1?ct.dims[mt[_t]]:it.ShapeUtil.normalizeAxis(wt,ct.dims[mt[_t]])),bt=ct.dims.slice(),xt=[];for(let wt=0;wt<mt.length;wt++)bt[mt[wt]]=yt[wt]-gt[wt],gt[wt]>0&&xt.push(`outputIdx[${mt[wt]}] += ${gt[wt]};`);const vt=`
      float process(int outputIdx[${bt.length}]) {
        ${xt.join(`
      `)}
        return _A(outputIdx);
      }`;return Object.assign(Object.assign({},st),{output:{dims:bt,type:ct.type,textureType:ot.TextureType.unpacked},shaderSource:vt})},ft=at=>{if(!at||at.length!==1)throw new Error("Slice requires 1 input.");if(rt.NUMBER_TYPES.indexOf(at[0].type)===-1)throw new Error("Invalid input type.")};et.sliceV10=(at,ct)=>{lt(ct);const ht=dt(at,ct);return[at.run(Object.assign(Object.assign({},st),{cacheHint:ht.cacheKey,get:()=>ut(at,ct[0],ht)}),[ct[0]])]};const dt=(at,ct)=>{if(!at.session.isInitializer(ct[1].dataId)||!at.session.isInitializer(ct[2].dataId)||ct.length>=4&&!at.session.isInitializer(ct[3].dataId)||ct.length>=5&&!at.session.isInitializer(ct[4].dataId))throw new Error("dynamic slice attributes are not allowed");if(ct.length>=5&&ct[4].integerData.some(gt=>gt!==1))throw new Error("currently non-1 steps is not supported for Slice");const ht=Array.from(ct[1].integerData),pt=Array.from(ct[2].integerData),mt=ct.length>=4?Array.from(ct[3].integerData):[];return{starts:ht,ends:pt,axes:mt,cacheKey:`${mt};${ht};${pt}`}},lt=at=>{if(!at||at.length<3||at.length>5)throw new Error("Invalid input number.");if(at[1].type!=="int32"||at[1].dims.length!==1)throw new Error("Invalid input type.");if(at[2].type!=="int32"||at[2].dims.length!==1)throw new Error("Invalid input type.");if(at.length>=4&&(at[3].type!=="int32"||at[3].dims.length!==1))throw new Error("Invalid input type.");if(at.length>=5&&(at[4].type!=="int32"||at[4].dims.length!==1))throw new Error("Invalid input type.")}},815:(_e,et,tt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.softmaxV13=et.parseSoftmaxAttributesV13=et.parseSoftmaxAttributes=et.softmax=void 0;const nt=tt(4910),rt=tt(7273),it=tt(6757),ot=tt(5639),st=tt(5707),ut={name:"SoftmaxComputeMax",inputNames:["A"],inputTypes:[ot.TextureType.unpacked]},ft={name:"SoftmaxComputeScale",inputNames:["A","Max"],inputTypes:[ot.TextureType.unpacked,ot.TextureType.unpacked]},dt={name:"SoftMax",inputNames:["A","Max","Norm"],inputTypes:[ot.TextureType.unpacked,ot.TextureType.unpacked,ot.TextureType.unpacked]};et.softmax=(mt,gt,yt)=>{pt(gt);const bt=gt[0].dims.slice(),xt=rt.ShapeUtil.normalizeAxis(yt.axis,bt.length),vt=rt.ShapeUtil.sizeToDimension(bt,xt),wt=rt.ShapeUtil.sizeFromDimension(bt,xt);return lt(mt,gt,yt,vt,wt)},et.parseSoftmaxAttributes=mt=>(0,nt.createAttributeWithCacheKey)({axis:mt.attributes.getInt("axis",1)}),et.parseSoftmaxAttributesV13=mt=>(0,nt.createAttributeWithCacheKey)({axis:mt.attributes.getInt("axis",-1)}),et.softmaxV13=(mt,gt,yt)=>{pt(gt);const bt=gt[0].dims.slice(),xt=rt.ShapeUtil.normalizeAxis(yt.axis,bt.length),vt=bt.length,wt=xt!==vt-1,_t=[];let Ct,Et=[],$t=[];wt&&(Et=Array.from({length:vt}).map((kt,At)=>At),Et[xt]=vt-1,Et[vt-1]=xt,Et.map(kt=>_t.push(bt[kt])),Ct=(0,nt.createAttributeWithCacheKey)({perm:Et}),$t=(0,st.transpose)(mt,gt,Ct));const jt=wt?rt.ShapeUtil.sizeToDimension(_t,vt-1):rt.ShapeUtil.sizeToDimension(bt,vt-1),Dt=wt?rt.ShapeUtil.sizeFromDimension(_t,vt-1):rt.ShapeUtil.sizeFromDimension(bt,vt-1),Pt=lt(mt,wt?$t:gt,yt,jt,Dt);return wt?(0,st.transpose)(mt,Pt,Ct):Pt};const lt=(mt,gt,yt,bt,xt)=>{const vt=at(mt,gt[0],bt,xt,[bt]),wt=mt.run(Object.assign(Object.assign({},ut),{cacheHint:yt.cacheKey,get:()=>vt}),gt),_t=ct(mt,gt[0],bt,xt,vt.output.dims,[bt]),Ct=mt.run(Object.assign(Object.assign({},ft),{cacheHint:yt.cacheKey,get:()=>_t}),[gt[0],wt]),Et=ht(mt,gt[0],bt,xt,vt.output.dims,_t.output.dims);return[mt.run(Object.assign(Object.assign({},dt),{cacheHint:yt.cacheKey,get:()=>Et}),[gt[0],wt,Ct])]},at=(mt,gt,yt,bt,xt)=>{const[vt,wt]=mt.calculateTextureWidthAndHeight(gt.dims,ot.TextureType.unpacked),_t=xt.length;if(yt<1||bt<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(xt.length!==1)throw new Error("Dimensionality of the output should be 1");if(xt[0]!==yt)throw new Error("Shape of the output should be equal to logical row count");const Ct=(0,it.getGlsl)(mt.session.backend.glContext.version),Et=`
      float process(int[${_t}] indices) {
        int logical_row_start_offset = indices[0] * ${bt};

        float max = getColorAsFloat(${Ct.texture2D}(A, offsetToCoords(logical_row_start_offset, ${vt},
        ${wt} )));
        for(int i=1; i<${bt}; ++i)
        {
          float current = getColorAsFloat(${Ct.texture2D}(A, offsetToCoords(logical_row_start_offset + i,
            ${vt}, ${wt})));
          if(current > max)
          max = current;
        }

        return max;
      }`;return Object.assign(Object.assign({},ut),{output:{dims:xt,type:gt.type,textureType:ot.TextureType.unpacked},shaderSource:Et})},ct=(mt,gt,yt,bt,xt,vt)=>{const[wt,_t]=mt.calculateTextureWidthAndHeight(gt.dims,ot.TextureType.unpacked),Ct=vt.length;if(yt<1||bt<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(vt.length!==1)throw new Error("Dimensionality of the output should be 1");if(vt[0]!==yt)throw new Error("Shape of the output should be equal to logical row count");if(xt.length!==1)throw new Error("Dimensionality of the intermediate results should be 1");if(xt[0]!==yt)throw new Error("Shape of the intermediate results should be equal to logical row count");const Et=`
      float process(int[${Ct}] indices) {
        int logical_row_start_offset = indices[0] * ${bt};

        float norm_factor = 0.0;
        float max = _Max(indices);
        for(int i=0; i<${bt}; ++i)
        {
          norm_factor += exp(getColorAsFloat(${(0,it.getGlsl)(mt.session.backend.glContext.version).texture2D}(A, offsetToCoords(logical_row_start_offset + i,
            ${wt}, ${_t}))) - max);
        }

        return norm_factor;
      }`;return Object.assign(Object.assign({},ft),{output:{dims:vt,type:gt.type,textureType:ot.TextureType.unpacked},shaderSource:Et})},ht=(mt,gt,yt,bt,xt,vt)=>{const[wt,_t]=mt.calculateTextureWidthAndHeight(gt.dims,ot.TextureType.unpacked),Ct=gt.dims.length;if(yt<1||bt<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(xt.length!==1||vt.length!==1)throw new Error("Dimensionality of the intermediate results should be 1");if(xt[0]!==yt||vt[0]!==yt)throw new Error("Shape of the intermediate results should be equal to logical row count");const Et=`
      float process(int[${Ct}] indices) {

      // get offset of current logical tensor index from the 2-D texture coordinates (TexCoords)
      int offset = coordsToOffset(TexCoords, ${wt}, ${_t});

      //determine the logical row for this index
      int logical_row_index[1];
      logical_row_index[0] = offset / ${bt};

      float norm_factor = _Norm(logical_row_index);

      // avoid possible division by 0
      // if norm_facor is 0, all elements are zero
      // if so, return 0
      if(norm_factor == 0.0)
        return 0.0;

      return exp(_A(indices) - _Max(logical_row_index)) / norm_factor;
    }`;return Object.assign(Object.assign({},dt),{output:{dims:gt.dims,type:gt.type,textureType:ot.TextureType.unpacked},shaderSource:Et})},pt=mt=>{if(!mt||mt.length!==1)throw new Error("Softmax requires 1 input.");if(mt[0].type!=="float32"&&mt[0].type!=="float64")throw new Error("Invalid input type")}},564:(_e,et,tt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.parseSplitAttributes=et.split=void 0;const nt=tt(4910),rt=tt(7273),it=tt(5639),ot={name:"Split",inputNames:["A"],inputTypes:[it.TextureType.unpacked]};et.split=(dt,lt,at)=>{ft(lt);const ct=rt.ShapeUtil.normalizeAxis(at.axis,lt[0].dims.length),ht=st(dt,lt,ct,at),pt=[];for(let mt=0;mt<ht;++mt)pt.push(dt.run(Object.assign(Object.assign({},ot),{cacheHint:`${at.cacheKey};${mt}`,get:()=>ut(dt,lt[0],at,ct,mt)}),lt));return pt},et.parseSplitAttributes=dt=>{const lt=dt.attributes.getInt("axis",0),at=dt.attributes.getInts("split",[]),ct=dt.outputs.length;return(0,nt.createAttributeWithCacheKey)({axis:lt,split:at,numOutputs:ct})};const st=(dt,lt,at,ct)=>{const[,ht]=rt.SplitUtil.splitShape(lt[0].dims,at,ct.split,ct.numOutputs);return ht.length},ut=(dt,lt,at,ct,ht)=>{const[pt,mt]=rt.SplitUtil.splitShape(lt.dims,ct,at.split,at.numOutputs),gt=mt[ht],yt=pt[ht],bt=`
      float process(int indices[${yt.length}]) {
        indices[${ct}] += ${gt};
        return _A(indices);
      }
    `;return Object.assign(Object.assign({},ot),{cacheHint:`${at.cacheKey}:${ht}`,output:{dims:yt,type:lt.type,textureType:it.TextureType.unpacked},shaderSource:bt})},ft=dt=>{if(!dt||dt.length!==1)throw new Error("Split requires one input.");if(dt[0].type!=="int8"&&dt[0].type!=="uint8"&&dt[0].type!=="int16"&&dt[0].type!=="uint16"&&dt[0].type!=="int32"&&dt[0].type!=="uint32"&&dt[0].type!=="float32"&&dt[0].type!=="float64"&&dt[0].type!=="bool")throw new Error("Invalid input type.")}},5416:(_e,et,tt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.parseSqueezeAttributes=et.squeezeV13=et.squeeze=void 0;const nt=tt(7273);et.squeeze=(ot,st,ut)=>{rt(st);const ft=nt.ShapeUtil.squeezeShape(st[0].dims,ut);return[ot.reshapeUnpacked(st[0],ft)]},et.squeezeV13=(ot,st)=>(it(st),(0,et.squeeze)(ot,[st[0]],Array.from(st[1].integerData))),et.parseSqueezeAttributes=ot=>ot.attributes.getInts("axes");const rt=ot=>{if(!ot||ot.length!==1)throw new Error("Squeeze requires 1 input.");if(ot[0].type==="string")throw new Error("invalid input tensor types.")},it=ot=>{if(!ot||ot.length!==2)throw new Error("Squeeze requires 2 inputs.");if(ot[1].type!=="int32")throw new Error("Invalid input type.")}},1240:(_e,et,tt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.sum=void 0;const nt=tt(6757),rt=tt(5639);et.sum=(st,ut)=>{ot(ut);const ft={name:"Sum",inputNames:ut.map((dt,lt)=>`X${lt}`),inputTypes:new Array(ut.length).fill(rt.TextureType.unpacked)};return[st.run(Object.assign(Object.assign({},ft),{get:()=>it(st,ut,ft)}),ut)]};const it=(st,ut,ft)=>{const dt=(0,nt.getGlsl)(st.session.backend.glContext.version),lt=ut[0].dims.slice(),at=`
      void main() {
        vec4 result = ${ut.map((ct,ht)=>`${dt.texture2D}(X${ht},TexCoords)`).join(" + ")};
        ${dt.output} = result;
      }
    `;return Object.assign(Object.assign({},ft),{output:{dims:lt,type:ut[0].type,textureType:rt.TextureType.unpacked},hasMain:!0,shaderSource:at})},ot=st=>{if(!st||st.length===0)throw new Error("Sum requires inputs.");const ut=st[0].dims.length;for(let ft=1;ft<st.length;ft++){if(ut!==st[ft].dims.length)throw new Error("Input shapes are mismatched.");for(let dt=0;dt<ut;dt++)if(st[0].dims[dt]!==st[ft].dims[dt])throw new Error("Input shapes are not matched.")}if(st[0].type!=="float32"&&st[0].type!=="float64")throw new Error("Invalid input type.");for(let ft=1;ft<st.length;ft++)if(st[0].type!==st[ft].type)throw new Error("Input types are not matched.")}},5944:(_e,et,tt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.tile=void 0;const nt=tt(6145),rt=tt(5639);et.tile=(st,ut)=>{ot(ut);const ft={name:"Tile",inputNames:["A"],inputTypes:[rt.TextureType.unpacked]};return[st.run(Object.assign(Object.assign({},ft),{get:()=>it(st,ut,ft)}),ut)]};const it=(st,ut,ft)=>{const dt=ut[0].dims.slice(),lt=new Array(dt.length),at=[];for(let pt=0;pt<dt.length;pt++)lt[pt]=dt[pt]*ut[1].numberData[pt],at.push(`inputIdx[${pt}] = int(mod(float(outputIdx[${pt}]), ${dt[pt]}.));`);const ct=lt.length,ht=`
      float process(int outputIdx[${ct}]) {
        int inputIdx[${ct}];
        ${at.join(`
`)}
        return _A(inputIdx);
      }
    `;return Object.assign(Object.assign({},ft),{output:{dims:lt,type:ut[0].type,textureType:rt.TextureType.unpacked},shaderSource:ht})},ot=st=>{if(!st||st.length!==2)throw new Error("Tile requires 2 input.");if(st[1].dims.length!==1)throw new Error("The second input shape must 1 dimension.");if(st[1].dims[0]!==st[0].dims.length)throw new Error("Invalid input shape.");if(nt.NUMBER_TYPES.indexOf(st[0].type)===-1)throw new Error("Invalid input type.");if(st[1].type!=="int32"&&st[1].type!=="int16")throw new Error("Invalid repeat type.")}},5707:(_e,et,tt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.parseTransposeAttributes=et.transpose=void 0;const nt=tt(4910),rt=tt(7273),it=tt(5639),ot={name:"Transpose",inputNames:["A"],inputTypes:[it.TextureType.unpacked]};et.transpose=(at,ct,ht)=>(lt(ct),[at.run(Object.assign(Object.assign({},ot),{cacheHint:ht.cacheKey,get:()=>st(at,ct[0],ht.perm)}),ct)]),et.parseTransposeAttributes=at=>(0,nt.createAttributeWithCacheKey)({perm:at.attributes.getInts("perm",[])});const st=(at,ct,ht)=>{const pt=ct.dims;ht=ut(pt,ht);const mt=ft(pt,ht),gt=pt.length,yt=`
      ${dt("perm",ht,gt)}
      float process(int indices[${gt}]) {
        int a[${gt}];
        perm(a, indices);
        return _A(a);
      }`;return Object.assign(Object.assign({},ot),{output:{dims:mt,type:ct.type,textureType:it.TextureType.unpacked},shaderSource:yt})},ut=(at,ct)=>(ct&&ct.length!==at.length&&(ct=[...at.keys()].reverse()),ct),ft=(at,ct)=>(ct=ut(at,ct),rt.ShapeUtil.sortBasedOnPerm(at,ct)),dt=(at,ct,ht)=>{const pt=[];pt.push(`void ${at}(out int a[${ht}], int src[${ht}]) {`);for(let mt=0;mt<ht;++mt)pt.push(`	a[${ct[mt]}]=src[${mt}];`);return pt.push("	}"),pt.join(`
`)},lt=at=>{if(!at||at.length!==1)throw new Error("Transpose requires 1 input.");if(at[0].type!=="float32"&&at[0].type!=="float64")throw new Error("input should be float tensor")}},2488:(_e,et,tt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.encodeAsUint8=void 0;const nt=tt(6757),rt=tt(5639);et.encodeAsUint8=(it,ot)=>{const st=ot.shape,ut=(0,nt.getGlsl)(it.session.backend.glContext.version),ft=`
    const float FLOAT_MAX = 1.70141184e38;
    const float FLOAT_MIN = 1.17549435e-38;

    bool isNaN(float val) {
      return (val < 1.0 || 0.0 < val || val == 0.0) ? false : true;
    }

    highp vec4 encodeAsUint8(highp float v) {
      if (isNaN(v)) {
        return vec4(255, 255, 255, 255);
      }

      highp float av = abs(v);

      if(av < FLOAT_MIN) {
        return vec4(0.0, 0.0, 0.0, 0.0);
      } else if(v > FLOAT_MAX) {
        return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;
      } else if(v < -FLOAT_MAX) {
        return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;
      }

      highp vec4 c = vec4(0,0,0,0);

      highp float e = floor(log2(av));
      highp float m = exp2(fract(log2(av))) - 1.0;

      c[2] = floor(128.0 * m);
      m -= c[2] / 128.0;
      c[1] = floor(32768.0 * m);
      m -= c[1] / 32768.0;
      c[0] = floor(8388608.0 * m);

      highp float ebias = e + 127.0;
      c[3] = floor(ebias / 2.0);
      ebias -= c[3] * 2.0;
      c[2] += floor(ebias) * 128.0;

      c[3] += 128.0 * step(0.0, -v);

      return c / 255.0;
    }

    void main() {
      float value = ${ut.texture2D}(X,TexCoords).r;
      ${ut.output} = encodeAsUint8(value);
    }`,dt={name:"Uint8Encode",inputTypes:[rt.TextureType.unpacked],inputNames:["X"],output:{dims:st,type:ot.tensor.type,textureType:rt.TextureType.downloadUint8AsFloat},shaderSource:ft,hasMain:!0};return it.executeProgram(dt,[ot.tensor])}},9087:(_e,et,tt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.tanh=et.tan=et.sqrt=et.sin=et.sigmoid=et.relu=et.not=et.neg=et.log=et.parseLeakyReluAttributes=et.leakyRelu=et.identity=et.floor=et.exp=et.parseEluAttributes=et.elu=et.cos=et.ceil=et.clipV11=et.parseClipAttributes=et.clip=et.atan=et.asin=et.acos=et.abs=et.glslTanh=et.glslTan=et.glslSqrt=et.glslSigmoid=et.glslRelu=et.glslSin=et.glslNot=et.glslNeg=et.glslLog=et.glslLeakyRelu=et.glslIdentity=et.glslClip=et.glslFloor=et.glslExp=et.glslElu=et.glslCos=et.glslCeil=et.glslAtan=et.glslAsin=et.glslAcos=et.glslAbs=void 0;const nt=tt(4910),rt=tt(7273),it=tt(1997),ot=tt(6757),st=tt(5639);function ut(){return Pt("abs")}function ft(){return Pt("acos")}function dt(){return Pt("asin")}function lt(){return Pt("atan")}function at(){return Pt("ceil")}function ct(){return Pt("cos")}function ht(Tt){const St="elu";return{body:`
  const float alpha = float(${Tt});

  float ${St}_(float a) {
    return a >= 0.0 ? a: (exp(a) - 1.0) * alpha;
  }
  vec4 ${St}_(vec4 v) {
    return vec4(${St}_(v.x), ${St}_(v.y), ${St}_(v.z), ${St}_(v.w));
  }
  `,name:St,type:it.FunctionType.ValueBased}}function pt(){return Pt("exp")}function mt(){return Pt("floor")}function gt(Tt,St){const Rt="clip";return{body:`
  const float min = float(${Tt});
  const float max = float(${St});

  float ${Rt}_(float a) {
    return clamp(a, min, max);
  }
  vec4 ${Rt}_(vec4 v) {
    return clamp(v, min, max);
  }
  `,name:Rt,type:it.FunctionType.ValueBased}}function yt(){const Tt="indentity";return{body:`
  float ${Tt}_(float a) {
    return a;
  }
  vec4 ${Tt}_(vec4 v) {
    return v;
  }
  `,name:Tt,type:it.FunctionType.ValueBased}}function bt(Tt){const St="leakyRelu";return{body:`
  const float alpha = float(${Tt});

  float ${St}_(float a) {
    return a < 0.0 ? a * alpha : a;
  }
  vec4 ${St}_(vec4 v) {
    return vec4(${St}_(v.x), ${St}_(v.y), ${St}_(v.z), ${St}_(v.w));
  }
  `,name:St,type:it.FunctionType.ValueBased}}function xt(){return Pt("log")}function vt(){const Tt="neg";return{body:`
  float ${Tt}_(float a) {
    return -a;
  }
  vec4 ${Tt}_(vec4 v) {
    return -v;
  }
  `,name:Tt,type:it.FunctionType.ValueBased}}function wt(){const Tt="not";return{body:`
  float ${Tt}_(float a) {
    return float( ! bool(a) );
  }
  bool ${Tt}_(bool a) {
    return !a;
  }
  vec4 ${Tt}_(vec4 v) {
    return vec4(!bool(v.x), !bool(v.y), !bool(v.z), !bool(v.w));
  }
  bvec4 ${Tt}_(bvec4 v) {
    return bvec4(!v.x, !v.y, !v.z, !v.w);
  }
  `,name:Tt,type:it.FunctionType.ValueBased}}function _t(){return Pt("sin")}function Ct(){const Tt="relu";return{body:`
  float ${Tt}_(float a) {
    return max( a, 0.0 );
  }
  vec4 ${Tt}_(vec4 v) {
    return max( v, 0.0 );
  }
  `,name:Tt,type:it.FunctionType.ValueBased}}function Et(){const Tt="sigmoid";return{body:`
  float ${Tt}_(float a) {
    return 1.0 / (1.0 + exp(-a));
  }
  vec4 ${Tt}_(vec4 v) {
    return 1.0 / (1.0 + exp(-v));
  }
  `,name:Tt,type:it.FunctionType.ValueBased}}function $t(){return Pt("sqrt")}function jt(){return Pt("tan")}function Dt(){const Tt="tanh";return{body:`
  float ${Tt}_(float a) {
    a = clamp(a, -10., 10.);
    a = exp(2.*a);
    return (a - 1.) / (a + 1.);
  }
  vec4 ${Tt}_(vec4 v) {
    v = clamp(v, -10., 10.);
    v = exp(2.*v);
    return (v - 1.) / (v + 1.);
  }
  `,name:Tt,type:it.FunctionType.ValueBased}}function Pt(Tt){return{body:`
  float ${Tt}_(float a) {
    return ${Tt}(a);
  }
  vec4 ${Tt}_(vec4 v) {
    return ${Tt}(v);
  }
  `,name:Tt,type:it.FunctionType.ValueBased}}et.glslAbs=ut,et.glslAcos=ft,et.glslAsin=dt,et.glslAtan=lt,et.glslCeil=at,et.glslCos=ct,et.glslElu=ht,et.glslExp=pt,et.glslFloor=mt,et.glslClip=gt,et.glslIdentity=yt,et.glslLeakyRelu=bt,et.glslLog=xt,et.glslNeg=vt,et.glslNot=wt,et.glslSin=_t,et.glslRelu=Ct,et.glslSigmoid=Et,et.glslSqrt=$t,et.glslTan=jt,et.glslTanh=Dt;const kt=(Tt,St,Rt,Ot)=>{const Nt=Tt.session.pack?st.TextureType.packed:st.TextureType.unpacked,It={name:Rt.name,inputTypes:[Nt],inputNames:["A"],cacheHint:Ot};return Object.assign(Object.assign({},It),{get:()=>((Bt,zt,Gt,Kt)=>{const fn=Bt.session.pack?st.TextureType.packed:st.TextureType.unpacked,dn=(0,ot.getGlsl)(Bt.session.backend.glContext.version);return Object.assign(Object.assign({},zt),{output:{dims:Gt.dims,type:Gt.type,textureType:fn},shaderSource:`
     ${Kt.body}
     void main() {
       vec4 v = ${dn.texture2D}(A, TexCoords);
       v = ${Kt.name}_(v);
       ${dn.output} = v;
     }
     `,hasMain:!0})})(Tt,It,St,Rt)})};et.abs=(Tt,St)=>[Tt.run(kt(Tt,St[0],ut()),St)],et.acos=(Tt,St)=>[Tt.run(kt(Tt,St[0],ft()),St)],et.asin=(Tt,St)=>[Tt.run(kt(Tt,St[0],dt()),St)],et.atan=(Tt,St)=>[Tt.run(kt(Tt,St[0],lt()),St)],et.clip=(Tt,St,Rt)=>[Tt.run(kt(Tt,St[0],gt(Rt.min,Rt.max),Rt.cacheKey),St)],et.parseClipAttributes=Tt=>(0,nt.createAttributeWithCacheKey)({min:Tt.attributes.getFloat("min",rt.MIN_CLIP),max:Tt.attributes.getFloat("max",rt.MAX_CLIP)}),et.clipV11=(Tt,St)=>{const Rt=At(Tt,St);return(0,et.clip)(Tt,[St[0]],Rt)};const At=(Tt,St)=>{if(St.length>=3&&(!Tt.session.isInitializer(St[1].dataId)||!Tt.session.isInitializer(St[2].dataId)))throw new Error("dynamic clip attributes are not allowed");const Rt=St.length>=3?St[1].numberData[0]:rt.MIN_CLIP,Ot=St.length>=3?St[2].numberData[0]:rt.MAX_CLIP;return(0,nt.createAttributeWithCacheKey)({min:Rt,max:Ot})};et.ceil=(Tt,St)=>[Tt.run(kt(Tt,St[0],at()),St)],et.cos=(Tt,St)=>[Tt.run(kt(Tt,St[0],ct()),St)],et.elu=(Tt,St,Rt)=>[Tt.run(kt(Tt,St[0],ht(Rt.alpha),Rt.cacheKey),St)],et.parseEluAttributes=Tt=>(0,nt.createAttributeWithCacheKey)({alpha:Tt.attributes.getFloat("alpha",1)}),et.exp=(Tt,St)=>[Tt.run(kt(Tt,St[0],pt()),St)],et.floor=(Tt,St)=>[Tt.run(kt(Tt,St[0],mt()),St)],et.identity=(Tt,St)=>[Tt.run(kt(Tt,St[0],yt()),St)],et.leakyRelu=(Tt,St,Rt)=>[Tt.run(kt(Tt,St[0],bt(Rt.alpha),Rt.cacheKey),St)],et.parseLeakyReluAttributes=Tt=>(0,nt.createAttributeWithCacheKey)({alpha:Tt.attributes.getFloat("alpha",.01)}),et.log=(Tt,St)=>[Tt.run(kt(Tt,St[0],xt()),St)],et.neg=(Tt,St)=>[Tt.run(kt(Tt,St[0],vt()),St)],et.not=(Tt,St)=>[Tt.run(kt(Tt,St[0],wt()),St)],et.relu=(Tt,St)=>[Tt.run(kt(Tt,St[0],Ct()),St)],et.sigmoid=(Tt,St)=>[Tt.run(kt(Tt,St[0],Et()),St)],et.sin=(Tt,St)=>[Tt.run(kt(Tt,St[0],_t()),St)],et.sqrt=(Tt,St)=>[Tt.run(kt(Tt,St[0],$t()),St)],et.tan=(Tt,St)=>[Tt.run(kt(Tt,St[0],jt()),St)],et.tanh=(Tt,St)=>[Tt.run(kt(Tt,St[0],Dt()),St)]},540:(_e,et,tt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.createUnpackProgramInfoLoader=et.createUnpackProgramInfo=void 0;const nt=tt(6757),rt=tt(5639),it=tt(432),ot=tt(5614),st={name:"unpack",inputNames:["A"],inputTypes:[rt.TextureType.packed]};et.createUnpackProgramInfo=(ut,ft)=>{const dt=ft.dims.length,lt=(0,ot.getChannels)("rc",dt),at=lt.slice(-2),ct=(0,it.getCoordsDataType)(dt),ht=(0,ot.unpackFromChannel)(),pt=ft.dims.length===0?"":function(yt,bt){if(yt===1)return"rc";let xt="";for(let vt=0;vt<yt;vt++)xt+=bt[vt],vt<yt-1&&(xt+=",");return xt}(dt,lt),mt=dt<=1?"rc":`vec2(${at.join(",")})`,gt=`
    ${ht}
    void main() {
      ${ct} rc = getOutputCoords();

       // Sample the texture with the coords to get the rgba channel value.
       vec4 packedInput = getA(${pt});

       ${(0,nt.getGlsl)(ut.session.backend.glContext.version).output} = vec4(getChannel(packedInput, ${mt}), 0, 0, 0);
     }
   `;return Object.assign(Object.assign({},st),{hasMain:!0,output:{dims:ft.dims,type:ft.type,textureType:rt.TextureType.unpacked},shaderSource:gt})},et.createUnpackProgramInfoLoader=(ut,ft)=>Object.assign(Object.assign({},st),{get:()=>(0,et.createUnpackProgramInfo)(ut,ft)})},7862:(_e,et,tt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.parseUnsqueezeAttributes=et.unsqueezeV13=et.unsqueeze=void 0;const nt=tt(7273);et.unsqueeze=(ot,st,ut)=>{rt(st);const ft=nt.ShapeUtil.unsqueezeShape(st[0].dims,ut);return[ot.reshapeUnpacked(st[0],ft)]},et.unsqueezeV13=(ot,st)=>(it(st),(0,et.unsqueeze)(ot,[st[0]],Array.from(st[1].integerData))),et.parseUnsqueezeAttributes=ot=>ot.attributes.getInts("axes");const rt=ot=>{if(!ot||ot.length!==1)throw new Error("Unsqueeze requires 1 input.");if(ot[0].type==="string")throw new Error("invalid input tensor types.")},it=ot=>{if(!ot||ot.length!==2)throw new Error("Unsqueeze requires 2 inputs.");if(ot[1].type!=="int32")throw new Error("Invalid input type.")}},3980:(_e,et,tt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.scalesValidation=et.validateInputs=et.parseUpsampleAttributes=et.parseUpsampleAttributesV9=et.parseUpsampleAttributesV7=et.upsample=void 0;const nt=tt(4910),rt=tt(6757),it=tt(5639),ot={name:"Upsample",inputNames:["X"],inputTypes:[it.TextureType.unpacked]};et.upsample=(ut,ft,dt)=>((0,et.validateInputs)(ft,dt),[ut.run(Object.assign(Object.assign({},ot),{cacheHint:dt.cacheKey,get:()=>st(ut,ft,dt)}),ft)]),et.parseUpsampleAttributesV7=ut=>(0,et.parseUpsampleAttributes)(ut,7),et.parseUpsampleAttributesV9=ut=>(0,et.parseUpsampleAttributes)(ut,9),et.parseUpsampleAttributes=(ut,ft)=>{const dt=ft>=10,lt=ut.attributes.getString("mode","nearest");if(lt!=="nearest"&&lt!=="linear"&&(ft<11||lt!=="cubic"))throw new Error(`unrecognized mode: ${lt}`);let at=[];ft<9&&(at=ut.attributes.getFloats("scales"),(0,et.scalesValidation)(at,lt,dt));const ct=ut.attributes.getFloat("extrapolation_value",0),ht=ft>10?ut.attributes.getString("coordinate_transformation_mode","half_pixel"):"asymmetric";if(["asymmetric","pytorch_half_pixel","tf_half_pixel_for_nn","align_corners","tf_crop_and_resize","half_pixel"].indexOf(ht)===-1)throw new Error(`coordinate_transform_mode '${ht}' is not supported`);const pt=ht==="tf_crop_and_resize",mt=pt,gt=lt==="nearest"&&ft>=11?ut.attributes.getString("nearest_mode","round_prefer_floor"):"";if(["round_prefer_floor","round_prefer_ceil","floor","ceil",""].indexOf(gt)===-1)throw new Error(`nearest_mode '${gt}' is not supported`);const yt=ut.attributes.getFloat("cubic_coeff_a",-.75),bt=ut.attributes.getInt("exclude_outside",0)!==0;if(bt&&lt!=="cubic")throw new Error("exclude_outside can be set to 1 only when mode is CUBIC.");const xt=ft<11||lt==="nearest"&&ht==="asymmetric"&&gt==="floor";let vt=0,wt=0,_t=0;return ft>10?ut.inputs.length>2?(vt=1,wt=2,_t=3):(wt=1,_t=2):ft===9&&(wt=1),(0,nt.createAttributeWithCacheKey)({opset:ft,isResize:dt,mode:lt,scales:at,extrapolationValue:ct,coordinateTransformMode:ht,useExtrapolation:mt,needRoiInput:pt,nearestMode:gt,cubicCoefficientA:yt,excludeOutside:bt,useNearest2xOptimization:xt,roiInputIdx:vt,scalesInputIdx:wt,sizesInputIdx:_t})};const st=(ut,ft,dt)=>{const lt=(0,rt.getGlsl)(ut.session.backend.glContext.version),[at,ct]=ut.calculateTextureWidthAndHeight(ft[0].dims,it.TextureType.unpacked),ht=ft[0].dims.map((_t,Ct)=>Math.floor(_t*dt.scales[Ct])),[pt,mt]=ut.calculateTextureWidthAndHeight(ht,it.TextureType.unpacked),gt=ht.length,yt=new Array(gt),bt=new Array(gt);let xt=`
      int output_pitches[${gt}];
      int input_pitches[${gt}];
      `;for(let _t=gt-1;_t>=0;_t--)yt[_t]=_t===gt-1?1:yt[_t+1]*ht[_t+1],bt[_t]=_t===gt-1?1:bt[_t+1]*ft[0].dims[_t+1],xt+=`
        output_pitches[${_t}] = ${yt[_t]};
        input_pitches[${_t}] = ${bt[_t]};
        `;const vt=`
      float getInputFloat(int index) {
        vec2 coords = offsetToCoords(index, ${at}, ${ct});
        float value = getColorAsFloat(${lt.texture2D}(X, coords));
        return value;
      }
      `,wt=dt.mode==="nearest"?`
    ${vt}
    float process(int indices[${gt}]) {
      int input_index = 0;
      int output_index = coordsToOffset(TexCoords, ${pt}, ${mt});

      ${xt}

      int d, m;
      for (int dim = 0; dim < ${gt}; ++dim) {
        d = output_index / output_pitches[dim];
        m = output_index - d * output_pitches[dim];
        output_index = m;

        if (scales[dim] != 1 && d > 0) {
          int d2 = d / scales[dim];
          m = d - d2 * scales[dim];
          d = d2;
        }
        input_index += input_pitches[dim] * d;
      }

      return getInputFloat(input_index);
    }`:gt===4?`
    ${vt}
    float process(int indices[4]) {
      int input_index = 0;
      int output_index = coordsToOffset(TexCoords, ${pt}, ${mt});

      ${xt}

      int m;
      int index_of_dim0, index_of_dim1, index_of_dim2, index_of_dim3;
      index_of_dim0 = output_index / output_pitches[0];
      m = output_index - index_of_dim0 * output_pitches[0];
      index_of_dim1 = m / output_pitches[1];
      m = m - index_of_dim1 * output_pitches[1];
      index_of_dim2 = m / output_pitches[2];
      m = m - index_of_dim2 * output_pitches[2];
      index_of_dim3 = m;

      int index_of_input_dim2, index_of_input_dim3, x_offset, y_offset;
      index_of_input_dim2 = index_of_dim2 / scales[2];
      y_offset = index_of_dim2 - index_of_input_dim2 * scales[2];
      index_of_input_dim3 = index_of_dim3 / scales[3];
      x_offset = index_of_dim3 - index_of_input_dim3 * scales[3];

      input_index = index_of_dim0 * input_pitches[0] +
            index_of_dim1 * input_pitches[1] +
            index_of_input_dim2 * input_pitches[2] +
            index_of_input_dim3;

      float x00 = getInputFloat(input_index);
      float x10, x01, x11;

      bool end_of_dim2 = false;
      if (index_of_input_dim2 == (${ft[0].dims[2]} - 1)) {
        // It's the end in dimension 2
        x01 = x00;
        end_of_dim2 = true;
      } else {
        x01 = getInputFloat(input_index + input_pitches[2]);
      }

      if (index_of_input_dim3 == (input_pitches[2] - 1)) {
        // It's the end in dimension 3
        x10 = x00;
        x11 = x01;
      }
      else {
        x10 = getInputFloat(input_index + 1);
        x11 = end_of_dim2 ? x10 : getInputFloat(input_index + input_pitches[2] + 1);
      }

      float y0 = x00 + float(y_offset) * (x01 - x00) / float(scales[2]);
      float y1 = x10 + float(y_offset) * (x11 - x10) / float(scales[2]);
      return y0 + float(x_offset) * (y1 - y0) / float(scales[3]);
    }`:`
    ${vt}
    float process(int indices[2]) {
      int input_index = 0;
      int output_index = coordsToOffset(TexCoords, ${pt}, ${mt});

      ${xt}

      int m;
      int index_of_dim0, index_of_dim1;
      index_of_dim0 = output_index / output_pitches[0];
      m = output_index - index_of_dim0 * output_pitches[0];
      index_of_dim1 = m;

      int index_of_input_dim0, index_of_input_dim1, x_offset, y_offset;
      index_of_input_dim0 = index_of_dim0 / scales[0];
      y_offset = index_of_dim0 - index_of_input_dim0 * scales[0];
      index_of_input_dim1 = index_of_dim1 / scales[1];
      x_offset = index_of_dim1 - index_of_input_dim1 * scales[1];

      input_index = index_of_input_dim0 * input_pitches[0] + index_of_input_dim1;

      float x00 = getInputFloat(input_index);
      float x10, x01, x11;

      bool end_of_dim0 = false;
      if (index_of_input_dim0 == (${ft[0].dims[0]} - 1)) {
        // It's the end in dimension 0
        x01 = x00;
        end_of_dim0 = true;
      } else {
        x01 = getInputFloat(input_index + input_pitches[0]);
      }

      if (index_of_input_dim1 == (input_pitches[0] - 1)) {
        // It's the end in dimension 1
        x10 = x00;
        x11 = x01;
      }
      else {
        x10 = getInputFloat(input_index + 1);
        x11 = end_of_dim0 ? x10 : getInputFloat(input_index + input_pitches[0] + 1);
      }

      float y0 = x00 + float(y_offset) * (x01 - x00) / float(scales[0]);
      float y1 = x10 + float(y_offset) * (x11 - x10) / float(scales[0]);
      return y0 + float(x_offset) * (y1 - y0) / float(scales[1]);
    }`;return Object.assign(Object.assign({},ot),{output:{dims:ht,type:ft[0].type,textureType:it.TextureType.unpacked},shaderSource:wt,variables:[{name:"scales",type:"int",arrayLength:dt.scales.length,data:dt.scales.map(_t=>Math.ceil(_t))}]})};et.validateInputs=(ut,ft)=>{if(!ut||ft.opset<9&&ut.length!==1||ft.opset>=9&&ft.opset<11&&ut.length!==2||ft.opset>=11&&ut.length<2)throw new Error("invalid inputs.");if(ft.scales.length>0&&ut[0].dims.length!==ft.scales.length)throw new Error("Invalid input shape.");if(ut[0].type==="string")throw new Error("Invalid input tensor types.")},et.scalesValidation=(ut,ft,dt)=>{if(dt){for(const lt of ut)if(lt<=0)throw new Error("Scale value should be greater than 0.")}else for(const lt of ut)if(lt<1)throw new Error("Scale value should be greater than or equal to 1.");if(!(ft!=="linear"&&ft!=="cubic"||ut.length===2||ut.length===4&&ut[0]===1&&ut[1]===1))throw new Error(`'Linear' mode and 'Cubic' mode only support 2-D inputs ('Bilinear', 'Bicubic')         or 4-D inputs with the corresponding outermost 2 scale values being 1         in the ${dt?"Resize":"Upsample"} opeartor.`)}},2757:(_e,et,tt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.ProgramManager=void 0;const nt=tt(8453),rt=tt(1315),it=tt(8897),ot=tt(6757);et.ProgramManager=class{constructor(st,ut,ft){this.profiler=st,this.glContext=ut,this.textureLayoutStrategy=ft,this.repo=new Map,this.attributesBound=!1}getArtifact(st){return this.repo.get(st)}setArtifact(st,ut){this.repo.set(st,ut)}run(st,ut,ft){var dt;this.profiler.event("op",`ProgramManager.run ${(dt=st.programInfo.name)!==null&&dt!==void 0?dt:"unknown kernel"}`,()=>{var lt;const at=this.glContext.gl,ct=st.program;at.useProgram(ct);try{this.bindOutput(ft),this.attributesBound||this.bindAttributes(st.attribLocations),this.bindUniforms(st.uniformLocations,(lt=st.programInfo.variables)!==null&&lt!==void 0?lt:[],ut)}catch(ht){throw rt.Logger.error("ProgramManager",st.programInfo.shaderSource),ht}this.profiler.event("backend","GlContext.draw()",()=>{this.glContext.draw()})},this.glContext)}dispose(){this.vertexShader&&this.glContext.deleteShader(this.vertexShader),this.repo.forEach(st=>this.glContext.deleteProgram(st.program))}build(st,ut,ft){return this.profiler.event("backend","ProgramManager.build",()=>{const dt=new it.GlslPreprocessor(this.glContext,st,ut,ft),lt=dt.preprocess(),at=this.compile(lt);return{programInfo:st,program:at,uniformLocations:this.getUniformLocations(at,dt.context.programInfo.inputNames,dt.context.programInfo.variables),attribLocations:this.getAttribLocations(at)}})}compile(st){if(!this.vertexShader){rt.Logger.verbose("ProrgramManager","Compiling and caching Vertex shader for the first time");const dt=(0,ot.getVertexShaderSource)(this.glContext.version);this.vertexShader=this.glContext.compileShader(dt,this.glContext.gl.VERTEX_SHADER)}nt.env.debug&&rt.Logger.verbose("ProrgramManager",`FragShader:
${st}
`);const ut=this.glContext.compileShader(st,this.glContext.gl.FRAGMENT_SHADER),ft=this.glContext.createProgram(this.vertexShader,ut);return this.glContext.deleteShader(ut),ft}bindOutput(st){const ut=st.width,ft=st.height;rt.Logger.verbose("ProrgramManager",`Binding output texture to Framebuffer: w/h=${ut}/${ft}, shape=${st.shape}, type=${st.tensor.type}`),this.glContext.attachFramebuffer(st.texture,ut,ft)}bindAttributes(st){const ut=st.position,ft=st.textureCoord;this.glContext.setVertexAttributes(ut,ft),this.attributesBound=!0}bindUniforms(st,ut,ft){var dt;const lt=this.glContext.gl;let at=0;for(const{name:ct,type:ht,location:pt,arrayLength:mt}of st){const gt=(dt=ut.find(yt=>yt.name===ct))===null||dt===void 0?void 0:dt.data;if(ht!=="sampler2D"&&!gt)throw new Error(`variable '${ct}' does not have data defined in program info`);switch(ht){case"sampler2D":this.bindTexture(ft[at],pt,at),at++;break;case"float":mt?lt.uniform1fv(pt,gt):lt.uniform1f(pt,gt);break;case"int":mt?lt.uniform1iv(pt,gt):lt.uniform1i(pt,gt);break;default:throw new Error(`Uniform not implemented: ${ht}`)}}}bindTexture(st,ut,ft){this.glContext.bindTextureToUniform(st.texture,ft,ut)}getAttribLocations(st){return{position:this.getAttribLocation(st,"position"),textureCoord:this.getAttribLocation(st,"textureCoord")}}getUniformLocations(st,ut,ft){const dt=[];if(ut)for(const lt of ut)dt.push({name:lt,type:"sampler2D",location:this.getUniformLocation(st,lt)});if(ft)for(const lt of ft)dt.push(Object.assign(Object.assign({},lt),{location:this.getUniformLocation(st,lt.name)}));return dt}getUniformLocation(st,ut){const ft=this.glContext.gl.getUniformLocation(st,ut);if(ft===null)throw new Error(`Uniform ${ut} not found.`);return ft}getAttribLocation(st,ut){return this.glContext.gl.getAttribLocation(st,ut)}}},2171:(_e,et,tt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.WebGLSessionHandler=void 0;const nt=tt(1315),rt=tt(5881),it=tt(7860),ot=tt(4110),st=tt(2757),ut=tt(7618),ft=tt(5243);et.WebGLSessionHandler=class{constructor(dt,lt){this.backend=dt,this.context=lt,this.layoutStrategy=new ut.PreferLogicalStrategy(dt.glContext.maxTextureSize),this.programManager=new st.ProgramManager(this.context.profiler,dt.glContext,this.layoutStrategy),this.textureManager=new ft.TextureManager(dt.glContext,this.layoutStrategy,this.context.profiler,{reuseTextures:dt.textureCacheMode==="full"}),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache=new Map,this.pack=dt.pack,this.pack2unpackMap=new Map,this.unpack2packMap=new Map}createInferenceHandler(){return new it.WebGLInferenceHandler(this)}onGraphInitialized(dt){const lt=dt.getValues().filter(at=>at.from===-1&&at.tensor).map(at=>at.tensor.dataId);this.initializers=new Set(lt)}isInitializer(dt){return!!this.initializers&&this.initializers.has(dt)}addInitializer(dt){this.initializers.add(dt)}getTextureData(dt,lt){return lt?this.packedTextureDataCache.get(dt):this.unpackedTextureDataCache.get(dt)}setTextureData(dt,lt,at=!1){nt.Logger.verbose("WebGLSessionHandler","Storing Texture data in cache"),at?this.packedTextureDataCache.set(dt,lt):this.unpackedTextureDataCache.set(dt,lt)}dispose(){this.programManager.dispose(),this.textureManager.clearActiveTextures(),this.packedTextureDataCache.forEach(dt=>this.textureManager.releaseTexture(dt,!0)),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache.forEach(dt=>this.textureManager.releaseTexture(dt,!0)),this.unpackedTextureDataCache=new Map}resolve(dt,lt,at){const ct=(0,rt.resolveOperator)(dt,lt,ot.WEBGL_OP_RESOLVE_RULES);return{impl:ct.opImpl,context:ct.opInit?ct.opInit(dt,at):dt}}}},9622:(_e,et,tt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.Uint8DataEncoder=et.RGBAFloatDataEncoder=et.RedFloat32DataEncoder=void 0;const nt=tt(1315);et.RedFloat32DataEncoder=class{constructor(rt,it=1){if(it===1)this.internalFormat=rt.R32F,this.format=rt.RED,this.textureType=rt.FLOAT,this.channelSize=it;else{if(it!==4)throw new Error(`Invalid number of channels: ${it}`);this.internalFormat=rt.RGBA32F,this.format=rt.RGBA,this.textureType=rt.FLOAT,this.channelSize=it}}encode(rt,it){let ot,st;return rt.constructor!==Float32Array&&(nt.Logger.warning("Encoder","data was not of type Float32; creating new Float32Array"),st=new Float32Array(rt)),it*this.channelSize>rt.length?(nt.Logger.warning("Encoder","Source data too small. Allocating larger array"),st=rt,ot=this.allocate(it*this.channelSize),st.forEach((ut,ft)=>ot[ft]=ut)):(st=rt,ot=st),ot}allocate(rt){return new Float32Array(4*rt)}decode(rt,it){return this.channelSize===1?rt.filter((ot,st)=>st%4==0).subarray(0,it):rt.subarray(0,it)}},et.RGBAFloatDataEncoder=class{constructor(rt,it=1,ot){if(it!==1&&it!==4)throw new Error(`Invalid number of channels: ${it}`);this.internalFormat=rt.RGBA,this.format=rt.RGBA,this.channelSize=it,this.textureType=ot||rt.FLOAT}encode(rt,it){let ot=rt;return this.channelSize===1&&(nt.Logger.verbose("Encoder","Exploding into a larger array"),ot=this.allocate(it),rt.forEach((st,ut)=>ot[4*ut]=st)),ot}allocate(rt){return new Float32Array(4*rt)}decode(rt,it){return this.channelSize===1?rt.filter((ot,st)=>st%4==0).subarray(0,it):rt.subarray(0,it)}},et.Uint8DataEncoder=class{constructor(rt,it=1){if(this.channelSize=4,it===1)this.internalFormat=rt.ALPHA,this.format=rt.ALPHA,this.textureType=rt.UNSIGNED_BYTE,this.channelSize=it;else{if(it!==4)throw new Error(`Invalid number of channels: ${it}`);this.internalFormat=rt.RGBA,this.format=rt.RGBA,this.textureType=rt.UNSIGNED_BYTE,this.channelSize=it}}encode(rt,it){return new Uint8Array(rt.buffer,rt.byteOffset,rt.byteLength)}allocate(rt){return new Uint8Array(rt*this.channelSize)}decode(rt,it){if(rt instanceof Uint8Array)return rt.subarray(0,it);throw new Error(`Invalid array type: ${rt.constructor}`)}}},7618:(_e,et,tt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.getBatchDim=et.sizeToSquarishShape=et.getRowsCols=et.sizeFromShape=et.isInt=et.parseAxisParam=et.squeezeShape=et.PreferLogicalStrategy=et.AlwaysKeepOriginalSizeStrategy=void 0;const nt=tt(1315),rt=tt(7273);function it(dt,lt){const at=[],ct=[],ht=lt!=null&&Array.isArray(lt)&&lt.length===0,pt=lt==null||ht?null:ot(lt,dt).sort();let mt=0;for(let gt=0;gt<dt.length;++gt){if(pt!=null){if(pt[mt]===gt&&dt[gt]!==1)throw new Error(`Can't squeeze axis ${gt} since its dim '${dt[gt]}' is not 1`);(pt[mt]==null||pt[mt]>gt)&&dt[gt]===1&&(at.push(dt[gt]),ct.push(gt)),pt[mt]<=gt&&mt++}dt[gt]!==1&&(at.push(dt[gt]),ct.push(gt))}return{newShape:at,keptDims:ct}}function ot(dt,lt){const at=lt.length;return dt=dt==null?lt.map((ct,ht)=>ht):[].concat(dt),(0,rt.assert)(dt.every(ct=>ct>=-at&&ct<at),()=>`All values in axis param must be in range [-${at}, ${at}) but got axis ${dt}`),(0,rt.assert)(dt.every(st),()=>`All values in axis param must be integers but got axis ${dt}`),dt.map(ct=>ct<0?at+ct:ct)}function st(dt){return dt%1==0}function ut(dt){if(dt.length===0)return 1;let lt=dt[0];for(let at=1;at<dt.length;at++)lt*=dt[at];return lt}function ft(dt){const lt=Math.ceil(Math.sqrt(dt));return[lt,Math.ceil(dt/lt)]}et.AlwaysKeepOriginalSizeStrategy=class{constructor(dt){this.maxTextureSize=dt}computeTextureWH(dt,lt){if(dt.length===0)return[1,1];const at=this.maxTextureSize;if(lt&&lt.breakAxis!==void 0){const pt=lt.breakAxis>=dt.length?1:dt.slice(lt.breakAxis).reduce((gt,yt)=>gt*yt),mt=lt.breakAxis<=0?1:dt.slice(0,lt.breakAxis).reduce((gt,yt)=>gt*yt);if(!(pt>at||mt>at))return[pt,mt];nt.Logger.verbose("TextureLayout",`Given width/height preferences were unattainable: shape:${dt}, breakAxis:${lt.breakAxis}`)}const ct=dt.reduce((pt,mt)=>pt*mt);let ht=Math.floor(Math.sqrt(ct));for(;ht<at&&ht<ct&&ct%ht!=0;ht++);if(ht>=at||ct%ht!=0)throw new Error(`The given dimensions are outside this GPU's boundaries: ${dt}`);return[ht,ct/ht]}},et.PreferLogicalStrategy=class{constructor(dt){this.maxTextureSize=dt}computeTextureWH(dt,lt){const at=this.computeTexture(dt,lt);return lt&&lt.isPacked&&(at[0]/=2,at[1]/=2),lt&&lt.reverseWH?[at[1],at[0]]:at}computeTexture(dt,lt){const at=lt&&lt.isPacked;if(dt.length===0)return at?[2,2]:[1,1];let ct=this.maxTextureSize;if(lt&&lt.breakAxis!==void 0){const mt=lt.breakAxis>=dt.length?1:dt.slice(lt.breakAxis).reduce((yt,bt)=>yt*bt),gt=lt.breakAxis<=0?1:dt.slice(0,lt.breakAxis).reduce((yt,bt)=>yt*bt);if(!(mt>ct||gt>ct))return[mt,gt];nt.Logger.verbose("TextureLayout",`Given width/height preferences were unattainable: shape:${dt}, breakAxis:${lt.breakAxis}`)}let ht=dt.slice(0);at&&(ct*=2,ht=ht.map((mt,gt)=>gt>=ht.length-2?ht[gt]%2==0?ht[gt]:ht[gt]+1:ht[gt]),ht.length===1&&(ht=[2,ht[0]])),ht.length!==2&&(ht=it(ht).newShape);const pt=ut(ht);return ht.length<=1&&pt<=ct?[1,pt]:ht.length===2&&ht[0]<=ct&&ht[1]<=ct?ht:ht.length===3&&ht[0]*ht[1]<=ct&&ht[2]<=ct?[ht[0]*ht[1],ht[2]]:ht.length===3&&ht[0]<=ct&&ht[1]*ht[2]<=ct?[ht[0],ht[1]*ht[2]]:ht.length===4&&ht[0]*ht[1]*ht[2]<=ct&&ht[3]<=ct?[ht[0]*ht[1]*ht[2],ht[3]]:ht.length===4&&ht[0]<=ct&&ht[1]*ht[2]*ht[3]<=ct?[ht[0],ht[1]*ht[2]*ht[3]]:at?ft(pt/4).map(mt=>2*mt):ft(pt)}},et.squeezeShape=it,et.parseAxisParam=ot,et.isInt=st,et.sizeFromShape=ut,et.getRowsCols=function(dt){if(dt.length===0)throw Error("Cannot get rows and columns of an empty shape array.");return[dt.length>1?dt[dt.length-2]:1,dt[dt.length-1]]},et.sizeToSquarishShape=ft,et.getBatchDim=function(dt,lt=2){return ut(dt.slice(0,dt.length-lt))}},3314:(_e,et,tt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.createTextureLayoutFromShape=et.calculateTextureWidthAndHeight=et.createTextureLayoutFromTextureType=void 0;const nt=tt(7273),rt=tt(5639);et.createTextureLayoutFromTextureType=(it,ot,st)=>{const ut=st===rt.TextureType.unpacked||st===rt.TextureType.unpackedReversed?1:4,ft=st===rt.TextureType.packed,dt=st===rt.TextureType.unpackedReversed||st===rt.TextureType.packed,lt=st===rt.TextureType.packedLastDimension?ot.length-1:void 0,at=st===rt.TextureType.packedLastDimension?ot.map((ct,ht)=>ht===ot.length-1?4*ct:ct):void 0;return(0,et.createTextureLayoutFromShape)(it,ot,ut,at,{isPacked:ft,reverseWH:dt,breakAxis:lt})},et.calculateTextureWidthAndHeight=(it,ot,st)=>{const ut=(0,et.createTextureLayoutFromTextureType)(it,ot,st);return[ut.width,ut.height]},et.createTextureLayoutFromShape=(it,ot,st=1,ut,ft)=>{const dt=!(!ft||!ft.isPacked),[lt,at]=it.computeTextureWH(dt&&ut||ot,ft),ct=ot.length;let ht=ot.slice(0);if(ct===0&&(ht=[1]),st===1)ut=ot;else if(dt){if(st!==4)throw new Error("a packed texture must be 4-channel");ut=ot,ct>0&&(ht[ct-1]=Math.ceil(ht[ct-1]/2)),ct>1&&(ht[ct-2]=Math.ceil(ht[ct-2]/2))}else if(!ut)throw new Error("Unpacked shape is needed when using channels > 1");return{width:lt,height:at,channels:st,isPacked:dt,shape:ht,strides:nt.ShapeUtil.computeStrides(ht),unpackedShape:ut,reversedWH:ft&&ft.reverseWH}}},5243:(_e,et,tt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.TextureManager=void 0;const nt=tt(1315);et.TextureManager=class{constructor(rt,it,ot,st){this.glContext=rt,this.layoutStrategy=it,this.profiler=ot,this.config=st,this.pendingRead=new Map,st.reuseTextures&&(this.inUseTextures=new Map,this.idleTextures=new Map,this.textureLookup=new Map)}createTextureFromLayout(rt,it,ot,st){const ut=this.toEncoderType(rt),ft=this.glContext.getEncoder(ut,it.channels||1,st);if(it.isPacked&&st===1)throw new Error("not implemented");const dt=it.width,lt=it.height;let at,ct;if(this.config.reuseTextures){at=`${dt}x${lt}_${ft.format}_${ft.internalFormat}_${ft.textureType}`,ct=this.inUseTextures.get(at),ct||(ct=[],this.inUseTextures.set(at,ct));const pt=this.idleTextures.get(at);if(pt&&pt.length>0){const mt=pt.pop();return ct.push(mt),st===1&&this.glContext.updateTexture(mt,dt,lt,ft,this.toTextureData(rt,ot)),mt}}nt.Logger.verbose("TextureManager",`Creating new texture of size ${it.width}x${it.height}`);const ht=this.glContext.allocateTexture(dt,lt,ft,this.toTextureData(rt,ot));return this.config.reuseTextures&&(ct.push(ht),this.textureLookup.set(ht,at)),ht}readTexture(rt,it,ot){return ot||(ot=1),this.profiler.event("backend","TextureManager.readTexture",()=>{const st=rt.shape.reduce((ft,dt)=>ft*dt)*ot,ut=this.glContext.readTexture(rt.texture,rt.width,rt.height,st,this.toEncoderType(it),ot);return this.toTensorData(it,ut)})}async readTextureAsync(rt,it,ot){const st=rt.tensor.dataId;if(ot||(ot=1),this.pendingRead.has(st)){const ut=this.pendingRead.get(st);return new Promise(ft=>ut==null?void 0:ut.push(ft))}return this.profiler.event("backend","TextureManager.readTextureAsync",async()=>{this.pendingRead.set(st,[]);const ut=rt.shape.reduce((at,ct)=>at*ct)*ot;await this.glContext.createAndWaitForFence();const ft=this.glContext.readTexture(rt.texture,rt.width,rt.height,ut,this.toEncoderType(it),ot),dt=this.toTensorData(it,ft),lt=this.pendingRead.get(st);return this.pendingRead.delete(st),lt==null||lt.forEach(at=>at(dt)),dt})}readUint8TextureAsFloat(rt){return this.profiler.event("backend","TextureManager.readUint8TextureAsFloat",()=>{const it=rt.shape.reduce((st,ut)=>st*ut),ot=this.glContext.readTexture(rt.texture,rt.width,rt.height,4*it,"byte",4);return new Float32Array(ot.buffer,ot.byteOffset,it)})}releaseTexture(rt,it){let ot;if(this.config.reuseTextures&&(ot=this.textureLookup.get(rt.texture),ot)){it&&this.textureLookup.delete(ot);const st=this.inUseTextures.get(ot);if(st){const ut=st.indexOf(rt.texture);if(ut!==-1){st.splice(ut,1);let ft=this.idleTextures.get(ot);ft||(ft=[],this.idleTextures.set(ot,ft)),ft.push(rt.texture)}}}ot&&!it||(nt.Logger.verbose("TextureManager",`Deleting texture of size ${rt.width}x${rt.height}`),this.glContext.deleteTexture(rt.texture))}toTensorData(rt,it){switch(rt){case"int16":return it instanceof Int16Array?it:Int16Array.from(it);case"int32":return it instanceof Int32Array?it:Int32Array.from(it);case"int8":return it instanceof Int8Array?it:Int8Array.from(it);case"uint16":return it instanceof Uint16Array?it:Uint16Array.from(it);case"uint32":return it instanceof Uint32Array?it:Uint32Array.from(it);case"uint8":case"bool":return it instanceof Uint8Array?it:Uint8Array.from(it);case"float32":return it instanceof Float32Array?it:Float32Array.from(it);case"float64":return it instanceof Float64Array?it:Float64Array.from(it);default:throw new Error(`TensorData type ${rt} is not supported`)}}toTextureData(rt,it){if(it)return it instanceof Float32Array?it:new Float32Array(it)}toEncoderType(rt){return"float"}clearActiveTextures(){this.glContext.clearActiveTextures()}}},5639:(_e,et)=>{var tt;Object.defineProperty(et,"__esModule",{value:!0}),et.TextureType=void 0,(tt=et.TextureType||(et.TextureType={}))[tt.unpacked=0]="unpacked",tt[tt.unpackedReversed=1]="unpackedReversed",tt[tt.packed=2]="packed",tt[tt.downloadUint8AsFloat=3]="downloadUint8AsFloat",tt[tt.packedLastDimension=4]="packedLastDimension"},432:(_e,et,tt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.getGlChannels=et.getCoordsDataType=et.getSqueezedParams=et.squeezeInputShape=et.generateShaderFuncNameFromInputSamplerNameAtOutCoords=et.generateShaderFuncNameFromInputSamplerName=et.repeatedTry=et.getPackedShape=void 0;const nt=tt(7273);et.getPackedShape=function(rt){const it=rt.length;return rt.slice(0,it-1).concat(rt[it-1]/4)},et.repeatedTry=async function(rt,it=st=>0,ot){return new Promise((st,ut)=>{let ft=0;const dt=()=>{if(rt())return void st();ft++;const lt=it(ft);ot!=null&&ft>=ot?ut():setTimeout(dt,lt)};dt()})},et.generateShaderFuncNameFromInputSamplerName=function(rt){return(0,nt.assert)(rt!==void 0&&rt.length!==0,()=>"empty string found for sampler name"),"get"+rt.charAt(0).toUpperCase()+rt.slice(1)},et.generateShaderFuncNameFromInputSamplerNameAtOutCoords=function(rt){return(0,nt.assert)(rt!==void 0&&rt.length!==0,()=>"empty string found for sampler name"),"get"+rt.charAt(0).toUpperCase()+rt.slice(1)+"AtOutCoords"},et.squeezeInputShape=function(rt,it){let ot=JSON.parse(JSON.stringify(rt));return ot=it,ot},et.getSqueezedParams=function(rt,it){return it.map(ot=>rt[ot]).join(", ")},et.getCoordsDataType=function(rt){if(rt<=1)return"int";if(rt===2)return"ivec2";if(rt===3)return"ivec3";if(rt===4)return"ivec4";if(rt===5)return"ivec5";if(rt===6)return"ivec6";throw Error(`GPU for rank ${rt} is not yet supported`)},et.getGlChannels=function(rt=6){return["x","y","z","w","u","v"].slice(0,rt)}},3389:(_e,et,tt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.createNewWebGLContext=et.createWebGLContext=void 0;const nt=tt(1315),rt=tt(3524),it={};function ot(st){const ut=function(){if(typeof document>"u"){if(typeof OffscreenCanvas>"u")throw new TypeError("failed to create canvas: OffscreenCanvas is not supported");return new OffscreenCanvas(1,1)}const lt=document.createElement("canvas");return lt.width=1,lt.height=1,lt}();let ft;const dt={alpha:!1,depth:!1,antialias:!1,stencil:!1,preserveDrawingBuffer:!1,premultipliedAlpha:!1,failIfMajorPerformanceCaveat:!1};if((!st||st==="webgl2")&&(ft=ut.getContext("webgl2",dt),ft))try{return new rt.WebGLContext(ft,2)}catch(lt){nt.Logger.warning("GlContextFactory",`failed to create WebGLContext using contextId 'webgl2'. Error: ${lt}`)}if((!st||st==="webgl")&&(ft=ut.getContext("webgl",dt)||ut.getContext("experimental-webgl",dt),ft))try{return new rt.WebGLContext(ft,1)}catch(lt){nt.Logger.warning("GlContextFactory",`failed to create WebGLContext using contextId 'webgl' or 'experimental-webgl'. Error: ${lt}`)}throw new Error("WebGL is not supported")}et.createWebGLContext=function st(ut){let ft;ut&&ut!=="webgl2"||!("webgl2"in it)?ut&&ut!=="webgl"||!("webgl"in it)||(ft=it.webgl):ft=it.webgl2,ft=ft||ot(ut),ut=ut||ft.version===1?"webgl":"webgl2";const dt=ft.gl;return it[ut]=ft,dt.isContextLost()?(delete it[ut],st(ut)):(dt.disable(dt.DEPTH_TEST),dt.disable(dt.STENCIL_TEST),dt.disable(dt.BLEND),dt.disable(dt.DITHER),dt.disable(dt.POLYGON_OFFSET_FILL),dt.disable(dt.SAMPLE_COVERAGE),dt.enable(dt.SCISSOR_TEST),dt.enable(dt.CULL_FACE),dt.cullFace(dt.BACK),ft)},et.createNewWebGLContext=ot},3524:function(_e,et,tt){var nt=this&&this.__createBinding||(Object.create?function(dt,lt,at,ct){ct===void 0&&(ct=at);var ht=Object.getOwnPropertyDescriptor(lt,at);ht&&!("get"in ht?!lt.__esModule:ht.writable||ht.configurable)||(ht={enumerable:!0,get:function(){return lt[at]}}),Object.defineProperty(dt,ct,ht)}:function(dt,lt,at,ct){ct===void 0&&(ct=at),dt[ct]=lt[at]}),rt=this&&this.__setModuleDefault||(Object.create?function(dt,lt){Object.defineProperty(dt,"default",{enumerable:!0,value:lt})}:function(dt,lt){dt.default=lt}),it=this&&this.__importStar||function(dt){if(dt&&dt.__esModule)return dt;var lt={};if(dt!=null)for(var at in dt)at!=="default"&&Object.prototype.hasOwnProperty.call(dt,at)&&nt(lt,dt,at);return rt(lt,dt),lt};Object.defineProperty(et,"__esModule",{value:!0}),et.WebGLContext=et.linearSearchLastTrue=void 0;const ot=tt(8453),st=it(tt(9622)),ut=tt(432);function ft(dt){let lt=0;for(;lt<dt.length&&dt[lt]();++lt);return lt-1}et.linearSearchLastTrue=ft,et.WebGLContext=class{constructor(dt,lt){this.frameBufferBound=!1,this.itemsToPoll=[],this.gl=dt,this.version=lt,this.getExtensions(),this.vertexbuffer=this.createVertexbuffer(),this.framebuffer=this.createFramebuffer(),this.queryVitalParameters()}allocateTexture(dt,lt,at,ct){const ht=this.gl,pt=ht.createTexture();ht.bindTexture(ht.TEXTURE_2D,pt),ht.texParameteri(ht.TEXTURE_2D,ht.TEXTURE_MIN_FILTER,ht.NEAREST),ht.texParameteri(ht.TEXTURE_2D,ht.TEXTURE_MAG_FILTER,ht.NEAREST),ht.texParameteri(ht.TEXTURE_2D,ht.TEXTURE_WRAP_S,ht.CLAMP_TO_EDGE),ht.texParameteri(ht.TEXTURE_2D,ht.TEXTURE_WRAP_T,ht.CLAMP_TO_EDGE);const mt=ct?at.encode(ct,dt*lt):null;return ht.texImage2D(ht.TEXTURE_2D,0,at.internalFormat,dt,lt,0,at.format,at.textureType,mt),this.checkError(),pt}updateTexture(dt,lt,at,ct,ht){const pt=this.gl;pt.bindTexture(pt.TEXTURE_2D,dt);const mt=ct.encode(ht,lt*at);pt.texSubImage2D(pt.TEXTURE_2D,0,0,0,lt,at,ct.format,ct.textureType,mt),this.checkError()}attachFramebuffer(dt,lt,at){const ct=this.gl;ct.bindTexture(ct.TEXTURE_2D,dt),ct.bindFramebuffer(ct.FRAMEBUFFER,this.framebuffer),ct.framebufferTexture2D(ct.FRAMEBUFFER,ct.COLOR_ATTACHMENT0,ct.TEXTURE_2D,dt,0),this.checkError(),ct.viewport(0,0,lt,at),ct.scissor(0,0,lt,at)}readTexture(dt,lt,at,ct,ht,pt){const mt=this.gl;pt||(pt=1),this.frameBufferBound||this.attachFramebuffer(dt,lt,at);const gt=this.getEncoder(ht,pt),yt=gt.allocate(lt*at);return mt.bindTexture(mt.TEXTURE_2D,dt),mt.framebufferTexture2D(mt.FRAMEBUFFER,mt.COLOR_ATTACHMENT0,mt.TEXTURE_2D,dt,0),mt.readPixels(0,0,lt,at,mt.RGBA,gt.textureType,yt),this.checkError(),gt.decode(yt,ct)}isFramebufferReady(){return!0}getActiveTexture(){const dt=this.gl;return"TEXTURE"+(dt.getParameter(this.gl.ACTIVE_TEXTURE)-dt.TEXTURE0)}getTextureBinding(){return this.gl.getParameter(this.gl.TEXTURE_BINDING_2D)}getFramebufferBinding(){return this.gl.getParameter(this.gl.FRAMEBUFFER_BINDING)}setVertexAttributes(dt,lt){const at=this.gl;at.vertexAttribPointer(dt,3,at.FLOAT,!1,20,0),at.enableVertexAttribArray(dt),lt!==-1&&(at.vertexAttribPointer(lt,2,at.FLOAT,!1,20,12),at.enableVertexAttribArray(lt)),this.checkError()}createProgram(dt,lt){const at=this.gl,ct=at.createProgram();return at.attachShader(ct,dt),at.attachShader(ct,lt),at.linkProgram(ct),ct}compileShader(dt,lt){const at=this.gl,ct=at.createShader(lt);if(!ct)throw new Error(`createShader() returned null with type ${lt}`);if(at.shaderSource(ct,dt),at.compileShader(ct),at.getShaderParameter(ct,at.COMPILE_STATUS)===!1)throw new Error(`Failed to compile shader: ${at.getShaderInfoLog(ct)}
Shader source:
${dt}`);return ct}deleteShader(dt){this.gl.deleteShader(dt)}bindTextureToUniform(dt,lt,at){const ct=this.gl;ct.activeTexture(ct.TEXTURE0+lt),this.checkError(),ct.bindTexture(ct.TEXTURE_2D,dt),this.checkError(),ct.uniform1i(at,lt),this.checkError()}draw(){this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),this.checkError()}checkError(){if(ot.env.debug){const dt=this.gl,lt=dt.getError();let at="";switch(lt){case dt.NO_ERROR:return;case dt.INVALID_ENUM:at="INVALID_ENUM";break;case dt.INVALID_VALUE:at="INVALID_VALUE";break;case dt.INVALID_OPERATION:at="INVALID_OPERATION";break;case dt.INVALID_FRAMEBUFFER_OPERATION:at="INVALID_FRAMEBUFFER_OPERATION";break;case dt.OUT_OF_MEMORY:at="OUT_OF_MEMORY";break;case dt.CONTEXT_LOST_WEBGL:at="CONTEXT_LOST_WEBGL";break;default:at=`Unknown WebGL Error: ${lt.toString(16)}`}throw new Error(at)}}deleteTexture(dt){this.gl.deleteTexture(dt)}deleteProgram(dt){this.gl.deleteProgram(dt)}getEncoder(dt,lt,at=0){if(this.version===2)return new st.RedFloat32DataEncoder(this.gl,lt);switch(dt){case"float":return at===1||this.isRenderFloat32Supported?new st.RGBAFloatDataEncoder(this.gl,lt):new st.RGBAFloatDataEncoder(this.gl,lt,this.textureHalfFloatExtension.HALF_FLOAT_OES);case"int":throw new Error("not implemented");case"byte":return new st.Uint8DataEncoder(this.gl,lt);default:throw new Error(`Invalid dataType: ${dt}`)}}clearActiveTextures(){const dt=this.gl;for(let lt=0;lt<this.maxTextureImageUnits;++lt)dt.activeTexture(dt.TEXTURE0+lt),dt.bindTexture(dt.TEXTURE_2D,null)}dispose(){if(this.disposed)return;const dt=this.gl;dt.bindFramebuffer(dt.FRAMEBUFFER,null),dt.deleteFramebuffer(this.framebuffer),dt.bindBuffer(dt.ARRAY_BUFFER,null),dt.deleteBuffer(this.vertexbuffer),dt.bindBuffer(dt.ELEMENT_ARRAY_BUFFER,null),dt.finish(),this.disposed=!0}createDefaultGeometry(){return new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0])}createVertexbuffer(){const dt=this.gl,lt=dt.createBuffer();if(!lt)throw new Error("createBuffer() returned null");const at=this.createDefaultGeometry();return dt.bindBuffer(dt.ARRAY_BUFFER,lt),dt.bufferData(dt.ARRAY_BUFFER,at,dt.STATIC_DRAW),this.checkError(),lt}createFramebuffer(){const dt=this.gl.createFramebuffer();if(!dt)throw new Error("createFramebuffer returned null");return dt}queryVitalParameters(){const dt=this.gl;if(this.isFloatTextureAttachableToFrameBuffer=this.checkFloatTextureAttachableToFrameBuffer(),this.isRenderFloat32Supported=this.checkRenderFloat32(),this.isFloat32DownloadSupported=this.checkFloat32Download(),this.version===1&&!this.textureHalfFloatExtension&&!this.isRenderFloat32Supported)throw new Error("both float32 and float16 TextureType are not supported");this.isBlendSupported=!this.isRenderFloat32Supported||this.checkFloat32Blend(),this.maxTextureSize=dt.getParameter(dt.MAX_TEXTURE_SIZE),this.maxTextureImageUnits=dt.getParameter(dt.MAX_TEXTURE_IMAGE_UNITS),this.version}getExtensions(){this.version===2?(this.colorBufferFloatExtension=this.gl.getExtension("EXT_color_buffer_float"),this.disjointTimerQueryWebgl2Extension=this.gl.getExtension("EXT_disjoint_timer_query_webgl2")):(this.textureFloatExtension=this.gl.getExtension("OES_texture_float"),this.textureHalfFloatExtension=this.gl.getExtension("OES_texture_half_float"))}checkFloatTextureAttachableToFrameBuffer(){const dt=this.gl,lt=dt.createTexture();dt.bindTexture(dt.TEXTURE_2D,lt);const at=this.version===2?dt.RGBA32F:dt.RGBA;dt.texImage2D(dt.TEXTURE_2D,0,at,1,1,0,dt.RGBA,dt.FLOAT,null);const ct=dt.createFramebuffer();dt.bindFramebuffer(dt.FRAMEBUFFER,ct),dt.framebufferTexture2D(dt.FRAMEBUFFER,dt.COLOR_ATTACHMENT0,dt.TEXTURE_2D,lt,0);const ht=dt.checkFramebufferStatus(dt.FRAMEBUFFER)===dt.FRAMEBUFFER_COMPLETE;return dt.bindTexture(dt.TEXTURE_2D,null),dt.bindFramebuffer(dt.FRAMEBUFFER,null),dt.deleteTexture(lt),dt.deleteFramebuffer(ct),ht}checkRenderFloat32(){if(this.version===2){if(!this.colorBufferFloatExtension)return!1}else if(!this.textureFloatExtension)return!1;return this.isFloatTextureAttachableToFrameBuffer}checkFloat32Download(){if(this.version===2){if(!this.colorBufferFloatExtension)return!1}else if(!this.textureFloatExtension||!this.gl.getExtension("WEBGL_color_buffer_float"))return!1;return this.isFloatTextureAttachableToFrameBuffer}checkFloat32Blend(){const dt=this.gl;let lt,at,ct,ht,pt;try{lt=dt.createTexture(),at=dt.createFramebuffer(),dt.bindTexture(dt.TEXTURE_2D,lt);const mt=this.version===2?dt.RGBA32F:dt.RGBA;return dt.texImage2D(dt.TEXTURE_2D,0,mt,1,1,0,dt.RGBA,dt.FLOAT,null),dt.bindFramebuffer(dt.FRAMEBUFFER,at),dt.framebufferTexture2D(dt.FRAMEBUFFER,dt.COLOR_ATTACHMENT0,dt.TEXTURE_2D,lt,0),dt.enable(dt.BLEND),ct=dt.createShader(dt.VERTEX_SHADER),!!ct&&(dt.shaderSource(ct,"void main(){}"),dt.compileShader(ct),ht=dt.createShader(dt.FRAGMENT_SHADER),!!ht&&(dt.shaderSource(ht,"precision highp float;void main(){gl_FragColor=vec4(0.5);}"),dt.compileShader(ht),pt=dt.createProgram(),!!pt&&(dt.attachShader(pt,ct),dt.attachShader(pt,ht),dt.linkProgram(pt),dt.useProgram(pt),dt.drawArrays(dt.POINTS,0,1),dt.getError()===dt.NO_ERROR)))}finally{dt.disable(dt.BLEND),pt&&dt.deleteProgram(pt),ct&&dt.deleteShader(ct),ht&&dt.deleteShader(ht),at&&(dt.bindFramebuffer(dt.FRAMEBUFFER,null),dt.deleteFramebuffer(at)),lt&&(dt.bindTexture(dt.TEXTURE_2D,null),dt.deleteTexture(lt))}}beginTimer(){if(this.version===2&&this.disjointTimerQueryWebgl2Extension){const dt=this.gl,lt=this.disjointTimerQueryWebgl2Extension,at=dt.createQuery();return dt.beginQuery(lt.TIME_ELAPSED_EXT,at),at}throw new Error("WebGL1 profiling currently not supported.")}endTimer(){if(this.version!==2||!this.disjointTimerQueryWebgl2Extension)throw new Error("WebGL1 profiling currently not supported");{const dt=this.gl,lt=this.disjointTimerQueryWebgl2Extension;dt.endQuery(lt.TIME_ELAPSED_EXT)}}isTimerResultAvailable(dt){let lt=!1,at=!1;if(this.version!==2||!this.disjointTimerQueryWebgl2Extension)throw new Error("WebGL1 profiling currently not supported");{const ct=this.gl,ht=this.disjointTimerQueryWebgl2Extension;lt=ct.getQueryParameter(dt,ct.QUERY_RESULT_AVAILABLE),at=ct.getParameter(ht.GPU_DISJOINT_EXT)}return lt&&!at}getTimerResult(dt){let lt=0;if(this.version!==2)throw new Error("WebGL1 profiling currently not supported");{const at=this.gl;lt=at.getQueryParameter(dt,at.QUERY_RESULT),at.deleteQuery(dt)}return lt/1e6}async waitForQueryAndGetTime(dt){return await(0,ut.repeatedTry)(()=>this.isTimerResultAvailable(dt)),this.getTimerResult(dt)}async createAndWaitForFence(){const dt=this.createFence(this.gl);return this.pollFence(dt)}createFence(dt){let lt;const at=dt,ct=at.fenceSync(at.SYNC_GPU_COMMANDS_COMPLETE,0);return dt.flush(),lt=ct===null?()=>!0:()=>{const ht=at.clientWaitSync(ct,0,0);return ht===at.ALREADY_SIGNALED||ht===at.CONDITION_SATISFIED},{query:ct,isFencePassed:lt}}async pollFence(dt){return new Promise(lt=>{this.addItemToPoll(()=>dt.isFencePassed(),()=>lt())})}pollItems(){const dt=ft(this.itemsToPoll.map(lt=>lt.isDoneFn));for(let lt=0;lt<=dt;++lt){const{resolveFn:at}=this.itemsToPoll[lt];at()}this.itemsToPoll=this.itemsToPoll.slice(dt+1)}async addItemToPoll(dt,lt){this.itemsToPoll.push({isDoneFn:dt,resolveFn:lt}),this.itemsToPoll.length>1||await(0,ut.repeatedTry)(()=>(this.pollItems(),this.itemsToPoll.length===0))}}},6496:(_e,et,tt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.ExecutionPlan=void 0;const nt=tt(1315);class rt{constructor(ot,st){this.op=ot,this.node=st}}et.ExecutionPlan=class{constructor(it,ot,st){this.graph=it,this.profiler=st,this.initialize(ot)}initialize(it){this.profiler.event("session","ExecutionPlan.initialize",()=>{const ot=this.graph.getNodes();if(ot.length!==it.length)throw new Error("The size of nodes and OPs do not match.");this._ops=it.map((st,ut)=>new rt(st,ot[ut])),this.reset(),this._starter=[],this._ops.forEach((st,ut)=>{let ft=!0;for(const dt of st.node.inputs)if(!this._values[dt]&&this.graph.getInputIndices().indexOf(dt)===-1){ft=!1;break}ft&&this._starter.push(ut)})})}reset(){this._values=this.graph.getValues().map(it=>it.tensor)}async execute(it,ot){return this.profiler.event("session","ExecutionPlan.execute",async()=>{this.reset();const st=it.createInferenceHandler(),ut=this.graph.getInputIndices();if(ot.length!==ut.length)throw new Error(`number of input tensors don't match the number of inputs to the model: actual: ${ot.length} expected: ${ut.length}`);ot.forEach((ht,pt)=>{const mt=ut[pt];this._values[mt]=ht});const ft=this._starter.slice(0),dt=this.graph.getValues(),lt=this.graph.getNodes();let at=0;for(;at<ft.length;){const ht=ft[at++],pt=this._ops[ht],mt=pt.node.inputs.map(xt=>this._values[xt]);if(mt.indexOf(void 0)!==-1)throw new Error(`unresolved input detected: op: ${pt.node}`);const gt=mt;nt.Logger.verbose("ExecPlan",`Runing op:${pt.node.name} (${gt.map((xt,vt)=>`'${pt.node.inputs[vt]}': ${xt.type}[${xt.dims.join(",")}]`).join(", ")})`);const yt=await this.profiler.event("node",pt.node.name,async()=>pt.op.impl(st,gt,pt.op.context));if(yt.length!==pt.node.outputs.length)throw new Error("the size of output does not match model definition.");yt.forEach((xt,vt)=>{const wt=pt.node.outputs[vt];if(this._values[wt])throw new Error(`output [${wt}] already has value: op:${pt.node.name}`);this._values[wt]=xt});const bt=new Set;yt.forEach((xt,vt)=>{const wt=pt.node.outputs[vt];for(const _t of dt[wt].to){const Ct=lt[_t];let Et=!0;for(const $t of Ct.inputs)if(!this._values[$t]){Et=!1;break}Et&&bt.add(_t)}}),ft.push(...bt)}const ct=[];for(let ht=0;ht<this.graph.getOutputIndices().length;ht++){const pt=this.graph.getOutputIndices()[ht],mt=this._values[pt];if(mt===void 0)throw new Error(`required output [${pt}] does not have value`);pt===0?await mt.getData():mt.data,ct.push(mt)}return nt.Logger.verbose("ExecPlan","disposing of inferenceHandler"),st.dispose(),ct})}}},4662:(_e,et,tt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.Graph=void 0;const nt=tt(1446),rt=tt(6874),it=tt(1287),ot=tt(9240),st=tt(7273);var ut=it.onnxruntime.experimental.fbs;et.Graph={from:(at,ct)=>new lt(at,ct)};class ft{constructor(ct){this._from=void 0,this._to=[],this.tensor=void 0,this.type=void 0,ct&&(this.type=st.ProtoUtil.tensorValueTypeFromProto(ct.type.tensorType))}get from(){return this._from}get to(){return this._to}}class dt{constructor(ct,ht){ct instanceof nt.onnx.NodeProto?(this.name=ct.name,this.opType=ct.opType,this.attributes=new rt.Attribute(ct.attribute)):ct instanceof ut.Node&&(this.name=ht??ct.name(),this.opType=ct.opType(),this.attributes=new rt.Attribute(st.ProtoUtil.tensorAttributesFromORTFormat(ct))),this.inputs=[],this.outputs=[],this.executeNode=!0}}class lt{constructor(ct,ht){if(!ct)throw new TypeError("graph is empty");this.buildGraph(ct),this.transformGraph(ht),this.checkIsAcyclic()}getInputIndices(){return this._allInputIndices}getInputNames(){return this._allInputNames}getOutputIndices(){return this._allOutputIndices}getOutputNames(){return this._allOutputNames}getValues(){return this._allData}getNodes(){return this._nodes}buildGraph(ct){if(ct instanceof nt.onnx.GraphProto)this.buildGraphFromOnnxFormat(ct);else{if(!(ct instanceof ut.Graph))throw new TypeError("Graph type is not supported.");this.buildGraphFromOrtFormat(ct)}}buildGraphFromOnnxFormat(ct){const ht=new Map;this._allData=[],this._allInputIndices=[],this._allInputNames=[],this._allOutputIndices=[],this._allOutputNames=[],this._nodes=[];const pt=new Map;if(!ct.input)throw new Error("missing information in graph: input");const mt=[];for(const gt of ct.input){if(ht.has(gt.name))throw new Error(`duplicated input name: ${gt.name}`);const yt=this._allData.push(new ft(gt))-1;ht.set(gt.name,yt),mt.push(gt.name)}if(!ct.initializer)throw new Error("missing information in graph: initializer");for(const gt of ct.initializer){let yt=ht.get(gt.name);if(yt===void 0){const bt=new ft;bt.type={shape:{dims:st.ProtoUtil.tensorDimsFromProto(gt.dims)},tensorType:st.ProtoUtil.tensorDataTypeFromProto(gt.dataType)},yt=this._allData.push(bt)-1,ht.set(gt.name,yt)}this._allData[yt]._from=-1,this._allData[yt].tensor=ot.Tensor.fromProto(gt)}for(let gt=0;gt<this._allData.length;gt++)this._allData[gt].tensor||(this._allInputIndices.push(gt),this._allInputNames.push(mt[gt]));if(!ct.output)throw new Error("missing information in graph: output");for(const gt of ct.output){if(ht.has(gt.name))throw new Error(`duplicated output name: ${gt.name}`);const yt=this._allData.push(new ft(gt))-1;ht.set(gt.name,yt),this._allOutputIndices.push(yt),this._allOutputNames.push(gt.name)}if(!ct.node)throw new Error("missing information in graph: node");for(const gt of ct.node){if(!gt.name)for(let bt=0;;bt++){const xt=`unnamed_${gt.opType}_${bt}`;if(!pt.has(xt)){gt.name=xt;break}}if(pt.has(gt.name))throw new Error(`duplicated node name: ${gt.name}`);const yt=this._nodes.push(new dt(gt))-1;pt.set(gt.name,yt)}for(let gt=0;gt<this._nodes.length;gt++){const yt=this._nodes[gt],bt=ct.node[gt];if(!bt.output)throw new Error(`missing output for node: ${bt.name}`);for(const xt of bt.output){let vt=ht.get(xt);if(vt===void 0&&(vt=this._allData.push(new ft)-1,ht.set(xt,vt)),yt.outputs.push(vt),this._allData[vt]._from!==void 0)throw new Error(`multiple nodes output to one data value: ${vt}`);if(this._allData[vt]._from=gt,bt.opType==="Constant"){if(!bt.attribute||bt.attribute.length!==1||!bt.attribute[0].t)throw new Error("missing attributes or missing tensor value in attributes for this Constant operator");if(!bt.output||bt.output.length!==1)throw new Error("missing output or incorrect number of outputs for this Constant operator");yt.outputs.pop(),yt.executeNode=!1,this._allData[vt]._from=-1,this._allData[vt].tensor=ot.Tensor.fromProto(bt.attribute[0].t)}}}for(let gt=0;gt<this._nodes.length;gt++){const yt=this._nodes[gt],bt=ct.node[gt];if(!bt.input)throw new Error(`missing input for node: ${bt.name}`);for(const xt of bt.input){const vt=ht.get(xt);if(vt===void 0){if(xt===""&&bt.input.length===3&&bt.opType==="Resize")continue;throw new Error(`unrecognized input '${xt}' for node: ${bt.name}`)}yt.inputs.push(vt),this._allData[vt]._to.push(gt)}}return!0}buildGraphFromOrtFormat(ct){var ht,pt,mt;const gt=new Map;this._allData=[],this._allInputIndices=[],this._allInputNames=[],this._allOutputIndices=[],this._allOutputNames=[],this._nodes=[];const yt=new Map,bt=[];for(let xt=0;xt<ct.inputsLength();xt++){const vt=ct.inputs(xt);if(gt.has(vt))throw new Error(`duplicated input name: ${vt}`);for(let wt=0;wt<ct.nodeArgsLength();wt++)if(((ht=ct.nodeArgs(wt))===null||ht===void 0?void 0:ht.name())===vt){const _t=new ft;if(((mt=(pt=ct.nodeArgs(wt))===null||pt===void 0?void 0:pt.type())===null||mt===void 0?void 0:mt.valueType())!==ut.TypeInfoValue.tensor_type)throw new Error("Unexpected value type for the nodeArg.");const Ct=ct.nodeArgs(wt).type().value(new ut.TensorTypeAndShape),Et=st.ProtoUtil.tensorDataTypeFromProto(Ct.elemType()),$t=Ct.shape(),jt=[];for(let Pt=0;Pt<$t.dimLength();Pt++)jt.push(st.LongUtil.longToNumber($t.dim(Pt).value().dimValue()));_t.type={shape:{dims:jt},tensorType:Et};const Dt=this._allData.push(_t)-1;gt.set(vt,Dt),bt.push(vt)}}for(let xt=0;xt<ct.initializersLength();xt++){const vt=ct.initializers(xt);let wt=gt.get(vt.name());if(wt===void 0){const _t=new ft,Ct=st.ProtoUtil.tensorDimsFromORTFormat(vt),Et=st.ProtoUtil.tensorDataTypeFromProto(vt.dataType());_t.type={shape:{dims:Ct},tensorType:Et},wt=this._allData.push(_t)-1,gt.set(vt.name(),wt)}this._allData[wt]._from=-1,this._allData[wt].tensor=ot.Tensor.fromOrtTensor(vt)}for(let xt=0;xt<this._allData.length;xt++)this._allData[xt].tensor||(this._allInputIndices.push(xt),this._allInputNames.push(bt[xt]));for(let xt=0;xt<ct.outputsLength();xt++){const vt=ct.outputs(xt);if(gt.has(vt))throw new Error(`duplicated output name: ${vt}`);const wt=this._allData.push(new ft)-1;gt.set(vt,wt),this._allOutputIndices.push(wt),this._allOutputNames.push(vt)}if(!ct.nodes)throw new Error("missing information in graph: node");for(let xt=0;xt<ct.nodesLength();xt++){const vt=ct.nodes(xt);let wt=vt.name();if(!wt)for(let Ct=0;wt=`unnamed_${vt.opType()}_${Ct}`,yt.has(wt);Ct++);if(yt.has(wt))throw new Error(`duplicated node name: ${wt}`);const _t=this._nodes.push(new dt(vt,wt))-1;yt.set(wt,_t)}for(let xt=0;xt<this._nodes.length;xt++){const vt=this._nodes[xt],wt=ct.nodes(xt);if(wt==null)throw new Error(`No node exists at index ${xt}`);if((wt==null?void 0:wt.outputsLength())===0)throw new Error(`missing output for node: ${wt.name}`);for(let _t=0;_t<(wt==null?void 0:wt.outputsLength());_t++){const Ct=wt==null?void 0:wt.outputs(_t);let Et=gt.get(Ct);if(Et===void 0&&(Et=this._allData.push(new ft)-1,gt.set(Ct,Et)),vt.outputs.push(Et),this._allData[Et]._from!==void 0)throw new Error(`multiple nodes output to one data value: ${Et}`);if(this._allData[Et]._from=xt,wt.opType()==="Constant"){if(wt.attributesLength()!==1||!wt.attributes(0).t())throw new Error("missing attributes or missing tensor value in attributes for this Constant operator");if(wt.outputsLength()!==1)throw new Error("missing output or incorrect number of outputs for this Constant operator");vt.outputs.pop(),vt.executeNode=!1,this._allData[Et]._from=-1,this._allData[Et].tensor=ot.Tensor.fromOrtTensor(wt.attributes(0).t())}}}for(let xt=0;xt<this._nodes.length;xt++){const vt=this._nodes[xt],wt=ct.nodes(xt);if(wt.inputsLength()===0)throw new Error(`missing input for node: ${wt.name}`);for(let _t=0;_t<wt.inputsLength();_t++){const Ct=wt.inputs(_t),Et=gt.get(Ct);if(Et===void 0)throw new Error(`unrecognized input '${Ct}' for node: ${wt.name()}`);vt.inputs.push(Et),this._allData[Et]._to.push(xt)}}}checkIsAcyclic(){const ct=new Set;this._allInputIndices.forEach(mt=>{this._allData[mt]._to.forEach(gt=>{ct.add(gt)})});const ht=Array.from(ct),pt=new Array(this._nodes.length).fill("white");for(;ht.length>0;){const mt=ht.pop();pt[mt]==="gray"?pt[mt]="black":(ht.push(mt),pt[mt]="gray",this._nodes[mt].outputs.forEach(gt=>{const yt=this._allData[gt];if(yt.tensor!==void 0)throw new Error("node outputs should not be initialized");if(yt._from!==mt)throw new Error("from property of the Value object doesn't match index of Node being processed");yt._to.forEach(bt=>{if(pt[bt]==="gray")throw new Error("model graph is cyclic");pt[bt]==="white"&&ht.push(bt)})}))}}transformGraph(ct){this.removeAllIdentityNodes(),this.removeAllDropoutNodes(),this.fuseConvActivationNodes(),ct&&ct.transformGraph(this),this.finalizeGraph()}finalizeGraph(){let ct=0;const ht=new Array(this._nodes.length,0);let pt=0;for(let mt=0;mt<this._nodes.length;mt++)ht[mt]=pt,this._nodes[mt].executeNode?(pt!==mt&&(this._nodes[pt]=this._nodes[mt]),pt++):this._nodes[mt].outputs.forEach(gt=>{this._allData[gt]._from=-2});this._nodes.splice(pt,this._nodes.length-pt);for(let mt=0;mt<this._allData.length;mt++){const gt=this._allData[mt];gt._from!==void 0&&gt._from!==-1&&gt._from!==-2&&(gt._from=ht[gt._from]);for(let yt=0;yt<gt._to.length;yt++){if(!(gt._to[yt]>=0))throw new Error("Trying to update a removed node");gt._to[yt]=ht[gt._to[yt]]}}ct=0;for(let mt=0;mt<this._allData.length;mt++)if(this._allData[mt].from!==-2||this._allOutputIndices.indexOf(mt+ct)!==-1){if(ct>0){let gt=-1;this._allData[mt].from!==void 0&&this._allData[mt].from!==-1?(gt=this._nodes[this._allData[mt].from].outputs.indexOf(mt+ct),gt!==-1&&(this._nodes[this._allData[mt].from].outputs[gt]=mt)):(gt=this._allInputIndices.indexOf(mt+ct),gt!==-1&&(this._allInputIndices[gt]=mt)),this._allData[mt].to.forEach(yt=>{gt=this._nodes[yt].inputs.indexOf(mt+ct),gt!==-1&&(this._nodes[yt].inputs[gt]=mt)}),this._allData[mt].to.length===0&&(gt=this._allOutputIndices.indexOf(mt+ct),gt!==-1&&(this._allOutputIndices[gt]=mt))}}else ct++,this._allData.splice(mt,1),mt--}deleteNode(ct){const ht=this._nodes[ct];if(ht.outputs.length>1){for(let bt=1;bt<ht.outputs.length;bt++)if(this._allData[ht.outputs[bt]].to.length>0)throw new Error("Node deletion with more than one output connected to other nodes is not supported. ")}ht.executeNode=!1;const pt=ht.inputs[0],mt=ht.outputs[0],gt=this._allData[mt].to;for(let bt=0;bt<ht.inputs.length;bt++){const xt=this._allData[ht.inputs[bt]].to.indexOf(ct);if(xt===-1)throw new Error("The Value object doesn't have the current Node in it's 'to' property ");this._allData[ht.inputs[bt]].to.splice(xt,1)}this._allData[mt]._to=[];const yt=this._allOutputIndices.indexOf(mt);if(yt!==-1&&(this._allOutputIndices[yt]=pt),gt&&gt.length>0)for(const bt of gt){const xt=this._nodes[bt].inputs.indexOf(mt);if(xt===-1)throw new Error("The Node object doesn't have the output Value in it's 'inputs' property ");this._nodes[bt].inputs[xt]=pt,this._allData[pt].to.push(bt)}}removeAllDropoutNodes(){let ct=0;for(const ht of this._nodes){if(ht.opType==="Dropout"){if(ht.inputs.length!==1)throw new Error("Dropout nodes should only contain one input. ");if(ht.outputs.length!==1&&ht.outputs.length!==2)throw new Error("Dropout nodes should contain either 1 or 2 output(s)");if(ht.outputs.length===2&&this._allData[ht.outputs[1]]._to.length!==0)throw new Error("Dropout nodes's second output should not be referenced by other nodes");this.deleteNode(ct)}ct++}}removeAllIdentityNodes(){let ct=0;for(const ht of this._nodes)ht.opType==="Identity"&&this.deleteNode(ct),ct++}isActivation(ct){switch(ct.opType){case"Relu":case"Sigmoid":case"Clip":return!0;default:return!1}}fuseConvActivationNodes(){for(const ct of this._nodes)if(ct.opType==="Conv"){const ht=this._allData[ct.outputs[0]]._to;if(ht.length===1&&this.isActivation(this._nodes[ht[0]])){const pt=this._nodes[ht[0]];if(pt.opType==="Clip")if(pt.inputs.length===1)try{ct.attributes.set("activation_params","floats",[pt.attributes.getFloat("min"),pt.attributes.getFloat("max")])}catch{ct.attributes.set("activation_params","floats",[st.MIN_CLIP,st.MAX_CLIP])}else{if(!(pt.inputs.length>=3&&this._allData[pt.inputs[1]].tensor!==void 0&&this._allData[pt.inputs[2]].tensor!==void 0))continue;ct.attributes.set("activation_params","floats",[this._allData[pt.inputs[1]].tensor.floatData[0],this._allData[pt.inputs[2]].tensor.floatData[0]])}ct.attributes.set("activation","string",pt.opType),this.deleteNode(ht[0])}}}}},1315:(_e,et)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.now=et.Profiler=et.Logger=void 0;const tt={verbose:1e3,info:2e3,warning:4e3,error:5e3,fatal:6e3},nt={none:new class{log(dt,lt,at){}},console:new class{log(dt,lt,at){console.log(`${this.color(dt)} ${at?"\x1B[35m"+at+"\x1B[0m ":""}${lt}`)}color(dt){switch(dt){case"verbose":return"\x1B[34;40mv\x1B[0m";case"info":return"\x1B[32mi\x1B[0m";case"warning":return"\x1B[30;43mw\x1B[0m";case"error":return"\x1B[31;40me\x1B[0m";case"fatal":return"\x1B[101mf\x1B[0m";default:throw new Error(`unsupported severity: ${dt}`)}}}},rt={provider:"console",minimalSeverity:"warning",logDateTime:!0,logSourceLocation:!1};let it={"":rt};function ot(dt,lt,at,ct){if(lt===void 0)return ht=dt,{verbose:ot.verbose.bind(null,ht),info:ot.info.bind(null,ht),warning:ot.warning.bind(null,ht),error:ot.error.bind(null,ht),fatal:ot.fatal.bind(null,ht)};if(at===void 0)st(dt,lt);else if(typeof at=="number"&&ct===void 0)st(dt,lt);else if(typeof at=="string"&&ct===void 0)st(dt,at,0,lt);else{if(typeof at!="string"||typeof ct!="number")throw new TypeError("input is valid");st(dt,at,0,lt)}var ht}function st(dt,lt,at,ct){const ht=it[ct||""]||it[""];tt[dt]<tt[ht.minimalSeverity]||(ht.logDateTime&&(lt=`${new Date().toISOString()}|${lt}`),ht.logSourceLocation,nt[ht.provider].log(dt,lt,ct))}(function(dt){function lt(ct){it={},at("",ct||{})}function at(ct,ht){if(ct==="*")lt(ht);else{const pt=it[ct]||rt;it[ct]={provider:ht.provider||pt.provider,minimalSeverity:ht.minimalSeverity||pt.minimalSeverity,logDateTime:ht.logDateTime===void 0?pt.logDateTime:ht.logDateTime,logSourceLocation:ht.logSourceLocation===void 0?pt.logSourceLocation:ht.logSourceLocation}}}dt.verbose=function(ct,ht){dt("verbose",ct,ht)},dt.info=function(ct,ht){dt("info",ct,ht)},dt.warning=function(ct,ht){dt("warning",ct,ht)},dt.error=function(ct,ht){dt("error",ct,ht)},dt.fatal=function(ct,ht){dt("fatal",ct,ht)},dt.reset=lt,dt.set=at,dt.setWithEnv=function(ct){const ht={};ct.logLevel&&(ht.minimalSeverity=ct.logLevel),at("",ht)}})(ot||(ot={})),et.Logger=ot;class ut{constructor(lt,at,ct,ht,pt,mt){this.category=lt,this.name=at,this.startTime=ct,this.endCallback=ht,this.timer=pt,this.ctx=mt}async end(){return this.endCallback(this)}async checkTimer(){if(this.ctx===void 0||this.timer===void 0)throw new Error("No webgl timer found");return this.ctx.endTimer(),this.ctx.waitForQueryAndGetTime(this.timer)}}class ft{constructor(lt,at,ct,ht){this.category=lt,this.name=at,this.startTime=ct,this.endTime=ht}}et.Profiler=class{static create(dt){return dt===void 0?new this:new this(dt.maxNumberEvents,dt.flushBatchSize,dt.flushIntervalInMilliseconds)}constructor(dt,lt,at){this._started=!1,this._flushPointer=0,this._started=!1,this._maxNumberEvents=dt===void 0?1e4:dt,this._flushBatchSize=lt===void 0?10:lt,this._flushIntervalInMilliseconds=at===void 0?5e3:at}start(){this._started=!0,this._timingEvents=[],this._flushTime=(0,et.now)(),this._flushPointer=0}stop(){for(this._started=!1;this._flushPointer<this._timingEvents.length;this._flushPointer++)this.logOneEvent(this._timingEvents[this._flushPointer])}event(dt,lt,at,ct){const ht=this._started?this.begin(dt,lt,ct):void 0;let pt=!1;const mt=at();if(mt&&typeof mt.then=="function")return pt=!0,new Promise((gt,yt)=>{mt.then(async bt=>{ht&&await ht.end(),gt(bt)},async bt=>{ht&&await ht.end(),yt(bt)})});if(!pt&&ht){const gt=ht.end();if(gt&&typeof gt.then=="function")return new Promise((yt,bt)=>{gt.then(()=>{yt(mt)},xt=>{bt(xt)})})}return mt}begin(dt,lt,at){if(!this._started)throw new Error("profiler is not started yet");if(at===void 0){const ct=(0,et.now)();return this.flush(ct),new ut(dt,lt,ct,ht=>this.endSync(ht))}{const ct=at.beginTimer();return new ut(dt,lt,0,async ht=>this.end(ht),ct,at)}}async end(dt){const lt=await dt.checkTimer();this._timingEvents.length<this._maxNumberEvents&&(this._timingEvents.push(new ft(dt.category,dt.name,dt.startTime,lt)),this.flush(lt))}endSync(dt){const lt=(0,et.now)();this._timingEvents.length<this._maxNumberEvents&&(this._timingEvents.push(new ft(dt.category,dt.name,dt.startTime,lt)),this.flush(lt))}logOneEvent(dt){et.Logger.verbose(`Profiler.${dt.category}`,`${(dt.endTime-dt.startTime).toFixed(2)}ms on event '${dt.name}' at ${dt.endTime.toFixed(2)}`)}flush(dt){if(this._timingEvents.length-this._flushPointer>=this._flushBatchSize||dt-this._flushTime>=this._flushIntervalInMilliseconds){for(const lt=this._flushPointer;this._flushPointer<lt+this._flushBatchSize&&this._flushPointer<this._timingEvents.length;this._flushPointer++)this.logOneEvent(this._timingEvents[this._flushPointer]);this._flushTime=(0,et.now)()}}get started(){return this._started}},et.now=typeof performance<"u"&&performance.now?()=>performance.now():Date.now},1745:(_e,et,tt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.Model=void 0;const nt=tt(5686),rt=tt(1446),it=tt(4662),ot=tt(1287),st=tt(7273);var ut=ot.onnxruntime.experimental.fbs;et.Model=class{constructor(){}load(ft,dt,lt){if(!lt)try{return void this.loadFromOnnxFormat(ft,dt)}catch(at){if(lt!==void 0)throw at}this.loadFromOrtFormat(ft,dt)}loadFromOnnxFormat(ft,dt){const lt=rt.onnx.ModelProto.decode(ft);if(st.LongUtil.longToNumber(lt.irVersion)<3)throw new Error("only support ONNX model with IR_VERSION>=3");this._opsets=lt.opsetImport.map(at=>({domain:at.domain,version:st.LongUtil.longToNumber(at.version)})),this._graph=it.Graph.from(lt.graph,dt)}loadFromOrtFormat(ft,dt){const lt=new nt.flatbuffers.ByteBuffer(ft),at=ut.InferenceSession.getRootAsInferenceSession(lt).model();if(st.LongUtil.longToNumber(at.irVersion())<3)throw new Error("only support ONNX model with IR_VERSION>=3");this._opsets=[];for(let ct=0;ct<at.opsetImportLength();ct++){const ht=at.opsetImport(ct);this._opsets.push({domain:ht==null?void 0:ht.domain(),version:st.LongUtil.longToNumber(ht.version())})}this._graph=it.Graph.from(at.graph(),dt)}get graph(){return this._graph}get opsets(){return this._opsets}}},6145:(_e,et)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.FLOAT_TYPES=et.INT_TYPES=et.NUMBER_TYPES=void 0,et.NUMBER_TYPES=["float32","float64","int32","int16","int8","uint16","uint32","uint8"],et.INT_TYPES=["int32","int16","int8","uint16","uint32","uint8"],et.FLOAT_TYPES=["float32","float64"]},5881:(_e,et)=>{function tt(nt,rt){if(rt.endsWith("+")){const it=Number.parseInt(rt.substring(0,rt.length-1),10);return!isNaN(it)&&it<=nt}if(rt.split("-").length===2){const it=rt.split("-"),ot=Number.parseInt(it[0],10),st=Number.parseInt(it[1],10);return!isNaN(ot)&&!isNaN(st)&&ot<=nt&&nt<=st}return Number.parseInt(rt,10)===nt}Object.defineProperty(et,"__esModule",{value:!0}),et.resolveOperator=void 0,et.resolveOperator=function(nt,rt,it){for(const ot of it){const st=ot[0],ut=ot[1],ft=ot[2],dt=ot[3],lt=ot[4];if(nt.opType===st){for(const at of rt)if((at.domain===ut||at.domain==="ai.onnx"&&ut==="")&&tt(at.version,ft))return{opImpl:dt,opInit:lt}}}throw new TypeError(`cannot resolve operator '${nt.opType}' with opsets: ${rt.map(ot=>`${ot.domain||"ai.onnx"} v${ot.version}`).join(", ")}`)}},1287:(_e,et,tt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.onnxruntime=void 0;const nt=tt(5686);var rt,it;rt=et.onnxruntime||(et.onnxruntime={}),function(ot){(function(st){st[st.UNDEFINED=0]="UNDEFINED",st[st.FLOAT=1]="FLOAT",st[st.INT=2]="INT",st[st.STRING=3]="STRING",st[st.TENSOR=4]="TENSOR",st[st.GRAPH=5]="GRAPH",st[st.FLOATS=6]="FLOATS",st[st.INTS=7]="INTS",st[st.STRINGS=8]="STRINGS",st[st.TENSORS=9]="TENSORS",st[st.GRAPHS=10]="GRAPHS",st[st.SPARSE_TENSOR=11]="SPARSE_TENSOR",st[st.SPARSE_TENSORS=12]="SPARSE_TENSORS"})(ot.AttributeType||(ot.AttributeType={}))}((it=rt.experimental||(rt.experimental={})).fbs||(it.fbs={})),function(ot){(function(st){(function(ut){(function(ft){ft[ft.UNKNOWN=0]="UNKNOWN",ft[ft.VALUE=1]="VALUE",ft[ft.PARAM=2]="PARAM"})(ut.DimensionValueType||(ut.DimensionValueType={}))})(st.fbs||(st.fbs={}))})(ot.experimental||(ot.experimental={}))}(et.onnxruntime||(et.onnxruntime={})),function(ot){(function(st){(function(ut){(function(ft){ft[ft.UNDEFINED=0]="UNDEFINED",ft[ft.FLOAT=1]="FLOAT",ft[ft.UINT8=2]="UINT8",ft[ft.INT8=3]="INT8",ft[ft.UINT16=4]="UINT16",ft[ft.INT16=5]="INT16",ft[ft.INT32=6]="INT32",ft[ft.INT64=7]="INT64",ft[ft.STRING=8]="STRING",ft[ft.BOOL=9]="BOOL",ft[ft.FLOAT16=10]="FLOAT16",ft[ft.DOUBLE=11]="DOUBLE",ft[ft.UINT32=12]="UINT32",ft[ft.UINT64=13]="UINT64",ft[ft.COMPLEX64=14]="COMPLEX64",ft[ft.COMPLEX128=15]="COMPLEX128",ft[ft.BFLOAT16=16]="BFLOAT16"})(ut.TensorDataType||(ut.TensorDataType={}))})(st.fbs||(st.fbs={}))})(ot.experimental||(ot.experimental={}))}(et.onnxruntime||(et.onnxruntime={})),function(ot){(function(st){(function(ut){(function(ft){ft[ft.Primitive=0]="Primitive",ft[ft.Fused=1]="Fused"})(ut.NodeType||(ut.NodeType={}))})(st.fbs||(st.fbs={}))})(ot.experimental||(ot.experimental={}))}(et.onnxruntime||(et.onnxruntime={})),function(ot){(function(st){(function(ut){(function(ft){ft[ft.NONE=0]="NONE",ft[ft.tensor_type=1]="tensor_type",ft[ft.sequence_type=2]="sequence_type",ft[ft.map_type=3]="map_type"})(ut.TypeInfoValue||(ut.TypeInfoValue={}))})(st.fbs||(st.fbs={}))})(ot.experimental||(ot.experimental={}))}(et.onnxruntime||(et.onnxruntime={})),function(ot){(function(st){(function(ut){class ft{constructor(){this.bb=null,this.bb_pos=0}__init(lt,at){return this.bb_pos=lt,this.bb=at,this}static getRootAsShape(lt,at){return(at||new ft).__init(lt.readInt32(lt.position())+lt.position(),lt)}static getSizePrefixedRootAsShape(lt,at){return lt.setPosition(lt.position()+nt.flatbuffers.SIZE_PREFIX_LENGTH),(at||new ft).__init(lt.readInt32(lt.position())+lt.position(),lt)}dim(lt,at){let ct=this.bb.__offset(this.bb_pos,4);return ct?(at||new ot.experimental.fbs.Dimension).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+ct)+4*lt),this.bb):null}dimLength(){let lt=this.bb.__offset(this.bb_pos,4);return lt?this.bb.__vector_len(this.bb_pos+lt):0}static startShape(lt){lt.startObject(1)}static addDim(lt,at){lt.addFieldOffset(0,at,0)}static createDimVector(lt,at){lt.startVector(4,at.length,4);for(let ct=at.length-1;ct>=0;ct--)lt.addOffset(at[ct]);return lt.endVector()}static startDimVector(lt,at){lt.startVector(4,at,4)}static endShape(lt){return lt.endObject()}static createShape(lt,at){return ft.startShape(lt),ft.addDim(lt,at),ft.endShape(lt)}}ut.Shape=ft})(st.fbs||(st.fbs={}))})(ot.experimental||(ot.experimental={}))}(et.onnxruntime||(et.onnxruntime={})),function(ot){(function(st){(function(ut){class ft{constructor(){this.bb=null,this.bb_pos=0}__init(lt,at){return this.bb_pos=lt,this.bb=at,this}static getRootAsDimension(lt,at){return(at||new ft).__init(lt.readInt32(lt.position())+lt.position(),lt)}static getSizePrefixedRootAsDimension(lt,at){return lt.setPosition(lt.position()+nt.flatbuffers.SIZE_PREFIX_LENGTH),(at||new ft).__init(lt.readInt32(lt.position())+lt.position(),lt)}value(lt){let at=this.bb.__offset(this.bb_pos,4);return at?(lt||new ot.experimental.fbs.DimensionValue).__init(this.bb.__indirect(this.bb_pos+at),this.bb):null}denotation(lt){let at=this.bb.__offset(this.bb_pos,6);return at?this.bb.__string(this.bb_pos+at,lt):null}static startDimension(lt){lt.startObject(2)}static addValue(lt,at){lt.addFieldOffset(0,at,0)}static addDenotation(lt,at){lt.addFieldOffset(1,at,0)}static endDimension(lt){return lt.endObject()}static createDimension(lt,at,ct){return ft.startDimension(lt),ft.addValue(lt,at),ft.addDenotation(lt,ct),ft.endDimension(lt)}}ut.Dimension=ft})(st.fbs||(st.fbs={}))})(ot.experimental||(ot.experimental={}))}(et.onnxruntime||(et.onnxruntime={})),function(ot){(function(st){(function(ut){class ft{constructor(){this.bb=null,this.bb_pos=0}__init(lt,at){return this.bb_pos=lt,this.bb=at,this}static getRootAsDimensionValue(lt,at){return(at||new ft).__init(lt.readInt32(lt.position())+lt.position(),lt)}static getSizePrefixedRootAsDimensionValue(lt,at){return lt.setPosition(lt.position()+nt.flatbuffers.SIZE_PREFIX_LENGTH),(at||new ft).__init(lt.readInt32(lt.position())+lt.position(),lt)}dimType(){let lt=this.bb.__offset(this.bb_pos,4);return lt?this.bb.readInt8(this.bb_pos+lt):ot.experimental.fbs.DimensionValueType.UNKNOWN}dimValue(){let lt=this.bb.__offset(this.bb_pos,6);return lt?this.bb.readInt64(this.bb_pos+lt):this.bb.createLong(0,0)}dimParam(lt){let at=this.bb.__offset(this.bb_pos,8);return at?this.bb.__string(this.bb_pos+at,lt):null}static startDimensionValue(lt){lt.startObject(3)}static addDimType(lt,at){lt.addFieldInt8(0,at,ot.experimental.fbs.DimensionValueType.UNKNOWN)}static addDimValue(lt,at){lt.addFieldInt64(1,at,lt.createLong(0,0))}static addDimParam(lt,at){lt.addFieldOffset(2,at,0)}static endDimensionValue(lt){return lt.endObject()}static createDimensionValue(lt,at,ct,ht){return ft.startDimensionValue(lt),ft.addDimType(lt,at),ft.addDimValue(lt,ct),ft.addDimParam(lt,ht),ft.endDimensionValue(lt)}}ut.DimensionValue=ft})(st.fbs||(st.fbs={}))})(ot.experimental||(ot.experimental={}))}(et.onnxruntime||(et.onnxruntime={})),function(ot){(function(st){(function(ut){class ft{constructor(){this.bb=null,this.bb_pos=0}__init(lt,at){return this.bb_pos=lt,this.bb=at,this}static getRootAsTensorTypeAndShape(lt,at){return(at||new ft).__init(lt.readInt32(lt.position())+lt.position(),lt)}static getSizePrefixedRootAsTensorTypeAndShape(lt,at){return lt.setPosition(lt.position()+nt.flatbuffers.SIZE_PREFIX_LENGTH),(at||new ft).__init(lt.readInt32(lt.position())+lt.position(),lt)}elemType(){let lt=this.bb.__offset(this.bb_pos,4);return lt?this.bb.readInt32(this.bb_pos+lt):ot.experimental.fbs.TensorDataType.UNDEFINED}shape(lt){let at=this.bb.__offset(this.bb_pos,6);return at?(lt||new ot.experimental.fbs.Shape).__init(this.bb.__indirect(this.bb_pos+at),this.bb):null}static startTensorTypeAndShape(lt){lt.startObject(2)}static addElemType(lt,at){lt.addFieldInt32(0,at,ot.experimental.fbs.TensorDataType.UNDEFINED)}static addShape(lt,at){lt.addFieldOffset(1,at,0)}static endTensorTypeAndShape(lt){return lt.endObject()}static createTensorTypeAndShape(lt,at,ct){return ft.startTensorTypeAndShape(lt),ft.addElemType(lt,at),ft.addShape(lt,ct),ft.endTensorTypeAndShape(lt)}}ut.TensorTypeAndShape=ft})(st.fbs||(st.fbs={}))})(ot.experimental||(ot.experimental={}))}(et.onnxruntime||(et.onnxruntime={})),function(ot){(function(st){(function(ut){class ft{constructor(){this.bb=null,this.bb_pos=0}__init(lt,at){return this.bb_pos=lt,this.bb=at,this}static getRootAsMapType(lt,at){return(at||new ft).__init(lt.readInt32(lt.position())+lt.position(),lt)}static getSizePrefixedRootAsMapType(lt,at){return lt.setPosition(lt.position()+nt.flatbuffers.SIZE_PREFIX_LENGTH),(at||new ft).__init(lt.readInt32(lt.position())+lt.position(),lt)}keyType(){let lt=this.bb.__offset(this.bb_pos,4);return lt?this.bb.readInt32(this.bb_pos+lt):ot.experimental.fbs.TensorDataType.UNDEFINED}valueType(lt){let at=this.bb.__offset(this.bb_pos,6);return at?(lt||new ot.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+at),this.bb):null}static startMapType(lt){lt.startObject(2)}static addKeyType(lt,at){lt.addFieldInt32(0,at,ot.experimental.fbs.TensorDataType.UNDEFINED)}static addValueType(lt,at){lt.addFieldOffset(1,at,0)}static endMapType(lt){return lt.endObject()}static createMapType(lt,at,ct){return ft.startMapType(lt),ft.addKeyType(lt,at),ft.addValueType(lt,ct),ft.endMapType(lt)}}ut.MapType=ft})(st.fbs||(st.fbs={}))})(ot.experimental||(ot.experimental={}))}(et.onnxruntime||(et.onnxruntime={})),function(ot){(function(st){(function(ut){class ft{constructor(){this.bb=null,this.bb_pos=0}__init(lt,at){return this.bb_pos=lt,this.bb=at,this}static getRootAsSequenceType(lt,at){return(at||new ft).__init(lt.readInt32(lt.position())+lt.position(),lt)}static getSizePrefixedRootAsSequenceType(lt,at){return lt.setPosition(lt.position()+nt.flatbuffers.SIZE_PREFIX_LENGTH),(at||new ft).__init(lt.readInt32(lt.position())+lt.position(),lt)}elemType(lt){let at=this.bb.__offset(this.bb_pos,4);return at?(lt||new ot.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+at),this.bb):null}static startSequenceType(lt){lt.startObject(1)}static addElemType(lt,at){lt.addFieldOffset(0,at,0)}static endSequenceType(lt){return lt.endObject()}static createSequenceType(lt,at){return ft.startSequenceType(lt),ft.addElemType(lt,at),ft.endSequenceType(lt)}}ut.SequenceType=ft})(st.fbs||(st.fbs={}))})(ot.experimental||(ot.experimental={}))}(et.onnxruntime||(et.onnxruntime={})),function(ot){(function(st){(st.fbs||(st.fbs={})).EdgeEnd=class{constructor(){this.bb=null,this.bb_pos=0}__init(ut,ft){return this.bb_pos=ut,this.bb=ft,this}nodeIndex(){return this.bb.readUint32(this.bb_pos)}srcArgIndex(){return this.bb.readInt32(this.bb_pos+4)}dstArgIndex(){return this.bb.readInt32(this.bb_pos+8)}static createEdgeEnd(ut,ft,dt,lt){return ut.prep(4,12),ut.writeInt32(lt),ut.writeInt32(dt),ut.writeInt32(ft),ut.offset()}}})(ot.experimental||(ot.experimental={}))}(et.onnxruntime||(et.onnxruntime={})),function(ot){(function(st){(function(ut){class ft{constructor(){this.bb=null,this.bb_pos=0}__init(lt,at){return this.bb_pos=lt,this.bb=at,this}static getRootAsNodeEdge(lt,at){return(at||new ft).__init(lt.readInt32(lt.position())+lt.position(),lt)}static getSizePrefixedRootAsNodeEdge(lt,at){return lt.setPosition(lt.position()+nt.flatbuffers.SIZE_PREFIX_LENGTH),(at||new ft).__init(lt.readInt32(lt.position())+lt.position(),lt)}nodeIndex(){let lt=this.bb.__offset(this.bb_pos,4);return lt?this.bb.readUint32(this.bb_pos+lt):0}inputEdges(lt,at){let ct=this.bb.__offset(this.bb_pos,6);return ct?(at||new ot.experimental.fbs.EdgeEnd).__init(this.bb.__vector(this.bb_pos+ct)+12*lt,this.bb):null}inputEdgesLength(){let lt=this.bb.__offset(this.bb_pos,6);return lt?this.bb.__vector_len(this.bb_pos+lt):0}outputEdges(lt,at){let ct=this.bb.__offset(this.bb_pos,8);return ct?(at||new ot.experimental.fbs.EdgeEnd).__init(this.bb.__vector(this.bb_pos+ct)+12*lt,this.bb):null}outputEdgesLength(){let lt=this.bb.__offset(this.bb_pos,8);return lt?this.bb.__vector_len(this.bb_pos+lt):0}static startNodeEdge(lt){lt.startObject(3)}static addNodeIndex(lt,at){lt.addFieldInt32(0,at,0)}static addInputEdges(lt,at){lt.addFieldOffset(1,at,0)}static startInputEdgesVector(lt,at){lt.startVector(12,at,4)}static addOutputEdges(lt,at){lt.addFieldOffset(2,at,0)}static startOutputEdgesVector(lt,at){lt.startVector(12,at,4)}static endNodeEdge(lt){return lt.endObject()}static createNodeEdge(lt,at,ct,ht){return ft.startNodeEdge(lt),ft.addNodeIndex(lt,at),ft.addInputEdges(lt,ct),ft.addOutputEdges(lt,ht),ft.endNodeEdge(lt)}}ut.NodeEdge=ft})(st.fbs||(st.fbs={}))})(ot.experimental||(ot.experimental={}))}(et.onnxruntime||(et.onnxruntime={})),function(ot){(function(st){(function(ut){class ft{constructor(){this.bb=null,this.bb_pos=0}__init(lt,at){return this.bb_pos=lt,this.bb=at,this}static getRootAsNode(lt,at){return(at||new ft).__init(lt.readInt32(lt.position())+lt.position(),lt)}static getSizePrefixedRootAsNode(lt,at){return lt.setPosition(lt.position()+nt.flatbuffers.SIZE_PREFIX_LENGTH),(at||new ft).__init(lt.readInt32(lt.position())+lt.position(),lt)}name(lt){let at=this.bb.__offset(this.bb_pos,4);return at?this.bb.__string(this.bb_pos+at,lt):null}docString(lt){let at=this.bb.__offset(this.bb_pos,6);return at?this.bb.__string(this.bb_pos+at,lt):null}domain(lt){let at=this.bb.__offset(this.bb_pos,8);return at?this.bb.__string(this.bb_pos+at,lt):null}sinceVersion(){let lt=this.bb.__offset(this.bb_pos,10);return lt?this.bb.readInt32(this.bb_pos+lt):0}index(){let lt=this.bb.__offset(this.bb_pos,12);return lt?this.bb.readUint32(this.bb_pos+lt):0}opType(lt){let at=this.bb.__offset(this.bb_pos,14);return at?this.bb.__string(this.bb_pos+at,lt):null}type(){let lt=this.bb.__offset(this.bb_pos,16);return lt?this.bb.readInt32(this.bb_pos+lt):ot.experimental.fbs.NodeType.Primitive}executionProviderType(lt){let at=this.bb.__offset(this.bb_pos,18);return at?this.bb.__string(this.bb_pos+at,lt):null}inputs(lt,at){let ct=this.bb.__offset(this.bb_pos,20);return ct?this.bb.__string(this.bb.__vector(this.bb_pos+ct)+4*lt,at):null}inputsLength(){let lt=this.bb.__offset(this.bb_pos,20);return lt?this.bb.__vector_len(this.bb_pos+lt):0}outputs(lt,at){let ct=this.bb.__offset(this.bb_pos,22);return ct?this.bb.__string(this.bb.__vector(this.bb_pos+ct)+4*lt,at):null}outputsLength(){let lt=this.bb.__offset(this.bb_pos,22);return lt?this.bb.__vector_len(this.bb_pos+lt):0}attributes(lt,at){let ct=this.bb.__offset(this.bb_pos,24);return ct?(at||new ot.experimental.fbs.Attribute).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+ct)+4*lt),this.bb):null}attributesLength(){let lt=this.bb.__offset(this.bb_pos,24);return lt?this.bb.__vector_len(this.bb_pos+lt):0}inputArgCounts(lt){let at=this.bb.__offset(this.bb_pos,26);return at?this.bb.readInt32(this.bb.__vector(this.bb_pos+at)+4*lt):0}inputArgCountsLength(){let lt=this.bb.__offset(this.bb_pos,26);return lt?this.bb.__vector_len(this.bb_pos+lt):0}inputArgCountsArray(){let lt=this.bb.__offset(this.bb_pos,26);return lt?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+lt),this.bb.__vector_len(this.bb_pos+lt)):null}implicitInputs(lt,at){let ct=this.bb.__offset(this.bb_pos,28);return ct?this.bb.__string(this.bb.__vector(this.bb_pos+ct)+4*lt,at):null}implicitInputsLength(){let lt=this.bb.__offset(this.bb_pos,28);return lt?this.bb.__vector_len(this.bb_pos+lt):0}static startNode(lt){lt.startObject(13)}static addName(lt,at){lt.addFieldOffset(0,at,0)}static addDocString(lt,at){lt.addFieldOffset(1,at,0)}static addDomain(lt,at){lt.addFieldOffset(2,at,0)}static addSinceVersion(lt,at){lt.addFieldInt32(3,at,0)}static addIndex(lt,at){lt.addFieldInt32(4,at,0)}static addOpType(lt,at){lt.addFieldOffset(5,at,0)}static addType(lt,at){lt.addFieldInt32(6,at,ot.experimental.fbs.NodeType.Primitive)}static addExecutionProviderType(lt,at){lt.addFieldOffset(7,at,0)}static addInputs(lt,at){lt.addFieldOffset(8,at,0)}static createInputsVector(lt,at){lt.startVector(4,at.length,4);for(let ct=at.length-1;ct>=0;ct--)lt.addOffset(at[ct]);return lt.endVector()}static startInputsVector(lt,at){lt.startVector(4,at,4)}static addOutputs(lt,at){lt.addFieldOffset(9,at,0)}static createOutputsVector(lt,at){lt.startVector(4,at.length,4);for(let ct=at.length-1;ct>=0;ct--)lt.addOffset(at[ct]);return lt.endVector()}static startOutputsVector(lt,at){lt.startVector(4,at,4)}static addAttributes(lt,at){lt.addFieldOffset(10,at,0)}static createAttributesVector(lt,at){lt.startVector(4,at.length,4);for(let ct=at.length-1;ct>=0;ct--)lt.addOffset(at[ct]);return lt.endVector()}static startAttributesVector(lt,at){lt.startVector(4,at,4)}static addInputArgCounts(lt,at){lt.addFieldOffset(11,at,0)}static createInputArgCountsVector(lt,at){lt.startVector(4,at.length,4);for(let ct=at.length-1;ct>=0;ct--)lt.addInt32(at[ct]);return lt.endVector()}static startInputArgCountsVector(lt,at){lt.startVector(4,at,4)}static addImplicitInputs(lt,at){lt.addFieldOffset(12,at,0)}static createImplicitInputsVector(lt,at){lt.startVector(4,at.length,4);for(let ct=at.length-1;ct>=0;ct--)lt.addOffset(at[ct]);return lt.endVector()}static startImplicitInputsVector(lt,at){lt.startVector(4,at,4)}static endNode(lt){return lt.endObject()}static createNode(lt,at,ct,ht,pt,mt,gt,yt,bt,xt,vt,wt,_t,Ct){return ft.startNode(lt),ft.addName(lt,at),ft.addDocString(lt,ct),ft.addDomain(lt,ht),ft.addSinceVersion(lt,pt),ft.addIndex(lt,mt),ft.addOpType(lt,gt),ft.addType(lt,yt),ft.addExecutionProviderType(lt,bt),ft.addInputs(lt,xt),ft.addOutputs(lt,vt),ft.addAttributes(lt,wt),ft.addInputArgCounts(lt,_t),ft.addImplicitInputs(lt,Ct),ft.endNode(lt)}}ut.Node=ft})(st.fbs||(st.fbs={}))})(ot.experimental||(ot.experimental={}))}(et.onnxruntime||(et.onnxruntime={})),function(ot){(function(st){(function(ut){class ft{constructor(){this.bb=null,this.bb_pos=0}__init(lt,at){return this.bb_pos=lt,this.bb=at,this}static getRootAsValueInfo(lt,at){return(at||new ft).__init(lt.readInt32(lt.position())+lt.position(),lt)}static getSizePrefixedRootAsValueInfo(lt,at){return lt.setPosition(lt.position()+nt.flatbuffers.SIZE_PREFIX_LENGTH),(at||new ft).__init(lt.readInt32(lt.position())+lt.position(),lt)}name(lt){let at=this.bb.__offset(this.bb_pos,4);return at?this.bb.__string(this.bb_pos+at,lt):null}docString(lt){let at=this.bb.__offset(this.bb_pos,6);return at?this.bb.__string(this.bb_pos+at,lt):null}type(lt){let at=this.bb.__offset(this.bb_pos,8);return at?(lt||new ot.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+at),this.bb):null}static startValueInfo(lt){lt.startObject(3)}static addName(lt,at){lt.addFieldOffset(0,at,0)}static addDocString(lt,at){lt.addFieldOffset(1,at,0)}static addType(lt,at){lt.addFieldOffset(2,at,0)}static endValueInfo(lt){return lt.endObject()}static createValueInfo(lt,at,ct,ht){return ft.startValueInfo(lt),ft.addName(lt,at),ft.addDocString(lt,ct),ft.addType(lt,ht),ft.endValueInfo(lt)}}ut.ValueInfo=ft})(st.fbs||(st.fbs={}))})(ot.experimental||(ot.experimental={}))}(et.onnxruntime||(et.onnxruntime={})),function(ot){(function(st){(function(ut){class ft{constructor(){this.bb=null,this.bb_pos=0}__init(lt,at){return this.bb_pos=lt,this.bb=at,this}static getRootAsTypeInfo(lt,at){return(at||new ft).__init(lt.readInt32(lt.position())+lt.position(),lt)}static getSizePrefixedRootAsTypeInfo(lt,at){return lt.setPosition(lt.position()+nt.flatbuffers.SIZE_PREFIX_LENGTH),(at||new ft).__init(lt.readInt32(lt.position())+lt.position(),lt)}denotation(lt){let at=this.bb.__offset(this.bb_pos,4);return at?this.bb.__string(this.bb_pos+at,lt):null}valueType(){let lt=this.bb.__offset(this.bb_pos,6);return lt?this.bb.readUint8(this.bb_pos+lt):ot.experimental.fbs.TypeInfoValue.NONE}value(lt){let at=this.bb.__offset(this.bb_pos,8);return at?this.bb.__union(lt,this.bb_pos+at):null}static startTypeInfo(lt){lt.startObject(3)}static addDenotation(lt,at){lt.addFieldOffset(0,at,0)}static addValueType(lt,at){lt.addFieldInt8(1,at,ot.experimental.fbs.TypeInfoValue.NONE)}static addValue(lt,at){lt.addFieldOffset(2,at,0)}static endTypeInfo(lt){return lt.endObject()}static createTypeInfo(lt,at,ct,ht){return ft.startTypeInfo(lt),ft.addDenotation(lt,at),ft.addValueType(lt,ct),ft.addValue(lt,ht),ft.endTypeInfo(lt)}}ut.TypeInfo=ft})(st.fbs||(st.fbs={}))})(ot.experimental||(ot.experimental={}))}(et.onnxruntime||(et.onnxruntime={})),function(ot){(function(st){(function(ut){class ft{constructor(){this.bb=null,this.bb_pos=0}__init(lt,at){return this.bb_pos=lt,this.bb=at,this}static getRootAsOperatorSetId(lt,at){return(at||new ft).__init(lt.readInt32(lt.position())+lt.position(),lt)}static getSizePrefixedRootAsOperatorSetId(lt,at){return lt.setPosition(lt.position()+nt.flatbuffers.SIZE_PREFIX_LENGTH),(at||new ft).__init(lt.readInt32(lt.position())+lt.position(),lt)}domain(lt){let at=this.bb.__offset(this.bb_pos,4);return at?this.bb.__string(this.bb_pos+at,lt):null}version(){let lt=this.bb.__offset(this.bb_pos,6);return lt?this.bb.readInt64(this.bb_pos+lt):this.bb.createLong(0,0)}static startOperatorSetId(lt){lt.startObject(2)}static addDomain(lt,at){lt.addFieldOffset(0,at,0)}static addVersion(lt,at){lt.addFieldInt64(1,at,lt.createLong(0,0))}static endOperatorSetId(lt){return lt.endObject()}static createOperatorSetId(lt,at,ct){return ft.startOperatorSetId(lt),ft.addDomain(lt,at),ft.addVersion(lt,ct),ft.endOperatorSetId(lt)}}ut.OperatorSetId=ft})(st.fbs||(st.fbs={}))})(ot.experimental||(ot.experimental={}))}(et.onnxruntime||(et.onnxruntime={})),function(ot){(function(st){(function(ut){class ft{constructor(){this.bb=null,this.bb_pos=0}__init(lt,at){return this.bb_pos=lt,this.bb=at,this}static getRootAsTensor(lt,at){return(at||new ft).__init(lt.readInt32(lt.position())+lt.position(),lt)}static getSizePrefixedRootAsTensor(lt,at){return lt.setPosition(lt.position()+nt.flatbuffers.SIZE_PREFIX_LENGTH),(at||new ft).__init(lt.readInt32(lt.position())+lt.position(),lt)}name(lt){let at=this.bb.__offset(this.bb_pos,4);return at?this.bb.__string(this.bb_pos+at,lt):null}docString(lt){let at=this.bb.__offset(this.bb_pos,6);return at?this.bb.__string(this.bb_pos+at,lt):null}dims(lt){let at=this.bb.__offset(this.bb_pos,8);return at?this.bb.readInt64(this.bb.__vector(this.bb_pos+at)+8*lt):this.bb.createLong(0,0)}dimsLength(){let lt=this.bb.__offset(this.bb_pos,8);return lt?this.bb.__vector_len(this.bb_pos+lt):0}dataType(){let lt=this.bb.__offset(this.bb_pos,10);return lt?this.bb.readInt32(this.bb_pos+lt):ot.experimental.fbs.TensorDataType.UNDEFINED}rawData(lt){let at=this.bb.__offset(this.bb_pos,12);return at?this.bb.readUint8(this.bb.__vector(this.bb_pos+at)+lt):0}rawDataLength(){let lt=this.bb.__offset(this.bb_pos,12);return lt?this.bb.__vector_len(this.bb_pos+lt):0}rawDataArray(){let lt=this.bb.__offset(this.bb_pos,12);return lt?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+lt),this.bb.__vector_len(this.bb_pos+lt)):null}stringData(lt,at){let ct=this.bb.__offset(this.bb_pos,14);return ct?this.bb.__string(this.bb.__vector(this.bb_pos+ct)+4*lt,at):null}stringDataLength(){let lt=this.bb.__offset(this.bb_pos,14);return lt?this.bb.__vector_len(this.bb_pos+lt):0}static startTensor(lt){lt.startObject(6)}static addName(lt,at){lt.addFieldOffset(0,at,0)}static addDocString(lt,at){lt.addFieldOffset(1,at,0)}static addDims(lt,at){lt.addFieldOffset(2,at,0)}static createDimsVector(lt,at){lt.startVector(8,at.length,8);for(let ct=at.length-1;ct>=0;ct--)lt.addInt64(at[ct]);return lt.endVector()}static startDimsVector(lt,at){lt.startVector(8,at,8)}static addDataType(lt,at){lt.addFieldInt32(3,at,ot.experimental.fbs.TensorDataType.UNDEFINED)}static addRawData(lt,at){lt.addFieldOffset(4,at,0)}static createRawDataVector(lt,at){lt.startVector(1,at.length,1);for(let ct=at.length-1;ct>=0;ct--)lt.addInt8(at[ct]);return lt.endVector()}static startRawDataVector(lt,at){lt.startVector(1,at,1)}static addStringData(lt,at){lt.addFieldOffset(5,at,0)}static createStringDataVector(lt,at){lt.startVector(4,at.length,4);for(let ct=at.length-1;ct>=0;ct--)lt.addOffset(at[ct]);return lt.endVector()}static startStringDataVector(lt,at){lt.startVector(4,at,4)}static endTensor(lt){return lt.endObject()}static createTensor(lt,at,ct,ht,pt,mt,gt){return ft.startTensor(lt),ft.addName(lt,at),ft.addDocString(lt,ct),ft.addDims(lt,ht),ft.addDataType(lt,pt),ft.addRawData(lt,mt),ft.addStringData(lt,gt),ft.endTensor(lt)}}ut.Tensor=ft})(st.fbs||(st.fbs={}))})(ot.experimental||(ot.experimental={}))}(et.onnxruntime||(et.onnxruntime={})),function(ot){(function(st){(function(ut){class ft{constructor(){this.bb=null,this.bb_pos=0}__init(lt,at){return this.bb_pos=lt,this.bb=at,this}static getRootAsSparseTensor(lt,at){return(at||new ft).__init(lt.readInt32(lt.position())+lt.position(),lt)}static getSizePrefixedRootAsSparseTensor(lt,at){return lt.setPosition(lt.position()+nt.flatbuffers.SIZE_PREFIX_LENGTH),(at||new ft).__init(lt.readInt32(lt.position())+lt.position(),lt)}values(lt){let at=this.bb.__offset(this.bb_pos,4);return at?(lt||new ot.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+at),this.bb):null}indices(lt){let at=this.bb.__offset(this.bb_pos,6);return at?(lt||new ot.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+at),this.bb):null}dims(lt){let at=this.bb.__offset(this.bb_pos,8);return at?this.bb.readInt64(this.bb.__vector(this.bb_pos+at)+8*lt):this.bb.createLong(0,0)}dimsLength(){let lt=this.bb.__offset(this.bb_pos,8);return lt?this.bb.__vector_len(this.bb_pos+lt):0}static startSparseTensor(lt){lt.startObject(3)}static addValues(lt,at){lt.addFieldOffset(0,at,0)}static addIndices(lt,at){lt.addFieldOffset(1,at,0)}static addDims(lt,at){lt.addFieldOffset(2,at,0)}static createDimsVector(lt,at){lt.startVector(8,at.length,8);for(let ct=at.length-1;ct>=0;ct--)lt.addInt64(at[ct]);return lt.endVector()}static startDimsVector(lt,at){lt.startVector(8,at,8)}static endSparseTensor(lt){return lt.endObject()}static createSparseTensor(lt,at,ct,ht){return ft.startSparseTensor(lt),ft.addValues(lt,at),ft.addIndices(lt,ct),ft.addDims(lt,ht),ft.endSparseTensor(lt)}}ut.SparseTensor=ft})(st.fbs||(st.fbs={}))})(ot.experimental||(ot.experimental={}))}(et.onnxruntime||(et.onnxruntime={})),function(ot){(function(st){(function(ut){class ft{constructor(){this.bb=null,this.bb_pos=0}__init(lt,at){return this.bb_pos=lt,this.bb=at,this}static getRootAsAttribute(lt,at){return(at||new ft).__init(lt.readInt32(lt.position())+lt.position(),lt)}static getSizePrefixedRootAsAttribute(lt,at){return lt.setPosition(lt.position()+nt.flatbuffers.SIZE_PREFIX_LENGTH),(at||new ft).__init(lt.readInt32(lt.position())+lt.position(),lt)}name(lt){let at=this.bb.__offset(this.bb_pos,4);return at?this.bb.__string(this.bb_pos+at,lt):null}docString(lt){let at=this.bb.__offset(this.bb_pos,6);return at?this.bb.__string(this.bb_pos+at,lt):null}type(){let lt=this.bb.__offset(this.bb_pos,8);return lt?this.bb.readInt32(this.bb_pos+lt):ot.experimental.fbs.AttributeType.UNDEFINED}f(){let lt=this.bb.__offset(this.bb_pos,10);return lt?this.bb.readFloat32(this.bb_pos+lt):0}i(){let lt=this.bb.__offset(this.bb_pos,12);return lt?this.bb.readInt64(this.bb_pos+lt):this.bb.createLong(0,0)}s(lt){let at=this.bb.__offset(this.bb_pos,14);return at?this.bb.__string(this.bb_pos+at,lt):null}t(lt){let at=this.bb.__offset(this.bb_pos,16);return at?(lt||new ot.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+at),this.bb):null}g(lt){let at=this.bb.__offset(this.bb_pos,18);return at?(lt||new ot.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb_pos+at),this.bb):null}floats(lt){let at=this.bb.__offset(this.bb_pos,20);return at?this.bb.readFloat32(this.bb.__vector(this.bb_pos+at)+4*lt):0}floatsLength(){let lt=this.bb.__offset(this.bb_pos,20);return lt?this.bb.__vector_len(this.bb_pos+lt):0}floatsArray(){let lt=this.bb.__offset(this.bb_pos,20);return lt?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+lt),this.bb.__vector_len(this.bb_pos+lt)):null}ints(lt){let at=this.bb.__offset(this.bb_pos,22);return at?this.bb.readInt64(this.bb.__vector(this.bb_pos+at)+8*lt):this.bb.createLong(0,0)}intsLength(){let lt=this.bb.__offset(this.bb_pos,22);return lt?this.bb.__vector_len(this.bb_pos+lt):0}strings(lt,at){let ct=this.bb.__offset(this.bb_pos,24);return ct?this.bb.__string(this.bb.__vector(this.bb_pos+ct)+4*lt,at):null}stringsLength(){let lt=this.bb.__offset(this.bb_pos,24);return lt?this.bb.__vector_len(this.bb_pos+lt):0}tensors(lt,at){let ct=this.bb.__offset(this.bb_pos,26);return ct?(at||new ot.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+ct)+4*lt),this.bb):null}tensorsLength(){let lt=this.bb.__offset(this.bb_pos,26);return lt?this.bb.__vector_len(this.bb_pos+lt):0}graphs(lt,at){let ct=this.bb.__offset(this.bb_pos,28);return ct?(at||new ot.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+ct)+4*lt),this.bb):null}graphsLength(){let lt=this.bb.__offset(this.bb_pos,28);return lt?this.bb.__vector_len(this.bb_pos+lt):0}static startAttribute(lt){lt.startObject(13)}static addName(lt,at){lt.addFieldOffset(0,at,0)}static addDocString(lt,at){lt.addFieldOffset(1,at,0)}static addType(lt,at){lt.addFieldInt32(2,at,ot.experimental.fbs.AttributeType.UNDEFINED)}static addF(lt,at){lt.addFieldFloat32(3,at,0)}static addI(lt,at){lt.addFieldInt64(4,at,lt.createLong(0,0))}static addS(lt,at){lt.addFieldOffset(5,at,0)}static addT(lt,at){lt.addFieldOffset(6,at,0)}static addG(lt,at){lt.addFieldOffset(7,at,0)}static addFloats(lt,at){lt.addFieldOffset(8,at,0)}static createFloatsVector(lt,at){lt.startVector(4,at.length,4);for(let ct=at.length-1;ct>=0;ct--)lt.addFloat32(at[ct]);return lt.endVector()}static startFloatsVector(lt,at){lt.startVector(4,at,4)}static addInts(lt,at){lt.addFieldOffset(9,at,0)}static createIntsVector(lt,at){lt.startVector(8,at.length,8);for(let ct=at.length-1;ct>=0;ct--)lt.addInt64(at[ct]);return lt.endVector()}static startIntsVector(lt,at){lt.startVector(8,at,8)}static addStrings(lt,at){lt.addFieldOffset(10,at,0)}static createStringsVector(lt,at){lt.startVector(4,at.length,4);for(let ct=at.length-1;ct>=0;ct--)lt.addOffset(at[ct]);return lt.endVector()}static startStringsVector(lt,at){lt.startVector(4,at,4)}static addTensors(lt,at){lt.addFieldOffset(11,at,0)}static createTensorsVector(lt,at){lt.startVector(4,at.length,4);for(let ct=at.length-1;ct>=0;ct--)lt.addOffset(at[ct]);return lt.endVector()}static startTensorsVector(lt,at){lt.startVector(4,at,4)}static addGraphs(lt,at){lt.addFieldOffset(12,at,0)}static createGraphsVector(lt,at){lt.startVector(4,at.length,4);for(let ct=at.length-1;ct>=0;ct--)lt.addOffset(at[ct]);return lt.endVector()}static startGraphsVector(lt,at){lt.startVector(4,at,4)}static endAttribute(lt){return lt.endObject()}static createAttribute(lt,at,ct,ht,pt,mt,gt,yt,bt,xt,vt,wt,_t,Ct){return ft.startAttribute(lt),ft.addName(lt,at),ft.addDocString(lt,ct),ft.addType(lt,ht),ft.addF(lt,pt),ft.addI(lt,mt),ft.addS(lt,gt),ft.addT(lt,yt),ft.addG(lt,bt),ft.addFloats(lt,xt),ft.addInts(lt,vt),ft.addStrings(lt,wt),ft.addTensors(lt,_t),ft.addGraphs(lt,Ct),ft.endAttribute(lt)}}ut.Attribute=ft})(st.fbs||(st.fbs={}))})(ot.experimental||(ot.experimental={}))}(et.onnxruntime||(et.onnxruntime={})),function(ot){(function(st){(function(ut){class ft{constructor(){this.bb=null,this.bb_pos=0}__init(lt,at){return this.bb_pos=lt,this.bb=at,this}static getRootAsGraph(lt,at){return(at||new ft).__init(lt.readInt32(lt.position())+lt.position(),lt)}static getSizePrefixedRootAsGraph(lt,at){return lt.setPosition(lt.position()+nt.flatbuffers.SIZE_PREFIX_LENGTH),(at||new ft).__init(lt.readInt32(lt.position())+lt.position(),lt)}initializers(lt,at){let ct=this.bb.__offset(this.bb_pos,4);return ct?(at||new ot.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+ct)+4*lt),this.bb):null}initializersLength(){let lt=this.bb.__offset(this.bb_pos,4);return lt?this.bb.__vector_len(this.bb_pos+lt):0}nodeArgs(lt,at){let ct=this.bb.__offset(this.bb_pos,6);return ct?(at||new ot.experimental.fbs.ValueInfo).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+ct)+4*lt),this.bb):null}nodeArgsLength(){let lt=this.bb.__offset(this.bb_pos,6);return lt?this.bb.__vector_len(this.bb_pos+lt):0}nodes(lt,at){let ct=this.bb.__offset(this.bb_pos,8);return ct?(at||new ot.experimental.fbs.Node).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+ct)+4*lt),this.bb):null}nodesLength(){let lt=this.bb.__offset(this.bb_pos,8);return lt?this.bb.__vector_len(this.bb_pos+lt):0}maxNodeIndex(){let lt=this.bb.__offset(this.bb_pos,10);return lt?this.bb.readUint32(this.bb_pos+lt):0}nodeEdges(lt,at){let ct=this.bb.__offset(this.bb_pos,12);return ct?(at||new ot.experimental.fbs.NodeEdge).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+ct)+4*lt),this.bb):null}nodeEdgesLength(){let lt=this.bb.__offset(this.bb_pos,12);return lt?this.bb.__vector_len(this.bb_pos+lt):0}inputs(lt,at){let ct=this.bb.__offset(this.bb_pos,14);return ct?this.bb.__string(this.bb.__vector(this.bb_pos+ct)+4*lt,at):null}inputsLength(){let lt=this.bb.__offset(this.bb_pos,14);return lt?this.bb.__vector_len(this.bb_pos+lt):0}outputs(lt,at){let ct=this.bb.__offset(this.bb_pos,16);return ct?this.bb.__string(this.bb.__vector(this.bb_pos+ct)+4*lt,at):null}outputsLength(){let lt=this.bb.__offset(this.bb_pos,16);return lt?this.bb.__vector_len(this.bb_pos+lt):0}sparseInitializers(lt,at){let ct=this.bb.__offset(this.bb_pos,18);return ct?(at||new ot.experimental.fbs.SparseTensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+ct)+4*lt),this.bb):null}sparseInitializersLength(){let lt=this.bb.__offset(this.bb_pos,18);return lt?this.bb.__vector_len(this.bb_pos+lt):0}static startGraph(lt){lt.startObject(8)}static addInitializers(lt,at){lt.addFieldOffset(0,at,0)}static createInitializersVector(lt,at){lt.startVector(4,at.length,4);for(let ct=at.length-1;ct>=0;ct--)lt.addOffset(at[ct]);return lt.endVector()}static startInitializersVector(lt,at){lt.startVector(4,at,4)}static addNodeArgs(lt,at){lt.addFieldOffset(1,at,0)}static createNodeArgsVector(lt,at){lt.startVector(4,at.length,4);for(let ct=at.length-1;ct>=0;ct--)lt.addOffset(at[ct]);return lt.endVector()}static startNodeArgsVector(lt,at){lt.startVector(4,at,4)}static addNodes(lt,at){lt.addFieldOffset(2,at,0)}static createNodesVector(lt,at){lt.startVector(4,at.length,4);for(let ct=at.length-1;ct>=0;ct--)lt.addOffset(at[ct]);return lt.endVector()}static startNodesVector(lt,at){lt.startVector(4,at,4)}static addMaxNodeIndex(lt,at){lt.addFieldInt32(3,at,0)}static addNodeEdges(lt,at){lt.addFieldOffset(4,at,0)}static createNodeEdgesVector(lt,at){lt.startVector(4,at.length,4);for(let ct=at.length-1;ct>=0;ct--)lt.addOffset(at[ct]);return lt.endVector()}static startNodeEdgesVector(lt,at){lt.startVector(4,at,4)}static addInputs(lt,at){lt.addFieldOffset(5,at,0)}static createInputsVector(lt,at){lt.startVector(4,at.length,4);for(let ct=at.length-1;ct>=0;ct--)lt.addOffset(at[ct]);return lt.endVector()}static startInputsVector(lt,at){lt.startVector(4,at,4)}static addOutputs(lt,at){lt.addFieldOffset(6,at,0)}static createOutputsVector(lt,at){lt.startVector(4,at.length,4);for(let ct=at.length-1;ct>=0;ct--)lt.addOffset(at[ct]);return lt.endVector()}static startOutputsVector(lt,at){lt.startVector(4,at,4)}static addSparseInitializers(lt,at){lt.addFieldOffset(7,at,0)}static createSparseInitializersVector(lt,at){lt.startVector(4,at.length,4);for(let ct=at.length-1;ct>=0;ct--)lt.addOffset(at[ct]);return lt.endVector()}static startSparseInitializersVector(lt,at){lt.startVector(4,at,4)}static endGraph(lt){return lt.endObject()}static createGraph(lt,at,ct,ht,pt,mt,gt,yt,bt){return ft.startGraph(lt),ft.addInitializers(lt,at),ft.addNodeArgs(lt,ct),ft.addNodes(lt,ht),ft.addMaxNodeIndex(lt,pt),ft.addNodeEdges(lt,mt),ft.addInputs(lt,gt),ft.addOutputs(lt,yt),ft.addSparseInitializers(lt,bt),ft.endGraph(lt)}}ut.Graph=ft})(st.fbs||(st.fbs={}))})(ot.experimental||(ot.experimental={}))}(et.onnxruntime||(et.onnxruntime={})),function(ot){(function(st){(function(ut){class ft{constructor(){this.bb=null,this.bb_pos=0}__init(lt,at){return this.bb_pos=lt,this.bb=at,this}static getRootAsModel(lt,at){return(at||new ft).__init(lt.readInt32(lt.position())+lt.position(),lt)}static getSizePrefixedRootAsModel(lt,at){return lt.setPosition(lt.position()+nt.flatbuffers.SIZE_PREFIX_LENGTH),(at||new ft).__init(lt.readInt32(lt.position())+lt.position(),lt)}irVersion(){let lt=this.bb.__offset(this.bb_pos,4);return lt?this.bb.readInt64(this.bb_pos+lt):this.bb.createLong(0,0)}opsetImport(lt,at){let ct=this.bb.__offset(this.bb_pos,6);return ct?(at||new ot.experimental.fbs.OperatorSetId).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+ct)+4*lt),this.bb):null}opsetImportLength(){let lt=this.bb.__offset(this.bb_pos,6);return lt?this.bb.__vector_len(this.bb_pos+lt):0}producerName(lt){let at=this.bb.__offset(this.bb_pos,8);return at?this.bb.__string(this.bb_pos+at,lt):null}producerVersion(lt){let at=this.bb.__offset(this.bb_pos,10);return at?this.bb.__string(this.bb_pos+at,lt):null}domain(lt){let at=this.bb.__offset(this.bb_pos,12);return at?this.bb.__string(this.bb_pos+at,lt):null}modelVersion(){let lt=this.bb.__offset(this.bb_pos,14);return lt?this.bb.readInt64(this.bb_pos+lt):this.bb.createLong(0,0)}docString(lt){let at=this.bb.__offset(this.bb_pos,16);return at?this.bb.__string(this.bb_pos+at,lt):null}graph(lt){let at=this.bb.__offset(this.bb_pos,18);return at?(lt||new ot.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb_pos+at),this.bb):null}graphDocString(lt){let at=this.bb.__offset(this.bb_pos,20);return at?this.bb.__string(this.bb_pos+at,lt):null}static startModel(lt){lt.startObject(9)}static addIrVersion(lt,at){lt.addFieldInt64(0,at,lt.createLong(0,0))}static addOpsetImport(lt,at){lt.addFieldOffset(1,at,0)}static createOpsetImportVector(lt,at){lt.startVector(4,at.length,4);for(let ct=at.length-1;ct>=0;ct--)lt.addOffset(at[ct]);return lt.endVector()}static startOpsetImportVector(lt,at){lt.startVector(4,at,4)}static addProducerName(lt,at){lt.addFieldOffset(2,at,0)}static addProducerVersion(lt,at){lt.addFieldOffset(3,at,0)}static addDomain(lt,at){lt.addFieldOffset(4,at,0)}static addModelVersion(lt,at){lt.addFieldInt64(5,at,lt.createLong(0,0))}static addDocString(lt,at){lt.addFieldOffset(6,at,0)}static addGraph(lt,at){lt.addFieldOffset(7,at,0)}static addGraphDocString(lt,at){lt.addFieldOffset(8,at,0)}static endModel(lt){return lt.endObject()}static createModel(lt,at,ct,ht,pt,mt,gt,yt,bt,xt){return ft.startModel(lt),ft.addIrVersion(lt,at),ft.addOpsetImport(lt,ct),ft.addProducerName(lt,ht),ft.addProducerVersion(lt,pt),ft.addDomain(lt,mt),ft.addModelVersion(lt,gt),ft.addDocString(lt,yt),ft.addGraph(lt,bt),ft.addGraphDocString(lt,xt),ft.endModel(lt)}}ut.Model=ft})(st.fbs||(st.fbs={}))})(ot.experimental||(ot.experimental={}))}(et.onnxruntime||(et.onnxruntime={})),function(ot){(function(st){(function(ut){class ft{constructor(){this.bb=null,this.bb_pos=0}__init(lt,at){return this.bb_pos=lt,this.bb=at,this}static getRootAsKernelCreateInfos(lt,at){return(at||new ft).__init(lt.readInt32(lt.position())+lt.position(),lt)}static getSizePrefixedRootAsKernelCreateInfos(lt,at){return lt.setPosition(lt.position()+nt.flatbuffers.SIZE_PREFIX_LENGTH),(at||new ft).__init(lt.readInt32(lt.position())+lt.position(),lt)}nodeIndices(lt){let at=this.bb.__offset(this.bb_pos,4);return at?this.bb.readUint32(this.bb.__vector(this.bb_pos+at)+4*lt):0}nodeIndicesLength(){let lt=this.bb.__offset(this.bb_pos,4);return lt?this.bb.__vector_len(this.bb_pos+lt):0}nodeIndicesArray(){let lt=this.bb.__offset(this.bb_pos,4);return lt?new Uint32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+lt),this.bb.__vector_len(this.bb_pos+lt)):null}kernelDefHashes(lt){let at=this.bb.__offset(this.bb_pos,6);return at?this.bb.readUint64(this.bb.__vector(this.bb_pos+at)+8*lt):this.bb.createLong(0,0)}kernelDefHashesLength(){let lt=this.bb.__offset(this.bb_pos,6);return lt?this.bb.__vector_len(this.bb_pos+lt):0}static startKernelCreateInfos(lt){lt.startObject(2)}static addNodeIndices(lt,at){lt.addFieldOffset(0,at,0)}static createNodeIndicesVector(lt,at){lt.startVector(4,at.length,4);for(let ct=at.length-1;ct>=0;ct--)lt.addInt32(at[ct]);return lt.endVector()}static startNodeIndicesVector(lt,at){lt.startVector(4,at,4)}static addKernelDefHashes(lt,at){lt.addFieldOffset(1,at,0)}static createKernelDefHashesVector(lt,at){lt.startVector(8,at.length,8);for(let ct=at.length-1;ct>=0;ct--)lt.addInt64(at[ct]);return lt.endVector()}static startKernelDefHashesVector(lt,at){lt.startVector(8,at,8)}static endKernelCreateInfos(lt){return lt.endObject()}static createKernelCreateInfos(lt,at,ct){return ft.startKernelCreateInfos(lt),ft.addNodeIndices(lt,at),ft.addKernelDefHashes(lt,ct),ft.endKernelCreateInfos(lt)}}ut.KernelCreateInfos=ft})(st.fbs||(st.fbs={}))})(ot.experimental||(ot.experimental={}))}(et.onnxruntime||(et.onnxruntime={})),function(ot){(function(st){(function(ut){class ft{constructor(){this.bb=null,this.bb_pos=0}__init(lt,at){return this.bb_pos=lt,this.bb=at,this}static getRootAsSubGraphSessionState(lt,at){return(at||new ft).__init(lt.readInt32(lt.position())+lt.position(),lt)}static getSizePrefixedRootAsSubGraphSessionState(lt,at){return lt.setPosition(lt.position()+nt.flatbuffers.SIZE_PREFIX_LENGTH),(at||new ft).__init(lt.readInt32(lt.position())+lt.position(),lt)}graphId(lt){let at=this.bb.__offset(this.bb_pos,4);return at?this.bb.__string(this.bb_pos+at,lt):null}sessionState(lt){let at=this.bb.__offset(this.bb_pos,6);return at?(lt||new ot.experimental.fbs.SessionState).__init(this.bb.__indirect(this.bb_pos+at),this.bb):null}static startSubGraphSessionState(lt){lt.startObject(2)}static addGraphId(lt,at){lt.addFieldOffset(0,at,0)}static addSessionState(lt,at){lt.addFieldOffset(1,at,0)}static endSubGraphSessionState(lt){let at=lt.endObject();return lt.requiredField(at,4),at}static createSubGraphSessionState(lt,at,ct){return ft.startSubGraphSessionState(lt),ft.addGraphId(lt,at),ft.addSessionState(lt,ct),ft.endSubGraphSessionState(lt)}}ut.SubGraphSessionState=ft})(st.fbs||(st.fbs={}))})(ot.experimental||(ot.experimental={}))}(et.onnxruntime||(et.onnxruntime={})),function(ot){(function(st){(function(ut){class ft{constructor(){this.bb=null,this.bb_pos=0}__init(lt,at){return this.bb_pos=lt,this.bb=at,this}static getRootAsSessionState(lt,at){return(at||new ft).__init(lt.readInt32(lt.position())+lt.position(),lt)}static getSizePrefixedRootAsSessionState(lt,at){return lt.setPosition(lt.position()+nt.flatbuffers.SIZE_PREFIX_LENGTH),(at||new ft).__init(lt.readInt32(lt.position())+lt.position(),lt)}kernels(lt){let at=this.bb.__offset(this.bb_pos,4);return at?(lt||new ot.experimental.fbs.KernelCreateInfos).__init(this.bb.__indirect(this.bb_pos+at),this.bb):null}subGraphSessionStates(lt,at){let ct=this.bb.__offset(this.bb_pos,6);return ct?(at||new ot.experimental.fbs.SubGraphSessionState).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+ct)+4*lt),this.bb):null}subGraphSessionStatesLength(){let lt=this.bb.__offset(this.bb_pos,6);return lt?this.bb.__vector_len(this.bb_pos+lt):0}static startSessionState(lt){lt.startObject(2)}static addKernels(lt,at){lt.addFieldOffset(0,at,0)}static addSubGraphSessionStates(lt,at){lt.addFieldOffset(1,at,0)}static createSubGraphSessionStatesVector(lt,at){lt.startVector(4,at.length,4);for(let ct=at.length-1;ct>=0;ct--)lt.addOffset(at[ct]);return lt.endVector()}static startSubGraphSessionStatesVector(lt,at){lt.startVector(4,at,4)}static endSessionState(lt){return lt.endObject()}static createSessionState(lt,at,ct){return ft.startSessionState(lt),ft.addKernels(lt,at),ft.addSubGraphSessionStates(lt,ct),ft.endSessionState(lt)}}ut.SessionState=ft})(st.fbs||(st.fbs={}))})(ot.experimental||(ot.experimental={}))}(et.onnxruntime||(et.onnxruntime={})),function(ot){(function(st){(function(ut){class ft{constructor(){this.bb=null,this.bb_pos=0}__init(lt,at){return this.bb_pos=lt,this.bb=at,this}static getRootAsInferenceSession(lt,at){return(at||new ft).__init(lt.readInt32(lt.position())+lt.position(),lt)}static getSizePrefixedRootAsInferenceSession(lt,at){return lt.setPosition(lt.position()+nt.flatbuffers.SIZE_PREFIX_LENGTH),(at||new ft).__init(lt.readInt32(lt.position())+lt.position(),lt)}static bufferHasIdentifier(lt){return lt.__has_identifier("ORTM")}ortVersion(lt){let at=this.bb.__offset(this.bb_pos,4);return at?this.bb.__string(this.bb_pos+at,lt):null}model(lt){let at=this.bb.__offset(this.bb_pos,6);return at?(lt||new ot.experimental.fbs.Model).__init(this.bb.__indirect(this.bb_pos+at),this.bb):null}sessionState(lt){let at=this.bb.__offset(this.bb_pos,8);return at?(lt||new ot.experimental.fbs.SessionState).__init(this.bb.__indirect(this.bb_pos+at),this.bb):null}static startInferenceSession(lt){lt.startObject(3)}static addOrtVersion(lt,at){lt.addFieldOffset(0,at,0)}static addModel(lt,at){lt.addFieldOffset(1,at,0)}static addSessionState(lt,at){lt.addFieldOffset(2,at,0)}static endInferenceSession(lt){return lt.endObject()}static finishInferenceSessionBuffer(lt,at){lt.finish(at,"ORTM")}static finishSizePrefixedInferenceSessionBuffer(lt,at){lt.finish(at,"ORTM",!0)}static createInferenceSession(lt,at,ct,ht){return ft.startInferenceSession(lt),ft.addOrtVersion(lt,at),ft.addModel(lt,ct),ft.addSessionState(lt,ht),ft.endInferenceSession(lt)}}ut.InferenceSession=ft})(st.fbs||(st.fbs={}))})(ot.experimental||(ot.experimental={}))}(et.onnxruntime||(et.onnxruntime={}))},1723:(_e,et,tt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.OnnxjsSessionHandler=void 0;const nt=tt(8453),rt=tt(9240);et.OnnxjsSessionHandler=class{constructor(it){this.session=it,this.inputNames=this.session.inputNames,this.outputNames=this.session.outputNames}async dispose(){}async run(it,ot,st){const ut=new Map;for(const lt in it)if(Object.hasOwnProperty.call(it,lt)){const at=it[lt];ut.set(lt,new rt.Tensor(at.dims,at.type,void 0,void 0,at.data))}const ft=await this.session.run(ut),dt={};return ft.forEach((lt,at)=>{dt[at]=new nt.Tensor(lt.type,lt.data,lt.dims)}),dt}startProfiling(){this.session.startProfiling()}endProfiling(){this.session.endProfiling()}}},6027:(_e,et,tt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.Session=void 0;const nt=tt(7067),rt=tt(1296),it=tt(1975),ot=tt(6496),st=tt(1315),ut=tt(1745);et.Session=class{constructor(ft={}){this._initialized=!1,this.backendHint=ft.backendHint,this.profiler=st.Profiler.create(ft.profiler),this.context={profiler:this.profiler,graphInputTypes:[],graphInputDims:[]}}get inputNames(){return this._model.graph.getInputNames()}get outputNames(){return this._model.graph.getOutputNames()}startProfiling(){this.profiler.start()}endProfiling(){this.profiler.stop()}async loadModel(ft,dt,lt){await this.profiler.event("session","Session.loadModel",async()=>{const at=await(0,it.resolveBackend)(this.backendHint);if(this.sessionHandler=at.createSessionHandler(this.context),this._model=new ut.Model,typeof ft=="string"){const ct=ft.endsWith(".ort");if(typeof fetch>"u"){const ht=await(0,rt.promisify)(nt.readFile)(ft);this.initialize(ht,ct)}else{const ht=await fetch(ft),pt=await ht.arrayBuffer();this.initialize(new Uint8Array(pt),ct)}}else if(ArrayBuffer.isView(ft))this.initialize(ft);else{const ct=new Uint8Array(ft,dt||0,lt||ft.byteLength);this.initialize(ct)}})}initialize(ft,dt){if(this._initialized)throw new Error("already initialized");this.profiler.event("session","Session.initialize",()=>{const lt=this.sessionHandler.transformGraph?this.sessionHandler:void 0;this._model.load(ft,lt,dt),this.sessionHandler.onGraphInitialized&&this.sessionHandler.onGraphInitialized(this._model.graph),this.initializeOps(this._model.graph),this._executionPlan=new ot.ExecutionPlan(this._model.graph,this._ops,this.profiler)}),this._initialized=!0}async run(ft){if(!this._initialized)throw new Error("session not initialized yet");return this.profiler.event("session","Session.run",async()=>{const dt=this.normalizeAndValidateInputs(ft),lt=await this._executionPlan.execute(this.sessionHandler,dt);return this.createOutput(lt)})}normalizeAndValidateInputs(ft){const dt=this._model.graph.getInputNames();if(Array.isArray(ft)){if(ft.length!==dt.length)throw new Error(`incorrect input array length: expected ${dt.length} but got ${ft.length}`)}else{if(ft.size!==dt.length)throw new Error(`incorrect input map size: expected ${dt.length} but got ${ft.size}`);const lt=new Array(ft.size);let at=0;for(let ct=0;ct<dt.length;++ct){const ht=ft.get(dt[ct]);if(!ht)throw new Error(`missing input tensor for: '${name}'`);lt[at++]=ht}ft=lt}if(this.context.graphInputTypes&&this.context.graphInputTypes.length!==0&&this.context.graphInputDims&&this.context.graphInputDims.length!==0)this.validateInputTensorDims(this.context.graphInputDims,ft,!1);else{const lt=this._model.graph.getInputIndices(),at=this._model.graph.getValues(),ct=new Array(lt.length);for(let ht=0;ht<lt.length;++ht){const pt=at[lt[ht]];ct[ht]=pt.type.shape.dims,this.context.graphInputTypes.push(pt.type.tensorType),this.context.graphInputDims.push(ft[ht].dims)}this.validateInputTensorDims(ct,ft,!0)}return this.validateInputTensorTypes(this.context.graphInputTypes,ft),ft}validateInputTensorTypes(ft,dt){for(let lt=0;lt<dt.length;lt++){const at=ft[lt],ct=dt[lt].type;if(at!==ct)throw new Error(`input tensor[${lt}] check failed: expected type '${at}' but got ${ct}`)}}validateInputTensorDims(ft,dt,lt){for(let at=0;at<dt.length;at++){const ct=ft[at],ht=dt[at].dims;if(!this.compareTensorDims(ct,ht,lt))throw new Error(`input tensor[${at}] check failed: expected shape '[${ct.join(",")}]' but got [${ht.join(",")}]`)}}compareTensorDims(ft,dt,lt){if(ft.length!==dt.length)return!1;for(let at=0;at<ft.length;++at)if(ft[at]!==dt[at]&&(!lt||ft[at]!==0))return!1;return!0}createOutput(ft){const dt=this._model.graph.getOutputNames();if(ft.length!==dt.length)throw new Error("expected number of outputs do not match number of generated outputs");const lt=new Map;for(let at=0;at<dt.length;++at)lt.set(dt[at],ft[at]);return lt}initializeOps(ft){const dt=ft.getNodes();this._ops=new Array(dt.length);for(let lt=0;lt<dt.length;lt++)this._ops[lt]=this.sessionHandler.resolve(dt[lt],this._model.opsets,ft)}}},9240:function(_e,et,tt){var nt=this&&this.__importDefault||function(pt){return pt&&pt.__esModule?pt:{default:pt}};Object.defineProperty(et,"__esModule",{value:!0}),et.Tensor=void 0;const rt=tt(3442),it=nt(tt(3720)),ot=tt(1446),st=tt(1287),ut=tt(7273);var ft=st.onnxruntime.experimental.fbs;class dt{get data(){if(this.cache===void 0){const mt=this.dataProvider(this.dataId);if(mt.length!==this.size)throw new Error("Length of data provided by the Data Provider is inconsistent with the dims of this Tensor.");this.cache=mt}return this.cache}get stringData(){if(this.type!=="string")throw new TypeError("data type is not string");return this.data}get integerData(){switch(this.type){case"uint8":case"int8":case"uint16":case"int16":case"int32":case"uint32":case"bool":return this.data;default:throw new TypeError("data type is not integer (uint8, int8, uint16, int16, int32, uint32, bool)")}}get floatData(){switch(this.type){case"float32":case"float64":return this.data;default:throw new TypeError("data type is not float (float32, float64)")}}get numberData(){if(this.type!=="string")return this.data;throw new TypeError("type cannot be non-number (string)")}get(mt){return this.data[ut.ShapeUtil.indicesToOffset(mt,this.strides)]}set(mt,gt){this.data[ut.ShapeUtil.indicesToOffset(mt,this.strides)]=gt}async getData(){return this.cache===void 0&&(this.cache=await this.asyncDataProvider(this.dataId)),this.cache}get strides(){return this._strides||(this._strides=ut.ShapeUtil.computeStrides(this.dims)),this._strides}constructor(mt,gt,yt,bt,xt,vt=rt.Guid.create()){this.dims=mt,this.type=gt,this.dataProvider=yt,this.asyncDataProvider=bt,this.cache=xt,this.dataId=vt,this.size=ut.ShapeUtil.validateDimsAndCalcSize(mt);const wt=this.size,_t=yt===void 0&&bt===void 0&&xt===void 0;if(xt!==void 0&&xt.length!==wt)throw new RangeError("Input dims doesn't match data length.");if(gt==="string"){if(!(xt===void 0||Array.isArray(xt)&&xt.every(Ct=>typeof Ct=="string")))throw new TypeError("cache should be a string array");_t&&(this.cache=new Array(wt))}else{if(xt!==void 0){const Ct=at(gt);if(!(xt instanceof Ct))throw new TypeError(`cache should be type ${Ct.name}`)}if(_t){const Ct=new ArrayBuffer(wt*function(Et){switch(Et){case"bool":case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;case"float64":return 8;default:throw new Error(`cannot calculate sizeof() on type ${Et}`)}}(gt));this.cache=function(Et,$t){return new(at($t))(Et)}(Ct,gt)}}}static fromProto(mt){if(!mt)throw new Error("cannot construct Value from an empty tensor");const gt=ut.ProtoUtil.tensorDataTypeFromProto(mt.dataType),yt=ut.ProtoUtil.tensorDimsFromProto(mt.dims),bt=new dt(yt,gt);if(gt==="string")mt.stringData.forEach((xt,vt)=>{bt.data[vt]=(0,ut.decodeUtf8String)(xt)});else if(mt.rawData&&typeof mt.rawData.byteLength=="number"&&mt.rawData.byteLength>0){const xt=bt.data,vt=new DataView(mt.rawData.buffer,mt.rawData.byteOffset,mt.rawData.byteLength),wt=lt(mt.dataType),_t=mt.rawData.byteLength/wt;if(mt.rawData.byteLength%wt!=0)throw new Error("invalid buffer length");if(xt.length!==_t)throw new Error("buffer length mismatch");for(let Ct=0;Ct<_t;Ct++){const Et=ht(vt,mt.dataType,Ct*wt);xt[Ct]=Et}}else{let xt;switch(mt.dataType){case ot.onnx.TensorProto.DataType.FLOAT:xt=mt.floatData;break;case ot.onnx.TensorProto.DataType.INT32:case ot.onnx.TensorProto.DataType.INT16:case ot.onnx.TensorProto.DataType.UINT16:case ot.onnx.TensorProto.DataType.INT8:case ot.onnx.TensorProto.DataType.UINT8:case ot.onnx.TensorProto.DataType.BOOL:xt=mt.int32Data;break;case ot.onnx.TensorProto.DataType.INT64:xt=mt.int64Data;break;case ot.onnx.TensorProto.DataType.DOUBLE:xt=mt.doubleData;break;case ot.onnx.TensorProto.DataType.UINT32:case ot.onnx.TensorProto.DataType.UINT64:xt=mt.uint64Data;break;default:throw new Error("unspecific error")}if(xt==null)throw new Error("failed to populate data from a tensorproto value");const vt=bt.data;if(vt.length!==xt.length)throw new Error("array length mismatch");for(let wt=0;wt<xt.length;wt++){const _t=xt[wt];it.default.isLong(_t)?vt[wt]=ct(_t,mt.dataType):vt[wt]=_t}}return bt}static fromData(mt,gt,yt){return new dt(gt,yt,void 0,void 0,mt)}static fromOrtTensor(mt){if(!mt)throw new Error("cannot construct Value from an empty tensor");const gt=ut.ProtoUtil.tensorDimsFromORTFormat(mt),yt=ut.ProtoUtil.tensorDataTypeFromProto(mt.dataType()),bt=new dt(gt,yt);if(yt==="string")for(let xt=0;xt<mt.stringDataLength();xt++)bt.data[xt]=mt.stringData(xt);else if(mt.rawDataArray()&&typeof mt.rawDataLength()=="number"&&mt.rawDataLength()>0){const xt=bt.data,vt=new DataView(mt.rawDataArray().buffer,mt.rawDataArray().byteOffset,mt.rawDataLength()),wt=lt(mt.dataType()),_t=mt.rawDataLength()/wt;if(mt.rawDataLength()%wt!=0)throw new Error("invalid buffer length");if(xt.length!==_t)throw new Error("buffer length mismatch");for(let Ct=0;Ct<_t;Ct++){const Et=ht(vt,mt.dataType(),Ct*wt);xt[Ct]=Et}}return bt}}function lt(pt){switch(pt){case ot.onnx.TensorProto.DataType.UINT8:case ot.onnx.TensorProto.DataType.INT8:case ot.onnx.TensorProto.DataType.BOOL:return 1;case ot.onnx.TensorProto.DataType.UINT16:case ot.onnx.TensorProto.DataType.INT16:return 2;case ot.onnx.TensorProto.DataType.FLOAT:case ot.onnx.TensorProto.DataType.INT32:case ot.onnx.TensorProto.DataType.UINT32:return 4;case ot.onnx.TensorProto.DataType.INT64:case ot.onnx.TensorProto.DataType.DOUBLE:case ot.onnx.TensorProto.DataType.UINT64:return 8;default:throw new Error(`cannot calculate sizeof() on type ${ot.onnx.TensorProto.DataType[pt]}`)}}function at(pt){switch(pt){case"bool":case"uint8":return Uint8Array;case"int8":return Int8Array;case"int16":return Int16Array;case"uint16":return Uint16Array;case"int32":return Int32Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;default:throw new Error("unspecified error")}}function ct(pt,mt){if(mt===ot.onnx.TensorProto.DataType.INT64||mt===ft.TensorDataType.INT64){if(pt.greaterThanOrEqual(2147483648)||pt.lessThan(-2147483648))throw new TypeError("int64 is not supported")}else{if(mt!==ot.onnx.TensorProto.DataType.UINT32&&mt!==ft.TensorDataType.UINT32&&mt!==ot.onnx.TensorProto.DataType.UINT64&&mt!==ft.TensorDataType.UINT64)throw new TypeError(`not a LONG type: ${ot.onnx.TensorProto.DataType[mt]}`);if(pt.greaterThanOrEqual(4294967296)||pt.lessThan(0))throw new TypeError("uint64 is not supported")}return pt.toNumber()}function ht(pt,mt,gt){switch(mt){case ot.onnx.TensorProto.DataType.BOOL:case ot.onnx.TensorProto.DataType.UINT8:return pt.getUint8(gt);case ot.onnx.TensorProto.DataType.INT8:return pt.getInt8(gt);case ot.onnx.TensorProto.DataType.UINT16:return pt.getUint16(gt,!0);case ot.onnx.TensorProto.DataType.INT16:return pt.getInt16(gt,!0);case ot.onnx.TensorProto.DataType.FLOAT:return pt.getFloat32(gt,!0);case ot.onnx.TensorProto.DataType.INT32:return pt.getInt32(gt,!0);case ot.onnx.TensorProto.DataType.UINT32:return pt.getUint32(gt,!0);case ot.onnx.TensorProto.DataType.INT64:return ct(it.default.fromBits(pt.getUint32(gt,!0),pt.getUint32(gt+4,!0),!1),mt);case ot.onnx.TensorProto.DataType.DOUBLE:return pt.getFloat64(gt,!0);case ot.onnx.TensorProto.DataType.UINT64:return ct(it.default.fromBits(pt.getUint32(gt,!0),pt.getUint32(gt+4,!0),!0),mt);default:throw new Error(`cannot read from DataView for type ${ot.onnx.TensorProto.DataType[mt]}`)}}et.Tensor=dt},7273:function(_e,et,tt){var nt=this&&this.__importDefault||function(mt){return mt&&mt.__esModule?mt:{default:mt}};Object.defineProperty(et,"__esModule",{value:!0}),et.decodeUtf8String=et.MAX_CLIP=et.MIN_CLIP=et.PoolConvUtil=et.ReduceUtil=et.SplitUtil=et.MathUtil=et.ShapeUtil=et.LongUtil=et.ProtoUtil=et.GemmUtil=et.arrayCopyHelper=et.BroadcastUtil=et.MatMulUtil=et.ArrayUtil=et.assert=et.checkInputsShape=void 0;const rt=tt(5686),it=nt(tt(3720)),ot=tt(1446),st=tt(9240);et.checkInputsShape=function(mt,...gt){if(!mt||mt.length!==gt.length)return!1;for(let yt=0;yt<mt.length;yt++)if(!mt[yt].dims||mt[yt].dims.length!==gt[yt])return!1;return!0},et.assert=function(mt,gt){if(!mt)throw new Error(typeof gt=="string"?gt:gt())},et.ArrayUtil=class{static arraysEqual(mt,gt){if(mt.length!==gt.length)return!1;for(let yt=0;yt<mt.length;yt++)if(mt[yt]!==gt[yt])return!1;return!0}};class ut{static preprocessInputShapes(gt,yt){return[gt.length===1?[1,gt[0]]:gt,yt.length===1?[yt[0],1]:yt]}static postprocessOutputShape(gt,yt,bt){yt===1&&gt.splice(gt.length-2,1),bt===1&&gt.pop()}static calcMatMulShape(gt,yt){return gt[1]!==yt[0]?void 0:[gt[0],yt[1]]}}et.MatMulUtil=ut;class ft{static calcShape(gt,yt,bt=!1){const xt=gt.length,vt=yt.length;if(xt===0)return yt;if(vt===0)return gt;const wt=Math.max(gt.length,yt.length),_t=new Array(wt);if(bt){if(xt<2||vt<2)return;const Ct=ut.calcMatMulShape([gt[xt-2],gt[xt-1]],[yt[vt-2],yt[vt-1]]);if(Ct===void 0)return;[_t[wt-2],_t[wt-1]]=Ct}for(let Ct=bt?3:1;Ct<=wt;Ct++){const Et=xt-Ct<0?1:gt[xt-Ct],$t=vt-Ct<0?1:yt[vt-Ct];if(Et!==$t&&Et>1&&$t>1)return;_t[wt-Ct]=Math.max(Et,$t)}return _t}static index(gt,yt){const bt=new Array(yt.length);return ft.fillIndex(gt,yt,bt),bt}static fillIndex(gt,yt,bt){const xt=gt.length-yt.length;for(let vt=0;vt<yt.length;vt++)bt[vt]=gt[xt+vt]%yt[vt]}static calc(gt,yt,bt,xt,vt){const wt=ft.calcShape(gt.dims,yt.dims);if(wt){if(xt&&!at.areEqual(wt,gt.dims))return;const _t=at.size(wt),Ct=xt?gt:new st.Tensor(wt,vt||gt.type);if(wt.length===0)Ct.set([],bt(gt.get([]),yt.get([])));else{const Et=new Array(wt.length),$t=new Array(gt.dims.length),jt=new Array(yt.dims.length);let Dt,Pt=0,kt=0,At=!1,Tt=!1;gt.dims.length===0&&(Pt=gt.get([]),At=!0),yt.dims.length===0&&(kt=yt.get([]),Tt=!0);for(let St=0;St<_t;St++){Dt=St;for(let Rt=wt.length-1;Rt>=0;Rt--)Et[Rt]=Dt%wt[Rt],Dt=Math.floor(Dt/wt[Rt]);At||(ft.fillIndex(Et,gt.dims,$t),Pt=gt.get($t)),Tt||(ft.fillIndex(Et,yt.dims,jt),kt=yt.get(jt)),Ct.set(Et,bt(Pt,kt))}}return Ct}}static isValidBroadcast(gt,yt){const bt=gt.length,xt=yt.length;if(bt>xt)return!1;for(let vt=1;vt<=bt;vt++)if(gt[bt-vt]!==1&&gt[bt-vt]!==yt[xt-vt])return!1;return!0}static getBroadcastDims(gt,yt){const bt=gt.length,xt=[];for(let vt=0;vt<bt;vt++){const wt=bt-1-vt,_t=gt[wt]||1;(yt[yt.length-1-vt]||1)>1&&_t===1&&xt.unshift(wt)}return xt}}et.BroadcastUtil=ft,et.arrayCopyHelper=function(mt,gt,yt,bt,xt){if(bt<0||bt>=gt.length)throw new Error("sourceIndex out of bounds");if(yt<0||yt>=mt.length)throw new Error("targetIndex out of bounds");if(bt+xt>gt.length)throw new Error("source indices to be copied are outside bounds");if(yt+xt>mt.length)throw new Error("target array is too small to hold result");for(let vt=0;vt<xt;vt++)mt[yt+vt]=gt[bt+vt]},et.GemmUtil=class{static getShapeOfGemmResult(mt,gt,yt,bt,xt){if(mt.length!==2||yt.length!==2)throw new Error("shape need to be of size 2");let vt,wt,_t;gt?(vt=mt[1],wt=mt[0]):(vt=mt[0],wt=mt[1]);let Ct=-1;if(bt?(_t=yt[0],Ct=1):(_t=yt[1],Ct=0),yt[Ct]!==wt)throw new Error("dimension mismatch");if(vt<=0||_t<=0||wt<=0)throw new Error("invalid shape specified");if(xt&&!ft.isValidBroadcast(xt,[vt,_t]))throw new Error("gemm: invalid bias shape for broadcast");return[vt,_t,wt]}};class dt{static tensorDataTypeFromProto(gt){switch(gt){case ot.onnx.TensorProto.DataType.INT8:return"int8";case ot.onnx.TensorProto.DataType.UINT8:return"uint8";case ot.onnx.TensorProto.DataType.BOOL:return"bool";case ot.onnx.TensorProto.DataType.INT16:return"int16";case ot.onnx.TensorProto.DataType.UINT16:return"uint16";case ot.onnx.TensorProto.DataType.INT32:return"int32";case ot.onnx.TensorProto.DataType.UINT32:return"uint32";case ot.onnx.TensorProto.DataType.FLOAT:return"float32";case ot.onnx.TensorProto.DataType.DOUBLE:return"float64";case ot.onnx.TensorProto.DataType.STRING:return"string";case ot.onnx.TensorProto.DataType.INT64:return"int32";case ot.onnx.TensorProto.DataType.UINT64:return"uint32";default:throw new Error(`unsupported data type: ${ot.onnx.TensorProto.DataType[gt]}`)}}static tensorDataTypeStringToEnum(gt){switch(gt){case"int8":return ot.onnx.TensorProto.DataType.INT8;case"uint8":return ot.onnx.TensorProto.DataType.UINT8;case"bool":return ot.onnx.TensorProto.DataType.BOOL;case"int16":return ot.onnx.TensorProto.DataType.INT16;case"uint16":return ot.onnx.TensorProto.DataType.UINT16;case"int32":return ot.onnx.TensorProto.DataType.INT32;case"uint32":return ot.onnx.TensorProto.DataType.UINT32;case"float32":return ot.onnx.TensorProto.DataType.FLOAT;case"float64":return ot.onnx.TensorProto.DataType.DOUBLE;case"string":return ot.onnx.TensorProto.DataType.STRING;case"int64":return ot.onnx.TensorProto.DataType.INT64;case"uint64":return ot.onnx.TensorProto.DataType.UINT64;default:throw new Error(`unsupported data type: ${gt}`)}}static tensorDimsFromProto(gt){return gt.map(yt=>it.default.isLong(yt)?yt.toNumber():yt)}static tensorValueTypeFromProto(gt){return{tensorType:dt.tensorDataTypeFromProto(gt.elemType),shape:{dims:dt.tensorDimsFromProto(gt.shape.dim.map(yt=>yt.dimValue))}}}static tensorDimsFromORTFormat(gt){const yt=[];for(let bt=0;bt<gt.dimsLength();bt++)yt.push(lt.longToNumber(gt.dims(bt)));return yt}static tensorAttributesFromORTFormat(gt){const yt=[];for(let bt=0;bt<gt.attributesLength();bt++)yt.push(gt.attributes(bt));return yt}}et.ProtoUtil=dt;class lt{static longToNumber(gt,yt){return it.default.isLong(gt)?gt.toNumber():gt instanceof rt.flatbuffers.Long?it.default.fromValue({low:gt.low,high:gt.high,unsigned:yt!=null&&yt}).toNumber():gt}static isLong(gt){return it.default.isLong(gt)||gt instanceof rt.flatbuffers.Long}}et.LongUtil=lt;class at{static size(gt){return at.getSizeFromDimensionRange(gt,0,gt.length)}static sizeFromDimension(gt,yt){if(yt<0||yt>gt.length)throw new Error(`invalid dimension of ${yt} for sizeFromDimension as Tensor has ${gt.length} dimensions.`);return at.getSizeFromDimensionRange(gt,yt,gt.length)}static sizeToDimension(gt,yt){if(yt<0||yt>gt.length)throw new Error(`invalid dimension of ${yt} for sizeToDimension as Tensor has ${gt.length} dimensions.`);return at.getSizeFromDimensionRange(gt,0,yt)}static getSizeFromDimensionRange(gt,yt,bt){let xt=1;for(let vt=yt;vt<bt;vt++){if(gt[vt]<=0)throw new Error("cannot get valid size from specified dimension range. Most likely the range contains 0 or negative values in them.");xt*=gt[vt]}return xt}static computeStrides(gt){const yt=gt.length;if(yt===0)return[];if(yt===1)return[1];const bt=new Array(yt);bt[yt-1]=1,bt[yt-2]=gt[yt-1];for(let xt=yt-3;xt>=0;--xt)bt[xt]=bt[xt+1]*gt[xt+1];return bt}static transpose(gt){return gt.slice().reverse()}static indicesToOffset(gt,yt,bt){bt===void 0&&(bt=gt.length);let xt=0;for(let vt=0;vt<bt;++vt)xt+=yt[vt]*gt[vt];return xt}static offsetToIndices(gt,yt){const bt=yt.length;if(bt===0)return[];if(bt===1)return[gt*yt[0]];const xt=new Array(yt.length);for(let vt=0;vt<xt.length-1;++vt)xt[vt]=Math.floor(gt/yt[vt]),gt-=xt[vt]*yt[vt];return xt[xt.length-1]=gt,xt}static normalizeAxis(gt,yt){if(gt<-yt&&gt>=yt)throw new Error("unsupported axis for this operation.");return gt<0?gt+yt:gt}static normalizeAxes(gt,yt){return gt.map(bt=>this.normalizeAxis(bt,yt))}static incrementIndex(gt,yt,bt){if(yt.length===0||gt.length===0)throw new Error("Index incrementing unsupported for scalar Tensor");if(bt===void 0)bt=yt.length;else if(bt<=0||bt>yt.length)throw new Error("Incorrect axis to increment on");for(let xt=bt-1;xt>=0&&(gt[xt]++,!(gt[xt]<yt[xt]));--xt)gt[xt]=0}static calculateReshapedDims(gt,yt){if(yt.length===0){if(gt.length===0||at.size(gt)===1)return[];throw new Error("cannot reshape to a scalar Tensor")}const bt=yt.length,xt=new Array(bt);let vt=-1,wt=1;for(let Ct=0;Ct<bt;Ct++){if(yt[Ct]<-1)throw new Error("a dimension in shape hints cannot be less than -1");if(yt[Ct]===-1){if(vt!==-1)throw new Error("at most one dimension in shape hints can be -1");vt=Ct}else{if(yt[Ct]===0){if(Ct>=gt.length)throw new Error("the dimension with value zero exceeds the dimension size of the input tensor");xt[Ct]=gt[Ct]}else xt[Ct]=yt[Ct];wt*=xt[Ct]}}const _t=at.size(gt);if(vt!==-1){if(_t%wt!=0)throw new Error(`the input tensor cannot be reshaped to the requested shape. Input shape: [${gt}] Output shape: [${yt}]`);xt[vt]=_t/wt}else if(wt!==_t)throw new Error("reshapedDims and originalDims don't have matching sizes");return xt}static sortBasedOnPerm(gt,yt){return yt?yt.map(bt=>gt[bt]):gt.slice().reverse()}static padShape(gt,yt){const bt=gt.length;return gt.map((xt,vt)=>xt+yt[vt]+yt[vt+bt])}static areEqual(gt,yt){return gt.length===yt.length&&gt.every((bt,xt)=>bt===yt[xt])}static validateDimsAndCalcSize(gt){if(gt.length>6)throw new TypeError("Only rank 0 to 6 is supported for tensor shape.");let yt=1;for(const bt of gt){if(!Number.isInteger(bt))throw new TypeError(`Invalid shape: ${bt} is not an integer`);if(bt<0||bt>2147483647)throw new TypeError(`Invalid shape: length ${bt} is not allowed`);yt*=bt}return yt}static flattenShape(gt,yt){yt<0&&(yt+=gt.length);const bt=gt.reduce((vt,wt)=>vt*wt,1),xt=gt.slice(yt).reduce((vt,wt)=>vt*wt,1);return[bt/xt,xt]}static squeezeShape(gt,yt){const bt=new Array;yt=at.normalizeAxes(yt,gt.length);for(let xt=0;xt<gt.length;xt++){const vt=yt.indexOf(xt)>=0;if(vt&&gt[xt]!==1)throw new Error("squeeze an axis of size different than 1");(yt.length===0&&gt[xt]>1||yt.length>0&&!vt)&&bt.push(gt[xt])}return bt}static unsqueezeShape(gt,yt){const bt=new Array(gt.length+yt.length);bt.fill(0);for(let vt=0;vt<yt.length;vt++){const wt=at.normalizeAxis(yt[vt],bt.length);if(wt>=bt.length)throw new Error("'axes' has an out of range axis");if(bt[wt]!==0)throw new Error("'axes' has a duplicate axis");bt[wt]=1}let xt=0;for(let vt=0;vt<bt.length;vt++)bt[vt]===0&&(bt[vt]=gt[xt++]);if(xt!==gt.length)throw new Error("the unsqueezed dimension could not be established");return bt}}et.ShapeUtil=at,et.MathUtil=class{static sqr(mt,gt,yt,bt,xt){if(bt<0||bt>=gt.length)throw new Error("sourceIndex out of bounds");if(yt<0||yt>=mt.length)throw new Error("targetIndex out of bounds");if(bt+xt>gt.length)throw new Error("source indices to be copied are outside bounds");if(yt+xt>mt.length)throw new Error("target array is too small to hold result");for(let vt=0;vt<xt;vt++)mt[yt+vt]+=Math.pow(gt[bt+vt],2)}static axpy(mt,gt,yt,bt,xt,vt){if(bt<0||bt>=gt.length)throw new Error("sourceIndex out of bounds");if(yt<0||yt>=mt.length)throw new Error("targetIndex out of bounds");if(bt+xt>gt.length)throw new Error("source indices to be copied are outside bounds");if(yt+xt>mt.length)throw new Error("target array is too small to hold result");for(let wt=0;wt<xt;wt++)mt[yt+wt]+=vt*gt[bt+wt]}static powx(mt,gt,yt,bt,xt,vt){if(bt<0||bt>=gt.length)throw new Error("sourceIndex out of bounds");if(yt<0||yt>=mt.length)throw new Error("targetIndex out of bounds");if(bt+xt>gt.length)throw new Error("source indices to be copied are outside bounds");if(yt+xt>mt.length)throw new Error("target array is too small to hold result");for(let wt=0;wt<xt;wt++)mt[yt+wt]=Math.pow(gt[bt+wt],vt)}static mul(mt,gt,yt,bt,xt){if(bt<0||bt>=gt.length)throw new Error("sourceIndex out of bounds");if(yt<0||yt>=mt.length)throw new Error("targetIndex out of bounds");if(bt+xt>gt.length)throw new Error("source indices to be copied are outside bounds");if(yt+xt>mt.length)throw new Error("target array is too small to hold result");for(let vt=0;vt<xt;vt++)mt[yt+vt]=gt[bt+vt]*mt[yt+vt]}};class ct{static splitShape(gt,yt,bt,xt){if(bt.length===0){if(!xt)throw new Error("need to know number of outputs when the 'split' attribute is not specified");ct.determineSplit(gt[yt],xt,bt)}const vt=[],wt=[0];for(let _t=0;_t<bt.length;++_t){_t!==0&&wt.push(wt[_t-1]+bt[_t-1]);const Ct=gt.slice();Ct[yt]=bt[_t],vt.push(Ct)}return[vt,wt]}static determineSplit(gt,yt,bt){if(gt%yt!=0)throw new Error("cannot split tensor to equal sized parts");for(let xt=0;xt<yt;++xt)bt.push(gt/yt)}}et.SplitUtil=ct;class ht{static calcReduce(gt,yt,bt,xt,vt){const wt=gt.dims.slice(0);yt.length===0&&wt.forEach((Pt,kt)=>yt.push(kt));const _t=ht.calcReduceShape(wt,yt,!0),Ct=at.size(_t),Et=new st.Tensor(_t,gt.type),$t=at.computeStrides(_t),jt=at.computeStrides(wt),Dt=new Array(wt.length);for(let Pt=0;Pt<Ct;Pt++){const kt=at.offsetToIndices(Pt,$t);ft.fillIndex(kt,wt,Dt),Et.set(kt,ht.calcReduceByAxis(gt.numberData,yt,wt,0,at.indicesToOffset(Dt,jt),xt,vt))}return bt?Et:new st.Tensor(ht.calcReduceShape(wt,yt,bt),Et.type,void 0,void 0,Et.data,Et.dataId)}static calcReduceByAxis(gt,yt,bt,xt,vt,wt,_t){let Ct=0;if(xt>=yt.length)return wt(gt[vt]);const Et=yt[xt],$t=Et>=bt.length?1:at.size(bt.slice(Et+1));for(let jt=0;jt<bt[Et];jt++)Ct=jt===0?ht.calcReduceByAxis(gt,yt,bt,xt+1,vt,wt,_t):_t(Ct,ht.calcReduceByAxis(gt,yt,bt,xt+1,vt,wt,_t)),vt+=$t;return Ct}static calcReduceShape(gt,yt,bt){const xt=gt.slice();for(let vt=0;vt<yt.length;vt++)xt[yt[vt]]=bt?1:0;return xt.filter(vt=>vt!==0)}}et.ReduceUtil=ht;class pt{static adjustPoolAttributes(gt,yt,bt,xt,vt,wt){if(!gt&&bt.length!==yt.length-2)throw new Error("length of specified kernel shapes should be 2 less than length of input dimensions");if(gt)for(let _t=0;_t<yt.length-2;_t++)_t>=bt.length?bt.push(yt[_t+2]):bt[_t]=yt[_t+2];for(let _t=0;_t<bt.length;_t++)if(_t<xt.length){if(xt[_t]<0)throw new Error("strides should be greater than or equal to 1")}else xt.push(1);for(let _t=0;_t<bt.length;_t++)if(_t<vt.length){if(vt[_t]<0)throw new Error("dilations should be greater than or equal to 1")}else vt.push(1);for(let _t=0;_t<2*bt.length;_t++)if(_t<wt.length){if(wt[_t]<0)throw new Error("pad should be greater than or equal to 1")}else wt.push(0);for(let _t=0;_t<bt.length;_t++){if(bt[_t]<=0)throw new Error("kernel shapes need to be greater than 0");if(wt[_t]>=bt[_t]||wt[_t+bt.length]>=bt[_t])throw new Error("pads should be smaller than kernel")}}static adjustPadsBasedOnAutoPad(gt,yt,bt,xt,vt,wt){if(wt){if(vt.length!==2*(gt.length-2))throw new Error("length of pads should be twice the length of data dimensions");if(yt.length!==gt.length-2)throw new Error("length of strides should be the length of data dimensions");if(xt.length!==gt.length-2)throw new Error("length of kernel shapes should be the length of data dimensions");for(let _t=0;_t<gt.length-2;_t++)pt.adjustPadAndReturnShape(gt[_t+2],yt[_t],bt[_t],xt[_t],vt,_t,_t+gt.length-2,wt)}}static computePoolOutputShape(gt,yt,bt,xt,vt,wt,_t){if(yt.length<=0)throw new Error("input shape must be of size greater than 0");const Ct=[yt[0],yt[1]];return pt.computeShapeHelper(gt,yt,Ct,bt,xt,vt,wt,_t),Ct}static computeConvOutputShape(gt,yt,bt,xt,vt,wt,_t){if(gt.length<=0||yt.length<=0)throw new Error("invalid input tensor dims or invalid filter tensor dims");const Ct=[gt[0],yt[0]];return pt.computeShapeHelper(!1,gt,Ct,bt,xt,vt,wt,_t),Ct}static computeShapeHelper(gt,yt,bt,xt,vt,wt,_t,Ct){if(gt)for(let Et=0;Et<yt.length-2;Et++)bt.push(1);else for(let Et=0;Et<yt.length-2;Et++)bt.push(pt.adjustPadAndReturnShape(yt[Et+2],xt[Et],vt[Et],wt[Et],_t,Et,Et+yt.length-2,Ct))}static adjustPadAndReturnShape(gt,yt,bt,xt,vt,wt,_t,Ct){const Et=bt*(xt-1)+1;if(!Ct||Ct==="NOTSET")return Math.floor((gt+vt[wt]+vt[_t]-Et)/yt+1);switch(Ct){case"VALID":return vt[wt]=0,vt[_t]=0,Math.floor((gt-Et)/yt+1);case"SAME_LOWER":case"SAME_UPPER":if(bt!==1)throw new Error("Dilation not supported for SAME_UPPER or SAME_LOWER");{const $t=((gt+yt-1)/yt-1)*yt+xt-gt;return vt[wt]=Math.floor(Ct==="SAME_LOWER"?($t+1)/2:$t/2),vt[_t]=$t-vt[wt],Math.floor((gt+$t-xt)/yt+1)}default:throw new Error("Unsupported AutoPad type")}}}et.PoolConvUtil=pt,et.MIN_CLIP=-34028234663852886e22,et.MAX_CLIP=34028234663852886e22,et.decodeUtf8String=function(mt){return new TextDecoder().decode(mt)}},3838:(_e,et,tt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.WebGpuBackend=void 0;const nt=tt(8453),rt=tt(4955),it=tt(7771),ot=tt(8510),st=tt(8305);et.WebGpuBackend=class{constructor(){this.currentKernelId=null,this.commandEncoder=null,this.computePassEncoder=null,this.pendingDispatchNumber=0,this.profilingEnabled=!1}get currentKernelCustomData(){if(this.currentKernelId===null)throw new Error("currentKernelCustomData(): currentKernelId is null. (should not happen)");let ut=this.kernelCustomData.get(this.currentKernelId);return ut||(ut={},this.kernelCustomData.set(this.currentKernelId,ut)),ut}async initialize(){if(!navigator.gpu)throw new Error("WebGpuBackend: WebGPU is not available.");const ut=await navigator.gpu.requestAdapter();if(!ut)throw new Error("WebGpuBackend: Failed to get GPU adapter.");const ft={requiredLimits:{maxComputeWorkgroupStorageSize:ut.limits.maxComputeWorkgroupStorageSize,maxComputeWorkgroupsPerDimension:ut.limits.maxComputeWorkgroupsPerDimension,maxStorageBufferBindingSize:ut.limits.maxStorageBufferBindingSize}};ut.features.has("timestamp-query-inside-passes")&&nt.env.webgpu.profilingMode==="default"&&(this.profilingEnabled=!0,ft.requiredFeatures=["timestamp-query-inside-passes"]),this.device=await ut.requestDevice(ft),this.gpuDataManager=(0,it.createGpuDataManager)(this),this.programManager=new st.ProgramManager(this),this.kernels=new Map,this.kernelPersistentData=new Map,this.kernelCustomData=new Map,this.device.onuncapturederror=dt=>{dt.error instanceof GPUValidationError&&console.error(`An uncaught WebGPU validation error was raised: ${dt.error.message}`)},this.profilingEnabled&&(this.profilingQuerySet=this.device.createQuerySet({type:"timestamp",count:2}))}dispose(){}getCommandEncoder(){return this.commandEncoder||(this.commandEncoder=this.device.createCommandEncoder()),this.commandEncoder}getComputePassEncoder(){return this.computePassEncoder||(this.computePassEncoder=this.getCommandEncoder().beginComputePass()),this.computePassEncoder}endComputePass(){this.computePassEncoder&&(this.computePassEncoder.end(),this.computePassEncoder=null)}flush(){this.endComputePass(),this.device.queue.submit([this.getCommandEncoder().finish()]),this.gpuDataManager.refreshPendingBuffers(),this.commandEncoder=null,this.pendingDispatchNumber=0}run(ut,ft,dt,lt,at){if(ft.length!==ut.inputTypes.length)throw new Error(`Input size must be equal to ${ut.inputTypes.length}.`);const ct=[];for(let vt=0;vt<ft.length;++vt){const wt=this.gpuDataManager.get(ft[vt].data);if(!wt)throw new Error(`no GPU data for input: ${ft[vt].data}`);ct[vt]=wt}const ht=((vt,wt,_t)=>{const Ct=wt.map(jt=>`${jt.join(",")}`).join("_"),Et=_t.join("_");let $t=vt.name;return vt.cacheHint&&($t+="["+vt.cacheHint+"]"),$t+=":"+Ct+";"+Et,$t})(ut,ft.map(vt=>vt.dims),ct.map(vt=>vt.type));let pt=this.programManager.getArtifact(ht);const mt=pt?pt.programInfo:typeof ut.get=="function"?ut.get():ut,gt=dt.length===0?mt.outputs.map((vt,wt)=>wt):dt;if(gt.length!==mt.outputs.length)throw new Error(`Output size ${gt.length} must be equal to ${mt.outputs.length}.`);const yt=[],bt=[];for(let vt=0;vt<mt.outputs.length;++vt){if(!Number.isInteger(gt[vt])||gt[vt]<-2||gt[vt]>=mt.outputs.length)throw new Error(`Invalid output index: ${gt[vt]}`);const wt=gt[vt]===-1,_t=gt[vt]===-2,Ct=wt||_t?at(mt.outputs[vt].dataType,mt.outputs[vt].dims):lt(gt[vt],mt.outputs[vt].dataType,mt.outputs[vt].dims),Et=this.gpuDataManager.get(Ct.data);if(!Et)throw new Error(`no GPU data for output: ${Ct.data}`);if(wt&&this.temporaryData.push(Et),_t){let $t=this.kernelPersistentData.get(this.currentKernelId);$t||($t=[],this.kernelPersistentData.set(this.currentKernelId,$t)),$t.push(Et)}yt.push(Ct),bt.push(Et)}const xt=this.programManager.normalizeDispatchGroupSize(mt.dispatchGroup(ft));return pt||(pt=this.programManager.build(mt,xt),this.programManager.setArtifact(ht,pt)),(0,rt.LOG_DEBUG)("info",()=>`[ProgramManager] run "${mt.name}" (key=${ht}) with ${xt[0]}x${xt[1]}x${xt[2]}`),this.programManager.run(pt,ct,bt,xt),yt}upload(ut,ft){this.gpuDataManager.upload(ut,ft)}memcpy(ut,ft){this.gpuDataManager.memcpy(ut,ft)}async download(ut,ft){const dt=await this.gpuDataManager.download(ut);ft().set(new Uint8Array(dt))}alloc(ut){return this.gpuDataManager.create(ut).id}free(ut){return this.gpuDataManager.release(ut)}createKernel(ut,ft,dt){const lt=ot.WEBGPU_OP_RESOLVE_RULES.get(ut);if(!lt)throw new Error(`kernel not implemented: ${ut}`);this.kernels.set(ft,[ut,lt[0],[lt[1],dt]])}releaseKernel(ut){const ft=this.kernelPersistentData.get(ut);if(ft){for(const dt of ft)this.gpuDataManager.release(dt.id);this.kernelPersistentData.delete(ut)}this.kernelCustomData.delete(ut),this.kernels.delete(ut)}computeKernel(ut,ft){const dt=this.kernels.get(ut);if(!dt)throw new Error(`kernel not created: ${ut}`);const[lt,at,ct]=dt;if(this.currentKernelId!==null)throw new Error(`kernel "${lt}" is not allowed to be called recursively`);this.currentKernelId=ut,ct[0]&&(ct[1]=ct[0](ct[1]),ct[0]=void 0),(0,rt.LOG_DEBUG)("info",()=>`[WebGPU] Start to run kernel "${lt}"...`),this.temporaryData=[];try{return at(ft,ct[1]),0}catch(ht){return(0,rt.LOG_DEBUG)("warning",`[WebGPU] Kernel "${lt}" failed. Error: ${ht}`),1}finally{for(const ht of this.temporaryData)this.gpuDataManager.release(ht.id);this.temporaryData=[],this.currentKernelId=null}}}},7675:(_e,et,tt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.init=void 0;const nt=tt(7917),rt=tt(3838),it=tt(4955),ot=tt(6952);class st{constructor(dt,lt,at,ct){this.module=dt,this.dataType=lt,this.data=at,this.dims=ct}getFloat32Array(){return new Float32Array(this.module.HEAP8.buffer,this.data,ot.ShapeUtil.size(this.dims))}reshape(dt){if(ot.ShapeUtil.size(dt)!==ot.ShapeUtil.size(this.dims))throw new Error("Invalid new shape");return new st(this.module,this.dataType,this.data,dt)}}class ut{get customData(){return this.backend.currentKernelCustomData}constructor(dt,lt,at){this.module=dt,this.backend=lt;const ct=dt.HEAPU32;let ht=at>>2;this.opKernelContext=ct[ht++];const pt=ct[ht++],mt=[];for(let gt=0;gt<pt;gt++){const yt=ct[ht++],bt=ct[ht++],xt=ct[ht++],vt=[];for(let wt=0;wt<xt;wt++)vt.push(ct[ht++]);mt.push(new st(dt,yt,bt,vt))}this.inputs=mt}compute(dt,lt){var at,ct,ht;const pt=(ct=(at=lt==null?void 0:lt.inputs)===null||at===void 0?void 0:at.map(gt=>typeof gt=="number"?this.inputs[gt]:gt))!==null&&ct!==void 0?ct:this.inputs,mt=(ht=lt==null?void 0:lt.outputs)!==null&&ht!==void 0?ht:[];return this.backend.run(dt,pt,mt,(gt,yt,bt)=>new st(this.module,yt,this.output(gt,bt),bt),(gt,yt)=>{const bt=(0,nt.getTensorElementSize)(gt);if(!bt)throw new Error(`Unsupported data type: ${gt}`);const xt=bt*ot.ShapeUtil.size(yt);return new st(this.module,gt,this.backend.gpuDataManager.create(xt).id,yt)})}output(dt,lt){const at=this.module.stackSave();try{const ct=this.module.stackAlloc(4*(1+lt.length));let ht=ct>>2;this.module.HEAPU32[ht++]=lt.length;for(let pt=0;pt<lt.length;pt++)this.module.HEAPU32[ht++]=lt[pt];return this.module._JsepOutput(this.opKernelContext,dt,ct)}finally{this.module.stackRestore(at)}}}et.init=async ft=>{const dt=ft.jsepInit;if(dt&&navigator.gpu){const lt=new rt.WebGpuBackend;await lt.initialize(),dt({backend:lt},at=>lt.alloc(at),at=>lt.free(at),(at,ct,ht,pt=!1)=>{if(pt)(0,it.LOG_DEBUG)("verbose",()=>`[WebGPU] jsepCopyGpuToGpu: src=${at}, dst=${ct}, size=${ht}`),lt.memcpy(at,ct);else{(0,it.LOG_DEBUG)("verbose",()=>`[WebGPU] jsepCopyCpuToGpu: dataOffset=${at}, gpuDataId=${ct}, size=${ht}`);const mt=ft.HEAPU8.subarray(at,at+ht);lt.upload(ct,mt)}},async(at,ct,ht)=>{(0,it.LOG_DEBUG)("verbose",()=>`[WebGPU] jsepCopyGpuToCpu: gpuDataId=${at}, dataOffset=${ct}, size=${ht}`),await lt.download(at,()=>ft.HEAPU8.subarray(ct,ct+ht))},(at,ct,ht)=>lt.createKernel(at,ct,ht),at=>lt.releaseKernel(at),(at,ct)=>{(0,it.LOG_DEBUG)("verbose",()=>`[WebGPU] jsepRun: kernel=${at}, contextDataOffset=${ct}`);const ht=new ut(ft,lt,ct);return lt.computeKernel(at,ht)})}}},4955:(_e,et,tt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.LOG_DEBUG=et.LOG=void 0;const nt=tt(8453),rt=tt(7917),it=["V","I","W","E","F"];et.LOG=(ot,st)=>{const ut=(0,rt.logLevelStringToEnum)(ot);var ft,dt;ut>=(0,rt.logLevelStringToEnum)(nt.env.logLevel)&&(ft=ut,dt=typeof st=="function"?st():st,console.log(`[${it[ft]},${new Date().toISOString()}]${dt}`))},et.LOG_DEBUG=(...ot)=>{nt.env.debug&&(0,et.LOG)(...ot)}},6952:(_e,et)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.MAX_CLIP=et.MIN_CLIP=et.GemmUtil=et.PoolConvUtil=et.ShapeUtil=et.BroadcastUtil=et.MatMulUtil=void 0;class tt{static calcMatMulShape(st,ut){return st[1]!==ut[0]?void 0:[st[0],ut[1]]}}et.MatMulUtil=tt;class nt{static calcShape(st,ut,ft=!1){const dt=st.length,lt=ut.length;if(dt===0)return ut;if(lt===0)return st;const at=Math.max(st.length,ut.length),ct=new Array(at);if(ft){if(dt<2||lt<2)return;const ht=tt.calcMatMulShape([st[dt-2],st[dt-1]],[ut[lt-2],ut[lt-1]]);if(ht===void 0)return;[ct[at-2],ct[at-1]]=ht}for(let ht=ft?3:1;ht<=at;ht++){const pt=dt-ht<0?1:st[dt-ht],mt=lt-ht<0?1:ut[lt-ht];if(pt!==mt&&pt>1&&mt>1)return;ct[at-ht]=Math.max(pt,mt)}return ct}static isValidBroadcast(st,ut){const ft=st.length,dt=ut.length;if(ft>dt)return!1;for(let lt=1;lt<=ft;lt++)if(st[ft-lt]!==1&&st[ft-lt]!==ut[dt-lt])return!1;return!0}}et.BroadcastUtil=nt;class rt{static size(st){return rt.getSizeFromDimensionRange(st,0,st.length)}static sizeFromDimension(st,ut){if(ut<0||ut>st.length)throw new Error(`invalid dimension of ${ut} for sizeFromDimension as Tensor has ${st.length} dimensions.`);return rt.getSizeFromDimensionRange(st,ut,st.length)}static sizeToDimension(st,ut){if(ut<0||ut>st.length)throw new Error(`invalid dimension of ${ut} for sizeToDimension as Tensor has ${st.length} dimensions.`);return rt.getSizeFromDimensionRange(st,0,ut)}static getSizeFromDimensionRange(st,ut,ft){let dt=1;for(let lt=ut;lt<ft;lt++){if(st[lt]<=0)throw new Error("cannot get valid size from specified dimension range. Most likely the range contains 0 or negative values in them.");dt*=st[lt]}return dt}static computeStrides(st){const ut=st.length;if(ut===0)return[];if(ut===1)return[1];const ft=new Array(ut);ft[ut-1]=1,ft[ut-2]=st[ut-1];for(let dt=ut-3;dt>=0;--dt)ft[dt]=ft[dt+1]*st[dt+1];return ft}static normalizeAxis(st,ut){if(st<-ut&&st>=ut)throw new Error("unsupported axis for this operation.");return st<0?st+ut:st}static normalizeAxes(st,ut){return st.map(ft=>this.normalizeAxis(ft,ut??st.length))}static sortBasedOnPerm(st,ut){return ut?ut.map(ft=>st[ft]):st.slice().reverse()}static padShape(st,ut){const ft=st.length;return st.map((dt,lt)=>dt+ut[lt]+ut[lt+ft])}static areEqual(st,ut){return st.length===ut.length&&st.every((ft,dt)=>ft===ut[dt])}}et.ShapeUtil=rt;class it{static adjustPoolAttributes(st,ut,ft,dt,lt,at){if(!st&&ft.length!==ut.length-2)throw new Error("length of specified kernel shapes should be 2 less than length of input dimensions");if(st)for(let ct=0;ct<ut.length-2;ct++)ct>=ft.length?ft.push(ut[ct+2]):ft[ct]=ut[ct+2];for(let ct=0;ct<ft.length;ct++)if(ct<dt.length){if(dt[ct]<0)throw new Error("strides should be greater than or equal to 1")}else dt.push(1);for(let ct=0;ct<ft.length;ct++)if(ct<lt.length){if(lt[ct]<0)throw new Error("dilations should be greater than or equal to 1")}else lt.push(1);for(let ct=0;ct<2*ft.length;ct++)if(ct<at.length){if(at[ct]<0)throw new Error("pad should be greater than or equal to 1")}else at.push(0);for(let ct=0;ct<ft.length;ct++){if(ft[ct]<=0)throw new Error("kernel shapes need to be greater than 0");if(at[ct]>=ft[ct]||at[ct+ft.length]>=ft[ct])throw new Error("pads should be smaller than kernel")}}static adjustPadsBasedOnAutoPad(st,ut,ft,dt,lt,at,ct){if(ct){if(lt.length!==2*(st.length-2))throw new Error("length of pads should be twice the length of data dimensions");if(ut.length!==st.length-2)throw new Error("length of strides should be the length of data dimensions");if(dt.length!==st.length-2)throw new Error("length of kernel shapes should be the length of data dimensions");for(let ht=0;ht<st.length-2;ht++)it.adjustPadAndReturnShape(st[ht+(at?1:2)],ut[ht],ft[ht],dt[ht],lt,ht,ht+st.length-2,ct)}}static computePoolOutputShape(st,ut,ft,dt,lt,at,ct){if(ut.length<=0)throw new Error("input shape must be of size greater than 0");const ht=[ut[0],ut[1]];return it.computeShapeHelper(st,ut,ht,ft,dt,lt,at,ct),ht}static computeConvOutputShape(st,ut,ft,dt,lt,at,ct){if(st.length<=0||ut.length<=0)throw new Error("invalid input tensor dims or invalid filter tensor dims");const ht=[st[0],ut[0]];return it.computeShapeHelper(!1,st,ht,ft,dt,lt,at,ct),ht}static computeShapeHelper(st,ut,ft,dt,lt,at,ct,ht){if(st)for(let pt=0;pt<ut.length-2;pt++)ft.push(1);else for(let pt=0;pt<ut.length-2;pt++)ft.push(it.adjustPadAndReturnShape(ut[pt+2],dt[pt],lt[pt],at[pt],ct,pt,pt+ut.length-2,ht))}static adjustPadAndReturnShape(st,ut,ft,dt,lt,at,ct,ht){const pt=ft*(dt-1)+1;if(!ht||ht==="NOTSET")return Math.floor((st+lt[at]+lt[ct]-pt)/ut+1);switch(ht){case"VALID":return lt[at]=0,lt[ct]=0,Math.floor((st-pt)/ut+1);case"SAME_LOWER":case"SAME_UPPER":if(ft!==1)throw new Error("Dilation not supported for SAME_UPPER or SAME_LOWER");{const mt=((st+ut-1)/ut-1)*ut+dt-st;return lt[at]=Math.floor(ht==="SAME_LOWER"?(mt+1)/2:mt/2),lt[ct]=mt-lt[at],Math.floor((st+mt-dt)/ut+1)}default:throw new Error("Unsupported AutoPad type")}}}et.PoolConvUtil=it,et.GemmUtil=class{static getShapeOfGemmResult(ot,st,ut,ft,dt){if(ot.length!==2||ut.length!==2)throw new Error("shape need to be of size 2");let lt,at,ct;st?(lt=ot[1],at=ot[0]):(lt=ot[0],at=ot[1]);let ht=-1;if(ft?(ct=ut[0],ht=1):(ct=ut[1],ht=0),ut[ht]!==at)throw new Error("dimension mismatch");if(lt<=0||ct<=0||at<=0)throw new Error("invalid shape specified");if(dt&&!nt.isValidBroadcast(dt,[lt,ct]))throw new Error("gemm: invalid bias shape for broadcast");return[lt,ct,at]}},et.MIN_CLIP=-34028234663852886e22,et.MAX_CLIP=34028234663852886e22},387:(_e,et)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.createAttributeWithCacheKey=void 0;class tt{constructor(rt){Object.assign(this,rt)}get cacheKey(){return this._cacheKey||(this._cacheKey=Object.getOwnPropertyNames(this).sort().map(rt=>`${this[rt]}`).join(";")),this._cacheKey}}et.createAttributeWithCacheKey=nt=>new tt(nt)},7771:(_e,et,tt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.createGpuDataManager=void 0;const nt=tt(4955),rt=tt(1163),it=ut=>16*Math.ceil(ut/16);let ot=0;class st{constructor(ft){this.backend=ft,this.storageCache=new Map,this.downloadCache=new Map,this.buffersForUploadingPending=[],this.buffersPending=[]}upload(ft,dt){const lt=dt.buffer,at=dt.byteOffset,ct=dt.byteLength,ht=it(ct),pt=this.storageCache.get(ft);if(!pt)throw new Error("gpu data for uploading does not exist");if(pt.originalSize!==ct)throw new Error(`inconsistent data size. gpu data size=${pt.originalSize}, data size=${ct}`);const mt=this.backend.device.createBuffer({mappedAtCreation:!0,size:ht,usage:GPUBufferUsage.MAP_WRITE|GPUBufferUsage.COPY_SRC}),gt=mt.getMappedRange();new Uint8Array(gt).set(new Uint8Array(lt,at,ct)),mt.unmap();const yt=this.backend.getCommandEncoder();this.backend.endComputePass(),yt.copyBufferToBuffer(mt,0,pt.gpuData.buffer,0,ht),(0,nt.LOG_DEBUG)("verbose",()=>`[WebGPU] GpuDataManager.upload(id=${ft})`),this.buffersForUploadingPending.push(mt)}memcpy(ft,dt){const lt=this.storageCache.get(ft);if(!lt)throw new Error("source gpu data for memcpy does not exist");const at=this.storageCache.get(dt);if(!at)throw new Error("destination gpu data for memcpy does not exist");if(lt.originalSize!==at.originalSize)throw new Error("inconsistent source and destination gpu data size");const ct=it(lt.originalSize);this.backend.getCommandEncoder().copyBufferToBuffer(lt.gpuData.buffer,0,at.gpuData.buffer,0,ct)}create(ft,dt=GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_SRC|GPUBufferUsage.COPY_DST){const lt=it(ft),at=this.backend.device.createBuffer({size:lt,usage:dt}),ct={id:ot++,type:rt.GpuDataType.default,buffer:at};return this.storageCache.set(ct.id,{gpuData:ct,originalSize:ft}),(0,nt.LOG_DEBUG)("verbose",()=>`[WebGPU] GpuDataManager.create(size=${ft}) => id=${ct.id}`),ct}get(ft){var dt;return(dt=this.storageCache.get(ft))===null||dt===void 0?void 0:dt.gpuData}release(ft){const dt=this.storageCache.get(ft);if(!dt)throw new Error("releasing data does not exist");return(0,nt.LOG_DEBUG)("verbose",()=>`[WebGPU] GpuDataManager.release(id=${ft}), gpuDataId=${dt.gpuData.id}`),this.storageCache.delete(ft),this.buffersPending.push(dt.gpuData.buffer),this.downloadCache.get(ft)&&this.downloadCache.delete(ft),dt.originalSize}async download(ft){const dt=this.downloadCache.get(ft);if(dt)return dt.data;const lt=this.storageCache.get(ft);if(!lt)throw new Error("data does not exist");const at=this.backend.getCommandEncoder();this.backend.endComputePass();const ct=this.backend.device.createBuffer({size:lt.originalSize,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ});at.copyBufferToBuffer(lt.gpuData.buffer,0,ct,0,lt.originalSize),this.backend.flush();const ht=new Promise(pt=>{ct.mapAsync(GPUMapMode.READ).then(()=>{const mt=ct.getMappedRange().slice(0);ct.destroy(),pt(mt)})});return this.downloadCache.set(ft,{data:ht}),ht}refreshPendingBuffers(){for(const ft of this.buffersForUploadingPending)ft.destroy();for(const ft of this.buffersPending)ft.destroy()}}et.createGpuDataManager=(...ut)=>new st(...ut)},8510:function(_e,et,tt){var nt=this&&this.__createBinding||(Object.create?function(ct,ht,pt,mt){mt===void 0&&(mt=pt);var gt=Object.getOwnPropertyDescriptor(ht,pt);gt&&!("get"in gt?!ht.__esModule:gt.writable||gt.configurable)||(gt={enumerable:!0,get:function(){return ht[pt]}}),Object.defineProperty(ct,mt,gt)}:function(ct,ht,pt,mt){mt===void 0&&(mt=pt),ct[mt]=ht[pt]}),rt=this&&this.__setModuleDefault||(Object.create?function(ct,ht){Object.defineProperty(ct,"default",{enumerable:!0,value:ht})}:function(ct,ht){ct.default=ht}),it=this&&this.__importStar||function(ct){if(ct&&ct.__esModule)return ct;var ht={};if(ct!=null)for(var pt in ct)pt!=="default"&&Object.prototype.hasOwnProperty.call(ct,pt)&&nt(ht,ct,pt);return rt(ht,ct),ht};Object.defineProperty(et,"__esModule",{value:!0}),et.WEBGPU_OP_RESOLVE_RULES=void 0;const ot=it(tt(504)),st=tt(9770),ut=tt(4271),ft=tt(1522),dt=it(tt(5262)),lt=tt(2625),at=it(tt(9302));et.WEBGPU_OP_RESOLVE_RULES=new Map([["Abs",[at.abs]],["Acos",[at.acos]],["Acosh",[at.acosh]],["Add",[ot.add]],["Asin",[at.asin]],["Asinh",[at.asinh]],["Atan",[at.atan]],["Atanh",[at.atanh]],["AveragePool",[dt.averagePool,dt.parseAveragePoolAttributes]],["Ceil",[at.ceil]],["ClipV10",[at.clipV10]],["Clip",[at.clip]],["Conv",[st.conv,st.parseConvAttributes]],["Cos",[at.cos]],["Cosh",[at.cosh]],["Div",[ot.div]],["Elu",[at.elu,at.parseAlphaAttributes]],["Erf",[at.erf]],["Exp",[at.exp]],["Floor",[at.floor]],["Gemm",[ut.gemm,ut.parseGemmAttributes]],["GlobalAveragePool",[dt.globalAveragePool,dt.parseGlobalAveragePoolAttributes]],["GlobalMaxPool",[dt.globalMaxPool,dt.parseGlobalMaxPoolAttributes]],["LeakyRelu",[at.leakyRelu,at.parseAlphaAttributes]],["MatMul",[ft.matMul]],["MaxPool",[dt.maxPool,dt.parseMaxPoolAttributes]],["Mul",[ot.mul]],["Neg",[at.neg]],["Pow",[ot.pow]],["Reciprocal",[at.reciprocal]],["Relu",[at.relu]],["Sigmoid",[at.sigmoid]],["Sin",[at.sin]],["Sinh",[at.sinh]],["Sqrt",[at.sqrt]],["Sub",[ot.sub]],["Tan",[at.tan]],["Tanh",[at.tanh]],["ThresholdedRelu",[at.thresholdedRelu,at.parseAlphaAttributes]],["Transpose",[lt.transpose,lt.parseTransposeAttributes]]])},1427:(_e,et)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.biasActivationSnippet=et.activationFnSnippet=et.typeSnippet=void 0,et.typeSnippet=tt=>{switch(tt){case 1:return"f32";case 2:return"vec2<f32>";case 3:return"vec3<f32>";case 4:return"vec4<f32>";default:throw new Error(`${tt}-component is not supported.`)}},et.activationFnSnippet=(tt,nt=!1,rt=!1,it=3)=>"",et.biasActivationSnippet=(tt,nt)=>`
      ${tt?"value = value + getBiasByOutputCoords(coords);":""}
      ${nt?"value = activation(value, coords);":""}
      `},9456:(_e,et,tt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.createConv2DMatMulProgramInfo=void 0;const nt=tt(4955),rt=tt(6952),it=tt(1163),ot=tt(1427),st=tt(4085),ut=tt(158);et.createConv2DMatMulProgramInfo=(ft,dt,lt,at,ct,ht,pt,mt,gt)=>{const yt=lt.format==="NHWC",bt=yt?ft[0].dims[3]:ft[0].dims[1],xt=at[0],vt=yt?at[2]:at[3],wt=yt?at[1]:at[2],_t=yt?at[3]:at[1],Ct=((bt%4==0||bt%3==0)&&yt||vt%4==0&&!yt)&&_t%4==0,Et=yt?_t:vt*wt,$t=yt?vt*wt:_t,jt=Ct?[8,8,1]:[Et<=4?4:16,Et>4&&$t<=4?4:16,1],Dt=Ct?[4,4,1]:[Et<=4?1:2,Et>4&&$t<=4?1:2,1],Pt=[Math.ceil(Et/jt[0]/Dt[0]),Math.ceil($t/jt[1]/Dt[1]),Math.ceil(xt/jt[2]/Dt[1])];(0,nt.LOG_DEBUG)("verbose",()=>`[conv2d_mm_webgpu] dispatch = ${Pt}`);const kt=Ct?yt&&bt%4!=0?3:4:Dt[0],At=jt[1]*Dt[1],Tt=jt[0]*Dt[0],St=Math.max(jt[0]*kt,jt[1]),Rt=ct%At==0,Ot=ht%Tt==0,Nt=pt%St==0,It=Ct?[kt,4,4]:[1,1,1],Bt=[`@group(0) @binding(0) var<storage, read> x: array<${Ct&&kt===4?"vec4<f32>":"f32"}>;`,`@group(0) @binding(1) var<storage, read> w: array<${Ct?"vec4<f32>":"f32"}>;`];let zt=`
      fn setOutputAtIndex(flatIndex : i32, value : ${Ct?"vec4<f32>":"f32"}) {
        result[flatIndex] = ${Ct?"vec4<f32>":"f32"}(value);
      }
      fn setOutputAtCoords(d0 : i32, d1 : i32, d2 : i32, d3 : i32, value : ${Ct?"vec4<f32>":"f32"}) {
        let flatIndex = getOutputIndexFromCoords(vec4<i32>(d0, d1, d2, d3));
        setOutputAtIndex(flatIndex ${Ct?"/ 4":""}, value);
      }`;return mt&&(Bt.push(`@group(0) @binding(2) var<storage, read> bias: array<${Ct?"vec4<f32>":"f32"}>;`),zt+=`
        fn getBiasByOutputCoords(coords : vec4<i32>) -> ${Ct?"vec4<f32>":"f32"} {
          return bias[coords.${yt?"w":"y"}${Ct?"/ 4":""}];
        }`),Object.assign(Object.assign({},dt),{outputs:[{dims:at,dataType:ft[0].dataType,gpuDataType:it.GpuDataType.default}],dispatchGroup:()=>({x:Pt[0],y:Pt[1],z:Pt[2]}),getShaderSource:()=>`
        ${st.utilFunctions}
        //struct Uniforms { xShape : vec4<i32>, wShape : vec4<i32>, outShape : vec4<i32>,
        //  outShapeStrides: vec3<i32>, filterDims : vec2<i32>, pad : vec2<i32>, stride : vec2<i32>,
        //  dilation : vec2<i32>, dimAOuter : i32, dimBOuter : i32, dimInner : i32 };
        ${Bt.join("")}
        @group(0) @binding(${Bt.length}) var<storage, read_write> result: array<${Ct?"vec4<f32>":"f32"}>;
        //@group(0) @binding(${Bt.length+1}) var<uniform> uniforms: Uniforms;

        const xShape : vec4<i32> = vec4<i32>(${ft[0].dims.join(",")});
        const wShape : vec4<i32> = vec4<i32>(${ft[1].dims.join(",")});
        const outShape : vec4<i32> = vec4<i32>(${at.join(",")});
        const outShapeStrides : vec3<i32> = vec3<i32>(${rt.ShapeUtil.computeStrides(at).slice(0,3).join(",")});
        const filterDims : vec2<i32> = vec2<i32>(${lt.kernelShape[0]}, ${lt.kernelShape[1]});
        const pad : vec2<i32> = vec2<i32>(${lt.pads[0]}, ${lt.pads[1]});
        const stride : vec2<i32> = vec2<i32>(${lt.strides[0]}, ${lt.strides[1]});
        const dilation : vec2<i32> = vec2<i32>(${lt.dilations[0]}, ${lt.dilations[1]});
        const dimAOuter : i32 = ${ct};
        const dimBOuter : i32 = ${ht};
        const dimInner : i32 = ${pt};
        ${zt}
        ${((Gt,Kt,fn,dn,Wt=!1,rn,Vt=!1,an=4,Qt=4,Zt=4)=>{const xn=Gt?`
    let coord = vec4<i32>(batch, xRow, xCol, xCh);
    `:`
    let coord = vec4<i32>(batch, xCh, xRow, xCol);
    `,vn=Gt?`
    let coords = vec4<i32>(
      batch,
      row / outWidth,
      row % outWidth,
      col);
    `:`
    let coords = vec4<i32>(
      batch,
      row,
      col / outWidth,
      col % outWidth);
    `,gn=Gt?"xShape[1]":"xShape[2]",Cn=Gt?"xShape[2]":"xShape[3]",kn=Gt?"row":"col",En=Gt?"col":"row",sn=`
    let inChannels = wShape[2];
    let outWidth = ${Gt?"outShape[2]":"outShape[3]"};
    let outRow = ${kn} / outWidth;
    let outCol = ${kn} % outWidth;

    let WRow = ${En} / (filterDims[1] * inChannels);
    let WCol = ${En} / inChannels % filterDims[1];
    let xRow = outRow * stride[0] + dilation[0] * WRow - pad[0];
    let xCol = outCol * stride[1] + dilation[1] * WCol - pad[1];
    let xCh = ${En} % inChannels;
    var resData = ${(0,ot.typeSnippet)(an)}(0.0);
    // The bounds checking is always needed since we use it to pad zero for
    // the 'same' padding type.
    if (xRow >= 0 && xRow < ${gn} && xCol >= 0 && xCol < ${Cn}) {
      ${xn}
      let xIndex = getIndexFromCoords4D(coord, xShape);
      ${(wn=>{switch(wn){case 1:return"resData = x[xIndex];";case 3:return"resData = vec3<f32>(x[xIndex], x[xIndex + 1], x[xIndex + 2]);";case 4:return"resData = x[xIndex / 4];";default:throw new Error(`innerElementSize ${wn} is not supported.`)}})(an)}
    }
    return resData;`,On=Gt?Kt&&dn?`
    let col = colIn * ${an};
    ${sn}`:`
    let col = colIn * ${an};
    if (row < dimAOuter && col < dimInner) {
      ${sn}
    }
    return ${(0,ot.typeSnippet)(an)}(0.0);`:dn&&fn?`
    let col = colIn * ${an};
    ${sn}`:`
    let col = colIn * ${an};
    if (row < dimInner && col < dimBOuter) {
      ${sn}
    }
    return ${(0,ot.typeSnippet)(an)}(0.0);`,Tn=`${(wn=>{switch(wn){case 1:return"return w[row * wShape[3] + colIn];";case 4:return"return w[row * wShape[3] / 4 + colIn];";default:throw new Error(`innerElementSize ${wn} is not supported.`)}})(Qt)}`,bn=(0,ot.typeSnippet)(Zt),Dn=Gt?(0,ot.typeSnippet)(an):(0,ot.typeSnippet)(Qt),Nn=Gt?(0,ot.typeSnippet)(Qt):(0,ot.typeSnippet)(an);return`
    ${(0,ot.activationFnSnippet)(rn,Vt,Zt===4,4)}
    fn mm_readA(batch: i32, row : i32, colIn : i32) -> ${Dn} {
      ${Gt?On:Tn}
    }

    fn mm_readB(batch: i32, row : i32, colIn : i32) -> ${Nn} {
      ${Gt?Tn:On}
    }

    fn mm_write(batch: i32, row : i32, colIn : i32, valueIn : ${bn}) {
      let col = colIn * ${Zt};
      if (row < dimAOuter && col < dimBOuter)
      {
      var value = valueIn;
      let outWidth = ${Gt?"outShape[2]":"outShape[3]"};
      ${vn}
      ${(0,ot.biasActivationSnippet)(Wt,rn)}
      setOutputAtCoords(coords[0], coords[1], coords[2], coords[3], value);
      }
    }`})(yt,Rt,Ot,Nt,mt,void 0,!1,It[0],It[1],It[2])}
            ${Ct?(0,ut.makeMatMulPackedVec4Source)(Dt,jt,!yt,St):(0,ut.makeMatMulPackedSource)(Dt,jt,!yt,St,!1,void 0,gt)}`})}},4085:(_e,et)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.utilFunctions=void 0,et.utilFunctions=`
fn getIndexFromCoords4D(coords : vec4<i32>, shape : vec4<i32>) -> i32 {
  return dot(coords, vec4<i32>(
      shape.y * shape.z * shape.w, shape.z * shape.w, shape.w, 1));
}
fn getOutputIndexFromCoords(coords : vec4<i32>) -> i32 {
  return dot(coords, vec4<i32>(
    outShapeStrides.x, outShapeStrides.y, outShapeStrides.z, 1));
}
`},158:(_e,et)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.makeMatMulPackedSource=et.makeMatMulPackedVec4Source=void 0,et.makeMatMulPackedVec4Source=(nt,rt,it=!1,ot=32,st=!1,ut=32,ft=!1)=>{const dt=rt[1]*nt[1],lt=rt[0]*nt[0],at=it?dt:ot,ct=it?ot:dt,ht=at/rt[0],pt=ot/rt[1];if((!it||ht!==4||nt[1]!==4)&&(it||ht!==3&&ht!==4)||at%rt[0]!=0||ot%rt[1]!=0||nt[0]!==4)throw new Error(`If transposeA ${it} is true, innerElementSize ${ht} and workPerThread[1] ${nt[1]} must be 4.
      Otherwise, innerElementSize ${ht} must be 3 or 4.
  tileAWidth ${at} must be divisible by workgroupSize[0]${rt[0]}. tileInner ${ot} must be divisible by workgroupSize[1] ${rt[1]}. colPerThread ${nt[0]} must be 4.`);return`
var<workgroup> mm_Asub : array<array<vec${ht}<f32>, ${at/ht}>, ${ct}>;
var<workgroup> mm_Bsub : array<array<vec4<f32>, ${lt/nt[0]}>, ${ot}>;

const rowPerThread = ${nt[1]};
const colPerThread = ${nt[0]};
const innerElementSize = ${ht};
const tileInner = ${ot};

@compute @workgroup_size(${rt[0]}, ${rt[1]}, ${rt[2]})
fn main(@builtin(local_invocation_id) localId : vec3<u32>,
        @builtin(global_invocation_id) globalId : vec3<u32>,
        @builtin(workgroup_id) workgroupId : vec3<u32>) {
  let localRow = i32(localId.y);
  let tileRow = ${ft?"0":"localRow * rowPerThread"};
  let tileCol = i32(localId.x);

  let globalRow = ${ft?"0":"i32(globalId.y) * rowPerThread"};
  let globalCol = i32(globalId.x);
  let batch = ${st?"0":"i32(globalId.z)"};
  let globalRowStart = i32(workgroupId.y) * ${dt};

  let numTiles = ${st?`${Math.ceil(ut/ot)}`:"(dimInner - 1) / tileInner + 1"};
  var kStart = ${st?`i32(globalId.z) * ${ut}`:"0"};

  var acc: array<vec4<f32>, rowPerThread>;

  // Loop over shared dimension.
  let tileRowB = localRow * ${pt};
  for (var t = 0; t < numTiles; t = t + 1) {
      // Load one tile of A into local memory.
      for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {
          let inputRow = tileRow + innerRow;
          let inputCol = tileCol;
          ${mt=it,mt?`
        mm_Asub[inputRow][inputCol] = mm_readA(batch,
          kStart + inputRow,
          globalRowStart / innerElementSize + inputCol);
        `:`
        mm_Asub[inputRow][inputCol] = mm_readA(batch,
          globalRow + innerRow,
          kStart / innerElementSize + inputCol);
        `}
      }

      // Load one tile of B into local memory.
      for (var innerRow = 0; innerRow < ${pt}; innerRow = innerRow + 1) {
          let inputRow = tileRowB + innerRow;
          let inputCol = tileCol;
          mm_Bsub[inputRow][inputCol] = mm_readB(batch, kStart + inputRow, globalCol);
      }
      kStart = kStart + tileInner;
      workgroupBarrier();

      // Compute acc values for a single thread.
      for (var k = 0; k < tileInner / innerElementSize; k = k + 1) {
          let BCached0 = mm_Bsub[k * innerElementSize][tileCol];
          let BCached1 = mm_Bsub[k * innerElementSize + 1][tileCol];
          let BCached2 = mm_Bsub[k * innerElementSize + 2][tileCol];
          ${ht===3?"":"let BCached3 = mm_Bsub[k * innerElementSize + 3][tileCol];"}

          ${((gt,yt)=>gt?`
        let ACached0 = mm_Asub[k * innerElementSize][localRow];
        let ACached1 = mm_Asub[k * innerElementSize + 1][localRow];
        let ACached2 = mm_Asub[k * innerElementSize + 2][localRow];
        ${yt===3?"":"let ACached3 = mm_Asub[k * innerElementSize + 3][localRow];"}
        for (var i = 0; i < rowPerThread; i = i + 1) {
          acc[i] = BCached0 * ACached0[i] + acc[i];
          acc[i] = BCached1 * ACached1[i] + acc[i];
          acc[i] = BCached2 * ACached2[i] + acc[i];
          ${yt===3?"":"acc[i] = BCached3 * ACached3[i] + acc[i];"}
        }`:`
        for (var i = 0; i < rowPerThread; i = i + 1) {
          let ACached = mm_Asub[tileRow + i][k];
          acc[i] = BCached0 * ACached.x + acc[i];
          acc[i] = BCached1 * ACached.y + acc[i];
          acc[i] = BCached2 * ACached.z + acc[i];
          ${yt===3?"":"acc[i] = BCached3 * ACached.w + acc[i];"}
        }`)(it,ht)}
      }

      workgroupBarrier();
  }

  for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {
      mm_write(batch, globalRow + innerRow, globalCol, acc[innerRow]);
  }
}`;var mt};const tt=nt=>nt?`
            mm_Asub[inputRow][inputCol] = mm_readA(batch,
              kStart + inputRow,
              globalRowStart + inputCol);
            `:`
            mm_Asub[inputRow][inputCol] = mm_readA(batch,
              globalRowStart + inputRow,
              kStart + inputCol);
            `;et.makeMatMulPackedSource=(nt,rt,it=!1,ot=32,st=!1,ut=32,ft=!1)=>{const dt=nt[1]*rt[1],lt=nt[0]*rt[0],at=it?dt:ot,ct=it?ot:dt;if(ct%rt[1]!=0||at%rt[0]!=0||ot%rt[1]!=0)throw new Error(`tileAHight ${ct} must be divisible by workgroupSize[1]${rt[1]}, tileAWidth ${at} must be divisible by workgroupSize[0]${rt[0]}, tileInner ${ot} must be divisible by workgroupSize[1]${rt[1]}`);const ht=ct/rt[1],pt=at/rt[0],mt=ot/rt[1],gt=ft?`
    let localRow = i32(localId.y);
    let localCol = i32(localId.x);
    let globalRowStart = i32(workgroupId.y) * ${dt};
    let globalColStart = i32(workgroupId.x) * ${lt};

    // Loop over shared dimension.
    for (var t = 0; t < numTiles; t = t + 1) {
      // Load one tile of A into local memory.
      for (var inputRow = localRow; inputRow < ${ct}; inputRow = inputRow + ${rt[1]}) {
        for (var inputCol = localCol; inputCol < ${at}; inputCol = inputCol + ${rt[0]}) {
          ${tt(it)}
        }
      }
      // Load one tile of B into local memory.
      for (var inputRow = localRow; inputRow < ${ot}; inputRow = inputRow + ${rt[1]}) {
            for (var inputCol = localCol; inputCol < ${lt}; inputCol = inputCol + ${rt[0]}) {
          mm_Bsub[inputRow][inputCol] = mm_readB(batch,
            kStart + inputRow,
            globalColStart + inputCol);
        }
      }
      kStart = kStart + tileInner;
      workgroupBarrier();

      // Compute acc values for a single thread.
      var BCached : array<f32, colPerThread>;
      for (var k = 0; k < tileInner; k = k + 1) {
        for (var inner = 0; inner < colPerThread; inner = inner + 1) {
          BCached[inner] = mm_Bsub[k][localCol + inner * ${rt[0]}];
        }
        for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {
          let ACached = ${it?`mm_Asub[k][localRow + innerRow * ${rt[1]}];`:`mm_Asub[localRow + innerRow * ${rt[1]}][k];`}
          for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {
            acc[innerRow][innerCol] = acc[innerRow][innerCol] +
                ACached * BCached[innerCol];
          }
        }
      }
      workgroupBarrier();
    }
    for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {
      let gRow = globalRowStart + localRow + innerRow * ${rt[1]};
      for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {
        let gCol = globalColStart + localCol + innerCol * ${rt[0]};
        mm_write(batch, gRow, gCol, acc[innerRow][innerCol]);
      }
    }
    `:`
let tileRow = i32(localId.y) * rowPerThread;
let tileCol = i32(localId.x) * colPerThread;

let globalRow = i32(globalId.y) * rowPerThread;
let globalCol = i32(globalId.x) * colPerThread;
let globalRowStart = i32(workgroupId.y) * ${dt};

let tileRowA = i32(localId.y) * ${ht};
let tileColA = i32(localId.x) * ${pt};
let tileRowB = i32(localId.y) * ${mt};
// Loop over shared dimension.
for (var t = 0; t < numTiles; t = t + 1) {
  // Load one tile of A into local memory.
  for (var innerRow = 0; innerRow < ${ht}; innerRow = innerRow + 1) {
    for (var innerCol = 0; innerCol < ${pt}; innerCol = innerCol + 1) {
      let inputRow = tileRowA + innerRow;
      let inputCol = tileColA + innerCol;
      ${tt(it)}
    }
  }

  // Load one tile of B into local memory.
  for (var innerRow = 0; innerRow < ${mt}; innerRow = innerRow + 1) {
    for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {
      let inputRow = tileRowB + innerRow;
      let inputCol = tileCol + innerCol;
      mm_Bsub[inputRow][inputCol] = mm_readB(batch,
        kStart + inputRow,
        globalCol + innerCol);
    }
  }
  kStart = kStart + tileInner;
  workgroupBarrier();

  // Compute acc values for a single thread.
  var BCached : array<f32, colPerThread>;
  for (var k = 0; k < tileInner; k = k + 1) {
    for (var inner = 0; inner < colPerThread; inner = inner + 1) {
      BCached[inner] = mm_Bsub[k][tileCol + inner];
    }

    for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {
      ${(yt=>yt?"let ACached = mm_Asub[k][tileRow + innerRow];":"let ACached = mm_Asub[tileRow + innerRow][k];")(it)}
      for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {
        acc[innerRow][innerCol] = acc[innerRow][innerCol] + ACached * BCached[innerCol];
      }
    }
  }

  workgroupBarrier();
}

for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {
  for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {
    mm_write(batch, globalRow + innerRow, globalCol + innerCol,
        acc[innerRow][innerCol]);
  }
}
`;return`
  var<workgroup> mm_Asub : array<array<f32, ${at}>, ${ct}>;
  var<workgroup> mm_Bsub : array<array<f32, ${lt}>, ${ot}>;
  const rowPerThread = ${nt[1]};
  const colPerThread = ${nt[0]};
  const tileInner = ${ot};

@compute @workgroup_size(${rt[0]}, ${rt[1]}, ${rt[2]})
fn main(@builtin(local_invocation_id) localId : vec3<u32>,
        @builtin(global_invocation_id) globalId : vec3<u32>,
        @builtin(workgroup_id) workgroupId : vec3<u32>) {
    let batch = ${st?"0":"i32(globalId.z)"};
    let numTiles = ${st?`${Math.ceil(ut/ot)}`:"(dimInner - 1) / tileInner + 1"};
    var kStart = ${st?`i32(globalId.z) * ${ut}`:"0"};

    var acc : array<array<f32, colPerThread>, rowPerThread>;

    // Without this initialization strange values show up in acc.
    for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {
      for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {
        acc[innerRow][innerCol] = 0.0;
      }
    }
    ${gt}
  }
`}},504:(_e,et,tt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.sub=et.pow=et.mul=et.div=et.add=void 0;const nt=tt(6952),rt=tt(1163),it=tt(2075),ot=(st,ut,ft,dt,lt)=>{const at={name:ut,inputTypes:[rt.GpuDataType.default,rt.GpuDataType.default],cacheHint:lt};return Object.assign(Object.assign({},at),{get:()=>((ct,ht,pt,mt,gt,yt=ht.dataType)=>{var bt,xt;const vt=!nt.ShapeUtil.areEqual(ht.dims,pt.dims);let wt=ht.dims,_t=nt.ShapeUtil.size(ht.dims),Ct=!1;if(vt){const Et=nt.BroadcastUtil.calcShape(ht.dims,pt.dims,!1);if(!Et)throw new Error("Can't perform binary op on the given tensors");wt=Et,_t=nt.ShapeUtil.size(wt);let $t=1;for(let jt=0;jt<wt.length;jt++){const Dt=(bt=ht.dims[ht.dims.length-jt])!==null&&bt!==void 0?bt:1;if(Dt!==((xt=pt.dims[pt.dims.length-jt])!==null&&xt!==void 0?xt:1))break;$t*=Dt}$t%4==0&&(Ct=!0)}else Ct=!0;return Object.assign(Object.assign({},ct),{getShaderSource:Et=>(($t,jt,Dt,Pt,kt,At,Tt,St,Rt="f32",Ot="f32",Nt="f32")=>{const It=nt.ShapeUtil.size(Pt),Bt=Math.ceil(It/4);let zt,Gt;typeof Tt=="string"?zt=Gt=(Wt,rn)=>`${Tt}((${Wt}),(${rn}))`:typeof Tt=="function"?zt=Gt=Tt:(zt=Tt.scalar,Gt=Tt.vector);let Kt="";const fn=(0,it.createIndicesHelper)("output",Pt);if(At){const Wt=rn=>{const Vt=nt.ShapeUtil.computeStrides(rn),an=[];for(let Qt=rn.length-1;Qt>=0;Qt--){const Zt=Pt.length===0?"0u":Pt.length===1?"(*outputIndices)":`(*outputIndices)[${Qt+Pt.length-rn.length}]`;an.push(`${Vt[Qt]}u * (${Zt} % ${rn[Qt]}u)`)}return an.length>0?an.join("+"):"0u"};Kt=`
  ${fn.o2iImpl}

  fn calcOffsetA(outputIndices: ptr<function, ${fn.iType}>) -> u32 {
    return ${Wt(jt)};
  }

  fn calcOffsetB(outputIndices: ptr<function, ${fn.iType}>) -> u32 {
    return ${Wt(Dt)};
  }
  `}let dn;if(kt)dn=At?`
      ${fn.indicesVariableDeclaration("outputIndices")}
      ${fn.o2iCall("global_idx * 4u","outputIndices")}
      let offsetA = calcOffsetA(&outputIndices);
      let offsetB = calcOffsetB(&outputIndices);
      outputData[global_idx] = ${Gt("aData[offsetA / 4u]","bData[offsetB / 4u]")};`:`outputData[global_idx] = ${Gt("aData[global_idx]","bData[global_idx]")};`;else{if(!At)throw new Error("no necessary to use scalar implementation for element-wise binary op implementation.");const Wt=rn=>{const Vt=`aData[indexA${rn}][componentA${rn}]`,an=`bData[indexB${rn}][componentB${rn}]`;return`
      ${fn.o2iCall(`global_idx * 4u + ${rn}u`,"outputIndices")}
      let offsetA${rn} = calcOffsetA(&outputIndices);
      let offsetB${rn} = calcOffsetB(&outputIndices);
      let indexA${rn} = offsetA${rn} / 4u;
      let indexB${rn} = offsetB${rn} / 4u;
      let componentA${rn} = offsetA${rn} % 4u;
      let componentB${rn} = offsetB${rn} % 4u;
      outputData[global_idx][${rn}] = ${zt(Vt,an)};`};dn=`
      ${fn.indicesVariableDeclaration("outputIndices")}
      ${Wt(0)}
      ${Wt(1)}
      ${Wt(2)}
      ${Wt(3)}`}return`
  @group(0) @binding(0) var<storage, read> aData : array<vec4<${Rt}>>;
  @group(0) @binding(1) var<storage, read> bData : array<vec4<${Ot}>>;
  @group(0) @binding(2) var<storage, read_write> outputData : array<vec4<${Nt}>>;

  ${St??""}
  ${Kt}

  ${$t.mainStart()}
    ${$t.guardAgainstOutOfBoundsWorkgroupSizes(Bt)}
    ${dn}
  }`})(Et,ht.dims,pt.dims,wt,Ct,vt,mt,gt),outputs:[{dims:wt,dataType:yt,gpuDataType:rt.GpuDataType.default}],dispatchGroup:()=>({x:Math.ceil(_t/64/(Ct?4:1))})})})(at,st[0],st[1],ft,dt)})};et.add=st=>{st.compute(ot(st.inputs,"Add",(ut,ft)=>`${ut}+${ft}`))},et.div=st=>{st.compute(ot(st.inputs,"Div",(ut,ft)=>`${ut}/${ft}`))},et.mul=st=>{st.compute(ot(st.inputs,"Mul",(ut,ft)=>`${ut}*${ft}`))},et.pow=st=>{st.compute(ot(st.inputs,"Pow",{scalar:(ut,ft)=>`pow_f32(${ut},${ft})`,vector:(ut,ft)=>`pow_vf32(${ut},${ft})`},`
    fn pow_f32(a : f32, b : f32) -> f32 {
      if (b == 0.0) {
        return 1.0;
      } else if (a < 0.0 && b != floor(b)) {
        return pow(a, b); // NaN
      }
      return select(sign(a), 1.0, round(abs(b) % 2.0) != 1.0) * pow(abs(a), b);
    }
    fn pow_vf32(a : vec4<f32>, b : vec4<f32>) -> vec4<f32> {
      // TODO: implement vectorized pow
      return vec4<f32>(pow_f32(a.x, b.x), pow_f32(a.y, b.y), pow_f32(a.z, b.z), pow_f32(a.w, b.w));
    }
      `))},et.sub=st=>{st.compute(ot(st.inputs,"Sub",(ut,ft)=>`${ut}-${ft}`))}},2075:(_e,et,tt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.createShaderHelper=et.createIndicesHelper=et.WORKGROUP_SIZE=void 0;const nt=tt(6952);et.WORKGROUP_SIZE=64,et.createIndicesHelper=(it,ot)=>{const st=ot.length<2?"u32":`array<u32, ${ot.length}>`,ut=nt.ShapeUtil.computeStrides(ot);let ft="";for(let at=0;at<ot.length-1;at++)ft+=`
    let dim${at} = current / ${ut[at]}u;
    let rest${at} = current % ${ut[at]}u;
    (*indices)[${at}] = dim${at};
    current = rest${at};
    `;ft+=`(*indices)[${ot.length-1}] = current;`;const dt=ot.length<2?"":`
  fn ih_o2i_${it}(offset: u32, indices: ptr<function, ${st}>) {
    var current = offset;
    ${ft}
  }`,lt=[];if(ot.length===0)lt.push("0u");else if(ot.length<2)lt.push("(*indices)");else for(let at=ot.length-1;at>=0;at--)lt.push(`${ut[at]}u * ((*indices)[${at}])`);return{o2iImpl:dt,o2iCall:(at,ct)=>ot.length<2?`${ct}=${at};`:`ih_o2i_${it}(${at}, &${ct});`,i2oImpl:ot.length<2?"":`
  fn ih_i2o_${it}(indices: ptr<function, ${st}>) -> u32 {
    return ${lt.join("+")};
  }`,i2oExpression:(at,ct)=>ot.length<2?`(${ct?"*":""}${at})`:`ih_i2o_${it}(${ct?"":"&"}${at})`,indicesVariableDeclaration:(at,ct)=>`var ${at}:${st}${ct?`=${st}(${ct.join(",")})`:""};`,iType:st}};class rt{constructor(ot){this.normalizedDispatchGroup=ot}guardAgainstOutOfBoundsWorkgroupSizes(ot){return`if (global_idx >= ${typeof ot=="number"?`${ot}u`:ot}) { return; }`}mainStart(ot=et.WORKGROUP_SIZE){const st=typeof ot=="number"?ot:ot[0],ut=typeof ot=="number"?1:ot[1],ft=typeof ot=="number"?1:ot[2],dt=this.normalizedDispatchGroup[1]===1&&this.normalizedDispatchGroup[2]===1;return`@compute @workgroup_size(${st}, ${ut}, ${ft})
  fn main(${dt?"@builtin(global_invocation_id) global_id : vec3<u32>":`@builtin(local_invocation_index) local_index : u32,
    @builtin(workgroup_id) workgroup_id : vec3<u32>`}) {
    ${dt?"let global_idx = global_id.x;":`let global_idx = (workgroup_id.z * ${this.normalizedDispatchGroup[0]*this.normalizedDispatchGroup[1]}u +
          workgroup_id.y * ${this.normalizedDispatchGroup[0]}u + workgroup_id.x) * ${st*ut*ft}u + local_index;`}
  `}}et.createShaderHelper=it=>new rt(it)},9192:(_e,et,tt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.createGroupedConvProgramInfoLoader=void 0;const nt=tt(6952),rt=tt(1163),it=tt(2075),ot=tt(9770),st=tt(3997);et.createGroupedConvProgramInfoLoader=(ut,ft,dt)=>{const lt=(at=ut.length>2,ct=ft.cacheKey,{name:"GroupedConv",inputTypes:at?[rt.GpuDataType.default,rt.GpuDataType.default,rt.GpuDataType.default]:[rt.GpuDataType.default,rt.GpuDataType.default],cacheHint:ct});var at,ct;return Object.assign(Object.assign({},lt),{get:()=>((ht,pt,mt,gt)=>{const yt=ht.length>2,bt=yt?"value += b[output_channel];":"",xt=ht[0].dims,vt=ht[1].dims,wt=vt[0]/mt.group,_t="f32",{activationFunction:Ct,applyActivation:Et}=(0,st.getActicationSnippet)(mt),$t=[`@group(0) @binding(0) var<storage, read> x : array<${_t}>;`,`@group(0) @binding(1) var<storage, read> w : array<${_t}>;`];yt&&$t.push(`@group(0) @binding(2) var<storage, read> b : array<${_t}>;`);const jt=mt.format==="NHWC",Dt=(0,ot.calculateOutputShape)(xt,vt,mt.dilations,mt.pads,mt.strides,jt),Pt=nt.ShapeUtil.size(Dt),kt=(0,it.createIndicesHelper)("output",Dt),At=(0,it.createIndicesHelper)("x",xt),Tt=(0,it.createIndicesHelper)("w",vt);return Object.assign(Object.assign({},pt),{outputs:[{dims:gt?gt(Dt):Dt,dataType:ht[0].dataType,gpuDataType:rt.GpuDataType.default}],getShaderSource:St=>`
  const strides: vec2<u32> = vec2(${mt.strides[0]}u, ${mt.strides[1]}u);
  const pads: vec2<u32> = vec2(${mt.pads[0]}u, ${mt.pads[1]}u);

  ${$t.join(`
`)}
  @group(0) @binding(${$t.length}) var<storage, read_write> output : array<${_t}>;

  ${Ct}
  ${kt.o2iImpl}
  ${At.i2oImpl}
  ${Tt.i2oImpl}

  ${St.mainStart()}
    ${St.guardAgainstOutOfBoundsWorkgroupSizes(Pt)}

    ${kt.indicesVariableDeclaration("outputIndices")}
    ${kt.o2iCall("global_idx","outputIndices")}
    let batch: u32 = outputIndices[0];
    let output_channel: u32 = outputIndices[${jt?3:1}];
    let xRCCorner: vec2<u32> = vec2<u32>(outputIndices[${jt?1:2}], outputIndices[${jt?2:3}]) * strides - pads;
    let group_id: u32 = output_channel / ${wt}u;

    var value: ${_t} = ${_t}(0);
    for (var wInChannel: u32 = 0u; wInChannel < ${vt[1]}u; wInChannel++) {
      let input_channel = group_id * ${vt[1]}u + wInChannel;
      for (var wHeight: u32 = 0u; wHeight < ${vt[2]}u; wHeight++) {
        let xHeight = xRCCorner.x + wHeight * ${mt.dilations[0]}u;

        if (xHeight < 0u || xHeight >= ${xt[jt?1:2]}u) {
          continue;
        }

        for (var wWidth: u32 = 0u; wWidth < ${vt[3]}u; wWidth++) {
          let xWidth = xRCCorner.y + wWidth * ${mt.dilations[1]}u;
          if (xWidth < 0u || xWidth >= ${xt[jt?2:3]}u) {
            continue;
          }

          ${At.indicesVariableDeclaration("xIndices",jt?["batch","xHeight","xWidth","input_channel"]:["batch","input_channel","xHeight","xWidth"])}
          let xVal = x[${At.i2oExpression("xIndices")}];
          ${Tt.indicesVariableDeclaration("wIndices",["output_channel","wInChannel","wHeight","wWidth"])}
          let wVal = w[${Tt.i2oExpression("wIndices")}];
          value += xVal*wVal;
        }
      }
    }
    ${bt}
    ${Et}
    output[global_idx] = value;
  }`,dispatchGroup:()=>({x:Math.ceil(Pt/64)})})})(ut,lt,ft,dt)})}},9770:(_e,et,tt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.conv=et.parseConvAttributes=et.calculateOutputShape=void 0;const nt=tt(6952),rt=tt(387),it=tt(9192),ot=tt(3822),st=tt(3997),ut=tt(2625);et.calculateOutputShape=(lt,at,ct,ht,pt,mt)=>{const gt=lt[0],yt=lt.slice(mt?1:2,mt?3:4),bt=yt.length,xt=at[0],vt=at.slice(2).map((_t,Ct)=>_t+(_t-1)*(ct[Ct]-1)),wt=yt.map((_t,Ct)=>_t+ht[Ct]+ht[Ct+bt]).map((_t,Ct)=>Math.floor((_t-vt[Ct]+pt[Ct])/pt[Ct]));return wt.splice(0,0,gt),wt.splice(mt?3:1,0,xt),wt};const ft=(0,rt.createAttributeWithCacheKey)({perm:[2,3,1,0]}),dt=(lt,at)=>{const ct=lt.kernelShape.slice();for(let mt=2;mt<at[1].dims.length;++mt)ct[mt-2]===0&&(ct[mt-2]=at[1].dims[mt]);const ht=lt.pads.slice();nt.PoolConvUtil.adjustPadsBasedOnAutoPad(at[0].dims,lt.strides,lt.dilations,ct,ht,lt.format==="NHWC",lt.autoPad);const pt=Object.assign({},lt);return Object.assign(pt,{kernelShape:ct,pads:ht,cacheKey:lt.cacheKey}),pt};et.parseConvAttributes=lt=>{const at=(0,st.parseInternalActivationAttributes)(lt),ct=lt.format,ht=["NOTSET","VALID","SAME_UPPER","SAME_LOWER"][lt.auto_pad],pt=lt.dilations,mt=lt.group,gt=lt.kernel_shape,yt=lt.pads,bt=lt.strides,xt=lt.w_is_const();return(0,rt.createAttributeWithCacheKey)(Object.assign({autoPad:ht,format:ct,dilations:pt,group:mt,kernelShape:gt,pads:yt,strides:bt,wIsConst:xt},at))},et.conv=(lt,at)=>{((ct,ht)=>{if(!ct||ct.length!==2&&ct.length!==3)throw new Error("Conv requires 2 or 3 inputs");if(ct[0].dims.length!==4&&ct[0].dims.length!==3)throw new Error("currently only support conv 1D and 2D");if(ct[0].dims.length!==ct[1].dims.length)throw new Error("filter does not have same dimension as input");if(ct[0].dims[ht.format==="NHWC"?ct[0].dims.length-1:1]!==ct[1].dims[1]*ht.group)throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");if(ct.length===3&&(ct[2].dims.length!==1||ct[1].dims[0]!==ct[2].dims[0]))throw new Error("invalid bias");const pt=ct[0].dims.length-2;if(ht.dilations.length!==pt)throw new Error(`dilations should be ${pt}D`);if(ht.strides.length!==pt)throw new Error(`strides should be ${pt}D`);if(ht.pads.length!==2*pt)throw new Error(`pads should be ${2*pt}D`);if(ht.kernelShape.length!==0&&ht.kernelShape.length!==ct[1].dims.length-2)throw new Error("invalid kernel shape");if(ct[0].dataType!==1||ct[1].dataType!==1)throw new Error("Conv input(X,W) should be float tensor");if(ct.length===3&&ct[2].dataType!==1)throw new Error("Conv input(bias) should be float tensor")})(lt.inputs,at),lt.inputs[0].dims.length===3?((ct,ht)=>{const pt=ht.format==="NHWC",mt=[ct.inputs[0].reshape(pt?[ct.inputs[0].dims[0],1,ct.inputs[0].dims[1],ct.inputs[0].dims[2]]:[ct.inputs[0].dims[0],ct.inputs[0].dims[1],1,ct.inputs[0].dims[2]]),ct.inputs[1].reshape([ct.inputs[1].dims[0],ct.inputs[1].dims[1],1,ct.inputs[1].dims[2]])];ct.inputs.length===3&&mt.push(ct.inputs[2]);const gt=[0,ht.pads[0],0,ht.pads[1]],yt=[1].concat(ht.strides),bt=[1].concat(ht.dilations),xt=[1].concat(ht.kernelShape),vt=dt(Object.assign(Object.assign({},ht),{pads:gt,strides:yt,dilations:bt,kernelShape:xt}),mt);ct.compute((0,it.createGroupedConvProgramInfoLoader)(mt,vt,wt=>pt?[wt[0],wt[2],wt[3]]:[]))})(lt,at):((ct,ht,pt)=>{var mt;const gt=dt(pt,ht),yt=ht.length===3,bt=pt.format==="NHWC",xt=ht[0].dims[bt?1:2],vt=ht[0].dims[bt?2:3],wt=ht[0].dims[bt?3:1],_t=ht[1].dims[2],Ct=ht[1].dims[3],Et=(0,et.calculateOutputShape)(ht[0].dims,ht[1].dims,pt.dilations,gt.pads,pt.strides,bt),$t=Et[bt?1:2],jt=Et[bt?2:3],Dt=Et[bt?3:1];if(bt&&_t===xt&&Ct===vt&&pt.autoPad==="VALID"||_t===1&&Ct===1&&pt.dilations[0]===1&&pt.dilations[1]===1&&pt.strides[0]===1&&pt.strides[1]===1&&(pt.autoPad==="SAME_UPPER"||pt.autoPad==="SAME_LOWER"||pt.autoPad==="VALID")||!bt||pt.group!==1)return void ct.compute((0,it.createGroupedConvProgramInfoLoader)(ht,gt));const Pt=bt?$t*jt:Dt,kt=bt?Dt:$t*jt,At=_t*Ct*wt,Tt=(mt=ct.customData.wT)!==null&&mt!==void 0?mt:ct.compute(Object.assign(Object.assign({},ut.transposeProgramMetadata),{cacheHint:ft.cacheKey,get:()=>(0,ut.createTransposeProgramInfo)(ht[1],ft.perm)}),{inputs:[1],outputs:[pt.wIsConst?-2:-1]})[0];pt.wIsConst&&!ct.customData.wT&&(ct.customData.wT=Tt);const St=[ht[0],Tt];yt&&(bt||ht[2].dims.length!==1?St.push(ht[2]):St.push(ht[2].reshape([ht[2].dims[0],1,1]))),ct.compute((0,ot.createConv2DMatMulProgramInfoLoader)(St,gt,Et,Pt,kt,At,yt,!0),{inputs:St})})(lt,lt.inputs,at)}},3822:(_e,et,tt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.createConv2DMatMulProgramInfoLoader=void 0;const nt=tt(1163),rt=tt(9456);et.createConv2DMatMulProgramInfoLoader=(it,ot,st,ut,ft,dt,lt,at)=>{const ct=((ht,pt)=>({name:"Conv2DMatMul",inputTypes:ht?[nt.GpuDataType.default,nt.GpuDataType.default,nt.GpuDataType.default]:[nt.GpuDataType.default,nt.GpuDataType.default],cacheHint:pt}))(lt,ot.cacheKey);return Object.assign(Object.assign({},ct),{get:()=>(0,rt.createConv2DMatMulProgramInfo)(it,ct,ot,st,ut,ft,dt,lt,at)})}},3997:(_e,et,tt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.parseInternalActivationAttributes=et.getActicationSnippet=void 0;const nt=tt(6952);et.getActicationSnippet=rt=>{switch(rt.activation){case"Relu":return{activationFunction:"",applyActivation:"value = max(value, 0.0);"};case"Sigmoid":return{activationFunction:"",applyActivation:"value = (1.0 / (1.0 + exp(-value)));"};case"Clip":return{activationFunction:`const clip_min_=f32(${rt.clipMin});const clip_max_=f32(${rt.clipMax});`,applyActivation:"value = clamp(value, clip_min_, clip_max_);"};default:return{activationFunction:"",applyActivation:""}}},et.parseInternalActivationAttributes=rt=>{const it=(rt==null?void 0:rt.activation)||"";if(it==="Clip"){const[ot,st]=(rt==null?void 0:rt.activation_params)||[nt.MIN_CLIP,nt.MAX_CLIP];return{activation:it,clipMax:st,clipMin:ot,activationCacheKey:`${it}:${ot},${st}`}}return{activation:it,activationCacheKey:it}}},4271:(_e,et,tt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.parseGemmAttributes=et.gemm=void 0;const nt=tt(6952),rt=tt(387),it=tt(1163);et.gemm=(ot,st)=>{(ut=>{if(!ut)throw new Error("Input is missing");if(ut.length<2||ut.length>3)throw new Error("Invaid input number.");if(ut.length===3&&ut[2].dims.length>2)throw new Error("Invalid input shape of C");if(ut[0].dataType!==1||ut[1].dataType!==1||ut.length===3&&ut[2].dataType!==1)throw new Error("Invalid input type.");if(ut[0].dataType!==ut[1].dataType||ut.length===3&&ut[0].dataType!==ut[2].dataType)throw new Error("Input types are mismatched")})(ot.inputs),ot.compute(((ut,ft)=>{const dt={name:"Gemm",inputTypes:ut.length===3?[it.GpuDataType.default,it.GpuDataType.default,it.GpuDataType.default]:[it.GpuDataType.default,it.GpuDataType.default],cacheHint:ft.cacheKey};return Object.assign(Object.assign({},dt),{get:()=>((lt,at,ct)=>{const ht=at[0].dims.slice(),pt=at[1].dims.slice(),[mt,gt,yt]=nt.GemmUtil.getShapeOfGemmResult(ht,ct.transA,pt,ct.transB,at.length===3?at[2].dims:void 0),bt=[mt,gt];if(!bt)throw new Error("Can't use gemm on the given tensors");const xt=nt.ShapeUtil.size(bt);let vt="";ct.transA&&ct.transB?vt="value += a[k * M + m] * b[n * K + k];":ct.transA&&!ct.transB?vt="value += a[k * M + m] * b[k * N + n];":!ct.transA&&ct.transB?vt="value += a[m * K + k] * b[n * K + k];":ct.transA||ct.transB||(vt="value += a[m * K + k] * b[k * N + n];");const wt="f32",_t=ct.alpha===1?"":"value *= alpha;",Ct=at.length===3?`value += beta * c[${(($t,jt,Dt)=>{if(Dt.length===0)return"0u";const Pt=Dt.length===1&&$t!==1||Dt.length===2&&Dt[0]!==$t,kt=Dt[Dt.length-1]!==jt;let At="0u";return Pt||(At+=`+ m * ${Dt[Dt.length-1]}u`),kt||(At+="+n"),At})(mt,gt,at[2].dims)}];`:"",Et=[`@group(0) @binding(0) var<storage, read> a : array<${wt}>;`,`@group(0) @binding(1) var<storage, read> b : array<${wt}>;`];return at.length===3&&Et.push(`@group(0) @binding(2) var<storage, read> c : array<${wt}>;`),Object.assign(Object.assign({},lt),{outputs:[{dims:bt,dataType:at[0].dataType,gpuDataType:it.GpuDataType.default}],getShaderSource:$t=>`
  const M: u32 = ${mt}u;
  const N: u32 = ${gt}u;
  const K: u32 = ${yt}u;
  const alpha = ${wt}(${ct.alpha});
  const beta = ${wt}(${ct.beta});

  ${Et.join(`
`)}
  @group(0) @binding(${at.length}) var<storage, read_write> output : array<${wt}>;

  ${$t.mainStart()}
    ${$t.guardAgainstOutOfBoundsWorkgroupSizes(xt)}

    let m = global_id.x / N;
    let n = global_id.x % N;

    var value = ${wt}(0);
    for (var k: u32 = 0u; k<${yt}u; k++) {
      ${vt}
    }

    ${_t}
    ${Ct}
    output[global_id.x] = value;

  }`,dispatchGroup:()=>({x:Math.ceil(xt/64)})})})(dt,ut,ft)})})(ot.inputs,st))},et.parseGemmAttributes=ot=>(0,rt.createAttributeWithCacheKey)(ot)},1522:(_e,et,tt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.matMul=et.createMatmulProgramInfoLoader=void 0;const nt=tt(6952),rt=tt(1163),it=tt(3997);et.createMatmulProgramInfoLoader=(ot,st)=>{const ut=(ft=ot.length>2,dt=st.activationCacheKey,{name:"MatMul",inputTypes:ft?[rt.GpuDataType.default,rt.GpuDataType.default,rt.GpuDataType.default]:[rt.GpuDataType.default,rt.GpuDataType.default],cacheHint:dt});var ft,dt;return Object.assign(Object.assign({},ut),{get:()=>((lt,at,ct)=>{const ht=at[0].dims,pt=at[1].dims,mt=nt.BroadcastUtil.calcShape(ht,pt,!0);if(!mt)throw new Error("Can't use matmul on the given tensors");const gt=nt.ShapeUtil.size(mt),yt="f32",{activationFunction:bt,applyActivation:xt}=(0,it.getActicationSnippet)(ct),vt=mt[mt.length-2],wt=ht[ht.length-1],_t=mt[mt.length-1];return Object.assign(Object.assign({},lt),{outputs:[{dims:mt,dataType:at[0].dataType,gpuDataType:rt.GpuDataType.default}],getShaderSource:Ct=>`
  const M: u32 = ${vt}u;
  const N: u32 = ${_t}u;
  const K: u32 = ${wt}u;

  @group(0) @binding(0) var<storage, read> a : array<${yt}>;
  @group(0) @binding(1) var<storage, read> b : array<${yt}>;
  @group(0) @binding(2) var<storage, read_write> output : array<${yt}>;

  ${bt}

  ${Ct.mainStart()}
    ${Ct.guardAgainstOutOfBoundsWorkgroupSizes(gt)}

    let stack = global_idx / (M * N);
    let mn = global_idx % (M * N);
    let n = global_idx % N;
    let m = mn / N;

    let offsetA = stack * (M * K);
    let offsetB = stack * (K * N);

    var value = ${yt}(0);
    for (var k: u32 = 0u; k<${wt}u; k++) {
      value += a[offsetA + m * K + k] * b[offsetB + k * N + n];
    }
    ${xt}
    output[global_idx] = value;
  }`,dispatchGroup:()=>({x:Math.ceil(gt/64)})})})(ut,ot,st)})},et.matMul=ot=>{(st=>{if(!st||st.length!==2)throw new Error("MatMul requires 2 inputs.");if(st[0].dims[st[0].dims.length-1]!==st[1].dims[st[1].dims.length-2])throw new Error("shared dimension does not match.");if(st[0].dataType!==1||st[1].dataType!==1)throw new Error("inputs should be float type")})(ot.inputs),ot.compute((0,et.createMatmulProgramInfoLoader)(ot.inputs,{activation:"",activationCacheKey:""}))}},5262:(_e,et,tt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.globalMaxPool=et.parseGlobalMaxPoolAttributes=et.parseMaxPoolAttributes=et.maxPool=et.globalAveragePool=et.parseGlobalAveragePoolAttributes=et.averagePool=et.parseAveragePoolAttributes=void 0;const nt=tt(6952),rt=tt(387),it=tt(1163),ot=tt(2075),st=ht=>{if(!ht||ht.length!==1)throw new Error("Pool ops requires 1 input.");if(ht[0].dims.length!==4)throw new Error("Pool ops supports 2-D inputs only for now.");if(ht[0].dataType!==1)throw new Error("Invalid input type.")},ut=(ht,pt,mt)=>{const gt=pt.format==="NHWC",yt=gt?[ht[0].dims[0],ht[0].dims[3],ht[0].dims[1],ht[0].dims[2]]:ht[0].dims.slice(),bt=Object.hasOwnProperty.call(pt,"dilations"),xt=pt.kernelShape.slice(),vt=pt.strides.slice(),wt=bt?pt.dilations.slice():[],_t=pt.pads.slice();nt.PoolConvUtil.adjustPoolAttributes(mt,yt,xt,vt,wt,_t);const Ct=nt.PoolConvUtil.computePoolOutputShape(mt,yt,vt,wt,xt,_t,pt.autoPad),Et=Object.assign({},pt);return bt?Object.assign(Et,{kernelShape:xt,strides:vt,pads:_t,dilations:wt,cacheKey:pt.cacheKey}):Object.assign(Et,{kernelShape:xt,strides:vt,pads:_t,cacheKey:pt.cacheKey}),[Et,gt?[Ct[0],Ct[2],Ct[3],Ct[1]]:Ct]},ft=(ht,pt,mt,gt,yt,bt,xt,vt)=>{const wt=gt.format==="NHWC",_t=pt.length,Ct=nt.ShapeUtil.size(mt),Et=(0,ot.createIndicesHelper)("output",mt),$t=(0,ot.createIndicesHelper)("x",pt);if(gt.kernelShape.length<=2){const jt=gt.kernelShape[gt.kernelShape.length-1],Dt=gt.strides[gt.strides.length-1],Pt=gt.pads[gt.pads.length/2-1],kt=_t-(wt?2:1);let At="",Tt="",St="";if(At=Pt+gt.pads[gt.pads.length-1]!==0?`
              for (var i: u32 = 0u; i < ${jt}u; i++) {
                xIndices[${kt}] = indices[${kt}] * ${Dt} - ${Pt} + i;
                if (xIndices[${kt}] < 0 || xIndices[${kt}] >= ${pt[kt]}) {
                  pad++;
                  continue;
                }
                let x_val = x[${$t.i2oExpression("xIndices")}];
                ${yt}
              }`:`
              for (var i: u32 = 0u; i < ${jt}u; i++) {
                xIndices[${kt}] = indices[${kt}] * ${Dt} - ${Pt} + i;
                let x_val = x[${$t.i2oExpression("xIndices")}];
                ${yt}
              }`,gt.kernelShape.length===2){const Rt=gt.kernelShape[gt.kernelShape.length-2],Ot=gt.strides[gt.strides.length-2],Nt=gt.pads[gt.pads.length/2-2],It=gt.pads[gt.pads.length-2],Bt=_t-(wt?3:2),zt=pt[Bt];Tt=Nt+It!==0?`
                for (var j: u32 = 0u; j < ${Rt}u; j++) {
                  xIndices[${Bt}] = indices[${Bt}] * ${Ot} - ${Nt} + j;
                  if (xIndices[${Bt}] < 0 || xIndices[${Bt}] >= ${zt}) {
                    pad+= ${jt};
                    continue;
                  }
              `:`
                for (var j: u32 = 0u; j < ${Rt}u; j++) {
                  xIndices[${Bt}] = indices[${Bt}] * ${Ot} - ${Nt} + j;
                `,St=`
              }
            `}return`
            @group(0) @binding(0) var<storage, read> x : array<${xt}>;
            @group(0) @binding(1) var<storage, read_write> output : array<${xt}>;

            ${Et.o2iImpl}
            ${$t.i2oImpl}

            ${ht.mainStart()}
              ${ht.guardAgainstOutOfBoundsWorkgroupSizes(Ct)}

              ${Et.indicesVariableDeclaration("indices")}
              ${Et.o2iCall("global_idx","indices")}
              ${Et.indicesVariableDeclaration("xIndices")}
              ${Et.o2iCall("global_idx","xIndices")}

              var value: ${xt} = ${xt}(${vt});
              var pad = 0;
              ${Tt}
              ${At}
              ${St}
              ${bt}

              output[global_idx] = value;
            }`}{if(wt)throw new Error("Pooling with kernelShape.length > 2 is not supported for NHWC format.");const jt=nt.ShapeUtil.size(gt.kernelShape),Dt=nt.ShapeUtil.computeStrides(gt.kernelShape),Pt=Dt.length,kt=gt.pads.length;let At="";return At=gt.pads.reduce((Tt,St)=>Tt+St)?`
                if (xIndices[j] >= inputDims[j]) {
                  pad++;
                  isPad = true;
                  break;
                }
              }
              if (!isPad) {
                let x_val = x[${$t.i2oExpression("xIndices")}];
                ${yt}
              }`:`
              }
              let x_val = x[${$t.i2oExpression("xIndices")}];
              ${yt}
            `,`
            @group(0) @binding(0) var<storage, read> x : array<${xt}>;
            @group(0) @binding(1) var<storage, read_write> output : array<${xt}>;

            ${Et.o2iImpl}
            ${$t.i2oImpl}

            const pads = array<u32, ${kt}>(${gt.pads.map(Tt=>`${Tt}u`).join(",")});
            const inputDims = array<u32, ${_t}>(${pt.map(Tt=>`${Tt}u`).join(",")});
            const kernelStrides = array<u32, ${Pt}>(${Dt.map(Tt=>`${Tt}u`).join(",")});
            const strides = array<u32, ${Pt}>(${gt.strides.map(Tt=>`${Tt}u`).join(",")});

            ${ht.mainStart()}
              ${ht.guardAgainstOutOfBoundsWorkgroupSizes(Ct)}

              ${Et.indicesVariableDeclaration("indices")}
              ${Et.o2iCall("global_idx","indices")}
              ${Et.indicesVariableDeclaration("xIndices")}
              ${Et.o2iCall("global_idx","xIndices")}

              var offsets: array<u32, ${Pt}>;

              var value = ${xt}(${vt});
              var pad = 0;
              var isPad = false;

              for (var i: u32 = 0u; i < ${jt}u; i++) {
                var offset = i;
                for (var j = 0u; j < ${Pt-1}u; j++) {
                  offsets[j] = offset / kernelStrides[j];
                  offset -= offsets[j] * kernelStrides[j];
                }
                offsets[${Pt-1}] = offset;

                isPad = false;
                for (var j = ${_t-Pt}u; j < ${_t}u; j++) {
                  xIndices[j] = indices[j] * strides[j - ${_t-Pt}u]
                    + offsets[j - ${_t-Pt}u] - pads[j - 2u];
                  ${At}
              }
              ${bt}

              output[global_idx] = value;
            }`}},dt=ht=>({format:ht.format,autoPad:["NOTSET","VALID","SAME_UPPER","SAME_LOWER"][ht.auto_pad],ceilMode:ht.ceil_mode,kernelShape:ht.kernel_shape,strides:ht.strides,pads:ht.pads}),lt=(ht,pt,mt,gt)=>{const[yt,bt]=ut(ht,gt,mt),xt=nt.ShapeUtil.size(yt.kernelShape),vt="f32";let wt="";return yt.countIncludePad?wt+=`value /= ${vt}(${xt});`:wt+=`value /= ${vt}(${xt} - pad);`,Object.assign(Object.assign({},pt),{outputs:[{dims:bt,dataType:ht[0].dataType,gpuDataType:it.GpuDataType.default}],getShaderSource:_t=>ft(_t,ht[0].dims,bt,yt,"value += x_val;",wt,vt,"0.0"),dispatchGroup:()=>({x:Math.ceil(nt.ShapeUtil.size(bt)/64)})})};et.parseAveragePoolAttributes=ht=>{const pt=ht.count_include_pad!==0,mt=dt(ht);if(mt.ceilMode!==0)throw new Error("using ceil() in shape computation is not yet supported for AveragePool");return(0,rt.createAttributeWithCacheKey)(Object.assign({countIncludePad:pt},mt))},et.averagePool=(ht,pt)=>{st(ht.inputs);const mt={name:"AveragePool",inputTypes:[it.GpuDataType.default],cacheHint:pt.cacheKey};ht.compute(Object.assign(Object.assign({},mt),{get:()=>lt(ht.inputs,mt,!1,pt)}))};const at={autoPad:"",ceilMode:0,countIncludePad:!1,kernelShape:[],strides:[],pads:[],storageOrder:0,dilations:[],cacheKey:""};et.parseGlobalAveragePoolAttributes=ht=>{const pt=ht.format;return Object.assign(Object.assign({format:pt},at),{cacheKey:pt})},et.globalAveragePool=(ht,pt)=>{st(ht.inputs);const mt={name:"GlobalAveragePool",inputTypes:[it.GpuDataType.default],cacheHint:pt.cacheKey};ht.compute(Object.assign(Object.assign({},mt),{get:()=>lt(ht.inputs,mt,!0,pt)}))};const ct=(ht,pt,mt,gt)=>{const[yt,bt]=ut(ht,gt,mt);return Object.assign(Object.assign({},pt),{outputs:[{dims:bt,dataType:ht[0].dataType,gpuDataType:it.GpuDataType.default}],getShaderSource:xt=>ft(xt,ht[0].dims,bt,yt,`
      value = max(x_val, value);
    `,"","f32","-1e5"),dispatchGroup:()=>({x:Math.ceil(nt.ShapeUtil.size(bt)/64)})})};et.maxPool=(ht,pt)=>{st(ht.inputs);const mt={name:"MaxPool",inputTypes:[it.GpuDataType.default],cacheHint:pt.cacheKey};ht.compute(Object.assign(Object.assign({},mt),{get:()=>ct(ht.inputs,mt,!1,pt)}))},et.parseMaxPoolAttributes=ht=>{const pt=ht.storage_order,mt=ht.dilations,gt=dt(ht);if(pt!==0)throw new Error("column major storage order is not yet supported for MaxPool");if(gt.ceilMode!==0)throw new Error("using ceil() in shape computation is not yet supported for MaxPool");return(0,rt.createAttributeWithCacheKey)(Object.assign({storageOrder:pt,dilations:mt},gt))},et.parseGlobalMaxPoolAttributes=ht=>{const pt=ht.format;return Object.assign(Object.assign({format:pt},at),{cacheKey:pt})},et.globalMaxPool=(ht,pt)=>{st(ht.inputs);const mt={name:"GlobalMaxPool",inputTypes:[it.GpuDataType.default],cacheHint:pt.cacheKey};ht.compute(Object.assign(Object.assign({},mt),{get:()=>ct(ht.inputs,mt,!0,pt)}))}},2625:(_e,et,tt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.parseTransposeAttributes=et.transpose=et.createTransposeProgramInfo=et.transposeProgramMetadata=void 0;const nt=tt(6952),rt=tt(387),it=tt(1163),ot=tt(2075);et.transposeProgramMetadata={name:"Transpose",inputTypes:[it.GpuDataType.default]};const st=(ut,ft)=>ft&&ft.length!==ut.length?[...ut.keys()].reverse():ft;et.createTransposeProgramInfo=(ut,ft)=>{const dt=ut.dims,lt=st(dt,ft),at=((gt,yt)=>nt.ShapeUtil.sortBasedOnPerm(gt,st(gt,yt)))(dt,lt),ct=dt.length,ht=nt.ShapeUtil.size(at),pt=(0,ot.createIndicesHelper)("output",at),mt=(0,ot.createIndicesHelper)("a",dt);return Object.assign(Object.assign({},et.transposeProgramMetadata),{outputs:[{dims:at,dataType:ut.dataType,gpuDataType:it.GpuDataType.default}],getShaderSource:gt=>`
  @group(0) @binding(0) var<storage, read> a : array<f32>;
  @group(0) @binding(1) var<storage, read_write> output : array<f32>;

  ${((yt,bt)=>{const xt=[];xt.push(`fn perm(a: ptr<function, array<u32, ${bt}>>, i: ptr<function, array<u32, ${bt}>>) {`);for(let vt=0;vt<bt;++vt)xt.push(`	(*a)[${yt[vt]}]=(*i)[${vt}];`);return xt.push("	}"),xt.join(`
`)})(lt,ct)}
  ${pt.o2iImpl}
  ${mt.i2oImpl}

  ${gt.mainStart()}
    ${gt.guardAgainstOutOfBoundsWorkgroupSizes(ht)}

    ${pt.indicesVariableDeclaration("indices")}
    ${pt.o2iCall("global_idx","indices")}
    ${mt.indicesVariableDeclaration("aIndices")}
    perm(&aIndices, &indices);

    output[global_idx] = a[${mt.i2oExpression("aIndices")}];
  }`,dispatchGroup:()=>({x:Math.ceil(ht/64)})})},et.transpose=(ut,ft)=>{(dt=>{if(!dt||dt.length!==1)throw new Error("Transpose requires 1 input.");if(dt[0].dataType!==1)throw new Error("input should be float tensor")})(ut.inputs),ut.compute(Object.assign(Object.assign({},et.transposeProgramMetadata),{cacheHint:ft.cacheKey,get:()=>(0,et.createTransposeProgramInfo)(ut.inputs[0],ft.perm)}))},et.parseTransposeAttributes=ut=>(0,rt.createAttributeWithCacheKey)({perm:ut.perm})},9302:(_e,et,tt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.thresholdedRelu=et.tanh=et.tan=et.sqrt=et.sinh=et.sin=et.sigmoid=et.relu=et.reciprocal=et.neg=et.leakyRelu=et.floor=et.exp=et.erf=et.elu=et.parseAlphaAttributes=et.cosh=et.cos=et.ceil=et.clip=et.clipV10=et.atanh=et.atan=et.asinh=et.asin=et.acosh=et.acos=et.abs=void 0;const nt=tt(6952),rt=tt(387),it=tt(1163),ot=(st,ut,ft,dt,lt)=>{const at={name:ut,inputTypes:[it.GpuDataType.default],cacheHint:lt};return Object.assign(Object.assign({},at),{get:()=>((ct,ht,pt,mt)=>Object.assign(Object.assign({},ct),{getShaderSource:gt=>((yt,bt,xt,vt)=>{const wt=Math.ceil(bt/4);let _t="";return _t=typeof xt=="string"?`${xt}(a)`:xt("a"),`
  @group(0) @binding(0) var<storage, read> inputData : array<vec4<f32>>;
  @group(0) @binding(1) var<storage, read_write> outputData : array<vec4<f32>>;

  ${vt??""}

  ${yt.mainStart()}
    ${yt.guardAgainstOutOfBoundsWorkgroupSizes(wt)}

    let a = inputData[global_idx];
    outputData[global_idx] = ${_t};
  }`})(gt,nt.ShapeUtil.size(ht.dims),pt,mt),outputs:[{dims:ht.dims,dataType:ht.dataType,gpuDataType:it.GpuDataType.default}],dispatchGroup:gt=>({x:Math.ceil(nt.ShapeUtil.size(gt[0].dims)/64/4)})}))(at,st,ft,dt)})};et.abs=st=>{st.compute(ot(st.inputs[0],"Abs","abs"))},et.acos=st=>{st.compute(ot(st.inputs[0],"Acos","acos"))},et.acosh=st=>{st.compute(ot(st.inputs[0],"Acosh","acosh"))},et.asin=st=>{st.compute(ot(st.inputs[0],"Asin","asin"))},et.asinh=st=>{st.compute(ot(st.inputs[0],"Asinh","asinh"))},et.atan=st=>{st.compute(ot(st.inputs[0],"Atan","atan"))},et.atanh=st=>{st.compute(ot(st.inputs[0],"Atanh","atanh"))},et.clipV10=(st,ut)=>{st.compute(ot(st.inputs[0],"Clip",ft=>`clamp(${ft}, clip_min_, clip_max_)`,`
    const clip_min_: vec4<f32> = vec4(f32(${ut.min}));
    const clip_max_: vec4<f32> = vec4(f32(${ut.max}));
`,ut.cacheKey),{inputs:[0]})},et.clip=st=>{const ut=(ft=>{const dt=ft.length>=2?ft[1].getFloat32Array()[0]:nt.MIN_CLIP,lt=ft.length>=3?ft[2].getFloat32Array()[0]:nt.MAX_CLIP;return(0,rt.createAttributeWithCacheKey)({min:dt,max:lt})})(st.inputs);(0,et.clipV10)(st,ut)},et.ceil=st=>{st.compute(ot(st.inputs[0],"Ceil","ceil"))},et.cos=st=>{st.compute(ot(st.inputs[0],"Cos","cos"))},et.cosh=st=>{st.compute(ot(st.inputs[0],"Cosh","cosh"))},et.parseAlphaAttributes=st=>(0,rt.createAttributeWithCacheKey)(st),et.elu=(st,ut)=>{st.compute(ot(st.inputs[0],"Elu",ft=>`elu_vf32(${ft})`,`
  const elu_alpha_: f32 = f32(${ut.alpha});

  fn elu_f32(a: f32) -> f32 {
  return select((exp(a) - 1.0) * elu_alpha_, a, a >= 0.0);
  }

  fn elu_vf32(v: vec4<f32>) -> vec4<f32> {
  return vec4(elu_f32(v.x), elu_f32(v.y), elu_f32(v.z), elu_f32(v.w));
  }`,ut.cacheKey))},et.erf=st=>{st.compute(ot(st.inputs[0],"Erf",ut=>`erf_vf32(${ut})`,`
  const r0: f32 = 0.3275911;
  const r1: f32 = 0.254829592;
  const r2: f32 = -0.284496736;
  const r3: f32 = 1.421413741;
  const r4: f32 = -1.453152027;
  const r5: f32 = 1.061405429;

  fn erf_vf32(v: vec4<f32>) -> vec4<f32> {
    let absv = abs(v);
    let x = 1.0 / (1.0 + r0 * absv);
    return sign(v) * (1.0 - ((((r5 * x + r4) * x + r3) * x + r2) * x + r1) * x * exp(-absv * absv));
  }`))},et.exp=st=>{st.compute(ot(st.inputs[0],"Exp","exp"))},et.floor=st=>{st.compute(ot(st.inputs[0],"Floor","floor"))},et.leakyRelu=(st,ut)=>{st.compute(ot(st.inputs[0],"LeakyRelu",ft=>`select(leaky_relu_alpha_ * ${ft}, ${ft}, ${ft} >= vec4<f32>(0.0))`,`const leaky_relu_alpha_: f32 = f32(${ut.alpha});`,ut.cacheKey))},et.neg=st=>{st.compute(ot(st.inputs[0],"Neg",ut=>`-${ut}`))},et.reciprocal=st=>{st.compute(ot(st.inputs[0],"Reciprocal",ut=>`1.0/${ut}`))},et.relu=st=>{st.compute(ot(st.inputs[0],"Relu",ut=>`select(vec4<f32>(0.0), ${ut}, ${ut} > vec4<f32>(0.0))`))},et.sigmoid=st=>{st.compute(ot(st.inputs[0],"Sigmoid",ut=>`(1.0 / (1.0 + exp(-${ut})))`))},et.sin=st=>{st.compute(ot(st.inputs[0],"Sin","sin"))},et.sinh=st=>{st.compute(ot(st.inputs[0],"Sinh","sinh"))},et.sqrt=st=>{st.compute(ot(st.inputs[0],"Sqrt","sqrt"))},et.tan=st=>{st.compute(ot(st.inputs[0],"Tan","tan"))},et.tanh=st=>{st.compute(ot(st.inputs[0],"Tanh","tanh"))},et.thresholdedRelu=(st,ut)=>(st.compute(ot(st.inputs[0],"ThresholdedRelu",ft=>`select(vec4<f32>(0.0), ${ft}, ${ft} > thresholded_relu_alpha_)`,`const thresholded_relu_alpha_: vec4<f32> = vec4<f32>(${ut.alpha});`,ut.cacheKey)),0)},8305:(_e,et,tt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.ProgramManager=void 0;const nt=tt(4955),rt=tt(2075);et.ProgramManager=class{constructor(it){this.backend=it,this.repo=new Map,this.attributesBound=!1}getArtifact(it){return this.repo.get(it)}setArtifact(it,ot){this.repo.set(it,ot)}run(it,ot,st,ut){const ft=this.backend.device,dt=this.backend.getComputePassEncoder();this.backend.profilingEnabled&&dt.writeTimestamp(this.backend.profilingQuerySet,0),dt.setPipeline(it.computePipeline);const lt=[];for(const ct of ot)lt.push({binding:lt.length,resource:{buffer:ct.buffer}});for(const ct of st)lt.push({binding:lt.length,resource:{buffer:ct.buffer}});const at=ft.createBindGroup({layout:it.computePipeline.getBindGroupLayout(0),entries:lt});if(dt.setBindGroup(0,at),dt.dispatchWorkgroups(...ut),this.backend.pendingDispatchNumber++,this.backend.profilingEnabled){dt.writeTimestamp(this.backend.profilingQuerySet,1);const ct=this.backend.gpuDataManager.create(16,GPUBufferUsage.COPY_SRC|GPUBufferUsage.QUERY_RESOLVE),ht=this.backend.gpuDataManager.create(16,GPUBufferUsage.MAP_READ|GPUBufferUsage.COPY_DST);this.backend.endComputePass(),this.backend.getCommandEncoder().resolveQuerySet(this.backend.profilingQuerySet,0,2,ct.buffer,0),this.backend.getCommandEncoder().copyBufferToBuffer(ct.buffer,0,ht.buffer,0,16),this.backend.flush();const pt=this.backend.currentKernelId,mt=this.backend.kernels.get(pt)[0];ht.buffer.mapAsync(GPUMapMode.READ).then(()=>{const gt=new BigUint64Array(ht.buffer.getMappedRange()),yt=gt[0],bt=gt[1];ht.buffer.unmap(),this.backend.profilingTimeBase===void 0&&(this.backend.profilingTimeBase=yt);const xt=Number(yt-this.backend.profilingTimeBase),vt=Number(bt-this.backend.profilingTimeBase);if(!Number.isSafeInteger(xt)||!Number.isSafeInteger(vt))throw new RangeError("incorrect timestamp range");this.backend.gpuDataManager.release(ct.id),this.backend.gpuDataManager.release(ht.id),console.log(`[profiling] kernel "${pt}|${mt}" execution time: ${vt-xt} ns`)})}this.backend.pendingDispatchNumber>=16&&this.backend.flush()}dispose(){}build(it,ot){const st=this.backend.device,ut=it.getShaderSource((0,rt.createShaderHelper)(ot)),ft=st.createShaderModule({code:ut});return(0,nt.LOG_DEBUG)("verbose",()=>`[WebGPU] shader code: ${ut}`),{programInfo:it,computePipeline:st.createComputePipeline({compute:{module:ft,entryPoint:"main"},layout:"auto"})}}normalizeDispatchGroupSize(it){const ot=typeof it=="number"?it:it.x,st=typeof it=="number"?1:it.y||1,ut=typeof it=="number"?1:it.z||1,ft=this.backend.device.limits.maxComputeWorkgroupsPerDimension;if(ot<=ft&&st<=ft&&ut<=ft)return[ot,st,ut];const dt=ot*st*ut;let lt=Math.ceil(Math.sqrt(dt));if(lt>ft){if(lt=Math.ceil(Math.cbrt(dt)),lt>ft)throw new Error("Total dispatch size exceeds WebGPU maximum.");return[lt,lt,lt]}return[lt,lt,1]}}},1163:(_e,et)=>{var tt;Object.defineProperty(et,"__esModule",{value:!0}),et.GpuDataType=void 0,(tt=et.GpuDataType||(et.GpuDataType={}))[tt.default=0]="default",tt[tt.upload=1]="upload",tt[tt.profile=2]="profile"},3899:(_e,et)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.iterateExtraOptions=void 0,et.iterateExtraOptions=(tt,nt,rt,it)=>{if(typeof tt=="object"&&tt!==null){if(rt.has(tt))throw new Error("Circular reference in options");rt.add(tt)}Object.entries(tt).forEach(([ot,st])=>{const ut=nt?nt+ot:ot;if(typeof st=="object")(0,et.iterateExtraOptions)(st,ut+".",rt,it);else if(typeof st=="string"||typeof st=="number")it(ut,st.toString());else{if(typeof st!="boolean")throw new Error("Can't handle extra config type: "+typeof st);it(ut,st?"1":"0")}})}},9544:function(_e,et,tt){var nt,rt=this&&this.__createBinding||(Object.create?function(jt,Dt,Pt,kt){kt===void 0&&(kt=Pt);var At=Object.getOwnPropertyDescriptor(Dt,Pt);At&&!("get"in At?!Dt.__esModule:At.writable||At.configurable)||(At={enumerable:!0,get:function(){return Dt[Pt]}}),Object.defineProperty(jt,kt,At)}:function(jt,Dt,Pt,kt){kt===void 0&&(kt=Pt),jt[kt]=Dt[Pt]}),it=this&&this.__setModuleDefault||(Object.create?function(jt,Dt){Object.defineProperty(jt,"default",{enumerable:!0,value:Dt})}:function(jt,Dt){jt.default=Dt}),ot=this&&this.__importStar||function(jt){if(jt&&jt.__esModule)return jt;var Dt={};if(jt!=null)for(var Pt in jt)Pt!=="default"&&Object.prototype.hasOwnProperty.call(jt,Pt)&&rt(Dt,jt,Pt);return it(Dt,jt),Dt};Object.defineProperty(et,"__esModule",{value:!0}),et.endProfiling=et.run=et.releaseSession=et.createSession=et.createSessionFinalize=et.createSessionAllocate=et.initOrt=et.initWasm=void 0;const st=tt(8453),ut=tt(7675),ft=ot(tt(1259)),dt=tt(263),lt=()=>!!st.env.wasm.proxy&&typeof document<"u";let at,ct,ht,pt=!1,mt=!1,gt=!1;const yt=[],bt=[],xt=[],vt=[],wt=[],_t=[],Ct=()=>{if(pt||!mt||gt||!at)throw new Error("worker not ready")},Et=jt=>{switch(jt.data.type){case"init-wasm":pt=!1,jt.data.err?(gt=!0,ct[1](jt.data.err)):(mt=!0,ct[0]());break;case"init-ort":jt.data.err?ht[1](jt.data.err):ht[0]();break;case"create_allocate":jt.data.err?yt.shift()[1](jt.data.err):yt.shift()[0](jt.data.out);break;case"create_finalize":jt.data.err?bt.shift()[1](jt.data.err):bt.shift()[0](jt.data.out);break;case"create":jt.data.err?xt.shift()[1](jt.data.err):xt.shift()[0](jt.data.out);break;case"release":jt.data.err?vt.shift()[1](jt.data.err):vt.shift()[0]();break;case"run":jt.data.err?wt.shift()[1](jt.data.err):wt.shift()[0](jt.data.out);break;case"end-profiling":jt.data.err?_t.shift()[1](jt.data.err):_t.shift()[0]()}},$t=typeof document<"u"?(nt=document==null?void 0:document.currentScript)===null||nt===void 0?void 0:nt.src:void 0;et.initWasm=async()=>{if(lt()){if(mt)return;if(pt)throw new Error("multiple calls to 'initWasm()' detected.");if(gt)throw new Error("previous call to 'initWasm()' failed.");return pt=!0,st.env.wasm.wasmPaths===void 0&&$t&&$t.indexOf("blob:")!==0&&(st.env.wasm.wasmPaths=$t.substr(0,+$t.lastIndexOf("/")+1)),new Promise((jt,Dt)=>{at==null||at.terminate(),at=tt(8050).Z(),at.onmessage=Et,ct=[jt,Dt];const Pt={type:"init-wasm",in:st.env.wasm};at.postMessage(Pt)})}return(0,dt.initializeWebAssembly)(st.env.wasm)},et.initOrt=async(jt,Dt)=>{if(lt())return Ct(),new Promise((Pt,kt)=>{ht=[Pt,kt];const At={type:"init-ort",in:{numThreads:jt,loggingLevel:Dt}};at.postMessage(At)});ft.initOrt(jt,Dt),await(0,ut.init)((0,dt.getInstance)())},et.createSessionAllocate=async jt=>lt()?(Ct(),new Promise((Dt,Pt)=>{yt.push([Dt,Pt]);const kt={type:"create_allocate",in:{model:jt}};at.postMessage(kt,[jt.buffer])})):ft.createSessionAllocate(jt),et.createSessionFinalize=async(jt,Dt)=>lt()?(Ct(),new Promise((Pt,kt)=>{bt.push([Pt,kt]);const At={type:"create_finalize",in:{modeldata:jt,options:Dt}};at.postMessage(At)})):ft.createSessionFinalize(jt,Dt),et.createSession=async(jt,Dt)=>lt()?(Ct(),new Promise((Pt,kt)=>{xt.push([Pt,kt]);const At={type:"create",in:{model:jt,options:Dt}};at.postMessage(At,[jt.buffer])})):ft.createSession(jt,Dt),et.releaseSession=async jt=>{if(lt())return Ct(),new Promise((Dt,Pt)=>{vt.push([Dt,Pt]);const kt={type:"release",in:jt};at.postMessage(kt)});ft.releaseSession(jt)},et.run=async(jt,Dt,Pt,kt,At)=>lt()?(Ct(),new Promise((Tt,St)=>{wt.push([Tt,St]);const Rt={type:"run",in:{sessionId:jt,inputIndices:Dt,inputs:Pt,outputIndices:kt,options:At}};at.postMessage(Rt,ft.extractTransferableBuffers(Pt))})):ft.run(jt,Dt,Pt,kt,At),et.endProfiling=async jt=>{if(lt())return Ct(),new Promise((Dt,Pt)=>{_t.push([Dt,Pt]);const kt={type:"end-profiling",in:jt};at.postMessage(kt)});ft.endProfiling(jt)}},7918:(_e,et,tt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.setRunOptions=void 0;const nt=tt(3899),rt=tt(9444),it=tt(263);et.setRunOptions=ot=>{const st=(0,it.getInstance)();let ut=0;const ft=[],dt=ot||{};try{if((ot==null?void 0:ot.logSeverityLevel)===void 0)dt.logSeverityLevel=2;else if(typeof ot.logSeverityLevel!="number"||!Number.isInteger(ot.logSeverityLevel)||ot.logSeverityLevel<0||ot.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${ot.logSeverityLevel}`);if((ot==null?void 0:ot.logVerbosityLevel)===void 0)dt.logVerbosityLevel=0;else if(typeof ot.logVerbosityLevel!="number"||!Number.isInteger(ot.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${ot.logVerbosityLevel}`);(ot==null?void 0:ot.terminate)===void 0&&(dt.terminate=!1);let lt=0;if((ot==null?void 0:ot.tag)!==void 0&&(lt=(0,rt.allocWasmString)(ot.tag,ft)),ut=st._OrtCreateRunOptions(dt.logSeverityLevel,dt.logVerbosityLevel,!!dt.terminate,lt),ut===0)throw new Error("Can't create run options");return(ot==null?void 0:ot.extra)!==void 0&&(0,nt.iterateExtraOptions)(ot.extra,"",new WeakSet,(at,ct)=>{const ht=(0,rt.allocWasmString)(at,ft),pt=(0,rt.allocWasmString)(ct,ft);if(st._OrtAddRunConfigEntry(ut,ht,pt)!==0)throw new Error(`Can't set a run config entry: ${at} - ${ct}`)}),[ut,ft]}catch(lt){throw ut!==0&&st._OrtReleaseRunOptions(ut),ft.forEach(st._free),lt}}},6640:(_e,et,tt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.OnnxruntimeWebAssemblySessionHandler=void 0;const nt=tt(2806),rt=tt(8453),it=tt(2850),ot=tt(9544),st=tt(7917);let ut;et.OnnxruntimeWebAssemblySessionHandler=class{async createSessionAllocate(ft){const dt=await fetch(ft),lt=await dt.arrayBuffer();return(0,ot.createSessionAllocate)(new Uint8Array(lt))}async loadModel(ft,dt){if(ut||(await(0,ot.initOrt)(rt.env.wasm.numThreads,(0,st.logLevelStringToEnum)(rt.env.logLevel)),ut=!0),typeof ft=="string")if(typeof fetch>"u"){const lt=await(0,it.promisify)(nt.readFile)(ft);[this.sessionId,this.inputNames,this.outputNames]=await(0,ot.createSession)(lt,dt)}else{const lt=await this.createSessionAllocate(ft);[this.sessionId,this.inputNames,this.outputNames]=await(0,ot.createSessionFinalize)(lt,dt)}else[this.sessionId,this.inputNames,this.outputNames]=await(0,ot.createSession)(ft,dt)}async dispose(){return(0,ot.releaseSession)(this.sessionId)}async run(ft,dt,lt){const at=[],ct=[];Object.entries(ft).forEach(gt=>{const yt=gt[0],bt=gt[1],xt=this.inputNames.indexOf(yt);if(xt===-1)throw new Error(`invalid input '${yt}'`);at.push(bt),ct.push(xt)});const ht=[];Object.entries(dt).forEach(gt=>{const yt=gt[0],bt=this.outputNames.indexOf(yt);if(bt===-1)throw new Error(`invalid output '${yt}'`);ht.push(bt)});const pt=await(0,ot.run)(this.sessionId,ct,at.map(gt=>[gt.type,gt.dims,gt.data]),ht,lt),mt={};for(let gt=0;gt<pt.length;gt++)mt[this.outputNames[ht[gt]]]=new rt.Tensor(pt[gt][0],pt[gt][2],pt[gt][1]);return mt}startProfiling(){}endProfiling(){(0,ot.endProfiling)(this.sessionId)}}},7622:(_e,et,tt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.setSessionOptions=void 0;const nt=tt(3899),rt=tt(9444),it=tt(263);et.setSessionOptions=ot=>{var st,ut,ft,dt;const lt=(0,it.getInstance)();let at=0;const ct=[],ht=ot||{};(pt=>{pt.extra||(pt.extra={}),pt.extra.session||(pt.extra.session={});const mt=pt.extra.session;mt.use_ort_model_bytes_directly||(mt.use_ort_model_bytes_directly="1"),pt.executionProviders&&pt.executionProviders.some(gt=>(typeof gt=="string"?gt:gt.name)==="webgpu")&&(pt.enableMemPattern=!1)})(ht);try{const pt=(vt=>{switch(vt){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${vt}`)}})((st=ht.graphOptimizationLevel)!==null&&st!==void 0?st:"all"),mt=(vt=>{switch(vt){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${vt}`)}})((ut=ht.executionMode)!==null&&ut!==void 0?ut:"sequential"),gt=typeof ht.logId=="string"?(0,rt.allocWasmString)(ht.logId,ct):0,yt=(ft=ht.logSeverityLevel)!==null&&ft!==void 0?ft:2;if(!Number.isInteger(yt)||yt<0||yt>4)throw new Error(`log serverity level is not valid: ${yt}`);const bt=(dt=ht.logVerbosityLevel)!==null&&dt!==void 0?dt:0;if(!Number.isInteger(bt)||bt<0||bt>4)throw new Error(`log verbosity level is not valid: ${bt}`);const xt=typeof ht.optimizedModelFilePath=="string"?(0,rt.allocWasmString)(ht.optimizedModelFilePath,ct):0;if(at=lt._OrtCreateSessionOptions(pt,!!ht.enableCpuMemArena,!!ht.enableMemPattern,mt,!!ht.enableProfiling,0,gt,yt,bt,xt),at===0)throw new Error("Can't create session options");return ht.executionProviders&&((vt,wt,_t)=>{for(const Ct of wt){let Et=typeof Ct=="string"?Ct:Ct.name;switch(Et){case"xnnpack":Et="XNNPACK";break;case"webgpu":Et="JS";break;case"wasm":case"cpu":continue;default:throw new Error(`not supported EP: ${Et}`)}const $t=(0,rt.allocWasmString)(Et,_t);if((0,it.getInstance)()._OrtAppendExecutionProvider(vt,$t)!==0)throw new Error(`Can't append execution provider: ${Et}`)}})(at,ht.executionProviders,ct),ht.extra!==void 0&&(0,nt.iterateExtraOptions)(ht.extra,"",new WeakSet,(vt,wt)=>{const _t=(0,rt.allocWasmString)(vt,ct),Ct=(0,rt.allocWasmString)(wt,ct);if(lt._OrtAddSessionConfigEntry(at,_t,Ct)!==0)throw new Error(`Can't set a session config entry: ${vt} - ${wt}`)}),[at,ct]}catch(pt){throw at!==0&&lt._OrtReleaseSessionOptions(at),ct.forEach(lt._free),pt}}},9444:(_e,et,tt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.allocWasmString=void 0;const nt=tt(263);et.allocWasmString=(rt,it)=>{const ot=(0,nt.getInstance)(),st=ot.lengthBytesUTF8(rt)+1,ut=ot._malloc(st);return ot.stringToUTF8(rt,ut,st),it.push(ut),ut}},7917:(_e,et)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.logLevelStringToEnum=et.tensorTypeToTypedArrayConstructor=et.getTensorElementSize=et.tensorDataTypeEnumToString=et.tensorDataTypeStringToEnum=void 0,et.tensorDataTypeStringToEnum=tt=>{switch(tt){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${tt}`)}},et.tensorDataTypeEnumToString=tt=>{switch(tt){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${tt}`)}},et.getTensorElementSize=tt=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][tt],et.tensorTypeToTypedArrayConstructor=tt=>{switch(tt){case"float32":return Float32Array;case"uint8":case"bool":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${tt}`)}},et.logLevelStringToEnum=tt=>{switch(tt){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${tt}`)}}},1259:(_e,et,tt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.extractTransferableBuffers=et.endProfiling=et.run=et.releaseSession=et.createSession=et.createSessionFinalize=et.createSessionAllocate=et.initOrt=void 0;const nt=tt(7918),rt=tt(7622),it=tt(9444),ot=tt(7917),st=tt(263);et.initOrt=(ft,dt)=>{const lt=(0,st.getInstance)()._OrtInit(ft,dt);if(lt!==0)throw new Error(`Can't initialize onnxruntime. error code = ${lt}`)};const ut=new Map;et.createSessionAllocate=ft=>{const dt=(0,st.getInstance)(),lt=dt._malloc(ft.byteLength);return dt.HEAPU8.set(ft,lt),[lt,ft.byteLength]},et.createSessionFinalize=(ft,dt)=>{const lt=(0,st.getInstance)();let at=0,ct=0,ht=[];try{if([ct,ht]=(0,rt.setSessionOptions)(dt),at=lt._OrtCreateSession(ft[0],ft[1],ct),at===0)throw new Error("Can't create a session")}finally{lt._free(ft[0]),ct!==0&&lt._OrtReleaseSessionOptions(ct),ht.forEach(lt._free)}const pt=lt._OrtGetInputCount(at),mt=lt._OrtGetOutputCount(at),gt=[],yt=[],bt=[],xt=[];for(let vt=0;vt<pt;vt++){const wt=lt._OrtGetInputName(at,vt);if(wt===0)throw new Error("Can't get an input name");yt.push(wt),gt.push(lt.UTF8ToString(wt))}for(let vt=0;vt<mt;vt++){const wt=lt._OrtGetOutputName(at,vt);if(wt===0)throw new Error("Can't get an output name");xt.push(wt),bt.push(lt.UTF8ToString(wt))}return ut.set(at,[at,yt,xt]),[at,gt,bt]},et.createSession=(ft,dt)=>{const lt=(0,et.createSessionAllocate)(ft);return(0,et.createSessionFinalize)(lt,dt)},et.releaseSession=ft=>{const dt=(0,st.getInstance)(),lt=ut.get(ft);if(!lt)throw new Error("invalid session id");const at=lt[0],ct=lt[1],ht=lt[2];ct.forEach(dt._OrtFree),ht.forEach(dt._OrtFree),dt._OrtReleaseSession(at),ut.delete(ft)},et.run=async(ft,dt,lt,at,ct)=>{const ht=(0,st.getInstance)(),pt=ut.get(ft);if(!pt)throw new Error("invalid session id");const mt=pt[0],gt=pt[1],yt=pt[2],bt=dt.length,xt=at.length;let vt=0,wt=[];const _t=[],Ct=[];try{[vt,wt]=(0,nt.setRunOptions)(ct);for(let kt=0;kt<bt;kt++){const At=lt[kt][0],Tt=lt[kt][1],St=lt[kt][2];let Rt,Ot;if(Array.isArray(St)){Ot=4*St.length,Rt=ht._malloc(Ot),Ct.push(Rt);let Bt=Rt/4;for(let zt=0;zt<St.length;zt++){if(typeof St[zt]!="string")throw new TypeError(`tensor data at index ${zt} is not a string`);ht.HEAPU32[Bt++]=(0,it.allocWasmString)(St[zt],Ct)}}else Ot=St.byteLength,Rt=ht._malloc(Ot),Ct.push(Rt),ht.HEAPU8.set(new Uint8Array(St.buffer,St.byteOffset,Ot),Rt);const Nt=ht.stackSave(),It=ht.stackAlloc(4*Tt.length);try{let Bt=It/4;Tt.forEach(Gt=>ht.HEAP32[Bt++]=Gt);const zt=ht._OrtCreateTensor((0,ot.tensorDataTypeStringToEnum)(At),Rt,Ot,It,Tt.length);if(zt===0)throw new Error("Can't create a tensor");_t.push(zt)}finally{ht.stackRestore(Nt)}}const Et=ht.stackSave(),$t=ht.stackAlloc(4*bt),jt=ht.stackAlloc(4*bt),Dt=ht.stackAlloc(4*xt),Pt=ht.stackAlloc(4*xt);try{let kt=$t/4,At=jt/4,Tt=Dt/4,St=Pt/4;for(let It=0;It<bt;It++)ht.HEAPU32[kt++]=_t[It],ht.HEAPU32[At++]=gt[dt[It]];for(let It=0;It<xt;It++)ht.HEAPU32[Tt++]=0,ht.HEAPU32[St++]=yt[at[It]];let Rt=ht._OrtRun(mt,jt,$t,bt,Pt,xt,Dt,vt);const Ot=ht.jsepRunPromise;Ot&&Ot.then!==void 0&&(Rt=await Ot);const Nt=[];if(Rt===0)for(let It=0;It<xt;It++){const Bt=ht.HEAPU32[Dt/4+It],zt=ht.stackSave(),Gt=ht.stackAlloc(16);let Kt,fn=0;try{if(Rt=ht._OrtGetTensorData(Bt,Gt,Gt+4,Gt+8,Gt+12),Rt!==0)throw new Error(`Can't access output tensor data. error code = ${Rt}`);let dn=Gt/4;const Wt=ht.HEAPU32[dn++];fn=ht.HEAPU32[dn++];const rn=ht.HEAPU32[dn++],Vt=ht.HEAPU32[dn++],an=[];for(let Zt=0;Zt<Vt;Zt++)an.push(ht.HEAPU32[rn/4+Zt]);ht._OrtFree(rn);const Qt=an.length===0?1:an.reduce((Zt,xn)=>Zt*xn);if(Kt=(0,ot.tensorDataTypeEnumToString)(Wt),Kt==="string"){const Zt=[];let xn=fn/4;for(let vn=0;vn<Qt;vn++){const gn=ht.HEAPU32[xn++],Cn=vn===Qt-1?void 0:ht.HEAPU32[xn]-gn;Zt.push(ht.UTF8ToString(gn,Cn))}Nt.push([Kt,an,Zt])}else{const Zt=new((0,ot.tensorTypeToTypedArrayConstructor)(Kt))(Qt);new Uint8Array(Zt.buffer,Zt.byteOffset,Zt.byteLength).set(ht.HEAPU8.subarray(fn,fn+Zt.byteLength)),Nt.push([Kt,an,Zt])}}finally{ht.stackRestore(zt),Kt==="string"&&fn&&ht._free(fn),ht._OrtReleaseTensor(Bt)}}if(Rt===0)return Nt;throw new Error(`failed to call OrtRun(). error code = ${Rt}.`)}finally{ht.stackRestore(Et)}}finally{_t.forEach(ht._OrtReleaseTensor),Ct.forEach(ht._free),ht._OrtReleaseRunOptions(vt),wt.forEach(ht._free)}},et.endProfiling=ft=>{const dt=(0,st.getInstance)(),lt=ut.get(ft);if(!lt)throw new Error("invalid session id");const at=lt[0],ct=dt._OrtEndProfiling(at);if(ct===0)throw new Error("Can't get an profile file name");dt._OrtFree(ct)},et.extractTransferableBuffers=ft=>{const dt=[];for(const lt of ft){const at=lt[2];!Array.isArray(at)&&at.buffer&&dt.push(at.buffer)}return dt}},263:function(_e,et,tt){var nt=this&&this.__createBinding||(Object.create?function(ct,ht,pt,mt){mt===void 0&&(mt=pt);var gt=Object.getOwnPropertyDescriptor(ht,pt);gt&&!("get"in gt?!ht.__esModule:gt.writable||gt.configurable)||(gt={enumerable:!0,get:function(){return ht[pt]}}),Object.defineProperty(ct,mt,gt)}:function(ct,ht,pt,mt){mt===void 0&&(mt=pt),ct[mt]=ht[pt]}),rt=this&&this.__setModuleDefault||(Object.create?function(ct,ht){Object.defineProperty(ct,"default",{enumerable:!0,value:ht})}:function(ct,ht){ct.default=ht}),it=this&&this.__importStar||function(ct){if(ct&&ct.__esModule)return ct;var ht={};if(ct!=null)for(var pt in ct)pt!=="default"&&Object.prototype.hasOwnProperty.call(ct,pt)&&nt(ht,ct,pt);return rt(ht,ct),ht};Object.defineProperty(et,"__esModule",{value:!0}),et.dispose=et.getInstance=et.initializeWebAssembly=void 0;const ot=it(tt(6449)),st=tt(932),ut=tt(3474);let ft,dt=!1,lt=!1,at=!1;et.initializeWebAssembly=async ct=>{if(dt)return Promise.resolve();if(lt)throw new Error("multiple calls to 'initializeWebAssembly()' detected.");if(at)throw new Error("previous call to 'initializeWebAssembly()' failed.");lt=!0;const ht=ct.initTimeout,pt=ct.numThreads,mt=ct.simd,gt=pt>1&&(()=>{try{return typeof SharedArrayBuffer<"u"&&(typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch{return!1}})(),yt=mt&&(()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch{return!1}})(),bt=ct.wasmPaths,xt=typeof bt=="string"?bt:void 0,vt=((Et,$t)=>$t?Et?"ort-wasm-simd-threaded.wasm":"ort-wasm-threaded.wasm":Et?"ort-wasm-simd.wasm":"ort-wasm.wasm")(yt,gt),wt=typeof bt=="object"?bt[vt]:void 0;let _t=!1;const Ct=[];if(ht>0&&Ct.push(new Promise(Et=>{setTimeout(()=>{_t=!0,Et()},ht)})),Ct.push(new Promise((Et,$t)=>{const jt=gt?ut:st,Dt={locateFile:(Pt,kt)=>gt&&Pt.endsWith(".worker.js")&&typeof Blob<"u"?URL.createObjectURL(new Blob([tt(4154)],{type:"text/javascript"})):Pt.endsWith(".wasm")?wt||(xt??kt)+vt:kt+Pt};if(gt)if(typeof Blob>"u")Dt.mainScriptUrlOrBlob=ot.join("/","ort-wasm-threaded.js");else{const Pt=`var ortWasmThreaded=(function(){var _scriptDir;return ${jt.toString()}})();`;Dt.mainScriptUrlOrBlob=new Blob([Pt],{type:"text/javascript"})}jt(Dt).then(Pt=>{lt=!1,dt=!0,ft=Pt,Et()},Pt=>{lt=!1,at=!0,$t(Pt)})})),await Promise.race(Ct),_t)throw new Error(`WebAssembly backend initializing failed due to timeout: ${ht}ms`)},et.getInstance=()=>{if(dt&&ft)return ft;throw new Error("WebAssembly is not initialized yet.")},et.dispose=()=>{var ct;!dt||lt||at||(lt=!0,(ct=ft.PThread)===null||ct===void 0||ct.terminateAllThreads(),ft=void 0,lt=!1,dt=!1,at=!0)}},8050:(_e,et,tt)=>{tt.d(et,{Z:()=>it});var nt=tt(6614),rt=tt.n(nt);function it(){return rt()('/*!\n* ONNX Runtime Web v1.15.1\n* Copyright (c) Microsoft Corporation. All rights reserved.\n* Licensed under the MIT License.\n*/\n(()=>{var e={899:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.iterateExtraOptions=void 0,t.iterateExtraOptions=(e,n,r,a)=>{if("object"==typeof e&&null!==e){if(r.has(e))throw new Error("Circular reference in options");r.add(e)}Object.entries(e).forEach((([e,o])=>{const i=n?n+e:e;if("object"==typeof o)(0,t.iterateExtraOptions)(o,i+".",r,a);else if("string"==typeof o||"number"==typeof o)a(i,o.toString());else{if("boolean"!=typeof o)throw new Error("Can\'t handle extra config type: "+typeof o);a(i,o?"1":"0")}}))}},918:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setRunOptions=void 0;const r=n(899),a=n(444),o=n(263);t.setRunOptions=e=>{const t=(0,o.getInstance)();let n=0;const i=[],s=e||{};try{if(void 0===(null==e?void 0:e.logSeverityLevel))s.logSeverityLevel=2;else if("number"!=typeof e.logSeverityLevel||!Number.isInteger(e.logSeverityLevel)||e.logSeverityLevel<0||e.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${e.logSeverityLevel}`);if(void 0===(null==e?void 0:e.logVerbosityLevel))s.logVerbosityLevel=0;else if("number"!=typeof e.logVerbosityLevel||!Number.isInteger(e.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${e.logVerbosityLevel}`);void 0===(null==e?void 0:e.terminate)&&(s.terminate=!1);let o=0;if(void 0!==(null==e?void 0:e.tag)&&(o=(0,a.allocWasmString)(e.tag,i)),n=t._OrtCreateRunOptions(s.logSeverityLevel,s.logVerbosityLevel,!!s.terminate,o),0===n)throw new Error("Can\'t create run options");return void 0!==(null==e?void 0:e.extra)&&(0,r.iterateExtraOptions)(e.extra,"",new WeakSet,((e,r)=>{const o=(0,a.allocWasmString)(e,i),s=(0,a.allocWasmString)(r,i);if(0!==t._OrtAddRunConfigEntry(n,o,s))throw new Error(`Can\'t set a run config entry: ${e} - ${r}`)})),[n,i]}catch(e){throw 0!==n&&t._OrtReleaseRunOptions(n),i.forEach(t._free),e}}},622:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setSessionOptions=void 0;const r=n(899),a=n(444),o=n(263);t.setSessionOptions=e=>{var t,n,i,s;const u=(0,o.getInstance)();let c=0;const l=[],f=e||{};(e=>{e.extra||(e.extra={}),e.extra.session||(e.extra.session={});const t=e.extra.session;t.use_ort_model_bytes_directly||(t.use_ort_model_bytes_directly="1"),e.executionProviders&&e.executionProviders.some((e=>"webgpu"===("string"==typeof e?e:e.name)))&&(e.enableMemPattern=!1)})(f);try{const e=(e=>{switch(e){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${e}`)}})(null!==(t=f.graphOptimizationLevel)&&void 0!==t?t:"all"),p=(e=>{switch(e){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${e}`)}})(null!==(n=f.executionMode)&&void 0!==n?n:"sequential"),d="string"==typeof f.logId?(0,a.allocWasmString)(f.logId,l):0,m=null!==(i=f.logSeverityLevel)&&void 0!==i?i:2;if(!Number.isInteger(m)||m<0||m>4)throw new Error(`log serverity level is not valid: ${m}`);const g=null!==(s=f.logVerbosityLevel)&&void 0!==s?s:0;if(!Number.isInteger(g)||g<0||g>4)throw new Error(`log verbosity level is not valid: ${g}`);const h="string"==typeof f.optimizedModelFilePath?(0,a.allocWasmString)(f.optimizedModelFilePath,l):0;if(c=u._OrtCreateSessionOptions(e,!!f.enableCpuMemArena,!!f.enableMemPattern,p,!!f.enableProfiling,0,d,m,g,h),0===c)throw new Error("Can\'t create session options");return f.executionProviders&&((e,t,n)=>{for(const r of t){let t="string"==typeof r?r:r.name;switch(t){case"xnnpack":t="XNNPACK";break;case"webgpu":t="JS";break;case"wasm":case"cpu":continue;default:throw new Error(`not supported EP: ${t}`)}const i=(0,a.allocWasmString)(t,n);if(0!==(0,o.getInstance)()._OrtAppendExecutionProvider(e,i))throw new Error(`Can\'t append execution provider: ${t}`)}})(c,f.executionProviders,l),void 0!==f.extra&&(0,r.iterateExtraOptions)(f.extra,"",new WeakSet,((e,t)=>{const n=(0,a.allocWasmString)(e,l),r=(0,a.allocWasmString)(t,l);if(0!==u._OrtAddSessionConfigEntry(c,n,r))throw new Error(`Can\'t set a session config entry: ${e} - ${t}`)})),[c,l]}catch(e){throw 0!==c&&u._OrtReleaseSessionOptions(c),l.forEach(u._free),e}}},444:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.allocWasmString=void 0;const r=n(263);t.allocWasmString=(e,t)=>{const n=(0,r.getInstance)(),a=n.lengthBytesUTF8(e)+1,o=n._malloc(a);return n.stringToUTF8(e,o,a),t.push(o),o}},917:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logLevelStringToEnum=t.tensorTypeToTypedArrayConstructor=t.getTensorElementSize=t.tensorDataTypeEnumToString=t.tensorDataTypeStringToEnum=void 0,t.tensorDataTypeStringToEnum=e=>{switch(e){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${e}`)}},t.tensorDataTypeEnumToString=e=>{switch(e){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${e}`)}},t.getTensorElementSize=e=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][e],t.tensorTypeToTypedArrayConstructor=e=>{switch(e){case"float32":return Float32Array;case"uint8":case"bool":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${e}`)}},t.logLevelStringToEnum=e=>{switch(e){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${e}`)}}},259:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extractTransferableBuffers=t.endProfiling=t.run=t.releaseSession=t.createSession=t.createSessionFinalize=t.createSessionAllocate=t.initOrt=void 0;const r=n(918),a=n(622),o=n(444),i=n(917),s=n(263);t.initOrt=(e,t)=>{const n=(0,s.getInstance)()._OrtInit(e,t);if(0!==n)throw new Error(`Can\'t initialize onnxruntime. error code = ${n}`)};const u=new Map;t.createSessionAllocate=e=>{const t=(0,s.getInstance)(),n=t._malloc(e.byteLength);return t.HEAPU8.set(e,n),[n,e.byteLength]},t.createSessionFinalize=(e,t)=>{const n=(0,s.getInstance)();let r=0,o=0,i=[];try{if([o,i]=(0,a.setSessionOptions)(t),r=n._OrtCreateSession(e[0],e[1],o),0===r)throw new Error("Can\'t create a session")}finally{n._free(e[0]),0!==o&&n._OrtReleaseSessionOptions(o),i.forEach(n._free)}const c=n._OrtGetInputCount(r),l=n._OrtGetOutputCount(r),f=[],p=[],d=[],m=[];for(let e=0;e<c;e++){const t=n._OrtGetInputName(r,e);if(0===t)throw new Error("Can\'t get an input name");p.push(t),f.push(n.UTF8ToString(t))}for(let e=0;e<l;e++){const t=n._OrtGetOutputName(r,e);if(0===t)throw new Error("Can\'t get an output name");m.push(t),d.push(n.UTF8ToString(t))}return u.set(r,[r,p,m]),[r,f,d]},t.createSession=(e,n)=>{const r=(0,t.createSessionAllocate)(e);return(0,t.createSessionFinalize)(r,n)},t.releaseSession=e=>{const t=(0,s.getInstance)(),n=u.get(e);if(!n)throw new Error("invalid session id");const r=n[0],a=n[1],o=n[2];a.forEach(t._OrtFree),o.forEach(t._OrtFree),t._OrtReleaseSession(r),u.delete(e)},t.run=async(e,t,n,a,c)=>{const l=(0,s.getInstance)(),f=u.get(e);if(!f)throw new Error("invalid session id");const p=f[0],d=f[1],m=f[2],g=t.length,h=a.length;let y=0,v=[];const b=[],w=[];try{[y,v]=(0,r.setRunOptions)(c);for(let e=0;e<g;e++){const t=n[e][0],r=n[e][1],a=n[e][2];let s,u;if(Array.isArray(a)){u=4*a.length,s=l._malloc(u),w.push(s);let e=s/4;for(let t=0;t<a.length;t++){if("string"!=typeof a[t])throw new TypeError(`tensor data at index ${t} is not a string`);l.HEAPU32[e++]=(0,o.allocWasmString)(a[t],w)}}else u=a.byteLength,s=l._malloc(u),w.push(s),l.HEAPU8.set(new Uint8Array(a.buffer,a.byteOffset,u),s);const c=l.stackSave(),f=l.stackAlloc(4*r.length);try{let e=f/4;r.forEach((t=>l.HEAP32[e++]=t));const n=l._OrtCreateTensor((0,i.tensorDataTypeStringToEnum)(t),s,u,f,r.length);if(0===n)throw new Error("Can\'t create a tensor");b.push(n)}finally{l.stackRestore(c)}}const e=l.stackSave(),s=l.stackAlloc(4*g),u=l.stackAlloc(4*g),f=l.stackAlloc(4*h),_=l.stackAlloc(4*h);try{let e=s/4,n=u/4,r=f/4,o=_/4;for(let r=0;r<g;r++)l.HEAPU32[e++]=b[r],l.HEAPU32[n++]=d[t[r]];for(let e=0;e<h;e++)l.HEAPU32[r++]=0,l.HEAPU32[o++]=m[a[e]];let c=l._OrtRun(p,u,s,g,_,h,f,y);const v=l.jsepRunPromise;v&&void 0!==v.then&&(c=await v);const w=[];if(0===c)for(let e=0;e<h;e++){const t=l.HEAPU32[f/4+e],n=l.stackSave(),r=l.stackAlloc(16);let a,o=0;try{if(c=l._OrtGetTensorData(t,r,r+4,r+8,r+12),0!==c)throw new Error(`Can\'t access output tensor data. error code = ${c}`);let e=r/4;const n=l.HEAPU32[e++];o=l.HEAPU32[e++];const s=l.HEAPU32[e++],u=l.HEAPU32[e++],f=[];for(let e=0;e<u;e++)f.push(l.HEAPU32[s/4+e]);l._OrtFree(s);const p=0===f.length?1:f.reduce(((e,t)=>e*t));if(a=(0,i.tensorDataTypeEnumToString)(n),"string"===a){const e=[];let t=o/4;for(let n=0;n<p;n++){const r=l.HEAPU32[t++],a=n===p-1?void 0:l.HEAPU32[t]-r;e.push(l.UTF8ToString(r,a))}w.push([a,f,e])}else{const e=new((0,i.tensorTypeToTypedArrayConstructor)(a))(p);new Uint8Array(e.buffer,e.byteOffset,e.byteLength).set(l.HEAPU8.subarray(o,o+e.byteLength)),w.push([a,f,e])}}finally{l.stackRestore(n),"string"===a&&o&&l._free(o),l._OrtReleaseTensor(t)}}if(0===c)return w;throw new Error(`failed to call OrtRun(). error code = ${c}.`)}finally{l.stackRestore(e)}}finally{b.forEach(l._OrtReleaseTensor),w.forEach(l._free),l._OrtReleaseRunOptions(y),v.forEach(l._free)}},t.endProfiling=e=>{const t=(0,s.getInstance)(),n=u.get(e);if(!n)throw new Error("invalid session id");const r=n[0],a=t._OrtEndProfiling(r);if(0===a)throw new Error("Can\'t get an profile file name");t._OrtFree(a)},t.extractTransferableBuffers=e=>{const t=[];for(const n of e){const e=n[2];!Array.isArray(e)&&e.buffer&&t.push(e.buffer)}return t}},263:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(t,n);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,a)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.dispose=t.getInstance=t.initializeWebAssembly=void 0;const i=o(n(449)),s=n(932),u=n(474);let c,l=!1,f=!1,p=!1;t.initializeWebAssembly=async e=>{if(l)return Promise.resolve();if(f)throw new Error("multiple calls to \'initializeWebAssembly()\' detected.");if(p)throw new Error("previous call to \'initializeWebAssembly()\' failed.");f=!0;const t=e.initTimeout,r=e.numThreads,a=e.simd,o=r>1&&(()=>{try{return"undefined"!=typeof SharedArrayBuffer&&("undefined"!=typeof MessageChannel&&(new MessageChannel).port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch(e){return!1}})(),d=a&&(()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch(e){return!1}})(),m=e.wasmPaths,g="string"==typeof m?m:void 0,h=((e,t)=>t?e?"ort-wasm-simd-threaded.wasm":"ort-wasm-threaded.wasm":e?"ort-wasm-simd.wasm":"ort-wasm.wasm")(d,o),y="object"==typeof m?m[h]:void 0;let v=!1;const b=[];if(t>0&&b.push(new Promise((e=>{setTimeout((()=>{v=!0,e()}),t)}))),b.push(new Promise(((e,t)=>{const r=o?u:s,a={locateFile:(e,t)=>o&&e.endsWith(".worker.js")&&"undefined"!=typeof Blob?URL.createObjectURL(new Blob([n(154)],{type:"text/javascript"})):e.endsWith(".wasm")?y||(null!=g?g:t)+h:t+e};if(o)if("undefined"==typeof Blob)a.mainScriptUrlOrBlob=i.join("/","ort-wasm-threaded.js");else{const e=`var ortWasmThreaded=(function(){var _scriptDir;return ${r.toString()}})();`;a.mainScriptUrlOrBlob=new Blob([e],{type:"text/javascript"})}r(a).then((t=>{f=!1,l=!0,c=t,e()}),(e=>{f=!1,p=!0,t(e)}))}))),await Promise.race(b),v)throw new Error(`WebAssembly backend initializing failed due to timeout: ${t}ms`)},t.getInstance=()=>{if(l&&c)return c;throw new Error("WebAssembly is not initialized yet.")},t.dispose=()=>{var e;!l||f||p||(f=!0,null===(e=c.PThread)||void 0===e||e.terminateAllThreads(),c=void 0,f=!1,l=!1,p=!0)}},474:(e,t,n)=>{var _scriptDir,r=(_scriptDir=(_scriptDir="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(e){function t(){return P.buffer!=D&&G(P.buffer),F}function r(){return P.buffer!=D&&G(P.buffer),U}function a(){return P.buffer!=D&&G(P.buffer),I}function o(){return P.buffer!=D&&G(P.buffer),W}function i(){return P.buffer!=D&&G(P.buffer),j}var s,u,c;e=e||{},s||(s=void 0!==e?e:{}),s.ready=new Promise((function(e,t){u=e,c=t}));var l,f,p,d,m,g,h=Object.assign({},s),y="./this.program",v=(e,t)=>{throw t},b="object"==typeof window,w="function"==typeof importScripts,_="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,O=s.ENVIRONMENT_IS_PTHREAD||!1,S="";function T(e){return s.locateFile?s.locateFile(e,S):S+e}if(_){let t;S=w?n(908).dirname(S)+"/":"//",g=()=>{m||(d=n(384),m=n(908))},l=function(e,t){return g(),e=m.normalize(e),d.readFileSync(e,t?void 0:"utf8")},p=e=>((e=l(e,!0)).buffer||(e=new Uint8Array(e)),e),f=(e,t,n)=>{g(),e=m.normalize(e),d.readFile(e,(function(e,r){e?n(e):t(r.buffer)}))},1<process.argv.length&&(y=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",(function(e){if(!(e instanceof ie))throw e})),process.on("unhandledRejection",(function(e){throw e})),v=(e,t)=>{if(C)throw process.exitCode=e,t;t instanceof ie||x("exiting due to exception: "+t),process.exit(e)},s.inspect=function(){return"[Emscripten Module object]"};try{t=n(925)}catch(e){throw console.error(\'The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?\'),e}n.g.Worker=t.Worker}else(b||w)&&(w?S=self.location.href:"undefined"!=typeof document&&document.currentScript&&(S=document.currentScript.src),_scriptDir&&(S=_scriptDir),S=0!==S.indexOf("blob:")?S.substr(0,S.replace(/[?#].*/,"").lastIndexOf("/")+1):"",_||(l=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},w&&(p=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),f=(e,t,n)=>{var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=()=>{200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)}));_&&"undefined"==typeof performance&&(n.g.performance=n(953).performance);var A=console.log.bind(console),E=console.warn.bind(console);_&&(g(),A=e=>d.writeSync(1,e+"\\n"),E=e=>d.writeSync(2,e+"\\n"));var M,R=s.print||A,x=s.printErr||E;Object.assign(s,h),h=null,s.thisProgram&&(y=s.thisProgram),s.quit&&(v=s.quit),s.wasmBinary&&(M=s.wasmBinary);var C=s.noExitRuntime||!0;"object"!=typeof WebAssembly&&ne("no native wasm support detected");var P,k,D,F,U,I,W,j,H=!1,L="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function Y(e,t,n){var r=(t>>>=0)+n;for(n=t;e[n]&&!(n>=r);)++n;if(16<n-t&&e.buffer&&L)return L.decode(e.buffer instanceof SharedArrayBuffer?e.slice(t,n):e.subarray(t,n));for(r="";t<n;){var a=e[t++];if(128&a){var o=63&e[t++];if(192==(224&a))r+=String.fromCharCode((31&a)<<6|o);else{var i=63&e[t++];65536>(a=224==(240&a)?(15&a)<<12|o<<6|i:(7&a)<<18|o<<12|i<<6|63&e[t++])?r+=String.fromCharCode(a):(a-=65536,r+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else r+=String.fromCharCode(a)}return r}function z(e,t){return(e>>>=0)?Y(r(),e,t):""}function B(e,t,n,r){if(!(0<r))return 0;var a=n>>>=0;r=n+r-1;for(var o=0;o<e.length;++o){var i=e.charCodeAt(o);if(55296<=i&&57343>=i&&(i=65536+((1023&i)<<10)|1023&e.charCodeAt(++o)),127>=i){if(n>=r)break;t[n++>>>0]=i}else{if(2047>=i){if(n+1>=r)break;t[n++>>>0]=192|i>>6}else{if(65535>=i){if(n+2>=r)break;t[n++>>>0]=224|i>>12}else{if(n+3>=r)break;t[n++>>>0]=240|i>>18,t[n++>>>0]=128|i>>12&63}t[n++>>>0]=128|i>>6&63}t[n++>>>0]=128|63&i}}return t[n>>>0]=0,n-a}function N(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);127>=r?t++:2047>=r?t+=2:55296<=r&&57343>=r?(t+=4,++n):t+=3}return t}function G(e){D=e,s.HEAP8=F=new Int8Array(e),s.HEAP16=new Int16Array(e),s.HEAP32=I=new Int32Array(e),s.HEAPU8=U=new Uint8Array(e),s.HEAPU16=new Uint16Array(e),s.HEAPU32=W=new Uint32Array(e),s.HEAPF32=new Float32Array(e),s.HEAPF64=j=new Float64Array(e)}O&&(D=s.buffer);var q=s.INITIAL_MEMORY||16777216;if(O)P=s.wasmMemory,D=s.buffer;else if(s.wasmMemory)P=s.wasmMemory;else if(!((P=new WebAssembly.Memory({initial:q/65536,maximum:65536,shared:!0})).buffer instanceof SharedArrayBuffer))throw x("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),_&&console.log("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and also use a recent version)"),Error("bad memory");P&&(D=P.buffer),q=D.byteLength,G(D);var $,V=[],J=[],Q=[];function X(){var e=s.preRun.shift();V.unshift(e)}var K,Z=0,ee=null,te=null;function ne(e){throw O?postMessage({cmd:"onAbort",arg:e}):s.onAbort&&s.onAbort(e),x(e="Aborted("+e+")"),H=!0,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),c(e),e}function re(){return K.startsWith("data:application/octet-stream;base64,")}function ae(){var e=K;try{if(e==K&&M)return new Uint8Array(M);if(p)return p(e);throw"both async and sync fetching of the wasm failed"}catch(e){ne(e)}}K="ort-wasm-threaded.wasm",re()||(K=T(K));var oe={};function ie(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function se(e){(e=fe.La[e])||ne(),fe.Xa(e)}function ue(e){var t=fe.lb();if(!t)return 6;fe.Ra.push(t),fe.La[e.Ka]=t,t.Ka=e.Ka;var n={cmd:"run",start_routine:e.pb,arg:e.ib,pthread_ptr:e.Ka};return t.Qa=()=>{n.time=performance.now(),t.postMessage(n,e.vb)},t.loaded&&(t.Qa(),delete t.Qa),0}function ce(e){if(O)return He(1,1,e);C||(fe.qb(),s.onExit&&s.onExit(e),H=!0),v(e,new ie(e))}function le(e,t){if(!t&&O)throw de(e),"unwind";ce(e)}var fe={Oa:[],Ra:[],$a:[],La:{},Ua:function(){O&&fe.mb()},xb:function(){},mb:function(){fe.receiveObjectTransfer=fe.ob,fe.threadInitTLS=fe.Za,fe.setExitStatus=fe.Ya,C=!1},Ya:function(){},qb:function(){for(var e of Object.values(fe.La))fe.Xa(e);for(e of fe.Oa)e.terminate();fe.Oa=[]},Xa:function(e){var t=e.Ka;delete fe.La[t],fe.Oa.push(e),fe.Ra.splice(fe.Ra.indexOf(e),1),e.Ka=0,ct(t)},ob:function(){},Za:function(){fe.$a.forEach((e=>e()))},nb:function(e,t){e.onmessage=n=>{var r=(n=n.data).cmd;if(e.Ka&&(fe.kb=e.Ka),n.targetThread&&n.targetThread!=rt()){var a=fe.La[n.yb];a?a.postMessage(n,n.transferList):x(\'Internal error! Worker sent a message "\'+r+\'" to target pthread \'+n.targetThread+", but that thread no longer exists!")}else"processProxyingQueue"===r?De(n.queue):"spawnThread"===r?ue(n):"cleanupThread"===r?se(n.thread):"killThread"===r?(n=n.thread,r=fe.La[n],delete fe.La[n],r.terminate(),ct(n),fe.Ra.splice(fe.Ra.indexOf(r),1),r.Ka=0):"cancelThread"===r?fe.La[n.thread].postMessage({cmd:"cancel"}):"loaded"===r?(e.loaded=!0,t&&t(e),e.Qa&&(e.Qa(),delete e.Qa)):"print"===r?R("Thread "+n.threadId+": "+n.text):"printErr"===r?x("Thread "+n.threadId+": "+n.text):"alert"===r?alert("Thread "+n.threadId+": "+n.text):"setimmediate"===n.target?e.postMessage(n):"onAbort"===r?s.onAbort&&s.onAbort(n.arg):r&&x("worker sent an unknown command "+r);fe.kb=void 0},e.onerror=e=>{throw x("worker sent an error! "+e.filename+":"+e.lineno+": "+e.message),e},_&&(e.on("message",(function(t){e.onmessage({data:t})})),e.on("error",(function(t){e.onerror(t)})),e.on("detachedExit",(function(){}))),e.postMessage({cmd:"load",urlOrBlob:s.mainScriptUrlOrBlob||_scriptDir,wasmMemory:P,wasmModule:k})},hb:function(){var e=T("ort-wasm-threaded.worker.js");fe.Oa.push(new Worker(e))},lb:function(){return 0==fe.Oa.length&&(fe.hb(),fe.nb(fe.Oa[0])),fe.Oa.pop()}};function pe(e){for(;0<e.length;)e.shift()(s)}function de(e){if(O)return He(2,0,e);try{le(e)}catch(e){e instanceof ie||"unwind"==e||v(1,e)}}s.PThread=fe,s.establishStackSpace=function(){var e=rt(),t=a()[e+44>>2>>>0];e=a()[e+48>>2>>>0],ft(t,t-e),dt(t)};var me,ge,he=[];function ye(e){this.Pa=e-24,this.gb=function(e){o()[this.Pa+4>>2>>>0]=e},this.cb=function(e){o()[this.Pa+8>>2>>>0]=e},this.eb=function(){a()[this.Pa>>2>>>0]=0},this.bb=function(){t()[this.Pa+12>>0>>>0]=0},this.fb=function(){t()[this.Pa+13>>0>>>0]=0},this.Ua=function(e,t){this.ab(),this.gb(e),this.cb(t),this.eb(),this.bb(),this.fb()},this.ab=function(){o()[this.Pa+16>>2>>>0]=0}}function ve(e,t,n,r){return O?He(3,1,e,t,n,r):be(e,t,n,r)}function be(e,t,n,r){if("undefined"==typeof SharedArrayBuffer)return x("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var a=[];return O&&0===a.length?ve(e,t,n,r):(e={pb:n,Ka:e,ib:r,vb:a},O?(e.wb="spawnThread",postMessage(e,a),0):ue(e))}function we(e,t,n){return O?He(4,1,e,t,n):0}function _e(e,t){if(O)return He(5,1,e,t)}function Oe(e,t){if(O)return He(6,1,e,t)}function Se(e,t,n){if(O)return He(7,1,e,t,n)}function Te(e,t,n){return O?He(8,1,e,t,n):0}function Ae(e,t){if(O)return He(9,1,e,t)}function Ee(e,t,n){if(O)return He(10,1,e,t,n)}function Me(e,t,n,r){if(O)return He(11,1,e,t,n,r)}function Re(e,t,n,r){if(O)return He(12,1,e,t,n,r)}function xe(e,t,n,r){if(O)return He(13,1,e,t,n,r)}function Ce(e){if(O)return He(14,1,e)}function Pe(e,t){if(O)return He(15,1,e,t)}function ke(e,t,n){if(O)return He(16,1,e,t,n)}function De(e){Atomics.store(a(),e>>2,1),rt()&&ut(e),Atomics.compareExchange(a(),e>>2,1,0)}function Fe(e){return o()[e>>>2]+4294967296*a()[e+4>>>2]}function Ue(e,t,n,r,a,o){return O?He(17,1,e,t,n,r,a,o):-52}function Ie(e,t,n,r,a,o){if(O)return He(18,1,e,t,n,r,a,o)}function We(e){var n=N(e)+1,r=at(n);return r&&B(e,t(),r,n),r}function je(e,t,n){function r(e){return(e=e.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?e[1]:"GMT"}if(O)return He(19,1,e,t,n);var i=(new Date).getFullYear(),s=new Date(i,0,1),u=new Date(i,6,1);i=s.getTimezoneOffset();var c=u.getTimezoneOffset(),l=Math.max(i,c);a()[e>>2>>>0]=60*l,a()[t>>2>>>0]=Number(i!=c),e=r(s),t=r(u),e=We(e),t=We(t),c<i?(o()[n>>2>>>0]=e,o()[n+4>>2>>>0]=t):(o()[n>>2>>>0]=t,o()[n+4>>2>>>0]=e)}function He(e,t){var n=arguments.length-2,r=arguments;return function(e){var t=pt();return e=e(),dt(t),e}((()=>{for(var a=mt(8*n),o=a>>3,s=0;s<n;s++){var u=r[2+s];i()[o+s>>>0]=u}return st(e,n,a,t)}))}s.invokeEntryPoint=function(e,t){var n=he[e];n||(e>=he.length&&(he.length=e+1),he[e]=n=$.get(e)),e=n(t),C?fe.Ya(e):lt(e)},s.executeNotifiedProxyingQueue=De,ge=_?()=>{var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:O?()=>performance.now()-s.__performance_now_clock_drift:()=>performance.now();var Le,Ye=[],ze={};function Be(){if(!Le){var e,t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:y||"./this.program"};for(e in ze)void 0===ze[e]?delete t[e]:t[e]=ze[e];var n=[];for(e in t)n.push(e+"="+t[e]);Le=n}return Le}function Ne(e,n){if(O)return He(20,1,e,n);var r=0;return Be().forEach((function(a,i){var s=n+r;for(i=o()[e+4*i>>2>>>0]=s,s=0;s<a.length;++s)t()[i++>>0>>>0]=a.charCodeAt(s);t()[i>>0>>>0]=0,r+=a.length+1})),0}function Ge(e,t){if(O)return He(21,1,e,t);var n=Be();o()[e>>2>>>0]=n.length;var r=0;return n.forEach((function(e){r+=e.length+1})),o()[t>>2>>>0]=r,0}function qe(e){return O?He(22,1,e):52}function $e(e,t,n,r){return O?He(23,1,e,t,n,r):52}function Ve(e,t,n,r,a){return O?He(24,1,e,t,n,r,a):70}var Je=[null,[],[]];function Qe(e,t,n,a){if(O)return He(25,1,e,t,n,a);for(var i=0,s=0;s<n;s++){var u=o()[t>>2>>>0],c=o()[t+4>>2>>>0];t+=8;for(var l=0;l<c;l++){var f=r()[u+l>>>0],p=Je[e];0===f||10===f?((1===e?R:x)(Y(p,0)),p.length=0):p.push(f)}i+=c}return o()[a>>2>>>0]=i,0}function Xe(e){return 0==e%4&&(0!=e%100||0==e%400)}var Ke=[31,29,31,30,31,30,31,31,30,31,30,31],Ze=[31,28,31,30,31,30,31,31,30,31,30,31];function et(e,n,r,o){function i(e,t,n){for(e="number"==typeof e?e.toString():e||"";e.length<t;)e=n[0]+e;return e}function s(e,t){return i(e,t,"0")}function u(e,t){function n(e){return 0>e?-1:0<e?1:0}var r;return 0===(r=n(e.getFullYear()-t.getFullYear()))&&0===(r=n(e.getMonth()-t.getMonth()))&&(r=n(e.getDate()-t.getDate())),r}function c(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function l(e){var t=e.Ma;for(e=new Date(new Date(e.Na+1900,0,1).getTime());0<t;){var n=e.getMonth(),r=(Xe(e.getFullYear())?Ke:Ze)[n];if(!(t>r-e.getDate())){e.setDate(e.getDate()+t);break}t-=r-e.getDate()+1,e.setDate(1),11>n?e.setMonth(n+1):(e.setMonth(0),e.setFullYear(e.getFullYear()+1))}return n=new Date(e.getFullYear()+1,0,4),t=c(new Date(e.getFullYear(),0,4)),n=c(n),0>=u(t,e)?0>=u(n,e)?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1}var f=a()[o+40>>2>>>0];for(var p in o={tb:a()[o>>2>>>0],sb:a()[o+4>>2>>>0],Sa:a()[o+8>>2>>>0],Va:a()[o+12>>2>>>0],Ta:a()[o+16>>2>>>0],Na:a()[o+20>>2>>>0],Ja:a()[o+24>>2>>>0],Ma:a()[o+28>>2>>>0],zb:a()[o+32>>2>>>0],rb:a()[o+36>>2>>>0],ub:f?z(f):""},r=z(r),f={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})r=r.replace(new RegExp(p,"g"),f[p]);var d="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),m="January February March April May June July August September October November December".split(" ");for(p in f={"%a":function(e){return d[e.Ja].substring(0,3)},"%A":function(e){return d[e.Ja]},"%b":function(e){return m[e.Ta].substring(0,3)},"%B":function(e){return m[e.Ta]},"%C":function(e){return s((e.Na+1900)/100|0,2)},"%d":function(e){return s(e.Va,2)},"%e":function(e){return i(e.Va,2," ")},"%g":function(e){return l(e).toString().substring(2)},"%G":function(e){return l(e)},"%H":function(e){return s(e.Sa,2)},"%I":function(e){return 0==(e=e.Sa)?e=12:12<e&&(e-=12),s(e,2)},"%j":function(e){for(var t=0,n=0;n<=e.Ta-1;t+=(Xe(e.Na+1900)?Ke:Ze)[n++]);return s(e.Va+t,3)},"%m":function(e){return s(e.Ta+1,2)},"%M":function(e){return s(e.sb,2)},"%n":function(){return"\\n"},"%p":function(e){return 0<=e.Sa&&12>e.Sa?"AM":"PM"},"%S":function(e){return s(e.tb,2)},"%t":function(){return"\\t"},"%u":function(e){return e.Ja||7},"%U":function(e){return s(Math.floor((e.Ma+7-e.Ja)/7),2)},"%V":function(e){var t=Math.floor((e.Ma+7-(e.Ja+6)%7)/7);if(2>=(e.Ja+371-e.Ma-2)%7&&t++,t)53==t&&(4==(n=(e.Ja+371-e.Ma)%7)||3==n&&Xe(e.Na)||(t=1));else{t=52;var n=(e.Ja+7-e.Ma-1)%7;(4==n||5==n&&Xe(e.Na%400-1))&&t++}return s(t,2)},"%w":function(e){return e.Ja},"%W":function(e){return s(Math.floor((e.Ma+7-(e.Ja+6)%7)/7),2)},"%y":function(e){return(e.Na+1900).toString().substring(2)},"%Y":function(e){return e.Na+1900},"%z":function(e){var t=0<=(e=e.rb);return e=Math.abs(e)/60,(t?"+":"-")+String("0000"+(e/60*100+e%60)).slice(-4)},"%Z":function(e){return e.ub},"%%":function(){return"%"}},r=r.replace(/%%/g,"\\0\\0"),f)r.includes(p)&&(r=r.replace(new RegExp(p,"g"),f[p](o)));return p=function(e){var t=Array(N(e)+1);return B(e,t,0,t.length),t}(r=r.replace(/\\0\\0/g,"%")),p.length>n?0:(function(e,n){t().set(e,n>>>0)}(p,e),p.length-1)}fe.Ua();var tt=[null,ce,de,ve,we,_e,Oe,Se,Te,Ae,Ee,Me,Re,xe,Ce,Pe,ke,Ue,Ie,je,Ne,Ge,qe,$e,Ve,Qe],nt={b:function(e){return at(e+24)+24},c:function(e,t,n){throw new ye(e).Ua(t,n),e},L:function(e){ot(e,!w,1,!b),fe.Za()},l:function(e){O?postMessage({cmd:"cleanupThread",thread:e}):se(e)},D:be,i:we,R:_e,z:Oe,B:Se,T:Te,P:Ae,I:Ee,O:Me,p:Re,A:xe,x:Ce,Q:Pe,y:ke,r:function(){},j:function(){ne("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},s:function(){ne("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},q:function(){return Date.now()},E:function(){return 2097152},V:function(){return!0},F:function(e,t,n,r){if(e==t)setTimeout((()=>De(r)));else if(O)postMessage({targetThread:e,cmd:"processProxyingQueue",queue:r});else{if(!(e=fe.La[e]))return;e.postMessage({cmd:"processProxyingQueue",queue:r})}return 1},K:function(){return-1},W:function(e,t){e=new Date(1e3*Fe(e)),a()[t>>2>>>0]=e.getUTCSeconds(),a()[t+4>>2>>>0]=e.getUTCMinutes(),a()[t+8>>2>>>0]=e.getUTCHours(),a()[t+12>>2>>>0]=e.getUTCDate(),a()[t+16>>2>>>0]=e.getUTCMonth(),a()[t+20>>2>>>0]=e.getUTCFullYear()-1900,a()[t+24>>2>>>0]=e.getUTCDay(),e=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,a()[t+28>>2>>>0]=e},X:function(e,t){e=new Date(1e3*Fe(e)),a()[t>>2>>>0]=e.getSeconds(),a()[t+4>>2>>>0]=e.getMinutes(),a()[t+8>>2>>>0]=e.getHours(),a()[t+12>>2>>>0]=e.getDate(),a()[t+16>>2>>>0]=e.getMonth(),a()[t+20>>2>>>0]=e.getFullYear()-1900,a()[t+24>>2>>>0]=e.getDay();var n=new Date(e.getFullYear(),0,1),r=(e.getTime()-n.getTime())/864e5|0;a()[t+28>>2>>>0]=r,a()[t+36>>2>>>0]=-60*e.getTimezoneOffset(),r=new Date(e.getFullYear(),6,1).getTimezoneOffset(),e=0|(r!=(n=n.getTimezoneOffset())&&e.getTimezoneOffset()==Math.min(n,r)),a()[t+32>>2>>>0]=e},Y:function(e){var t=new Date(a()[e+20>>2>>>0]+1900,a()[e+16>>2>>>0],a()[e+12>>2>>>0],a()[e+8>>2>>>0],a()[e+4>>2>>>0],a()[e>>2>>>0],0),n=a()[e+32>>2>>>0],r=t.getTimezoneOffset(),o=new Date(t.getFullYear(),0,1),i=new Date(t.getFullYear(),6,1).getTimezoneOffset(),s=o.getTimezoneOffset(),u=Math.min(s,i);return 0>n?a()[e+32>>2>>>0]=Number(i!=s&&u==r):0<n!=(u==r)&&(i=Math.max(s,i),t.setTime(t.getTime()+6e4*((0<n?u:i)-r))),a()[e+24>>2>>>0]=t.getDay(),n=(t.getTime()-o.getTime())/864e5|0,a()[e+28>>2>>>0]=n,a()[e>>2>>>0]=t.getSeconds(),a()[e+4>>2>>>0]=t.getMinutes(),a()[e+8>>2>>>0]=t.getHours(),a()[e+12>>2>>>0]=t.getDate(),a()[e+16>>2>>>0]=t.getMonth(),t.getTime()/1e3|0},G:Ue,H:Ie,Z:function e(t,n,r){e.jb||(e.jb=!0,je(t,n,r))},d:function(){ne("")},m:function(){if(!_&&!w){var e="Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread";me||(me={}),me[e]||(me[e]=1,_&&(e="warning: "+e),x(e))}},w:function(){return 4294901760},f:ge,S:function(e,t,n){r().copyWithin(e>>>0,t>>>0,t+n>>>0)},g:function(){return _?n(993).cpus().length:navigator.hardwareConcurrency},J:function(e,t,n){Ye.length=t,n>>=3;for(var r=0;r<t;r++)Ye[r]=i()[n+r>>>0];return(0>e?oe[-e-1]:tt[e]).apply(null,Ye)},v:function(e){var t=r().length;if((e>>>=0)<=t||4294901760<e)return!1;for(var n=1;4>=n;n*=2){var a=t*(1+.2/n);a=Math.min(a,e+100663296);var o=Math;a=Math.max(e,a),o=o.min.call(o,4294901760,a+(65536-a%65536)%65536);e:{try{P.grow(o-D.byteLength+65535>>>16),G(P.buffer);var i=1;break e}catch(e){}i=void 0}if(i)return!0}return!1},U:function(){throw"unwind"},M:Ne,N:Ge,k:le,h:qe,o:$e,t:Ve,n:Qe,u:function e(r,a){e.Wa||(e.Wa=function(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var e=new Uint8Array(1);return()=>(crypto.getRandomValues(e),e[0])}if(_)try{var t=n(760);return()=>t.randomBytes(1)[0]}catch(e){}return()=>ne("randomDevice")}());for(var o=0;o<a;o++)t()[r+o>>0>>>0]=e.Wa();return 0},a:P||s.wasmMemory,C:et,e:function(e,t,n,r){return et(e,t,n,r)}};!function(){function e(e,t){s.asm=e.exports,fe.$a.push(s.asm.wa),$=s.asm.za,J.unshift(s.asm._),k=t,O||(Z--,s.monitorRunDependencies&&s.monitorRunDependencies(Z),0==Z&&(null!==ee&&(clearInterval(ee),ee=null),te&&(e=te,te=null,e())))}function t(t){e(t.instance,t.module)}function n(e){return function(){if(!M&&(b||w)){if("function"==typeof fetch&&!K.startsWith("file://"))return fetch(K,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at \'"+K+"\'";return e.arrayBuffer()})).catch((function(){return ae()}));if(f)return new Promise((function(e,t){f(K,(function(t){e(new Uint8Array(t))}),t)}))}return Promise.resolve().then((function(){return ae()}))}().then((function(e){return WebAssembly.instantiate(e,r)})).then((function(e){return e})).then(e,(function(e){x("failed to asynchronously prepare wasm: "+e),ne(e)}))}var r={a:nt};if(O||(Z++,s.monitorRunDependencies&&s.monitorRunDependencies(Z)),s.instantiateWasm)try{return s.instantiateWasm(r,e)}catch(e){return x("Module.instantiateWasm callback failed with error: "+e),!1}(M||"function"!=typeof WebAssembly.instantiateStreaming||re()||K.startsWith("file://")||_||"function"!=typeof fetch?n(t):fetch(K,{credentials:"same-origin"}).then((function(e){return WebAssembly.instantiateStreaming(e,r).then(t,(function(e){return x("wasm streaming compile failed: "+e),x("falling back to ArrayBuffer instantiation"),n(t)}))}))).catch(c)}(),s.___wasm_call_ctors=function(){return(s.___wasm_call_ctors=s.asm._).apply(null,arguments)},s._OrtInit=function(){return(s._OrtInit=s.asm.$).apply(null,arguments)},s._OrtCreateSessionOptions=function(){return(s._OrtCreateSessionOptions=s.asm.aa).apply(null,arguments)},s._OrtAppendExecutionProvider=function(){return(s._OrtAppendExecutionProvider=s.asm.ba).apply(null,arguments)},s._OrtAddSessionConfigEntry=function(){return(s._OrtAddSessionConfigEntry=s.asm.ca).apply(null,arguments)},s._OrtReleaseSessionOptions=function(){return(s._OrtReleaseSessionOptions=s.asm.da).apply(null,arguments)},s._OrtCreateSession=function(){return(s._OrtCreateSession=s.asm.ea).apply(null,arguments)},s._OrtReleaseSession=function(){return(s._OrtReleaseSession=s.asm.fa).apply(null,arguments)},s._OrtGetInputCount=function(){return(s._OrtGetInputCount=s.asm.ga).apply(null,arguments)},s._OrtGetOutputCount=function(){return(s._OrtGetOutputCount=s.asm.ha).apply(null,arguments)},s._OrtGetInputName=function(){return(s._OrtGetInputName=s.asm.ia).apply(null,arguments)},s._OrtGetOutputName=function(){return(s._OrtGetOutputName=s.asm.ja).apply(null,arguments)},s._OrtFree=function(){return(s._OrtFree=s.asm.ka).apply(null,arguments)},s._OrtCreateTensor=function(){return(s._OrtCreateTensor=s.asm.la).apply(null,arguments)},s._OrtGetTensorData=function(){return(s._OrtGetTensorData=s.asm.ma).apply(null,arguments)},s._OrtReleaseTensor=function(){return(s._OrtReleaseTensor=s.asm.na).apply(null,arguments)},s._OrtCreateRunOptions=function(){return(s._OrtCreateRunOptions=s.asm.oa).apply(null,arguments)},s._OrtAddRunConfigEntry=function(){return(s._OrtAddRunConfigEntry=s.asm.pa).apply(null,arguments)},s._OrtReleaseRunOptions=function(){return(s._OrtReleaseRunOptions=s.asm.qa).apply(null,arguments)},s._OrtRun=function(){return(s._OrtRun=s.asm.ra).apply(null,arguments)},s._OrtEndProfiling=function(){return(s._OrtEndProfiling=s.asm.sa).apply(null,arguments)};var rt=s._pthread_self=function(){return(rt=s._pthread_self=s.asm.ta).apply(null,arguments)},at=s._malloc=function(){return(at=s._malloc=s.asm.ua).apply(null,arguments)};s._free=function(){return(s._free=s.asm.va).apply(null,arguments)},s.__emscripten_tls_init=function(){return(s.__emscripten_tls_init=s.asm.wa).apply(null,arguments)};var ot=s.__emscripten_thread_init=function(){return(ot=s.__emscripten_thread_init=s.asm.xa).apply(null,arguments)};s.__emscripten_thread_crashed=function(){return(s.__emscripten_thread_crashed=s.asm.ya).apply(null,arguments)};var it,st=s._emscripten_run_in_main_runtime_thread_js=function(){return(st=s._emscripten_run_in_main_runtime_thread_js=s.asm.Aa).apply(null,arguments)},ut=s.__emscripten_proxy_execute_task_queue=function(){return(ut=s.__emscripten_proxy_execute_task_queue=s.asm.Ba).apply(null,arguments)},ct=s.__emscripten_thread_free_data=function(){return(ct=s.__emscripten_thread_free_data=s.asm.Ca).apply(null,arguments)},lt=s.__emscripten_thread_exit=function(){return(lt=s.__emscripten_thread_exit=s.asm.Da).apply(null,arguments)},ft=s._emscripten_stack_set_limits=function(){return(ft=s._emscripten_stack_set_limits=s.asm.Ea).apply(null,arguments)},pt=s.stackSave=function(){return(pt=s.stackSave=s.asm.Fa).apply(null,arguments)},dt=s.stackRestore=function(){return(dt=s.stackRestore=s.asm.Ga).apply(null,arguments)},mt=s.stackAlloc=function(){return(mt=s.stackAlloc=s.asm.Ha).apply(null,arguments)};function gt(){function e(){if(!it&&(it=!0,s.calledRun=!0,!H)&&(O||pe(J),u(s),s.onRuntimeInitialized&&s.onRuntimeInitialized(),!O)){if(s.postRun)for("function"==typeof s.postRun&&(s.postRun=[s.postRun]);s.postRun.length;){var e=s.postRun.shift();Q.unshift(e)}pe(Q)}}if(!(0<Z))if(O)u(s),O||pe(J),postMessage({cmd:"loaded"});else{if(s.preRun)for("function"==typeof s.preRun&&(s.preRun=[s.preRun]);s.preRun.length;)X();pe(V),0<Z||(s.setStatus?(s.setStatus("Running..."),setTimeout((function(){setTimeout((function(){s.setStatus("")}),1),e()}),1)):e())}}if(s.___cxa_is_pointer_type=function(){return(s.___cxa_is_pointer_type=s.asm.Ia).apply(null,arguments)},s.UTF8ToString=z,s.stringToUTF8=function(e,t,n){return B(e,r(),t,n)},s.lengthBytesUTF8=N,s.keepRuntimeAlive=function(){return C},s.wasmMemory=P,s.stackSave=pt,s.stackRestore=dt,s.stackAlloc=mt,s.ExitStatus=ie,s.PThread=fe,te=function e(){it||gt(),it||(te=e)},s.preInit)for("function"==typeof s.preInit&&(s.preInit=[s.preInit]);0<s.preInit.length;)s.preInit.pop()();return gt(),e.ready});e.exports=r},932:(e,t,n)=>{var _scriptDir,r=(_scriptDir=(_scriptDir="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(e){var t,r,a;e=e||{},t||(t=void 0!==e?e:{}),t.ready=new Promise((function(e,t){r=e,a=t}));var o,i,s,u,c,l,f=Object.assign({},t),p="./this.program",d=(e,t)=>{throw t},m="object"==typeof window,g="function"==typeof importScripts,h="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,y="";h?(y=g?n(908).dirname(y)+"/":"//",l=()=>{c||(u=n(384),c=n(908))},o=function(e,t){return l(),e=c.normalize(e),u.readFileSync(e,t?void 0:"utf8")},s=e=>((e=o(e,!0)).buffer||(e=new Uint8Array(e)),e),i=(e,t,n)=>{l(),e=c.normalize(e),u.readFile(e,(function(e,r){e?n(e):t(r.buffer)}))},1<process.argv.length&&(p=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",(function(e){if(!(e instanceof $))throw e})),process.on("unhandledRejection",(function(e){throw e})),d=(e,t)=>{if(_)throw process.exitCode=e,t;t instanceof $||w("exiting due to exception: "+t),process.exit(e)},t.inspect=function(){return"[Emscripten Module object]"}):(m||g)&&(g?y=self.location.href:"undefined"!=typeof document&&document.currentScript&&(y=document.currentScript.src),_scriptDir&&(y=_scriptDir),y=0!==y.indexOf("blob:")?y.substr(0,y.replace(/[?#].*/,"").lastIndexOf("/")+1):"",o=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},g&&(s=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),i=(e,t,n)=>{var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=()=>{200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)});var v,b=t.print||console.log.bind(console),w=t.printErr||console.warn.bind(console);Object.assign(t,f),f=null,t.thisProgram&&(p=t.thisProgram),t.quit&&(d=t.quit),t.wasmBinary&&(v=t.wasmBinary);var _=t.noExitRuntime||!0;"object"!=typeof WebAssembly&&B("no native wasm support detected");var O,S,T,A,E,M,R=!1,x="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function C(e,t,n){var r=(t>>>=0)+n;for(n=t;e[n]&&!(n>=r);)++n;if(16<n-t&&e.buffer&&x)return x.decode(e.subarray(t,n));for(r="";t<n;){var a=e[t++];if(128&a){var o=63&e[t++];if(192==(224&a))r+=String.fromCharCode((31&a)<<6|o);else{var i=63&e[t++];65536>(a=224==(240&a)?(15&a)<<12|o<<6|i:(7&a)<<18|o<<12|i<<6|63&e[t++])?r+=String.fromCharCode(a):(a-=65536,r+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else r+=String.fromCharCode(a)}return r}function P(e,t){return(e>>>=0)?C(A,e,t):""}function k(e,t,n,r){if(!(0<r))return 0;var a=n>>>=0;r=n+r-1;for(var o=0;o<e.length;++o){var i=e.charCodeAt(o);if(55296<=i&&57343>=i&&(i=65536+((1023&i)<<10)|1023&e.charCodeAt(++o)),127>=i){if(n>=r)break;t[n++>>>0]=i}else{if(2047>=i){if(n+1>=r)break;t[n++>>>0]=192|i>>6}else{if(65535>=i){if(n+2>=r)break;t[n++>>>0]=224|i>>12}else{if(n+3>=r)break;t[n++>>>0]=240|i>>18,t[n++>>>0]=128|i>>12&63}t[n++>>>0]=128|i>>6&63}t[n++>>>0]=128|63&i}}return t[n>>>0]=0,n-a}function D(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);127>=r?t++:2047>=r?t+=2:55296<=r&&57343>=r?(t+=4,++n):t+=3}return t}function F(){var e=O.buffer;S=e,t.HEAP8=T=new Int8Array(e),t.HEAP16=new Int16Array(e),t.HEAP32=E=new Int32Array(e),t.HEAPU8=A=new Uint8Array(e),t.HEAPU16=new Uint16Array(e),t.HEAPU32=M=new Uint32Array(e),t.HEAPF32=new Float32Array(e),t.HEAPF64=new Float64Array(e)}var U=[],I=[],W=[];function j(){var e=t.preRun.shift();U.unshift(e)}var H,L=0,Y=null,z=null;function B(e){throw t.onAbort&&t.onAbort(e),w(e="Aborted("+e+")"),R=!0,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),a(e),e}function N(){return H.startsWith("data:application/octet-stream;base64,")}if(H="ort-wasm.wasm",!N()){var G=H;H=t.locateFile?t.locateFile(G,y):y+G}function q(){var e=H;try{if(e==H&&v)return new Uint8Array(v);if(s)return s(e);throw"both async and sync fetching of the wasm failed"}catch(e){B(e)}}function $(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function V(e){for(;0<e.length;)e.shift()(t)}function J(e){this.sa=e-24,this.Ia=function(e){M[this.sa+4>>2>>>0]=e},this.Ba=function(e){M[this.sa+8>>2>>>0]=e},this.Ga=function(){E[this.sa>>2>>>0]=0},this.Aa=function(){T[this.sa+12>>0>>>0]=0},this.Ha=function(){T[this.sa+13>>0>>>0]=0},this.ya=function(e,t){this.za(),this.Ia(e),this.Ba(t),this.Ga(),this.Aa(),this.Ha()},this.za=function(){M[this.sa+16>>2>>>0]=0}}function Q(e){var t=D(e)+1,n=ie(t);return n&&k(e,T,n,t),n}var X={};function K(){if(!Z){var e,t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:p||"./this.program"};for(e in X)void 0===X[e]?delete t[e]:t[e]=X[e];var n=[];for(e in t)n.push(e+"="+t[e]);Z=n}return Z}var Z,ee=[null,[],[]];function te(e){return 0==e%4&&(0!=e%100||0==e%400)}var ne=[31,29,31,30,31,30,31,31,30,31,30,31],re=[31,28,31,30,31,30,31,31,30,31,30,31];function ae(e,t,n,r){function a(e,t,n){for(e="number"==typeof e?e.toString():e||"";e.length<t;)e=n[0]+e;return e}function o(e,t){return a(e,t,"0")}function i(e,t){function n(e){return 0>e?-1:0<e?1:0}var r;return 0===(r=n(e.getFullYear()-t.getFullYear()))&&0===(r=n(e.getMonth()-t.getMonth()))&&(r=n(e.getDate()-t.getDate())),r}function s(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function u(e){var t=e.qa;for(e=new Date(new Date(e.ra+1900,0,1).getTime());0<t;){var n=e.getMonth(),r=(te(e.getFullYear())?ne:re)[n];if(!(t>r-e.getDate())){e.setDate(e.getDate()+t);break}t-=r-e.getDate()+1,e.setDate(1),11>n?e.setMonth(n+1):(e.setMonth(0),e.setFullYear(e.getFullYear()+1))}return n=new Date(e.getFullYear()+1,0,4),t=s(new Date(e.getFullYear(),0,4)),n=s(n),0>=i(t,e)?0>=i(n,e)?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1}var c=E[r+40>>2>>>0];for(var l in r={Ea:E[r>>2>>>0],Da:E[r+4>>2>>>0],ta:E[r+8>>2>>>0],va:E[r+12>>2>>>0],ua:E[r+16>>2>>>0],ra:E[r+20>>2>>>0],la:E[r+24>>2>>>0],qa:E[r+28>>2>>>0],Ja:E[r+32>>2>>>0],Ca:E[r+36>>2>>>0],Fa:c?P(c):""},n=P(n),c={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})n=n.replace(new RegExp(l,"g"),c[l]);var f="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),p="January February March April May June July August September October November December".split(" ");for(l in c={"%a":function(e){return f[e.la].substring(0,3)},"%A":function(e){return f[e.la]},"%b":function(e){return p[e.ua].substring(0,3)},"%B":function(e){return p[e.ua]},"%C":function(e){return o((e.ra+1900)/100|0,2)},"%d":function(e){return o(e.va,2)},"%e":function(e){return a(e.va,2," ")},"%g":function(e){return u(e).toString().substring(2)},"%G":function(e){return u(e)},"%H":function(e){return o(e.ta,2)},"%I":function(e){return 0==(e=e.ta)?e=12:12<e&&(e-=12),o(e,2)},"%j":function(e){for(var t=0,n=0;n<=e.ua-1;t+=(te(e.ra+1900)?ne:re)[n++]);return o(e.va+t,3)},"%m":function(e){return o(e.ua+1,2)},"%M":function(e){return o(e.Da,2)},"%n":function(){return"\\n"},"%p":function(e){return 0<=e.ta&&12>e.ta?"AM":"PM"},"%S":function(e){return o(e.Ea,2)},"%t":function(){return"\\t"},"%u":function(e){return e.la||7},"%U":function(e){return o(Math.floor((e.qa+7-e.la)/7),2)},"%V":function(e){var t=Math.floor((e.qa+7-(e.la+6)%7)/7);if(2>=(e.la+371-e.qa-2)%7&&t++,t)53==t&&(4==(n=(e.la+371-e.qa)%7)||3==n&&te(e.ra)||(t=1));else{t=52;var n=(e.la+7-e.qa-1)%7;(4==n||5==n&&te(e.ra%400-1))&&t++}return o(t,2)},"%w":function(e){return e.la},"%W":function(e){return o(Math.floor((e.qa+7-(e.la+6)%7)/7),2)},"%y":function(e){return(e.ra+1900).toString().substring(2)},"%Y":function(e){return e.ra+1900},"%z":function(e){var t=0<=(e=e.Ca);return e=Math.abs(e)/60,(t?"+":"-")+String("0000"+(e/60*100+e%60)).slice(-4)},"%Z":function(e){return e.Fa},"%%":function(){return"%"}},n=n.replace(/%%/g,"\\0\\0"),c)n.includes(l)&&(n=n.replace(new RegExp(l,"g"),c[l](r)));return l=function(e){var t=Array(D(e)+1);return k(e,t,0,t.length),t}(n=n.replace(/\\0\\0/g,"%")),l.length>t?0:(T.set(l,e>>>0),l.length-1)}var oe={a:function(e){return ie(e+24)+24},b:function(e,t,n){throw new J(e).ya(t,n),e},g:function(){return 0},I:function(){},w:function(){},y:function(){},K:function(){return 0},G:function(){},C:function(){},F:function(){},k:function(){},x:function(){},u:function(){},H:function(){},v:function(){},n:function(){},p:function(){B("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},o:function(){B("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},l:function(){return Date.now()},L:function(){return!0},M:function(e,t){e=new Date(1e3*(M[e>>>2]+4294967296*E[e+4>>>2])),E[t>>2>>>0]=e.getUTCSeconds(),E[t+4>>2>>>0]=e.getUTCMinutes(),E[t+8>>2>>>0]=e.getUTCHours(),E[t+12>>2>>>0]=e.getUTCDate(),E[t+16>>2>>>0]=e.getUTCMonth(),E[t+20>>2>>>0]=e.getUTCFullYear()-1900,E[t+24>>2>>>0]=e.getUTCDay(),E[t+28>>2>>>0]=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},N:function(e,t){e=new Date(1e3*(M[e>>>2]+4294967296*E[e+4>>>2])),E[t>>2>>>0]=e.getSeconds(),E[t+4>>2>>>0]=e.getMinutes(),E[t+8>>2>>>0]=e.getHours(),E[t+12>>2>>>0]=e.getDate(),E[t+16>>2>>>0]=e.getMonth(),E[t+20>>2>>>0]=e.getFullYear()-1900,E[t+24>>2>>>0]=e.getDay();var n=new Date(e.getFullYear(),0,1);E[t+28>>2>>>0]=(e.getTime()-n.getTime())/864e5|0,E[t+36>>2>>>0]=-60*e.getTimezoneOffset();var r=new Date(e.getFullYear(),6,1).getTimezoneOffset();n=n.getTimezoneOffset(),E[t+32>>2>>>0]=0|(r!=n&&e.getTimezoneOffset()==Math.min(n,r))},O:function(e){var t=new Date(E[e+20>>2>>>0]+1900,E[e+16>>2>>>0],E[e+12>>2>>>0],E[e+8>>2>>>0],E[e+4>>2>>>0],E[e>>2>>>0],0),n=E[e+32>>2>>>0],r=t.getTimezoneOffset(),a=new Date(t.getFullYear(),0,1),o=new Date(t.getFullYear(),6,1).getTimezoneOffset(),i=a.getTimezoneOffset(),s=Math.min(i,o);return 0>n?E[e+32>>2>>>0]=Number(o!=i&&s==r):0<n!=(s==r)&&(o=Math.max(i,o),t.setTime(t.getTime()+6e4*((0<n?s:o)-r))),E[e+24>>2>>>0]=t.getDay(),E[e+28>>2>>>0]=(t.getTime()-a.getTime())/864e5|0,E[e>>2>>>0]=t.getSeconds(),E[e+4>>2>>>0]=t.getMinutes(),E[e+8>>2>>>0]=t.getHours(),E[e+12>>2>>>0]=t.getDate(),E[e+16>>2>>>0]=t.getMonth(),t.getTime()/1e3|0},z:function(){return-52},B:function(){},m:function e(t,n,r){e.xa||(e.xa=!0,function(e,t,n){function r(e){return(e=e.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?e[1]:"GMT"}var a=(new Date).getFullYear(),o=new Date(a,0,1),i=new Date(a,6,1);a=o.getTimezoneOffset();var s=i.getTimezoneOffset();E[e>>2>>>0]=60*Math.max(a,s),E[t>>2>>>0]=Number(a!=s),e=r(o),t=r(i),e=Q(e),t=Q(t),s<a?(M[n>>2>>>0]=e,M[n+4>>2>>>0]=t):(M[n>>2>>>0]=t,M[n+4>>2>>>0]=e)}(t,n,r))},d:function(){B("")},t:function(){return 4294901760},h:h?()=>{var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:()=>performance.now(),J:function(e,t,n){A.copyWithin(e>>>0,t>>>0,t+n>>>0)},f:function(e){var t=A.length;if(4294901760<(e>>>=0))return!1;for(var n=1;4>=n;n*=2){var r=t*(1+.2/n);r=Math.min(r,e+100663296);var a=Math;r=Math.max(e,r),a=a.min.call(a,4294901760,r+(65536-r%65536)%65536);e:{try{O.grow(a-S.byteLength+65535>>>16),F();var o=1;break e}catch(e){}o=void 0}if(o)return!0}return!1},D:function(e,t){var n=0;return K().forEach((function(r,a){var o=t+n;for(a=M[e+4*a>>2>>>0]=o,o=0;o<r.length;++o)T[a++>>0>>>0]=r.charCodeAt(o);T[a>>0>>>0]=0,n+=r.length+1})),0},E:function(e,t){var n=K();M[e>>2>>>0]=n.length;var r=0;return n.forEach((function(e){r+=e.length+1})),M[t>>2>>>0]=r,0},r:function(e){_||(t.onExit&&t.onExit(e),R=!0),d(e,new $(e))},e:function(){return 52},j:function(){return 52},q:function(){return 70},i:function(e,t,n,r){for(var a=0,o=0;o<n;o++){var i=M[t>>2>>>0],s=M[t+4>>2>>>0];t+=8;for(var u=0;u<s;u++){var c=A[i+u>>>0],l=ee[e];0===c||10===c?((1===e?b:w)(C(l,0)),l.length=0):l.push(c)}a+=s}return M[r>>2>>>0]=a,0},s:function e(t,r){e.wa||(e.wa=function(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var e=new Uint8Array(1);return()=>(crypto.getRandomValues(e),e[0])}if(h)try{var t=n(760);return()=>t.randomBytes(1)[0]}catch(e){}return()=>B("randomDevice")}());for(var a=0;a<r;a++)T[t+a>>0>>>0]=e.wa();return 0},A:ae,c:function(e,t,n,r){return ae(e,t,n,r)}};!function(){function e(e){t.asm=e.exports,O=t.asm.P,F(),I.unshift(t.asm.Q),L--,t.monitorRunDependencies&&t.monitorRunDependencies(L),0==L&&(null!==Y&&(clearInterval(Y),Y=null),z&&(e=z,z=null,e()))}function n(t){e(t.instance)}function r(e){return function(){if(!v&&(m||g)){if("function"==typeof fetch&&!H.startsWith("file://"))return fetch(H,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at \'"+H+"\'";return e.arrayBuffer()})).catch((function(){return q()}));if(i)return new Promise((function(e,t){i(H,(function(t){e(new Uint8Array(t))}),t)}))}return Promise.resolve().then((function(){return q()}))}().then((function(e){return WebAssembly.instantiate(e,o)})).then((function(e){return e})).then(e,(function(e){w("failed to asynchronously prepare wasm: "+e),B(e)}))}var o={a:oe};if(L++,t.monitorRunDependencies&&t.monitorRunDependencies(L),t.instantiateWasm)try{return t.instantiateWasm(o,e)}catch(e){return w("Module.instantiateWasm callback failed with error: "+e),!1}(v||"function"!=typeof WebAssembly.instantiateStreaming||N()||H.startsWith("file://")||h||"function"!=typeof fetch?r(n):fetch(H,{credentials:"same-origin"}).then((function(e){return WebAssembly.instantiateStreaming(e,o).then(n,(function(e){return w("wasm streaming compile failed: "+e),w("falling back to ArrayBuffer instantiation"),r(n)}))}))).catch(a)}(),t.___wasm_call_ctors=function(){return(t.___wasm_call_ctors=t.asm.Q).apply(null,arguments)},t._OrtInit=function(){return(t._OrtInit=t.asm.R).apply(null,arguments)},t._OrtCreateSessionOptions=function(){return(t._OrtCreateSessionOptions=t.asm.S).apply(null,arguments)},t._OrtAppendExecutionProvider=function(){return(t._OrtAppendExecutionProvider=t.asm.T).apply(null,arguments)},t._OrtAddSessionConfigEntry=function(){return(t._OrtAddSessionConfigEntry=t.asm.U).apply(null,arguments)},t._OrtReleaseSessionOptions=function(){return(t._OrtReleaseSessionOptions=t.asm.V).apply(null,arguments)},t._OrtCreateSession=function(){return(t._OrtCreateSession=t.asm.W).apply(null,arguments)},t._OrtReleaseSession=function(){return(t._OrtReleaseSession=t.asm.X).apply(null,arguments)},t._OrtGetInputCount=function(){return(t._OrtGetInputCount=t.asm.Y).apply(null,arguments)},t._OrtGetOutputCount=function(){return(t._OrtGetOutputCount=t.asm.Z).apply(null,arguments)},t._OrtGetInputName=function(){return(t._OrtGetInputName=t.asm._).apply(null,arguments)},t._OrtGetOutputName=function(){return(t._OrtGetOutputName=t.asm.$).apply(null,arguments)},t._OrtFree=function(){return(t._OrtFree=t.asm.aa).apply(null,arguments)},t._OrtCreateTensor=function(){return(t._OrtCreateTensor=t.asm.ba).apply(null,arguments)},t._OrtGetTensorData=function(){return(t._OrtGetTensorData=t.asm.ca).apply(null,arguments)},t._OrtReleaseTensor=function(){return(t._OrtReleaseTensor=t.asm.da).apply(null,arguments)},t._OrtCreateRunOptions=function(){return(t._OrtCreateRunOptions=t.asm.ea).apply(null,arguments)},t._OrtAddRunConfigEntry=function(){return(t._OrtAddRunConfigEntry=t.asm.fa).apply(null,arguments)},t._OrtReleaseRunOptions=function(){return(t._OrtReleaseRunOptions=t.asm.ga).apply(null,arguments)},t._OrtRun=function(){return(t._OrtRun=t.asm.ha).apply(null,arguments)},t._OrtEndProfiling=function(){return(t._OrtEndProfiling=t.asm.ia).apply(null,arguments)};var ie=t._malloc=function(){return(ie=t._malloc=t.asm.ja).apply(null,arguments)};t._free=function(){return(t._free=t.asm.ka).apply(null,arguments)};var se,ue=t.stackSave=function(){return(ue=t.stackSave=t.asm.ma).apply(null,arguments)},ce=t.stackRestore=function(){return(ce=t.stackRestore=t.asm.na).apply(null,arguments)},le=t.stackAlloc=function(){return(le=t.stackAlloc=t.asm.oa).apply(null,arguments)};function fe(){function e(){if(!se&&(se=!0,t.calledRun=!0,!R)){if(V(I),r(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),t.postRun)for("function"==typeof t.postRun&&(t.postRun=[t.postRun]);t.postRun.length;){var e=t.postRun.shift();W.unshift(e)}V(W)}}if(!(0<L)){if(t.preRun)for("function"==typeof t.preRun&&(t.preRun=[t.preRun]);t.preRun.length;)j();V(U),0<L||(t.setStatus?(t.setStatus("Running..."),setTimeout((function(){setTimeout((function(){t.setStatus("")}),1),e()}),1)):e())}}if(t.___cxa_is_pointer_type=function(){return(t.___cxa_is_pointer_type=t.asm.pa).apply(null,arguments)},t.UTF8ToString=P,t.stringToUTF8=function(e,t,n){return k(e,A,t,n)},t.lengthBytesUTF8=D,t.stackSave=ue,t.stackRestore=ce,t.stackAlloc=le,z=function e(){se||fe(),se||(z=e)},t.preInit)for("function"==typeof t.preInit&&(t.preInit=[t.preInit]);0<t.preInit.length;)t.preInit.pop()();return fe(),e.ready});e.exports=r},154:e=>{"use strict";e.exports=\'"use strict";var e={},t="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node;if(t){var r=require("worker_threads"),a=r.parentPort;a.on("message",(e=>onmessage({data:e})));var o=require("fs");Object.assign(global,{self:global,require:require,Module:e,location:{href:__filename},Worker:r.Worker,importScripts:function(e){(0,eval)(o.readFileSync(e,"utf8"))},postMessage:function(e){a.postMessage(e)},performance:global.performance||{now:function(){return Date.now()}}})}var s=!1,n=[],i=function(){var e=Array.prototype.slice.call(arguments).join(" ");t?o.writeSync(2,e+"\\\\n"):console.error(e)};self.alert=function(){var t=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:t,threadId:e._pthread_self()})},e.instantiateWasm=(t,r)=>{var a=new WebAssembly.Instance(e.wasmModule,t);return r(a),e.wasmModule=null,a.exports},self.onunhandledrejection=e=>{throw e.reason??e},self.onmessage=t=>{try{if("load"===t.data.cmd){if(e.wasmModule=t.data.wasmModule,e.wasmMemory=t.data.wasmMemory,e.buffer=e.wasmMemory.buffer,e.ENVIRONMENT_IS_PTHREAD=!0,"string"==typeof t.data.urlOrBlob)importScripts(t.data.urlOrBlob);else{var r=URL.createObjectURL(t.data.urlOrBlob);importScripts(r),URL.revokeObjectURL(r)}ortWasmThreaded(e).then((function(t){e=t}))}else if("run"===t.data.cmd){e.__performance_now_clock_drift=performance.now()-t.data.time,e.__emscripten_thread_init(t.data.pthread_ptr,0,0,1),e.establishStackSpace(),e.PThread.receiveObjectTransfer(t.data),e.PThread.threadInitTLS(),s||(n.forEach((t=>{e.executeNotifiedProxyingQueue(t)})),n=[],s=!0);try{e.invokeEntryPoint(t.data.start_routine,t.data.arg)}catch(t){if("unwind"!=t){if(!(t instanceof e.ExitStatus))throw t;e.keepRuntimeAlive()||e.__emscripten_thread_exit(t.status)}}}else"cancel"===t.data.cmd?e._pthread_self()&&e.__emscripten_thread_exit(-1):"setimmediate"===t.data.target||("processProxyingQueue"===t.data.cmd?s?e.executeNotifiedProxyingQueue(t.data.queue):n.push(t.data.queue):(i("worker.js received unknown command "+t.data.cmd),i(t.data)))}catch(t){throw i("worker.js onmessage() captured an uncaught exception: "+t),t&&t.stack&&i(t.stack),e.__emscripten_thread_crashed&&e.__emscripten_thread_crashed(),t}};\\n\'},760:()=>{},384:()=>{},993:()=>{},908:()=>{},953:()=>{},925:()=>{},449:()=>{}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{"use strict";const e=n(259),t=n(263);self.onmessage=n=>{switch(n.data.type){case"init-wasm":(0,t.initializeWebAssembly)(n.data.in).then((()=>postMessage({type:"init-wasm"})),(e=>postMessage({type:"init-wasm",err:e})));break;case"init-ort":try{const{numThreads:t,loggingLevel:r}=n.data.in;(0,e.initOrt)(t,r),postMessage({type:"init-ort"})}catch(e){postMessage({type:"init-ort",err:e})}break;case"create_allocate":try{const{model:t}=n.data.in,r=(0,e.createSessionAllocate)(t);postMessage({type:"create_allocate",out:r})}catch(e){postMessage({type:"create_allocate",err:e})}break;case"create_finalize":try{const{modeldata:t,options:r}=n.data.in,a=(0,e.createSessionFinalize)(t,r);postMessage({type:"create_finalize",out:a})}catch(e){postMessage({type:"create_finalize",err:e})}break;case"create":try{const{model:t,options:r}=n.data.in,a=(0,e.createSession)(t,r);postMessage({type:"create",out:a})}catch(e){postMessage({type:"create",err:e})}break;case"release":try{const t=n.data.in;(0,e.releaseSession)(t),postMessage({type:"release"})}catch(e){postMessage({type:"release",err:e})}break;case"run":try{const{sessionId:t,inputIndices:r,inputs:a,outputIndices:o,options:i}=n.data.in;(0,e.run)(t,r,a,o,i).then((t=>{postMessage({type:"run",out:t},(0,e.extractTransferableBuffers)(t))}),(e=>{postMessage({type:"run",err:e})}))}catch(e){postMessage({type:"run",err:e})}break;case"end-profiling":try{const t=n.data.in;(0,e.endProfiling)(t),postMessage({type:"end-profiling"})}catch(e){postMessage({type:"end-profiling",err:e})}}}})()})();\n',"Worker",void 0,void 0)}},6614:_e=>{_e.exports=function(et,tt,nt,rt){var it=self||window;try{try{var ot;try{ot=new it.Blob([et])}catch{(ot=new(it.BlobBuilder||it.WebKitBlobBuilder||it.MozBlobBuilder||it.MSBlobBuilder)).append(et),ot=ot.getBlob()}var st=it.URL||it.webkitURL,ut=st.createObjectURL(ot),ft=new it[tt](ut,nt);return st.revokeObjectURL(ut),ft}catch{return new it[tt]("data:application/javascript,".concat(encodeURIComponent(et)),nt)}}catch{if(!rt)throw Error("Inline worker is not supported");return new it[tt](rt,nt)}}},3474:(_e,et,tt)=>{var nt,rt=(nt=(nt=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(it){function ot(){return Ot.buffer!=It&&Zt(Ot.buffer),Bt}function st(){return Ot.buffer!=It&&Zt(Ot.buffer),zt}function ut(){return Ot.buffer!=It&&Zt(Ot.buffer),Gt}function ft(){return Ot.buffer!=It&&Zt(Ot.buffer),Kt}function dt(){return Ot.buffer!=It&&Zt(Ot.buffer),fn}var lt,at,ct;it=it||{},lt||(lt=it!==void 0?it:{}),lt.ready=new Promise(function(Mt,Ft){at=Mt,ct=Ft});var ht,pt,mt,gt,yt,bt,xt=Object.assign({},lt),vt="./this.program",wt=(Mt,Ft)=>{throw Ft},_t=typeof window=="object",Ct=typeof importScripts=="function",Et=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",$t=lt.ENVIRONMENT_IS_PTHREAD||!1,jt="";function Dt(Mt){return lt.locateFile?lt.locateFile(Mt,jt):jt+Mt}if(Et){let Mt;jt=Ct?tt(908).dirname(jt)+"/":"//",bt=()=>{yt||(gt=tt(1384),yt=tt(908))},ht=function(Ft,Ut){return bt(),Ft=yt.normalize(Ft),gt.readFileSync(Ft,Ut?void 0:"utf8")},mt=Ft=>((Ft=ht(Ft,!0)).buffer||(Ft=new Uint8Array(Ft)),Ft),pt=(Ft,Ut,cn)=>{bt(),Ft=yt.normalize(Ft),gt.readFile(Ft,function(In,Gn){In?cn(In):Ut(Gn.buffer)})},1<process.argv.length&&(vt=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",function(Ft){if(!(Ft instanceof qn))throw Ft}),process.on("unhandledRejection",function(Ft){throw Ft}),wt=(Ft,Ut)=>{if(Rt)throw process.exitCode=Ft,Ut;Ut instanceof qn||St("exiting due to exception: "+Ut),process.exit(Ft)},lt.inspect=function(){return"[Emscripten Module object]"};try{Mt=tt(9925)}catch(Ft){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),Ft}tt.g.Worker=Mt.Worker}else(_t||Ct)&&(Ct?jt=self.location.href:typeof document<"u"&&document.currentScript&&(jt=document.currentScript.src),nt&&(jt=nt),jt=jt.indexOf("blob:")!==0?jt.substr(0,jt.replace(/[?#].*/,"").lastIndexOf("/")+1):"",Et||(ht=Mt=>{var Ft=new XMLHttpRequest;return Ft.open("GET",Mt,!1),Ft.send(null),Ft.responseText},Ct&&(mt=Mt=>{var Ft=new XMLHttpRequest;return Ft.open("GET",Mt,!1),Ft.responseType="arraybuffer",Ft.send(null),new Uint8Array(Ft.response)}),pt=(Mt,Ft,Ut)=>{var cn=new XMLHttpRequest;cn.open("GET",Mt,!0),cn.responseType="arraybuffer",cn.onload=()=>{cn.status==200||cn.status==0&&cn.response?Ft(cn.response):Ut()},cn.onerror=Ut,cn.send(null)}));Et&&typeof performance>"u"&&(tt.g.performance=tt(6953).performance);var Pt=console.log.bind(console),kt=console.warn.bind(console);Et&&(bt(),Pt=Mt=>gt.writeSync(1,Mt+`
`),kt=Mt=>gt.writeSync(2,Mt+`
`));var At,Tt=lt.print||Pt,St=lt.printErr||kt;Object.assign(lt,xt),xt=null,lt.thisProgram&&(vt=lt.thisProgram),lt.quit&&(wt=lt.quit),lt.wasmBinary&&(At=lt.wasmBinary);var Rt=lt.noExitRuntime||!0;typeof WebAssembly!="object"&&bn("no native wasm support detected");var Ot,Nt,It,Bt,zt,Gt,Kt,fn,dn=!1,Wt=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function rn(Mt,Ft,Ut){var cn=(Ft>>>=0)+Ut;for(Ut=Ft;Mt[Ut]&&!(Ut>=cn);)++Ut;if(16<Ut-Ft&&Mt.buffer&&Wt)return Wt.decode(Mt.buffer instanceof SharedArrayBuffer?Mt.slice(Ft,Ut):Mt.subarray(Ft,Ut));for(cn="";Ft<Ut;){var In=Mt[Ft++];if(128&In){var Gn=63&Mt[Ft++];if((224&In)==192)cn+=String.fromCharCode((31&In)<<6|Gn);else{var ir=63&Mt[Ft++];65536>(In=(240&In)==224?(15&In)<<12|Gn<<6|ir:(7&In)<<18|Gn<<12|ir<<6|63&Mt[Ft++])?cn+=String.fromCharCode(In):(In-=65536,cn+=String.fromCharCode(55296|In>>10,56320|1023&In))}}else cn+=String.fromCharCode(In)}return cn}function Vt(Mt,Ft){return(Mt>>>=0)?rn(st(),Mt,Ft):""}function an(Mt,Ft,Ut,cn){if(!(0<cn))return 0;var In=Ut>>>=0;cn=Ut+cn-1;for(var Gn=0;Gn<Mt.length;++Gn){var ir=Mt.charCodeAt(Gn);if(55296<=ir&&57343>=ir&&(ir=65536+((1023&ir)<<10)|1023&Mt.charCodeAt(++Gn)),127>=ir){if(Ut>=cn)break;Ft[Ut++>>>0]=ir}else{if(2047>=ir){if(Ut+1>=cn)break;Ft[Ut++>>>0]=192|ir>>6}else{if(65535>=ir){if(Ut+2>=cn)break;Ft[Ut++>>>0]=224|ir>>12}else{if(Ut+3>=cn)break;Ft[Ut++>>>0]=240|ir>>18,Ft[Ut++>>>0]=128|ir>>12&63}Ft[Ut++>>>0]=128|ir>>6&63}Ft[Ut++>>>0]=128|63&ir}}return Ft[Ut>>>0]=0,Ut-In}function Qt(Mt){for(var Ft=0,Ut=0;Ut<Mt.length;++Ut){var cn=Mt.charCodeAt(Ut);127>=cn?Ft++:2047>=cn?Ft+=2:55296<=cn&&57343>=cn?(Ft+=4,++Ut):Ft+=3}return Ft}function Zt(Mt){It=Mt,lt.HEAP8=Bt=new Int8Array(Mt),lt.HEAP16=new Int16Array(Mt),lt.HEAP32=Gt=new Int32Array(Mt),lt.HEAPU8=zt=new Uint8Array(Mt),lt.HEAPU16=new Uint16Array(Mt),lt.HEAPU32=Kt=new Uint32Array(Mt),lt.HEAPF32=new Float32Array(Mt),lt.HEAPF64=fn=new Float64Array(Mt)}$t&&(It=lt.buffer);var xn=lt.INITIAL_MEMORY||16777216;if($t)Ot=lt.wasmMemory,It=lt.buffer;else if(lt.wasmMemory)Ot=lt.wasmMemory;else if(!((Ot=new WebAssembly.Memory({initial:xn/65536,maximum:65536,shared:!0})).buffer instanceof SharedArrayBuffer))throw St("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),Et&&console.log("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and also use a recent version)"),Error("bad memory");Ot&&(It=Ot.buffer),xn=It.byteLength,Zt(It);var vn,gn=[],Cn=[],kn=[];function En(){var Mt=lt.preRun.shift();gn.unshift(Mt)}var sn,On=0,Tn=null;function bn(Mt){throw $t?postMessage({cmd:"onAbort",arg:Mt}):lt.onAbort&&lt.onAbort(Mt),St(Mt="Aborted("+Mt+")"),dn=!0,Mt=new WebAssembly.RuntimeError(Mt+". Build with -sASSERTIONS for more info."),ct(Mt),Mt}function Dn(){return sn.startsWith("data:application/octet-stream;base64,")}function Nn(){var Mt=sn;try{if(Mt==sn&&At)return new Uint8Array(At);if(mt)return mt(Mt);throw"both async and sync fetching of the wasm failed"}catch(Ft){bn(Ft)}}sn="ort-wasm-threaded.wasm",Dn()||(sn=Dt(sn));var wn={};function qn(Mt){this.name="ExitStatus",this.message="Program terminated with exit("+Mt+")",this.status=Mt}function or(Mt){(Mt=Vn.La[Mt])||bn(),Vn.Xa(Mt)}function tr(Mt){var Ft=Vn.lb();if(!Ft)return 6;Vn.Ra.push(Ft),Vn.La[Mt.Ka]=Ft,Ft.Ka=Mt.Ka;var Ut={cmd:"run",start_routine:Mt.pb,arg:Mt.ib,pthread_ptr:Mt.Ka};return Ft.Qa=()=>{Ut.time=performance.now(),Ft.postMessage(Ut,Mt.vb)},Ft.loaded&&(Ft.Qa(),delete Ft.Qa),0}function cr(Mt){if($t)return Kn(1,1,Mt);Rt||(Vn.qb(),lt.onExit&&lt.onExit(Mt),dn=!0),wt(Mt,new qn(Mt))}function rr(Mt,Ft){if(!Ft&&$t)throw pn(Mt),"unwind";cr(Mt)}var Vn={Oa:[],Ra:[],$a:[],La:{},Ua:function(){$t&&Vn.mb()},xb:function(){},mb:function(){Vn.receiveObjectTransfer=Vn.ob,Vn.threadInitTLS=Vn.Za,Vn.setExitStatus=Vn.Ya,Rt=!1},Ya:function(){},qb:function(){for(var Mt of Object.values(Vn.La))Vn.Xa(Mt);for(Mt of Vn.Oa)Mt.terminate();Vn.Oa=[]},Xa:function(Mt){var Ft=Mt.Ka;delete Vn.La[Ft],Vn.Oa.push(Mt),Vn.Ra.splice(Vn.Ra.indexOf(Mt),1),Mt.Ka=0,Ht(Ft)},ob:function(){},Za:function(){Vn.$a.forEach(Mt=>Mt())},nb:function(Mt,Ft){Mt.onmessage=Ut=>{var cn=(Ut=Ut.data).cmd;if(Mt.Ka&&(Vn.kb=Mt.Ka),Ut.targetThread&&Ut.targetThread!=Hr()){var In=Vn.La[Ut.yb];In?In.postMessage(Ut,Ut.transferList):St('Internal error! Worker sent a message "'+cn+'" to target pthread '+Ut.targetThread+", but that thread no longer exists!")}else cn==="processProxyingQueue"?zn(Ut.queue):cn==="spawnThread"?tr(Ut):cn==="cleanupThread"?or(Ut.thread):cn==="killThread"?(Ut=Ut.thread,cn=Vn.La[Ut],delete Vn.La[Ut],cn.terminate(),Ht(Ut),Vn.Ra.splice(Vn.Ra.indexOf(cn),1),cn.Ka=0):cn==="cancelThread"?Vn.La[Ut.thread].postMessage({cmd:"cancel"}):cn==="loaded"?(Mt.loaded=!0,Ft&&Ft(Mt),Mt.Qa&&(Mt.Qa(),delete Mt.Qa)):cn==="print"?Tt("Thread "+Ut.threadId+": "+Ut.text):cn==="printErr"?St("Thread "+Ut.threadId+": "+Ut.text):cn==="alert"?alert("Thread "+Ut.threadId+": "+Ut.text):Ut.target==="setimmediate"?Mt.postMessage(Ut):cn==="onAbort"?lt.onAbort&&lt.onAbort(Ut.arg):cn&&St("worker sent an unknown command "+cn);Vn.kb=void 0},Mt.onerror=Ut=>{throw St("worker sent an error! "+Ut.filename+":"+Ut.lineno+": "+Ut.message),Ut},Et&&(Mt.on("message",function(Ut){Mt.onmessage({data:Ut})}),Mt.on("error",function(Ut){Mt.onerror(Ut)}),Mt.on("detachedExit",function(){})),Mt.postMessage({cmd:"load",urlOrBlob:lt.mainScriptUrlOrBlob||nt,wasmMemory:Ot,wasmModule:Nt})},hb:function(){var Mt=Dt("ort-wasm-threaded.worker.js");Vn.Oa.push(new Worker(Mt))},lb:function(){return Vn.Oa.length==0&&(Vn.hb(),Vn.nb(Vn.Oa[0])),Vn.Oa.pop()}};function Jt(Mt){for(;0<Mt.length;)Mt.shift()(lt)}function pn(Mt){if($t)return Kn(2,0,Mt);try{rr(Mt)}catch(Ft){Ft instanceof qn||Ft=="unwind"||wt(1,Ft)}}lt.PThread=Vn,lt.establishStackSpace=function(){var Mt=Hr(),Ft=ut()[Mt+44>>2>>>0];Mt=ut()[Mt+48>>2>>>0],ln(Ft,Ft-Mt),An(Ft)};var $n,jn,Fn=[];function Ln(Mt){this.Pa=Mt-24,this.gb=function(Ft){ft()[this.Pa+4>>2>>>0]=Ft},this.cb=function(Ft){ft()[this.Pa+8>>2>>>0]=Ft},this.eb=function(){ut()[this.Pa>>2>>>0]=0},this.bb=function(){ot()[this.Pa+12>>0>>>0]=0},this.fb=function(){ot()[this.Pa+13>>0>>>0]=0},this.Ua=function(Ft,Ut){this.ab(),this.gb(Ft),this.cb(Ut),this.eb(),this.bb(),this.fb()},this.ab=function(){ft()[this.Pa+16>>2>>>0]=0}}function Xn(Mt,Ft,Ut,cn){return $t?Kn(3,1,Mt,Ft,Ut,cn):ar(Mt,Ft,Ut,cn)}function ar(Mt,Ft,Ut,cn){if(typeof SharedArrayBuffer>"u")return St("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var In=[];return $t&&In.length===0?Xn(Mt,Ft,Ut,cn):(Mt={pb:Ut,Ka:Mt,ib:cn,vb:In},$t?(Mt.wb="spawnThread",postMessage(Mt,In),0):tr(Mt))}function Qn(Mt,Ft,Ut){return $t?Kn(4,1,Mt,Ft,Ut):0}function Yt(Mt,Ft){if($t)return Kn(5,1,Mt,Ft)}function hn(Mt,Ft){if($t)return Kn(6,1,Mt,Ft)}function mn(Mt,Ft,Ut){if($t)return Kn(7,1,Mt,Ft,Ut)}function yn(Mt,Ft,Ut){return $t?Kn(8,1,Mt,Ft,Ut):0}function qt(Mt,Ft){if($t)return Kn(9,1,Mt,Ft)}function Sn(Mt,Ft,Ut){if($t)return Kn(10,1,Mt,Ft,Ut)}function Bn(Mt,Ft,Ut,cn){if($t)return Kn(11,1,Mt,Ft,Ut,cn)}function Zn(Mt,Ft,Ut,cn){if($t)return Kn(12,1,Mt,Ft,Ut,cn)}function Hn(Mt,Ft,Ut,cn){if($t)return Kn(13,1,Mt,Ft,Ut,cn)}function sr(Mt){if($t)return Kn(14,1,Mt)}function nr(Mt,Ft){if($t)return Kn(15,1,Mt,Ft)}function dr(Mt,Ft,Ut){if($t)return Kn(16,1,Mt,Ft,Ut)}function zn(Mt){Atomics.store(ut(),Mt>>2,1),Hr()&&Xt(Mt),Atomics.compareExchange(ut(),Mt>>2,1,0)}function mr(Mt){return ft()[Mt>>>2]+4294967296*ut()[Mt+4>>>2]}function $r(Mt,Ft,Ut,cn,In,Gn){return $t?Kn(17,1,Mt,Ft,Ut,cn,In,Gn):-52}function lr(Mt,Ft,Ut,cn,In,Gn){if($t)return Kn(18,1,Mt,Ft,Ut,cn,In,Gn)}function wr(Mt){var Ft=Qt(Mt)+1,Ut=Or(Ft);return Ut&&an(Mt,ot(),Ut,Ft),Ut}function gr(Mt,Ft,Ut){function cn(Fr){return(Fr=Fr.toTimeString().match(/\(([A-Za-z ]+)\)$/))?Fr[1]:"GMT"}if($t)return Kn(19,1,Mt,Ft,Ut);var In=new Date().getFullYear(),Gn=new Date(In,0,1),ir=new Date(In,6,1);In=Gn.getTimezoneOffset();var Tr=ir.getTimezoneOffset(),Ar=Math.max(In,Tr);ut()[Mt>>2>>>0]=60*Ar,ut()[Ft>>2>>>0]=+(In!=Tr),Mt=cn(Gn),Ft=cn(ir),Mt=wr(Mt),Ft=wr(Ft),Tr<In?(ft()[Ut>>2>>>0]=Mt,ft()[Ut+4>>2>>>0]=Ft):(ft()[Ut>>2>>>0]=Ft,ft()[Ut+4>>2>>>0]=Mt)}function Kn(Mt,Ft){var Ut=arguments.length-2,cn=arguments;return function(In){var Gn=tn();return In=In(),An(Gn),In}(()=>{for(var In=Rn(8*Ut),Gn=In>>3,ir=0;ir<Ut;ir++){var Tr=cn[2+ir];dt()[Gn+ir>>>0]=Tr}return Lt(Mt,Ut,In,Ft)})}lt.invokeEntryPoint=function(Mt,Ft){var Ut=Fn[Mt];Ut||(Mt>=Fn.length&&(Fn.length=Mt+1),Fn[Mt]=Ut=vn.get(Mt)),Mt=Ut(Ft),Rt?Vn.Ya(Mt):on(Mt)},lt.executeNotifiedProxyingQueue=zn,jn=Et?()=>{var Mt=process.hrtime();return 1e3*Mt[0]+Mt[1]/1e6}:$t?()=>performance.now()-lt.__performance_now_clock_drift:()=>performance.now();var jr,Pr=[],Lr={};function Un(){if(!jr){var Mt,Ft={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:vt||"./this.program"};for(Mt in Lr)Lr[Mt]===void 0?delete Ft[Mt]:Ft[Mt]=Lr[Mt];var Ut=[];for(Mt in Ft)Ut.push(Mt+"="+Ft[Mt]);jr=Ut}return jr}function en(Mt,Ft){if($t)return Kn(20,1,Mt,Ft);var Ut=0;return Un().forEach(function(cn,In){var Gn=Ft+Ut;for(In=ft()[Mt+4*In>>2>>>0]=Gn,Gn=0;Gn<cn.length;++Gn)ot()[In++>>0>>>0]=cn.charCodeAt(Gn);ot()[In>>0>>>0]=0,Ut+=cn.length+1}),0}function Mn(Mt,Ft){if($t)return Kn(21,1,Mt,Ft);var Ut=Un();ft()[Mt>>2>>>0]=Ut.length;var cn=0;return Ut.forEach(function(In){cn+=In.length+1}),ft()[Ft>>2>>>0]=cn,0}function Wn(Mt){return $t?Kn(22,1,Mt):52}function pr(Mt,Ft,Ut,cn){return $t?Kn(23,1,Mt,Ft,Ut,cn):52}function Sr(Mt,Ft,Ut,cn,In){return $t?Kn(24,1,Mt,Ft,Ut,cn,In):70}var kr=[null,[],[]];function _r(Mt,Ft,Ut,cn){if($t)return Kn(25,1,Mt,Ft,Ut,cn);for(var In=0,Gn=0;Gn<Ut;Gn++){var ir=ft()[Ft>>2>>>0],Tr=ft()[Ft+4>>2>>>0];Ft+=8;for(var Ar=0;Ar<Tr;Ar++){var Fr=st()[ir+Ar>>>0],Ir=kr[Mt];Fr===0||Fr===10?((Mt===1?Tt:St)(rn(Ir,0)),Ir.length=0):Ir.push(Fr)}In+=Tr}return ft()[cn>>2>>>0]=In,0}function vr(Mt){return Mt%4==0&&(Mt%100!=0||Mt%400==0)}var ur=[31,29,31,30,31,30,31,31,30,31,30,31],Er=[31,28,31,30,31,30,31,31,30,31,30,31];function Cr(Mt,Ft,Ut,cn){function In(Pn,yr,Gr){for(Pn=typeof Pn=="number"?Pn.toString():Pn||"";Pn.length<yr;)Pn=Gr[0]+Pn;return Pn}function Gn(Pn,yr){return In(Pn,yr,"0")}function ir(Pn,yr){function Gr(xr){return 0>xr?-1:0<xr?1:0}var fr;return(fr=Gr(Pn.getFullYear()-yr.getFullYear()))===0&&(fr=Gr(Pn.getMonth()-yr.getMonth()))===0&&(fr=Gr(Pn.getDate()-yr.getDate())),fr}function Tr(Pn){switch(Pn.getDay()){case 0:return new Date(Pn.getFullYear()-1,11,29);case 1:return Pn;case 2:return new Date(Pn.getFullYear(),0,3);case 3:return new Date(Pn.getFullYear(),0,2);case 4:return new Date(Pn.getFullYear(),0,1);case 5:return new Date(Pn.getFullYear()-1,11,31);case 6:return new Date(Pn.getFullYear()-1,11,30)}}function Ar(Pn){var yr=Pn.Ma;for(Pn=new Date(new Date(Pn.Na+1900,0,1).getTime());0<yr;){var Gr=Pn.getMonth(),fr=(vr(Pn.getFullYear())?ur:Er)[Gr];if(!(yr>fr-Pn.getDate())){Pn.setDate(Pn.getDate()+yr);break}yr-=fr-Pn.getDate()+1,Pn.setDate(1),11>Gr?Pn.setMonth(Gr+1):(Pn.setMonth(0),Pn.setFullYear(Pn.getFullYear()+1))}return Gr=new Date(Pn.getFullYear()+1,0,4),yr=Tr(new Date(Pn.getFullYear(),0,4)),Gr=Tr(Gr),0>=ir(yr,Pn)?0>=ir(Gr,Pn)?Pn.getFullYear()+1:Pn.getFullYear():Pn.getFullYear()-1}var Fr=ut()[cn+40>>2>>>0];for(var Ir in cn={tb:ut()[cn>>2>>>0],sb:ut()[cn+4>>2>>>0],Sa:ut()[cn+8>>2>>>0],Va:ut()[cn+12>>2>>>0],Ta:ut()[cn+16>>2>>>0],Na:ut()[cn+20>>2>>>0],Ja:ut()[cn+24>>2>>>0],Ma:ut()[cn+28>>2>>>0],zb:ut()[cn+32>>2>>>0],rb:ut()[cn+36>>2>>>0],ub:Fr?Vt(Fr):""},Ut=Vt(Ut),Fr={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})Ut=Ut.replace(new RegExp(Ir,"g"),Fr[Ir]);var Br="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Rr="January February March April May June July August September October November December".split(" ");for(Ir in Fr={"%a":function(Pn){return Br[Pn.Ja].substring(0,3)},"%A":function(Pn){return Br[Pn.Ja]},"%b":function(Pn){return Rr[Pn.Ta].substring(0,3)},"%B":function(Pn){return Rr[Pn.Ta]},"%C":function(Pn){return Gn((Pn.Na+1900)/100|0,2)},"%d":function(Pn){return Gn(Pn.Va,2)},"%e":function(Pn){return In(Pn.Va,2," ")},"%g":function(Pn){return Ar(Pn).toString().substring(2)},"%G":function(Pn){return Ar(Pn)},"%H":function(Pn){return Gn(Pn.Sa,2)},"%I":function(Pn){return(Pn=Pn.Sa)==0?Pn=12:12<Pn&&(Pn-=12),Gn(Pn,2)},"%j":function(Pn){for(var yr=0,Gr=0;Gr<=Pn.Ta-1;yr+=(vr(Pn.Na+1900)?ur:Er)[Gr++]);return Gn(Pn.Va+yr,3)},"%m":function(Pn){return Gn(Pn.Ta+1,2)},"%M":function(Pn){return Gn(Pn.sb,2)},"%n":function(){return`
`},"%p":function(Pn){return 0<=Pn.Sa&&12>Pn.Sa?"AM":"PM"},"%S":function(Pn){return Gn(Pn.tb,2)},"%t":function(){return"	"},"%u":function(Pn){return Pn.Ja||7},"%U":function(Pn){return Gn(Math.floor((Pn.Ma+7-Pn.Ja)/7),2)},"%V":function(Pn){var yr=Math.floor((Pn.Ma+7-(Pn.Ja+6)%7)/7);if(2>=(Pn.Ja+371-Pn.Ma-2)%7&&yr++,yr)yr==53&&((Gr=(Pn.Ja+371-Pn.Ma)%7)==4||Gr==3&&vr(Pn.Na)||(yr=1));else{yr=52;var Gr=(Pn.Ja+7-Pn.Ma-1)%7;(Gr==4||Gr==5&&vr(Pn.Na%400-1))&&yr++}return Gn(yr,2)},"%w":function(Pn){return Pn.Ja},"%W":function(Pn){return Gn(Math.floor((Pn.Ma+7-(Pn.Ja+6)%7)/7),2)},"%y":function(Pn){return(Pn.Na+1900).toString().substring(2)},"%Y":function(Pn){return Pn.Na+1900},"%z":function(Pn){var yr=0<=(Pn=Pn.rb);return Pn=Math.abs(Pn)/60,(yr?"+":"-")+("0000"+(Pn/60*100+Pn%60)).slice(-4)},"%Z":function(Pn){return Pn.ub},"%%":function(){return"%"}},Ut=Ut.replace(/%%/g,"\0\0"),Fr)Ut.includes(Ir)&&(Ut=Ut.replace(new RegExp(Ir,"g"),Fr[Ir](cn)));return Ir=function(Pn){var yr=Array(Qt(Pn)+1);return an(Pn,yr,0,yr.length),yr}(Ut=Ut.replace(/\0\0/g,"%")),Ir.length>Ft?0:(function(Pn,yr){ot().set(Pn,yr>>>0)}(Ir,Mt),Ir.length-1)}Vn.Ua();var Dr=[null,cr,pn,Xn,Qn,Yt,hn,mn,yn,qt,Sn,Bn,Zn,Hn,sr,nr,dr,$r,lr,gr,en,Mn,Wn,pr,Sr,_r],zr={b:function(Mt){return Or(Mt+24)+24},c:function(Mt,Ft,Ut){throw new Ln(Mt).Ua(Ft,Ut),Mt},L:function(Mt){Vr(Mt,!Ct,1,!_t),Vn.Za()},l:function(Mt){$t?postMessage({cmd:"cleanupThread",thread:Mt}):or(Mt)},D:ar,i:Qn,R:Yt,z:hn,B:mn,T:yn,P:qt,I:Sn,O:Bn,p:Zn,A:Hn,x:sr,Q:nr,y:dr,r:function(){},j:function(){bn("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},s:function(){bn("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},q:function(){return Date.now()},E:function(){return 2097152},V:function(){return!0},F:function(Mt,Ft,Ut,cn){if(Mt==Ft)setTimeout(()=>zn(cn));else if($t)postMessage({targetThread:Mt,cmd:"processProxyingQueue",queue:cn});else{if(!(Mt=Vn.La[Mt]))return;Mt.postMessage({cmd:"processProxyingQueue",queue:cn})}return 1},K:function(){return-1},W:function(Mt,Ft){Mt=new Date(1e3*mr(Mt)),ut()[Ft>>2>>>0]=Mt.getUTCSeconds(),ut()[Ft+4>>2>>>0]=Mt.getUTCMinutes(),ut()[Ft+8>>2>>>0]=Mt.getUTCHours(),ut()[Ft+12>>2>>>0]=Mt.getUTCDate(),ut()[Ft+16>>2>>>0]=Mt.getUTCMonth(),ut()[Ft+20>>2>>>0]=Mt.getUTCFullYear()-1900,ut()[Ft+24>>2>>>0]=Mt.getUTCDay(),Mt=(Mt.getTime()-Date.UTC(Mt.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,ut()[Ft+28>>2>>>0]=Mt},X:function(Mt,Ft){Mt=new Date(1e3*mr(Mt)),ut()[Ft>>2>>>0]=Mt.getSeconds(),ut()[Ft+4>>2>>>0]=Mt.getMinutes(),ut()[Ft+8>>2>>>0]=Mt.getHours(),ut()[Ft+12>>2>>>0]=Mt.getDate(),ut()[Ft+16>>2>>>0]=Mt.getMonth(),ut()[Ft+20>>2>>>0]=Mt.getFullYear()-1900,ut()[Ft+24>>2>>>0]=Mt.getDay();var Ut=new Date(Mt.getFullYear(),0,1),cn=(Mt.getTime()-Ut.getTime())/864e5|0;ut()[Ft+28>>2>>>0]=cn,ut()[Ft+36>>2>>>0]=-60*Mt.getTimezoneOffset(),cn=new Date(Mt.getFullYear(),6,1).getTimezoneOffset(),Mt=0|(cn!=(Ut=Ut.getTimezoneOffset())&&Mt.getTimezoneOffset()==Math.min(Ut,cn)),ut()[Ft+32>>2>>>0]=Mt},Y:function(Mt){var Ft=new Date(ut()[Mt+20>>2>>>0]+1900,ut()[Mt+16>>2>>>0],ut()[Mt+12>>2>>>0],ut()[Mt+8>>2>>>0],ut()[Mt+4>>2>>>0],ut()[Mt>>2>>>0],0),Ut=ut()[Mt+32>>2>>>0],cn=Ft.getTimezoneOffset(),In=new Date(Ft.getFullYear(),0,1),Gn=new Date(Ft.getFullYear(),6,1).getTimezoneOffset(),ir=In.getTimezoneOffset(),Tr=Math.min(ir,Gn);return 0>Ut?ut()[Mt+32>>2>>>0]=+(Gn!=ir&&Tr==cn):0<Ut!=(Tr==cn)&&(Gn=Math.max(ir,Gn),Ft.setTime(Ft.getTime()+6e4*((0<Ut?Tr:Gn)-cn))),ut()[Mt+24>>2>>>0]=Ft.getDay(),Ut=(Ft.getTime()-In.getTime())/864e5|0,ut()[Mt+28>>2>>>0]=Ut,ut()[Mt>>2>>>0]=Ft.getSeconds(),ut()[Mt+4>>2>>>0]=Ft.getMinutes(),ut()[Mt+8>>2>>>0]=Ft.getHours(),ut()[Mt+12>>2>>>0]=Ft.getDate(),ut()[Mt+16>>2>>>0]=Ft.getMonth(),Ft.getTime()/1e3|0},G:$r,H:lr,Z:function Mt(Ft,Ut,cn){Mt.jb||(Mt.jb=!0,gr(Ft,Ut,cn))},d:function(){bn("")},m:function(){if(!Et&&!Ct){var Mt="Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread";$n||($n={}),$n[Mt]||($n[Mt]=1,Et&&(Mt="warning: "+Mt),St(Mt))}},w:function(){return 4294901760},f:jn,S:function(Mt,Ft,Ut){st().copyWithin(Mt>>>0,Ft>>>0,Ft+Ut>>>0)},g:function(){return Et?tt(3993).cpus().length:navigator.hardwareConcurrency},J:function(Mt,Ft,Ut){Pr.length=Ft,Ut>>=3;for(var cn=0;cn<Ft;cn++)Pr[cn]=dt()[Ut+cn>>>0];return(0>Mt?wn[-Mt-1]:Dr[Mt]).apply(null,Pr)},v:function(Mt){var Ft=st().length;if((Mt>>>=0)<=Ft||4294901760<Mt)return!1;for(var Ut=1;4>=Ut;Ut*=2){var cn=Ft*(1+.2/Ut);cn=Math.min(cn,Mt+100663296);var In=Math;cn=Math.max(Mt,cn),In=In.min.call(In,4294901760,cn+(65536-cn%65536)%65536);e:{try{Ot.grow(In-It.byteLength+65535>>>16),Zt(Ot.buffer);var Gn=1;break e}catch{}Gn=void 0}if(Gn)return!0}return!1},U:function(){throw"unwind"},M:en,N:Mn,k:rr,h:Wn,o:pr,t:Sr,n:_r,u:function Mt(Ft,Ut){Mt.Wa||(Mt.Wa=function(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var In=new Uint8Array(1);return()=>(crypto.getRandomValues(In),In[0])}if(Et)try{var Gn=tt(760);return()=>Gn.randomBytes(1)[0]}catch{}return()=>bn("randomDevice")}());for(var cn=0;cn<Ut;cn++)ot()[Ft+cn>>0>>>0]=Mt.Wa();return 0},a:Ot||lt.wasmMemory,C:Cr,e:function(Mt,Ft,Ut,cn){return Cr(Mt,Ft,Ut,cn)}};(function(){function Mt(In,Gn){lt.asm=In.exports,Vn.$a.push(lt.asm.wa),vn=lt.asm.za,Cn.unshift(lt.asm._),Nt=Gn,$t||(On--,lt.monitorRunDependencies&&lt.monitorRunDependencies(On),On==0&&Tn&&(In=Tn,Tn=null,In()))}function Ft(In){Mt(In.instance,In.module)}function Ut(In){return function(){if(!At&&(_t||Ct)){if(typeof fetch=="function"&&!sn.startsWith("file://"))return fetch(sn,{credentials:"same-origin"}).then(function(Gn){if(!Gn.ok)throw"failed to load wasm binary file at '"+sn+"'";return Gn.arrayBuffer()}).catch(function(){return Nn()});if(pt)return new Promise(function(Gn,ir){pt(sn,function(Tr){Gn(new Uint8Array(Tr))},ir)})}return Promise.resolve().then(function(){return Nn()})}().then(function(Gn){return WebAssembly.instantiate(Gn,cn)}).then(function(Gn){return Gn}).then(In,function(Gn){St("failed to asynchronously prepare wasm: "+Gn),bn(Gn)})}var cn={a:zr};if($t||(On++,lt.monitorRunDependencies&&lt.monitorRunDependencies(On)),lt.instantiateWasm)try{return lt.instantiateWasm(cn,Mt)}catch(In){return St("Module.instantiateWasm callback failed with error: "+In),!1}(At||typeof WebAssembly.instantiateStreaming!="function"||Dn()||sn.startsWith("file://")||Et||typeof fetch!="function"?Ut(Ft):fetch(sn,{credentials:"same-origin"}).then(function(In){return WebAssembly.instantiateStreaming(In,cn).then(Ft,function(Gn){return St("wasm streaming compile failed: "+Gn),St("falling back to ArrayBuffer instantiation"),Ut(Ft)})})).catch(ct)})(),lt.___wasm_call_ctors=function(){return(lt.___wasm_call_ctors=lt.asm._).apply(null,arguments)},lt._OrtInit=function(){return(lt._OrtInit=lt.asm.$).apply(null,arguments)},lt._OrtCreateSessionOptions=function(){return(lt._OrtCreateSessionOptions=lt.asm.aa).apply(null,arguments)},lt._OrtAppendExecutionProvider=function(){return(lt._OrtAppendExecutionProvider=lt.asm.ba).apply(null,arguments)},lt._OrtAddSessionConfigEntry=function(){return(lt._OrtAddSessionConfigEntry=lt.asm.ca).apply(null,arguments)},lt._OrtReleaseSessionOptions=function(){return(lt._OrtReleaseSessionOptions=lt.asm.da).apply(null,arguments)},lt._OrtCreateSession=function(){return(lt._OrtCreateSession=lt.asm.ea).apply(null,arguments)},lt._OrtReleaseSession=function(){return(lt._OrtReleaseSession=lt.asm.fa).apply(null,arguments)},lt._OrtGetInputCount=function(){return(lt._OrtGetInputCount=lt.asm.ga).apply(null,arguments)},lt._OrtGetOutputCount=function(){return(lt._OrtGetOutputCount=lt.asm.ha).apply(null,arguments)},lt._OrtGetInputName=function(){return(lt._OrtGetInputName=lt.asm.ia).apply(null,arguments)},lt._OrtGetOutputName=function(){return(lt._OrtGetOutputName=lt.asm.ja).apply(null,arguments)},lt._OrtFree=function(){return(lt._OrtFree=lt.asm.ka).apply(null,arguments)},lt._OrtCreateTensor=function(){return(lt._OrtCreateTensor=lt.asm.la).apply(null,arguments)},lt._OrtGetTensorData=function(){return(lt._OrtGetTensorData=lt.asm.ma).apply(null,arguments)},lt._OrtReleaseTensor=function(){return(lt._OrtReleaseTensor=lt.asm.na).apply(null,arguments)},lt._OrtCreateRunOptions=function(){return(lt._OrtCreateRunOptions=lt.asm.oa).apply(null,arguments)},lt._OrtAddRunConfigEntry=function(){return(lt._OrtAddRunConfigEntry=lt.asm.pa).apply(null,arguments)},lt._OrtReleaseRunOptions=function(){return(lt._OrtReleaseRunOptions=lt.asm.qa).apply(null,arguments)},lt._OrtRun=function(){return(lt._OrtRun=lt.asm.ra).apply(null,arguments)},lt._OrtEndProfiling=function(){return(lt._OrtEndProfiling=lt.asm.sa).apply(null,arguments)};var Hr=lt._pthread_self=function(){return(Hr=lt._pthread_self=lt.asm.ta).apply(null,arguments)},Or=lt._malloc=function(){return(Or=lt._malloc=lt.asm.ua).apply(null,arguments)};lt._free=function(){return(lt._free=lt.asm.va).apply(null,arguments)},lt.__emscripten_tls_init=function(){return(lt.__emscripten_tls_init=lt.asm.wa).apply(null,arguments)};var Vr=lt.__emscripten_thread_init=function(){return(Vr=lt.__emscripten_thread_init=lt.asm.xa).apply(null,arguments)};lt.__emscripten_thread_crashed=function(){return(lt.__emscripten_thread_crashed=lt.asm.ya).apply(null,arguments)};var Nr,Lt=lt._emscripten_run_in_main_runtime_thread_js=function(){return(Lt=lt._emscripten_run_in_main_runtime_thread_js=lt.asm.Aa).apply(null,arguments)},Xt=lt.__emscripten_proxy_execute_task_queue=function(){return(Xt=lt.__emscripten_proxy_execute_task_queue=lt.asm.Ba).apply(null,arguments)},Ht=lt.__emscripten_thread_free_data=function(){return(Ht=lt.__emscripten_thread_free_data=lt.asm.Ca).apply(null,arguments)},on=lt.__emscripten_thread_exit=function(){return(on=lt.__emscripten_thread_exit=lt.asm.Da).apply(null,arguments)},ln=lt._emscripten_stack_set_limits=function(){return(ln=lt._emscripten_stack_set_limits=lt.asm.Ea).apply(null,arguments)},tn=lt.stackSave=function(){return(tn=lt.stackSave=lt.asm.Fa).apply(null,arguments)},An=lt.stackRestore=function(){return(An=lt.stackRestore=lt.asm.Ga).apply(null,arguments)},Rn=lt.stackAlloc=function(){return(Rn=lt.stackAlloc=lt.asm.Ha).apply(null,arguments)};function _n(){function Mt(){if(!Nr&&(Nr=!0,lt.calledRun=!0,!dn)&&($t||Jt(Cn),at(lt),lt.onRuntimeInitialized&&lt.onRuntimeInitialized(),!$t)){if(lt.postRun)for(typeof lt.postRun=="function"&&(lt.postRun=[lt.postRun]);lt.postRun.length;){var Ft=lt.postRun.shift();kn.unshift(Ft)}Jt(kn)}}if(!(0<On))if($t)at(lt),$t||Jt(Cn),postMessage({cmd:"loaded"});else{if(lt.preRun)for(typeof lt.preRun=="function"&&(lt.preRun=[lt.preRun]);lt.preRun.length;)En();Jt(gn),0<On||(lt.setStatus?(lt.setStatus("Running..."),setTimeout(function(){setTimeout(function(){lt.setStatus("")},1),Mt()},1)):Mt())}}if(lt.___cxa_is_pointer_type=function(){return(lt.___cxa_is_pointer_type=lt.asm.Ia).apply(null,arguments)},lt.UTF8ToString=Vt,lt.stringToUTF8=function(Mt,Ft,Ut){return an(Mt,st(),Ft,Ut)},lt.lengthBytesUTF8=Qt,lt.keepRuntimeAlive=function(){return Rt},lt.wasmMemory=Ot,lt.stackSave=tn,lt.stackRestore=An,lt.stackAlloc=Rn,lt.ExitStatus=qn,lt.PThread=Vn,Tn=function Mt(){Nr||_n(),Nr||(Tn=Mt)},lt.preInit)for(typeof lt.preInit=="function"&&(lt.preInit=[lt.preInit]);0<lt.preInit.length;)lt.preInit.pop()();return _n(),it.ready});_e.exports=rt},932:(_e,et,tt)=>{var nt,rt=(nt=(nt=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(it){var ot,st,ut;it=it||{},ot||(ot=it!==void 0?it:{}),ot.ready=new Promise(function(Jt,pn){st=Jt,ut=pn});var ft,dt,lt,at,ct,ht,pt=Object.assign({},ot),mt="./this.program",gt=(Jt,pn)=>{throw pn},yt=typeof window=="object",bt=typeof importScripts=="function",xt=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",vt="";xt?(vt=bt?tt(908).dirname(vt)+"/":"//",ht=()=>{ct||(at=tt(1384),ct=tt(908))},ft=function(Jt,pn){return ht(),Jt=ct.normalize(Jt),at.readFileSync(Jt,pn?void 0:"utf8")},lt=Jt=>((Jt=ft(Jt,!0)).buffer||(Jt=new Uint8Array(Jt)),Jt),dt=(Jt,pn,$n)=>{ht(),Jt=ct.normalize(Jt),at.readFile(Jt,function(jn,Fn){jn?$n(jn):pn(Fn.buffer)})},1<process.argv.length&&(mt=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",function(Jt){if(!(Jt instanceof xn))throw Jt}),process.on("unhandledRejection",function(Jt){throw Jt}),gt=(Jt,pn)=>{if(Et)throw process.exitCode=Jt,pn;pn instanceof xn||Ct("exiting due to exception: "+pn),process.exit(Jt)},ot.inspect=function(){return"[Emscripten Module object]"}):(yt||bt)&&(bt?vt=self.location.href:typeof document<"u"&&document.currentScript&&(vt=document.currentScript.src),nt&&(vt=nt),vt=vt.indexOf("blob:")!==0?vt.substr(0,vt.replace(/[?#].*/,"").lastIndexOf("/")+1):"",ft=Jt=>{var pn=new XMLHttpRequest;return pn.open("GET",Jt,!1),pn.send(null),pn.responseText},bt&&(lt=Jt=>{var pn=new XMLHttpRequest;return pn.open("GET",Jt,!1),pn.responseType="arraybuffer",pn.send(null),new Uint8Array(pn.response)}),dt=(Jt,pn,$n)=>{var jn=new XMLHttpRequest;jn.open("GET",Jt,!0),jn.responseType="arraybuffer",jn.onload=()=>{jn.status==200||jn.status==0&&jn.response?pn(jn.response):$n()},jn.onerror=$n,jn.send(null)});var wt,_t=ot.print||console.log.bind(console),Ct=ot.printErr||console.warn.bind(console);Object.assign(ot,pt),pt=null,ot.thisProgram&&(mt=ot.thisProgram),ot.quit&&(gt=ot.quit),ot.wasmBinary&&(wt=ot.wasmBinary);var Et=ot.noExitRuntime||!0;typeof WebAssembly!="object"&&Vt("no native wasm support detected");var $t,jt,Dt,Pt,kt,At,Tt=!1,St=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Rt(Jt,pn,$n){var jn=(pn>>>=0)+$n;for($n=pn;Jt[$n]&&!($n>=jn);)++$n;if(16<$n-pn&&Jt.buffer&&St)return St.decode(Jt.subarray(pn,$n));for(jn="";pn<$n;){var Fn=Jt[pn++];if(128&Fn){var Ln=63&Jt[pn++];if((224&Fn)==192)jn+=String.fromCharCode((31&Fn)<<6|Ln);else{var Xn=63&Jt[pn++];65536>(Fn=(240&Fn)==224?(15&Fn)<<12|Ln<<6|Xn:(7&Fn)<<18|Ln<<12|Xn<<6|63&Jt[pn++])?jn+=String.fromCharCode(Fn):(Fn-=65536,jn+=String.fromCharCode(55296|Fn>>10,56320|1023&Fn))}}else jn+=String.fromCharCode(Fn)}return jn}function Ot(Jt,pn){return(Jt>>>=0)?Rt(Pt,Jt,pn):""}function Nt(Jt,pn,$n,jn){if(!(0<jn))return 0;var Fn=$n>>>=0;jn=$n+jn-1;for(var Ln=0;Ln<Jt.length;++Ln){var Xn=Jt.charCodeAt(Ln);if(55296<=Xn&&57343>=Xn&&(Xn=65536+((1023&Xn)<<10)|1023&Jt.charCodeAt(++Ln)),127>=Xn){if($n>=jn)break;pn[$n++>>>0]=Xn}else{if(2047>=Xn){if($n+1>=jn)break;pn[$n++>>>0]=192|Xn>>6}else{if(65535>=Xn){if($n+2>=jn)break;pn[$n++>>>0]=224|Xn>>12}else{if($n+3>=jn)break;pn[$n++>>>0]=240|Xn>>18,pn[$n++>>>0]=128|Xn>>12&63}pn[$n++>>>0]=128|Xn>>6&63}pn[$n++>>>0]=128|63&Xn}}return pn[$n>>>0]=0,$n-Fn}function It(Jt){for(var pn=0,$n=0;$n<Jt.length;++$n){var jn=Jt.charCodeAt($n);127>=jn?pn++:2047>=jn?pn+=2:55296<=jn&&57343>=jn?(pn+=4,++$n):pn+=3}return pn}function Bt(){var Jt=$t.buffer;jt=Jt,ot.HEAP8=Dt=new Int8Array(Jt),ot.HEAP16=new Int16Array(Jt),ot.HEAP32=kt=new Int32Array(Jt),ot.HEAPU8=Pt=new Uint8Array(Jt),ot.HEAPU16=new Uint16Array(Jt),ot.HEAPU32=At=new Uint32Array(Jt),ot.HEAPF32=new Float32Array(Jt),ot.HEAPF64=new Float64Array(Jt)}var zt=[],Gt=[],Kt=[];function fn(){var Jt=ot.preRun.shift();zt.unshift(Jt)}var dn,Wt=0,rn=null;function Vt(Jt){throw ot.onAbort&&ot.onAbort(Jt),Ct(Jt="Aborted("+Jt+")"),Tt=!0,Jt=new WebAssembly.RuntimeError(Jt+". Build with -sASSERTIONS for more info."),ut(Jt),Jt}function an(){return dn.startsWith("data:application/octet-stream;base64,")}if(dn="ort-wasm.wasm",!an()){var Qt=dn;dn=ot.locateFile?ot.locateFile(Qt,vt):vt+Qt}function Zt(){var Jt=dn;try{if(Jt==dn&&wt)return new Uint8Array(wt);if(lt)return lt(Jt);throw"both async and sync fetching of the wasm failed"}catch(pn){Vt(pn)}}function xn(Jt){this.name="ExitStatus",this.message="Program terminated with exit("+Jt+")",this.status=Jt}function vn(Jt){for(;0<Jt.length;)Jt.shift()(ot)}function gn(Jt){this.sa=Jt-24,this.Ia=function(pn){At[this.sa+4>>2>>>0]=pn},this.Ba=function(pn){At[this.sa+8>>2>>>0]=pn},this.Ga=function(){kt[this.sa>>2>>>0]=0},this.Aa=function(){Dt[this.sa+12>>0>>>0]=0},this.Ha=function(){Dt[this.sa+13>>0>>>0]=0},this.ya=function(pn,$n){this.za(),this.Ia(pn),this.Ba($n),this.Ga(),this.Aa(),this.Ha()},this.za=function(){At[this.sa+16>>2>>>0]=0}}function Cn(Jt){var pn=It(Jt)+1,$n=qn(pn);return $n&&Nt(Jt,Dt,$n,pn),$n}var kn={};function En(){if(!sn){var Jt,pn={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:mt||"./this.program"};for(Jt in kn)kn[Jt]===void 0?delete pn[Jt]:pn[Jt]=kn[Jt];var $n=[];for(Jt in pn)$n.push(Jt+"="+pn[Jt]);sn=$n}return sn}var sn,On=[null,[],[]];function Tn(Jt){return Jt%4==0&&(Jt%100!=0||Jt%400==0)}var bn=[31,29,31,30,31,30,31,31,30,31,30,31],Dn=[31,28,31,30,31,30,31,31,30,31,30,31];function Nn(Jt,pn,$n,jn){function Fn(qt,Sn,Bn){for(qt=typeof qt=="number"?qt.toString():qt||"";qt.length<Sn;)qt=Bn[0]+qt;return qt}function Ln(qt,Sn){return Fn(qt,Sn,"0")}function Xn(qt,Sn){function Bn(Hn){return 0>Hn?-1:0<Hn?1:0}var Zn;return(Zn=Bn(qt.getFullYear()-Sn.getFullYear()))===0&&(Zn=Bn(qt.getMonth()-Sn.getMonth()))===0&&(Zn=Bn(qt.getDate()-Sn.getDate())),Zn}function ar(qt){switch(qt.getDay()){case 0:return new Date(qt.getFullYear()-1,11,29);case 1:return qt;case 2:return new Date(qt.getFullYear(),0,3);case 3:return new Date(qt.getFullYear(),0,2);case 4:return new Date(qt.getFullYear(),0,1);case 5:return new Date(qt.getFullYear()-1,11,31);case 6:return new Date(qt.getFullYear()-1,11,30)}}function Qn(qt){var Sn=qt.qa;for(qt=new Date(new Date(qt.ra+1900,0,1).getTime());0<Sn;){var Bn=qt.getMonth(),Zn=(Tn(qt.getFullYear())?bn:Dn)[Bn];if(!(Sn>Zn-qt.getDate())){qt.setDate(qt.getDate()+Sn);break}Sn-=Zn-qt.getDate()+1,qt.setDate(1),11>Bn?qt.setMonth(Bn+1):(qt.setMonth(0),qt.setFullYear(qt.getFullYear()+1))}return Bn=new Date(qt.getFullYear()+1,0,4),Sn=ar(new Date(qt.getFullYear(),0,4)),Bn=ar(Bn),0>=Xn(Sn,qt)?0>=Xn(Bn,qt)?qt.getFullYear()+1:qt.getFullYear():qt.getFullYear()-1}var Yt=kt[jn+40>>2>>>0];for(var hn in jn={Ea:kt[jn>>2>>>0],Da:kt[jn+4>>2>>>0],ta:kt[jn+8>>2>>>0],va:kt[jn+12>>2>>>0],ua:kt[jn+16>>2>>>0],ra:kt[jn+20>>2>>>0],la:kt[jn+24>>2>>>0],qa:kt[jn+28>>2>>>0],Ja:kt[jn+32>>2>>>0],Ca:kt[jn+36>>2>>>0],Fa:Yt?Ot(Yt):""},$n=Ot($n),Yt={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})$n=$n.replace(new RegExp(hn,"g"),Yt[hn]);var mn="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),yn="January February March April May June July August September October November December".split(" ");for(hn in Yt={"%a":function(qt){return mn[qt.la].substring(0,3)},"%A":function(qt){return mn[qt.la]},"%b":function(qt){return yn[qt.ua].substring(0,3)},"%B":function(qt){return yn[qt.ua]},"%C":function(qt){return Ln((qt.ra+1900)/100|0,2)},"%d":function(qt){return Ln(qt.va,2)},"%e":function(qt){return Fn(qt.va,2," ")},"%g":function(qt){return Qn(qt).toString().substring(2)},"%G":function(qt){return Qn(qt)},"%H":function(qt){return Ln(qt.ta,2)},"%I":function(qt){return(qt=qt.ta)==0?qt=12:12<qt&&(qt-=12),Ln(qt,2)},"%j":function(qt){for(var Sn=0,Bn=0;Bn<=qt.ua-1;Sn+=(Tn(qt.ra+1900)?bn:Dn)[Bn++]);return Ln(qt.va+Sn,3)},"%m":function(qt){return Ln(qt.ua+1,2)},"%M":function(qt){return Ln(qt.Da,2)},"%n":function(){return`
`},"%p":function(qt){return 0<=qt.ta&&12>qt.ta?"AM":"PM"},"%S":function(qt){return Ln(qt.Ea,2)},"%t":function(){return"	"},"%u":function(qt){return qt.la||7},"%U":function(qt){return Ln(Math.floor((qt.qa+7-qt.la)/7),2)},"%V":function(qt){var Sn=Math.floor((qt.qa+7-(qt.la+6)%7)/7);if(2>=(qt.la+371-qt.qa-2)%7&&Sn++,Sn)Sn==53&&((Bn=(qt.la+371-qt.qa)%7)==4||Bn==3&&Tn(qt.ra)||(Sn=1));else{Sn=52;var Bn=(qt.la+7-qt.qa-1)%7;(Bn==4||Bn==5&&Tn(qt.ra%400-1))&&Sn++}return Ln(Sn,2)},"%w":function(qt){return qt.la},"%W":function(qt){return Ln(Math.floor((qt.qa+7-(qt.la+6)%7)/7),2)},"%y":function(qt){return(qt.ra+1900).toString().substring(2)},"%Y":function(qt){return qt.ra+1900},"%z":function(qt){var Sn=0<=(qt=qt.Ca);return qt=Math.abs(qt)/60,(Sn?"+":"-")+("0000"+(qt/60*100+qt%60)).slice(-4)},"%Z":function(qt){return qt.Fa},"%%":function(){return"%"}},$n=$n.replace(/%%/g,"\0\0"),Yt)$n.includes(hn)&&($n=$n.replace(new RegExp(hn,"g"),Yt[hn](jn)));return hn=function(qt){var Sn=Array(It(qt)+1);return Nt(qt,Sn,0,Sn.length),Sn}($n=$n.replace(/\0\0/g,"%")),hn.length>pn?0:(Dt.set(hn,Jt>>>0),hn.length-1)}var wn={a:function(Jt){return qn(Jt+24)+24},b:function(Jt,pn,$n){throw new gn(Jt).ya(pn,$n),Jt},g:function(){return 0},I:function(){},w:function(){},y:function(){},K:function(){return 0},G:function(){},C:function(){},F:function(){},k:function(){},x:function(){},u:function(){},H:function(){},v:function(){},n:function(){},p:function(){Vt("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},o:function(){Vt("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},l:function(){return Date.now()},L:function(){return!0},M:function(Jt,pn){Jt=new Date(1e3*(At[Jt>>>2]+4294967296*kt[Jt+4>>>2])),kt[pn>>2>>>0]=Jt.getUTCSeconds(),kt[pn+4>>2>>>0]=Jt.getUTCMinutes(),kt[pn+8>>2>>>0]=Jt.getUTCHours(),kt[pn+12>>2>>>0]=Jt.getUTCDate(),kt[pn+16>>2>>>0]=Jt.getUTCMonth(),kt[pn+20>>2>>>0]=Jt.getUTCFullYear()-1900,kt[pn+24>>2>>>0]=Jt.getUTCDay(),kt[pn+28>>2>>>0]=(Jt.getTime()-Date.UTC(Jt.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},N:function(Jt,pn){Jt=new Date(1e3*(At[Jt>>>2]+4294967296*kt[Jt+4>>>2])),kt[pn>>2>>>0]=Jt.getSeconds(),kt[pn+4>>2>>>0]=Jt.getMinutes(),kt[pn+8>>2>>>0]=Jt.getHours(),kt[pn+12>>2>>>0]=Jt.getDate(),kt[pn+16>>2>>>0]=Jt.getMonth(),kt[pn+20>>2>>>0]=Jt.getFullYear()-1900,kt[pn+24>>2>>>0]=Jt.getDay();var $n=new Date(Jt.getFullYear(),0,1);kt[pn+28>>2>>>0]=(Jt.getTime()-$n.getTime())/864e5|0,kt[pn+36>>2>>>0]=-60*Jt.getTimezoneOffset();var jn=new Date(Jt.getFullYear(),6,1).getTimezoneOffset();$n=$n.getTimezoneOffset(),kt[pn+32>>2>>>0]=0|(jn!=$n&&Jt.getTimezoneOffset()==Math.min($n,jn))},O:function(Jt){var pn=new Date(kt[Jt+20>>2>>>0]+1900,kt[Jt+16>>2>>>0],kt[Jt+12>>2>>>0],kt[Jt+8>>2>>>0],kt[Jt+4>>2>>>0],kt[Jt>>2>>>0],0),$n=kt[Jt+32>>2>>>0],jn=pn.getTimezoneOffset(),Fn=new Date(pn.getFullYear(),0,1),Ln=new Date(pn.getFullYear(),6,1).getTimezoneOffset(),Xn=Fn.getTimezoneOffset(),ar=Math.min(Xn,Ln);return 0>$n?kt[Jt+32>>2>>>0]=+(Ln!=Xn&&ar==jn):0<$n!=(ar==jn)&&(Ln=Math.max(Xn,Ln),pn.setTime(pn.getTime()+6e4*((0<$n?ar:Ln)-jn))),kt[Jt+24>>2>>>0]=pn.getDay(),kt[Jt+28>>2>>>0]=(pn.getTime()-Fn.getTime())/864e5|0,kt[Jt>>2>>>0]=pn.getSeconds(),kt[Jt+4>>2>>>0]=pn.getMinutes(),kt[Jt+8>>2>>>0]=pn.getHours(),kt[Jt+12>>2>>>0]=pn.getDate(),kt[Jt+16>>2>>>0]=pn.getMonth(),pn.getTime()/1e3|0},z:function(){return-52},B:function(){},m:function Jt(pn,$n,jn){Jt.xa||(Jt.xa=!0,function(Fn,Ln,Xn){function ar(yn){return(yn=yn.toTimeString().match(/\(([A-Za-z ]+)\)$/))?yn[1]:"GMT"}var Qn=new Date().getFullYear(),Yt=new Date(Qn,0,1),hn=new Date(Qn,6,1);Qn=Yt.getTimezoneOffset();var mn=hn.getTimezoneOffset();kt[Fn>>2>>>0]=60*Math.max(Qn,mn),kt[Ln>>2>>>0]=+(Qn!=mn),Fn=ar(Yt),Ln=ar(hn),Fn=Cn(Fn),Ln=Cn(Ln),mn<Qn?(At[Xn>>2>>>0]=Fn,At[Xn+4>>2>>>0]=Ln):(At[Xn>>2>>>0]=Ln,At[Xn+4>>2>>>0]=Fn)}(pn,$n,jn))},d:function(){Vt("")},t:function(){return 4294901760},h:xt?()=>{var Jt=process.hrtime();return 1e3*Jt[0]+Jt[1]/1e6}:()=>performance.now(),J:function(Jt,pn,$n){Pt.copyWithin(Jt>>>0,pn>>>0,pn+$n>>>0)},f:function(Jt){var pn=Pt.length;if(4294901760<(Jt>>>=0))return!1;for(var $n=1;4>=$n;$n*=2){var jn=pn*(1+.2/$n);jn=Math.min(jn,Jt+100663296);var Fn=Math;jn=Math.max(Jt,jn),Fn=Fn.min.call(Fn,4294901760,jn+(65536-jn%65536)%65536);e:{try{$t.grow(Fn-jt.byteLength+65535>>>16),Bt();var Ln=1;break e}catch{}Ln=void 0}if(Ln)return!0}return!1},D:function(Jt,pn){var $n=0;return En().forEach(function(jn,Fn){var Ln=pn+$n;for(Fn=At[Jt+4*Fn>>2>>>0]=Ln,Ln=0;Ln<jn.length;++Ln)Dt[Fn++>>0>>>0]=jn.charCodeAt(Ln);Dt[Fn>>0>>>0]=0,$n+=jn.length+1}),0},E:function(Jt,pn){var $n=En();At[Jt>>2>>>0]=$n.length;var jn=0;return $n.forEach(function(Fn){jn+=Fn.length+1}),At[pn>>2>>>0]=jn,0},r:function(Jt){Et||(ot.onExit&&ot.onExit(Jt),Tt=!0),gt(Jt,new xn(Jt))},e:function(){return 52},j:function(){return 52},q:function(){return 70},i:function(Jt,pn,$n,jn){for(var Fn=0,Ln=0;Ln<$n;Ln++){var Xn=At[pn>>2>>>0],ar=At[pn+4>>2>>>0];pn+=8;for(var Qn=0;Qn<ar;Qn++){var Yt=Pt[Xn+Qn>>>0],hn=On[Jt];Yt===0||Yt===10?((Jt===1?_t:Ct)(Rt(hn,0)),hn.length=0):hn.push(Yt)}Fn+=ar}return At[jn>>2>>>0]=Fn,0},s:function Jt(pn,$n){Jt.wa||(Jt.wa=function(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var Fn=new Uint8Array(1);return()=>(crypto.getRandomValues(Fn),Fn[0])}if(xt)try{var Ln=tt(760);return()=>Ln.randomBytes(1)[0]}catch{}return()=>Vt("randomDevice")}());for(var jn=0;jn<$n;jn++)Dt[pn+jn>>0>>>0]=Jt.wa();return 0},A:Nn,c:function(Jt,pn,$n,jn){return Nn(Jt,pn,$n,jn)}};(function(){function Jt(Fn){ot.asm=Fn.exports,$t=ot.asm.P,Bt(),Gt.unshift(ot.asm.Q),Wt--,ot.monitorRunDependencies&&ot.monitorRunDependencies(Wt),Wt==0&&rn&&(Fn=rn,rn=null,Fn())}function pn(Fn){Jt(Fn.instance)}function $n(Fn){return function(){if(!wt&&(yt||bt)){if(typeof fetch=="function"&&!dn.startsWith("file://"))return fetch(dn,{credentials:"same-origin"}).then(function(Ln){if(!Ln.ok)throw"failed to load wasm binary file at '"+dn+"'";return Ln.arrayBuffer()}).catch(function(){return Zt()});if(dt)return new Promise(function(Ln,Xn){dt(dn,function(ar){Ln(new Uint8Array(ar))},Xn)})}return Promise.resolve().then(function(){return Zt()})}().then(function(Ln){return WebAssembly.instantiate(Ln,jn)}).then(function(Ln){return Ln}).then(Fn,function(Ln){Ct("failed to asynchronously prepare wasm: "+Ln),Vt(Ln)})}var jn={a:wn};if(Wt++,ot.monitorRunDependencies&&ot.monitorRunDependencies(Wt),ot.instantiateWasm)try{return ot.instantiateWasm(jn,Jt)}catch(Fn){return Ct("Module.instantiateWasm callback failed with error: "+Fn),!1}(wt||typeof WebAssembly.instantiateStreaming!="function"||an()||dn.startsWith("file://")||xt||typeof fetch!="function"?$n(pn):fetch(dn,{credentials:"same-origin"}).then(function(Fn){return WebAssembly.instantiateStreaming(Fn,jn).then(pn,function(Ln){return Ct("wasm streaming compile failed: "+Ln),Ct("falling back to ArrayBuffer instantiation"),$n(pn)})})).catch(ut)})(),ot.___wasm_call_ctors=function(){return(ot.___wasm_call_ctors=ot.asm.Q).apply(null,arguments)},ot._OrtInit=function(){return(ot._OrtInit=ot.asm.R).apply(null,arguments)},ot._OrtCreateSessionOptions=function(){return(ot._OrtCreateSessionOptions=ot.asm.S).apply(null,arguments)},ot._OrtAppendExecutionProvider=function(){return(ot._OrtAppendExecutionProvider=ot.asm.T).apply(null,arguments)},ot._OrtAddSessionConfigEntry=function(){return(ot._OrtAddSessionConfigEntry=ot.asm.U).apply(null,arguments)},ot._OrtReleaseSessionOptions=function(){return(ot._OrtReleaseSessionOptions=ot.asm.V).apply(null,arguments)},ot._OrtCreateSession=function(){return(ot._OrtCreateSession=ot.asm.W).apply(null,arguments)},ot._OrtReleaseSession=function(){return(ot._OrtReleaseSession=ot.asm.X).apply(null,arguments)},ot._OrtGetInputCount=function(){return(ot._OrtGetInputCount=ot.asm.Y).apply(null,arguments)},ot._OrtGetOutputCount=function(){return(ot._OrtGetOutputCount=ot.asm.Z).apply(null,arguments)},ot._OrtGetInputName=function(){return(ot._OrtGetInputName=ot.asm._).apply(null,arguments)},ot._OrtGetOutputName=function(){return(ot._OrtGetOutputName=ot.asm.$).apply(null,arguments)},ot._OrtFree=function(){return(ot._OrtFree=ot.asm.aa).apply(null,arguments)},ot._OrtCreateTensor=function(){return(ot._OrtCreateTensor=ot.asm.ba).apply(null,arguments)},ot._OrtGetTensorData=function(){return(ot._OrtGetTensorData=ot.asm.ca).apply(null,arguments)},ot._OrtReleaseTensor=function(){return(ot._OrtReleaseTensor=ot.asm.da).apply(null,arguments)},ot._OrtCreateRunOptions=function(){return(ot._OrtCreateRunOptions=ot.asm.ea).apply(null,arguments)},ot._OrtAddRunConfigEntry=function(){return(ot._OrtAddRunConfigEntry=ot.asm.fa).apply(null,arguments)},ot._OrtReleaseRunOptions=function(){return(ot._OrtReleaseRunOptions=ot.asm.ga).apply(null,arguments)},ot._OrtRun=function(){return(ot._OrtRun=ot.asm.ha).apply(null,arguments)},ot._OrtEndProfiling=function(){return(ot._OrtEndProfiling=ot.asm.ia).apply(null,arguments)};var qn=ot._malloc=function(){return(qn=ot._malloc=ot.asm.ja).apply(null,arguments)};ot._free=function(){return(ot._free=ot.asm.ka).apply(null,arguments)};var or,tr=ot.stackSave=function(){return(tr=ot.stackSave=ot.asm.ma).apply(null,arguments)},cr=ot.stackRestore=function(){return(cr=ot.stackRestore=ot.asm.na).apply(null,arguments)},rr=ot.stackAlloc=function(){return(rr=ot.stackAlloc=ot.asm.oa).apply(null,arguments)};function Vn(){function Jt(){if(!or&&(or=!0,ot.calledRun=!0,!Tt)){if(vn(Gt),st(ot),ot.onRuntimeInitialized&&ot.onRuntimeInitialized(),ot.postRun)for(typeof ot.postRun=="function"&&(ot.postRun=[ot.postRun]);ot.postRun.length;){var pn=ot.postRun.shift();Kt.unshift(pn)}vn(Kt)}}if(!(0<Wt)){if(ot.preRun)for(typeof ot.preRun=="function"&&(ot.preRun=[ot.preRun]);ot.preRun.length;)fn();vn(zt),0<Wt||(ot.setStatus?(ot.setStatus("Running..."),setTimeout(function(){setTimeout(function(){ot.setStatus("")},1),Jt()},1)):Jt())}}if(ot.___cxa_is_pointer_type=function(){return(ot.___cxa_is_pointer_type=ot.asm.pa).apply(null,arguments)},ot.UTF8ToString=Ot,ot.stringToUTF8=function(Jt,pn,$n){return Nt(Jt,Pt,pn,$n)},ot.lengthBytesUTF8=It,ot.stackSave=tr,ot.stackRestore=cr,ot.stackAlloc=rr,rn=function Jt(){or||Vn(),or||(rn=Jt)},ot.preInit)for(typeof ot.preInit=="function"&&(ot.preInit=[ot.preInit]);0<ot.preInit.length;)ot.preInit.pop()();return Vn(),it.ready});_e.exports=rt},4537:_e=>{_e.exports=function(et,tt){for(var nt=new Array(arguments.length-1),rt=0,it=2,ot=!0;it<arguments.length;)nt[rt++]=arguments[it++];return new Promise(function(st,ut){nt[rt]=function(ft){if(ot)if(ot=!1,ft)ut(ft);else{for(var dt=new Array(arguments.length-1),lt=0;lt<dt.length;)dt[lt++]=arguments[lt];st.apply(null,dt)}};try{et.apply(tt||null,nt)}catch(ft){ot&&(ot=!1,ut(ft))}})}},7419:(_e,et)=>{var tt=et;tt.length=function(st){var ut=st.length;if(!ut)return 0;for(var ft=0;--ut%4>1&&st.charAt(ut)==="=";)++ft;return Math.ceil(3*st.length)/4-ft};for(var nt=new Array(64),rt=new Array(123),it=0;it<64;)rt[nt[it]=it<26?it+65:it<52?it+71:it<62?it-4:it-59|43]=it++;tt.encode=function(st,ut,ft){for(var dt,lt=null,at=[],ct=0,ht=0;ut<ft;){var pt=st[ut++];switch(ht){case 0:at[ct++]=nt[pt>>2],dt=(3&pt)<<4,ht=1;break;case 1:at[ct++]=nt[dt|pt>>4],dt=(15&pt)<<2,ht=2;break;case 2:at[ct++]=nt[dt|pt>>6],at[ct++]=nt[63&pt],ht=0}ct>8191&&((lt||(lt=[])).push(String.fromCharCode.apply(String,at)),ct=0)}return ht&&(at[ct++]=nt[dt],at[ct++]=61,ht===1&&(at[ct++]=61)),lt?(ct&&lt.push(String.fromCharCode.apply(String,at.slice(0,ct))),lt.join("")):String.fromCharCode.apply(String,at.slice(0,ct))};var ot="invalid encoding";tt.decode=function(st,ut,ft){for(var dt,lt=ft,at=0,ct=0;ct<st.length;){var ht=st.charCodeAt(ct++);if(ht===61&&at>1)break;if((ht=rt[ht])===void 0)throw Error(ot);switch(at){case 0:dt=ht,at=1;break;case 1:ut[ft++]=dt<<2|(48&ht)>>4,dt=ht,at=2;break;case 2:ut[ft++]=(15&dt)<<4|(60&ht)>>2,dt=ht,at=3;break;case 3:ut[ft++]=(3&dt)<<6|ht,at=0}}if(at===1)throw Error(ot);return ft-lt},tt.test=function(st){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(st)}},9211:_e=>{function et(){this._listeners={}}_e.exports=et,et.prototype.on=function(tt,nt,rt){return(this._listeners[tt]||(this._listeners[tt]=[])).push({fn:nt,ctx:rt||this}),this},et.prototype.off=function(tt,nt){if(tt===void 0)this._listeners={};else if(nt===void 0)this._listeners[tt]=[];else for(var rt=this._listeners[tt],it=0;it<rt.length;)rt[it].fn===nt?rt.splice(it,1):++it;return this},et.prototype.emit=function(tt){var nt=this._listeners[tt];if(nt){for(var rt=[],it=1;it<arguments.length;)rt.push(arguments[it++]);for(it=0;it<nt.length;)nt[it].fn.apply(nt[it++].ctx,rt)}return this}},945:_e=>{function et(ot){return typeof Float32Array<"u"?function(){var st=new Float32Array([-0]),ut=new Uint8Array(st.buffer),ft=ut[3]===128;function dt(ht,pt,mt){st[0]=ht,pt[mt]=ut[0],pt[mt+1]=ut[1],pt[mt+2]=ut[2],pt[mt+3]=ut[3]}function lt(ht,pt,mt){st[0]=ht,pt[mt]=ut[3],pt[mt+1]=ut[2],pt[mt+2]=ut[1],pt[mt+3]=ut[0]}function at(ht,pt){return ut[0]=ht[pt],ut[1]=ht[pt+1],ut[2]=ht[pt+2],ut[3]=ht[pt+3],st[0]}function ct(ht,pt){return ut[3]=ht[pt],ut[2]=ht[pt+1],ut[1]=ht[pt+2],ut[0]=ht[pt+3],st[0]}ot.writeFloatLE=ft?dt:lt,ot.writeFloatBE=ft?lt:dt,ot.readFloatLE=ft?at:ct,ot.readFloatBE=ft?ct:at}():function(){function st(ft,dt,lt,at){var ct=dt<0?1:0;if(ct&&(dt=-dt),dt===0)ft(1/dt>0?0:2147483648,lt,at);else if(isNaN(dt))ft(2143289344,lt,at);else if(dt>34028234663852886e22)ft((ct<<31|2139095040)>>>0,lt,at);else if(dt<11754943508222875e-54)ft((ct<<31|Math.round(dt/1401298464324817e-60))>>>0,lt,at);else{var ht=Math.floor(Math.log(dt)/Math.LN2);ft((ct<<31|ht+127<<23|8388607&Math.round(dt*Math.pow(2,-ht)*8388608))>>>0,lt,at)}}function ut(ft,dt,lt){var at=ft(dt,lt),ct=2*(at>>31)+1,ht=at>>>23&255,pt=8388607&at;return ht===255?pt?NaN:ct*(1/0):ht===0?1401298464324817e-60*ct*pt:ct*Math.pow(2,ht-150)*(pt+8388608)}ot.writeFloatLE=st.bind(null,tt),ot.writeFloatBE=st.bind(null,nt),ot.readFloatLE=ut.bind(null,rt),ot.readFloatBE=ut.bind(null,it)}(),typeof Float64Array<"u"?function(){var st=new Float64Array([-0]),ut=new Uint8Array(st.buffer),ft=ut[7]===128;function dt(ht,pt,mt){st[0]=ht,pt[mt]=ut[0],pt[mt+1]=ut[1],pt[mt+2]=ut[2],pt[mt+3]=ut[3],pt[mt+4]=ut[4],pt[mt+5]=ut[5],pt[mt+6]=ut[6],pt[mt+7]=ut[7]}function lt(ht,pt,mt){st[0]=ht,pt[mt]=ut[7],pt[mt+1]=ut[6],pt[mt+2]=ut[5],pt[mt+3]=ut[4],pt[mt+4]=ut[3],pt[mt+5]=ut[2],pt[mt+6]=ut[1],pt[mt+7]=ut[0]}function at(ht,pt){return ut[0]=ht[pt],ut[1]=ht[pt+1],ut[2]=ht[pt+2],ut[3]=ht[pt+3],ut[4]=ht[pt+4],ut[5]=ht[pt+5],ut[6]=ht[pt+6],ut[7]=ht[pt+7],st[0]}function ct(ht,pt){return ut[7]=ht[pt],ut[6]=ht[pt+1],ut[5]=ht[pt+2],ut[4]=ht[pt+3],ut[3]=ht[pt+4],ut[2]=ht[pt+5],ut[1]=ht[pt+6],ut[0]=ht[pt+7],st[0]}ot.writeDoubleLE=ft?dt:lt,ot.writeDoubleBE=ft?lt:dt,ot.readDoubleLE=ft?at:ct,ot.readDoubleBE=ft?ct:at}():function(){function st(ft,dt,lt,at,ct,ht){var pt=at<0?1:0;if(pt&&(at=-at),at===0)ft(0,ct,ht+dt),ft(1/at>0?0:2147483648,ct,ht+lt);else if(isNaN(at))ft(0,ct,ht+dt),ft(2146959360,ct,ht+lt);else if(at>17976931348623157e292)ft(0,ct,ht+dt),ft((pt<<31|2146435072)>>>0,ct,ht+lt);else{var mt;if(at<22250738585072014e-324)ft((mt=at/5e-324)>>>0,ct,ht+dt),ft((pt<<31|mt/4294967296)>>>0,ct,ht+lt);else{var gt=Math.floor(Math.log(at)/Math.LN2);gt===1024&&(gt=1023),ft(4503599627370496*(mt=at*Math.pow(2,-gt))>>>0,ct,ht+dt),ft((pt<<31|gt+1023<<20|1048576*mt&1048575)>>>0,ct,ht+lt)}}}function ut(ft,dt,lt,at,ct){var ht=ft(at,ct+dt),pt=ft(at,ct+lt),mt=2*(pt>>31)+1,gt=pt>>>20&2047,yt=4294967296*(1048575&pt)+ht;return gt===2047?yt?NaN:mt*(1/0):gt===0?5e-324*mt*yt:mt*Math.pow(2,gt-1075)*(yt+4503599627370496)}ot.writeDoubleLE=st.bind(null,tt,0,4),ot.writeDoubleBE=st.bind(null,nt,4,0),ot.readDoubleLE=ut.bind(null,rt,0,4),ot.readDoubleBE=ut.bind(null,it,4,0)}(),ot}function tt(ot,st,ut){st[ut]=255&ot,st[ut+1]=ot>>>8&255,st[ut+2]=ot>>>16&255,st[ut+3]=ot>>>24}function nt(ot,st,ut){st[ut]=ot>>>24,st[ut+1]=ot>>>16&255,st[ut+2]=ot>>>8&255,st[ut+3]=255&ot}function rt(ot,st){return(ot[st]|ot[st+1]<<8|ot[st+2]<<16|ot[st+3]<<24)>>>0}function it(ot,st){return(ot[st]<<24|ot[st+1]<<16|ot[st+2]<<8|ot[st+3])>>>0}_e.exports=et(et)},7199:module=>{function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(_e){}return null}module.exports=inquire},6662:_e=>{_e.exports=function(et,tt,nt){var rt=nt||8192,it=rt>>>1,ot=null,st=rt;return function(ut){if(ut<1||ut>it)return et(ut);st+ut>rt&&(ot=et(rt),st=0);var ft=tt.call(ot,st,st+=ut);return 7&st&&(st=1+(7|st)),ft}}},4997:(_e,et)=>{var tt=et;tt.length=function(nt){for(var rt=0,it=0,ot=0;ot<nt.length;++ot)(it=nt.charCodeAt(ot))<128?rt+=1:it<2048?rt+=2:(64512&it)==55296&&(64512&nt.charCodeAt(ot+1))==56320?(++ot,rt+=4):rt+=3;return rt},tt.read=function(nt,rt,it){if(it-rt<1)return"";for(var ot,st=null,ut=[],ft=0;rt<it;)(ot=nt[rt++])<128?ut[ft++]=ot:ot>191&&ot<224?ut[ft++]=(31&ot)<<6|63&nt[rt++]:ot>239&&ot<365?(ot=((7&ot)<<18|(63&nt[rt++])<<12|(63&nt[rt++])<<6|63&nt[rt++])-65536,ut[ft++]=55296+(ot>>10),ut[ft++]=56320+(1023&ot)):ut[ft++]=(15&ot)<<12|(63&nt[rt++])<<6|63&nt[rt++],ft>8191&&((st||(st=[])).push(String.fromCharCode.apply(String,ut)),ft=0);return st?(ft&&st.push(String.fromCharCode.apply(String,ut.slice(0,ft))),st.join("")):String.fromCharCode.apply(String,ut.slice(0,ft))},tt.write=function(nt,rt,it){for(var ot,st,ut=it,ft=0;ft<nt.length;++ft)(ot=nt.charCodeAt(ft))<128?rt[it++]=ot:ot<2048?(rt[it++]=ot>>6|192,rt[it++]=63&ot|128):(64512&ot)==55296&&(64512&(st=nt.charCodeAt(ft+1)))==56320?(ot=65536+((1023&ot)<<10)+(1023&st),++ft,rt[it++]=ot>>18|240,rt[it++]=ot>>12&63|128,rt[it++]=ot>>6&63|128,rt[it++]=63&ot|128):(rt[it++]=ot>>12|224,rt[it++]=ot>>6&63|128,rt[it++]=63&ot|128);return it-ut}},3442:(_e,et)=>{et.__esModule=!0;var tt=function(){function nt(rt){if(!rt)throw new TypeError("Invalid argument; `value` has no value.");this.value=nt.EMPTY,rt&&nt.isGuid(rt)&&(this.value=rt)}return nt.isGuid=function(rt){var it=rt.toString();return rt&&(rt instanceof nt||nt.validator.test(it))},nt.create=function(){return new nt([nt.gen(2),nt.gen(1),nt.gen(1),nt.gen(1),nt.gen(3)].join("-"))},nt.createEmpty=function(){return new nt("emptyguid")},nt.parse=function(rt){return new nt(rt)},nt.raw=function(){return[nt.gen(2),nt.gen(1),nt.gen(1),nt.gen(1),nt.gen(3)].join("-")},nt.gen=function(rt){for(var it="",ot=0;ot<rt;ot++)it+=(65536*(1+Math.random())|0).toString(16).substring(1);return it},nt.prototype.equals=function(rt){return nt.isGuid(rt)&&this.value===rt.toString()},nt.prototype.isEmpty=function(){return this.value===nt.EMPTY},nt.prototype.toString=function(){return this.value},nt.prototype.toJSON=function(){return{value:this.value}},nt.validator=new RegExp("^[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}$","i"),nt.EMPTY="00000000-0000-0000-0000-000000000000",nt}();et.Guid=tt},3720:_e=>{_e.exports=tt;var et=null;try{et=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function tt(Et,$t,jt){this.low=0|Et,this.high=0|$t,this.unsigned=!!jt}function nt(Et){return(Et&&Et.__isLong__)===!0}tt.prototype.__isLong__,Object.defineProperty(tt.prototype,"__isLong__",{value:!0}),tt.isLong=nt;var rt={},it={};function ot(Et,$t){var jt,Dt,Pt;return $t?(Pt=0<=(Et>>>=0)&&Et<256)&&(Dt=it[Et])?Dt:(jt=ut(Et,(0|Et)<0?-1:0,!0),Pt&&(it[Et]=jt),jt):(Pt=-128<=(Et|=0)&&Et<128)&&(Dt=rt[Et])?Dt:(jt=ut(Et,Et<0?-1:0,!1),Pt&&(rt[Et]=jt),jt)}function st(Et,$t){if(isNaN(Et))return $t?gt:mt;if($t){if(Et<0)return gt;if(Et>=ct)return wt}else{if(Et<=-ht)return _t;if(Et+1>=ht)return vt}return Et<0?st(-Et,$t).neg():ut(Et%at|0,Et/at|0,$t)}function ut(Et,$t,jt){return new tt(Et,$t,jt)}tt.fromInt=ot,tt.fromNumber=st,tt.fromBits=ut;var ft=Math.pow;function dt(Et,$t,jt){if(Et.length===0)throw Error("empty string");if(Et==="NaN"||Et==="Infinity"||Et==="+Infinity"||Et==="-Infinity")return mt;if(typeof $t=="number"?(jt=$t,$t=!1):$t=!!$t,(jt=jt||10)<2||36<jt)throw RangeError("radix");var Dt;if((Dt=Et.indexOf("-"))>0)throw Error("interior hyphen");if(Dt===0)return dt(Et.substring(1),$t,jt).neg();for(var Pt=st(ft(jt,8)),kt=mt,At=0;At<Et.length;At+=8){var Tt=Math.min(8,Et.length-At),St=parseInt(Et.substring(At,At+Tt),jt);if(Tt<8){var Rt=st(ft(jt,Tt));kt=kt.mul(Rt).add(st(St))}else kt=(kt=kt.mul(Pt)).add(st(St))}return kt.unsigned=$t,kt}function lt(Et,$t){return typeof Et=="number"?st(Et,$t):typeof Et=="string"?dt(Et,$t):ut(Et.low,Et.high,typeof $t=="boolean"?$t:Et.unsigned)}tt.fromString=dt,tt.fromValue=lt;var at=4294967296,ct=at*at,ht=ct/2,pt=ot(1<<24),mt=ot(0);tt.ZERO=mt;var gt=ot(0,!0);tt.UZERO=gt;var yt=ot(1);tt.ONE=yt;var bt=ot(1,!0);tt.UONE=bt;var xt=ot(-1);tt.NEG_ONE=xt;var vt=ut(-1,2147483647,!1);tt.MAX_VALUE=vt;var wt=ut(-1,-1,!0);tt.MAX_UNSIGNED_VALUE=wt;var _t=ut(0,-2147483648,!1);tt.MIN_VALUE=_t;var Ct=tt.prototype;Ct.toInt=function(){return this.unsigned?this.low>>>0:this.low},Ct.toNumber=function(){return this.unsigned?(this.high>>>0)*at+(this.low>>>0):this.high*at+(this.low>>>0)},Ct.toString=function(Et){if((Et=Et||10)<2||36<Et)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(_t)){var $t=st(Et),jt=this.div($t),Dt=jt.mul($t).sub(this);return jt.toString(Et)+Dt.toInt().toString(Et)}return"-"+this.neg().toString(Et)}for(var Pt=st(ft(Et,6),this.unsigned),kt=this,At="";;){var Tt=kt.div(Pt),St=(kt.sub(Tt.mul(Pt)).toInt()>>>0).toString(Et);if((kt=Tt).isZero())return St+At;for(;St.length<6;)St="0"+St;At=""+St+At}},Ct.getHighBits=function(){return this.high},Ct.getHighBitsUnsigned=function(){return this.high>>>0},Ct.getLowBits=function(){return this.low},Ct.getLowBitsUnsigned=function(){return this.low>>>0},Ct.getNumBitsAbs=function(){if(this.isNegative())return this.eq(_t)?64:this.neg().getNumBitsAbs();for(var Et=this.high!=0?this.high:this.low,$t=31;$t>0&&!(Et&1<<$t);$t--);return this.high!=0?$t+33:$t+1},Ct.isZero=function(){return this.high===0&&this.low===0},Ct.eqz=Ct.isZero,Ct.isNegative=function(){return!this.unsigned&&this.high<0},Ct.isPositive=function(){return this.unsigned||this.high>=0},Ct.isOdd=function(){return(1&this.low)==1},Ct.isEven=function(){return(1&this.low)==0},Ct.equals=function(Et){return nt(Et)||(Et=lt(Et)),(this.unsigned===Et.unsigned||this.high>>>31!=1||Et.high>>>31!=1)&&this.high===Et.high&&this.low===Et.low},Ct.eq=Ct.equals,Ct.notEquals=function(Et){return!this.eq(Et)},Ct.neq=Ct.notEquals,Ct.ne=Ct.notEquals,Ct.lessThan=function(Et){return this.comp(Et)<0},Ct.lt=Ct.lessThan,Ct.lessThanOrEqual=function(Et){return this.comp(Et)<=0},Ct.lte=Ct.lessThanOrEqual,Ct.le=Ct.lessThanOrEqual,Ct.greaterThan=function(Et){return this.comp(Et)>0},Ct.gt=Ct.greaterThan,Ct.greaterThanOrEqual=function(Et){return this.comp(Et)>=0},Ct.gte=Ct.greaterThanOrEqual,Ct.ge=Ct.greaterThanOrEqual,Ct.compare=function(Et){if(nt(Et)||(Et=lt(Et)),this.eq(Et))return 0;var $t=this.isNegative(),jt=Et.isNegative();return $t&&!jt?-1:!$t&&jt?1:this.unsigned?Et.high>>>0>this.high>>>0||Et.high===this.high&&Et.low>>>0>this.low>>>0?-1:1:this.sub(Et).isNegative()?-1:1},Ct.comp=Ct.compare,Ct.negate=function(){return!this.unsigned&&this.eq(_t)?_t:this.not().add(yt)},Ct.neg=Ct.negate,Ct.add=function(Et){nt(Et)||(Et=lt(Et));var $t=this.high>>>16,jt=65535&this.high,Dt=this.low>>>16,Pt=65535&this.low,kt=Et.high>>>16,At=65535&Et.high,Tt=Et.low>>>16,St=0,Rt=0,Ot=0,Nt=0;return Ot+=(Nt+=Pt+(65535&Et.low))>>>16,Rt+=(Ot+=Dt+Tt)>>>16,St+=(Rt+=jt+At)>>>16,St+=$t+kt,ut((Ot&=65535)<<16|(Nt&=65535),(St&=65535)<<16|(Rt&=65535),this.unsigned)},Ct.subtract=function(Et){return nt(Et)||(Et=lt(Et)),this.add(Et.neg())},Ct.sub=Ct.subtract,Ct.multiply=function(Et){if(this.isZero())return mt;if(nt(Et)||(Et=lt(Et)),et)return ut(et.mul(this.low,this.high,Et.low,Et.high),et.get_high(),this.unsigned);if(Et.isZero())return mt;if(this.eq(_t))return Et.isOdd()?_t:mt;if(Et.eq(_t))return this.isOdd()?_t:mt;if(this.isNegative())return Et.isNegative()?this.neg().mul(Et.neg()):this.neg().mul(Et).neg();if(Et.isNegative())return this.mul(Et.neg()).neg();if(this.lt(pt)&&Et.lt(pt))return st(this.toNumber()*Et.toNumber(),this.unsigned);var $t=this.high>>>16,jt=65535&this.high,Dt=this.low>>>16,Pt=65535&this.low,kt=Et.high>>>16,At=65535&Et.high,Tt=Et.low>>>16,St=65535&Et.low,Rt=0,Ot=0,Nt=0,It=0;return Nt+=(It+=Pt*St)>>>16,Ot+=(Nt+=Dt*St)>>>16,Nt&=65535,Ot+=(Nt+=Pt*Tt)>>>16,Rt+=(Ot+=jt*St)>>>16,Ot&=65535,Rt+=(Ot+=Dt*Tt)>>>16,Ot&=65535,Rt+=(Ot+=Pt*At)>>>16,Rt+=$t*St+jt*Tt+Dt*At+Pt*kt,ut((Nt&=65535)<<16|(It&=65535),(Rt&=65535)<<16|(Ot&=65535),this.unsigned)},Ct.mul=Ct.multiply,Ct.divide=function(Et){if(nt(Et)||(Et=lt(Et)),Et.isZero())throw Error("division by zero");var $t,jt,Dt;if(et)return this.unsigned||this.high!==-2147483648||Et.low!==-1||Et.high!==-1?ut((this.unsigned?et.div_u:et.div_s)(this.low,this.high,Et.low,Et.high),et.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?gt:mt;if(this.unsigned){if(Et.unsigned||(Et=Et.toUnsigned()),Et.gt(this))return gt;if(Et.gt(this.shru(1)))return bt;Dt=gt}else{if(this.eq(_t))return Et.eq(yt)||Et.eq(xt)?_t:Et.eq(_t)?yt:($t=this.shr(1).div(Et).shl(1)).eq(mt)?Et.isNegative()?yt:xt:(jt=this.sub(Et.mul($t)),Dt=$t.add(jt.div(Et)));if(Et.eq(_t))return this.unsigned?gt:mt;if(this.isNegative())return Et.isNegative()?this.neg().div(Et.neg()):this.neg().div(Et).neg();if(Et.isNegative())return this.div(Et.neg()).neg();Dt=mt}for(jt=this;jt.gte(Et);){$t=Math.max(1,Math.floor(jt.toNumber()/Et.toNumber()));for(var Pt=Math.ceil(Math.log($t)/Math.LN2),kt=Pt<=48?1:ft(2,Pt-48),At=st($t),Tt=At.mul(Et);Tt.isNegative()||Tt.gt(jt);)Tt=(At=st($t-=kt,this.unsigned)).mul(Et);At.isZero()&&(At=yt),Dt=Dt.add(At),jt=jt.sub(Tt)}return Dt},Ct.div=Ct.divide,Ct.modulo=function(Et){return nt(Et)||(Et=lt(Et)),et?ut((this.unsigned?et.rem_u:et.rem_s)(this.low,this.high,Et.low,Et.high),et.get_high(),this.unsigned):this.sub(this.div(Et).mul(Et))},Ct.mod=Ct.modulo,Ct.rem=Ct.modulo,Ct.not=function(){return ut(~this.low,~this.high,this.unsigned)},Ct.and=function(Et){return nt(Et)||(Et=lt(Et)),ut(this.low&Et.low,this.high&Et.high,this.unsigned)},Ct.or=function(Et){return nt(Et)||(Et=lt(Et)),ut(this.low|Et.low,this.high|Et.high,this.unsigned)},Ct.xor=function(Et){return nt(Et)||(Et=lt(Et)),ut(this.low^Et.low,this.high^Et.high,this.unsigned)},Ct.shiftLeft=function(Et){return nt(Et)&&(Et=Et.toInt()),(Et&=63)==0?this:Et<32?ut(this.low<<Et,this.high<<Et|this.low>>>32-Et,this.unsigned):ut(0,this.low<<Et-32,this.unsigned)},Ct.shl=Ct.shiftLeft,Ct.shiftRight=function(Et){return nt(Et)&&(Et=Et.toInt()),(Et&=63)==0?this:Et<32?ut(this.low>>>Et|this.high<<32-Et,this.high>>Et,this.unsigned):ut(this.high>>Et-32,this.high>=0?0:-1,this.unsigned)},Ct.shr=Ct.shiftRight,Ct.shiftRightUnsigned=function(Et){if(nt(Et)&&(Et=Et.toInt()),(Et&=63)==0)return this;var $t=this.high;return Et<32?ut(this.low>>>Et|$t<<32-Et,$t>>>Et,this.unsigned):ut(Et===32?$t:$t>>>Et-32,0,this.unsigned)},Ct.shru=Ct.shiftRightUnsigned,Ct.shr_u=Ct.shiftRightUnsigned,Ct.toSigned=function(){return this.unsigned?ut(this.low,this.high,!1):this},Ct.toUnsigned=function(){return this.unsigned?this:ut(this.low,this.high,!0)},Ct.toBytes=function(Et){return Et?this.toBytesLE():this.toBytesBE()},Ct.toBytesLE=function(){var Et=this.high,$t=this.low;return[255&$t,$t>>>8&255,$t>>>16&255,$t>>>24,255&Et,Et>>>8&255,Et>>>16&255,Et>>>24]},Ct.toBytesBE=function(){var Et=this.high,$t=this.low;return[Et>>>24,Et>>>16&255,Et>>>8&255,255&Et,$t>>>24,$t>>>16&255,$t>>>8&255,255&$t]},tt.fromBytes=function(Et,$t,jt){return jt?tt.fromBytesLE(Et,$t):tt.fromBytesBE(Et,$t)},tt.fromBytesLE=function(Et,$t){return new tt(Et[0]|Et[1]<<8|Et[2]<<16|Et[3]<<24,Et[4]|Et[5]<<8|Et[6]<<16|Et[7]<<24,$t)},tt.fromBytesBE=function(Et,$t){return new tt(Et[4]<<24|Et[5]<<16|Et[6]<<8|Et[7],Et[0]<<24|Et[1]<<16|Et[2]<<8|Et[3],$t)}},1446:(_e,et,tt)=>{var nt,rt,it,ot=tt(2100),st=ot.Reader,ut=ot.Writer,ft=ot.util,dt=ot.roots.default||(ot.roots.default={});dt.onnx=((it={}).Version=(nt={},(rt=Object.create(nt))[nt[0]="_START_VERSION"]=0,rt[nt[1]="IR_VERSION_2017_10_10"]=1,rt[nt[2]="IR_VERSION_2017_10_30"]=2,rt[nt[3]="IR_VERSION_2017_11_3"]=3,rt[nt[4]="IR_VERSION_2019_1_22"]=4,rt[nt[5]="IR_VERSION"]=5,rt),it.AttributeProto=function(){function lt(at){if(this.floats=[],this.ints=[],this.strings=[],this.tensors=[],this.graphs=[],at)for(var ct=Object.keys(at),ht=0;ht<ct.length;++ht)at[ct[ht]]!=null&&(this[ct[ht]]=at[ct[ht]])}return lt.prototype.name="",lt.prototype.refAttrName="",lt.prototype.docString="",lt.prototype.type=0,lt.prototype.f=0,lt.prototype.i=ft.Long?ft.Long.fromBits(0,0,!1):0,lt.prototype.s=ft.newBuffer([]),lt.prototype.t=null,lt.prototype.g=null,lt.prototype.floats=ft.emptyArray,lt.prototype.ints=ft.emptyArray,lt.prototype.strings=ft.emptyArray,lt.prototype.tensors=ft.emptyArray,lt.prototype.graphs=ft.emptyArray,lt.create=function(at){return new lt(at)},lt.encode=function(at,ct){if(ct||(ct=ut.create()),at.name!=null&&at.hasOwnProperty("name")&&ct.uint32(10).string(at.name),at.f!=null&&at.hasOwnProperty("f")&&ct.uint32(21).float(at.f),at.i!=null&&at.hasOwnProperty("i")&&ct.uint32(24).int64(at.i),at.s!=null&&at.hasOwnProperty("s")&&ct.uint32(34).bytes(at.s),at.t!=null&&at.hasOwnProperty("t")&&dt.onnx.TensorProto.encode(at.t,ct.uint32(42).fork()).ldelim(),at.g!=null&&at.hasOwnProperty("g")&&dt.onnx.GraphProto.encode(at.g,ct.uint32(50).fork()).ldelim(),at.floats!=null&&at.floats.length){ct.uint32(58).fork();for(var ht=0;ht<at.floats.length;++ht)ct.float(at.floats[ht]);ct.ldelim()}if(at.ints!=null&&at.ints.length){for(ct.uint32(66).fork(),ht=0;ht<at.ints.length;++ht)ct.int64(at.ints[ht]);ct.ldelim()}if(at.strings!=null&&at.strings.length)for(ht=0;ht<at.strings.length;++ht)ct.uint32(74).bytes(at.strings[ht]);if(at.tensors!=null&&at.tensors.length)for(ht=0;ht<at.tensors.length;++ht)dt.onnx.TensorProto.encode(at.tensors[ht],ct.uint32(82).fork()).ldelim();if(at.graphs!=null&&at.graphs.length)for(ht=0;ht<at.graphs.length;++ht)dt.onnx.GraphProto.encode(at.graphs[ht],ct.uint32(90).fork()).ldelim();return at.docString!=null&&at.hasOwnProperty("docString")&&ct.uint32(106).string(at.docString),at.type!=null&&at.hasOwnProperty("type")&&ct.uint32(160).int32(at.type),at.refAttrName!=null&&at.hasOwnProperty("refAttrName")&&ct.uint32(170).string(at.refAttrName),ct},lt.encodeDelimited=function(at,ct){return this.encode(at,ct).ldelim()},lt.decode=function(at,ct){at instanceof st||(at=st.create(at));for(var ht=ct===void 0?at.len:at.pos+ct,pt=new dt.onnx.AttributeProto;at.pos<ht;){var mt=at.uint32();switch(mt>>>3){case 1:pt.name=at.string();break;case 21:pt.refAttrName=at.string();break;case 13:pt.docString=at.string();break;case 20:pt.type=at.int32();break;case 2:pt.f=at.float();break;case 3:pt.i=at.int64();break;case 4:pt.s=at.bytes();break;case 5:pt.t=dt.onnx.TensorProto.decode(at,at.uint32());break;case 6:pt.g=dt.onnx.GraphProto.decode(at,at.uint32());break;case 7:if(pt.floats&&pt.floats.length||(pt.floats=[]),(7&mt)==2)for(var gt=at.uint32()+at.pos;at.pos<gt;)pt.floats.push(at.float());else pt.floats.push(at.float());break;case 8:if(pt.ints&&pt.ints.length||(pt.ints=[]),(7&mt)==2)for(gt=at.uint32()+at.pos;at.pos<gt;)pt.ints.push(at.int64());else pt.ints.push(at.int64());break;case 9:pt.strings&&pt.strings.length||(pt.strings=[]),pt.strings.push(at.bytes());break;case 10:pt.tensors&&pt.tensors.length||(pt.tensors=[]),pt.tensors.push(dt.onnx.TensorProto.decode(at,at.uint32()));break;case 11:pt.graphs&&pt.graphs.length||(pt.graphs=[]),pt.graphs.push(dt.onnx.GraphProto.decode(at,at.uint32()));break;default:at.skipType(7&mt)}}return pt},lt.decodeDelimited=function(at){return at instanceof st||(at=new st(at)),this.decode(at,at.uint32())},lt.verify=function(at){if(typeof at!="object"||at===null)return"object expected";if(at.name!=null&&at.hasOwnProperty("name")&&!ft.isString(at.name))return"name: string expected";if(at.refAttrName!=null&&at.hasOwnProperty("refAttrName")&&!ft.isString(at.refAttrName))return"refAttrName: string expected";if(at.docString!=null&&at.hasOwnProperty("docString")&&!ft.isString(at.docString))return"docString: string expected";if(at.type!=null&&at.hasOwnProperty("type"))switch(at.type){default:return"type: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:}if(at.f!=null&&at.hasOwnProperty("f")&&typeof at.f!="number")return"f: number expected";if(at.i!=null&&at.hasOwnProperty("i")&&!(ft.isInteger(at.i)||at.i&&ft.isInteger(at.i.low)&&ft.isInteger(at.i.high)))return"i: integer|Long expected";if(at.s!=null&&at.hasOwnProperty("s")&&!(at.s&&typeof at.s.length=="number"||ft.isString(at.s)))return"s: buffer expected";if(at.t!=null&&at.hasOwnProperty("t")&&(ht=dt.onnx.TensorProto.verify(at.t)))return"t."+ht;if(at.g!=null&&at.hasOwnProperty("g")&&(ht=dt.onnx.GraphProto.verify(at.g)))return"g."+ht;if(at.floats!=null&&at.hasOwnProperty("floats")){if(!Array.isArray(at.floats))return"floats: array expected";for(var ct=0;ct<at.floats.length;++ct)if(typeof at.floats[ct]!="number")return"floats: number[] expected"}if(at.ints!=null&&at.hasOwnProperty("ints")){if(!Array.isArray(at.ints))return"ints: array expected";for(ct=0;ct<at.ints.length;++ct)if(!(ft.isInteger(at.ints[ct])||at.ints[ct]&&ft.isInteger(at.ints[ct].low)&&ft.isInteger(at.ints[ct].high)))return"ints: integer|Long[] expected"}if(at.strings!=null&&at.hasOwnProperty("strings")){if(!Array.isArray(at.strings))return"strings: array expected";for(ct=0;ct<at.strings.length;++ct)if(!(at.strings[ct]&&typeof at.strings[ct].length=="number"||ft.isString(at.strings[ct])))return"strings: buffer[] expected"}if(at.tensors!=null&&at.hasOwnProperty("tensors")){if(!Array.isArray(at.tensors))return"tensors: array expected";for(ct=0;ct<at.tensors.length;++ct)if(ht=dt.onnx.TensorProto.verify(at.tensors[ct]))return"tensors."+ht}if(at.graphs!=null&&at.hasOwnProperty("graphs")){if(!Array.isArray(at.graphs))return"graphs: array expected";for(ct=0;ct<at.graphs.length;++ct){var ht;if(ht=dt.onnx.GraphProto.verify(at.graphs[ct]))return"graphs."+ht}}return null},lt.fromObject=function(at){if(at instanceof dt.onnx.AttributeProto)return at;var ct=new dt.onnx.AttributeProto;switch(at.name!=null&&(ct.name=String(at.name)),at.refAttrName!=null&&(ct.refAttrName=String(at.refAttrName)),at.docString!=null&&(ct.docString=String(at.docString)),at.type){case"UNDEFINED":case 0:ct.type=0;break;case"FLOAT":case 1:ct.type=1;break;case"INT":case 2:ct.type=2;break;case"STRING":case 3:ct.type=3;break;case"TENSOR":case 4:ct.type=4;break;case"GRAPH":case 5:ct.type=5;break;case"FLOATS":case 6:ct.type=6;break;case"INTS":case 7:ct.type=7;break;case"STRINGS":case 8:ct.type=8;break;case"TENSORS":case 9:ct.type=9;break;case"GRAPHS":case 10:ct.type=10}if(at.f!=null&&(ct.f=Number(at.f)),at.i!=null&&(ft.Long?(ct.i=ft.Long.fromValue(at.i)).unsigned=!1:typeof at.i=="string"?ct.i=parseInt(at.i,10):typeof at.i=="number"?ct.i=at.i:typeof at.i=="object"&&(ct.i=new ft.LongBits(at.i.low>>>0,at.i.high>>>0).toNumber())),at.s!=null&&(typeof at.s=="string"?ft.base64.decode(at.s,ct.s=ft.newBuffer(ft.base64.length(at.s)),0):at.s.length&&(ct.s=at.s)),at.t!=null){if(typeof at.t!="object")throw TypeError(".onnx.AttributeProto.t: object expected");ct.t=dt.onnx.TensorProto.fromObject(at.t)}if(at.g!=null){if(typeof at.g!="object")throw TypeError(".onnx.AttributeProto.g: object expected");ct.g=dt.onnx.GraphProto.fromObject(at.g)}if(at.floats){if(!Array.isArray(at.floats))throw TypeError(".onnx.AttributeProto.floats: array expected");ct.floats=[];for(var ht=0;ht<at.floats.length;++ht)ct.floats[ht]=Number(at.floats[ht])}if(at.ints){if(!Array.isArray(at.ints))throw TypeError(".onnx.AttributeProto.ints: array expected");for(ct.ints=[],ht=0;ht<at.ints.length;++ht)ft.Long?(ct.ints[ht]=ft.Long.fromValue(at.ints[ht])).unsigned=!1:typeof at.ints[ht]=="string"?ct.ints[ht]=parseInt(at.ints[ht],10):typeof at.ints[ht]=="number"?ct.ints[ht]=at.ints[ht]:typeof at.ints[ht]=="object"&&(ct.ints[ht]=new ft.LongBits(at.ints[ht].low>>>0,at.ints[ht].high>>>0).toNumber())}if(at.strings){if(!Array.isArray(at.strings))throw TypeError(".onnx.AttributeProto.strings: array expected");for(ct.strings=[],ht=0;ht<at.strings.length;++ht)typeof at.strings[ht]=="string"?ft.base64.decode(at.strings[ht],ct.strings[ht]=ft.newBuffer(ft.base64.length(at.strings[ht])),0):at.strings[ht].length&&(ct.strings[ht]=at.strings[ht])}if(at.tensors){if(!Array.isArray(at.tensors))throw TypeError(".onnx.AttributeProto.tensors: array expected");for(ct.tensors=[],ht=0;ht<at.tensors.length;++ht){if(typeof at.tensors[ht]!="object")throw TypeError(".onnx.AttributeProto.tensors: object expected");ct.tensors[ht]=dt.onnx.TensorProto.fromObject(at.tensors[ht])}}if(at.graphs){if(!Array.isArray(at.graphs))throw TypeError(".onnx.AttributeProto.graphs: array expected");for(ct.graphs=[],ht=0;ht<at.graphs.length;++ht){if(typeof at.graphs[ht]!="object")throw TypeError(".onnx.AttributeProto.graphs: object expected");ct.graphs[ht]=dt.onnx.GraphProto.fromObject(at.graphs[ht])}}return ct},lt.toObject=function(at,ct){ct||(ct={});var ht={};if((ct.arrays||ct.defaults)&&(ht.floats=[],ht.ints=[],ht.strings=[],ht.tensors=[],ht.graphs=[]),ct.defaults){if(ht.name="",ht.f=0,ft.Long){var pt=new ft.Long(0,0,!1);ht.i=ct.longs===String?pt.toString():ct.longs===Number?pt.toNumber():pt}else ht.i=ct.longs===String?"0":0;ct.bytes===String?ht.s="":(ht.s=[],ct.bytes!==Array&&(ht.s=ft.newBuffer(ht.s))),ht.t=null,ht.g=null,ht.docString="",ht.type=ct.enums===String?"UNDEFINED":0,ht.refAttrName=""}if(at.name!=null&&at.hasOwnProperty("name")&&(ht.name=at.name),at.f!=null&&at.hasOwnProperty("f")&&(ht.f=ct.json&&!isFinite(at.f)?String(at.f):at.f),at.i!=null&&at.hasOwnProperty("i")&&(typeof at.i=="number"?ht.i=ct.longs===String?String(at.i):at.i:ht.i=ct.longs===String?ft.Long.prototype.toString.call(at.i):ct.longs===Number?new ft.LongBits(at.i.low>>>0,at.i.high>>>0).toNumber():at.i),at.s!=null&&at.hasOwnProperty("s")&&(ht.s=ct.bytes===String?ft.base64.encode(at.s,0,at.s.length):ct.bytes===Array?Array.prototype.slice.call(at.s):at.s),at.t!=null&&at.hasOwnProperty("t")&&(ht.t=dt.onnx.TensorProto.toObject(at.t,ct)),at.g!=null&&at.hasOwnProperty("g")&&(ht.g=dt.onnx.GraphProto.toObject(at.g,ct)),at.floats&&at.floats.length){ht.floats=[];for(var mt=0;mt<at.floats.length;++mt)ht.floats[mt]=ct.json&&!isFinite(at.floats[mt])?String(at.floats[mt]):at.floats[mt]}if(at.ints&&at.ints.length)for(ht.ints=[],mt=0;mt<at.ints.length;++mt)typeof at.ints[mt]=="number"?ht.ints[mt]=ct.longs===String?String(at.ints[mt]):at.ints[mt]:ht.ints[mt]=ct.longs===String?ft.Long.prototype.toString.call(at.ints[mt]):ct.longs===Number?new ft.LongBits(at.ints[mt].low>>>0,at.ints[mt].high>>>0).toNumber():at.ints[mt];if(at.strings&&at.strings.length)for(ht.strings=[],mt=0;mt<at.strings.length;++mt)ht.strings[mt]=ct.bytes===String?ft.base64.encode(at.strings[mt],0,at.strings[mt].length):ct.bytes===Array?Array.prototype.slice.call(at.strings[mt]):at.strings[mt];if(at.tensors&&at.tensors.length)for(ht.tensors=[],mt=0;mt<at.tensors.length;++mt)ht.tensors[mt]=dt.onnx.TensorProto.toObject(at.tensors[mt],ct);if(at.graphs&&at.graphs.length)for(ht.graphs=[],mt=0;mt<at.graphs.length;++mt)ht.graphs[mt]=dt.onnx.GraphProto.toObject(at.graphs[mt],ct);return at.docString!=null&&at.hasOwnProperty("docString")&&(ht.docString=at.docString),at.type!=null&&at.hasOwnProperty("type")&&(ht.type=ct.enums===String?dt.onnx.AttributeProto.AttributeType[at.type]:at.type),at.refAttrName!=null&&at.hasOwnProperty("refAttrName")&&(ht.refAttrName=at.refAttrName),ht},lt.prototype.toJSON=function(){return this.constructor.toObject(this,ot.util.toJSONOptions)},lt.AttributeType=function(){var at={},ct=Object.create(at);return ct[at[0]="UNDEFINED"]=0,ct[at[1]="FLOAT"]=1,ct[at[2]="INT"]=2,ct[at[3]="STRING"]=3,ct[at[4]="TENSOR"]=4,ct[at[5]="GRAPH"]=5,ct[at[6]="FLOATS"]=6,ct[at[7]="INTS"]=7,ct[at[8]="STRINGS"]=8,ct[at[9]="TENSORS"]=9,ct[at[10]="GRAPHS"]=10,ct}(),lt}(),it.ValueInfoProto=function(){function lt(at){if(at)for(var ct=Object.keys(at),ht=0;ht<ct.length;++ht)at[ct[ht]]!=null&&(this[ct[ht]]=at[ct[ht]])}return lt.prototype.name="",lt.prototype.type=null,lt.prototype.docString="",lt.create=function(at){return new lt(at)},lt.encode=function(at,ct){return ct||(ct=ut.create()),at.name!=null&&at.hasOwnProperty("name")&&ct.uint32(10).string(at.name),at.type!=null&&at.hasOwnProperty("type")&&dt.onnx.TypeProto.encode(at.type,ct.uint32(18).fork()).ldelim(),at.docString!=null&&at.hasOwnProperty("docString")&&ct.uint32(26).string(at.docString),ct},lt.encodeDelimited=function(at,ct){return this.encode(at,ct).ldelim()},lt.decode=function(at,ct){at instanceof st||(at=st.create(at));for(var ht=ct===void 0?at.len:at.pos+ct,pt=new dt.onnx.ValueInfoProto;at.pos<ht;){var mt=at.uint32();switch(mt>>>3){case 1:pt.name=at.string();break;case 2:pt.type=dt.onnx.TypeProto.decode(at,at.uint32());break;case 3:pt.docString=at.string();break;default:at.skipType(7&mt)}}return pt},lt.decodeDelimited=function(at){return at instanceof st||(at=new st(at)),this.decode(at,at.uint32())},lt.verify=function(at){if(typeof at!="object"||at===null)return"object expected";if(at.name!=null&&at.hasOwnProperty("name")&&!ft.isString(at.name))return"name: string expected";if(at.type!=null&&at.hasOwnProperty("type")){var ct=dt.onnx.TypeProto.verify(at.type);if(ct)return"type."+ct}return at.docString!=null&&at.hasOwnProperty("docString")&&!ft.isString(at.docString)?"docString: string expected":null},lt.fromObject=function(at){if(at instanceof dt.onnx.ValueInfoProto)return at;var ct=new dt.onnx.ValueInfoProto;if(at.name!=null&&(ct.name=String(at.name)),at.type!=null){if(typeof at.type!="object")throw TypeError(".onnx.ValueInfoProto.type: object expected");ct.type=dt.onnx.TypeProto.fromObject(at.type)}return at.docString!=null&&(ct.docString=String(at.docString)),ct},lt.toObject=function(at,ct){ct||(ct={});var ht={};return ct.defaults&&(ht.name="",ht.type=null,ht.docString=""),at.name!=null&&at.hasOwnProperty("name")&&(ht.name=at.name),at.type!=null&&at.hasOwnProperty("type")&&(ht.type=dt.onnx.TypeProto.toObject(at.type,ct)),at.docString!=null&&at.hasOwnProperty("docString")&&(ht.docString=at.docString),ht},lt.prototype.toJSON=function(){return this.constructor.toObject(this,ot.util.toJSONOptions)},lt}(),it.NodeProto=function(){function lt(at){if(this.input=[],this.output=[],this.attribute=[],at)for(var ct=Object.keys(at),ht=0;ht<ct.length;++ht)at[ct[ht]]!=null&&(this[ct[ht]]=at[ct[ht]])}return lt.prototype.input=ft.emptyArray,lt.prototype.output=ft.emptyArray,lt.prototype.name="",lt.prototype.opType="",lt.prototype.domain="",lt.prototype.attribute=ft.emptyArray,lt.prototype.docString="",lt.create=function(at){return new lt(at)},lt.encode=function(at,ct){if(ct||(ct=ut.create()),at.input!=null&&at.input.length)for(var ht=0;ht<at.input.length;++ht)ct.uint32(10).string(at.input[ht]);if(at.output!=null&&at.output.length)for(ht=0;ht<at.output.length;++ht)ct.uint32(18).string(at.output[ht]);if(at.name!=null&&at.hasOwnProperty("name")&&ct.uint32(26).string(at.name),at.opType!=null&&at.hasOwnProperty("opType")&&ct.uint32(34).string(at.opType),at.attribute!=null&&at.attribute.length)for(ht=0;ht<at.attribute.length;++ht)dt.onnx.AttributeProto.encode(at.attribute[ht],ct.uint32(42).fork()).ldelim();return at.docString!=null&&at.hasOwnProperty("docString")&&ct.uint32(50).string(at.docString),at.domain!=null&&at.hasOwnProperty("domain")&&ct.uint32(58).string(at.domain),ct},lt.encodeDelimited=function(at,ct){return this.encode(at,ct).ldelim()},lt.decode=function(at,ct){at instanceof st||(at=st.create(at));for(var ht=ct===void 0?at.len:at.pos+ct,pt=new dt.onnx.NodeProto;at.pos<ht;){var mt=at.uint32();switch(mt>>>3){case 1:pt.input&&pt.input.length||(pt.input=[]),pt.input.push(at.string());break;case 2:pt.output&&pt.output.length||(pt.output=[]),pt.output.push(at.string());break;case 3:pt.name=at.string();break;case 4:pt.opType=at.string();break;case 7:pt.domain=at.string();break;case 5:pt.attribute&&pt.attribute.length||(pt.attribute=[]),pt.attribute.push(dt.onnx.AttributeProto.decode(at,at.uint32()));break;case 6:pt.docString=at.string();break;default:at.skipType(7&mt)}}return pt},lt.decodeDelimited=function(at){return at instanceof st||(at=new st(at)),this.decode(at,at.uint32())},lt.verify=function(at){if(typeof at!="object"||at===null)return"object expected";if(at.input!=null&&at.hasOwnProperty("input")){if(!Array.isArray(at.input))return"input: array expected";for(var ct=0;ct<at.input.length;++ct)if(!ft.isString(at.input[ct]))return"input: string[] expected"}if(at.output!=null&&at.hasOwnProperty("output")){if(!Array.isArray(at.output))return"output: array expected";for(ct=0;ct<at.output.length;++ct)if(!ft.isString(at.output[ct]))return"output: string[] expected"}if(at.name!=null&&at.hasOwnProperty("name")&&!ft.isString(at.name))return"name: string expected";if(at.opType!=null&&at.hasOwnProperty("opType")&&!ft.isString(at.opType))return"opType: string expected";if(at.domain!=null&&at.hasOwnProperty("domain")&&!ft.isString(at.domain))return"domain: string expected";if(at.attribute!=null&&at.hasOwnProperty("attribute")){if(!Array.isArray(at.attribute))return"attribute: array expected";for(ct=0;ct<at.attribute.length;++ct){var ht=dt.onnx.AttributeProto.verify(at.attribute[ct]);if(ht)return"attribute."+ht}}return at.docString!=null&&at.hasOwnProperty("docString")&&!ft.isString(at.docString)?"docString: string expected":null},lt.fromObject=function(at){if(at instanceof dt.onnx.NodeProto)return at;var ct=new dt.onnx.NodeProto;if(at.input){if(!Array.isArray(at.input))throw TypeError(".onnx.NodeProto.input: array expected");ct.input=[];for(var ht=0;ht<at.input.length;++ht)ct.input[ht]=String(at.input[ht])}if(at.output){if(!Array.isArray(at.output))throw TypeError(".onnx.NodeProto.output: array expected");for(ct.output=[],ht=0;ht<at.output.length;++ht)ct.output[ht]=String(at.output[ht])}if(at.name!=null&&(ct.name=String(at.name)),at.opType!=null&&(ct.opType=String(at.opType)),at.domain!=null&&(ct.domain=String(at.domain)),at.attribute){if(!Array.isArray(at.attribute))throw TypeError(".onnx.NodeProto.attribute: array expected");for(ct.attribute=[],ht=0;ht<at.attribute.length;++ht){if(typeof at.attribute[ht]!="object")throw TypeError(".onnx.NodeProto.attribute: object expected");ct.attribute[ht]=dt.onnx.AttributeProto.fromObject(at.attribute[ht])}}return at.docString!=null&&(ct.docString=String(at.docString)),ct},lt.toObject=function(at,ct){ct||(ct={});var ht={};if((ct.arrays||ct.defaults)&&(ht.input=[],ht.output=[],ht.attribute=[]),ct.defaults&&(ht.name="",ht.opType="",ht.docString="",ht.domain=""),at.input&&at.input.length){ht.input=[];for(var pt=0;pt<at.input.length;++pt)ht.input[pt]=at.input[pt]}if(at.output&&at.output.length)for(ht.output=[],pt=0;pt<at.output.length;++pt)ht.output[pt]=at.output[pt];if(at.name!=null&&at.hasOwnProperty("name")&&(ht.name=at.name),at.opType!=null&&at.hasOwnProperty("opType")&&(ht.opType=at.opType),at.attribute&&at.attribute.length)for(ht.attribute=[],pt=0;pt<at.attribute.length;++pt)ht.attribute[pt]=dt.onnx.AttributeProto.toObject(at.attribute[pt],ct);return at.docString!=null&&at.hasOwnProperty("docString")&&(ht.docString=at.docString),at.domain!=null&&at.hasOwnProperty("domain")&&(ht.domain=at.domain),ht},lt.prototype.toJSON=function(){return this.constructor.toObject(this,ot.util.toJSONOptions)},lt}(),it.ModelProto=function(){function lt(at){if(this.opsetImport=[],this.metadataProps=[],at)for(var ct=Object.keys(at),ht=0;ht<ct.length;++ht)at[ct[ht]]!=null&&(this[ct[ht]]=at[ct[ht]])}return lt.prototype.irVersion=ft.Long?ft.Long.fromBits(0,0,!1):0,lt.prototype.opsetImport=ft.emptyArray,lt.prototype.producerName="",lt.prototype.producerVersion="",lt.prototype.domain="",lt.prototype.modelVersion=ft.Long?ft.Long.fromBits(0,0,!1):0,lt.prototype.docString="",lt.prototype.graph=null,lt.prototype.metadataProps=ft.emptyArray,lt.create=function(at){return new lt(at)},lt.encode=function(at,ct){if(ct||(ct=ut.create()),at.irVersion!=null&&at.hasOwnProperty("irVersion")&&ct.uint32(8).int64(at.irVersion),at.producerName!=null&&at.hasOwnProperty("producerName")&&ct.uint32(18).string(at.producerName),at.producerVersion!=null&&at.hasOwnProperty("producerVersion")&&ct.uint32(26).string(at.producerVersion),at.domain!=null&&at.hasOwnProperty("domain")&&ct.uint32(34).string(at.domain),at.modelVersion!=null&&at.hasOwnProperty("modelVersion")&&ct.uint32(40).int64(at.modelVersion),at.docString!=null&&at.hasOwnProperty("docString")&&ct.uint32(50).string(at.docString),at.graph!=null&&at.hasOwnProperty("graph")&&dt.onnx.GraphProto.encode(at.graph,ct.uint32(58).fork()).ldelim(),at.opsetImport!=null&&at.opsetImport.length)for(var ht=0;ht<at.opsetImport.length;++ht)dt.onnx.OperatorSetIdProto.encode(at.opsetImport[ht],ct.uint32(66).fork()).ldelim();if(at.metadataProps!=null&&at.metadataProps.length)for(ht=0;ht<at.metadataProps.length;++ht)dt.onnx.StringStringEntryProto.encode(at.metadataProps[ht],ct.uint32(114).fork()).ldelim();return ct},lt.encodeDelimited=function(at,ct){return this.encode(at,ct).ldelim()},lt.decode=function(at,ct){at instanceof st||(at=st.create(at));for(var ht=ct===void 0?at.len:at.pos+ct,pt=new dt.onnx.ModelProto;at.pos<ht;){var mt=at.uint32();switch(mt>>>3){case 1:pt.irVersion=at.int64();break;case 8:pt.opsetImport&&pt.opsetImport.length||(pt.opsetImport=[]),pt.opsetImport.push(dt.onnx.OperatorSetIdProto.decode(at,at.uint32()));break;case 2:pt.producerName=at.string();break;case 3:pt.producerVersion=at.string();break;case 4:pt.domain=at.string();break;case 5:pt.modelVersion=at.int64();break;case 6:pt.docString=at.string();break;case 7:pt.graph=dt.onnx.GraphProto.decode(at,at.uint32());break;case 14:pt.metadataProps&&pt.metadataProps.length||(pt.metadataProps=[]),pt.metadataProps.push(dt.onnx.StringStringEntryProto.decode(at,at.uint32()));break;default:at.skipType(7&mt)}}return pt},lt.decodeDelimited=function(at){return at instanceof st||(at=new st(at)),this.decode(at,at.uint32())},lt.verify=function(at){if(typeof at!="object"||at===null)return"object expected";if(at.irVersion!=null&&at.hasOwnProperty("irVersion")&&!(ft.isInteger(at.irVersion)||at.irVersion&&ft.isInteger(at.irVersion.low)&&ft.isInteger(at.irVersion.high)))return"irVersion: integer|Long expected";if(at.opsetImport!=null&&at.hasOwnProperty("opsetImport")){if(!Array.isArray(at.opsetImport))return"opsetImport: array expected";for(var ct=0;ct<at.opsetImport.length;++ct)if(ht=dt.onnx.OperatorSetIdProto.verify(at.opsetImport[ct]))return"opsetImport."+ht}if(at.producerName!=null&&at.hasOwnProperty("producerName")&&!ft.isString(at.producerName))return"producerName: string expected";if(at.producerVersion!=null&&at.hasOwnProperty("producerVersion")&&!ft.isString(at.producerVersion))return"producerVersion: string expected";if(at.domain!=null&&at.hasOwnProperty("domain")&&!ft.isString(at.domain))return"domain: string expected";if(at.modelVersion!=null&&at.hasOwnProperty("modelVersion")&&!(ft.isInteger(at.modelVersion)||at.modelVersion&&ft.isInteger(at.modelVersion.low)&&ft.isInteger(at.modelVersion.high)))return"modelVersion: integer|Long expected";if(at.docString!=null&&at.hasOwnProperty("docString")&&!ft.isString(at.docString))return"docString: string expected";if(at.graph!=null&&at.hasOwnProperty("graph")&&(ht=dt.onnx.GraphProto.verify(at.graph)))return"graph."+ht;if(at.metadataProps!=null&&at.hasOwnProperty("metadataProps")){if(!Array.isArray(at.metadataProps))return"metadataProps: array expected";for(ct=0;ct<at.metadataProps.length;++ct){var ht;if(ht=dt.onnx.StringStringEntryProto.verify(at.metadataProps[ct]))return"metadataProps."+ht}}return null},lt.fromObject=function(at){if(at instanceof dt.onnx.ModelProto)return at;var ct=new dt.onnx.ModelProto;if(at.irVersion!=null&&(ft.Long?(ct.irVersion=ft.Long.fromValue(at.irVersion)).unsigned=!1:typeof at.irVersion=="string"?ct.irVersion=parseInt(at.irVersion,10):typeof at.irVersion=="number"?ct.irVersion=at.irVersion:typeof at.irVersion=="object"&&(ct.irVersion=new ft.LongBits(at.irVersion.low>>>0,at.irVersion.high>>>0).toNumber())),at.opsetImport){if(!Array.isArray(at.opsetImport))throw TypeError(".onnx.ModelProto.opsetImport: array expected");ct.opsetImport=[];for(var ht=0;ht<at.opsetImport.length;++ht){if(typeof at.opsetImport[ht]!="object")throw TypeError(".onnx.ModelProto.opsetImport: object expected");ct.opsetImport[ht]=dt.onnx.OperatorSetIdProto.fromObject(at.opsetImport[ht])}}if(at.producerName!=null&&(ct.producerName=String(at.producerName)),at.producerVersion!=null&&(ct.producerVersion=String(at.producerVersion)),at.domain!=null&&(ct.domain=String(at.domain)),at.modelVersion!=null&&(ft.Long?(ct.modelVersion=ft.Long.fromValue(at.modelVersion)).unsigned=!1:typeof at.modelVersion=="string"?ct.modelVersion=parseInt(at.modelVersion,10):typeof at.modelVersion=="number"?ct.modelVersion=at.modelVersion:typeof at.modelVersion=="object"&&(ct.modelVersion=new ft.LongBits(at.modelVersion.low>>>0,at.modelVersion.high>>>0).toNumber())),at.docString!=null&&(ct.docString=String(at.docString)),at.graph!=null){if(typeof at.graph!="object")throw TypeError(".onnx.ModelProto.graph: object expected");ct.graph=dt.onnx.GraphProto.fromObject(at.graph)}if(at.metadataProps){if(!Array.isArray(at.metadataProps))throw TypeError(".onnx.ModelProto.metadataProps: array expected");for(ct.metadataProps=[],ht=0;ht<at.metadataProps.length;++ht){if(typeof at.metadataProps[ht]!="object")throw TypeError(".onnx.ModelProto.metadataProps: object expected");ct.metadataProps[ht]=dt.onnx.StringStringEntryProto.fromObject(at.metadataProps[ht])}}return ct},lt.toObject=function(at,ct){ct||(ct={});var ht={};if((ct.arrays||ct.defaults)&&(ht.opsetImport=[],ht.metadataProps=[]),ct.defaults){if(ft.Long){var pt=new ft.Long(0,0,!1);ht.irVersion=ct.longs===String?pt.toString():ct.longs===Number?pt.toNumber():pt}else ht.irVersion=ct.longs===String?"0":0;ht.producerName="",ht.producerVersion="",ht.domain="",ft.Long?(pt=new ft.Long(0,0,!1),ht.modelVersion=ct.longs===String?pt.toString():ct.longs===Number?pt.toNumber():pt):ht.modelVersion=ct.longs===String?"0":0,ht.docString="",ht.graph=null}if(at.irVersion!=null&&at.hasOwnProperty("irVersion")&&(typeof at.irVersion=="number"?ht.irVersion=ct.longs===String?String(at.irVersion):at.irVersion:ht.irVersion=ct.longs===String?ft.Long.prototype.toString.call(at.irVersion):ct.longs===Number?new ft.LongBits(at.irVersion.low>>>0,at.irVersion.high>>>0).toNumber():at.irVersion),at.producerName!=null&&at.hasOwnProperty("producerName")&&(ht.producerName=at.producerName),at.producerVersion!=null&&at.hasOwnProperty("producerVersion")&&(ht.producerVersion=at.producerVersion),at.domain!=null&&at.hasOwnProperty("domain")&&(ht.domain=at.domain),at.modelVersion!=null&&at.hasOwnProperty("modelVersion")&&(typeof at.modelVersion=="number"?ht.modelVersion=ct.longs===String?String(at.modelVersion):at.modelVersion:ht.modelVersion=ct.longs===String?ft.Long.prototype.toString.call(at.modelVersion):ct.longs===Number?new ft.LongBits(at.modelVersion.low>>>0,at.modelVersion.high>>>0).toNumber():at.modelVersion),at.docString!=null&&at.hasOwnProperty("docString")&&(ht.docString=at.docString),at.graph!=null&&at.hasOwnProperty("graph")&&(ht.graph=dt.onnx.GraphProto.toObject(at.graph,ct)),at.opsetImport&&at.opsetImport.length){ht.opsetImport=[];for(var mt=0;mt<at.opsetImport.length;++mt)ht.opsetImport[mt]=dt.onnx.OperatorSetIdProto.toObject(at.opsetImport[mt],ct)}if(at.metadataProps&&at.metadataProps.length)for(ht.metadataProps=[],mt=0;mt<at.metadataProps.length;++mt)ht.metadataProps[mt]=dt.onnx.StringStringEntryProto.toObject(at.metadataProps[mt],ct);return ht},lt.prototype.toJSON=function(){return this.constructor.toObject(this,ot.util.toJSONOptions)},lt}(),it.StringStringEntryProto=function(){function lt(at){if(at)for(var ct=Object.keys(at),ht=0;ht<ct.length;++ht)at[ct[ht]]!=null&&(this[ct[ht]]=at[ct[ht]])}return lt.prototype.key="",lt.prototype.value="",lt.create=function(at){return new lt(at)},lt.encode=function(at,ct){return ct||(ct=ut.create()),at.key!=null&&at.hasOwnProperty("key")&&ct.uint32(10).string(at.key),at.value!=null&&at.hasOwnProperty("value")&&ct.uint32(18).string(at.value),ct},lt.encodeDelimited=function(at,ct){return this.encode(at,ct).ldelim()},lt.decode=function(at,ct){at instanceof st||(at=st.create(at));for(var ht=ct===void 0?at.len:at.pos+ct,pt=new dt.onnx.StringStringEntryProto;at.pos<ht;){var mt=at.uint32();switch(mt>>>3){case 1:pt.key=at.string();break;case 2:pt.value=at.string();break;default:at.skipType(7&mt)}}return pt},lt.decodeDelimited=function(at){return at instanceof st||(at=new st(at)),this.decode(at,at.uint32())},lt.verify=function(at){return typeof at!="object"||at===null?"object expected":at.key!=null&&at.hasOwnProperty("key")&&!ft.isString(at.key)?"key: string expected":at.value!=null&&at.hasOwnProperty("value")&&!ft.isString(at.value)?"value: string expected":null},lt.fromObject=function(at){if(at instanceof dt.onnx.StringStringEntryProto)return at;var ct=new dt.onnx.StringStringEntryProto;return at.key!=null&&(ct.key=String(at.key)),at.value!=null&&(ct.value=String(at.value)),ct},lt.toObject=function(at,ct){ct||(ct={});var ht={};return ct.defaults&&(ht.key="",ht.value=""),at.key!=null&&at.hasOwnProperty("key")&&(ht.key=at.key),at.value!=null&&at.hasOwnProperty("value")&&(ht.value=at.value),ht},lt.prototype.toJSON=function(){return this.constructor.toObject(this,ot.util.toJSONOptions)},lt}(),it.TensorAnnotation=function(){function lt(at){if(this.quantParameterTensorNames=[],at)for(var ct=Object.keys(at),ht=0;ht<ct.length;++ht)at[ct[ht]]!=null&&(this[ct[ht]]=at[ct[ht]])}return lt.prototype.tensorName="",lt.prototype.quantParameterTensorNames=ft.emptyArray,lt.create=function(at){return new lt(at)},lt.encode=function(at,ct){if(ct||(ct=ut.create()),at.tensorName!=null&&at.hasOwnProperty("tensorName")&&ct.uint32(10).string(at.tensorName),at.quantParameterTensorNames!=null&&at.quantParameterTensorNames.length)for(var ht=0;ht<at.quantParameterTensorNames.length;++ht)dt.onnx.StringStringEntryProto.encode(at.quantParameterTensorNames[ht],ct.uint32(18).fork()).ldelim();return ct},lt.encodeDelimited=function(at,ct){return this.encode(at,ct).ldelim()},lt.decode=function(at,ct){at instanceof st||(at=st.create(at));for(var ht=ct===void 0?at.len:at.pos+ct,pt=new dt.onnx.TensorAnnotation;at.pos<ht;){var mt=at.uint32();switch(mt>>>3){case 1:pt.tensorName=at.string();break;case 2:pt.quantParameterTensorNames&&pt.quantParameterTensorNames.length||(pt.quantParameterTensorNames=[]),pt.quantParameterTensorNames.push(dt.onnx.StringStringEntryProto.decode(at,at.uint32()));break;default:at.skipType(7&mt)}}return pt},lt.decodeDelimited=function(at){return at instanceof st||(at=new st(at)),this.decode(at,at.uint32())},lt.verify=function(at){if(typeof at!="object"||at===null)return"object expected";if(at.tensorName!=null&&at.hasOwnProperty("tensorName")&&!ft.isString(at.tensorName))return"tensorName: string expected";if(at.quantParameterTensorNames!=null&&at.hasOwnProperty("quantParameterTensorNames")){if(!Array.isArray(at.quantParameterTensorNames))return"quantParameterTensorNames: array expected";for(var ct=0;ct<at.quantParameterTensorNames.length;++ct){var ht=dt.onnx.StringStringEntryProto.verify(at.quantParameterTensorNames[ct]);if(ht)return"quantParameterTensorNames."+ht}}return null},lt.fromObject=function(at){if(at instanceof dt.onnx.TensorAnnotation)return at;var ct=new dt.onnx.TensorAnnotation;if(at.tensorName!=null&&(ct.tensorName=String(at.tensorName)),at.quantParameterTensorNames){if(!Array.isArray(at.quantParameterTensorNames))throw TypeError(".onnx.TensorAnnotation.quantParameterTensorNames: array expected");ct.quantParameterTensorNames=[];for(var ht=0;ht<at.quantParameterTensorNames.length;++ht){if(typeof at.quantParameterTensorNames[ht]!="object")throw TypeError(".onnx.TensorAnnotation.quantParameterTensorNames: object expected");ct.quantParameterTensorNames[ht]=dt.onnx.StringStringEntryProto.fromObject(at.quantParameterTensorNames[ht])}}return ct},lt.toObject=function(at,ct){ct||(ct={});var ht={};if((ct.arrays||ct.defaults)&&(ht.quantParameterTensorNames=[]),ct.defaults&&(ht.tensorName=""),at.tensorName!=null&&at.hasOwnProperty("tensorName")&&(ht.tensorName=at.tensorName),at.quantParameterTensorNames&&at.quantParameterTensorNames.length){ht.quantParameterTensorNames=[];for(var pt=0;pt<at.quantParameterTensorNames.length;++pt)ht.quantParameterTensorNames[pt]=dt.onnx.StringStringEntryProto.toObject(at.quantParameterTensorNames[pt],ct)}return ht},lt.prototype.toJSON=function(){return this.constructor.toObject(this,ot.util.toJSONOptions)},lt}(),it.GraphProto=function(){function lt(at){if(this.node=[],this.initializer=[],this.input=[],this.output=[],this.valueInfo=[],this.quantizationAnnotation=[],at)for(var ct=Object.keys(at),ht=0;ht<ct.length;++ht)at[ct[ht]]!=null&&(this[ct[ht]]=at[ct[ht]])}return lt.prototype.node=ft.emptyArray,lt.prototype.name="",lt.prototype.initializer=ft.emptyArray,lt.prototype.docString="",lt.prototype.input=ft.emptyArray,lt.prototype.output=ft.emptyArray,lt.prototype.valueInfo=ft.emptyArray,lt.prototype.quantizationAnnotation=ft.emptyArray,lt.create=function(at){return new lt(at)},lt.encode=function(at,ct){if(ct||(ct=ut.create()),at.node!=null&&at.node.length)for(var ht=0;ht<at.node.length;++ht)dt.onnx.NodeProto.encode(at.node[ht],ct.uint32(10).fork()).ldelim();if(at.name!=null&&at.hasOwnProperty("name")&&ct.uint32(18).string(at.name),at.initializer!=null&&at.initializer.length)for(ht=0;ht<at.initializer.length;++ht)dt.onnx.TensorProto.encode(at.initializer[ht],ct.uint32(42).fork()).ldelim();if(at.docString!=null&&at.hasOwnProperty("docString")&&ct.uint32(82).string(at.docString),at.input!=null&&at.input.length)for(ht=0;ht<at.input.length;++ht)dt.onnx.ValueInfoProto.encode(at.input[ht],ct.uint32(90).fork()).ldelim();if(at.output!=null&&at.output.length)for(ht=0;ht<at.output.length;++ht)dt.onnx.ValueInfoProto.encode(at.output[ht],ct.uint32(98).fork()).ldelim();if(at.valueInfo!=null&&at.valueInfo.length)for(ht=0;ht<at.valueInfo.length;++ht)dt.onnx.ValueInfoProto.encode(at.valueInfo[ht],ct.uint32(106).fork()).ldelim();if(at.quantizationAnnotation!=null&&at.quantizationAnnotation.length)for(ht=0;ht<at.quantizationAnnotation.length;++ht)dt.onnx.TensorAnnotation.encode(at.quantizationAnnotation[ht],ct.uint32(114).fork()).ldelim();return ct},lt.encodeDelimited=function(at,ct){return this.encode(at,ct).ldelim()},lt.decode=function(at,ct){at instanceof st||(at=st.create(at));for(var ht=ct===void 0?at.len:at.pos+ct,pt=new dt.onnx.GraphProto;at.pos<ht;){var mt=at.uint32();switch(mt>>>3){case 1:pt.node&&pt.node.length||(pt.node=[]),pt.node.push(dt.onnx.NodeProto.decode(at,at.uint32()));break;case 2:pt.name=at.string();break;case 5:pt.initializer&&pt.initializer.length||(pt.initializer=[]),pt.initializer.push(dt.onnx.TensorProto.decode(at,at.uint32()));break;case 10:pt.docString=at.string();break;case 11:pt.input&&pt.input.length||(pt.input=[]),pt.input.push(dt.onnx.ValueInfoProto.decode(at,at.uint32()));break;case 12:pt.output&&pt.output.length||(pt.output=[]),pt.output.push(dt.onnx.ValueInfoProto.decode(at,at.uint32()));break;case 13:pt.valueInfo&&pt.valueInfo.length||(pt.valueInfo=[]),pt.valueInfo.push(dt.onnx.ValueInfoProto.decode(at,at.uint32()));break;case 14:pt.quantizationAnnotation&&pt.quantizationAnnotation.length||(pt.quantizationAnnotation=[]),pt.quantizationAnnotation.push(dt.onnx.TensorAnnotation.decode(at,at.uint32()));break;default:at.skipType(7&mt)}}return pt},lt.decodeDelimited=function(at){return at instanceof st||(at=new st(at)),this.decode(at,at.uint32())},lt.verify=function(at){if(typeof at!="object"||at===null)return"object expected";if(at.node!=null&&at.hasOwnProperty("node")){if(!Array.isArray(at.node))return"node: array expected";for(var ct=0;ct<at.node.length;++ct)if(ht=dt.onnx.NodeProto.verify(at.node[ct]))return"node."+ht}if(at.name!=null&&at.hasOwnProperty("name")&&!ft.isString(at.name))return"name: string expected";if(at.initializer!=null&&at.hasOwnProperty("initializer")){if(!Array.isArray(at.initializer))return"initializer: array expected";for(ct=0;ct<at.initializer.length;++ct)if(ht=dt.onnx.TensorProto.verify(at.initializer[ct]))return"initializer."+ht}if(at.docString!=null&&at.hasOwnProperty("docString")&&!ft.isString(at.docString))return"docString: string expected";if(at.input!=null&&at.hasOwnProperty("input")){if(!Array.isArray(at.input))return"input: array expected";for(ct=0;ct<at.input.length;++ct)if(ht=dt.onnx.ValueInfoProto.verify(at.input[ct]))return"input."+ht}if(at.output!=null&&at.hasOwnProperty("output")){if(!Array.isArray(at.output))return"output: array expected";for(ct=0;ct<at.output.length;++ct)if(ht=dt.onnx.ValueInfoProto.verify(at.output[ct]))return"output."+ht}if(at.valueInfo!=null&&at.hasOwnProperty("valueInfo")){if(!Array.isArray(at.valueInfo))return"valueInfo: array expected";for(ct=0;ct<at.valueInfo.length;++ct)if(ht=dt.onnx.ValueInfoProto.verify(at.valueInfo[ct]))return"valueInfo."+ht}if(at.quantizationAnnotation!=null&&at.hasOwnProperty("quantizationAnnotation")){if(!Array.isArray(at.quantizationAnnotation))return"quantizationAnnotation: array expected";for(ct=0;ct<at.quantizationAnnotation.length;++ct){var ht;if(ht=dt.onnx.TensorAnnotation.verify(at.quantizationAnnotation[ct]))return"quantizationAnnotation."+ht}}return null},lt.fromObject=function(at){if(at instanceof dt.onnx.GraphProto)return at;var ct=new dt.onnx.GraphProto;if(at.node){if(!Array.isArray(at.node))throw TypeError(".onnx.GraphProto.node: array expected");ct.node=[];for(var ht=0;ht<at.node.length;++ht){if(typeof at.node[ht]!="object")throw TypeError(".onnx.GraphProto.node: object expected");ct.node[ht]=dt.onnx.NodeProto.fromObject(at.node[ht])}}if(at.name!=null&&(ct.name=String(at.name)),at.initializer){if(!Array.isArray(at.initializer))throw TypeError(".onnx.GraphProto.initializer: array expected");for(ct.initializer=[],ht=0;ht<at.initializer.length;++ht){if(typeof at.initializer[ht]!="object")throw TypeError(".onnx.GraphProto.initializer: object expected");ct.initializer[ht]=dt.onnx.TensorProto.fromObject(at.initializer[ht])}}if(at.docString!=null&&(ct.docString=String(at.docString)),at.input){if(!Array.isArray(at.input))throw TypeError(".onnx.GraphProto.input: array expected");for(ct.input=[],ht=0;ht<at.input.length;++ht){if(typeof at.input[ht]!="object")throw TypeError(".onnx.GraphProto.input: object expected");ct.input[ht]=dt.onnx.ValueInfoProto.fromObject(at.input[ht])}}if(at.output){if(!Array.isArray(at.output))throw TypeError(".onnx.GraphProto.output: array expected");for(ct.output=[],ht=0;ht<at.output.length;++ht){if(typeof at.output[ht]!="object")throw TypeError(".onnx.GraphProto.output: object expected");ct.output[ht]=dt.onnx.ValueInfoProto.fromObject(at.output[ht])}}if(at.valueInfo){if(!Array.isArray(at.valueInfo))throw TypeError(".onnx.GraphProto.valueInfo: array expected");for(ct.valueInfo=[],ht=0;ht<at.valueInfo.length;++ht){if(typeof at.valueInfo[ht]!="object")throw TypeError(".onnx.GraphProto.valueInfo: object expected");ct.valueInfo[ht]=dt.onnx.ValueInfoProto.fromObject(at.valueInfo[ht])}}if(at.quantizationAnnotation){if(!Array.isArray(at.quantizationAnnotation))throw TypeError(".onnx.GraphProto.quantizationAnnotation: array expected");for(ct.quantizationAnnotation=[],ht=0;ht<at.quantizationAnnotation.length;++ht){if(typeof at.quantizationAnnotation[ht]!="object")throw TypeError(".onnx.GraphProto.quantizationAnnotation: object expected");ct.quantizationAnnotation[ht]=dt.onnx.TensorAnnotation.fromObject(at.quantizationAnnotation[ht])}}return ct},lt.toObject=function(at,ct){ct||(ct={});var ht={};if((ct.arrays||ct.defaults)&&(ht.node=[],ht.initializer=[],ht.input=[],ht.output=[],ht.valueInfo=[],ht.quantizationAnnotation=[]),ct.defaults&&(ht.name="",ht.docString=""),at.node&&at.node.length){ht.node=[];for(var pt=0;pt<at.node.length;++pt)ht.node[pt]=dt.onnx.NodeProto.toObject(at.node[pt],ct)}if(at.name!=null&&at.hasOwnProperty("name")&&(ht.name=at.name),at.initializer&&at.initializer.length)for(ht.initializer=[],pt=0;pt<at.initializer.length;++pt)ht.initializer[pt]=dt.onnx.TensorProto.toObject(at.initializer[pt],ct);if(at.docString!=null&&at.hasOwnProperty("docString")&&(ht.docString=at.docString),at.input&&at.input.length)for(ht.input=[],pt=0;pt<at.input.length;++pt)ht.input[pt]=dt.onnx.ValueInfoProto.toObject(at.input[pt],ct);if(at.output&&at.output.length)for(ht.output=[],pt=0;pt<at.output.length;++pt)ht.output[pt]=dt.onnx.ValueInfoProto.toObject(at.output[pt],ct);if(at.valueInfo&&at.valueInfo.length)for(ht.valueInfo=[],pt=0;pt<at.valueInfo.length;++pt)ht.valueInfo[pt]=dt.onnx.ValueInfoProto.toObject(at.valueInfo[pt],ct);if(at.quantizationAnnotation&&at.quantizationAnnotation.length)for(ht.quantizationAnnotation=[],pt=0;pt<at.quantizationAnnotation.length;++pt)ht.quantizationAnnotation[pt]=dt.onnx.TensorAnnotation.toObject(at.quantizationAnnotation[pt],ct);return ht},lt.prototype.toJSON=function(){return this.constructor.toObject(this,ot.util.toJSONOptions)},lt}(),it.TensorProto=function(){function lt(at){if(this.dims=[],this.floatData=[],this.int32Data=[],this.stringData=[],this.int64Data=[],this.externalData=[],this.doubleData=[],this.uint64Data=[],at)for(var ct=Object.keys(at),ht=0;ht<ct.length;++ht)at[ct[ht]]!=null&&(this[ct[ht]]=at[ct[ht]])}return lt.prototype.dims=ft.emptyArray,lt.prototype.dataType=0,lt.prototype.segment=null,lt.prototype.floatData=ft.emptyArray,lt.prototype.int32Data=ft.emptyArray,lt.prototype.stringData=ft.emptyArray,lt.prototype.int64Data=ft.emptyArray,lt.prototype.name="",lt.prototype.docString="",lt.prototype.rawData=ft.newBuffer([]),lt.prototype.externalData=ft.emptyArray,lt.prototype.dataLocation=0,lt.prototype.doubleData=ft.emptyArray,lt.prototype.uint64Data=ft.emptyArray,lt.create=function(at){return new lt(at)},lt.encode=function(at,ct){if(ct||(ct=ut.create()),at.dims!=null&&at.dims.length){ct.uint32(10).fork();for(var ht=0;ht<at.dims.length;++ht)ct.int64(at.dims[ht]);ct.ldelim()}if(at.dataType!=null&&at.hasOwnProperty("dataType")&&ct.uint32(16).int32(at.dataType),at.segment!=null&&at.hasOwnProperty("segment")&&dt.onnx.TensorProto.Segment.encode(at.segment,ct.uint32(26).fork()).ldelim(),at.floatData!=null&&at.floatData.length){for(ct.uint32(34).fork(),ht=0;ht<at.floatData.length;++ht)ct.float(at.floatData[ht]);ct.ldelim()}if(at.int32Data!=null&&at.int32Data.length){for(ct.uint32(42).fork(),ht=0;ht<at.int32Data.length;++ht)ct.int32(at.int32Data[ht]);ct.ldelim()}if(at.stringData!=null&&at.stringData.length)for(ht=0;ht<at.stringData.length;++ht)ct.uint32(50).bytes(at.stringData[ht]);if(at.int64Data!=null&&at.int64Data.length){for(ct.uint32(58).fork(),ht=0;ht<at.int64Data.length;++ht)ct.int64(at.int64Data[ht]);ct.ldelim()}if(at.name!=null&&at.hasOwnProperty("name")&&ct.uint32(66).string(at.name),at.rawData!=null&&at.hasOwnProperty("rawData")&&ct.uint32(74).bytes(at.rawData),at.doubleData!=null&&at.doubleData.length){for(ct.uint32(82).fork(),ht=0;ht<at.doubleData.length;++ht)ct.double(at.doubleData[ht]);ct.ldelim()}if(at.uint64Data!=null&&at.uint64Data.length){for(ct.uint32(90).fork(),ht=0;ht<at.uint64Data.length;++ht)ct.uint64(at.uint64Data[ht]);ct.ldelim()}if(at.docString!=null&&at.hasOwnProperty("docString")&&ct.uint32(98).string(at.docString),at.externalData!=null&&at.externalData.length)for(ht=0;ht<at.externalData.length;++ht)dt.onnx.StringStringEntryProto.encode(at.externalData[ht],ct.uint32(106).fork()).ldelim();return at.dataLocation!=null&&at.hasOwnProperty("dataLocation")&&ct.uint32(112).int32(at.dataLocation),ct},lt.encodeDelimited=function(at,ct){return this.encode(at,ct).ldelim()},lt.decode=function(at,ct){at instanceof st||(at=st.create(at));for(var ht=ct===void 0?at.len:at.pos+ct,pt=new dt.onnx.TensorProto;at.pos<ht;){var mt=at.uint32();switch(mt>>>3){case 1:if(pt.dims&&pt.dims.length||(pt.dims=[]),(7&mt)==2)for(var gt=at.uint32()+at.pos;at.pos<gt;)pt.dims.push(at.int64());else pt.dims.push(at.int64());break;case 2:pt.dataType=at.int32();break;case 3:pt.segment=dt.onnx.TensorProto.Segment.decode(at,at.uint32());break;case 4:if(pt.floatData&&pt.floatData.length||(pt.floatData=[]),(7&mt)==2)for(gt=at.uint32()+at.pos;at.pos<gt;)pt.floatData.push(at.float());else pt.floatData.push(at.float());break;case 5:if(pt.int32Data&&pt.int32Data.length||(pt.int32Data=[]),(7&mt)==2)for(gt=at.uint32()+at.pos;at.pos<gt;)pt.int32Data.push(at.int32());else pt.int32Data.push(at.int32());break;case 6:pt.stringData&&pt.stringData.length||(pt.stringData=[]),pt.stringData.push(at.bytes());break;case 7:if(pt.int64Data&&pt.int64Data.length||(pt.int64Data=[]),(7&mt)==2)for(gt=at.uint32()+at.pos;at.pos<gt;)pt.int64Data.push(at.int64());else pt.int64Data.push(at.int64());break;case 8:pt.name=at.string();break;case 12:pt.docString=at.string();break;case 9:pt.rawData=at.bytes();break;case 13:pt.externalData&&pt.externalData.length||(pt.externalData=[]),pt.externalData.push(dt.onnx.StringStringEntryProto.decode(at,at.uint32()));break;case 14:pt.dataLocation=at.int32();break;case 10:if(pt.doubleData&&pt.doubleData.length||(pt.doubleData=[]),(7&mt)==2)for(gt=at.uint32()+at.pos;at.pos<gt;)pt.doubleData.push(at.double());else pt.doubleData.push(at.double());break;case 11:if(pt.uint64Data&&pt.uint64Data.length||(pt.uint64Data=[]),(7&mt)==2)for(gt=at.uint32()+at.pos;at.pos<gt;)pt.uint64Data.push(at.uint64());else pt.uint64Data.push(at.uint64());break;default:at.skipType(7&mt)}}return pt},lt.decodeDelimited=function(at){return at instanceof st||(at=new st(at)),this.decode(at,at.uint32())},lt.verify=function(at){if(typeof at!="object"||at===null)return"object expected";if(at.dims!=null&&at.hasOwnProperty("dims")){if(!Array.isArray(at.dims))return"dims: array expected";for(var ct=0;ct<at.dims.length;++ct)if(!(ft.isInteger(at.dims[ct])||at.dims[ct]&&ft.isInteger(at.dims[ct].low)&&ft.isInteger(at.dims[ct].high)))return"dims: integer|Long[] expected"}if(at.dataType!=null&&at.hasOwnProperty("dataType")&&!ft.isInteger(at.dataType))return"dataType: integer expected";if(at.segment!=null&&at.hasOwnProperty("segment")&&(ht=dt.onnx.TensorProto.Segment.verify(at.segment)))return"segment."+ht;if(at.floatData!=null&&at.hasOwnProperty("floatData")){if(!Array.isArray(at.floatData))return"floatData: array expected";for(ct=0;ct<at.floatData.length;++ct)if(typeof at.floatData[ct]!="number")return"floatData: number[] expected"}if(at.int32Data!=null&&at.hasOwnProperty("int32Data")){if(!Array.isArray(at.int32Data))return"int32Data: array expected";for(ct=0;ct<at.int32Data.length;++ct)if(!ft.isInteger(at.int32Data[ct]))return"int32Data: integer[] expected"}if(at.stringData!=null&&at.hasOwnProperty("stringData")){if(!Array.isArray(at.stringData))return"stringData: array expected";for(ct=0;ct<at.stringData.length;++ct)if(!(at.stringData[ct]&&typeof at.stringData[ct].length=="number"||ft.isString(at.stringData[ct])))return"stringData: buffer[] expected"}if(at.int64Data!=null&&at.hasOwnProperty("int64Data")){if(!Array.isArray(at.int64Data))return"int64Data: array expected";for(ct=0;ct<at.int64Data.length;++ct)if(!(ft.isInteger(at.int64Data[ct])||at.int64Data[ct]&&ft.isInteger(at.int64Data[ct].low)&&ft.isInteger(at.int64Data[ct].high)))return"int64Data: integer|Long[] expected"}if(at.name!=null&&at.hasOwnProperty("name")&&!ft.isString(at.name))return"name: string expected";if(at.docString!=null&&at.hasOwnProperty("docString")&&!ft.isString(at.docString))return"docString: string expected";if(at.rawData!=null&&at.hasOwnProperty("rawData")&&!(at.rawData&&typeof at.rawData.length=="number"||ft.isString(at.rawData)))return"rawData: buffer expected";if(at.externalData!=null&&at.hasOwnProperty("externalData")){if(!Array.isArray(at.externalData))return"externalData: array expected";for(ct=0;ct<at.externalData.length;++ct){var ht;if(ht=dt.onnx.StringStringEntryProto.verify(at.externalData[ct]))return"externalData."+ht}}if(at.dataLocation!=null&&at.hasOwnProperty("dataLocation"))switch(at.dataLocation){default:return"dataLocation: enum value expected";case 0:case 1:}if(at.doubleData!=null&&at.hasOwnProperty("doubleData")){if(!Array.isArray(at.doubleData))return"doubleData: array expected";for(ct=0;ct<at.doubleData.length;++ct)if(typeof at.doubleData[ct]!="number")return"doubleData: number[] expected"}if(at.uint64Data!=null&&at.hasOwnProperty("uint64Data")){if(!Array.isArray(at.uint64Data))return"uint64Data: array expected";for(ct=0;ct<at.uint64Data.length;++ct)if(!(ft.isInteger(at.uint64Data[ct])||at.uint64Data[ct]&&ft.isInteger(at.uint64Data[ct].low)&&ft.isInteger(at.uint64Data[ct].high)))return"uint64Data: integer|Long[] expected"}return null},lt.fromObject=function(at){if(at instanceof dt.onnx.TensorProto)return at;var ct=new dt.onnx.TensorProto;if(at.dims){if(!Array.isArray(at.dims))throw TypeError(".onnx.TensorProto.dims: array expected");ct.dims=[];for(var ht=0;ht<at.dims.length;++ht)ft.Long?(ct.dims[ht]=ft.Long.fromValue(at.dims[ht])).unsigned=!1:typeof at.dims[ht]=="string"?ct.dims[ht]=parseInt(at.dims[ht],10):typeof at.dims[ht]=="number"?ct.dims[ht]=at.dims[ht]:typeof at.dims[ht]=="object"&&(ct.dims[ht]=new ft.LongBits(at.dims[ht].low>>>0,at.dims[ht].high>>>0).toNumber())}if(at.dataType!=null&&(ct.dataType=0|at.dataType),at.segment!=null){if(typeof at.segment!="object")throw TypeError(".onnx.TensorProto.segment: object expected");ct.segment=dt.onnx.TensorProto.Segment.fromObject(at.segment)}if(at.floatData){if(!Array.isArray(at.floatData))throw TypeError(".onnx.TensorProto.floatData: array expected");for(ct.floatData=[],ht=0;ht<at.floatData.length;++ht)ct.floatData[ht]=Number(at.floatData[ht])}if(at.int32Data){if(!Array.isArray(at.int32Data))throw TypeError(".onnx.TensorProto.int32Data: array expected");for(ct.int32Data=[],ht=0;ht<at.int32Data.length;++ht)ct.int32Data[ht]=0|at.int32Data[ht]}if(at.stringData){if(!Array.isArray(at.stringData))throw TypeError(".onnx.TensorProto.stringData: array expected");for(ct.stringData=[],ht=0;ht<at.stringData.length;++ht)typeof at.stringData[ht]=="string"?ft.base64.decode(at.stringData[ht],ct.stringData[ht]=ft.newBuffer(ft.base64.length(at.stringData[ht])),0):at.stringData[ht].length&&(ct.stringData[ht]=at.stringData[ht])}if(at.int64Data){if(!Array.isArray(at.int64Data))throw TypeError(".onnx.TensorProto.int64Data: array expected");for(ct.int64Data=[],ht=0;ht<at.int64Data.length;++ht)ft.Long?(ct.int64Data[ht]=ft.Long.fromValue(at.int64Data[ht])).unsigned=!1:typeof at.int64Data[ht]=="string"?ct.int64Data[ht]=parseInt(at.int64Data[ht],10):typeof at.int64Data[ht]=="number"?ct.int64Data[ht]=at.int64Data[ht]:typeof at.int64Data[ht]=="object"&&(ct.int64Data[ht]=new ft.LongBits(at.int64Data[ht].low>>>0,at.int64Data[ht].high>>>0).toNumber())}if(at.name!=null&&(ct.name=String(at.name)),at.docString!=null&&(ct.docString=String(at.docString)),at.rawData!=null&&(typeof at.rawData=="string"?ft.base64.decode(at.rawData,ct.rawData=ft.newBuffer(ft.base64.length(at.rawData)),0):at.rawData.length&&(ct.rawData=at.rawData)),at.externalData){if(!Array.isArray(at.externalData))throw TypeError(".onnx.TensorProto.externalData: array expected");for(ct.externalData=[],ht=0;ht<at.externalData.length;++ht){if(typeof at.externalData[ht]!="object")throw TypeError(".onnx.TensorProto.externalData: object expected");ct.externalData[ht]=dt.onnx.StringStringEntryProto.fromObject(at.externalData[ht])}}switch(at.dataLocation){case"DEFAULT":case 0:ct.dataLocation=0;break;case"EXTERNAL":case 1:ct.dataLocation=1}if(at.doubleData){if(!Array.isArray(at.doubleData))throw TypeError(".onnx.TensorProto.doubleData: array expected");for(ct.doubleData=[],ht=0;ht<at.doubleData.length;++ht)ct.doubleData[ht]=Number(at.doubleData[ht])}if(at.uint64Data){if(!Array.isArray(at.uint64Data))throw TypeError(".onnx.TensorProto.uint64Data: array expected");for(ct.uint64Data=[],ht=0;ht<at.uint64Data.length;++ht)ft.Long?(ct.uint64Data[ht]=ft.Long.fromValue(at.uint64Data[ht])).unsigned=!0:typeof at.uint64Data[ht]=="string"?ct.uint64Data[ht]=parseInt(at.uint64Data[ht],10):typeof at.uint64Data[ht]=="number"?ct.uint64Data[ht]=at.uint64Data[ht]:typeof at.uint64Data[ht]=="object"&&(ct.uint64Data[ht]=new ft.LongBits(at.uint64Data[ht].low>>>0,at.uint64Data[ht].high>>>0).toNumber(!0))}return ct},lt.toObject=function(at,ct){ct||(ct={});var ht={};if((ct.arrays||ct.defaults)&&(ht.dims=[],ht.floatData=[],ht.int32Data=[],ht.stringData=[],ht.int64Data=[],ht.doubleData=[],ht.uint64Data=[],ht.externalData=[]),ct.defaults&&(ht.dataType=0,ht.segment=null,ht.name="",ct.bytes===String?ht.rawData="":(ht.rawData=[],ct.bytes!==Array&&(ht.rawData=ft.newBuffer(ht.rawData))),ht.docString="",ht.dataLocation=ct.enums===String?"DEFAULT":0),at.dims&&at.dims.length){ht.dims=[];for(var pt=0;pt<at.dims.length;++pt)typeof at.dims[pt]=="number"?ht.dims[pt]=ct.longs===String?String(at.dims[pt]):at.dims[pt]:ht.dims[pt]=ct.longs===String?ft.Long.prototype.toString.call(at.dims[pt]):ct.longs===Number?new ft.LongBits(at.dims[pt].low>>>0,at.dims[pt].high>>>0).toNumber():at.dims[pt]}if(at.dataType!=null&&at.hasOwnProperty("dataType")&&(ht.dataType=at.dataType),at.segment!=null&&at.hasOwnProperty("segment")&&(ht.segment=dt.onnx.TensorProto.Segment.toObject(at.segment,ct)),at.floatData&&at.floatData.length)for(ht.floatData=[],pt=0;pt<at.floatData.length;++pt)ht.floatData[pt]=ct.json&&!isFinite(at.floatData[pt])?String(at.floatData[pt]):at.floatData[pt];if(at.int32Data&&at.int32Data.length)for(ht.int32Data=[],pt=0;pt<at.int32Data.length;++pt)ht.int32Data[pt]=at.int32Data[pt];if(at.stringData&&at.stringData.length)for(ht.stringData=[],pt=0;pt<at.stringData.length;++pt)ht.stringData[pt]=ct.bytes===String?ft.base64.encode(at.stringData[pt],0,at.stringData[pt].length):ct.bytes===Array?Array.prototype.slice.call(at.stringData[pt]):at.stringData[pt];if(at.int64Data&&at.int64Data.length)for(ht.int64Data=[],pt=0;pt<at.int64Data.length;++pt)typeof at.int64Data[pt]=="number"?ht.int64Data[pt]=ct.longs===String?String(at.int64Data[pt]):at.int64Data[pt]:ht.int64Data[pt]=ct.longs===String?ft.Long.prototype.toString.call(at.int64Data[pt]):ct.longs===Number?new ft.LongBits(at.int64Data[pt].low>>>0,at.int64Data[pt].high>>>0).toNumber():at.int64Data[pt];if(at.name!=null&&at.hasOwnProperty("name")&&(ht.name=at.name),at.rawData!=null&&at.hasOwnProperty("rawData")&&(ht.rawData=ct.bytes===String?ft.base64.encode(at.rawData,0,at.rawData.length):ct.bytes===Array?Array.prototype.slice.call(at.rawData):at.rawData),at.doubleData&&at.doubleData.length)for(ht.doubleData=[],pt=0;pt<at.doubleData.length;++pt)ht.doubleData[pt]=ct.json&&!isFinite(at.doubleData[pt])?String(at.doubleData[pt]):at.doubleData[pt];if(at.uint64Data&&at.uint64Data.length)for(ht.uint64Data=[],pt=0;pt<at.uint64Data.length;++pt)typeof at.uint64Data[pt]=="number"?ht.uint64Data[pt]=ct.longs===String?String(at.uint64Data[pt]):at.uint64Data[pt]:ht.uint64Data[pt]=ct.longs===String?ft.Long.prototype.toString.call(at.uint64Data[pt]):ct.longs===Number?new ft.LongBits(at.uint64Data[pt].low>>>0,at.uint64Data[pt].high>>>0).toNumber(!0):at.uint64Data[pt];if(at.docString!=null&&at.hasOwnProperty("docString")&&(ht.docString=at.docString),at.externalData&&at.externalData.length)for(ht.externalData=[],pt=0;pt<at.externalData.length;++pt)ht.externalData[pt]=dt.onnx.StringStringEntryProto.toObject(at.externalData[pt],ct);return at.dataLocation!=null&&at.hasOwnProperty("dataLocation")&&(ht.dataLocation=ct.enums===String?dt.onnx.TensorProto.DataLocation[at.dataLocation]:at.dataLocation),ht},lt.prototype.toJSON=function(){return this.constructor.toObject(this,ot.util.toJSONOptions)},lt.DataType=function(){var at={},ct=Object.create(at);return ct[at[0]="UNDEFINED"]=0,ct[at[1]="FLOAT"]=1,ct[at[2]="UINT8"]=2,ct[at[3]="INT8"]=3,ct[at[4]="UINT16"]=4,ct[at[5]="INT16"]=5,ct[at[6]="INT32"]=6,ct[at[7]="INT64"]=7,ct[at[8]="STRING"]=8,ct[at[9]="BOOL"]=9,ct[at[10]="FLOAT16"]=10,ct[at[11]="DOUBLE"]=11,ct[at[12]="UINT32"]=12,ct[at[13]="UINT64"]=13,ct[at[14]="COMPLEX64"]=14,ct[at[15]="COMPLEX128"]=15,ct[at[16]="BFLOAT16"]=16,ct}(),lt.Segment=function(){function at(ct){if(ct)for(var ht=Object.keys(ct),pt=0;pt<ht.length;++pt)ct[ht[pt]]!=null&&(this[ht[pt]]=ct[ht[pt]])}return at.prototype.begin=ft.Long?ft.Long.fromBits(0,0,!1):0,at.prototype.end=ft.Long?ft.Long.fromBits(0,0,!1):0,at.create=function(ct){return new at(ct)},at.encode=function(ct,ht){return ht||(ht=ut.create()),ct.begin!=null&&ct.hasOwnProperty("begin")&&ht.uint32(8).int64(ct.begin),ct.end!=null&&ct.hasOwnProperty("end")&&ht.uint32(16).int64(ct.end),ht},at.encodeDelimited=function(ct,ht){return this.encode(ct,ht).ldelim()},at.decode=function(ct,ht){ct instanceof st||(ct=st.create(ct));for(var pt=ht===void 0?ct.len:ct.pos+ht,mt=new dt.onnx.TensorProto.Segment;ct.pos<pt;){var gt=ct.uint32();switch(gt>>>3){case 1:mt.begin=ct.int64();break;case 2:mt.end=ct.int64();break;default:ct.skipType(7&gt)}}return mt},at.decodeDelimited=function(ct){return ct instanceof st||(ct=new st(ct)),this.decode(ct,ct.uint32())},at.verify=function(ct){return typeof ct!="object"||ct===null?"object expected":ct.begin!=null&&ct.hasOwnProperty("begin")&&!(ft.isInteger(ct.begin)||ct.begin&&ft.isInteger(ct.begin.low)&&ft.isInteger(ct.begin.high))?"begin: integer|Long expected":ct.end!=null&&ct.hasOwnProperty("end")&&!(ft.isInteger(ct.end)||ct.end&&ft.isInteger(ct.end.low)&&ft.isInteger(ct.end.high))?"end: integer|Long expected":null},at.fromObject=function(ct){if(ct instanceof dt.onnx.TensorProto.Segment)return ct;var ht=new dt.onnx.TensorProto.Segment;return ct.begin!=null&&(ft.Long?(ht.begin=ft.Long.fromValue(ct.begin)).unsigned=!1:typeof ct.begin=="string"?ht.begin=parseInt(ct.begin,10):typeof ct.begin=="number"?ht.begin=ct.begin:typeof ct.begin=="object"&&(ht.begin=new ft.LongBits(ct.begin.low>>>0,ct.begin.high>>>0).toNumber())),ct.end!=null&&(ft.Long?(ht.end=ft.Long.fromValue(ct.end)).unsigned=!1:typeof ct.end=="string"?ht.end=parseInt(ct.end,10):typeof ct.end=="number"?ht.end=ct.end:typeof ct.end=="object"&&(ht.end=new ft.LongBits(ct.end.low>>>0,ct.end.high>>>0).toNumber())),ht},at.toObject=function(ct,ht){ht||(ht={});var pt={};if(ht.defaults){if(ft.Long){var mt=new ft.Long(0,0,!1);pt.begin=ht.longs===String?mt.toString():ht.longs===Number?mt.toNumber():mt}else pt.begin=ht.longs===String?"0":0;ft.Long?(mt=new ft.Long(0,0,!1),pt.end=ht.longs===String?mt.toString():ht.longs===Number?mt.toNumber():mt):pt.end=ht.longs===String?"0":0}return ct.begin!=null&&ct.hasOwnProperty("begin")&&(typeof ct.begin=="number"?pt.begin=ht.longs===String?String(ct.begin):ct.begin:pt.begin=ht.longs===String?ft.Long.prototype.toString.call(ct.begin):ht.longs===Number?new ft.LongBits(ct.begin.low>>>0,ct.begin.high>>>0).toNumber():ct.begin),ct.end!=null&&ct.hasOwnProperty("end")&&(typeof ct.end=="number"?pt.end=ht.longs===String?String(ct.end):ct.end:pt.end=ht.longs===String?ft.Long.prototype.toString.call(ct.end):ht.longs===Number?new ft.LongBits(ct.end.low>>>0,ct.end.high>>>0).toNumber():ct.end),pt},at.prototype.toJSON=function(){return this.constructor.toObject(this,ot.util.toJSONOptions)},at}(),lt.DataLocation=function(){var at={},ct=Object.create(at);return ct[at[0]="DEFAULT"]=0,ct[at[1]="EXTERNAL"]=1,ct}(),lt}(),it.TensorShapeProto=function(){function lt(at){if(this.dim=[],at)for(var ct=Object.keys(at),ht=0;ht<ct.length;++ht)at[ct[ht]]!=null&&(this[ct[ht]]=at[ct[ht]])}return lt.prototype.dim=ft.emptyArray,lt.create=function(at){return new lt(at)},lt.encode=function(at,ct){if(ct||(ct=ut.create()),at.dim!=null&&at.dim.length)for(var ht=0;ht<at.dim.length;++ht)dt.onnx.TensorShapeProto.Dimension.encode(at.dim[ht],ct.uint32(10).fork()).ldelim();return ct},lt.encodeDelimited=function(at,ct){return this.encode(at,ct).ldelim()},lt.decode=function(at,ct){at instanceof st||(at=st.create(at));for(var ht=ct===void 0?at.len:at.pos+ct,pt=new dt.onnx.TensorShapeProto;at.pos<ht;){var mt=at.uint32();mt>>>3==1?(pt.dim&&pt.dim.length||(pt.dim=[]),pt.dim.push(dt.onnx.TensorShapeProto.Dimension.decode(at,at.uint32()))):at.skipType(7&mt)}return pt},lt.decodeDelimited=function(at){return at instanceof st||(at=new st(at)),this.decode(at,at.uint32())},lt.verify=function(at){if(typeof at!="object"||at===null)return"object expected";if(at.dim!=null&&at.hasOwnProperty("dim")){if(!Array.isArray(at.dim))return"dim: array expected";for(var ct=0;ct<at.dim.length;++ct){var ht=dt.onnx.TensorShapeProto.Dimension.verify(at.dim[ct]);if(ht)return"dim."+ht}}return null},lt.fromObject=function(at){if(at instanceof dt.onnx.TensorShapeProto)return at;var ct=new dt.onnx.TensorShapeProto;if(at.dim){if(!Array.isArray(at.dim))throw TypeError(".onnx.TensorShapeProto.dim: array expected");ct.dim=[];for(var ht=0;ht<at.dim.length;++ht){if(typeof at.dim[ht]!="object")throw TypeError(".onnx.TensorShapeProto.dim: object expected");ct.dim[ht]=dt.onnx.TensorShapeProto.Dimension.fromObject(at.dim[ht])}}return ct},lt.toObject=function(at,ct){ct||(ct={});var ht={};if((ct.arrays||ct.defaults)&&(ht.dim=[]),at.dim&&at.dim.length){ht.dim=[];for(var pt=0;pt<at.dim.length;++pt)ht.dim[pt]=dt.onnx.TensorShapeProto.Dimension.toObject(at.dim[pt],ct)}return ht},lt.prototype.toJSON=function(){return this.constructor.toObject(this,ot.util.toJSONOptions)},lt.Dimension=function(){function at(ht){if(ht)for(var pt=Object.keys(ht),mt=0;mt<pt.length;++mt)ht[pt[mt]]!=null&&(this[pt[mt]]=ht[pt[mt]])}var ct;return at.prototype.dimValue=ft.Long?ft.Long.fromBits(0,0,!1):0,at.prototype.dimParam="",at.prototype.denotation="",Object.defineProperty(at.prototype,"value",{get:ft.oneOfGetter(ct=["dimValue","dimParam"]),set:ft.oneOfSetter(ct)}),at.create=function(ht){return new at(ht)},at.encode=function(ht,pt){return pt||(pt=ut.create()),ht.dimValue!=null&&ht.hasOwnProperty("dimValue")&&pt.uint32(8).int64(ht.dimValue),ht.dimParam!=null&&ht.hasOwnProperty("dimParam")&&pt.uint32(18).string(ht.dimParam),ht.denotation!=null&&ht.hasOwnProperty("denotation")&&pt.uint32(26).string(ht.denotation),pt},at.encodeDelimited=function(ht,pt){return this.encode(ht,pt).ldelim()},at.decode=function(ht,pt){ht instanceof st||(ht=st.create(ht));for(var mt=pt===void 0?ht.len:ht.pos+pt,gt=new dt.onnx.TensorShapeProto.Dimension;ht.pos<mt;){var yt=ht.uint32();switch(yt>>>3){case 1:gt.dimValue=ht.int64();break;case 2:gt.dimParam=ht.string();break;case 3:gt.denotation=ht.string();break;default:ht.skipType(7&yt)}}return gt},at.decodeDelimited=function(ht){return ht instanceof st||(ht=new st(ht)),this.decode(ht,ht.uint32())},at.verify=function(ht){if(typeof ht!="object"||ht===null)return"object expected";var pt={};if(ht.dimValue!=null&&ht.hasOwnProperty("dimValue")&&(pt.value=1,!(ft.isInteger(ht.dimValue)||ht.dimValue&&ft.isInteger(ht.dimValue.low)&&ft.isInteger(ht.dimValue.high))))return"dimValue: integer|Long expected";if(ht.dimParam!=null&&ht.hasOwnProperty("dimParam")){if(pt.value===1)return"value: multiple values";if(pt.value=1,!ft.isString(ht.dimParam))return"dimParam: string expected"}return ht.denotation!=null&&ht.hasOwnProperty("denotation")&&!ft.isString(ht.denotation)?"denotation: string expected":null},at.fromObject=function(ht){if(ht instanceof dt.onnx.TensorShapeProto.Dimension)return ht;var pt=new dt.onnx.TensorShapeProto.Dimension;return ht.dimValue!=null&&(ft.Long?(pt.dimValue=ft.Long.fromValue(ht.dimValue)).unsigned=!1:typeof ht.dimValue=="string"?pt.dimValue=parseInt(ht.dimValue,10):typeof ht.dimValue=="number"?pt.dimValue=ht.dimValue:typeof ht.dimValue=="object"&&(pt.dimValue=new ft.LongBits(ht.dimValue.low>>>0,ht.dimValue.high>>>0).toNumber())),ht.dimParam!=null&&(pt.dimParam=String(ht.dimParam)),ht.denotation!=null&&(pt.denotation=String(ht.denotation)),pt},at.toObject=function(ht,pt){pt||(pt={});var mt={};return pt.defaults&&(mt.denotation=""),ht.dimValue!=null&&ht.hasOwnProperty("dimValue")&&(typeof ht.dimValue=="number"?mt.dimValue=pt.longs===String?String(ht.dimValue):ht.dimValue:mt.dimValue=pt.longs===String?ft.Long.prototype.toString.call(ht.dimValue):pt.longs===Number?new ft.LongBits(ht.dimValue.low>>>0,ht.dimValue.high>>>0).toNumber():ht.dimValue,pt.oneofs&&(mt.value="dimValue")),ht.dimParam!=null&&ht.hasOwnProperty("dimParam")&&(mt.dimParam=ht.dimParam,pt.oneofs&&(mt.value="dimParam")),ht.denotation!=null&&ht.hasOwnProperty("denotation")&&(mt.denotation=ht.denotation),mt},at.prototype.toJSON=function(){return this.constructor.toObject(this,ot.util.toJSONOptions)},at}(),lt}(),it.TypeProto=function(){function lt(ct){if(ct)for(var ht=Object.keys(ct),pt=0;pt<ht.length;++pt)ct[ht[pt]]!=null&&(this[ht[pt]]=ct[ht[pt]])}var at;return lt.prototype.tensorType=null,lt.prototype.denotation="",Object.defineProperty(lt.prototype,"value",{get:ft.oneOfGetter(at=["tensorType"]),set:ft.oneOfSetter(at)}),lt.create=function(ct){return new lt(ct)},lt.encode=function(ct,ht){return ht||(ht=ut.create()),ct.tensorType!=null&&ct.hasOwnProperty("tensorType")&&dt.onnx.TypeProto.Tensor.encode(ct.tensorType,ht.uint32(10).fork()).ldelim(),ct.denotation!=null&&ct.hasOwnProperty("denotation")&&ht.uint32(50).string(ct.denotation),ht},lt.encodeDelimited=function(ct,ht){return this.encode(ct,ht).ldelim()},lt.decode=function(ct,ht){ct instanceof st||(ct=st.create(ct));for(var pt=ht===void 0?ct.len:ct.pos+ht,mt=new dt.onnx.TypeProto;ct.pos<pt;){var gt=ct.uint32();switch(gt>>>3){case 1:mt.tensorType=dt.onnx.TypeProto.Tensor.decode(ct,ct.uint32());break;case 6:mt.denotation=ct.string();break;default:ct.skipType(7&gt)}}return mt},lt.decodeDelimited=function(ct){return ct instanceof st||(ct=new st(ct)),this.decode(ct,ct.uint32())},lt.verify=function(ct){if(typeof ct!="object"||ct===null)return"object expected";if(ct.tensorType!=null&&ct.hasOwnProperty("tensorType")){var ht=dt.onnx.TypeProto.Tensor.verify(ct.tensorType);if(ht)return"tensorType."+ht}return ct.denotation!=null&&ct.hasOwnProperty("denotation")&&!ft.isString(ct.denotation)?"denotation: string expected":null},lt.fromObject=function(ct){if(ct instanceof dt.onnx.TypeProto)return ct;var ht=new dt.onnx.TypeProto;if(ct.tensorType!=null){if(typeof ct.tensorType!="object")throw TypeError(".onnx.TypeProto.tensorType: object expected");ht.tensorType=dt.onnx.TypeProto.Tensor.fromObject(ct.tensorType)}return ct.denotation!=null&&(ht.denotation=String(ct.denotation)),ht},lt.toObject=function(ct,ht){ht||(ht={});var pt={};return ht.defaults&&(pt.denotation=""),ct.tensorType!=null&&ct.hasOwnProperty("tensorType")&&(pt.tensorType=dt.onnx.TypeProto.Tensor.toObject(ct.tensorType,ht),ht.oneofs&&(pt.value="tensorType")),ct.denotation!=null&&ct.hasOwnProperty("denotation")&&(pt.denotation=ct.denotation),pt},lt.prototype.toJSON=function(){return this.constructor.toObject(this,ot.util.toJSONOptions)},lt.Tensor=function(){function ct(ht){if(ht)for(var pt=Object.keys(ht),mt=0;mt<pt.length;++mt)ht[pt[mt]]!=null&&(this[pt[mt]]=ht[pt[mt]])}return ct.prototype.elemType=0,ct.prototype.shape=null,ct.create=function(ht){return new ct(ht)},ct.encode=function(ht,pt){return pt||(pt=ut.create()),ht.elemType!=null&&ht.hasOwnProperty("elemType")&&pt.uint32(8).int32(ht.elemType),ht.shape!=null&&ht.hasOwnProperty("shape")&&dt.onnx.TensorShapeProto.encode(ht.shape,pt.uint32(18).fork()).ldelim(),pt},ct.encodeDelimited=function(ht,pt){return this.encode(ht,pt).ldelim()},ct.decode=function(ht,pt){ht instanceof st||(ht=st.create(ht));for(var mt=pt===void 0?ht.len:ht.pos+pt,gt=new dt.onnx.TypeProto.Tensor;ht.pos<mt;){var yt=ht.uint32();switch(yt>>>3){case 1:gt.elemType=ht.int32();break;case 2:gt.shape=dt.onnx.TensorShapeProto.decode(ht,ht.uint32());break;default:ht.skipType(7&yt)}}return gt},ct.decodeDelimited=function(ht){return ht instanceof st||(ht=new st(ht)),this.decode(ht,ht.uint32())},ct.verify=function(ht){if(typeof ht!="object"||ht===null)return"object expected";if(ht.elemType!=null&&ht.hasOwnProperty("elemType")&&!ft.isInteger(ht.elemType))return"elemType: integer expected";if(ht.shape!=null&&ht.hasOwnProperty("shape")){var pt=dt.onnx.TensorShapeProto.verify(ht.shape);if(pt)return"shape."+pt}return null},ct.fromObject=function(ht){if(ht instanceof dt.onnx.TypeProto.Tensor)return ht;var pt=new dt.onnx.TypeProto.Tensor;if(ht.elemType!=null&&(pt.elemType=0|ht.elemType),ht.shape!=null){if(typeof ht.shape!="object")throw TypeError(".onnx.TypeProto.Tensor.shape: object expected");pt.shape=dt.onnx.TensorShapeProto.fromObject(ht.shape)}return pt},ct.toObject=function(ht,pt){pt||(pt={});var mt={};return pt.defaults&&(mt.elemType=0,mt.shape=null),ht.elemType!=null&&ht.hasOwnProperty("elemType")&&(mt.elemType=ht.elemType),ht.shape!=null&&ht.hasOwnProperty("shape")&&(mt.shape=dt.onnx.TensorShapeProto.toObject(ht.shape,pt)),mt},ct.prototype.toJSON=function(){return this.constructor.toObject(this,ot.util.toJSONOptions)},ct}(),lt}(),it.OperatorSetIdProto=function(){function lt(at){if(at)for(var ct=Object.keys(at),ht=0;ht<ct.length;++ht)at[ct[ht]]!=null&&(this[ct[ht]]=at[ct[ht]])}return lt.prototype.domain="",lt.prototype.version=ft.Long?ft.Long.fromBits(0,0,!1):0,lt.create=function(at){return new lt(at)},lt.encode=function(at,ct){return ct||(ct=ut.create()),at.domain!=null&&at.hasOwnProperty("domain")&&ct.uint32(10).string(at.domain),at.version!=null&&at.hasOwnProperty("version")&&ct.uint32(16).int64(at.version),ct},lt.encodeDelimited=function(at,ct){return this.encode(at,ct).ldelim()},lt.decode=function(at,ct){at instanceof st||(at=st.create(at));for(var ht=ct===void 0?at.len:at.pos+ct,pt=new dt.onnx.OperatorSetIdProto;at.pos<ht;){var mt=at.uint32();switch(mt>>>3){case 1:pt.domain=at.string();break;case 2:pt.version=at.int64();break;default:at.skipType(7&mt)}}return pt},lt.decodeDelimited=function(at){return at instanceof st||(at=new st(at)),this.decode(at,at.uint32())},lt.verify=function(at){return typeof at!="object"||at===null?"object expected":at.domain!=null&&at.hasOwnProperty("domain")&&!ft.isString(at.domain)?"domain: string expected":at.version!=null&&at.hasOwnProperty("version")&&!(ft.isInteger(at.version)||at.version&&ft.isInteger(at.version.low)&&ft.isInteger(at.version.high))?"version: integer|Long expected":null},lt.fromObject=function(at){if(at instanceof dt.onnx.OperatorSetIdProto)return at;var ct=new dt.onnx.OperatorSetIdProto;return at.domain!=null&&(ct.domain=String(at.domain)),at.version!=null&&(ft.Long?(ct.version=ft.Long.fromValue(at.version)).unsigned=!1:typeof at.version=="string"?ct.version=parseInt(at.version,10):typeof at.version=="number"?ct.version=at.version:typeof at.version=="object"&&(ct.version=new ft.LongBits(at.version.low>>>0,at.version.high>>>0).toNumber())),ct},lt.toObject=function(at,ct){ct||(ct={});var ht={};if(ct.defaults)if(ht.domain="",ft.Long){var pt=new ft.Long(0,0,!1);ht.version=ct.longs===String?pt.toString():ct.longs===Number?pt.toNumber():pt}else ht.version=ct.longs===String?"0":0;return at.domain!=null&&at.hasOwnProperty("domain")&&(ht.domain=at.domain),at.version!=null&&at.hasOwnProperty("version")&&(typeof at.version=="number"?ht.version=ct.longs===String?String(at.version):at.version:ht.version=ct.longs===String?ft.Long.prototype.toString.call(at.version):ct.longs===Number?new ft.LongBits(at.version.low>>>0,at.version.high>>>0).toNumber():at.version),ht},lt.prototype.toJSON=function(){return this.constructor.toObject(this,ot.util.toJSONOptions)},lt}(),it),_e.exports=dt},2100:(_e,et,tt)=>{_e.exports=tt(9482)},9482:(_e,et,tt)=>{var nt=et;function rt(){nt.util._configure(),nt.Writer._configure(nt.BufferWriter),nt.Reader._configure(nt.BufferReader)}nt.build="minimal",nt.Writer=tt(1173),nt.BufferWriter=tt(3155),nt.Reader=tt(1408),nt.BufferReader=tt(593),nt.util=tt(9693),nt.rpc=tt(5994),nt.roots=tt(5054),nt.configure=rt,rt()},1408:(_e,et,tt)=>{_e.exports=ut;var nt,rt=tt(9693),it=rt.LongBits,ot=rt.utf8;function st(pt,mt){return RangeError("index out of range: "+pt.pos+" + "+(mt||1)+" > "+pt.len)}function ut(pt){this.buf=pt,this.pos=0,this.len=pt.length}var ft,dt=typeof Uint8Array<"u"?function(pt){if(pt instanceof Uint8Array||Array.isArray(pt))return new ut(pt);throw Error("illegal buffer")}:function(pt){if(Array.isArray(pt))return new ut(pt);throw Error("illegal buffer")},lt=function(){return rt.Buffer?function(pt){return(ut.create=function(mt){return rt.Buffer.isBuffer(mt)?new nt(mt):dt(mt)})(pt)}:dt};function at(){var pt=new it(0,0),mt=0;if(!(this.len-this.pos>4)){for(;mt<3;++mt){if(this.pos>=this.len)throw st(this);if(pt.lo=(pt.lo|(127&this.buf[this.pos])<<7*mt)>>>0,this.buf[this.pos++]<128)return pt}return pt.lo=(pt.lo|(127&this.buf[this.pos++])<<7*mt)>>>0,pt}for(;mt<4;++mt)if(pt.lo=(pt.lo|(127&this.buf[this.pos])<<7*mt)>>>0,this.buf[this.pos++]<128)return pt;if(pt.lo=(pt.lo|(127&this.buf[this.pos])<<28)>>>0,pt.hi=(pt.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return pt;if(mt=0,this.len-this.pos>4){for(;mt<5;++mt)if(pt.hi=(pt.hi|(127&this.buf[this.pos])<<7*mt+3)>>>0,this.buf[this.pos++]<128)return pt}else for(;mt<5;++mt){if(this.pos>=this.len)throw st(this);if(pt.hi=(pt.hi|(127&this.buf[this.pos])<<7*mt+3)>>>0,this.buf[this.pos++]<128)return pt}throw Error("invalid varint encoding")}function ct(pt,mt){return(pt[mt-4]|pt[mt-3]<<8|pt[mt-2]<<16|pt[mt-1]<<24)>>>0}function ht(){if(this.pos+8>this.len)throw st(this,8);return new it(ct(this.buf,this.pos+=4),ct(this.buf,this.pos+=4))}ut.create=lt(),ut.prototype._slice=rt.Array.prototype.subarray||rt.Array.prototype.slice,ut.prototype.uint32=(ft=4294967295,function(){if(ft=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128||(ft=(ft|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)||(ft=(ft|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)||(ft=(ft|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)||(ft=(ft|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128))return ft;if((this.pos+=5)>this.len)throw this.pos=this.len,st(this,10);return ft}),ut.prototype.int32=function(){return 0|this.uint32()},ut.prototype.sint32=function(){var pt=this.uint32();return pt>>>1^-(1&pt)|0},ut.prototype.bool=function(){return this.uint32()!==0},ut.prototype.fixed32=function(){if(this.pos+4>this.len)throw st(this,4);return ct(this.buf,this.pos+=4)},ut.prototype.sfixed32=function(){if(this.pos+4>this.len)throw st(this,4);return 0|ct(this.buf,this.pos+=4)},ut.prototype.float=function(){if(this.pos+4>this.len)throw st(this,4);var pt=rt.float.readFloatLE(this.buf,this.pos);return this.pos+=4,pt},ut.prototype.double=function(){if(this.pos+8>this.len)throw st(this,4);var pt=rt.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,pt},ut.prototype.bytes=function(){var pt=this.uint32(),mt=this.pos,gt=this.pos+pt;if(gt>this.len)throw st(this,pt);return this.pos+=pt,Array.isArray(this.buf)?this.buf.slice(mt,gt):mt===gt?new this.buf.constructor(0):this._slice.call(this.buf,mt,gt)},ut.prototype.string=function(){var pt=this.bytes();return ot.read(pt,0,pt.length)},ut.prototype.skip=function(pt){if(typeof pt=="number"){if(this.pos+pt>this.len)throw st(this,pt);this.pos+=pt}else do if(this.pos>=this.len)throw st(this);while(128&this.buf[this.pos++]);return this},ut.prototype.skipType=function(pt){switch(pt){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(pt=7&this.uint32())!=4;)this.skipType(pt);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+pt+" at offset "+this.pos)}return this},ut._configure=function(pt){nt=pt,ut.create=lt(),nt._configure();var mt=rt.Long?"toLong":"toNumber";rt.merge(ut.prototype,{int64:function(){return at.call(this)[mt](!1)},uint64:function(){return at.call(this)[mt](!0)},sint64:function(){return at.call(this).zzDecode()[mt](!1)},fixed64:function(){return ht.call(this)[mt](!0)},sfixed64:function(){return ht.call(this)[mt](!1)}})}},593:(_e,et,tt)=>{_e.exports=it;var nt=tt(1408);(it.prototype=Object.create(nt.prototype)).constructor=it;var rt=tt(9693);function it(ot){nt.call(this,ot)}it._configure=function(){rt.Buffer&&(it.prototype._slice=rt.Buffer.prototype.slice)},it.prototype.string=function(){var ot=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+ot,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+ot,this.len))},it._configure()},5054:_e=>{_e.exports={}},5994:(_e,et,tt)=>{et.Service=tt(7948)},7948:(_e,et,tt)=>{_e.exports=rt;var nt=tt(9693);function rt(it,ot,st){if(typeof it!="function")throw TypeError("rpcImpl must be a function");nt.EventEmitter.call(this),this.rpcImpl=it,this.requestDelimited=!!ot,this.responseDelimited=!!st}(rt.prototype=Object.create(nt.EventEmitter.prototype)).constructor=rt,rt.prototype.rpcCall=function it(ot,st,ut,ft,dt){if(!ft)throw TypeError("request must be specified");var lt=this;if(!dt)return nt.asPromise(it,lt,ot,st,ut,ft);if(lt.rpcImpl)try{return lt.rpcImpl(ot,st[lt.requestDelimited?"encodeDelimited":"encode"](ft).finish(),function(at,ct){if(at)return lt.emit("error",at,ot),dt(at);if(ct!==null){if(!(ct instanceof ut))try{ct=ut[lt.responseDelimited?"decodeDelimited":"decode"](ct)}catch(ht){return lt.emit("error",ht,ot),dt(ht)}return lt.emit("data",ct,ot),dt(null,ct)}lt.end(!0)})}catch(at){return lt.emit("error",at,ot),void setTimeout(function(){dt(at)},0)}else setTimeout(function(){dt(Error("already ended"))},0)},rt.prototype.end=function(it){return this.rpcImpl&&(it||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},1945:(_e,et,tt)=>{_e.exports=rt;var nt=tt(9693);function rt(ut,ft){this.lo=ut>>>0,this.hi=ft>>>0}var it=rt.zero=new rt(0,0);it.toNumber=function(){return 0},it.zzEncode=it.zzDecode=function(){return this},it.length=function(){return 1};var ot=rt.zeroHash="\0\0\0\0\0\0\0\0";rt.fromNumber=function(ut){if(ut===0)return it;var ft=ut<0;ft&&(ut=-ut);var dt=ut>>>0,lt=(ut-dt)/4294967296>>>0;return ft&&(lt=~lt>>>0,dt=~dt>>>0,++dt>4294967295&&(dt=0,++lt>4294967295&&(lt=0))),new rt(dt,lt)},rt.from=function(ut){if(typeof ut=="number")return rt.fromNumber(ut);if(nt.isString(ut)){if(!nt.Long)return rt.fromNumber(parseInt(ut,10));ut=nt.Long.fromString(ut)}return ut.low||ut.high?new rt(ut.low>>>0,ut.high>>>0):it},rt.prototype.toNumber=function(ut){if(!ut&&this.hi>>>31){var ft=1+~this.lo>>>0,dt=~this.hi>>>0;return ft||(dt=dt+1>>>0),-(ft+4294967296*dt)}return this.lo+4294967296*this.hi},rt.prototype.toLong=function(ut){return nt.Long?new nt.Long(0|this.lo,0|this.hi,!!ut):{low:0|this.lo,high:0|this.hi,unsigned:!!ut}};var st=String.prototype.charCodeAt;rt.fromHash=function(ut){return ut===ot?it:new rt((st.call(ut,0)|st.call(ut,1)<<8|st.call(ut,2)<<16|st.call(ut,3)<<24)>>>0,(st.call(ut,4)|st.call(ut,5)<<8|st.call(ut,6)<<16|st.call(ut,7)<<24)>>>0)},rt.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},rt.prototype.zzEncode=function(){var ut=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^ut)>>>0,this.lo=(this.lo<<1^ut)>>>0,this},rt.prototype.zzDecode=function(){var ut=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^ut)>>>0,this.hi=(this.hi>>>1^ut)>>>0,this},rt.prototype.length=function(){var ut=this.lo,ft=(this.lo>>>28|this.hi<<4)>>>0,dt=this.hi>>>24;return dt===0?ft===0?ut<16384?ut<128?1:2:ut<2097152?3:4:ft<16384?ft<128?5:6:ft<2097152?7:8:dt<128?9:10}},9693:function(_e,et,tt){var nt=et;function rt(ot,st,ut){for(var ft=Object.keys(st),dt=0;dt<ft.length;++dt)ot[ft[dt]]!==void 0&&ut||(ot[ft[dt]]=st[ft[dt]]);return ot}function it(ot){function st(ut,ft){if(!(this instanceof st))return new st(ut,ft);Object.defineProperty(this,"message",{get:function(){return ut}}),Error.captureStackTrace?Error.captureStackTrace(this,st):Object.defineProperty(this,"stack",{value:new Error().stack||""}),ft&&rt(this,ft)}return(st.prototype=Object.create(Error.prototype)).constructor=st,Object.defineProperty(st.prototype,"name",{get:function(){return ot}}),st.prototype.toString=function(){return this.name+": "+this.message},st}nt.asPromise=tt(4537),nt.base64=tt(7419),nt.EventEmitter=tt(9211),nt.float=tt(945),nt.inquire=tt(7199),nt.utf8=tt(4997),nt.pool=tt(6662),nt.LongBits=tt(1945),nt.isNode=!!(tt.g!==void 0&&tt.g&&tt.g.process&&tt.g.process.versions&&tt.g.process.versions.node),nt.global=nt.isNode&&tt.g||typeof window<"u"&&window||typeof self<"u"&&self||this,nt.emptyArray=Object.freeze?Object.freeze([]):[],nt.emptyObject=Object.freeze?Object.freeze({}):{},nt.isInteger=Number.isInteger||function(ot){return typeof ot=="number"&&isFinite(ot)&&Math.floor(ot)===ot},nt.isString=function(ot){return typeof ot=="string"||ot instanceof String},nt.isObject=function(ot){return ot&&typeof ot=="object"},nt.isset=nt.isSet=function(ot,st){var ut=ot[st];return!(ut==null||!ot.hasOwnProperty(st))&&(typeof ut!="object"||(Array.isArray(ut)?ut.length:Object.keys(ut).length)>0)},nt.Buffer=function(){try{var ot=nt.inquire("buffer").Buffer;return ot.prototype.utf8Write?ot:null}catch{return null}}(),nt._Buffer_from=null,nt._Buffer_allocUnsafe=null,nt.newBuffer=function(ot){return typeof ot=="number"?nt.Buffer?nt._Buffer_allocUnsafe(ot):new nt.Array(ot):nt.Buffer?nt._Buffer_from(ot):typeof Uint8Array>"u"?ot:new Uint8Array(ot)},nt.Array=typeof Uint8Array<"u"?Uint8Array:Array,nt.Long=nt.global.dcodeIO&&nt.global.dcodeIO.Long||nt.global.Long||nt.inquire("long"),nt.key2Re=/^true|false|0|1$/,nt.key32Re=/^-?(?:0|[1-9][0-9]*)$/,nt.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,nt.longToHash=function(ot){return ot?nt.LongBits.from(ot).toHash():nt.LongBits.zeroHash},nt.longFromHash=function(ot,st){var ut=nt.LongBits.fromHash(ot);return nt.Long?nt.Long.fromBits(ut.lo,ut.hi,st):ut.toNumber(!!st)},nt.merge=rt,nt.lcFirst=function(ot){return ot.charAt(0).toLowerCase()+ot.substring(1)},nt.newError=it,nt.ProtocolError=it("ProtocolError"),nt.oneOfGetter=function(ot){for(var st={},ut=0;ut<ot.length;++ut)st[ot[ut]]=1;return function(){for(var ft=Object.keys(this),dt=ft.length-1;dt>-1;--dt)if(st[ft[dt]]===1&&this[ft[dt]]!==void 0&&this[ft[dt]]!==null)return ft[dt]}},nt.oneOfSetter=function(ot){return function(st){for(var ut=0;ut<ot.length;++ut)ot[ut]!==st&&delete this[ot[ut]]}},nt.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},nt._configure=function(){var ot=nt.Buffer;ot?(nt._Buffer_from=ot.from!==Uint8Array.from&&ot.from||function(st,ut){return new ot(st,ut)},nt._Buffer_allocUnsafe=ot.allocUnsafe||function(st){return new ot(st)}):nt._Buffer_from=nt._Buffer_allocUnsafe=null}},1173:(_e,et,tt)=>{_e.exports=lt;var nt,rt=tt(9693),it=rt.LongBits,ot=rt.base64,st=rt.utf8;function ut(yt,bt,xt){this.fn=yt,this.len=bt,this.next=void 0,this.val=xt}function ft(){}function dt(yt){this.head=yt.head,this.tail=yt.tail,this.len=yt.len,this.next=yt.states}function lt(){this.len=0,this.head=new ut(ft,0,0),this.tail=this.head,this.states=null}var at=function(){return rt.Buffer?function(){return(lt.create=function(){return new nt})()}:function(){return new lt}};function ct(yt,bt,xt){bt[xt]=255&yt}function ht(yt,bt){this.len=yt,this.next=void 0,this.val=bt}function pt(yt,bt,xt){for(;yt.hi;)bt[xt++]=127&yt.lo|128,yt.lo=(yt.lo>>>7|yt.hi<<25)>>>0,yt.hi>>>=7;for(;yt.lo>127;)bt[xt++]=127&yt.lo|128,yt.lo=yt.lo>>>7;bt[xt++]=yt.lo}function mt(yt,bt,xt){bt[xt]=255&yt,bt[xt+1]=yt>>>8&255,bt[xt+2]=yt>>>16&255,bt[xt+3]=yt>>>24}lt.create=at(),lt.alloc=function(yt){return new rt.Array(yt)},rt.Array!==Array&&(lt.alloc=rt.pool(lt.alloc,rt.Array.prototype.subarray)),lt.prototype._push=function(yt,bt,xt){return this.tail=this.tail.next=new ut(yt,bt,xt),this.len+=bt,this},ht.prototype=Object.create(ut.prototype),ht.prototype.fn=function(yt,bt,xt){for(;yt>127;)bt[xt++]=127&yt|128,yt>>>=7;bt[xt]=yt},lt.prototype.uint32=function(yt){return this.len+=(this.tail=this.tail.next=new ht((yt>>>=0)<128?1:yt<16384?2:yt<2097152?3:yt<268435456?4:5,yt)).len,this},lt.prototype.int32=function(yt){return yt<0?this._push(pt,10,it.fromNumber(yt)):this.uint32(yt)},lt.prototype.sint32=function(yt){return this.uint32((yt<<1^yt>>31)>>>0)},lt.prototype.uint64=function(yt){var bt=it.from(yt);return this._push(pt,bt.length(),bt)},lt.prototype.int64=lt.prototype.uint64,lt.prototype.sint64=function(yt){var bt=it.from(yt).zzEncode();return this._push(pt,bt.length(),bt)},lt.prototype.bool=function(yt){return this._push(ct,1,yt?1:0)},lt.prototype.fixed32=function(yt){return this._push(mt,4,yt>>>0)},lt.prototype.sfixed32=lt.prototype.fixed32,lt.prototype.fixed64=function(yt){var bt=it.from(yt);return this._push(mt,4,bt.lo)._push(mt,4,bt.hi)},lt.prototype.sfixed64=lt.prototype.fixed64,lt.prototype.float=function(yt){return this._push(rt.float.writeFloatLE,4,yt)},lt.prototype.double=function(yt){return this._push(rt.float.writeDoubleLE,8,yt)};var gt=rt.Array.prototype.set?function(yt,bt,xt){bt.set(yt,xt)}:function(yt,bt,xt){for(var vt=0;vt<yt.length;++vt)bt[xt+vt]=yt[vt]};lt.prototype.bytes=function(yt){var bt=yt.length>>>0;if(!bt)return this._push(ct,1,0);if(rt.isString(yt)){var xt=lt.alloc(bt=ot.length(yt));ot.decode(yt,xt,0),yt=xt}return this.uint32(bt)._push(gt,bt,yt)},lt.prototype.string=function(yt){var bt=st.length(yt);return bt?this.uint32(bt)._push(st.write,bt,yt):this._push(ct,1,0)},lt.prototype.fork=function(){return this.states=new dt(this),this.head=this.tail=new ut(ft,0,0),this.len=0,this},lt.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new ut(ft,0,0),this.len=0),this},lt.prototype.ldelim=function(){var yt=this.head,bt=this.tail,xt=this.len;return this.reset().uint32(xt),xt&&(this.tail.next=yt.next,this.tail=bt,this.len+=xt),this},lt.prototype.finish=function(){for(var yt=this.head.next,bt=this.constructor.alloc(this.len),xt=0;yt;)yt.fn(yt.val,bt,xt),xt+=yt.len,yt=yt.next;return bt},lt._configure=function(yt){nt=yt,lt.create=at(),nt._configure()}},3155:(_e,et,tt)=>{_e.exports=it;var nt=tt(1173);(it.prototype=Object.create(nt.prototype)).constructor=it;var rt=tt(9693);function it(){nt.call(this)}function ot(st,ut,ft){st.length<40?rt.utf8.write(st,ut,ft):ut.utf8Write?ut.utf8Write(st,ft):ut.write(st,ft)}it._configure=function(){it.alloc=rt._Buffer_allocUnsafe,it.writeBytesBuffer=rt.Buffer&&rt.Buffer.prototype instanceof Uint8Array&&rt.Buffer.prototype.set.name==="set"?function(st,ut,ft){ut.set(st,ft)}:function(st,ut,ft){if(st.copy)st.copy(ut,ft,0,st.length);else for(var dt=0;dt<st.length;)ut[ft++]=st[dt++]}},it.prototype.bytes=function(st){rt.isString(st)&&(st=rt._Buffer_from(st,"base64"));var ut=st.length>>>0;return this.uint32(ut),ut&&this._push(it.writeBytesBuffer,ut,st),this},it.prototype.string=function(st){var ut=rt.Buffer.byteLength(st);return this.uint32(ut),ut&&this._push(ot,ut,st),this},it._configure()},4154:_e=>{_e.exports=`"use strict";var e={},t="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node;if(t){var r=require("worker_threads"),a=r.parentPort;a.on("message",(e=>onmessage({data:e})));var o=require("fs");Object.assign(global,{self:global,require:require,Module:e,location:{href:__filename},Worker:r.Worker,importScripts:function(e){(0,eval)(o.readFileSync(e,"utf8"))},postMessage:function(e){a.postMessage(e)},performance:global.performance||{now:function(){return Date.now()}}})}var s=!1,n=[],i=function(){var e=Array.prototype.slice.call(arguments).join(" ");t?o.writeSync(2,e+"\\n"):console.error(e)};self.alert=function(){var t=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:t,threadId:e._pthread_self()})},e.instantiateWasm=(t,r)=>{var a=new WebAssembly.Instance(e.wasmModule,t);return r(a),e.wasmModule=null,a.exports},self.onunhandledrejection=e=>{throw e.reason??e},self.onmessage=t=>{try{if("load"===t.data.cmd){if(e.wasmModule=t.data.wasmModule,e.wasmMemory=t.data.wasmMemory,e.buffer=e.wasmMemory.buffer,e.ENVIRONMENT_IS_PTHREAD=!0,"string"==typeof t.data.urlOrBlob)importScripts(t.data.urlOrBlob);else{var r=URL.createObjectURL(t.data.urlOrBlob);importScripts(r),URL.revokeObjectURL(r)}ortWasmThreaded(e).then((function(t){e=t}))}else if("run"===t.data.cmd){e.__performance_now_clock_drift=performance.now()-t.data.time,e.__emscripten_thread_init(t.data.pthread_ptr,0,0,1),e.establishStackSpace(),e.PThread.receiveObjectTransfer(t.data),e.PThread.threadInitTLS(),s||(n.forEach((t=>{e.executeNotifiedProxyingQueue(t)})),n=[],s=!0);try{e.invokeEntryPoint(t.data.start_routine,t.data.arg)}catch(t){if("unwind"!=t){if(!(t instanceof e.ExitStatus))throw t;e.keepRuntimeAlive()||e.__emscripten_thread_exit(t.status)}}}else"cancel"===t.data.cmd?e._pthread_self()&&e.__emscripten_thread_exit(-1):"setimmediate"===t.data.target||("processProxyingQueue"===t.data.cmd?s?e.executeNotifiedProxyingQueue(t.data.queue):n.push(t.data.queue):(i("worker.js received unknown command "+t.data.cmd),i(t.data)))}catch(t){throw i("worker.js onmessage() captured an uncaught exception: "+t),t&&t.stack&&i(t.stack),e.__emscripten_thread_crashed&&e.__emscripten_thread_crashed(),t}};
`},7067:()=>{},1296:()=>{},760:()=>{},1384:()=>{},3993:()=>{},908:()=>{},6953:()=>{},9925:()=>{},2806:()=>{},6449:()=>{},2850:()=>{},5381:()=>{},5686:(_e,et,tt)=>{tt.r(et),tt.d(et,{flatbuffers:()=>nt});var nt={};nt.Offset,nt.Table,nt.SIZEOF_SHORT=2,nt.SIZEOF_INT=4,nt.FILE_IDENTIFIER_LENGTH=4,nt.SIZE_PREFIX_LENGTH=4,nt.Encoding={UTF8_BYTES:1,UTF16_STRING:2},nt.int32=new Int32Array(2),nt.float32=new Float32Array(nt.int32.buffer),nt.float64=new Float64Array(nt.int32.buffer),nt.isLittleEndian=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1,nt.Long=function(rt,it){this.low=0|rt,this.high=0|it},nt.Long.create=function(rt,it){return rt==0&&it==0?nt.Long.ZERO:new nt.Long(rt,it)},nt.Long.prototype.toFloat64=function(){return(this.low>>>0)+4294967296*this.high},nt.Long.prototype.equals=function(rt){return this.low==rt.low&&this.high==rt.high},nt.Long.ZERO=new nt.Long(0,0),nt.Builder=function(rt){if(rt)it=rt;else var it=1024;this.bb=nt.ByteBuffer.allocate(it),this.space=it,this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},nt.Builder.prototype.clear=function(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},nt.Builder.prototype.forceDefaults=function(rt){this.force_defaults=rt},nt.Builder.prototype.dataBuffer=function(){return this.bb},nt.Builder.prototype.asUint8Array=function(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())},nt.Builder.prototype.prep=function(rt,it){rt>this.minalign&&(this.minalign=rt);for(var ot=1+~(this.bb.capacity()-this.space+it)&rt-1;this.space<ot+rt+it;){var st=this.bb.capacity();this.bb=nt.Builder.growByteBuffer(this.bb),this.space+=this.bb.capacity()-st}this.pad(ot)},nt.Builder.prototype.pad=function(rt){for(var it=0;it<rt;it++)this.bb.writeInt8(--this.space,0)},nt.Builder.prototype.writeInt8=function(rt){this.bb.writeInt8(this.space-=1,rt)},nt.Builder.prototype.writeInt16=function(rt){this.bb.writeInt16(this.space-=2,rt)},nt.Builder.prototype.writeInt32=function(rt){this.bb.writeInt32(this.space-=4,rt)},nt.Builder.prototype.writeInt64=function(rt){this.bb.writeInt64(this.space-=8,rt)},nt.Builder.prototype.writeFloat32=function(rt){this.bb.writeFloat32(this.space-=4,rt)},nt.Builder.prototype.writeFloat64=function(rt){this.bb.writeFloat64(this.space-=8,rt)},nt.Builder.prototype.addInt8=function(rt){this.prep(1,0),this.writeInt8(rt)},nt.Builder.prototype.addInt16=function(rt){this.prep(2,0),this.writeInt16(rt)},nt.Builder.prototype.addInt32=function(rt){this.prep(4,0),this.writeInt32(rt)},nt.Builder.prototype.addInt64=function(rt){this.prep(8,0),this.writeInt64(rt)},nt.Builder.prototype.addFloat32=function(rt){this.prep(4,0),this.writeFloat32(rt)},nt.Builder.prototype.addFloat64=function(rt){this.prep(8,0),this.writeFloat64(rt)},nt.Builder.prototype.addFieldInt8=function(rt,it,ot){(this.force_defaults||it!=ot)&&(this.addInt8(it),this.slot(rt))},nt.Builder.prototype.addFieldInt16=function(rt,it,ot){(this.force_defaults||it!=ot)&&(this.addInt16(it),this.slot(rt))},nt.Builder.prototype.addFieldInt32=function(rt,it,ot){(this.force_defaults||it!=ot)&&(this.addInt32(it),this.slot(rt))},nt.Builder.prototype.addFieldInt64=function(rt,it,ot){!this.force_defaults&&it.equals(ot)||(this.addInt64(it),this.slot(rt))},nt.Builder.prototype.addFieldFloat32=function(rt,it,ot){(this.force_defaults||it!=ot)&&(this.addFloat32(it),this.slot(rt))},nt.Builder.prototype.addFieldFloat64=function(rt,it,ot){(this.force_defaults||it!=ot)&&(this.addFloat64(it),this.slot(rt))},nt.Builder.prototype.addFieldOffset=function(rt,it,ot){(this.force_defaults||it!=ot)&&(this.addOffset(it),this.slot(rt))},nt.Builder.prototype.addFieldStruct=function(rt,it,ot){it!=ot&&(this.nested(it),this.slot(rt))},nt.Builder.prototype.nested=function(rt){if(rt!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")},nt.Builder.prototype.notNested=function(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")},nt.Builder.prototype.slot=function(rt){this.vtable[rt]=this.offset()},nt.Builder.prototype.offset=function(){return this.bb.capacity()-this.space},nt.Builder.growByteBuffer=function(rt){var it=rt.capacity();if(3221225472&it)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");var ot=it<<1,st=nt.ByteBuffer.allocate(ot);return st.setPosition(ot-it),st.bytes().set(rt.bytes(),ot-it),st},nt.Builder.prototype.addOffset=function(rt){this.prep(nt.SIZEOF_INT,0),this.writeInt32(this.offset()-rt+nt.SIZEOF_INT)},nt.Builder.prototype.startObject=function(rt){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=rt;for(var it=0;it<rt;it++)this.vtable[it]=0;this.isNested=!0,this.object_start=this.offset()},nt.Builder.prototype.endObject=function(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);for(var rt=this.offset(),it=this.vtable_in_use-1;it>=0&&this.vtable[it]==0;it--);for(var ot=it+1;it>=0;it--)this.addInt16(this.vtable[it]!=0?rt-this.vtable[it]:0);this.addInt16(rt-this.object_start);var st=(ot+2)*nt.SIZEOF_SHORT;this.addInt16(st);var ut=0,ft=this.space;e:for(it=0;it<this.vtables.length;it++){var dt=this.bb.capacity()-this.vtables[it];if(st==this.bb.readInt16(dt)){for(var lt=nt.SIZEOF_SHORT;lt<st;lt+=nt.SIZEOF_SHORT)if(this.bb.readInt16(ft+lt)!=this.bb.readInt16(dt+lt))continue e;ut=this.vtables[it];break}}return ut?(this.space=this.bb.capacity()-rt,this.bb.writeInt32(this.space,ut-rt)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-rt,this.offset()-rt)),this.isNested=!1,rt},nt.Builder.prototype.finish=function(rt,it,ot){var st=ot?nt.SIZE_PREFIX_LENGTH:0;if(it){var ut=it;if(this.prep(this.minalign,nt.SIZEOF_INT+nt.FILE_IDENTIFIER_LENGTH+st),ut.length!=nt.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+nt.FILE_IDENTIFIER_LENGTH);for(var ft=nt.FILE_IDENTIFIER_LENGTH-1;ft>=0;ft--)this.writeInt8(ut.charCodeAt(ft))}this.prep(this.minalign,nt.SIZEOF_INT+st),this.addOffset(rt),st&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)},nt.Builder.prototype.finishSizePrefixed=function(rt,it){this.finish(rt,it,!0)},nt.Builder.prototype.requiredField=function(rt,it){var ot=this.bb.capacity()-rt,st=ot-this.bb.readInt32(ot);if(this.bb.readInt16(st+it)==0)throw new Error("FlatBuffers: field "+it+" must be set")},nt.Builder.prototype.startVector=function(rt,it,ot){this.notNested(),this.vector_num_elems=it,this.prep(nt.SIZEOF_INT,rt*it),this.prep(ot,rt*it)},nt.Builder.prototype.endVector=function(){return this.writeInt32(this.vector_num_elems),this.offset()},nt.Builder.prototype.createString=function(rt){if(rt instanceof Uint8Array)var it=rt;else{it=[];for(var ot=0;ot<rt.length;){var st,ut=rt.charCodeAt(ot++);(st=ut<55296||ut>=56320?ut:(ut<<10)+rt.charCodeAt(ot++)+-56613888)<128?it.push(st):(st<2048?it.push(st>>6&31|192):(st<65536?it.push(st>>12&15|224):it.push(st>>18&7|240,st>>12&63|128),it.push(st>>6&63|128)),it.push(63&st|128))}}this.addInt8(0),this.startVector(1,it.length,1),this.bb.setPosition(this.space-=it.length),ot=0;for(var ft=this.space,dt=this.bb.bytes();ot<it.length;ot++)dt[ft++]=it[ot];return this.endVector()},nt.Builder.prototype.createLong=function(rt,it){return nt.Long.create(rt,it)},nt.ByteBuffer=function(rt){this.bytes_=rt,this.position_=0},nt.ByteBuffer.allocate=function(rt){return new nt.ByteBuffer(new Uint8Array(rt))},nt.ByteBuffer.prototype.clear=function(){this.position_=0},nt.ByteBuffer.prototype.bytes=function(){return this.bytes_},nt.ByteBuffer.prototype.position=function(){return this.position_},nt.ByteBuffer.prototype.setPosition=function(rt){this.position_=rt},nt.ByteBuffer.prototype.capacity=function(){return this.bytes_.length},nt.ByteBuffer.prototype.readInt8=function(rt){return this.readUint8(rt)<<24>>24},nt.ByteBuffer.prototype.readUint8=function(rt){return this.bytes_[rt]},nt.ByteBuffer.prototype.readInt16=function(rt){return this.readUint16(rt)<<16>>16},nt.ByteBuffer.prototype.readUint16=function(rt){return this.bytes_[rt]|this.bytes_[rt+1]<<8},nt.ByteBuffer.prototype.readInt32=function(rt){return this.bytes_[rt]|this.bytes_[rt+1]<<8|this.bytes_[rt+2]<<16|this.bytes_[rt+3]<<24},nt.ByteBuffer.prototype.readUint32=function(rt){return this.readInt32(rt)>>>0},nt.ByteBuffer.prototype.readInt64=function(rt){return new nt.Long(this.readInt32(rt),this.readInt32(rt+4))},nt.ByteBuffer.prototype.readUint64=function(rt){return new nt.Long(this.readUint32(rt),this.readUint32(rt+4))},nt.ByteBuffer.prototype.readFloat32=function(rt){return nt.int32[0]=this.readInt32(rt),nt.float32[0]},nt.ByteBuffer.prototype.readFloat64=function(rt){return nt.int32[nt.isLittleEndian?0:1]=this.readInt32(rt),nt.int32[nt.isLittleEndian?1:0]=this.readInt32(rt+4),nt.float64[0]},nt.ByteBuffer.prototype.writeInt8=function(rt,it){this.bytes_[rt]=it},nt.ByteBuffer.prototype.writeUint8=function(rt,it){this.bytes_[rt]=it},nt.ByteBuffer.prototype.writeInt16=function(rt,it){this.bytes_[rt]=it,this.bytes_[rt+1]=it>>8},nt.ByteBuffer.prototype.writeUint16=function(rt,it){this.bytes_[rt]=it,this.bytes_[rt+1]=it>>8},nt.ByteBuffer.prototype.writeInt32=function(rt,it){this.bytes_[rt]=it,this.bytes_[rt+1]=it>>8,this.bytes_[rt+2]=it>>16,this.bytes_[rt+3]=it>>24},nt.ByteBuffer.prototype.writeUint32=function(rt,it){this.bytes_[rt]=it,this.bytes_[rt+1]=it>>8,this.bytes_[rt+2]=it>>16,this.bytes_[rt+3]=it>>24},nt.ByteBuffer.prototype.writeInt64=function(rt,it){this.writeInt32(rt,it.low),this.writeInt32(rt+4,it.high)},nt.ByteBuffer.prototype.writeUint64=function(rt,it){this.writeUint32(rt,it.low),this.writeUint32(rt+4,it.high)},nt.ByteBuffer.prototype.writeFloat32=function(rt,it){nt.float32[0]=it,this.writeInt32(rt,nt.int32[0])},nt.ByteBuffer.prototype.writeFloat64=function(rt,it){nt.float64[0]=it,this.writeInt32(rt,nt.int32[nt.isLittleEndian?0:1]),this.writeInt32(rt+4,nt.int32[nt.isLittleEndian?1:0])},nt.ByteBuffer.prototype.getBufferIdentifier=function(){if(this.bytes_.length<this.position_+nt.SIZEOF_INT+nt.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");for(var rt="",it=0;it<nt.FILE_IDENTIFIER_LENGTH;it++)rt+=String.fromCharCode(this.readInt8(this.position_+nt.SIZEOF_INT+it));return rt},nt.ByteBuffer.prototype.__offset=function(rt,it){var ot=rt-this.readInt32(rt);return it<this.readInt16(ot)?this.readInt16(ot+it):0},nt.ByteBuffer.prototype.__union=function(rt,it){return rt.bb_pos=it+this.readInt32(it),rt.bb=this,rt},nt.ByteBuffer.prototype.__string=function(rt,it){rt+=this.readInt32(rt);var ot=this.readInt32(rt),st="",ut=0;if(rt+=nt.SIZEOF_INT,it===nt.Encoding.UTF8_BYTES)return this.bytes_.subarray(rt,rt+ot);for(;ut<ot;){var ft,dt=this.readUint8(rt+ut++);if(dt<192)ft=dt;else{var lt=this.readUint8(rt+ut++);if(dt<224)ft=(31&dt)<<6|63&lt;else{var at=this.readUint8(rt+ut++);ft=dt<240?(15&dt)<<12|(63&lt)<<6|63&at:(7&dt)<<18|(63&lt)<<12|(63&at)<<6|63&this.readUint8(rt+ut++)}}ft<65536?st+=String.fromCharCode(ft):(ft-=65536,st+=String.fromCharCode(55296+(ft>>10),56320+(1023&ft)))}return st},nt.ByteBuffer.prototype.__indirect=function(rt){return rt+this.readInt32(rt)},nt.ByteBuffer.prototype.__vector=function(rt){return rt+this.readInt32(rt)+nt.SIZEOF_INT},nt.ByteBuffer.prototype.__vector_len=function(rt){return this.readInt32(rt+this.readInt32(rt))},nt.ByteBuffer.prototype.__has_identifier=function(rt){if(rt.length!=nt.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+nt.FILE_IDENTIFIER_LENGTH);for(var it=0;it<nt.FILE_IDENTIFIER_LENGTH;it++)if(rt.charCodeAt(it)!=this.readInt8(this.position_+nt.SIZEOF_INT+it))return!1;return!0},nt.ByteBuffer.prototype.createLong=function(rt,it){return nt.Long.create(rt,it)}}},__webpack_module_cache__={};function __webpack_require__(_e){var et=__webpack_module_cache__[_e];if(et!==void 0)return et.exports;var tt=__webpack_module_cache__[_e]={exports:{}};return __webpack_modules__[_e].call(tt.exports,tt,tt.exports,__webpack_require__),tt.exports}__webpack_require__.n=_e=>{var et=_e&&_e.__esModule?()=>_e.default:()=>_e;return __webpack_require__.d(et,{a:et}),et},__webpack_require__.d=(_e,et)=>{for(var tt in et)__webpack_require__.o(et,tt)&&!__webpack_require__.o(_e,tt)&&Object.defineProperty(_e,tt,{enumerable:!0,get:et[tt]})},__webpack_require__.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),__webpack_require__.o=(_e,et)=>Object.prototype.hasOwnProperty.call(_e,et),__webpack_require__.r=_e=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(_e,"__esModule",{value:!0})};var __webpack_exports__=__webpack_require__(1057);return __webpack_exports__})())})(ort_min);var ort_minExports=ort_min.exports,_common={},utils$6={};Object.defineProperty(utils$6,"__esModule",{value:!0});utils$6.encodeWAV=utils$6.arrayBufferToBase64=utils$6.minFramesForTargetMS=void 0;function minFramesForTargetMS(_e,et,tt=16e3){return Math.ceil(_e*tt/1e3/et)}utils$6.minFramesForTargetMS=minFramesForTargetMS;function arrayBufferToBase64(_e){for(var et="",tt=new Uint8Array(_e),nt=tt.byteLength,rt=0;rt<nt;rt++)et+=String.fromCharCode(tt[rt]);return btoa(et)}utils$6.arrayBufferToBase64=arrayBufferToBase64;function encodeWAV(_e,et=3,tt=16e3,nt=1,rt=32){var it=rt/8,ot=nt*it,st=new ArrayBuffer(44+_e.length*it),ut=new DataView(st);return writeString(ut,0,"RIFF"),ut.setUint32(4,36+_e.length*it,!0),writeString(ut,8,"WAVE"),writeString(ut,12,"fmt "),ut.setUint32(16,16,!0),ut.setUint16(20,et,!0),ut.setUint16(22,nt,!0),ut.setUint32(24,tt,!0),ut.setUint32(28,tt*ot,!0),ut.setUint16(32,ot,!0),ut.setUint16(34,rt,!0),writeString(ut,36,"data"),ut.setUint32(40,_e.length*it,!0),et===1?floatTo16BitPCM(ut,44,_e):writeFloat32(ut,44,_e),st}utils$6.encodeWAV=encodeWAV;function writeFloat32(_e,et,tt){for(var nt=0;nt<tt.length;nt++,et+=4)_e.setFloat32(et,tt[nt],!0)}function floatTo16BitPCM(_e,et,tt){for(var nt=0;nt<tt.length;nt++,et+=2){var rt=Math.max(-1,Math.min(1,tt[nt]));_e.setInt16(et,rt<0?rt*32768:rt*32767,!0)}}function writeString(_e,et,tt){for(var nt=0;nt<tt.length;nt++)_e.setUint8(et+nt,tt.charCodeAt(nt))}var nonRealTimeVad={},frameProcessor={},messages={};Object.defineProperty(messages,"__esModule",{value:!0});messages.Message=void 0;var Message;(function(_e){_e.AudioFrame="AUDIO_FRAME",_e.SpeechStart="SPEECH_START",_e.VADMisfire="VAD_MISFIRE",_e.SpeechEnd="SPEECH_END",_e.SpeechStop="SPEECH_STOP"})(Message||(messages.Message=Message={}));var logging={};(function(_e){Object.defineProperty(_e,"__esModule",{value:!0}),_e.log=_e.LOG_PREFIX=void 0,_e.LOG_PREFIX="[VAD]";const et=["error","debug","warn"];function tt(rt){return(...it)=>{console[rt](_e.LOG_PREFIX,...it)}}const nt=et.reduce((rt,it)=>(rt[it]=tt(it),rt),{});_e.log=nt})(logging);Object.defineProperty(frameProcessor,"__esModule",{value:!0});frameProcessor.FrameProcessor=frameProcessor.validateOptions=frameProcessor.defaultFrameProcessorOptions=void 0;const messages_1=messages,logging_1$2=logging,RECOMMENDED_FRAME_SAMPLES=[512,1024,1536];frameProcessor.defaultFrameProcessorOptions={positiveSpeechThreshold:.5,negativeSpeechThreshold:.5-.15,preSpeechPadFrames:1,redemptionFrames:8,frameSamples:1536,minSpeechFrames:3,submitUserSpeechOnPause:!1};function validateOptions(_e){RECOMMENDED_FRAME_SAMPLES.includes(_e.frameSamples)||logging_1$2.log.warn("You are using an unusual frame size"),(_e.positiveSpeechThreshold<0||_e.negativeSpeechThreshold>1)&&logging_1$2.log.error("postiveSpeechThreshold should be a number between 0 and 1"),(_e.negativeSpeechThreshold<0||_e.negativeSpeechThreshold>_e.positiveSpeechThreshold)&&logging_1$2.log.error("negativeSpeechThreshold should be between 0 and postiveSpeechThreshold"),_e.preSpeechPadFrames<0&&logging_1$2.log.error("preSpeechPadFrames should be positive"),_e.redemptionFrames<0&&logging_1$2.log.error("preSpeechPadFrames should be positive")}frameProcessor.validateOptions=validateOptions;const concatArrays=_e=>{const et=_e.reduce((nt,rt)=>(nt.push(nt.at(-1)+rt.length),nt),[0]),tt=new Float32Array(et.at(-1));return _e.forEach((nt,rt)=>{const it=et[rt];tt.set(nt,it)}),tt};class FrameProcessor{constructor(et,tt,nt){this.modelProcessFunc=et,this.modelResetFunc=tt,this.options=nt,this.speaking=!1,this.redemptionCounter=0,this.active=!1,this.reset=()=>{this.speaking=!1,this.audioBuffer=[],this.modelResetFunc(),this.redemptionCounter=0},this.pause=()=>(this.active=!1,this.options.submitUserSpeechOnPause?this.endSegment():(this.reset(),{})),this.resume=()=>{this.active=!0},this.endSegment=()=>{const rt=this.audioBuffer;this.audioBuffer=[];const it=this.speaking;this.reset();const ot=rt.reduce((st,ut)=>st+ +ut.isSpeech,0);if(it)if(ot>=this.options.minSpeechFrames){const st=concatArrays(rt.map(ut=>ut.frame));return{msg:messages_1.Message.SpeechEnd,audio:st}}else return{msg:messages_1.Message.VADMisfire};return{}},this.process=async rt=>{if(!this.active)return{};const it=await this.modelProcessFunc(rt);if(this.audioBuffer.push({frame:rt,isSpeech:it.isSpeech>=this.options.positiveSpeechThreshold}),it.isSpeech>=this.options.positiveSpeechThreshold&&this.redemptionCounter&&(this.redemptionCounter=0),it.isSpeech>=this.options.positiveSpeechThreshold&&!this.speaking)return this.speaking=!0,{probs:it,msg:messages_1.Message.SpeechStart};if(it.isSpeech<this.options.negativeSpeechThreshold&&this.speaking&&++this.redemptionCounter>=this.options.redemptionFrames){this.redemptionCounter=0,this.speaking=!1;const ot=this.audioBuffer;if(this.audioBuffer=[],ot.reduce((ut,ft)=>ut+ +ft.isSpeech,0)>=this.options.minSpeechFrames){const ut=concatArrays(ot.map(ft=>ft.frame));return{probs:it,msg:messages_1.Message.SpeechEnd,audio:ut}}else return{probs:it,msg:messages_1.Message.VADMisfire}}if(!this.speaking)for(;this.audioBuffer.length>this.options.preSpeechPadFrames;)this.audioBuffer.shift();return{probs:it}},this.audioBuffer=[],this.reset()}}frameProcessor.FrameProcessor=FrameProcessor;var models$1={},_a$1;Object.defineProperty(models$1,"__esModule",{value:!0});models$1.Silero=void 0;const logging_1$1=logging;class Silero{constructor(et,tt){this.ort=et,this.modelFetcher=tt,this.init=async()=>{logging_1$1.log.debug("initializing vad");const nt=await this.modelFetcher();this._session=await this.ort.InferenceSession.create(nt),this._sr=new this.ort.Tensor("int64",[16000n]),this.reset_state(),logging_1$1.log.debug("vad is initialized")},this.reset_state=()=>{const nt=Array(128).fill(0);this._h=new this.ort.Tensor("float32",nt,[2,1,64]),this._c=new this.ort.Tensor("float32",nt,[2,1,64])},this.process=async nt=>{const it={input:new this.ort.Tensor("float32",nt,[1,nt.length]),h:this._h,c:this._c,sr:this._sr},ot=await this._session.run(it);this._h=ot.hn,this._c=ot.cn;const[st]=ot.output.data;return{notSpeech:1-st,isSpeech:st}}}}models$1.Silero=Silero;_a$1=Silero;Silero.new=async(_e,et)=>{const tt=new _a$1(_e,et);return await tt.init(),tt};var resampler={};Object.defineProperty(resampler,"__esModule",{value:!0});resampler.Resampler=void 0;const logging_1=logging;class Resampler{constructor(et){this.options=et,this.process=tt=>{const nt=[];for(this.fillInputBuffer(tt);this.hasEnoughDataForFrame();){const rt=this.generateOutputFrame();nt.push(rt)}return nt},this.stream=async function*(tt){for(this.fillInputBuffer(tt);this.hasEnoughDataForFrame();)yield this.generateOutputFrame()},et.nativeSampleRate<16e3&&logging_1.log.error("nativeSampleRate is too low. Should have 16000 = targetSampleRate <= nativeSampleRate"),this.inputBuffer=[]}fillInputBuffer(et){for(const tt of et)this.inputBuffer.push(tt)}hasEnoughDataForFrame(){return this.inputBuffer.length*this.options.targetSampleRate/this.options.nativeSampleRate>=this.options.targetFrameSize}generateOutputFrame(){const et=new Float32Array(this.options.targetFrameSize);let tt=0,nt=0;for(;tt<this.options.targetFrameSize;){let rt=0,it=0;for(;nt<Math.min(this.inputBuffer.length,(tt+1)*this.options.nativeSampleRate/this.options.targetSampleRate);){const ot=this.inputBuffer[nt];ot!==void 0&&(rt+=ot,it++),nt++}et[tt]=rt/it,tt++}return this.inputBuffer=this.inputBuffer.slice(nt),et}}resampler.Resampler=Resampler;(function(_e){Object.defineProperty(_e,"__esModule",{value:!0}),_e.PlatformAgnosticNonRealTimeVAD=_e.defaultNonRealTimeVADOptions=void 0;const et=frameProcessor,tt=messages,nt=models$1,rt=resampler;_e.defaultNonRealTimeVADOptions={...et.defaultFrameProcessorOptions,ortConfig:void 0};class it{static async _new(st,ut,ft={}){const dt={..._e.defaultNonRealTimeVADOptions,...ft};dt.ortConfig!==void 0&&dt.ortConfig(ut);const lt=new this(st,ut,dt);return await lt.init(),lt}constructor(st,ut,ft){this.modelFetcher=st,this.ort=ut,this.options=ft,this.init=async()=>{const dt=await nt.Silero.new(this.ort,this.modelFetcher);this.frameProcessor=new et.FrameProcessor(dt.process,dt.reset_state,{frameSamples:this.options.frameSamples,positiveSpeechThreshold:this.options.positiveSpeechThreshold,negativeSpeechThreshold:this.options.negativeSpeechThreshold,redemptionFrames:this.options.redemptionFrames,preSpeechPadFrames:this.options.preSpeechPadFrames,minSpeechFrames:this.options.minSpeechFrames,submitUserSpeechOnPause:this.options.submitUserSpeechOnPause}),this.frameProcessor.resume()},this.run=async function*(dt,lt){const at={nativeSampleRate:lt,targetSampleRate:16e3,targetFrameSize:this.options.frameSamples},ct=new rt.Resampler(at);let ht=0,pt=0,mt=0;for await(const bt of ct.stream(dt)){const{msg:xt,audio:vt}=await this.frameProcessor.process(bt);switch(xt){case tt.Message.SpeechStart:ht=mt*this.options.frameSamples/16;break;case tt.Message.SpeechEnd:pt=(mt+1)*this.options.frameSamples/16,yield{audio:vt,start:ht,end:pt};break}mt++}const{msg:gt,audio:yt}=this.frameProcessor.endSegment();gt==tt.Message.SpeechEnd&&(yield{audio:yt,start:ht,end:mt*this.options.frameSamples/16})},(0,et.validateOptions)(ft)}}_e.PlatformAgnosticNonRealTimeVAD=it})(nonRealTimeVad);(function(_e){var et=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(ot,st,ut,ft){ft===void 0&&(ft=ut);var dt=Object.getOwnPropertyDescriptor(st,ut);(!dt||("get"in dt?!st.__esModule:dt.writable||dt.configurable))&&(dt={enumerable:!0,get:function(){return st[ut]}}),Object.defineProperty(ot,ft,dt)}:function(ot,st,ut,ft){ft===void 0&&(ft=ut),ot[ft]=st[ut]}),tt=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(ot,st){Object.defineProperty(ot,"default",{enumerable:!0,value:st})}:function(ot,st){ot.default=st}),nt=commonjsGlobal&&commonjsGlobal.__importStar||function(ot){if(ot&&ot.__esModule)return ot;var st={};if(ot!=null)for(var ut in ot)ut!=="default"&&Object.prototype.hasOwnProperty.call(ot,ut)&&et(st,ot,ut);return tt(st,ot),st},rt=commonjsGlobal&&commonjsGlobal.__exportStar||function(ot,st){for(var ut in ot)ut!=="default"&&!Object.prototype.hasOwnProperty.call(st,ut)&&et(st,ot,ut)};Object.defineProperty(_e,"__esModule",{value:!0}),_e.utils=void 0;const it=nt(utils$6);_e.utils={minFramesForTargetMS:it.minFramesForTargetMS,arrayBufferToBase64:it.arrayBufferToBase64,encodeWAV:it.encodeWAV},rt(nonRealTimeVad,_e),rt(frameProcessor,_e),rt(messages,_e),rt(logging,_e),rt(models$1,_e),rt(resampler,_e)})(_common);var utils$5={};Object.defineProperty(utils$5,"__esModule",{value:!0});utils$5.audioFileToArray=void 0;async function audioFileToArray(_e){const et=new OfflineAudioContext(1,1,44100),tt=new FileReader;let nt=null;if(await new Promise(ot=>{tt.addEventListener("loadend",st=>{const ut=tt.result;et.decodeAudioData(ut,ft=>{nt=ft,et.startRendering().then(dt=>{console.log("Rendering completed successfully"),ot()}).catch(dt=>{console.error(`Rendering failed: ${dt}`)})},ft=>{console.log(`Error with decoding audio data: ${ft}`)})}),tt.readAsArrayBuffer(_e)}),nt===null)throw Error("some shit");let rt=nt,it=new Float32Array(rt.length);for(let ot=0;ot<rt.length;ot++)for(let st=0;st<rt.numberOfChannels;st++)it[ot]+=rt.getChannelData(st)[ot];return{audio:it,sampleRate:rt.sampleRate}}utils$5.audioFileToArray=audioFileToArray;var defaultModelFetcher$1={};Object.defineProperty(defaultModelFetcher$1,"__esModule",{value:!0});defaultModelFetcher$1.defaultModelFetcher=void 0;const defaultModelFetcher=_e=>fetch(_e).then(et=>et.arrayBuffer());defaultModelFetcher$1.defaultModelFetcher=defaultModelFetcher;var assetPath$1={};Object.defineProperty(assetPath$1,"__esModule",{value:!0});assetPath$1.assetPath=void 0;const isWeb=typeof window<"u"&&typeof window.document<"u",currentScript=isWeb?window.document.currentScript:null;let basePath="/";currentScript&&(basePath=currentScript.src.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"));const assetPath=_e=>basePath+_e;assetPath$1.assetPath=assetPath;var realTimeVad={};(function(_e){var et=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(dt,lt,at,ct){ct===void 0&&(ct=at);var ht=Object.getOwnPropertyDescriptor(lt,at);(!ht||("get"in ht?!lt.__esModule:ht.writable||ht.configurable))&&(ht={enumerable:!0,get:function(){return lt[at]}}),Object.defineProperty(dt,ct,ht)}:function(dt,lt,at,ct){ct===void 0&&(ct=at),dt[ct]=lt[at]}),tt=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(dt,lt){Object.defineProperty(dt,"default",{enumerable:!0,value:lt})}:function(dt,lt){dt.default=lt}),nt=commonjsGlobal&&commonjsGlobal.__importStar||function(dt){if(dt&&dt.__esModule)return dt;var lt={};if(dt!=null)for(var at in dt)at!=="default"&&Object.prototype.hasOwnProperty.call(dt,at)&&et(lt,dt,at);return tt(lt,dt),lt};Object.defineProperty(_e,"__esModule",{value:!0}),_e.AudioNodeVAD=_e.MicVAD=_e.defaultRealTimeVADOptions=_e.ort=void 0;const rt=nt(ort_minExports),it=_common,ot=assetPath$1,st=defaultModelFetcher$1;_e.ort=rt,_e.defaultRealTimeVADOptions={...it.defaultFrameProcessorOptions,onFrameProcessed:dt=>{},onVADMisfire:()=>{it.log.debug("VAD misfire")},onSpeechStart:()=>{it.log.debug("Detected speech start")},onSpeechEnd:()=>{it.log.debug("Detected speech end")},workletURL:(0,ot.assetPath)("vad.worklet.bundle.min.js"),modelURL:(0,ot.assetPath)("silero_vad.onnx"),modelFetcher:st.defaultModelFetcher,stream:void 0,ortConfig:void 0};class ut{static async new(lt={}){const at={..._e.defaultRealTimeVADOptions,...lt};(0,it.validateOptions)(at);let ct;at.stream===void 0?ct=await navigator.mediaDevices.getUserMedia({audio:{...at.additionalAudioConstraints,channelCount:1,echoCancellation:!0,autoGainControl:!0,noiseSuppression:!0}}):ct=at.stream;const ht=new AudioContext,pt=new MediaStreamAudioSourceNode(ht,{mediaStream:ct}),mt=await ft.new(ht,at);return mt.receive(pt),new ut(at,ht,ct,mt,pt)}constructor(lt,at,ct,ht,pt,mt=!1){this.options=lt,this.audioContext=at,this.stream=ct,this.audioNodeVAD=ht,this.sourceNode=pt,this.listening=mt,this.pause=()=>{this.audioNodeVAD.pause(),this.listening=!1},this.start=()=>{this.audioNodeVAD.start(),this.listening=!0},this.destroy=()=>{this.listening&&this.pause(),this.options.stream===void 0&&this.stream.getTracks().forEach(gt=>gt.stop()),this.sourceNode.disconnect(),this.audioNodeVAD.destroy(),this.audioContext.close()}}}_e.MicVAD=ut;class ft{static async new(lt,at={}){const ct={..._e.defaultRealTimeVADOptions,...at};(0,it.validateOptions)(ct),ct.ortConfig!==void 0&&ct.ortConfig(_e.ort);try{await lt.audioWorklet.addModule(ct.workletURL)}catch(yt){throw console.error(`Encountered an error while loading worklet. Please make sure the worklet vad.bundle.min.js included with @ricky0123/vad-web is available at the specified path:
        ${ct.workletURL}
        If need be, you can customize the worklet file location using the \`workletURL\` option.`),yt}const ht=new AudioWorkletNode(lt,"vad-helper-worklet",{processorOptions:{frameSamples:ct.frameSamples}});let pt;try{pt=await it.Silero.new(_e.ort,()=>ct.modelFetcher(ct.modelURL))}catch(yt){throw console.error(`Encountered an error while loading model file. Please make sure silero_vad.onnx, included with @ricky0123/vad-web, is available at the specified path:
      ${ct.modelURL}
      If need be, you can customize the model file location using the \`modelsURL\` option.`),yt}const mt=new it.FrameProcessor(pt.process,pt.reset_state,{frameSamples:ct.frameSamples,positiveSpeechThreshold:ct.positiveSpeechThreshold,negativeSpeechThreshold:ct.negativeSpeechThreshold,redemptionFrames:ct.redemptionFrames,preSpeechPadFrames:ct.preSpeechPadFrames,minSpeechFrames:ct.minSpeechFrames,submitUserSpeechOnPause:ct.submitUserSpeechOnPause}),gt=new ft(lt,ct,mt,ht);return ht.port.onmessage=async yt=>{var bt;switch((bt=yt.data)==null?void 0:bt.message){case it.Message.AudioFrame:const xt=yt.data.data,vt=new Float32Array(xt);await gt.processFrame(vt);break}},gt}constructor(lt,at,ct,ht){this.ctx=lt,this.options=at,this.frameProcessor=ct,this.entryNode=ht,this.pause=()=>{const pt=this.frameProcessor.pause();this.handleFrameProcessorEvent(pt)},this.start=()=>{this.frameProcessor.resume()},this.receive=pt=>{pt.connect(this.entryNode)},this.processFrame=async pt=>{const mt=await this.frameProcessor.process(pt);this.handleFrameProcessorEvent(mt)},this.handleFrameProcessorEvent=pt=>{switch(pt.probs!==void 0&&this.options.onFrameProcessed(pt.probs),pt.msg){case it.Message.SpeechStart:this.options.onSpeechStart();break;case it.Message.VADMisfire:this.options.onVADMisfire();break;case it.Message.SpeechEnd:this.options.onSpeechEnd(pt.audio);break}},this.destroy=()=>{this.entryNode.port.postMessage({message:it.Message.SpeechStop}),this.entryNode.disconnect()}}}_e.AudioNodeVAD=ft})(realTimeVad);(function(_e){var et=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(lt,at,ct,ht){ht===void 0&&(ht=ct);var pt=Object.getOwnPropertyDescriptor(at,ct);(!pt||("get"in pt?!at.__esModule:pt.writable||pt.configurable))&&(pt={enumerable:!0,get:function(){return at[ct]}}),Object.defineProperty(lt,ht,pt)}:function(lt,at,ct,ht){ht===void 0&&(ht=ct),lt[ht]=at[ct]}),tt=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(lt,at){Object.defineProperty(lt,"default",{enumerable:!0,value:at})}:function(lt,at){lt.default=at}),nt=commonjsGlobal&&commonjsGlobal.__importStar||function(lt){if(lt&&lt.__esModule)return lt;var at={};if(lt!=null)for(var ct in lt)ct!=="default"&&Object.prototype.hasOwnProperty.call(lt,ct)&&et(at,lt,ct);return tt(at,lt),at};Object.defineProperty(_e,"__esModule",{value:!0}),_e.defaultRealTimeVADOptions=_e.AudioNodeVAD=_e.MicVAD=_e.NonRealTimeVAD=_e.Message=_e.FrameProcessor=_e.utils=_e.defaultNonRealTimeVADOptions=void 0;const rt=nt(ort_minExports),it=_common;Object.defineProperty(_e,"FrameProcessor",{enumerable:!0,get:function(){return it.FrameProcessor}}),Object.defineProperty(_e,"Message",{enumerable:!0,get:function(){return it.Message}});const ot=utils$5,st=defaultModelFetcher$1,ut=assetPath$1;_e.defaultNonRealTimeVADOptions={modelURL:(0,ut.assetPath)("silero_vad.onnx"),modelFetcher:st.defaultModelFetcher};class ft extends it.PlatformAgnosticNonRealTimeVAD{static async new(at={}){const{modelURL:ct,modelFetcher:ht}={..._e.defaultNonRealTimeVADOptions,...at};return await this._new(()=>ht(ct),rt,at)}}_e.NonRealTimeVAD=ft,_e.utils={audioFileToArray:ot.audioFileToArray,...it.utils};var dt=realTimeVad;Object.defineProperty(_e,"MicVAD",{enumerable:!0,get:function(){return dt.MicVAD}}),Object.defineProperty(_e,"AudioNodeVAD",{enumerable:!0,get:function(){return dt.AudioNodeVAD}}),Object.defineProperty(_e,"defaultRealTimeVADOptions",{enumerable:!0,get:function(){return dt.defaultRealTimeVADOptions}})})(dist$3);let methods$o={one:{},two:{},three:{},four:{}},model$6={one:{},two:{},three:{}},compute$b={},hooks=[];const tmpWrld={methods:methods$o,model:model$6,compute:compute$b,hooks},isArray$c=_e=>Object.prototype.toString.call(_e)==="[object Array]",fns$5={compute:function(_e){const{world:et}=this,tt=et.compute;return typeof _e=="string"&&tt.hasOwnProperty(_e)?tt[_e](this):isArray$c(_e)?_e.forEach(nt=>{et.compute.hasOwnProperty(nt)?tt[nt](this):console.warn("no compute:",_e)}):typeof _e=="function"?_e(this):console.warn("no compute:",_e),this}},forEach$1=function(_e){return this.fullPointer.forEach((tt,nt)=>{let rt=this.update([tt]);_e(rt,nt)}),this},map$2=function(_e,et){let nt=this.fullPointer.map((it,ot)=>{let st=this.update([it]),ut=_e(st,ot);return ut===void 0?this.none():ut});if(nt.length===0)return et||this.update([]);if(nt[0]!==void 0&&(typeof nt[0]=="string"||typeof nt[0]=="object"&&(nt[0]===null||!nt[0].isView)))return nt;let rt=[];return nt.forEach(it=>{rt=rt.concat(it.fullPointer)}),this.toView(rt)},filter$1=function(_e){let et=this.fullPointer;return et=et.filter((nt,rt)=>{let it=this.update([nt]);return _e(it,rt)}),this.update(et)},find$7=function(_e){let tt=this.fullPointer.find((nt,rt)=>{let it=this.update([nt]);return _e(it,rt)});return this.update([tt])},some=function(_e){return this.fullPointer.some((tt,nt)=>{let rt=this.update([tt]);return _e(rt,nt)})},random$1=function(_e=1){let et=this.fullPointer,tt=Math.floor(Math.random()*et.length);return tt+_e>this.length&&(tt=this.length-_e,tt=tt<0?0:tt),et=et.slice(tt,tt+_e),this.update(et)},loops={forEach:forEach$1,map:map$2,filter:filter$1,find:find$7,some,random:random$1},utils$4={termList:function(){return this.methods.one.termList(this.docs)},terms:function(_e){let et=this.match(".");return typeof _e=="number"?et.eq(_e):et},groups:function(_e){if(_e||_e===0)return this.update(this._groups[_e]||[]);let et={};return Object.keys(this._groups).forEach(tt=>{et[tt]=this.update(this._groups[tt])}),et},eq:function(_e){let et=this.pointer;return et||(et=this.docs.map((tt,nt)=>[nt])),et[_e]?this.update([et[_e]]):this.none()},first:function(){return this.eq(0)},last:function(){let _e=this.fullPointer.length-1;return this.eq(_e)},firstTerms:function(){return this.match("^.")},lastTerms:function(){return this.match(".$")},slice:function(_e,et){let tt=this.pointer||this.docs.map((nt,rt)=>[rt]);return tt=tt.slice(_e,et),this.update(tt)},all:function(){return this.update().toView()},fullSentences:function(){let _e=this.fullPointer.map(et=>[et[0]]);return this.update(_e).toView()},none:function(){return this.update([])},isDoc:function(_e){if(!_e||!_e.isView)return!1;let et=this.fullPointer,tt=_e.fullPointer;return!et.length===tt.length?!1:et.every((nt,rt)=>tt[rt]?nt[0]===tt[rt][0]&&nt[1]===tt[rt][1]&&nt[2]===tt[rt][2]:!1)},wordCount:function(){return this.docs.reduce((_e,et)=>(_e+=et.filter(tt=>tt.text!=="").length,_e),0)},isFull:function(){let _e=this.pointer;if(!_e)return!0;if(_e.length===0||_e[0][0]!==0)return!1;let et=0,tt=0;return this.document.forEach(nt=>et+=nt.length),this.docs.forEach(nt=>tt+=nt.length),et===tt},getNth:function(_e){return typeof _e=="number"?this.eq(_e):typeof _e=="string"?this.if(_e):this}};utils$4.group=utils$4.groups;utils$4.fullSentence=utils$4.fullSentences;utils$4.sentence=utils$4.fullSentences;utils$4.lastTerm=utils$4.lastTerms;utils$4.firstTerm=utils$4.firstTerms;const methods$n=Object.assign({},utils$4,fns$5,loops);methods$n.get=methods$n.eq;class View{constructor(et,tt,nt={}){[["document",et],["world",tmpWrld],["_groups",nt],["_cache",null],["viewType","View"]].forEach(it=>{Object.defineProperty(this,it[0],{value:it[1],writable:!0})}),this.ptrs=tt}get docs(){let et=this.document;return this.ptrs&&(et=tmpWrld.methods.one.getDoc(this.ptrs,this.document)),et}get pointer(){return this.ptrs}get methods(){return this.world.methods}get model(){return this.world.model}get hooks(){return this.world.hooks}get isView(){return!0}get found(){return this.docs.length>0}get length(){return this.docs.length}get fullPointer(){let{docs:et,ptrs:tt,document:nt}=this;return(tt||et.map((it,ot)=>[ot])).map(it=>{let[ot,st,ut,ft,dt]=it;return st=st||0,ut=ut||(nt[ot]||[]).length,nt[ot]&&nt[ot][st]&&(ft=ft||nt[ot][st].id,nt[ot][ut-1]&&(dt=dt||nt[ot][ut-1].id)),[ot,st,ut,ft,dt]})}update(et){let tt=new View(this.document,et);if(this._cache&&et&&et.length>0){let nt=[];et.forEach((rt,it)=>{let[ot,st,ut]=rt;rt.length===1?nt[it]=this._cache[ot]:st===0&&this.document[ot].length===ut&&(nt[it]=this._cache[ot])}),nt.length>0&&(tt._cache=nt)}return tt.world=this.world,tt}toView(et){return new View(this.document,et||this.pointer)}fromText(et){const{methods:tt}=this;let nt=tt.one.tokenize.fromString(et,this.world),rt=new View(nt);return rt.world=this.world,rt.compute(["normal","freeze","lexicon"]),this.world.compute.preTagger&&rt.compute("preTagger"),rt.compute("unfreeze"),rt}clone(){let et=this.document.slice(0);et=et.map(nt=>nt.map(rt=>(rt=Object.assign({},rt),rt.tags=new Set(rt.tags),rt)));let tt=this.update(this.pointer);return tt.document=et,tt._cache=this._cache,tt}}Object.assign(View.prototype,methods$n);const version$3="14.13.0",isObject$b=function(_e){return _e&&typeof _e=="object"&&!Array.isArray(_e)};function mergeDeep(_e,et){if(isObject$b(et))for(const tt in et)isObject$b(et[tt])?(_e[tt]||Object.assign(_e,{[tt]:{}}),mergeDeep(_e[tt],et[tt])):Object.assign(_e,{[tt]:et[tt]});return _e}function mergeQuick(_e,et){for(const tt in et)_e[tt]=_e[tt]||{},Object.assign(_e[tt],et[tt]);return _e}const addIrregulars=function(_e,et){let tt=_e.two.models||{};Object.keys(et).forEach(nt=>{et[nt].pastTense&&(tt.toPast&&(tt.toPast.ex[nt]=et[nt].pastTense),tt.fromPast&&(tt.fromPast.ex[et[nt].pastTense]=nt)),et[nt].presentTense&&(tt.toPresent&&(tt.toPresent.ex[nt]=et[nt].presentTense),tt.fromPresent&&(tt.fromPresent.ex[et[nt].presentTense]=nt)),et[nt].gerund&&(tt.toGerund&&(tt.toGerund.ex[nt]=et[nt].gerund),tt.fromGerund&&(tt.fromGerund.ex[et[nt].gerund]=nt)),et[nt].comparative&&(tt.toComparative&&(tt.toComparative.ex[nt]=et[nt].comparative),tt.fromComparative&&(tt.fromComparative.ex[et[nt].comparative]=nt)),et[nt].superlative&&(tt.toSuperlative&&(tt.toSuperlative.ex[nt]=et[nt].superlative),tt.fromSuperlative&&(tt.fromSuperlative.ex[et[nt].superlative]=nt))})},extend$3=function(_e,et,tt,nt){const{methods:rt,model:it,compute:ot,hooks:st}=et;_e.methods&&mergeQuick(rt,_e.methods),_e.model&&mergeDeep(it,_e.model),_e.irregulars&&addIrregulars(it,_e.irregulars),_e.compute&&Object.assign(ot,_e.compute),st&&(et.hooks=st.concat(_e.hooks||[])),_e.api&&_e.api(tt),_e.lib&&Object.keys(_e.lib).forEach(ut=>nt[ut]=_e.lib[ut]),_e.tags&&nt.addTags(_e.tags),_e.words&&nt.addWords(_e.words),_e.frozen&&nt.addWords(_e.frozen,!0),_e.mutate&&_e.mutate(et)};var define_process_env_default$5={};const verbose=function(_e){const et=typeof process>"u"||!define_process_env_default$5?self.env||{}:define_process_env_default$5;return et.DEBUG_TAGS=_e==="tagger"||_e===!0?!0:"",et.DEBUG_MATCH=_e==="match"||_e===!0?!0:"",et.DEBUG_CHUNKS=_e==="chunker"||_e===!0?!0:"",this},isObject$a=_e=>Object.prototype.toString.call(_e)==="[object Object]",isArray$b=function(_e){return Object.prototype.toString.call(_e)==="[object Array]"},fromJson=function(_e){return _e.map(et=>et.terms.map(tt=>(isArray$b(tt.tags)&&(tt.tags=new Set(tt.tags)),tt)))},preTokenized=function(_e){return _e.map(et=>et.map(tt=>({text:tt,normal:tt,pre:"",post:" ",tags:new Set})))},inputs=function(_e,et,tt){const{methods:nt}=tt;let rt=new et([]);if(rt.world=tt,typeof _e=="number"&&(_e=String(_e)),!_e)return rt;if(typeof _e=="string"){let it=nt.one.tokenize.fromString(_e,tt);return new et(it)}if(isObject$a(_e)&&_e.isView)return new et(_e.document,_e.ptrs);if(isArray$b(_e)){if(isArray$b(_e[0])){let ot=preTokenized(_e);return new et(ot)}let it=fromJson(_e);return new et(it)}return rt};let world=Object.assign({},tmpWrld);const nlp=function(_e,et){et&&nlp.addWords(et);let tt=inputs(_e,View,world);return _e&&tt.compute(world.hooks),tt};Object.defineProperty(nlp,"_world",{value:world,writable:!0});nlp.tokenize=function(_e,et){const{compute:tt}=this._world;et&&nlp.addWords(et);let nt=inputs(_e,View,world);return tt.contractions&&nt.compute(["alias","normal","machine","contractions"]),nt};nlp.plugin=function(_e){return extend$3(_e,this._world,View,this),this};nlp.extend=nlp.plugin;nlp.world=function(){return this._world};nlp.model=function(){return this._world.model};nlp.methods=function(){return this._world.methods};nlp.hooks=function(){return this._world.hooks};nlp.verbose=verbose;nlp.version=version$3;const createCache=function(_e){return _e.map(tt=>{let nt=new Set;return tt.forEach(rt=>{rt.normal!==""&&nt.add(rt.normal),rt.switch&&nt.add(`%${rt.switch}%`),rt.implicit&&nt.add(rt.implicit),rt.machine&&nt.add(rt.machine),rt.root&&nt.add(rt.root),rt.alias&&rt.alias.forEach(ot=>nt.add(ot));let it=Array.from(rt.tags);for(let ot=0;ot<it.length;ot+=1)nt.add("#"+it[ot])}),nt})},methods$m={one:{cacheDoc:createCache}},methods$l={cache:function(){return this._cache=this.methods.one.cacheDoc(this.document),this},uncache:function(){return this._cache=null,this}},addAPI$3=function(_e){Object.assign(_e.prototype,methods$l)},compute$a={cache:function(_e){_e._cache=_e.methods.one.cacheDoc(_e.document)}},cache$1={api:addAPI$3,compute:compute$a,methods:methods$m},caseFns={toLowerCase:function(){return this.termList().forEach(_e=>{_e.text=_e.text.toLowerCase()}),this},toUpperCase:function(){return this.termList().forEach(_e=>{_e.text=_e.text.toUpperCase()}),this},toTitleCase:function(){return this.termList().forEach(_e=>{_e.text=_e.text.replace(/^ *[a-z\u00C0-\u00FF]/,et=>et.toUpperCase())}),this},toCamelCase:function(){return this.docs.forEach(_e=>{_e.forEach((et,tt)=>{tt!==0&&(et.text=et.text.replace(/^ *[a-z\u00C0-\u00FF]/,nt=>nt.toUpperCase())),tt!==_e.length-1&&(et.post="")})}),this}},isTitleCase$3=_e=>new RegExp("^\\p{Lu}[\\p{Ll}']","u").test(_e)||new RegExp("^\\p{Lu}$","u").test(_e),toTitleCase$1=_e=>_e.replace(new RegExp("^\\p{Ll}","u"),et=>et.toUpperCase()),toLowerCase=_e=>_e.replace(new RegExp("^\\p{Lu}","u"),et=>et.toLowerCase()),spliceArr=(_e,et,tt)=>{if(tt.forEach(nt=>nt.dirty=!0),_e){let nt=[et,0].concat(tt);Array.prototype.splice.apply(_e,nt)}return _e},endSpace=function(_e){const et=/ $/,tt=/[-]/;let nt=_e[_e.length-1];nt&&!et.test(nt.post)&&!tt.test(nt.post)&&(nt.post+=" ")},movePunct=(_e,et,tt)=>{const nt=/[-.?!,;:)'"]/g;let rt=_e[et-1];if(!rt)return;let it=rt.post;if(nt.test(it)){let ot=it.match(nt).join(""),st=tt[tt.length-1];st.post=ot+st.post,rt.post=rt.post.replace(nt,"")}},moveTitleCase=function(_e,et,tt){let nt=_e[et];if(et!==0||!isTitleCase$3(nt.text))return;tt[0].text=toTitleCase$1(tt[0].text);let rt=_e[et];rt.tags.has("ProperNoun")||rt.tags.has("Acronym")||isTitleCase$3(rt.text)&&rt.text.length>1&&(rt.text=toLowerCase(rt.text))},cleanPrepend=function(_e,et,tt,nt){let[rt,it,ot]=et;it===0||ot===nt[rt].length?endSpace(tt):(endSpace(tt),endSpace([_e[et[1]]])),moveTitleCase(_e,it,tt),spliceArr(_e,it,tt)},cleanAppend=function(_e,et,tt,nt){let[rt,,it]=et,ot=(nt[rt]||[]).length;it<ot?(movePunct(_e,it,tt),endSpace(tt)):ot===it&&(endSpace(_e),movePunct(_e,it,tt),nt[rt+1]&&(tt[tt.length-1].post+=" ")),spliceArr(_e,et[2],tt),et[4]=tt[tt.length-1].id};let index$3=0;const pad3=_e=>(_e=_e.length<3?"0"+_e:_e,_e.length<3?"0"+_e:_e),toId=function(_e){let[et,tt]=_e.index||[0,0];index$3+=1,index$3=index$3>46655?0:index$3,et=et>46655?0:et,tt=tt>1294?0:tt;let nt=pad3(index$3.toString(36));nt+=pad3(et.toString(36));let rt=tt.toString(36);rt=rt.length<2?"0"+rt:rt,nt+=rt;let it=parseInt(Math.random()*36,10);return nt+=it.toString(36),_e.normal+"|"+nt.toUpperCase()},expand$3=function(_e){_e.has("@hasContraction")&&typeof _e.contractions=="function"&&_e.grow("@hasContraction").contractions().expand()},isArray$a=_e=>Object.prototype.toString.call(_e)==="[object Array]",addIds$2=function(_e){return _e=_e.map(et=>(et.id=toId(et),et)),_e},getTerms=function(_e,et){const{methods:tt}=et;return typeof _e=="string"?tt.one.tokenize.fromString(_e,et)[0]:typeof _e=="object"&&_e.isView?_e.clone().docs[0]||[]:isArray$a(_e)?isArray$a(_e[0])?_e[0]:_e:[]},insert=function(_e,et,tt){const{document:nt,world:rt}=et;et.uncache();let it=et.fullPointer,ot=et.fullPointer;et.forEach((ut,ft)=>{let dt=ut.fullPointer[0],[lt]=dt,at=nt[lt],ct=getTerms(_e,rt);ct.length!==0&&(ct=addIds$2(ct),tt?(expand$3(et.update([dt]).firstTerm()),cleanPrepend(at,dt,ct,nt)):(expand$3(et.update([dt]).lastTerm()),cleanAppend(at,dt,ct,nt)),nt[lt]&&nt[lt][dt[1]]&&(dt[3]=nt[lt][dt[1]].id),ot[ft]=dt,dt[2]+=ct.length,it[ft]=dt)});let st=et.toView(it);return et.ptrs=ot,st.compute(["id","index","freeze","lexicon"]),st.world.compute.preTagger&&st.compute("preTagger"),st.compute("unfreeze"),st},fns$4={insertAfter:function(_e){return insert(_e,this,!1)},insertBefore:function(_e){return insert(_e,this,!0)}};fns$4.append=fns$4.insertAfter;fns$4.prepend=fns$4.insertBefore;fns$4.insert=fns$4.insertAfter;const dollarStub=/\$[0-9a-z]+/g,fns$3={},titleCase$3=function(_e){return _e.replace(/\w\S*/g,et=>et.charAt(0).toUpperCase()+et.substring(1).toLowerCase())},replaceByFn=function(_e,et){return _e.forEach(tt=>{let nt=et(tt);tt.replaceWith(nt)}),_e},subDollarSign=function(_e,et){if(typeof _e!="string")return _e;let tt=et.groups();return _e=_e.replace(dollarStub,nt=>{let rt=nt.replace(/\$/,"");return tt.hasOwnProperty(rt)?tt[rt].text():nt}),_e};fns$3.replaceWith=function(_e,et={}){let tt=this.fullPointer,nt=this;if(this.uncache(),typeof _e=="function")return replaceByFn(nt,_e);let rt=nt.docs[0],it=et.possessives&&rt[rt.length-1].tags.has("Possessive");_e=subDollarSign(_e,nt);let ot=this.update(tt);tt=tt.map(ft=>ft.slice(0,3));let st=(ot.docs[0]||[]).map(ft=>Array.from(ft.tags));if(typeof _e=="string"&&(_e=this.fromText(_e).compute("id")),nt.insertAfter(_e),ot.has("@hasContraction")&&nt.contractions&&nt.grow("@hasContraction+").contractions().expand(),nt.delete(ot),it){let ft=nt.docs[0],dt=ft[ft.length-1];dt.tags.has("Possessive")||(dt.text+="'s",dt.normal+="'s",dt.tags.add("Possessive"))}let ut=nt.toView(tt).compute(["index","freeze","lexicon"]);return ut.world.compute.preTagger&&ut.compute("preTagger"),ut.compute("unfreeze"),et.tags&&ut.terms().forEach((ft,dt)=>{ft.tagSafe(st[dt])}),et.case&&ut.docs[0]&&ut.docs[0][0]&&ut.docs[0][0].index[1]===0&&(ut.docs[0][0].text=titleCase$3(ut.docs[0][0].text)),ut};fns$3.replace=function(_e,et,tt){if(_e&&!et)return this.replaceWith(_e,tt);let nt=this.match(_e);return nt.found?(this.soften(),nt.replaceWith(et,tt)):this};const repairPunct=function(_e,et){let tt=_e.length-1,nt=_e[tt],rt=_e[tt-et];rt&&nt&&(rt.post+=nt.post,rt.post=rt.post.replace(/ +([.?!,;:])/,"$1"),rt.post=rt.post.replace(/[,;:]+([.?!])/,"$1"))},pluckOut=function(_e,et){et.forEach(tt=>{let[nt,rt,it]=tt,ot=it-rt;_e[nt]&&(it===_e[nt].length&&it>1&&repairPunct(_e[nt],ot),_e[nt].splice(rt,ot))});for(let tt=_e.length-1;tt>=0;tt-=1)if(_e[tt].length===0&&(_e.splice(tt,1),tt===_e.length&&_e[tt-1])){let nt=_e[tt-1],rt=nt[nt.length-1];rt&&(rt.post=rt.post.trimEnd())}return _e},fixPointers$1=function(_e,et){return _e=_e.map(tt=>{let[nt]=tt;return et[nt]&&et[nt].forEach(rt=>{let it=rt[2]-rt[1];tt[1]<=rt[1]&&tt[2]>=rt[2]&&(tt[2]-=it)}),tt}),_e.forEach((tt,nt)=>{if(tt[1]===0&&tt[2]==0)for(let rt=nt+1;rt<_e.length;rt+=1)_e[rt][0]-=1,_e[rt][0]<0&&(_e[rt][0]=0)}),_e=_e.filter(tt=>tt[2]-tt[1]>0),_e=_e.map(tt=>(tt[3]=null,tt[4]=null,tt)),_e},methods$k={remove:function(_e){const{indexN:et}=this.methods.one.pointer;this.uncache();let tt=this.all(),nt=this;_e&&(tt=this,nt=this.match(_e));let rt=!tt.ptrs;nt.has("@hasContraction")&&nt.contractions&&nt.grow("@hasContraction").contractions().expand();let it=tt.fullPointer,ot=nt.fullPointer.reverse(),st=pluckOut(this.document,ot),ut=et(ot);return it=fixPointers$1(it,ut),tt.ptrs=it,tt.document=st,tt.compute("index"),rt&&(tt.ptrs=void 0),_e?tt.toView(it):(this.ptrs=[],tt.none())}};methods$k.delete=methods$k.remove;const methods$j={pre:function(_e,et){return _e===void 0&&this.found?this.docs[0][0].pre:(this.docs.forEach(tt=>{let nt=tt[0];et===!0?nt.pre+=_e:nt.pre=_e}),this)},post:function(_e,et){if(_e===void 0){let tt=this.docs[this.docs.length-1];return tt[tt.length-1].post}return this.docs.forEach(tt=>{let nt=tt[tt.length-1];et===!0?nt.post+=_e:nt.post=_e}),this},trim:function(){if(!this.found)return this;let _e=this.docs,et=_e[0][0];et.pre=et.pre.trimStart();let tt=_e[_e.length-1],nt=tt[tt.length-1];return nt.post=nt.post.trimEnd(),this},hyphenate:function(){return this.docs.forEach(_e=>{_e.forEach((et,tt)=>{tt!==0&&(et.pre=""),_e[tt+1]&&(et.post="-")})}),this},dehyphenate:function(){const _e=/[-]/;return this.docs.forEach(et=>{et.forEach(tt=>{_e.test(tt.post)&&(tt.post=" ")})}),this},toQuotations:function(_e,et){return _e=_e||'"',et=et||'"',this.docs.forEach(tt=>{tt[0].pre=_e+tt[0].pre;let nt=tt[tt.length-1];nt.post=et+nt.post}),this},toParentheses:function(_e,et){return _e=_e||"(",et=et||")",this.docs.forEach(tt=>{tt[0].pre=_e+tt[0].pre;let nt=tt[tt.length-1];nt.post=et+nt.post}),this}};methods$j.deHyphenate=methods$j.dehyphenate;methods$j.toQuotation=methods$j.toQuotations;const alpha=(_e,et)=>_e.normal<et.normal?-1:_e.normal>et.normal?1:0,length$1=(_e,et)=>{let tt=_e.normal.trim().length,nt=et.normal.trim().length;return tt<nt?1:tt>nt?-1:0},wordCount$1=(_e,et)=>_e.words<et.words?1:_e.words>et.words?-1:0,sequential=(_e,et)=>_e[0]<et[0]?1:_e[0]>et[0]?-1:_e[1]>et[1]?1:-1,byFreq=function(_e){let et={};return _e.forEach(tt=>{et[tt.normal]=et[tt.normal]||0,et[tt.normal]+=1}),_e.sort((tt,nt)=>{let rt=et[tt.normal],it=et[nt.normal];return rt<it?1:rt>it?-1:0}),_e},methods$i={alpha,length:length$1,wordCount:wordCount$1,sequential,byFreq},seqNames=new Set(["index","sequence","seq","sequential","chron","chronological"]),freqNames=new Set(["freq","frequency","topk","repeats"]),alphaNames=new Set(["alpha","alphabetical"]),customSort=function(_e,et){let tt=_e.fullPointer;return tt=tt.sort((nt,rt)=>(nt=_e.update([nt]),rt=_e.update([rt]),et(nt,rt))),_e.ptrs=tt,_e},sort=function(_e){let{docs:et,pointer:tt}=this;if(this.uncache(),typeof _e=="function")return customSort(this,_e);_e=_e||"alpha";let nt=tt||et.map((it,ot)=>[ot]),rt=et.map((it,ot)=>({index:ot,words:it.length,normal:it.map(st=>st.machine||st.normal||"").join(" "),pointer:nt[ot]}));return seqNames.has(_e)&&(_e="sequential"),alphaNames.has(_e)&&(_e="alpha"),freqNames.has(_e)?(rt=methods$i.byFreq(rt),this.update(rt.map(it=>it.pointer))):typeof methods$i[_e]=="function"?(rt=rt.sort(methods$i[_e]),this.update(rt.map(it=>it.pointer))):this},reverse$1=function(){let _e=this.pointer||this.docs.map((et,tt)=>[tt]);return _e=[].concat(_e),_e=_e.reverse(),this._cache&&(this._cache=this._cache.reverse()),this.update(_e)},unique=function(){let _e=new Set;return this.filter(tt=>{let nt=tt.text("machine");return _e.has(nt)?!1:(_e.add(nt),!0)})},sort$1={unique,reverse:reverse$1,sort},isArray$9=_e=>Object.prototype.toString.call(_e)==="[object Array]",combineDocs=function(_e,et){if(_e.length>0){let tt=_e[_e.length-1],nt=tt[tt.length-1];/ /.test(nt.post)===!1&&(nt.post+=" ")}return _e=_e.concat(et),_e},combineViews=function(_e,et){if(_e.document===et.document){let nt=_e.fullPointer.concat(et.fullPointer);return _e.toView(nt).compute("index")}return et.fullPointer.forEach(nt=>{nt[0]+=_e.document.length}),_e.document=combineDocs(_e.document,et.docs),_e.all()},concat={concat:function(_e){if(typeof _e=="string"){let et=this.fromText(_e);if(!this.found||!this.ptrs)this.document=this.document.concat(et.document);else{let tt=this.fullPointer,nt=tt[tt.length-1][0];this.document.splice(nt,0,...et.document)}return this.all().compute("index")}if(typeof _e=="object"&&_e.isView)return combineViews(this,_e);if(isArray$9(_e)){let et=combineDocs(this.document,_e);return this.document=et,this.all()}return this}},harden=function(){return this.ptrs=this.fullPointer,this},soften=function(){let _e=this.ptrs;return!_e||_e.length<1?this:(_e=_e.map(et=>et.slice(0,3)),this.ptrs=_e,this)},harden$1={harden,soften},methods$h=Object.assign({},caseFns,fns$4,fns$3,methods$k,methods$j,sort$1,concat,harden$1),addAPI$2=function(_e){Object.assign(_e.prototype,methods$h)},compute$9={id:function(_e){let et=_e.docs;for(let tt=0;tt<et.length;tt+=1)for(let nt=0;nt<et[tt].length;nt+=1){let rt=et[tt][nt];rt.id=rt.id||toId(rt)}}},change$1={api:addAPI$2,compute:compute$9},contractions$1=[{word:"@",out:["at"]},{word:"arent",out:["are","not"]},{word:"alot",out:["a","lot"]},{word:"brb",out:["be","right","back"]},{word:"cannot",out:["can","not"]},{word:"dun",out:["do","not"]},{word:"can't",out:["can","not"]},{word:"shan't",out:["should","not"]},{word:"won't",out:["will","not"]},{word:"that's",out:["that","is"]},{word:"what's",out:["what","is"]},{word:"let's",out:["let","us"]},{word:"dunno",out:["do","not","know"]},{word:"gonna",out:["going","to"]},{word:"gotta",out:["have","got","to"]},{word:"gimme",out:["give","me"]},{word:"outta",out:["out","of"]},{word:"tryna",out:["trying","to"]},{word:"gtg",out:["got","to","go"]},{word:"im",out:["i","am"]},{word:"imma",out:["I","will"]},{word:"imo",out:["in","my","opinion"]},{word:"irl",out:["in","real","life"]},{word:"ive",out:["i","have"]},{word:"rn",out:["right","now"]},{word:"tbh",out:["to","be","honest"]},{word:"wanna",out:["want","to"]},{word:"c'mere",out:["come","here"]},{word:"c'mon",out:["come","on"]},{word:"shoulda",out:["should","have"]},{word:"coulda",out:["coulda","have"]},{word:"woulda",out:["woulda","have"]},{word:"musta",out:["must","have"]},{word:"tis",out:["it","is"]},{word:"twas",out:["it","was"]},{word:"y'know",out:["you","know"]},{word:"ne'er",out:["never"]},{word:"o'er",out:["over"]},{after:"ll",out:["will"]},{after:"ve",out:["have"]},{after:"re",out:["are"]},{after:"m",out:["am"]},{before:"c",out:["ce"]},{before:"m",out:["me"]},{before:"n",out:["ne"]},{before:"qu",out:["que"]},{before:"s",out:["se"]},{before:"t",out:["tu"]},{word:"shouldnt",out:["should","not"]},{word:"couldnt",out:["could","not"]},{word:"wouldnt",out:["would","not"]},{word:"hasnt",out:["has","not"]},{word:"wasnt",out:["was","not"]},{word:"isnt",out:["is","not"]},{word:"cant",out:["can","not"]},{word:"dont",out:["do","not"]},{word:"wont",out:["will","not"]},{word:"howd",out:["how","did"]},{word:"whatd",out:["what","did"]},{word:"whend",out:["when","did"]},{word:"whered",out:["where","did"]}],t$2=!0,numberSuffixes={st:t$2,nd:t$2,rd:t$2,th:t$2,am:t$2,pm:t$2,max:t$2,"":t$2,s:t$2,e:t$2,er:t$2,re:t$2,me:t$2},model$5={one:{contractions:contractions$1,numberSuffixes}},insertContraction$1=function(_e,et,tt){let[nt,rt]=et;!tt||tt.length===0||(tt=tt.map((it,ot)=>(it.implicit=it.text,it.machine=it.text,it.pre="",it.post="",it.text="",it.normal="",it.index=[nt,rt+ot],it)),tt[0]&&(tt[0].pre=_e[nt][rt].pre,tt[tt.length-1].post=_e[nt][rt].post,tt[0].text=_e[nt][rt].text,tt[0].normal=_e[nt][rt].normal),_e[nt].splice(rt,1,...tt))},hasContraction$3=/'/,alwaysDid=new Set(["what","how","when","where","why"]),useWould=new Set(["be","go","start","think","need"]),useHad=new Set(["been","gone"]),_apostropheD$1=function(_e,et){let tt=_e[et].normal.split(hasContraction$3)[0];if(alwaysDid.has(tt))return[tt,"did"];if(_e[et+1]){if(useHad.has(_e[et+1].normal))return[tt,"had"];if(useWould.has(_e[et+1].normal))return[tt,"would"]}return null},apostropheT$1=function(_e,et){return _e[et].normal==="ain't"||_e[et].normal==="aint"?null:[_e[et].normal.replace(/n't/,""),"not"]},hasContraction$2=/'/,isFeminine=/(e||aison|sion|tion)$/,isMasculine=/(age|isme|acle|ege|oire)$/,preL=(_e,et)=>{let tt=_e[et].normal.split(hasContraction$2)[1];return tt&&tt.endsWith("e")?["la",tt]:["le",tt]},preD=(_e,et)=>{let tt=_e[et].normal.split(hasContraction$2)[1];return tt&&isFeminine.test(tt)&&!isMasculine.test(tt)?["du",tt]:tt&&tt.endsWith("s")?["des",tt]:["de",tt]},preJ=(_e,et)=>["je",_e[et].normal.split(hasContraction$2)[1]],french={preJ,preL,preD},isRange=/^([0-9.]{1,4}[a-z]{0,2}) ?[-] ?([0-9]{1,4}[a-z]{0,2})$/i,timeRange=/^([0-9]{1,2}(:[0-9][0-9])?(am|pm)?) ?[-] ?([0-9]{1,2}(:[0-9][0-9])?(am|pm)?)$/i,phoneNum=/^[0-9]{3}-[0-9]{4}$/,numberRange=function(_e,et){let tt=_e[et],nt=tt.text.match(isRange);return nt!==null?tt.tags.has("PhoneNumber")===!0||phoneNum.test(tt.text)?null:[nt[1],"to",nt[2]]:(nt=tt.text.match(timeRange),nt!==null?[nt[1],"to",nt[4]]:null)},numUnit=/^([+-]?[0-9][.,0-9]*)([a-z/]+)$/,numberUnit=function(_e,et,tt){const nt=tt.model.one.numberSuffixes||{};let it=_e[et].text.match(numUnit);if(it!==null){let ot=it[2].toLowerCase().trim();return nt.hasOwnProperty(ot)?null:[it[1],ot]}return null},byApostrophe$1=/'/,numDash=/^[0-9][^-]*[-].*?[0-9]/,reTag$1=function(_e,et,tt,nt){let rt=et.update();rt.document=[_e];let it=tt+nt;tt>0&&(tt-=1),_e[it]&&(it+=1),rt.ptrs=[[0,tt,it]]},byEnd$1={t:(_e,et)=>apostropheT$1(_e,et),d:(_e,et)=>_apostropheD$1(_e,et)},byStart={j:(_e,et)=>french.preJ(_e,et),l:(_e,et)=>french.preL(_e,et),d:(_e,et)=>french.preD(_e,et)},knownOnes=function(_e,et,tt,nt){for(let rt=0;rt<_e.length;rt+=1){let it=_e[rt];if(it.word===et.normal)return it.out;if(nt!==null&&nt===it.after)return[tt].concat(it.out);if(tt!==null&&tt===it.before&&nt&&nt.length>2)return it.out.concat(nt)}return null},toDocs$1=function(_e,et){let tt=et.fromText(_e.join(" "));return tt.compute(["id","alias"]),tt.docs[0]},thereHas=function(_e,et){for(let tt=et+1;tt<5&&_e[tt];tt+=1)if(_e[tt].normal==="been")return["there","has"];return["there","is"]},contractions=_e=>{let{world:et,document:tt}=_e;const{model:nt,methods:rt}=et;let it=nt.one.contractions||[];tt.forEach((ot,st)=>{for(let ut=ot.length-1;ut>=0;ut-=1){let ft=null,dt=null;if(byApostrophe$1.test(ot[ut].normal)===!0){let at=ot[ut].normal.split(byApostrophe$1);ft=at[0],dt=at[1]}let lt=knownOnes(it,ot[ut],ft,dt);if(!lt&&byEnd$1.hasOwnProperty(dt)&&(lt=byEnd$1[dt](ot,ut,et)),!lt&&byStart.hasOwnProperty(ft)&&(lt=byStart[ft](ot,ut)),ft==="there"&&dt==="s"&&(lt=thereHas(ot,ut)),lt){lt=toDocs$1(lt,_e),insertContraction$1(tt,[st,ut],lt),reTag$1(tt[st],_e,ut,lt.length);continue}if(numDash.test(ot[ut].normal)){lt=numberRange(ot,ut),lt&&(lt=toDocs$1(lt,_e),insertContraction$1(tt,[st,ut],lt),rt.one.setTag(lt,"NumberRange",et),lt[2]&&lt[2].tags.has("Time")&&rt.one.setTag([lt[0]],"Time",et,null,"time-range"),reTag$1(tt[st],_e,ut,lt.length));continue}lt=numberUnit(ot,ut,et),lt&&(lt=toDocs$1(lt,_e),insertContraction$1(tt,[st,ut],lt),rt.one.setTag([lt[1]],"Unit",et,null,"contraction-unit"))}})},compute$8={contractions},plugin$n={model:model$5,compute:compute$8,hooks:["contractions"]},freeze$2=function(_e){const et=_e.world,{model:tt,methods:nt}=_e.world,rt=nt.one.setTag,{frozenLex:it}=tt.one,ot=tt.one._multiCache||{};_e.docs.forEach(st=>{for(let ut=0;ut<st.length;ut+=1){let ft=st[ut],dt=ft.machine||ft.normal;if(ot[dt]!==void 0&&st[ut+1]){let lt=ut+ot[dt]-1;for(let at=lt;at>ut;at-=1){let ct=st.slice(ut,at+1),ht=ct.map(pt=>pt.machine||pt.normal).join(" ");if(it.hasOwnProperty(ht)===!0){rt(ct,it[ht],et,!1,"1-frozen-multi-lexicon"),ct.forEach(pt=>pt.frozen=!0);continue}}}if(it[dt]!==void 0&&it.hasOwnProperty(dt)){rt([ft],it[dt],et,!1,"1-freeze-lexicon"),ft.frozen=!0;continue}}})},unfreeze=function(_e){return _e.docs.forEach(et=>{et.forEach(tt=>{delete tt.frozen})}),_e},compute$7={frozen:freeze$2,freeze:freeze$2,unfreeze},blue=_e=>"\x1B[34m"+_e+"\x1B[0m",dim=_e=>"\x1B[3m\x1B[2m"+_e+"\x1B[0m",debug$2=function(_e){_e.docs.forEach(et=>{console.log(blue(`
  `)),et.forEach(tt=>{let nt=`  ${dim("")}  `,rt=tt.implicit||tt.text||"-";tt.frozen===!0?nt+=`${blue(rt)} `:nt+=dim(rt),console.log(nt)})})},freeze$1={compute:compute$7,mutate:_e=>{const et=_e.methods.one;et.termMethods.isFrozen=tt=>tt.frozen===!0,et.debug.freeze=debug$2,et.debug.frozen=debug$2},api:function(_e){_e.prototype.freeze=function(){return this.docs.forEach(et=>{et.forEach(tt=>{tt.frozen=!0})}),this},_e.prototype.unfreeze=function(){this.compute("unfreeze")},_e.prototype.isFrozen=function(){return this.match("@isFrozen+")}},hooks:["freeze"]},multiWord=function(_e,et,tt){const{model:nt,methods:rt}=tt,it=rt.one.setTag,ot=nt.one._multiCache||{},{lexicon:st}=nt.one||{};let ut=_e[et],ft=ut.machine||ut.normal;if(ot[ft]!==void 0&&_e[et+1]){let dt=et+ot[ft]-1;for(let lt=dt;lt>et;lt-=1){let at=_e.slice(et,lt+1);if(at.length<=1)return!1;let ct=at.map(ht=>ht.machine||ht.normal).join(" ");if(st.hasOwnProperty(ct)===!0){let ht=st[ct];return it(at,ht,tt,!1,"1-multi-lexicon"),ht&&ht.length===2&&(ht[0]==="PhrasalVerb"||ht[1]==="PhrasalVerb")&&it([at[1]],"Particle",tt,!1,"1-phrasal-particle"),!0}}return!1}return null},prefix$3=/^(under|over|mis|re|un|dis|semi|pre|post)-?/,allowPrefix=new Set(["Verb","Infinitive","PastTense","Gerund","PresentTense","Adjective","Participle"]),checkLexicon=function(_e,et,tt){const{model:nt,methods:rt}=tt,it=rt.one.setTag,{lexicon:ot}=nt.one;let st=_e[et],ut=st.machine||st.normal;if(ot[ut]!==void 0&&ot.hasOwnProperty(ut))return it([st],ot[ut],tt,!1,"1-lexicon"),!0;if(st.alias){let ft=st.alias.find(dt=>ot.hasOwnProperty(dt));if(ft)return it([st],ot[ft],tt,!1,"1-lexicon-alias"),!0}if(prefix$3.test(ut)===!0){let ft=ut.replace(prefix$3,"");if(ot.hasOwnProperty(ft)&&ft.length>3&&allowPrefix.has(ot[ft]))return it([st],ot[ft],tt,!1,"1-lexicon-prefix"),!0}return null},lexicon$3=function(_e){const et=_e.world;_e.docs.forEach(tt=>{for(let nt=0;nt<tt.length;nt+=1)if(tt[nt].tags.size===0){let rt=null;rt=rt||multiWord(tt,nt,et),rt=rt||checkLexicon(tt,nt,et)}})},compute$6={lexicon:lexicon$3},expand$2=function(_e){let et={},tt={};return Object.keys(_e).forEach(nt=>{let rt=_e[nt];nt=nt.toLowerCase().trim(),nt=nt.replace(/'s\b/,"");let it=nt.split(/ /);it.length>1&&(tt[it[0]]===void 0||it.length>tt[it[0]])&&(tt[it[0]]=it.length),et[nt]=et[nt]||rt}),delete et[""],delete et[null],delete et[" "],{lex:et,_multi:tt}},methods$g={one:{expandLexicon:expand$2}},addWords=function(_e,et=!1){const tt=this.world(),{methods:nt,model:rt}=tt;if(!_e)return;if(Object.keys(_e).forEach(st=>{typeof _e[st]=="string"&&_e[st].startsWith("#")&&(_e[st]=_e[st].replace(/^#/,""))}),et===!0){let{lex:st,_multi:ut}=nt.one.expandLexicon(_e,tt);Object.assign(rt.one._multiCache,ut),Object.assign(rt.one.frozenLex,st);return}if(nt.two.expandLexicon){let{lex:st,_multi:ut}=nt.two.expandLexicon(_e,tt);Object.assign(rt.one.lexicon,st),Object.assign(rt.one._multiCache,ut)}let{lex:it,_multi:ot}=nt.one.expandLexicon(_e,tt);Object.assign(rt.one.lexicon,it),Object.assign(rt.one._multiCache,ot)},lib$6={addWords},model$4={one:{lexicon:{},_multiCache:{},frozenLex:{}}},lexicon$2={model:model$4,methods:methods$g,compute:compute$6,lib:lib$6,hooks:["lexicon"]},tokenize$1=function(_e,et){const{methods:tt,model:nt}=et;return tt.one.tokenize.splitTerms(_e,nt).map(it=>tt.one.tokenize.splitWhitespace(it,nt)).map(it=>it.text.toLowerCase())},buildTrie=function(_e,et){let tt=[{}],nt=[null],rt=[0],it=[],ot=0;_e.forEach(function(st){let ut=0,ft=tokenize$1(st,et);for(let dt=0;dt<ft.length;dt++){let lt=ft[dt];tt[ut]&&tt[ut].hasOwnProperty(lt)?ut=tt[ut][lt]:(ot++,tt[ut][lt]=ot,tt[ot]={},ut=ot,nt[ot]=null)}nt[ut]=[ft.length]});for(let st in tt[0])ot=tt[0][st],rt[ot]=0,it.push(ot);for(;it.length;){let st=it.shift(),ut=Object.keys(tt[st]);for(let ft=0;ft<ut.length;ft+=1){let dt=ut[ft],lt=tt[st][dt];for(it.push(lt),ot=rt[st];ot>0&&!tt[ot].hasOwnProperty(dt);)ot=rt[ot];if(tt.hasOwnProperty(ot)){let at=tt[ot][dt];rt[lt]=at,nt[at]&&(nt[lt]=nt[lt]||[],nt[lt]=nt[lt].concat(nt[at]))}else rt[lt]=0}}return{goNext:tt,endAs:nt,failTo:rt}},scanWords=function(_e,et,tt){let nt=0,rt=[];for(let it=0;it<_e.length;it++){let ot=_e[it][tt.form]||_e[it].normal;for(;nt>0&&(et.goNext[nt]===void 0||!et.goNext[nt].hasOwnProperty(ot));)nt=et.failTo[nt]||0;if(et.goNext[nt].hasOwnProperty(ot)&&(nt=et.goNext[nt][ot],et.endAs[nt])){let st=et.endAs[nt];for(let ut=0;ut<st.length;ut++){let ft=st[ut],dt=_e[it-ft+1],[lt,at]=dt.index;rt.push([lt,at,at+ft,dt.id])}}}return rt},cacheMiss=function(_e,et){for(let tt=0;tt<_e.length;tt+=1)if(et.has(_e[tt])===!0)return!1;return!0},scan=function(_e,et,tt){let nt=[];tt.form=tt.form||"normal";let rt=_e.docs;if(!et.goNext||!et.goNext[0])return console.error("Compromise invalid lookup trie"),_e.none();let it=Object.keys(et.goNext[0]);for(let ot=0;ot<rt.length;ot++){if(_e._cache&&_e._cache[ot]&&cacheMiss(it,_e._cache[ot])===!0)continue;let st=rt[ot],ut=scanWords(st,et,tt);ut.length>0&&(nt=nt.concat(ut))}return _e.update(nt)},isObject$9=_e=>Object.prototype.toString.call(_e)==="[object Object]";function api$l(_e){_e.prototype.lookup=function(et,tt={}){if(!et)return this.none();typeof et=="string"&&(et=[et]);let nt=isObject$9(et)?et:buildTrie(et,this.world),rt=scan(this,nt,tt);return rt=rt.settle(),rt}}const truncate=(_e,et)=>{for(let tt=_e.length-1;tt>=0;tt-=1)if(_e[tt]!==et)return _e=_e.slice(0,tt+1),_e;return _e},compress=function(_e){return _e.goNext=_e.goNext.map(et=>{if(Object.keys(et).length!==0)return et}),_e.goNext=truncate(_e.goNext,void 0),_e.failTo=truncate(_e.failTo,0),_e.endAs=truncate(_e.endAs,null),_e},lib$5={buildTrie:function(_e){const et=buildTrie(_e,this.world());return compress(et)}};lib$5.compile=lib$5.buildTrie;const lookup={api:api$l,lib:lib$5},relPointer=function(_e,et){return et&&_e.forEach(tt=>{let nt=tt[0];et[nt]&&(tt[0]=et[nt][0],tt[1]+=et[nt][1],tt[2]+=et[nt][1])}),_e},fixPointers=function(_e,et){let{ptrs:tt,byGroup:nt}=_e;return tt=relPointer(tt,et),Object.keys(nt).forEach(rt=>{nt[rt]=relPointer(nt[rt],et)}),{ptrs:tt,byGroup:nt}},parseRegs=function(_e,et,tt){const nt=tt.methods.one;return typeof _e=="number"&&(_e=String(_e)),typeof _e=="string"&&(_e=nt.killUnicode(_e,tt),_e=nt.parseMatch(_e,et,tt)),_e},isObject$8=_e=>Object.prototype.toString.call(_e)==="[object Object]",isView=_e=>_e&&isObject$8(_e)&&_e.isView===!0,isNet=_e=>_e&&isObject$8(_e)&&_e.isNet===!0,match$2=function(_e,et,tt){const nt=this.methods.one;if(isView(_e))return this.intersection(_e);if(isNet(_e))return this.sweep(_e,{tagger:!1}).view.settle();_e=parseRegs(_e,tt,this.world);let rt={regs:_e,group:et},it=nt.match(this.docs,rt,this._cache),{ptrs:ot,byGroup:st}=fixPointers(it,this.fullPointer),ut=this.toView(ot);return ut._groups=st,ut},matchOne=function(_e,et,tt){const nt=this.methods.one;if(isView(_e))return this.intersection(_e).eq(0);if(isNet(_e))return this.sweep(_e,{tagger:!1,matchOne:!0}).view;_e=parseRegs(_e,tt,this.world);let rt={regs:_e,group:et,justOne:!0},it=nt.match(this.docs,rt,this._cache),{ptrs:ot,byGroup:st}=fixPointers(it,this.fullPointer),ut=this.toView(ot);return ut._groups=st,ut},has$1=function(_e,et,tt){const nt=this.methods.one;if(isView(_e))return this.intersection(_e).fullPointer.length>0;if(isNet(_e))return this.sweep(_e,{tagger:!1}).view.found;_e=parseRegs(_e,tt,this.world);let rt={regs:_e,group:et,justOne:!0};return nt.match(this.docs,rt,this._cache).ptrs.length>0},ifFn=function(_e,et,tt){const nt=this.methods.one;if(isView(_e))return this.filter(ut=>ut.intersection(_e).found);if(isNet(_e)){let ut=this.sweep(_e,{tagger:!1}).view.settle();return this.if(ut)}_e=parseRegs(_e,tt,this.world);let rt={regs:_e,group:et,justOne:!0},it=this.fullPointer,ot=this._cache||[];it=it.filter((ut,ft)=>{let dt=this.update([ut]);return nt.match(dt.docs,rt,ot[ft]).ptrs.length>0});let st=this.update(it);return this._cache&&(st._cache=it.map(ut=>ot[ut[0]])),st},ifNo=function(_e,et,tt){const{methods:nt}=this,rt=nt.one;if(isView(_e))return this.filter(st=>!st.intersection(_e).found);if(isNet(_e)){let st=this.sweep(_e,{tagger:!1}).view.settle();return this.ifNo(st)}_e=parseRegs(_e,tt,this.world);let it=this._cache||[],ot=this.filter((st,ut)=>{let ft={regs:_e,group:et,justOne:!0};return rt.match(st.docs,ft,it[ut]).ptrs.length===0});return this._cache&&(ot._cache=ot.ptrs.map(st=>it[st[0]])),ot},match$3={matchOne,match:match$2,has:has$1,if:ifFn,ifNo},before=function(_e,et,tt){const{indexN:nt}=this.methods.one.pointer;let rt=[],it=nt(this.fullPointer);Object.keys(it).forEach(st=>{let ut=it[st].sort((ft,dt)=>ft[1]>dt[1]?1:-1)[0];ut[1]>0&&rt.push([ut[0],0,ut[1]])});let ot=this.toView(rt);return _e?ot.match(_e,et,tt):ot},after=function(_e,et,tt){const{indexN:nt}=this.methods.one.pointer;let rt=[],it=nt(this.fullPointer),ot=this.document;Object.keys(it).forEach(ut=>{let ft=it[ut].sort((at,ct)=>at[1]>ct[1]?-1:1)[0],[dt,,lt]=ft;lt<ot[dt].length&&rt.push([dt,lt,ot[dt].length])});let st=this.toView(rt);return _e?st.match(_e,et,tt):st},growLeft=function(_e,et,tt){typeof _e=="string"&&(_e=this.world.methods.one.parseMatch(_e,tt,this.world)),_e[_e.length-1].end=!0;let nt=this.fullPointer;return this.forEach((rt,it)=>{let ot=rt.before(_e,et);if(ot.found){let st=ot.terms();nt[it][1]-=st.length,nt[it][3]=st.docs[0][0].id}}),this.update(nt)},growRight=function(_e,et,tt){typeof _e=="string"&&(_e=this.world.methods.one.parseMatch(_e,tt,this.world)),_e[0].start=!0;let nt=this.fullPointer;return this.forEach((rt,it)=>{let ot=rt.after(_e,et);if(ot.found){let st=ot.terms();nt[it][2]+=st.length,nt[it][4]=null}}),this.update(nt)},grow=function(_e,et,tt){return this.growRight(_e,et,tt).growLeft(_e,et,tt)},lookaround={before,after,growLeft,growRight,grow},combine=function(_e,et){return[_e[0],_e[1],et[2]]},isArray$8=function(_e){return Object.prototype.toString.call(_e)==="[object Array]"},getDoc$2=(_e,et,tt)=>typeof _e=="string"||isArray$8(_e)?et.match(_e,tt):_e||et.none(),addIds$1=function(_e,et){let[tt,nt,rt]=_e;return et.document[tt]&&et.document[tt][nt]&&(_e[3]=_e[3]||et.document[tt][nt].id,et.document[tt][rt-1]&&(_e[4]=_e[4]||et.document[tt][rt-1].id)),_e},methods$f={};methods$f.splitOn=function(_e,et){const{splitAll:tt}=this.methods.one.pointer;let nt=getDoc$2(_e,this,et).fullPointer,rt=tt(this.fullPointer,nt),it=[];return rt.forEach(ot=>{it.push(ot.passthrough),it.push(ot.before),it.push(ot.match),it.push(ot.after)}),it=it.filter(ot=>ot),it=it.map(ot=>addIds$1(ot,this)),this.update(it)};methods$f.splitBefore=function(_e,et){const{splitAll:tt}=this.methods.one.pointer;let nt=getDoc$2(_e,this,et).fullPointer,rt=tt(this.fullPointer,nt);for(let ot=0;ot<rt.length;ot+=1)!rt[ot].after&&rt[ot+1]&&rt[ot+1].before&&rt[ot].match&&rt[ot].match[0]===rt[ot+1].before[0]&&(rt[ot].after=rt[ot+1].before,delete rt[ot+1].before);let it=[];return rt.forEach(ot=>{it.push(ot.passthrough),it.push(ot.before),ot.match&&ot.after?it.push(combine(ot.match,ot.after)):it.push(ot.match)}),it=it.filter(ot=>ot),it=it.map(ot=>addIds$1(ot,this)),this.update(it)};methods$f.splitAfter=function(_e,et){const{splitAll:tt}=this.methods.one.pointer;let nt=getDoc$2(_e,this,et).fullPointer,rt=tt(this.fullPointer,nt),it=[];return rt.forEach(ot=>{it.push(ot.passthrough),ot.before&&ot.match?it.push(combine(ot.before,ot.match)):(it.push(ot.before),it.push(ot.match)),it.push(ot.after)}),it=it.filter(ot=>ot),it=it.map(ot=>addIds$1(ot,this)),this.update(it)};methods$f.split=methods$f.splitAfter;const isNeighbour=function(_e,et){return!_e||!et||_e[0]!==et[0]?!1:_e[2]===et[1]},mergeIf=function(_e,et,tt){const nt=_e.world,rt=nt.methods.one.parseMatch;et=et||".$",tt=tt||"^.";let it=rt(et,{},nt),ot=rt(tt,{},nt);it[it.length-1].end=!0,ot[0].start=!0;let st=_e.fullPointer,ut=[st[0]];for(let ft=1;ft<st.length;ft+=1){let dt=ut[ut.length-1],lt=st[ft],at=_e.update([dt]),ct=_e.update([lt]);isNeighbour(dt,lt)&&at.has(it)&&ct.has(ot)?ut[ut.length-1]=[dt[0],dt[1],lt[2],dt[3],lt[4]]:ut.push(lt)}return _e.update(ut)},methods$e={joinIf:function(_e,et){return mergeIf(this,_e,et)},join:function(){return mergeIf(this)}},methods$d=Object.assign({},match$3,lookaround,methods$f,methods$e);methods$d.lookBehind=methods$d.before;methods$d.lookBefore=methods$d.before;methods$d.lookAhead=methods$d.after;methods$d.lookAfter=methods$d.after;methods$d.notIf=methods$d.ifNo;const matchAPI=function(_e){Object.assign(_e.prototype,methods$d)},bySlashes=/(?:^|\s)([![^]*(?:<[^<]*>)?\/.*?[^\\/]\/[?\]+*$~]*)(?:\s|$)/,byParentheses=/([!~[^]*(?:<[^<]*>)?\([^)]+[^\\)]\)[?\]+*$~]*)(?:\s|$)/,byWord$1=/ /g,isBlock=_e=>/^[![^]*(<[^<]*>)?\(/.test(_e)&&/\)[?\]+*$~]*$/.test(_e),isReg=_e=>/^[![^]*(<[^<]*>)?\//.test(_e)&&/\/[?\]+*$~]*$/.test(_e),cleanUp$1=function(_e){return _e=_e.map(et=>et.trim()),_e=_e.filter(et=>et),_e},parseBlocks=function(_e){let et=_e.split(bySlashes),tt=[];et.forEach(rt=>{if(isReg(rt)){tt.push(rt);return}tt=tt.concat(rt.split(byParentheses))}),tt=cleanUp$1(tt);let nt=[];return tt.forEach(rt=>{isBlock(rt)||isReg(rt)?nt.push(rt):nt=nt.concat(rt.split(byWord$1))}),nt=cleanUp$1(nt),nt},hasMinMax=/\{([0-9]+)?(, *[0-9]*)?\}/,andSign=/&&/,captureName=new RegExp(/^<\s*(\S+)\s*>/),titleCase$2=_e=>_e.charAt(0).toUpperCase()+_e.substring(1),end=_e=>_e.charAt(_e.length-1),start$1=_e=>_e.charAt(0),stripStart=_e=>_e.substring(1),stripEnd=_e=>_e.substring(0,_e.length-1),stripBoth=function(_e){return _e=stripStart(_e),_e=stripEnd(_e),_e},parseToken=function(_e,et){let tt={};for(let nt=0;nt<2;nt+=1){if(end(_e)==="$"&&(tt.end=!0,_e=stripEnd(_e)),start$1(_e)==="^"&&(tt.start=!0,_e=stripStart(_e)),end(_e)==="?"&&(tt.optional=!0,_e=stripEnd(_e)),(start$1(_e)==="["||end(_e)==="]")&&(tt.group=null,start$1(_e)==="["&&(tt.groupStart=!0),end(_e)==="]"&&(tt.groupEnd=!0),_e=_e.replace(/^\[/,""),_e=_e.replace(/\]$/,""),start$1(_e)==="<")){const rt=captureName.exec(_e);rt.length>=2&&(tt.group=rt[1],_e=_e.replace(rt[0],""))}if(end(_e)==="+"&&(tt.greedy=!0,_e=stripEnd(_e)),_e!=="*"&&end(_e)==="*"&&_e!=="\\*"&&(tt.greedy=!0,_e=stripEnd(_e)),start$1(_e)==="!"&&(tt.negative=!0,_e=stripStart(_e)),start$1(_e)==="~"&&end(_e)==="~"&&_e.length>2&&(_e=stripBoth(_e),tt.fuzzy=!0,tt.min=et.fuzzy||.85,/\(/.test(_e)===!1))return tt.word=_e,tt;if(start$1(_e)==="/"&&end(_e)==="/")return _e=stripBoth(_e),et.caseSensitive&&(tt.use="text"),tt.regex=new RegExp(_e),tt;if(hasMinMax.test(_e)===!0&&(_e=_e.replace(hasMinMax,(rt,it,ot)=>(ot===void 0?(tt.min=Number(it),tt.max=Number(it)):(ot=ot.replace(/, */,""),it===void 0?(tt.min=0,tt.max=Number(ot)):(tt.min=Number(it),tt.max=Number(ot||999))),tt.greedy=!0,tt.min||(tt.optional=!0),""))),start$1(_e)==="("&&end(_e)===")"){andSign.test(_e)?(tt.choices=_e.split(andSign),tt.operator="and"):(tt.choices=_e.split("|"),tt.operator="or"),tt.choices[0]=stripStart(tt.choices[0]);let rt=tt.choices.length-1;tt.choices[rt]=stripEnd(tt.choices[rt]),tt.choices=tt.choices.map(it=>it.trim()),tt.choices=tt.choices.filter(it=>it),tt.choices=tt.choices.map(it=>it.split(/ /g).map(ot=>parseToken(ot,et))),_e=""}if(start$1(_e)==="{"&&end(_e)==="}"){if(_e=stripBoth(_e),tt.root=_e,/\//.test(_e)){let rt=tt.root.split(/\//);tt.root=rt[0],tt.pos=rt[1],tt.pos==="adj"&&(tt.pos="Adjective"),tt.pos=tt.pos.charAt(0).toUpperCase()+tt.pos.substr(1).toLowerCase(),rt[2]!==void 0&&(tt.sense=rt[2])}return tt}if(start$1(_e)==="<"&&end(_e)===">")return _e=stripBoth(_e),tt.chunk=titleCase$2(_e),tt.greedy=!0,tt;if(start$1(_e)==="%"&&end(_e)==="%")return _e=stripBoth(_e),tt.switch=_e,tt}return start$1(_e)==="#"?(tt.tag=stripStart(_e),tt.tag=titleCase$2(tt.tag),tt):start$1(_e)==="@"?(tt.method=stripStart(_e),tt):_e==="."?(tt.anything=!0,tt):_e==="*"?(tt.anything=!0,tt.greedy=!0,tt.optional=!0,tt):(_e&&(_e=_e.replace("\\*","*"),_e=_e.replace("\\.","."),et.caseSensitive?tt.use="text":_e=_e.toLowerCase(),tt.word=_e),tt)},hasDash$2=/[a-z0-9][-][a-z]/i,splitHyphens$1=function(_e,et){let tt=et.model.one.prefixes;for(let nt=_e.length-1;nt>=0;nt-=1){let rt=_e[nt];if(rt.word&&hasDash$2.test(rt.word)){let it=rt.word.split(/[-]/g);if(tt.hasOwnProperty(it[0]))continue;it=it.filter(ot=>ot).reverse(),_e.splice(nt,1),it.forEach(ot=>{let st=Object.assign({},rt);st.word=ot,_e.splice(nt,0,st)})}}return _e},addVerbs=function(_e,et){let{all:tt}=et.methods.two.transform.verb||{},nt=_e.root;return tt?tt(nt,et.model):[]},addNoun=function(_e,et){let{all:tt}=et.methods.two.transform.noun||{};return tt?tt(_e.root,et.model):[_e.root]},addAdjective=function(_e,et){let{all:tt}=et.methods.two.transform.adjective||{};return tt?tt(_e.root,et.model):[_e.root]},inflectRoot=function(_e,et){return _e=_e.map(tt=>{if(tt.root)if(et.methods.two&&et.methods.two.transform){let nt=[];tt.pos?tt.pos==="Verb"?nt=nt.concat(addVerbs(tt,et)):tt.pos==="Noun"?nt=nt.concat(addNoun(tt,et)):tt.pos==="Adjective"&&(nt=nt.concat(addAdjective(tt,et))):(nt=nt.concat(addVerbs(tt,et)),nt=nt.concat(addNoun(tt,et)),nt=nt.concat(addAdjective(tt,et))),nt=nt.filter(rt=>rt),nt.length>0&&(tt.operator="or",tt.fastOr=new Set(nt))}else tt.machine=tt.root,delete tt.id,delete tt.root;return tt}),_e},nameGroups=function(_e){let et=0,tt=null;for(let nt=0;nt<_e.length;nt++){const rt=_e[nt];rt.groupStart===!0&&(tt=rt.group,tt===null&&(tt=String(et),et+=1)),tt!==null&&(rt.group=tt),rt.groupEnd===!0&&(tt=null)}return _e},doFastOrMode=function(_e){return _e.map(et=>{if(et.choices!==void 0){if(et.operator!=="or"||et.fuzzy===!0)return et;et.choices.every(nt=>{if(nt.length!==1)return!1;let rt=nt[0];return rt.fuzzy===!0||rt.start||rt.end?!1:rt.word!==void 0&&rt.negative!==!0&&rt.optional!==!0&&rt.method!==!0})===!0&&(et.fastOr=new Set,et.choices.forEach(nt=>{et.fastOr.add(nt[0].word)}),delete et.choices)}return et})},fuzzyOr=function(_e){return _e.map(et=>(et.fuzzy&&et.choices&&et.choices.forEach(tt=>{tt.length===1&&tt[0].word&&(tt[0].fuzzy=!0,tt[0].min=et.min)}),et))},postProcess$2=function(_e){return _e=nameGroups(_e),_e=doFastOrMode(_e),_e=fuzzyOr(_e),_e},syntax=function(_e,et,tt){if(_e==null||_e==="")return[];et=et||{},typeof _e=="number"&&(_e=String(_e));let nt=parseBlocks(_e);return nt=nt.map(rt=>parseToken(rt,et)),nt=splitHyphens$1(nt,tt),nt=inflectRoot(nt,tt),nt=postProcess$2(nt),nt},anyIntersection=function(_e,et){for(let tt of et)if(_e.has(tt))return!0;return!1},failFast=function(_e,et){for(let tt=0;tt<_e.length;tt+=1){let nt=_e[tt];if(!(nt.optional===!0||nt.negative===!0||nt.fuzzy===!0)){if(nt.word!==void 0&&et.has(nt.word)===!1||nt.tag!==void 0&&et.has("#"+nt.tag)===!1)return!0;if(nt.fastOr&&anyIntersection(nt.fastOr,et)===!1)return!1}}return!1},editDistance=function(_e,et){let tt=_e.length,nt=et.length;if(tt===0)return nt;if(nt===0)return tt;let rt=(nt>tt?nt:tt)+1;if(Math.abs(tt-nt)>(rt||100))return rt||100;let it=[];for(let at=0;at<rt;at++)it[at]=[at],it[at].length=rt;for(let at=0;at<rt;at++)it[0][at]=at;let ot,st,ut,ft,dt,lt;for(let at=1;at<=tt;++at)for(st=_e[at-1],ot=1;ot<=nt;++ot){if(at===ot&&it[at][ot]>4)return tt;ut=et[ot-1],ft=st===ut?0:1,dt=it[at-1][ot]+1,(lt=it[at][ot-1]+1)<dt&&(dt=lt),(lt=it[at-1][ot-1]+ft)<dt&&(dt=lt),at>1&&ot>1&&st===et[ot-2]&&_e[at-2]===ut&&(lt=it[at-2][ot-2]+ft)<dt?it[at][ot]=lt:it[at][ot]=dt}return it[tt][nt]},fuzzyMatch=function(_e,et,tt=3){if(_e===et)return 1;if(_e.length<tt||et.length<tt)return 0;const nt=editDistance(_e,et);let rt=Math.max(_e.length,et.length);return 1-(rt===0?0:nt/rt)},startQuote=/([\u0022\uFF02\u0027\u201C\u2018\u201F\u201B\u201E\u2E42\u201A\u00AB\u2039\u2035\u2036\u2037\u301D\u0060\u301F])/,endQuote=/([\u0022\uFF02\u0027\u201D\u2019\u00BB\u203A\u2032\u2033\u2034\u301E\u00B4])/,hasHyphen$1=/^[-]$/,hasDash$1=/ [-]{1,3} /,hasPost=(_e,et)=>_e.post.indexOf(et)!==-1,methods$c={hasQuote:_e=>startQuote.test(_e.pre)||endQuote.test(_e.post),hasComma:_e=>hasPost(_e,","),hasPeriod:_e=>hasPost(_e,".")===!0&&hasPost(_e,"...")===!1,hasExclamation:_e=>hasPost(_e,"!"),hasQuestionMark:_e=>hasPost(_e,"?")||hasPost(_e,""),hasEllipses:_e=>hasPost(_e,"..")||hasPost(_e,""),hasSemicolon:_e=>hasPost(_e,";"),hasColon:_e=>hasPost(_e,":"),hasSlash:_e=>/\//.test(_e.text),hasHyphen:_e=>hasHyphen$1.test(_e.post)||hasHyphen$1.test(_e.pre),hasDash:_e=>hasDash$1.test(_e.post)||hasDash$1.test(_e.pre),hasContraction:_e=>!!_e.implicit,isAcronym:_e=>_e.tags.has("Acronym"),isKnown:_e=>_e.tags.size>0,isTitleCase:_e=>new RegExp("^\\p{Lu}[a-z'\\u00C0-\\u00FF]","u").test(_e.text),isUpperCase:_e=>new RegExp("^\\p{Lu}+$","u").test(_e.text)};methods$c.hasQuotation=methods$c.hasQuote;let wrapMatch=function(){};const doesMatch$1=function(_e,et,tt,nt){if(et.anything===!0)return!0;if(et.start===!0&&tt!==0||et.end===!0&&tt!==nt-1)return!1;if(et.id!==void 0&&et.id===_e.id)return!0;if(et.word!==void 0)return et.use?et.word===_e[et.use]:_e.machine!==null&&_e.machine===et.word||_e.alias!==void 0&&_e.alias.hasOwnProperty(et.word)||et.fuzzy===!0&&(et.word===_e.root||fuzzyMatch(et.word,_e.normal)>=et.min)||_e.alias&&_e.alias.some(rt=>rt===et.word)?!0:et.word===_e.text||et.word===_e.normal;if(et.tag!==void 0)return _e.tags.has(et.tag)===!0;if(et.method!==void 0)return typeof methods$c[et.method]=="function"&&methods$c[et.method](_e)===!0;if(et.pre!==void 0)return _e.pre&&_e.pre.includes(et.pre);if(et.post!==void 0)return _e.post&&_e.post.includes(et.post);if(et.regex!==void 0){let rt=_e.normal;return et.use&&(rt=_e[et.use]),et.regex.test(rt)}if(et.chunk!==void 0)return _e.chunk===et.chunk;if(et.switch!==void 0)return _e.switch===et.switch;if(et.machine!==void 0)return _e.normal===et.machine||_e.machine===et.machine||_e.root===et.machine;if(et.sense!==void 0)return _e.sense===et.sense;if(et.fastOr!==void 0){if(et.pos&&!_e.tags.has(et.pos))return null;let rt=_e.root||_e.implicit||_e.machine||_e.normal;return et.fastOr.has(rt)||et.fastOr.has(_e.text)}return et.choices!==void 0?et.operator==="and"?et.choices.every(rt=>wrapMatch(_e,rt,tt,nt)):et.choices.some(rt=>wrapMatch(_e,rt,tt,nt)):!1};wrapMatch=function(_e,et,tt,nt){let rt=doesMatch$1(_e,et,tt,nt);return et.negative===!0?!rt:rt};const getGreedy=function(_e,et){let tt=Object.assign({},_e.regs[_e.r],{start:!1,end:!1}),nt=_e.t;for(;_e.t<_e.terms.length;_e.t+=1){if(et&&wrapMatch(_e.terms[_e.t],et,_e.start_i+_e.t,_e.phrase_length))return _e.t;let rt=_e.t-nt+1;if(tt.max!==void 0&&rt===tt.max)return _e.t;if(wrapMatch(_e.terms[_e.t],tt,_e.start_i+_e.t,_e.phrase_length)===!1)return tt.min!==void 0&&rt<tt.min?null:_e.t}return _e.t},greedyTo=function(_e,et){let tt=_e.t;if(!et)return _e.terms.length;for(;tt<_e.terms.length;tt+=1)if(wrapMatch(_e.terms[tt],et,_e.start_i+tt,_e.phrase_length)===!0)return tt;return null},isEndGreedy=function(_e,et){if(_e.end===!0&&_e.greedy===!0&&et.start_i+et.t<et.phrase_length-1){let tt=Object.assign({},_e,{end:!1});if(wrapMatch(et.terms[et.t],tt,et.start_i+et.t,et.phrase_length)===!0)return!0}return!1},getGroup$1=function(_e,et){return _e.groups[_e.inGroup]||(_e.groups[_e.inGroup]={start:et,length:0}),_e.groups[_e.inGroup]},doAstrix=function(_e){let{regs:et}=_e,tt=et[_e.r],nt=greedyTo(_e,et[_e.r+1]);if(nt===null||nt===0||tt.min!==void 0&&nt-_e.t<tt.min)return null;if(tt.max!==void 0&&nt-_e.t>tt.max)return _e.t=_e.t+tt.max,!0;if(_e.hasGroup===!0){const rt=getGroup$1(_e,_e.t);rt.length=nt-_e.t}return _e.t=nt,!0},isArray$7=function(_e){return Object.prototype.toString.call(_e)==="[object Array]"},doOrBlock=function(_e,et=0){let tt=_e.regs[_e.r],nt=!1;for(let rt=0;rt<tt.choices.length;rt+=1){let it=tt.choices[rt];if(!isArray$7(it))return!1;if(nt=it.every((ot,st)=>{let ut=0,ft=_e.t+st+et+ut;if(_e.terms[ft]===void 0)return!1;let dt=wrapMatch(_e.terms[ft],ot,ft+_e.start_i,_e.phrase_length);if(dt===!0&&ot.greedy===!0)for(let lt=1;lt<_e.terms.length;lt+=1){let at=_e.terms[ft+lt];if(at)if(wrapMatch(at,ot,_e.start_i+lt,_e.phrase_length)===!0)ut+=1;else break}return et+=ut,dt}),nt){et+=it.length;break}}return nt&&tt.greedy===!0?doOrBlock(_e,et):et},doAndBlock=function(_e){let et=0;return _e.regs[_e.r].choices.every(rt=>{let it=rt.every((ot,st)=>{let ut=_e.t+st;return _e.terms[ut]===void 0?!1:wrapMatch(_e.terms[ut],ot,ut,_e.phrase_length)});return it===!0&&rt.length>et&&(et=rt.length),it})===!0?et:!1},orBlock=function(_e){const{regs:et}=_e;let tt=et[_e.r],nt=doOrBlock(_e);if(nt){if(tt.negative===!0)return null;if(_e.hasGroup===!0){const rt=getGroup$1(_e,_e.t);rt.length+=nt}if(tt.end===!0){let rt=_e.phrase_length;if(_e.t+_e.start_i+nt!==rt)return null}return _e.t+=nt,!0}else if(!tt.optional)return null;return!0},andBlock=function(_e){const{regs:et}=_e;let tt=et[_e.r],nt=doAndBlock(_e);if(nt){if(tt.negative===!0)return null;if(_e.hasGroup===!0){const rt=getGroup$1(_e,_e.t);rt.length+=nt}if(tt.end===!0){let rt=_e.phrase_length-1;if(_e.t+_e.start_i!==rt)return null}return _e.t+=nt,!0}else if(!tt.optional)return null;return!0},negGreedy=function(_e,et,tt){let nt=0;for(let rt=_e.t;rt<_e.terms.length;rt+=1){let it=wrapMatch(_e.terms[rt],et,_e.start_i+_e.t,_e.phrase_length);if(it||tt&&(it=wrapMatch(_e.terms[rt],tt,_e.start_i+_e.t,_e.phrase_length),it)||(nt+=1,et.max!==void 0&&nt===et.max))break}return nt===0||et.min&&et.min>nt?!1:(_e.t+=nt,!0)},doNegative=function(_e){const{regs:et}=_e;let tt=et[_e.r],nt=Object.assign({},tt);if(nt.negative=!1,wrapMatch(_e.terms[_e.t],nt,_e.start_i+_e.t,_e.phrase_length))return!1;if(tt.optional){let it=et[_e.r+1];it&&(wrapMatch(_e.terms[_e.t],it,_e.start_i+_e.t,_e.phrase_length)?_e.r+=1:it.optional&&et[_e.r+2]&&wrapMatch(_e.terms[_e.t],et[_e.r+2],_e.start_i+_e.t,_e.phrase_length)&&(_e.r+=2))}return tt.greedy?negGreedy(_e,nt,et[_e.r+1]):(_e.t+=1,!0)},foundOptional=function(_e){const{regs:et}=_e;let tt=et[_e.r],nt=_e.terms[_e.t],rt=wrapMatch(nt,et[_e.r+1],_e.start_i+_e.t,_e.phrase_length);if(tt.negative||rt){let it=_e.terms[_e.t+1];(!it||!wrapMatch(it,et[_e.r+1],_e.start_i+_e.t,_e.phrase_length))&&(_e.r+=1)}},greedyMatch=function(_e){const{regs:et,phrase_length:tt}=_e;let nt=et[_e.r];return _e.t=getGreedy(_e,et[_e.r+1]),_e.t===null||nt.min&&nt.min>_e.t||nt.end===!0&&_e.start_i+_e.t!==tt?null:!0},contractionSkip=function(_e){let et=_e.terms[_e.t],tt=_e.regs[_e.r];if(et.implicit&&_e.terms[_e.t+1]){if(!_e.terms[_e.t+1].implicit)return;tt.word===et.normal&&(_e.t+=1),tt.method==="hasContraction"&&(_e.t+=1)}},setGroup=function(_e,et){let tt=_e.regs[_e.r];const nt=getGroup$1(_e,et);_e.t>1&&tt.greedy?nt.length+=_e.t-et:nt.length++},simpleMatch=function(_e){const{regs:et}=_e;let tt=et[_e.r],nt=_e.terms[_e.t],rt=_e.t;return tt.optional&&et[_e.r+1]&&tt.negative?!0:(tt.optional&&et[_e.r+1]&&foundOptional(_e),nt.implicit&&_e.terms[_e.t+1]&&contractionSkip(_e),_e.t+=1,tt.end===!0&&_e.t!==_e.terms.length&&tt.greedy!==!0||tt.greedy===!0&&!greedyMatch(_e)?null:(_e.hasGroup===!0&&setGroup(_e,rt),!0))},tryHere=function(_e,et,tt,nt){if(_e.length===0||et.length===0)return null;let rt={t:0,terms:_e,r:0,regs:et,groups:{},start_i:tt,phrase_length:nt,inGroup:null};for(;rt.r<et.length;rt.r+=1){let st=et[rt.r];if(rt.hasGroup=!!st.group,rt.hasGroup===!0?rt.inGroup=st.group:rt.inGroup=null,!rt.terms[rt.t]){if(et.slice(rt.r).some(dt=>!dt.optional)===!1)break;return null}if(st.anything===!0&&st.greedy===!0){if(!doAstrix(rt))return null;continue}if(st.choices!==void 0&&st.operator==="or"){if(!orBlock(rt))return null;continue}if(st.choices!==void 0&&st.operator==="and"){if(!andBlock(rt))return null;continue}if(st.anything===!0){if(st.negative&&st.anything||!simpleMatch(rt))return null;continue}if(isEndGreedy(st,rt)===!0){if(!simpleMatch(rt))return null;continue}if(st.negative){if(!doNegative(rt))return null;continue}if(wrapMatch(rt.terms[rt.t],st,rt.start_i+rt.t,rt.phrase_length)===!0){if(!simpleMatch(rt))return null;continue}if(st.optional!==!0)return null}let it=[null,tt,rt.t+tt];if(it[1]===it[2])return null;let ot={};return Object.keys(rt.groups).forEach(st=>{let ut=rt.groups[st],ft=tt+ut.start;ot[st]=[null,ft,ft+ut.length]}),{pointer:it,groups:ot}},getGroup=function(_e,et){let tt=[],nt={};return _e.length===0?{ptrs:tt,byGroup:nt}:(typeof et=="number"&&(et=String(et)),et?_e.forEach(rt=>{rt.groups[et]&&tt.push(rt.groups[et])}):_e.forEach(rt=>{tt.push(rt.pointer),Object.keys(rt.groups).forEach(it=>{nt[it]=nt[it]||[],nt[it].push(rt.groups[it])})}),{ptrs:tt,byGroup:nt})},notIf$1=function(_e,et,tt){return _e=_e.filter(nt=>{let[rt,it,ot]=nt.pointer,st=tt[rt].slice(it,ot);for(let ut=0;ut<st.length;ut+=1){let ft=st.slice(ut);if(tryHere(ft,et,ut,st.length)!==null)return!1}return!0}),_e},addSentence=function(_e,et){return _e.pointer[0]=et,Object.keys(_e.groups).forEach(tt=>{_e.groups[tt][0]=et}),_e},handleStart=function(_e,et,tt){let nt=tryHere(_e,et,0,_e.length);return nt?(nt=addSentence(nt,tt),nt):null},runMatch$1=function(_e,et,tt){tt=tt||[];let{regs:nt,group:rt,justOne:it}=et,ot=[];if(!nt||nt.length===0)return{ptrs:[],byGroup:{}};const st=nt.filter(ut=>ut.optional!==!0&&ut.negative!==!0).length;e:for(let ut=0;ut<_e.length;ut+=1){let ft=_e[ut];if(!(tt[ut]&&failFast(nt,tt[ut]))){if(nt[0].start===!0){let dt=handleStart(ft,nt,ut);dt&&ot.push(dt);continue}for(let dt=0;dt<ft.length;dt+=1){let lt=ft.slice(dt);if(lt.length<st)break;let at=tryHere(lt,nt,dt,ft.length);if(at){if(at=addSentence(at,ut),ot.push(at),it===!0)break e;let ct=at.pointer[2];Math.abs(ct-1)>dt&&(dt=Math.abs(ct-1))}}}}return nt[nt.length-1].end===!0&&(ot=ot.filter(ut=>{let ft=ut.pointer[0];return _e[ft].length===ut.pointer[2]})),et.notIf&&(ot=notIf$1(ot,et.notIf,_e)),ot=getGroup(ot,rt),ot.ptrs.forEach(ut=>{let[ft,dt,lt]=ut;ut[3]=_e[ft][dt].id,ut[4]=_e[ft][lt-1].id}),ot},methods$b={one:{termMethods:methods$c,parseMatch:syntax,match:runMatch$1}},lib$4={parseMatch:function(_e,et){const tt=this.world();let nt=tt.methods.one.killUnicode;return nt&&(_e=nt(_e,tt)),tt.methods.one.parseMatch(_e,et,tt)}},match$1={api:matchAPI,methods:methods$b,lib:lib$4},isClass=/^\../,isId=/^#./,escapeXml=_e=>(_e=_e.replace(/&/g,"&amp;"),_e=_e.replace(/</g,"&lt;"),_e=_e.replace(/>/g,"&gt;"),_e=_e.replace(/"/g,"&quot;"),_e=_e.replace(/'/g,"&apos;"),_e),toTag=function(_e){let et="",tt="</span>";return _e=escapeXml(_e),isClass.test(_e)?et=`<span class="${_e.replace(/^\./,"")}"`:isId.test(_e)?et=`<span id="${_e.replace(/^#/,"")}"`:(et=`<${_e}`,tt=`</${_e}>`),et+=">",{start:et,end:tt}},getIndex=function(_e,et){let tt={},nt={};return Object.keys(et).forEach(rt=>{let it=et[rt],ot=toTag(rt);typeof it=="string"&&(it=_e.match(it)),it.docs.forEach(st=>{if(st.every(dt=>dt.implicit))return;let ut=st[0].id;tt[ut]=tt[ut]||[],tt[ut].push(ot.start);let ft=st[st.length-1].id;nt[ft]=nt[ft]||[],nt[ft].push(ot.end)})}),{starts:tt,ends:nt}},html$3=function(_e){let{starts:et,ends:tt}=getIndex(this,_e),nt="";return this.docs.forEach(rt=>{for(let it=0;it<rt.length;it+=1){let ot=rt[it];et.hasOwnProperty(ot.id)&&(nt+=et[ot.id].join("")),nt+=ot.pre||"",nt+=ot.text||"",tt.hasOwnProperty(ot.id)&&(nt+=tt[ot.id].join("")),nt+=ot.post||""}}),nt},html$4={html:html$3},trimEnd=/[,:;)\]*.?~!\u0022\uFF02\u201D\u2019\u00BB\u203A\u2032\u2033\u2034\u301E\u00B4-]+$/,trimStart=/^[(['"*~\uFF02\u201C\u2018\u201F\u201B\u201E\u2E42\u201A\u00AB\u2039\u2035\u2036\u2037\u301D\u0060\u301F]+/,punctToKill=/[,:;)('"\u201D\]]/,isHyphen=/^[-]$/,hasSpace=/ /,textFromTerms=function(_e,et,tt=!0){let nt="";return _e.forEach(rt=>{let it=rt.pre||"",ot=rt.post||"";et.punctuation==="some"&&(it=it.replace(trimStart,""),isHyphen.test(ot)&&(ot=" "),ot=ot.replace(punctToKill,""),ot=ot.replace(/\?!+/,"?"),ot=ot.replace(/!+/,"!"),ot=ot.replace(/\?+/,"?"),ot=ot.replace(/\.{2,}/,""),rt.tags.has("Abbreviation")&&(ot=ot.replace(/\./,""))),et.whitespace==="some"&&(it=it.replace(/\s/,""),ot=ot.replace(/\s+/," ")),et.keepPunct||(it=it.replace(trimStart,""),ot==="-"?ot=" ":ot=ot.replace(trimEnd,""));let st=rt[et.form||"text"]||rt.normal||"";et.form==="implicit"&&(st=rt.implicit||rt.text),et.form==="root"&&rt.implicit&&(st=rt.root||rt.implicit||rt.normal),(et.form==="machine"||et.form==="implicit"||et.form==="root")&&rt.implicit&&(!ot||!hasSpace.test(ot))&&(ot+=" "),nt+=it+st+ot}),tt===!1&&(nt=nt.trim()),et.lowerCase===!0&&(nt=nt.toLowerCase()),nt},textFromDoc=function(_e,et){let tt="";if(!_e||!_e[0]||!_e[0][0])return tt;for(let nt=0;nt<_e.length;nt+=1)tt+=textFromTerms(_e[nt],et,!0);if(et.keepSpace||(tt=tt.trim()),et.keepEndPunct===!1){_e[0][0].tags.has("Emoticon")||(tt=tt.replace(trimStart,""));let nt=_e[_e.length-1];nt[nt.length-1].tags.has("Emoticon")||(tt=tt.replace(trimEnd,"")),tt.endsWith("'")&&!tt.endsWith("s'")&&(tt=tt.replace(/'/,""))}return et.cleanWhitespace===!0&&(tt=tt.trim()),tt},fmts={text:{form:"text"},normal:{whitespace:"some",punctuation:"some",case:"some",unicode:"some",form:"normal"},machine:{keepSpace:!1,whitespace:"some",punctuation:"some",case:"none",unicode:"some",form:"machine"},root:{keepSpace:!1,whitespace:"some",punctuation:"some",case:"some",unicode:"some",form:"root"},implicit:{form:"implicit"}};fmts.clean=fmts.normal;fmts.reduced=fmts.root;let k$1=[],i$3=0;for(;i$3<64;)k$1[i$3]=0|Math.sin(++i$3%Math.PI)*4294967296;const md5=function(_e){let et,tt,nt,rt=[et=1732584193,tt=4023233417,~et,~tt],it=[],ot=decodeURI(encodeURI(_e))+"",st=ot.length;for(_e=--st/4+2|15,it[--_e]=st*8;~st;)it[st>>2]|=ot.charCodeAt(st)<<8*st--;for(i$3=ot=0;i$3<_e;i$3+=16){for(st=rt;ot<64;st=[nt=st[3],et+((nt=st[0]+[et&tt|~et&nt,nt&et|~nt&tt,et^tt^nt,tt^(et|~nt)][st=ot>>4]+k$1[ot]+~~it[i$3|[ot,5*ot+1,3*ot+5,7*ot][st]&15])<<(st=[7,12,17,22,5,9,14,20,4,11,16,23,6,10,15,21][4*st+ot++%4])|nt>>>-st),et,tt])et=st[1]|0,tt=st[2];for(ot=4;ot;)rt[--ot]+=st[ot]}for(_e="";ot<32;)_e+=(rt[ot>>3]>>(1^ot++)*4&15).toString(16);return _e},defaults$4={text:!0,terms:!0};let opts={case:"none",unicode:"some",form:"machine",punctuation:"some"};const merge$3=function(_e,et){return Object.assign({},_e,et)},fns$2={text:_e=>textFromTerms(_e,{keepPunct:!0},!1),normal:_e=>textFromTerms(_e,merge$3(fmts.normal,{keepPunct:!0}),!1),implicit:_e=>textFromTerms(_e,merge$3(fmts.implicit,{keepPunct:!0}),!1),machine:_e=>textFromTerms(_e,opts,!1),root:_e=>textFromTerms(_e,merge$3(opts,{form:"root"}),!1),hash:_e=>md5(textFromTerms(_e,{keepPunct:!0},!1)),offset:_e=>{let et=fns$2.text(_e).length;return{index:_e[0].offset.index,start:_e[0].offset.start,length:et}},terms:_e=>_e.map(et=>{let tt=Object.assign({},et);return tt.tags=Array.from(et.tags),tt}),confidence:(_e,et,tt)=>et.eq(tt).confidence(),syllables:(_e,et,tt)=>et.eq(tt).syllables(),sentence:(_e,et,tt)=>et.eq(tt).fullSentence().text(),dirty:_e=>_e.some(et=>et.dirty===!0)};fns$2.sentences=fns$2.sentence;fns$2.clean=fns$2.normal;fns$2.reduced=fns$2.root;const toJSON$2=function(_e,et){return et=et||{},typeof et=="string"&&(et={}),et=Object.assign({},defaults$4,et),et.offset&&_e.compute("offset"),_e.docs.map((tt,nt)=>{let rt={};return Object.keys(et).forEach(it=>{et[it]&&fns$2[it]&&(rt[it]=fns$2[it](tt,_e,nt))}),rt})},methods$a={json:function(_e){let et=toJSON$2(this,_e);return typeof _e=="number"?et[_e]:et}};methods$a.data=methods$a.json;const isClientSide=()=>typeof window<"u"&&window.document,debug$1=function(_e){let et=this.methods.one.debug||{};return _e&&et.hasOwnProperty(_e)?(et[_e](this),this):isClientSide()?(et.clientSide(this),this):(et.tags(this),this)},toText$3=function(_e){let et=_e.pre||"",tt=_e.post||"";return et+_e.text+tt},findStarts=function(_e,et){let tt={};return Object.keys(et).forEach(nt=>{_e.match(nt).fullPointer.forEach(it=>{tt[it[3]]={fn:et[nt],end:it[2]}})}),tt},wrap$2=function(_e,et){let tt=findStarts(_e,et),nt="";return _e.docs.forEach((rt,it)=>{for(let ot=0;ot<rt.length;ot+=1){let st=rt[ot];if(tt.hasOwnProperty(st.id)){let{fn:ut,end:ft}=tt[st.id],dt=_e.update([[it,ot,ft]]);nt+=rt[ot].pre||"",nt+=ut(dt),ot=ft-1,nt+=rt[ot].post||""}else nt+=toText$3(st)}}),nt},isObject$7=_e=>Object.prototype.toString.call(_e)==="[object Object]",topk=function(_e){let et={};return _e.forEach(nt=>{et[nt]=et[nt]||0,et[nt]+=1}),Object.keys(et).map(nt=>({normal:nt,count:et[nt]})).sort((nt,rt)=>nt.count>rt.count?-1:0)},out=function(_e){if(isObject$7(_e))return wrap$2(this,_e);if(_e==="text")return this.text();if(_e==="normal")return this.text("normal");if(_e==="root")return this.text("root");if(_e==="machine"||_e==="reduced")return this.text("machine");if(_e==="hash"||_e==="md5")return md5(this.text());if(_e==="json")return this.json();if(_e==="offset"||_e==="offsets")return this.compute("offset"),this.json({offset:!0});if(_e==="array")return this.docs.map(tt=>tt.reduce((nt,rt)=>nt+rt.pre+rt.text+rt.post,"").trim()).filter(tt=>tt);if(_e==="freq"||_e==="frequency"||_e==="topk")return topk(this.json({normal:!0}).map(et=>et.normal));if(_e==="terms"){let et=[];return this.docs.forEach(tt=>{let nt=tt.map(rt=>rt.text);nt=nt.filter(rt=>rt),et=et.concat(nt)}),et}return _e==="tags"?this.docs.map(et=>et.reduce((tt,nt)=>(tt[nt.implicit||nt.normal]=Array.from(nt.tags),tt),{})):_e==="debug"?this.debug():this.text()},methods$9={debug:debug$1,out,wrap:function(_e){return wrap$2(this,_e)}},isObject$6=_e=>Object.prototype.toString.call(_e)==="[object Object]",text$3={text:function(_e){let et={};if(_e&&typeof _e=="string"&&fmts.hasOwnProperty(_e)?et=Object.assign({},fmts[_e]):_e&&isObject$6(_e)&&(et=Object.assign({},_e)),et.keepSpace===void 0&&!this.isFull()&&(et.keepSpace=!1),et.keepEndPunct===void 0&&this.pointer){let tt=this.pointer[0];tt&&tt[1]?et.keepEndPunct=!1:et.keepEndPunct=!0}return et.keepPunct===void 0&&(et.keepPunct=!0),et.keepSpace===void 0&&(et.keepSpace=!0),textFromDoc(this.docs,et)}},methods$8=Object.assign({},methods$9,text$3,methods$a,html$4),addAPI$1=function(_e){Object.assign(_e.prototype,methods$8)},logClientSide=function(_e){console.log("%c -=-=- ","background-color:#6699cc;"),_e.forEach(et=>{console.groupCollapsed(et.text());let nt=et.docs[0].map(rt=>{let it=rt.text||"-";rt.implicit&&(it="["+rt.implicit+"]");let ot="["+Array.from(rt.tags).join(", ")+"]";return{text:it,tags:ot}});console.table(nt,["text","tags"]),console.groupEnd()})},reset$1="\x1B[0m",cli={green:_e=>"\x1B[32m"+_e+reset$1,red:_e=>"\x1B[31m"+_e+reset$1,blue:_e=>"\x1B[34m"+_e+reset$1,magenta:_e=>"\x1B[35m"+_e+reset$1,cyan:_e=>"\x1B[36m"+_e+reset$1,yellow:_e=>"\x1B[33m"+_e+reset$1,black:_e=>"\x1B[30m"+_e+reset$1,dim:_e=>"\x1B[2m"+_e+reset$1,i:_e=>"\x1B[3m"+_e+reset$1},tagString=function(_e,et){return et.one.tagSet&&(_e=_e.map(tt=>{if(!et.one.tagSet.hasOwnProperty(tt))return tt;const nt=et.one.tagSet[tt].color||"blue";return cli[nt](tt)})),_e.join(", ")},showTags=function(_e){let{docs:et,model:tt}=_e;et.length===0&&console.log(cli.blue(`
     `)),et.forEach(nt=>{console.log(cli.blue(`
  `)),nt.forEach(rt=>{let it=[...rt.tags||[]],ot=rt.text||"-";rt.sense&&(ot=`{${rt.normal}/${rt.sense}}`),rt.implicit&&(ot="["+rt.implicit+"]"),ot=cli.yellow(ot);let st="'"+ot+"'";if(rt.reference){let ft=_e.update([rt.reference]).text("normal");st+=` - ${cli.dim(cli.i("["+ft+"]"))}`}st=st.padEnd(18);let ut=cli.blue("   ")+cli.i(st)+"  - "+tagString(it,tt);console.log(ut)})}),console.log(`
`)},showChunks=function(_e){let{docs:et}=_e;console.log(""),et.forEach(tt=>{let nt=[];tt.forEach(rt=>{rt.chunk==="Noun"?nt.push(cli.blue(rt.implicit||rt.normal)):rt.chunk==="Verb"?nt.push(cli.green(rt.implicit||rt.normal)):rt.chunk==="Adjective"?nt.push(cli.yellow(rt.implicit||rt.normal)):rt.chunk==="Pivot"?nt.push(cli.red(rt.implicit||rt.normal)):nt.push(rt.implicit||rt.normal)}),console.log(nt.join(" "),`
`)}),console.log(`
`)},split$1=(_e,et,tt)=>{let nt=tt*9,rt=et.start+nt,it=rt+et.length,ot=_e.substring(0,rt),st=_e.substring(rt,it),ut=_e.substring(it,_e.length);return[ot,st,ut]},spliceIn=function(_e,et,tt){let nt=split$1(_e,et,tt);return`${nt[0]}${cli.blue(nt[1])}${nt[2]}`},showHighlight=function(_e){if(!_e.found)return;let et={};_e.fullPointer.forEach(tt=>{et[tt[0]]=et[tt[0]]||[],et[tt[0]].push(tt)}),Object.keys(et).forEach(tt=>{let rt=_e.update([[Number(tt)]]).text();_e.update(et[tt]).json({offset:!0}).forEach((st,ut)=>{rt=spliceIn(rt,st.offset,ut)}),console.log(rt)}),console.log(`
`)},debug={tags:showTags,clientSide:logClientSide,chunks:showChunks,highlight:showHighlight},output$1={api:addAPI$1,methods:{one:{hash:md5,debug}}},doesOverlap=function(_e,et){if(_e[0]!==et[0])return!1;let[,tt,nt]=_e,[,rt,it]=et;return tt<=rt&&nt>rt||rt<=tt&&it>tt},getExtent=function(_e){let et=_e[0][1],tt=_e[0][2];return _e.forEach(nt=>{nt[1]<et&&(et=nt[1]),nt[2]>tt&&(tt=nt[2])}),[_e[0][0],et,tt]},indexN=function(_e){let et={};return _e.forEach(tt=>{et[tt[0]]=et[tt[0]]||[],et[tt[0]].push(tt)}),et},uniquePtrs=function(_e){let et={};for(let tt=0;tt<_e.length;tt+=1)et[_e[tt].join(",")]=_e[tt];return Object.values(et)},pivotBy=function(_e,et){let[tt,nt]=_e,rt=et[1],it=et[2],ot={};if(nt<rt){let st=rt<_e[2]?rt:_e[2];ot.before=[tt,nt,st]}return ot.match=et,_e[2]>it&&(ot.after=[tt,it,_e[2]]),ot},doesMatch=function(_e,et){return _e[1]<=et[1]&&et[2]<=_e[2]},splitAll=function(_e,et){let tt=indexN(et),nt=[];return _e.forEach(rt=>{let[it]=rt,ot=tt[it]||[];if(ot=ot.filter(ut=>doesMatch(rt,ut)),ot.length===0){nt.push({passthrough:rt});return}ot=ot.sort((ut,ft)=>ut[1]-ft[1]);let st=rt;ot.forEach((ut,ft)=>{let dt=pivotBy(st,ut);ot[ft+1]?(nt.push({before:dt.before,match:dt.match}),dt.after&&(st=dt.after)):nt.push(dt)})}),nt},max$4=20,blindSweep=function(_e,et,tt){for(let nt=0;nt<max$4;nt+=1){if(et[tt-nt]){let rt=et[tt-nt].findIndex(it=>it.id===_e);if(rt!==-1)return[tt-nt,rt]}if(et[tt+nt]){let rt=et[tt+nt].findIndex(it=>it.id===_e);if(rt!==-1)return[tt+nt,rt]}}return null},repairEnding=function(_e,et){let[tt,nt,,,rt]=_e,it=et[tt],ot=it.findIndex(st=>st.id===rt);return ot===-1?(_e[2]=et[tt].length,_e[4]=it.length?it[it.length-1].id:null):_e[2]=ot,et[tt].slice(nt,_e[2]+1)},getDoc$1=function(_e,et){let tt=[];return _e.forEach((nt,rt)=>{if(!nt)return;let[it,ot,st,ut,ft]=nt,dt=et[it]||[];if(ot===void 0&&(ot=0),st===void 0&&(st=dt.length),ut&&(!dt[ot]||dt[ot].id!==ut)){let lt=blindSweep(ut,et,it);if(lt!==null){let at=st-ot;dt=et[lt[0]].slice(lt[1],lt[1]+at);let ct=dt[0]?dt[0].id:null;_e[rt]=[lt[0],lt[1],lt[1]+at,ct]}}else dt=dt.slice(ot,st);dt.length!==0&&ot!==st&&(ft&&dt[dt.length-1].id!==ft&&(dt=repairEnding(nt,et)),tt.push(dt))}),tt=tt.filter(nt=>nt.length>0),tt},termList=function(_e){let et=[];for(let tt=0;tt<_e.length;tt+=1)for(let nt=0;nt<_e[tt].length;nt+=1)et.push(_e[tt][nt]);return et},methods$7={one:{termList,getDoc:getDoc$1,pointer:{indexN,splitAll}}},getUnion=function(_e,et){let tt=_e.concat(et),nt=indexN(tt),rt=[];return tt.forEach(it=>{let[ot]=it;if(nt[ot].length===1){rt.push(it);return}let st=nt[ot].filter(ft=>doesOverlap(it,ft));st.push(it);let ut=getExtent(st);rt.push(ut)}),rt=uniquePtrs(rt),rt},subtract=function(_e,et){let tt=[];return splitAll(_e,et).forEach(rt=>{rt.passthrough&&tt.push(rt.passthrough),rt.before&&tt.push(rt.before),rt.after&&tt.push(rt.after)}),tt},intersection=function(_e,et){let tt=_e[1]<et[1]?et[1]:_e[1],nt=_e[2]>et[2]?et[2]:_e[2];return tt<nt?[_e[0],tt,nt]:null},getIntersection=function(_e,et){let tt=indexN(et),nt=[];return _e.forEach(rt=>{let it=tt[rt[0]]||[];it=it.filter(ot=>doesOverlap(rt,ot)),it.length!==0&&it.forEach(ot=>{let st=intersection(rt,ot);st&&nt.push(st)})}),nt},isArray$6=function(_e){return Object.prototype.toString.call(_e)==="[object Array]"},getDoc=(_e,et)=>typeof _e=="string"||isArray$6(_e)?et.match(_e):_e||et.none(),addIds=function(_e,et){return _e.map(tt=>{let[nt,rt]=tt;return et[nt]&&et[nt][rt]&&(tt[3]=et[nt][rt].id),tt})},methods$6={};methods$6.union=function(_e){_e=getDoc(_e,this);let et=getUnion(this.fullPointer,_e.fullPointer);return et=addIds(et,this.document),this.toView(et)};methods$6.and=methods$6.union;methods$6.intersection=function(_e){_e=getDoc(_e,this);let et=getIntersection(this.fullPointer,_e.fullPointer);return et=addIds(et,this.document),this.toView(et)};methods$6.not=function(_e){_e=getDoc(_e,this);let et=subtract(this.fullPointer,_e.fullPointer);return et=addIds(et,this.document),this.toView(et)};methods$6.difference=methods$6.not;methods$6.complement=function(){let _e=this.all(),et=subtract(_e.fullPointer,this.fullPointer);return et=addIds(et,this.document),this.toView(et)};methods$6.settle=function(){let _e=this.fullPointer;return _e.forEach(et=>{_e=getUnion(_e,[et])}),_e=addIds(_e,this.document),this.update(_e)};const addAPI=function(_e){Object.assign(_e.prototype,methods$6)},pointers={methods:methods$7,api:addAPI},lib$3={buildNet:function(_e){let tt=this.methods().one.buildNet(_e,this.world());return tt.isNet=!0,tt}},api$k=function(_e){_e.prototype.sweep=function(et,tt={}){const{world:nt,docs:rt}=this,{methods:it}=nt;let ot=it.one.bulkMatch(rt,et,this.methods,tt);tt.tagger!==!1&&it.one.bulkTagger(ot,rt,this.world),ot=ot.map(ut=>{let ft=ut.pointer,dt=rt[ft[0]][ft[1]],lt=ft[2]-ft[1];return dt.index&&(ut.pointer=[dt.index[0],dt.index[1],ft[1]+lt]),ut});let st=ot.map(ut=>ut.pointer);return ot=ot.map(ut=>(ut.view=this.update([ut.pointer]),delete ut.regs,delete ut.needs,delete ut.pointer,delete ut._expanded,ut)),{view:this.update(st),found:ot}}},getTokenNeeds=function(_e){return _e.optional===!0||_e.negative===!0?null:_e.tag?"#"+_e.tag:_e.word?_e.word:_e.switch?`%${_e.switch}%`:null},getNeeds=function(_e){let et=[];return _e.forEach(tt=>{et.push(getTokenNeeds(tt)),tt.operator==="and"&&tt.choices&&tt.choices.forEach(nt=>{nt.forEach(rt=>{et.push(getTokenNeeds(rt))})})}),et.filter(tt=>tt)},getWants=function(_e){let et=[],tt=0;return _e.forEach(nt=>{nt.operator==="or"&&!nt.optional&&!nt.negative&&(nt.fastOr&&Array.from(nt.fastOr).forEach(rt=>{et.push(rt)}),nt.choices&&nt.choices.forEach(rt=>{rt.forEach(it=>{let ot=getTokenNeeds(it);ot&&et.push(ot)})}),tt+=1)}),{wants:et,count:tt}},parse$9=function(_e,et){const tt=et.methods.one.parseMatch;return _e.forEach(nt=>{nt.regs=tt(nt.match,{},et),typeof nt.ifNo=="string"&&(nt.ifNo=[nt.ifNo]),nt.notIf&&(nt.notIf=tt(nt.notIf,{},et)),nt.needs=getNeeds(nt.regs);let{wants:rt,count:it}=getWants(nt.regs);nt.wants=rt,nt.minWant=it,nt.minWords=nt.regs.filter(ot=>!ot.optional).length}),_e},buildNet=function(_e,et){_e=parse$9(_e,et);let tt={};_e.forEach(rt=>{rt.needs.forEach(it=>{tt[it]=Array.isArray(tt[it])?tt[it]:[],tt[it].push(rt)}),rt.wants.forEach(it=>{tt[it]=Array.isArray(tt[it])?tt[it]:[],tt[it].push(rt)})}),Object.keys(tt).forEach(rt=>{let it={};tt[rt]=tt[rt].filter(ot=>typeof it[ot.match]=="boolean"?!1:(it[ot.match]=!0,!0))});let nt=_e.filter(rt=>rt.needs.length===0&&rt.wants.length===0);return{hooks:tt,always:nt}},getHooks=function(_e,et){return _e.map((tt,nt)=>{let rt=[];Object.keys(et).forEach(ot=>{_e[nt].has(ot)&&(rt=rt.concat(et[ot]))});let it={};return rt=rt.filter(ot=>typeof it[ot.match]=="boolean"?!1:(it[ot.match]=!0,!0)),rt})},localTrim=function(_e,et){return _e.map((tt,nt)=>{let rt=et[nt];return tt=tt.filter(it=>it.needs.every(ot=>rt.has(ot))),tt=tt.filter(it=>!(it.ifNo!==void 0&&it.ifNo.some(ot=>rt.has(ot))===!0)),tt=tt.filter(it=>it.wants.length===0?!0:it.wants.filter(st=>rt.has(st)).length>=it.minWant),tt})},runMatch=function(_e,et,tt,nt,rt){let it=[];for(let ot=0;ot<_e.length;ot+=1)for(let st=0;st<_e[ot].length;st+=1){let ut=_e[ot][st],ft=nt.one.match([et[ot]],ut);if(ft.ptrs.length>0&&(ft.ptrs.forEach(dt=>{dt[0]=ot;let lt=Object.assign({},ut,{pointer:dt});ut.unTag!==void 0&&(lt.unTag=ut.unTag),it.push(lt)}),rt.matchOne===!0))return[it[0]]}return it},tooSmall=function(_e,et){return _e.map((tt,nt)=>{let rt=et[nt].length;return tt=tt.filter(it=>rt>=it.minWords),tt})},sweep$1=function(_e,et,tt,nt={}){let rt=tt.one.cacheDoc(_e),it=getHooks(rt,et.hooks);return it=localTrim(it,rt),et.always.length>0&&(it=it.map(st=>st.concat(et.always))),it=tooSmall(it,_e),runMatch(it,_e,rt,tt,nt)},canBe$1=function(_e,et,tt){let nt=tt.one.tagSet;if(!nt.hasOwnProperty(et))return!0;let rt=nt[et].not||[];for(let it=0;it<_e.length;it+=1){let ot=_e[it];for(let st=0;st<rt.length;st+=1)if(ot.tags.has(rt[st])===!0)return!1}return!0};var define_process_env_default$4={};const tagger$1=function(_e,et,tt){const{model:nt,methods:rt}=tt,{getDoc:it,setTag:ot,unTag:st}=rt.one,ut=rt.two.looksPlural;return _e.length===0?_e:((typeof process>"u"||!define_process_env_default$4?self.env||{}:define_process_env_default$4).DEBUG_TAGS&&console.log(`

  \x1B[32m ${_e.length} post-tagger:\x1B[0m`),_e.map(dt=>{if(!dt.tag&&!dt.chunk&&!dt.unTag)return;let lt=dt.reason||dt.match,at=it([dt.pointer],et)[0];if(!(dt.safe===!0&&(canBe$1(at,dt.tag,nt)===!1||at[at.length-1].post==="-"))){if(dt.tag!==void 0){if(ot(at,dt.tag,tt,dt.safe,`[post] '${lt}'`),dt.tag==="Noun"&&ut){let ct=at[at.length-1];ut(ct.text)?ot([ct],"Plural",tt,dt.safe,"quick-plural"):ot([ct],"Singular",tt,dt.safe,"quick-singular")}dt.freeze===!0&&at.forEach(ct=>ct.frozen=!0)}dt.unTag!==void 0&&st(at,dt.unTag,tt,dt.safe,lt),dt.chunk&&at.forEach(ct=>ct.chunk=dt.chunk)}}))},methods$5={buildNet,bulkMatch:sweep$1,bulkTagger:tagger$1},sweep={lib:lib$3,api:api$k,methods:{one:methods$5}};var define_process_env_default$3={};const isMulti=/ /,addChunk=function(_e,et){et==="Noun"&&(_e.chunk=et),et==="Verb"&&(_e.chunk=et)},tagTerm=function(_e,et,tt,nt){if(_e.tags.has(et)===!0||et===".")return null;_e.frozen===!0&&(nt=!0);let rt=tt[et];if(rt){if(rt.not&&rt.not.length>0)for(let it=0;it<rt.not.length;it+=1){if(nt===!0&&_e.tags.has(rt.not[it]))return null;_e.tags.delete(rt.not[it])}if(rt.parents&&rt.parents.length>0)for(let it=0;it<rt.parents.length;it+=1)_e.tags.add(rt.parents[it]),addChunk(_e,rt.parents[it])}return _e.tags.add(et),_e.dirty=!0,addChunk(_e,et),!0},multiTag=function(_e,et,tt,nt){let rt=et.split(isMulti);_e.forEach((it,ot)=>{let st=rt[ot];st&&(st=st.replace(/^#/,""),tagTerm(it,st,tt,nt))})},isArray$5=function(_e){return Object.prototype.toString.call(_e)==="[object Array]"},log$3=(_e,et,tt="")=>{const nt=ot=>"\x1B[33m\x1B[3m"+ot+"\x1B[0m",rt=ot=>"\x1B[3m"+ot+"\x1B[0m";let it=_e.map(ot=>ot.text||"["+ot.implicit+"]").join(" ");typeof et!="string"&&et.length>2&&(et=et.slice(0,2).join(", #")+" +"),et=typeof et!="string"?et.join(", #"):et,console.log(` ${nt(it).padEnd(24)} \x1B[32m\x1B[0m #${et.padEnd(22)}  ${rt(tt)}`)},setTag$3=function(_e,et,tt={},nt,rt){const it=tt.model.one.tagSet||{};if(!et)return;const ot=typeof process>"u"||!define_process_env_default$3?self.env||{}:define_process_env_default$3;if(ot&&ot.DEBUG_TAGS&&log$3(_e,et,rt),isArray$5(et)===!0){et.forEach(st=>setTag$3(_e,st,tt,nt));return}if(typeof et!="string"){console.warn(`compromise: Invalid tag '${et}'`);return}if(et=et.trim(),isMulti.test(et)){multiTag(_e,et,it,nt);return}et=et.replace(/^#/,"");for(let st=0;st<_e.length;st+=1)tagTerm(_e[st],et,it,nt)},unTag=function(_e,et,tt){et=et.trim().replace(/^#/,"");for(let nt=0;nt<_e.length;nt+=1){let rt=_e[nt];if(rt.frozen===!0)continue;if(et==="*"){rt.tags.clear();continue}let it=tt[et];if(it&&it.children.length>0)for(let ot=0;ot<it.children.length;ot+=1)rt.tags.delete(it.children[ot]);rt.tags.delete(et)}},canBe=function(_e,et,tt){if(!tt.hasOwnProperty(et))return!0;let nt=tt[et].not||[];for(let rt=0;rt<nt.length;rt+=1)if(_e.tags.has(nt[rt]))return!1;return!0},e$1=function(_e){return _e.children=_e.children||[],_e._cache=_e._cache||{},_e.props=_e.props||{},_e._cache.parents=_e._cache.parents||[],_e._cache.children=_e._cache.children||[],_e},t$1=/^ *(#|\/\/)/,n$2=function(_e){let et=_e.trim().split(/->/),tt=[];et.forEach(rt=>{tt=tt.concat(function(it){if(!(it=it.trim()))return null;if(/^\[/.test(it)&&/\]$/.test(it)){let ot=(it=(it=it.replace(/^\[/,"")).replace(/\]$/,"")).split(/,/);return ot=ot.map(st=>st.trim()).filter(st=>st),ot=ot.map(st=>e$1({id:st})),ot}return[e$1({id:it})]}(rt))}),tt=tt.filter(rt=>rt);let nt=tt[0];for(let rt=1;rt<tt.length;rt+=1)nt.children.push(tt[rt]),nt=tt[rt];return tt[0]},r$2=(_e,et)=>{let tt=[],nt=[_e];for(;nt.length>0;){let rt=nt.pop();tt.push(rt),rt.children&&rt.children.forEach(it=>{et&&et(rt,it),nt.push(it)})}return tt},i$2=_e=>Object.prototype.toString.call(_e)==="[object Array]",c$1=_e=>(_e=_e||"").trim(),s$2=function(_e=[]){return typeof _e=="string"?function(tt){let nt=tt.split(/\r?\n/),rt=[];nt.forEach(ot=>{if(!ot.trim()||t$1.test(ot))return;let st=(ut=>{const ft=/^( {2}|\t)/;let dt=0;for(;ft.test(ut);)ut=ut.replace(ft,""),dt+=1;return dt})(ot);rt.push({indent:st,node:n$2(ot)})});let it=function(ot){let st={children:[]};return ot.forEach((ut,ft)=>{ut.indent===0?st.children=st.children.concat(ut.node):ot[ft-1]&&function(dt,lt){let at=dt[lt].indent;for(;lt>=0;lt-=1)if(dt[lt].indent<at)return dt[lt];return dt[0]}(ot,ft).node.children.push(ut.node)}),st}(rt);return it=e$1(it),it}(_e):i$2(_e)?function(tt){let nt={};tt.forEach(it=>{nt[it.id]=it});let rt=e$1({});return tt.forEach(it=>{if((it=e$1(it)).parent)if(nt.hasOwnProperty(it.parent)){let ot=nt[it.parent];delete it.parent,ot.children.push(it)}else console.warn(`[Grad] - missing node '${it.parent}'`);else rt.children.push(it)}),rt}(_e):(r$2(et=_e).forEach(e$1),et);var et},h$1=_e=>"\x1B[31m"+_e+"\x1B[0m",o$1=_e=>"\x1B[2m"+_e+"\x1B[0m",l$1=function(_e,et){let tt="-> ";et&&(tt=o$1(" "));let nt="";return r$2(_e).forEach((rt,it)=>{let ot=rt.id||"";if(et&&(ot=h$1(ot)),it===0&&!rt.id)return;let st=rt._cache.parents.length;nt+="    ".repeat(st)+tt+ot+`
`}),nt},a$1=function(_e){let et=r$2(_e);et.forEach(nt=>{delete(nt=Object.assign({},nt)).children});let tt=et[0];return tt&&!tt.id&&Object.keys(tt.props).length===0&&et.shift(),et},p$4={text:l$1,txt:l$1,array:a$1,flat:a$1},d$1=function(_e,et){return et==="nested"||et==="json"?_e:et==="debug"?(console.log(l$1(_e,!0)),null):p$4.hasOwnProperty(et)?p$4[et](_e):_e},u$1=_e=>{r$2(_e,(et,tt)=>{et.id&&(et._cache.parents=et._cache.parents||[],tt._cache.parents=et._cache.parents.concat([et.id]))})},f$2=(_e,et)=>(Object.keys(et).forEach(tt=>{if(et[tt]instanceof Set){let nt=_e[tt]||new Set;_e[tt]=new Set([...nt,...et[tt]])}else if((nt=>nt&&typeof nt=="object"&&!Array.isArray(nt))(et[tt])){let nt=_e[tt]||{};_e[tt]=Object.assign({},et[tt],nt)}else i$2(et[tt])?_e[tt]=et[tt].concat(_e[tt]||[]):_e[tt]===void 0&&(_e[tt]=et[tt])}),_e),j$1=/\//;let g$3=class io{constructor(et={}){Object.defineProperty(this,"json",{enumerable:!1,value:et,writable:!0})}get children(){return this.json.children}get id(){return this.json.id}get found(){return this.json.id||this.json.children.length>0}props(et={}){let tt=this.json.props||{};return typeof et=="string"&&(tt[et]=!0),this.json.props=Object.assign(tt,et),this}get(et){if(et=c$1(et),!j$1.test(et)){let nt=this.json.children.find(rt=>rt.id===et);return new io(nt)}let tt=((nt,rt)=>{let it=(ot=>typeof ot!="string"?ot:(ot=ot.replace(/^\//,"")).split(/\//))(rt=rt||"");for(let ot=0;ot<it.length;ot+=1){let st=nt.children.find(ut=>ut.id===it[ot]);if(!st)return null;nt=st}return nt})(this.json,et)||e$1({});return new io(tt)}add(et,tt={}){if(i$2(et))return et.forEach(rt=>this.add(c$1(rt),tt)),this;et=c$1(et);let nt=e$1({id:et,props:tt});return this.json.children.push(nt),new io(nt)}remove(et){return et=c$1(et),this.json.children=this.json.children.filter(tt=>tt.id!==et),this}nodes(){return r$2(this.json).map(et=>(delete(et=Object.assign({},et)).children,et))}cache(){return(et=>{let tt=r$2(et,(rt,it)=>{rt.id&&(rt._cache.parents=rt._cache.parents||[],rt._cache.children=rt._cache.children||[],it._cache.parents=rt._cache.parents.concat([rt.id]))}),nt={};tt.forEach(rt=>{rt.id&&(nt[rt.id]=rt)}),tt.forEach(rt=>{rt._cache.parents.forEach(it=>{nt.hasOwnProperty(it)&&nt[it]._cache.children.push(rt.id)})}),et._cache.children=Object.keys(nt)})(this.json),this}list(){return r$2(this.json)}fillDown(){var et;return et=this.json,r$2(et,(tt,nt)=>{nt.props=f$2(nt.props,tt.props)}),this}depth(){u$1(this.json);let et=r$2(this.json),tt=et.length>1?1:0;return et.forEach(nt=>{if(nt._cache.parents.length===0)return;let rt=nt._cache.parents.length+1;rt>tt&&(tt=rt)}),tt}out(et){return u$1(this.json),d$1(this.json,et)}debug(){return u$1(this.json),d$1(this.json,"debug"),this}};const _=function(_e){let et=s$2(_e);return new g$3(et)};_.prototype.plugin=function(_e){_e(this)};const colors={Noun:"blue",Verb:"green",Negative:"green",Date:"red",Value:"red",Adjective:"magenta",Preposition:"cyan",Conjunction:"cyan",Determiner:"cyan",Hyphenated:"cyan",Adverb:"cyan"},getColor=function(_e){if(colors.hasOwnProperty(_e.id))return colors[_e.id];if(colors.hasOwnProperty(_e.is))return colors[_e.is];let et=_e._cache.parents.find(tt=>colors[tt]);return colors[et]},fmt=function(_e){const et={};return _e.forEach(tt=>{let{not:nt,also:rt,is:it,novel:ot}=tt.props,st=tt._cache.parents;rt&&(st=st.concat(rt)),et[tt.id]={is:it,not:nt,novel:ot,also:rt,parents:st,children:tt._cache.children,color:getColor(tt)}}),Object.keys(et).forEach(tt=>{let nt=new Set(et[tt].not);et[tt].not.forEach(rt=>{et[rt]&&et[rt].children.forEach(it=>nt.add(it))}),et[tt].not=Array.from(nt)}),et},toArr=function(_e){return _e?typeof _e=="string"?[_e]:_e:[]},addImplied=function(_e,et){return Object.keys(_e).forEach(tt=>{_e[tt].isA&&(_e[tt].is=_e[tt].isA),_e[tt].notA&&(_e[tt].not=_e[tt].notA),_e[tt].is&&typeof _e[tt].is=="string"&&!et.hasOwnProperty(_e[tt].is)&&!_e.hasOwnProperty(_e[tt].is)&&(_e[_e[tt].is]={}),_e[tt].not&&typeof _e[tt].not=="string"&&!_e.hasOwnProperty(_e[tt].not)&&!et.hasOwnProperty(_e[tt].not)&&!_e.hasOwnProperty(_e[tt].not)&&(_e[_e[tt].not]={})}),_e},validate=function(_e,et){return _e=addImplied(_e,et),Object.keys(_e).forEach(tt=>{_e[tt].children=toArr(_e[tt].children),_e[tt].not=toArr(_e[tt].not)}),Object.keys(_e).forEach(tt=>{(_e[tt].not||[]).forEach(rt=>{_e[rt]&&_e[rt].not&&_e[rt].not.push(tt)})}),_e},compute$5=function(_e){const et=Object.keys(_e).map(nt=>{let rt=_e[nt];const it={not:new Set(rt.not),also:rt.also,is:rt.is,novel:rt.novel};return{id:nt,parent:rt.is,props:it,children:[]}});return _(et).cache().fillDown().out("array")},fromUser=function(_e){return Object.keys(_e).forEach(et=>{_e[et]=Object.assign({},_e[et]),_e[et].novel=!0}),_e},addTags$1=function(_e,et){Object.keys(et).length>0&&(_e=fromUser(_e)),_e=validate(_e,et);let tt=Object.assign({},et,_e);const nt=compute$5(tt);return fmt(nt)},methods$4={one:{setTag:setTag$3,unTag,addTags:addTags$1,canBe}},isArray$4=function(_e){return Object.prototype.toString.call(_e)==="[object Array]"},fns$1={tag:function(_e,et="",tt){if(!this.found||!_e)return this;let nt=this.termList();if(nt.length===0)return this;const{methods:rt,verbose:it,world:ot}=this;return it===!0&&console.log(" +  ",_e,et||""),isArray$4(_e)?_e.forEach(st=>rt.one.setTag(nt,st,ot,tt,et)):rt.one.setTag(nt,_e,ot,tt,et),this.uncache(),this},tagSafe:function(_e,et=""){return this.tag(_e,et,!0)},unTag:function(_e,et){if(!this.found||!_e)return this;let tt=this.termList();if(tt.length===0)return this;const{methods:nt,verbose:rt,model:it}=this;rt===!0&&console.log(" -  ",_e,et||"");let ot=it.one.tagSet;return isArray$4(_e)?_e.forEach(st=>nt.one.unTag(tt,st,ot)):nt.one.unTag(tt,_e,ot),this.uncache(),this},canBe:function(_e){_e=_e.replace(/^#/,"");let et=this.model.one.tagSet,tt=this.methods.one.canBe,nt=[];this.document.forEach((it,ot)=>{it.forEach((st,ut)=>{tt(st,_e,et)||nt.push([ot,ut,ut+1])})});let rt=this.update(nt);return this.difference(rt)}},tagAPI=function(_e){Object.assign(_e.prototype,fns$1)},addTags=function(_e){const{model:et,methods:tt}=this.world(),nt=et.one.tagSet,rt=tt.one.addTags;let it=rt(_e,nt);return et.one.tagSet=it,this},lib$2={addTags},boringTags=new Set(["Auxiliary","Possessive"]),sortByKids=function(_e,et){return _e=_e.sort((tt,nt)=>{if(boringTags.has(tt)||!et.hasOwnProperty(nt))return 1;if(boringTags.has(nt)||!et.hasOwnProperty(tt))return-1;let rt=et[tt].children||[],it=rt.length;rt=et[nt].children||[];let ot=rt.length;return it-ot}),_e},tagRank=function(_e){const{document:et,world:tt}=_e,nt=tt.model.one.tagSet;et.forEach(rt=>{rt.forEach(it=>{let ot=Array.from(it.tags);it.tagRank=sortByKids(ot,nt)})})},tag$1={model:{one:{tagSet:{}}},compute:{tagRank},methods:methods$4,api:tagAPI,lib:lib$2},initSplit=/([.!?\u203D\u2E18\u203C\u2047-\u2049\u3002]+\s)/g,splitsOnly=/^[.!?\u203D\u2E18\u203C\u2047-\u2049\u3002]+\s$/,newLine=/((?:\r?\n|\r)+)/,basicSplit=function(_e){let et=[],tt=_e.split(newLine);for(let nt=0;nt<tt.length;nt++){let rt=tt[nt].split(initSplit);for(let it=0;it<rt.length;it++)rt[it+1]&&splitsOnly.test(rt[it+1])===!0&&(rt[it]+=rt[it+1],rt[it+1]=""),rt[it]!==""&&et.push(rt[it])}return et},hasLetter$1=/[a-z0-9\u00C0-\u00FF\u00a9\u00ae\u2000-\u3300\ud000-\udfff]/i,hasSomething$1=/\S/,notEmpty=function(_e){let et=[];for(let tt=0;tt<_e.length;tt++){let nt=_e[tt];if(!(nt===void 0||nt==="")){if(hasSomething$1.test(nt)===!1||hasLetter$1.test(nt)===!1){if(et[et.length-1]){et[et.length-1]+=nt;continue}else if(_e[tt+1]){_e[tt+1]=nt+_e[tt+1];continue}}et.push(nt)}}return et},smartMerge=function(_e,et){const tt=et.methods.one.tokenize.isSentence,nt=et.model.one.abbreviations||new Set;let rt=[];for(let it=0;it<_e.length;it++){let ot=_e[it];_e[it+1]&&tt(ot,nt)===!1?_e[it+1]=ot+(_e[it+1]||""):ot&&ot.length>0&&(rt.push(ot),_e[it]="")}return rt},MAX_QUOTE=280,pairs$2={'"':'"',"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},openQuote=RegExp("["+Object.keys(pairs$2).join("")+"]","g"),closeQuote=RegExp("["+Object.values(pairs$2).join("")+"]","g"),closesQuote=function(_e){if(!_e)return!1;let et=_e.match(closeQuote);return et!==null&&et.length===1},quoteMerge=function(_e){let et=[];for(let tt=0;tt<_e.length;tt+=1){let rt=_e[tt].match(openQuote);if(rt!==null&&rt.length===1){if(closesQuote(_e[tt+1])&&_e[tt+1].length<MAX_QUOTE){_e[tt]+=_e[tt+1],et.push(_e[tt]),_e[tt+1]="",tt+=1;continue}if(closesQuote(_e[tt+2])){let it=_e[tt+1]+_e[tt+2];if(it.length<MAX_QUOTE){_e[tt]+=it,et.push(_e[tt]),_e[tt+1]="",_e[tt+2]="",tt+=2;continue}}}et.push(_e[tt])}return et},MAX_LEN=250,hasOpen$2=/\(/g,hasClosed$2=/\)/g,mergeParens=function(_e){let et=[];for(let tt=0;tt<_e.length;tt+=1){let rt=_e[tt].match(hasOpen$2);if(rt!==null&&rt.length===1&&_e[tt+1]&&_e[tt+1].length<MAX_LEN&&_e[tt+1].match(hasClosed$2)!==null&&rt.length===1&&!hasOpen$2.test(_e[tt+1])){_e[tt]+=_e[tt+1],et.push(_e[tt]),_e[tt+1]="",tt+=1;continue}et.push(_e[tt])}return et},hasSomething=/\S/,startWhitespace=/^\s+/,splitSentences=function(_e,et){if(_e=_e||"",_e=String(_e),!_e||typeof _e!="string"||hasSomething.test(_e)===!1)return[];_e=_e.replace(""," ");let tt=basicSplit(_e),nt=notEmpty(tt);if(nt=smartMerge(nt,et),nt=quoteMerge(nt),nt=mergeParens(nt),nt.length===0)return[_e];for(let rt=1;rt<nt.length;rt+=1){let it=nt[rt].match(startWhitespace);it!==null&&(nt[rt-1]+=it[0],nt[rt]=nt[rt].replace(startWhitespace,""))}return nt},hasHyphen=function(_e,et){let tt=_e.split(/[-]/);if(tt.length<=1)return!1;const{prefixes:nt,suffixes:rt}=et.one;return tt[0].length===1&&/[a-z]/i.test(tt[0])||nt.hasOwnProperty(tt[0])||(tt[1]=tt[1].trim().replace(/[.?!]$/,""),rt.hasOwnProperty(tt[1]))?!1:/^([a-z\u00C0-\u00FF`"'/]+)[-]([a-z0-9\u00C0-\u00FF].*)/i.test(_e)===!0||/^[('"]?([0-9]{1,4})[-]([a-z\u00C0-\u00FF`"'/-]+[)'"]?$)/i.test(_e)===!0},splitHyphens=function(_e){let et=[];const tt=_e.split(/[-]/);let nt="-",rt=_e.match(/[-]/);rt&&rt[0]&&(nt=rt);for(let it=0;it<tt.length;it++)it===tt.length-1?et.push(tt[it]):et.push(tt[it]+nt);return et},combineRanges=function(_e){const et=/^[0-9]{1,4}(:[0-9][0-9])?([a-z]{1,2})? ?[-] ?$/,tt=/^[0-9]{1,4}([a-z]{1,2})? ?$/;for(let nt=0;nt<_e.length-1;nt+=1)_e[nt+1]&&et.test(_e[nt])&&tt.test(_e[nt+1])&&(_e[nt]=_e[nt]+_e[nt+1],_e[nt+1]=null);return _e},isSlash=new RegExp("\\p{L} ?\\/ ?\\p{L}+$","u"),combineSlashes=function(_e){for(let et=1;et<_e.length-1;et++)isSlash.test(_e[et])&&(_e[et-1]+=_e[et]+_e[et+1],_e[et]=null,_e[et+1]=null);return _e},wordlike=/\S/,isBoundary=/^[!?.]+$/,naiiveSplit=/(\S+)/;let notWord=[".","?","!",":",";","-","","","--","...","(",")","[","]",'"',"'","`","","","*",""];notWord=notWord.reduce((_e,et)=>(_e[et]=!0,_e),{});const isArray$3=function(_e){return Object.prototype.toString.call(_e)==="[object Array]"},splitWords=function(_e,et){let tt=[],nt=[];if(_e=_e||"",typeof _e=="number"&&(_e=String(_e)),isArray$3(_e))return _e;const rt=_e.split(naiiveSplit);for(let ot=0;ot<rt.length;ot++){if(hasHyphen(rt[ot],et)===!0){nt=nt.concat(splitHyphens(rt[ot]));continue}nt.push(rt[ot])}let it="";for(let ot=0;ot<nt.length;ot++){let st=nt[ot];wordlike.test(st)===!0&&notWord.hasOwnProperty(st)===!1&&isBoundary.test(st)===!1?(tt.length>0?(tt[tt.length-1]+=it,tt.push(st)):tt.push(it+st),it=""):it+=st}return it&&(tt.length===0&&(tt[0]=""),tt[tt.length-1]+=it),tt=combineSlashes(tt),tt=combineRanges(tt),tt=tt.filter(ot=>ot),tt},isLetter$1=new RegExp("\\p{Letter}","u"),isNumber$2=/[\p{Number}\p{Currency_Symbol}]/u,hasAcronym=/^[a-z]\.([a-z]\.)+/i,chillin=/[sn][']$/,normalizePunctuation=function(_e,et){let{prePunctuation:tt,postPunctuation:nt,emoticons:rt}=et.one,it=_e,ot="",st="",ut=Array.from(_e);if(rt.hasOwnProperty(_e.trim()))return{str:_e.trim(),pre:ot,post:" "};let ft=ut.length;for(let dt=0;dt<ft;dt+=1){let lt=ut[0];if(tt[lt]!==!0){if((lt==="+"||lt==="-")&&isNumber$2.test(ut[1])||lt==="'"&&lt.length===3&&isNumber$2.test(ut[1])||isLetter$1.test(lt)||isNumber$2.test(lt))break;ot+=ut.shift()}}ft=ut.length;for(let dt=0;dt<ft;dt+=1){let lt=ut[ut.length-1];if(nt[lt]!==!0){if(isLetter$1.test(lt)||isNumber$2.test(lt))break;lt==="."&&hasAcronym.test(it)===!0||lt==="'"&&chillin.test(it)===!0||(st=ut.pop()+st)}}return _e=ut.join(""),_e===""&&(it=it.replace(/ *$/,dt=>(st=dt||"","")),_e=it,ot=""),{str:_e,pre:ot,post:st}},parseTerm=(_e,et)=>{let{str:tt,pre:nt,post:rt}=normalizePunctuation(_e,et);return{text:tt,pre:nt,post:rt,tags:new Set}},killUnicode=function(_e,et){const tt=et.model.one.unicode||{};_e=_e||"";let nt=_e.split("");return nt.forEach((rt,it)=>{tt[rt]&&(nt[it]=tt[rt])}),nt.join("")},clean=function(_e){_e=_e||"",_e=_e.toLowerCase(),_e=_e.trim();let et=_e;return _e=_e.replace(/[,;.!?]+$/,""),_e=_e.replace(/\u2026/g,"..."),_e=_e.replace(/\u2013/g,"-"),/^[:;]/.test(_e)===!1&&(_e=_e.replace(/\.{3,}$/g,""),_e=_e.replace(/[",.!:;?)]+$/g,""),_e=_e.replace(/^['"(]+/g,"")),_e=_e.replace(/[\u200B-\u200D\uFEFF]/g,""),_e=_e.trim(),_e===""&&(_e=et),_e=_e.replace(/([0-9]),([0-9])/g,"$1$2"),_e},periodAcronym$1=/([A-Z]\.)+[A-Z]?,?$/,oneLetterAcronym$1=/^[A-Z]\.,?$/,noPeriodAcronym$1=/[A-Z]{2,}('s|,)?$/,lowerCaseAcronym$1=/([a-z]\.)+[a-z]\.?$/,isAcronym$2=function(_e){return periodAcronym$1.test(_e)===!0||lowerCaseAcronym$1.test(_e)===!0||oneLetterAcronym$1.test(_e)===!0||noPeriodAcronym$1.test(_e)===!0},doAcronym=function(_e){return isAcronym$2(_e)&&(_e=_e.replace(/\./g,"")),_e},normalize$2=function(_e,et){const tt=et.methods.one.killUnicode;let nt=_e.text||"";nt=clean(nt),nt=tt(nt,et),nt=doAcronym(nt),_e.normal=nt},parse$8=function(_e,et){const{methods:tt,model:nt}=et,{splitSentences:rt,splitTerms:it,splitWhitespace:ot}=tt.one.tokenize;return _e=_e||"",_e=rt(_e,et).map(ut=>{let ft=it(ut,nt);return ft=ft.map(dt=>ot(dt,nt)),ft.forEach(dt=>{normalize$2(dt,et)}),ft}),_e},isAcronym$1=/[ .][A-Z]\.? *$/i,hasEllipse=/(?:\u2026|\.{2,}) *$/,hasLetter=new RegExp("\\p{L}","u"),hasPeriod$1=/\. *$/,leadInit=/^[A-Z]\. $/,isSentence=function(_e,et){if(hasLetter.test(_e)===!1||isAcronym$1.test(_e)===!0||_e.length===3&&leadInit.test(_e)||hasEllipse.test(_e)===!0)return!1;let nt=_e.replace(/[.!?\u203D\u2E18\u203C\u2047-\u2049] *$/,"").split(" "),rt=nt[nt.length-1].toLowerCase();return!(et.hasOwnProperty(rt)===!0&&hasPeriod$1.test(_e)===!0)},methods$3={one:{killUnicode,tokenize:{splitSentences,isSentence,splitTerms:splitWords,splitWhitespace:parseTerm,fromString:parse$8}}},aliases$1={"&":"and","@":"at","%":"percent",plz:"please",bein:"being"},misc$6=["approx","apt","bc","cyn","eg","esp","est","etc","ex","exp","prob","pron","gal","min","pseud","fig","jd","lat","lng","vol","fm","def","misc","plz","ea","ps","sec","pt","pref","pl","pp","qt","fr","sq","nee","ss","tel","temp","vet","ver","fem","masc","eng","adj","vb","rb","inf","situ","vivo","vitro","wr"],honorifics$1=["adj","adm","adv","asst","atty","bldg","brig","capt","cmdr","comdr","cpl","det","dr","esq","gen","gov","hon","jr","llb","lt","maj","messrs","mlle","mme","mr","mrs","ms","mstr","phd","prof","pvt","rep","reps","res","rev","sen","sens","sfc","sgt","sir","sr","supt","surg"],months=["jan","feb","mar","apr","jun","jul","aug","sep","sept","oct","nov","dec"],nouns$3=["ad","al","arc","ba","bl","ca","cca","col","corp","ft","fy","ie","lit","ma","md","pd","tce"],organizations=["dept","univ","assn","bros","inc","ltd","co"],places$2=["rd","st","dist","mt","ave","blvd","cl","cres","hwy","ariz","cal","calif","colo","conn","fla","fl","ga","ida","ia","kan","kans","minn","neb","nebr","okla","penna","penn","pa","dak","tenn","tex","ut","vt","va","wis","wisc","wy","wyo","usafa","alta","ont","que","sask"],units=["dl","ml","gal","qt","pt","tbl","tsp","tbsp","km","dm","cm","mm","mi","td","hr","hrs","kg","hg","dg","cg","mg","g","lb","oz","sq ft","hz","mps","mph","kmph","kb","mb","tb","lx","lm","fl oz","yb"];let list$4=[[misc$6],[units,"Unit"],[nouns$3,"Noun"],[honorifics$1,"Honorific"],[months,"Month"],[organizations,"Organization"],[places$2,"Place"]],abbreviations={},lexicon$1={};list$4.forEach(_e=>{_e[0].forEach(et=>{abbreviations[et]=!0,lexicon$1[et]="Abbreviation",_e[1]!==void 0&&(lexicon$1[et]=[lexicon$1[et],_e[1]])})});const prefixes$1=["anti","bi","co","contra","de","extra","infra","inter","intra","macro","micro","mis","mono","multi","peri","pre","pro","proto","pseudo","re","sub","supra","trans","tri","un","out","ex"].reduce((_e,et)=>(_e[et]=!0,_e),{}),suffixes$4={like:!0,ish:!0,less:!0,able:!0,elect:!0,type:!0,designate:!0};let compact={"!":"","?":"",'"':'"',"'":"","-":"",a:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",I:"",i:"i",j:"",k:"",l:"",m:"",n:"",o:"",p:"",q:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:""},unicode={};Object.keys(compact).forEach(function(_e){compact[_e].split("").forEach(function(et){unicode[et]=_e})});const prePunctuation={"#":!0,"@":!0,_:!0,"":!0,"":!0,"":!0,"":!0,"\uFEFF":!0},postPunctuation={"%":!0,_:!0,"":!0,"":!0,"":!0,"":!0,"\uFEFF":!0},emoticons$1={"<3":!0,"</3":!0,"<\\3":!0,":^P":!0,":^p":!0,":^O":!0,":^3":!0},model$3={one:{aliases:aliases$1,abbreviations,prefixes:prefixes$1,suffixes:suffixes$4,prePunctuation,postPunctuation,lexicon:lexicon$1,unicode,emoticons:emoticons$1}},hasSlash=/\//,hasDomain=/[a-z]\.[a-z]/i,isMath=/[0-9]/,addAliases=function(_e,et){let tt=_e.normal||_e.text||_e.machine;const nt=et.model.one.aliases;if(nt.hasOwnProperty(tt)&&(_e.alias=_e.alias||[],_e.alias.push(nt[tt])),hasSlash.test(tt)&&!hasDomain.test(tt)&&!isMath.test(tt)){let rt=tt.split(hasSlash);rt.length<=3&&rt.forEach(it=>{it=it.trim(),it!==""&&(_e.alias=_e.alias||[],_e.alias.push(it))})}return _e},hasDash=new RegExp("^\\p{Letter}+-\\p{Letter}+$","u"),doMachine=function(_e){let et=_e.implicit||_e.normal||_e.text;et=et.replace(/[']s$/,""),et=et.replace(/s[']$/,"s"),et=et.replace(/([aeiou][ktrp])in'$/,"$1ing"),hasDash.test(et)&&(et=et.replace(/-/g,"")),et=et.replace(/^[#@]/,""),et!==_e.normal&&(_e.machine=et)},freq=function(_e){let et=_e.docs,tt={};for(let nt=0;nt<et.length;nt+=1)for(let rt=0;rt<et[nt].length;rt+=1){let it=et[nt][rt],ot=it.machine||it.normal;tt[ot]=tt[ot]||0,tt[ot]+=1}for(let nt=0;nt<et.length;nt+=1)for(let rt=0;rt<et[nt].length;rt+=1){let it=et[nt][rt],ot=it.machine||it.normal;it.freq=tt[ot]}},offset$3=function(_e){let et=0,tt=0,nt=_e.document;for(let rt=0;rt<nt.length;rt+=1)for(let it=0;it<nt[rt].length;it+=1){let ot=nt[rt][it];ot.offset={index:tt,start:et+ot.pre.length,length:ot.text.length},et+=ot.pre.length+ot.text.length+ot.post.length,tt+=1}},index$2=function(_e){let et=_e.document;for(let tt=0;tt<et.length;tt+=1)for(let nt=0;nt<et[tt].length;nt+=1)et[tt][nt].index=[tt,nt]},wordCount=function(_e){let et=0,tt=_e.docs;for(let nt=0;nt<tt.length;nt+=1)for(let rt=0;rt<tt[nt].length;rt+=1)tt[nt][rt].normal!==""&&(et+=1,tt[nt][rt].wordCount=et)},termLoop$1=function(_e,et){let tt=_e.docs;for(let nt=0;nt<tt.length;nt+=1)for(let rt=0;rt<tt[nt].length;rt+=1)et(tt[nt][rt],_e.world)},methods$2={alias:_e=>termLoop$1(_e,addAliases),machine:_e=>termLoop$1(_e,doMachine),normal:_e=>termLoop$1(_e,normalize$2),freq,offset:offset$3,index:index$2,wordCount},tokenize={compute:methods$2,methods:methods$3,model:model$3,hooks:["alias","machine","index","id"]},typeahead$1=function(_e){const et=_e.model.one.typeahead,tt=_e.docs;if(tt.length===0||Object.keys(et).length===0)return;let nt=tt[tt.length-1]||[],rt=nt[nt.length-1];if(!rt.post&&et.hasOwnProperty(rt.normal)){let it=et[rt.normal];rt.implicit=it,rt.machine=it,rt.typeahead=!0,_e.compute.preTagger&&_e.last().unTag("*").compute(["lexicon","preTagger"])}},compute$4={typeahead:typeahead$1},autoFill=function(){const _e=this.docs;if(_e.length===0)return this;let et=_e[_e.length-1]||[],tt=et[et.length-1];return tt.typeahead===!0&&tt.machine&&(tt.text=tt.machine,tt.normal=tt.machine),this},api$j=function(_e){_e.prototype.autoFill=autoFill},getPrefixes=function(_e,et,tt){let nt={},rt=[],it=tt.prefixes||{};return _e.forEach(ot=>{ot=ot.toLowerCase().trim();let st=ot.length;et.max&&st>et.max&&(st=et.max);for(let ut=et.min;ut<st;ut+=1){let ft=ot.substring(0,ut);if(!(et.safe&&tt.model.one.lexicon.hasOwnProperty(ft))){if(it.hasOwnProperty(ft)===!0){rt.push(ft);continue}if(nt.hasOwnProperty(ft)===!0){rt.push(ft);continue}nt[ft]=ot}}}),nt=Object.assign({},it,nt),rt.forEach(ot=>{delete nt[ot]}),nt},isObject$5=_e=>Object.prototype.toString.call(_e)==="[object Object]",defaults$3={safe:!0,min:3},prepare=function(_e=[],et={}){let tt=this.model();et=Object.assign({},defaults$3,et),isObject$5(_e)&&(Object.assign(tt.one.lexicon,_e),_e=Object.keys(_e));let nt=getPrefixes(_e,et,this.world());return Object.keys(nt).forEach(rt=>{if(tt.one.typeahead.hasOwnProperty(rt)){delete tt.one.typeahead[rt];return}tt.one.typeahead[rt]=nt[rt]}),this},lib$1={typeahead:prepare},model$2={one:{typeahead:{}}},typeahead={model:model$2,api:api$j,lib:lib$1,compute:compute$4,hooks:["typeahead"]};nlp.extend(change$1);nlp.extend(output$1);nlp.extend(match$1);nlp.extend(pointers);nlp.extend(tag$1);nlp.plugin(plugin$n);nlp.extend(tokenize);nlp.extend(freeze$1);nlp.plugin(cache$1);nlp.extend(lookup);nlp.extend(typeahead);nlp.extend(lexicon$2);nlp.extend(sweep);const irregularPlurals={addendum:"addenda",corpus:"corpora",criterion:"criteria",curriculum:"curricula",genus:"genera",memorandum:"memoranda",opus:"opera",ovum:"ova",phenomenon:"phenomena",referendum:"referenda",alga:"algae",alumna:"alumnae",antenna:"antennae",formula:"formulae",larva:"larvae",nebula:"nebulae",vertebra:"vertebrae",analysis:"analyses",axis:"axes",diagnosis:"diagnoses",parenthesis:"parentheses",prognosis:"prognoses",synopsis:"synopses",thesis:"theses",neurosis:"neuroses",appendix:"appendices",index:"indices",matrix:"matrices",ox:"oxen",sex:"sexes",alumnus:"alumni",bacillus:"bacilli",cactus:"cacti",fungus:"fungi",hippopotamus:"hippopotami",libretto:"libretti",modulus:"moduli",nucleus:"nuclei",octopus:"octopi",radius:"radii",stimulus:"stimuli",syllabus:"syllabi",cookie:"cookies",calorie:"calories",auntie:"aunties",movie:"movies",pie:"pies",rookie:"rookies",tie:"ties",zombie:"zombies",leaf:"leaves",loaf:"loaves",thief:"thieves",foot:"feet",goose:"geese",tooth:"teeth",beau:"beaux",chateau:"chateaux",tableau:"tableaux",bus:"buses",gas:"gases",circus:"circuses",crisis:"crises",virus:"viruses",database:"databases",excuse:"excuses",abuse:"abuses",avocado:"avocados",barracks:"barracks",child:"children",clothes:"clothes",echo:"echoes",embargo:"embargoes",epoch:"epochs",deer:"deer",halo:"halos",man:"men",woman:"women",mosquito:"mosquitoes",mouse:"mice",person:"people",quiz:"quizzes",rodeo:"rodeos",shoe:"shoes",sombrero:"sombreros",stomach:"stomachs",tornado:"tornados",tuxedo:"tuxedos",volcano:"volcanoes"},lexData={Comparative:"truebett1f0;arth0ew0in0;er",Superlative:"trueearlier",PresentTense:"truebests,sounds",Condition:"truelest,unless",PastTense:"truebegan,came,d4had,kneel3l2m0sa4we1;ea0sg2;nt;eap0i0;ed;id",Participle:"true0:09;a06b01cZdXeat0fSgQhPoJprov0rHs7t6u4w1;ak0ithdra02o2r1;i02uY;k0v0;nd1pr04;ergoJoJ;ak0hHo3;e9h7lain,o6p5t4un3w1;o1um;rn;g,k;ol0reS;iQok0;ught,wn;ak0o1runk;ne,wn;en,wn;ewriNi1uJ;dd0s0;ut3ver1;do4se0t1;ak0h2;do2g1;roG;ne;ast0i7;iv0o1;ne,tt0;all0loBor1;bi3g2s1;ak0e0;iv0o9;dd0;ove,r1;a5eamt,iv0;hos0lu1;ng;e4i3lo2ui1;lt;wn;tt0;at0en,gun;r2w1;ak0ok0;is0;en",Gerund:"trueaccord0be0doin,go0result0stain0;ing",Expression:"truea0Yb0Uc0Sd0Oe0Mfarew0Lg0FhZjeez,lWmVnToOpLsJtIuFvEw7y0;a5e3i1u0;ck,p;k04p0;ee,pee;a0p,s;!h;!a,h,y;a5h2o1t0;af,f;rd up,w;atsoever,e1o0;a,ops;e,w;hoo,t;ery w06oi0L;gh,h0;! 0h,m;huh,oh;here nPsk,ut tut;h0ic;eesh,hh,it,oo;ff,h1l0ow,sst;ease,s,z;ew,ooey;h1i,mg,o0uch,w,y;h,o,ps;! 0h;hTmy go0wT;d,sh;a7evertheless,o0;!pe;eh,mm;ah,eh,m1ol0;!s;ao,fao;aCeBi9o2u0;h,mph,rra0zzC;h,y;l1o0;r6y9;la,y0;! 0;c1moCsmok0;es;ow;!p hip hoor0;ay;ck,e,llo,y;ha1i,lleluj0;ah;!ha;ah,ee4o1r0;eat scott,r;l1od0sh; grief,bye;ly;! whiz;ell;e0h,t cetera,ureka,ww,xcuse me;k,p;'oh,a0rat,uh;m0ng;mit,n0;!it;mon,o0;ngratulations,wabunga;a2oo1r0tw,ye;avo,r;!ya;h,m; 1h0ka,las,men,rgh,ye;!a,em,h,oy;la",Negative:"truen0;ever,o0;n,t",QuestionWord:"truehow3wh0;at,e1ich,o0y;!m,se;n,re; come,'s",Reflexive:"trueh4it5my5o1the0your2;ir1m1;ne3ur0;sel0;f,ves;er0im0;self",Plural:"truedick0gre0ones,records;ens","Unit|Noun":"truecEfDgChBinchAk9lb,m6newt5oz,p4qt,t1y0;ardEd;able1b0ea1sp;!l,sp;spo1;a,t,x;on9;!b,g,i1l,m,p0;h,s;!les;!b,elvin,g,m;!es;g,z;al,b;eet,oot,t;m,up0;!s",Value:"truea few",Imperative:"truebewa0come he0;re","Plural|Verb":"trueleaves",Demonym:"true0:15;1:12;a0Vb0Oc0Dd0Ce08f07g04h02iYjVkTlPmLnIomHpEqatari,rCs7t5u4v3welAz2;am0Gimbabwe0;enezuel0ietnam0I;gAkrai1;aiwTex0hai,rinida0Ju2;ni0Prkmen;a5cotti4e3ingapoOlovak,oma0Spaniard,udRw2y0W;ede,iss;negal0Cr09;sh;mo0uT;o5us0Jw2;and0;a2eru0Fhilippi0Nortugu07uerto r0S;kist3lesti1na2raguay0;ma1;ani;ami00i2orweP;caragu0geri2;an,en;a3ex0Lo2;ngo0Drocc0;cedo1la2;gasy,y07;a4eb9i2;b2thua1;e0Cy0;o,t01;azakh,eny0o2uwaiI;re0;a2orda1;ma0Ap2;anO;celandic,nd4r2sraeli,ta01vo05;a2iB;ni0qi;i0oneU;aiAin2ondur0unO;di;amEe2hanai0reek,uatemal0;or2rm0;gi0;ilipino,ren8;cuadoVgyp4mira3ngli2sto1thiopi0urope0;shm0;ti;ti0;aPominUut3;a9h6o4roat3ub0ze2;ch;!i0;lom2ngol5;bi0;a6i2;le0n2;ese;lifor1m2na3;bo2eroo1;di0;angladeshi,el6o4r3ul2;gaE;azi9it;li2s1;vi0;aru2gi0;si0;fAl7merBngol0r5si0us2;sie,tr2;a2i0;li0;genti2me1;ne;ba1ge2;ri0;ni0;gh0r2;ic0;an",Organization:"true0:4Q;a3Tb3Bc2Od2He2Df27g1Zh1Ti1Pj1Nk1Ll1Gm12n0Po0Mp0Cqu0Br02sTtHuCv9w3xiaomi,y1;amaha,m1Bou1w1B;gov,tu3C;a4e2iki1orld trade organizati33;leaRped0O;lls fargo,st1;fie2Hinghou2R;l1rner br3U;gree3Jl street journ2Im1E;an halOeriz2Xisa,o1;dafo2Yl1;kswagMvo;b4kip,n2ps,s1;a tod3Aps;es3Mi1;lev3Fted natio3C;er,s; mobi32aco beRd bOe9gi frida3Lh3im horto3Amz,o1witt3D;shi49y1;ota,s r 05;e 1in lizzy;b3carpen3Jdaily ma3Dguess w2holli0s1w2;mashing pumpki35uprem0;ho;ea1lack eyed pe3Xyr0Q;ch bo3Dtl0;l2n3Qs1xas instrumen1U;co,la m1F;efoni0Kus;a8cientology,e5ieme2Ymirnoff,np,o3pice gir6quare0Ata1ubaru;rbuc1to34;ks;ny,undgard1;en;a2x pisto1;ls;g1Wrs;few2Minsbur31lesfor03msu2E;adiohead,b8e4o1yana3C;man empi1Xyal 1;b1dutch she4;ank;a3d 1max,vl20;bu1c2Ahot chili peppe2Ylobst2N;ll;ders dige1Ll madrid;c,s;ant3Aizn2Q;a8bs,e5fiz2Ihilip4i3r1;emier 1udenti1D;leagTo2K;nk floyd,zza hut; morrBs;psi2tro1uge0E;br33chi0Tn33;!co;lant2Un1yp16; 2ason27da2P;ld navy,pec,range juli2xf1;am;us;aAb9e6fl,h5i4o1sa,vid3wa;k2tre dame,vart1;is;ia;ke,ntendo,ss0QvZ;l,s;c,st1Otflix,w1; 1sweek;kids on the block,york0D;a,c;nd22s2t1;ional aca2Po,we0U;a,c02d0S;aDcdonalCe9i6lb,o3tv,y1;spa1;ce;b1Tnsanto,ody blu0t1;ley cr1or0T;ue;c2t1;as,subisO;helin,rosoft;dica2rcedes benz,talli1;ca;id,re;ds;cs milk,tt19z24;a3e1g,ittle caesa1P; ore09novo,x1;is,mark,us; 1bour party;pres0Dz boy;atv,fc,kk,lm,m1od1O;art;iffy lu0Roy divisi0Jpmorgan1sa;! cha09;bm,hop,k3n1tv;g,te1;l,rpol;ea;a5ewlett pack1Vi3o1sbc,yundai;me dep1n1P;ot;tac1zbollah;hi;lliburt08sbro;eneral 6hq,ithub,l5mb,o2reen d0Ou1;cci,ns n ros0;ldman sachs,o1;dye1g0H;ar;axo smith kli04encoW;electr0Nm1;oto0Z;a5bi,c barcelo4da,edex,i2leetwood m03o1rito l0G;rd,xcY;at,fa,nancial1restoZ; tim0;na;cebook,nnie mae;b0Asa,u3xxon1; m1m1;ob0J;!rosceptics;aiml0De5isney,o4u1;nkin donu2po0Zran dur1;an;ts;j,w jon0;a,f lepp12ll,peche mode,r spieg02stiny's chi1;ld;aJbc,hFiDloudflaCnn,o3r1;aigsli5eedence clearwater reviv1ossra09;al;c7inba6l4m1o0Est09;ca2p1;aq;st;dplSg1;ate;se;a c1o chanQ;ola;re;a,sco1tigroup;! systems;ev2i1;ck fil a,na daily;r1y;on;d2pital o1rls jr;ne;bury,ill1;ac;aEbc,eBf9l5mw,ni,o1p,rexiteeU;ei3mbardiIston 1;glo1pizza;be;ng;o2ue c1;roV;ckbuster video,omingda1;le; g1g1;oodriL;cht2e ge0rkshire hathaw1;ay;el;cardi,idu,nana republ3s1xt5y5;f,kin robbi1;ns;ic;bYcTdidSerosmith,iRlKmEnheuser busDol,ppleAr6s4u3v2y1;er;is,on;di,todesk;hland o1sociated E;il;b3g2m1;co;os;ys; compu1be0;te1;rs;ch;c,d,erican3t1;!r1;ak; ex1;pre1;ss; 5catel2ta1;ir;! lu1;ce1;nt;jazeera,qae1;da;g,rbnb;as;/dc,a3er,tivision1;! blizz1;ard;demy of scienc0;es;ba",Possessive:"trueits,my,our0thy;!s","Noun|Verb":"true0:9W;1:AA;2:96;3:A3;4:9R;5:A2;6:9K;7:8N;8:7L;9:A8;A:93;B:8D;C:8X;a9Ob8Qc7Id6Re6Gf5Sg5Hh55i4Xj4Uk4Rl4Em40n3Vo3Sp2Squ2Rr21s0Jt02u00vVwGyFzD;ip,oD;ne,om;awn,e6Fie68;aOeMhJiHoErD;ap,e9Oink2;nd0rDuC;kDry,sh5Hth;!shop;ck,nDpe,re,sh;!d,g;e86iD;p,sD;k,p0t2;aDed,lco8W;r,th0;it,lk,rEsDt4ve,x;h,te;!ehou1ra9;aGen5FiFoD;iDmAte,w;ce,d;be,ew,sA;cuum,l4B;pDr7;da5gra6Elo6A;aReQhrPiOoMrGuEwiDy5Z;n,st;nDrn;e,n7O;aGeFiEoDu6;t,ub2;bu5ck4Jgg0m,p;at,k,nd;ck,de,in,nsDp,v7J;f0i8R;ll,ne,p,r4Yss,t94uD;ch,r;ck,de,e,le,me,p,re;e5Wow,u6;ar,e,ll,mp0st,xt;g,lDng2rg7Ps5x;k,ly;a0Sc0Ne0Kh0Fi0Dk0Cl0Am08n06o05pXquaBtKuFwD;ea88iD;ng,pe,t4;bGit,m,ppErD;fa3ge,pri1v2U;lDo6S;e6Py;!je8;aMeLiKoHrEuDy2;dy,ff,mb2;a85eEiDo5Pugg2;ke,ng;am,ss,t4;ckEop,p,rD;e,m;ing,pi2;ck,nk,t4;er,m,p;ck,ff,ge,in,ke,lEmp,nd,p2rDte,y;!e,t;k,l;aJeIiHlGoFrDur,y;ay,e56inDu3;g,k2;ns8Bt;a5Qit;ll,n,r87te;ed,ll;m,n,rk;b,uC;aDee1Tow;ke,p;a5Je4FiDo53;le,rk;eep,iDou4;ce,p,t;ateboa7Ii;de,gnDl2Vnk,p,ze;!al;aGeFiEoDuff2;ck,p,re,w;ft,p,v0;d,i3Ylt0;ck,de,pe,re,ve;aEed,nDrv1It;se,t2N;l,r4t;aGhedu2oBrD;aEeDibb2o3Z;en,w;pe,t4;le,n,r2M;cDfegua72il,mp2;k,rifi3;aZeHhy6LiGoEuD;b,in,le,n,s5X;a6ck,ll,oDpe,u5;f,t;de,ng,ot,p,s1W;aTcSdo,el,fQgPje8lOmMnLo17pJque6sFturn,vDwa6V;eDi27;al,r1;er74oFpe8tEuD;lt,me;!a55;l71rt;air,eaDly,o53;l,t;dezvo2Zt;aDedy;ke,rk;ea1i4G;a6Iist0r5N;act6Yer1Vo71uD;nd,se;a38o6F;ch,s6G;c1Dge,iEke,lly,nDp1Wt1W;ge,k,t;n,se;es6Biv0;a04e00hYiXlToNrEsy4uD;mp,n4rcha1sh;aKeIiHoDu4O;be,ceFdu3fi2grDje8mi1p,te6;amDe6W;!me;ed,ss;ce,de,nt;sDy;er6Cs;cti3i1;iHlFoEp,re,sDuCw0;e,i5Yt;l,p;iDl;ce,sh;nt,s5V;aEce,e32uD;g,mp,n7;ce,nDy;!t;ck,le,n17pe,tNvot;a1oD;ne,tograph;ak,eFnErDt;fu55mA;!c32;!l,r;ckJiInHrFsEtDu1y;ch,e9;s,te;k,tD;!y;!ic;nt,r,se;!a7;bje8ff0il,oErDutli3Qver4B;bAd0ie9;ze;a4ReFoDur1;d,tD;e,i3;ed,gle8tD;!work;aMeKiIoEuD;rd0;ck,d3Rld,nEp,uDve;nt,th;it5EkD;ey;lk,n4Brr5CsDx;s,ta2B;asuBn4UrDss;ge,it;il,nFp,rk3WsEtD;ch,t0;h,k,t0;da5n0oeuvB;aLeJiHoEuD;mp,st;aEbby,ck,g,oDve;k,t;d,n;cDe,ft,mAnIst;en1k;aDc0Pe4vK;ch,d,k,p,se;bFcEnd,p,t4uD;gh,n4;e,k;el,o2U;eEiDno4E;ck,d,ll,ss;el,y;aEo1OuD;i3mp;m,zz;mpJnEr46ssD;ue;c1Rdex,fluGha2k,se2HteDvoi3;nt,rD;e6fa3viD;ew;en3;a8le2A;aJeHiGoEuD;g,nt;l3Ano2Dok,pDr1u1;!e;ghli1Fke,nt,re,t;aDd7lp;d,t;ck,mGndFrEsh,tDu9;ch,e;bo3Xm,ne4Eve6;!le;!m0;aMear,ift,lKossJrFuD;arDe4Alp,n;antee,d;aFiEoDumb2;uCwth;ll,nd,p;de,sp;ip;aBoDue;ss,w;g,in,me,ng,s,te,ze;aZeWiRlNoJrFuD;ck,el,nDss,zz;c38d;aEoDy;st,wn;cDgme,me,nchi1;tuB;cFg,il,ld,rD;ce,e29mDwa31;!at;us;aFe0Vip,oDy;at,ck,od,wD;!er;g,ke,me,re,sh,vo1E;eGgFlEnDre,sh,t,x;an3i0Q;e,m,t0;ht,uB;ld;aEeDn3;d,l;r,tuB;ce,il,ll,rm,vo2W;cho,d7ffe8nMsKxFyeD;!baD;ll;cGerci1hFpDtra8;eriDo0W;en3me9;au6ibA;el,han7u1;caDtima5;pe;count0d,vy;a01eSiMoJrEuDye;b,el,mp,pli2X;aGeFiEoD;ne,p;ft,ll,nk,p,ve;am,ss;ft,g,in;cEd7ubt,wnloD;ad;k,u0E;ge6p,sFt4vD;e,iDor3;de;char7gui1h,liEpD;at4lay,u5;ke;al,bKcJfeIlGmaCposAsEtaD;il;e07iD;gn,re;ay,ega5iD;ght;at,ct;li04rea1;a5ut;b,ma7n3rDte;e,t;a0Eent0Dh06irc2l03oKrFuD;be,e,rDt;b,e,l,ve;aGeFoEuDy;sh;p,ss,wd;dAep;ck,ft,sh;at,de,in,lTmMnFordina5py,re,st,uDv0;gh,nDp2rt;s01t;ceHdu8fli8glomeIsFtDveN;a8rD;a6ol;e9tru8;ct;ntDrn;ra5;bHfoGmFpD;leDouCromi1;me9;aCe9it,u5;rt;at,iD;ne;lap1oD;r,ur;aEiDoud,ub;ck,p;im,w;aEeDip;at,ck,er;iGllen7nErD;ge,m,t;ge,nD;el;n,r;er,re;ke,ll,mp,noe,pGrXsFtEuDve;se,ti0I;alog,ch;h,t;!tuB;re;a03eZiXlToPrHuEyD;pa11;bb2ck2dgEff0mp,rDst,zz;den,n;et;anJeHiFoadEuD;i1sh;ca6;be,d7;ge;aDed;ch,k;ch,d;aFg,mb,nEoDrd0tt2x,ycott;k,st,t;d,e;rd,st;aFeCiDoYur;nk,tz;nd;me;as,d,ke,nd,opsy,tD;!ch,e;aFef,lt,nDt;d,efA;it;r,t;ck,il,lan3nIrFsEtt2;le;e,h;!gDk;aDe;in;!d,g,k;bu1c05dZge,iYlVnTppQrLsIttGucEwaD;rd;tiD;on;aDempt;ck;k,sD;i6ocia5;st;chFmD;!oD;ur;!iD;ve;eEroa4;ch;al;chDg0sw0;or;aEt0;er;rm;d,m,r;dreHvD;an3oD;ca5;te;ce;ss;cDe,he,t;eFoD;rd,u9;nt;nt,ss;se",Actor:"true0:7B;1:7G;2:6A;3:7F;4:7O;5:7K;a6Nb62c4Ud4Be41f3Sg3Bh30i2Uj2Qkin2Pl2Km26n1Zo1Sp0Vqu0Tr0JsQtJuHvEw8yo6;gi,ut6;h,ub0;aAe9i8o7r6;estl0it0;m2rk0;fe,nn0t2Bza2H;atherm2ld0;ge earn0it0nder0rri1;eter7i6oyF;ll5Qp,s3Z;an,ina2U;n6s0;c6Uder03;aoisea23e9herapi5iktok0o8r6ut1yco6S;a6endseLo43;d0mp,nscri0Bvel0;ddl0u1G;a0Qchn7en6na4st0;ag0;i3Oo0D;aiXcUeRhPiMki0mu26oJpGquaFtBu7wee6;p0theart;lt2per7r6;f0ge6Iviv1;h6inten0Ist5Ivis1;ero,um2;a8ep7r6;ang0eam0;bro2Nc2Ofa2Nmo2Nsi20;ff0tesm2;tt0;ec7ir2Do6;kesp59u0M;ia5Jt3;l7me6An,rcere6ul;r,ss;di0oi5;n7s6;sy,t0;g0n0;am2ephe1Iow6;girl,m2r2Q;cretInior cit3Fr6;gea4v6;a4it1;hol4Xi7reen6ulpt1;wr2C;e01on;l1nt;aEe9o8u6;l0nn6;er up,ingE;g40le mod3Zof0;a4Zc8fug2Ppo32searQv6;ere4Uolution6;ary;e6luYru22;ptio3T;bbi,dic5Vpp0;arter6e2Z;back;aYeWhSiRlOoKr8sycho7u6;nk,p31;logi5;aGeDiBo6;d9fess1g7ph47s6;pe2Ktitu51;en6ramm0;it1y;igy,uc0;est4Nme mini0Unce6s3E;!ss;a7si6;de4;ch0;ctiti39nk0P;dca0Oet,li6pula50rnst42;c2Itic6;al scie6i2;nti5;a6umb0;nn0y6;er,ma4Lwright;lgrim,one0;a8iloso7otogra7ra6ysi1V;se;ph0;ntom,rmaci5;r6ssi1T;form0s4O;i3El,nel3Yr8st1tr6wn;i6on;arWot;ent4Wi42tn0;ccupa4ffBp8r7ut6;ca5l0B;ac4Iganiz0ig2Fph2;er3t6;i1Jomet6;ri5;ic0spring;aBe9ie4Xo7u6;n,rser3J;b6mad,vi4V;le2Vo4D;i6mesis,phew;ce,ghb1;nny,rr3t1X;aEeDiAo7u6yst1Y;m8si16;der3gul,m7n6th0;arDk;!my;ni7s6;f02s0Jt0;on,st0;chan1Qnt1rcha4;gi9k0n8rtyr,t6y1;e,riar6;ch;ag0iac;ci2stra3I;a7e2Aieutena4o6;rd,s0v0;bor0d7ndlo6ss,urea3Fwy0ym2;rd;!y;!s28;e8o7u6;ggl0;gg0urna2U;st0;c3Hdol,llu3Ummigra4n6; l9c1Qfa4habi42nov3s7ve6;nt1stig3;pe0Nt6;a1Fig3ru0M;aw;airFeBistoAo8u6ygie1K;man6sba2H;!ita8;bo,st6usekN;age,e3P;ri2;ir,r6;m7o6;!ine;it;dress0sty2C;aLeIhostGirl26ladi3oCrand7u6;e5ru;c9daug0Jfa8m7pa6s2Y;!re4;a,o6;th0;hi1B;al7d6lf0;!de3A;ie,k6te26;eep0;!wr6;it0;isha,n6;i6tl04;us;mbl0rden0;aDella,iAo7r6;eela2Nie1P;e,re6ster pare4;be1Hm2r6st0;unn0;an2ZgZlmm17nanci0r6tt0;e6st la2H; marsh2OfigXm2;rm0th0;conoEdDlectriCm8n7x6;amin0cellency,i2A;emy,trepreneur,vironmenta1J;c8p6;er1loye6;e,r;ee;ci2;it1;mi5;aKeBi8ork,ri7u6we02;de,tche2H;ft0v0;ct3eti7plom2Hre6va;ct1;ci2ti2;aDcor3fencCi0InAput9s7tectLvel6;op0;ce1Ge6ign0;rt0;ee,y;iz6;en;em2;c1Ml0;d8nc0redev7ug6;ht0;il;!dy;a06e04fo,hXitizenWlToBr9u6;r3stomer6;! representat6;ive;e3it6;ic;lJmGnAord9rpor1Nu7w6;boy,ork0;n6ri0;ciTte1Q;in3;fidantAgressSs9t6;e0Kr6;ibut1o6;ll0;tab13ul1O;!e;edi2m6pos0rade;a0EeQissi6;on0;leag8on7um6;ni5;el;ue;e6own;an0r6;ic,k;!s;a9e7i6um;ld;erle6f;ad0;ir7nce6plFract0;ll1;m2wI;lebri6o;ty;dBptAr6shi0;e7pe6;nt0;r,t6;ak0;ain;et;aMeLiJlogg0oErBu6;dd0Fild0rgl9siness6;m2p7w6;om2;ers05;ar;i7o6;!k0th0;cklay0de,gadi0;hemi2oge8y6;!frie6;nd;ym2;an;cyc6sR;li5;atbox0ings;by,nk0r6;b0on7te6;nd0;!e07;c04dWge4nQpLrHsFtAu7yatull6;ah;nt7t6;h1oG;!ie;h8t6;e6orney;nda4;ie5le6;te;sis00tron6;aut,om0;chbis8isto7tis6;an,t;crU;hop;ost9p6;ari6rentiS;ti6;on;le;a9cest1im3nou8y6;bo6;dy;nc0;ly5rc6;hi5;mi8v6;entur0is1;er;ni7r6;al;str3;at1;or;counBquaintanArob9t6;ivi5or,re6;ss;st;at;ce;ta4;nt","Adj|Noun":"true0:16;a1Db17c0Ud0Re0Mf0Dg0Ah08i06ju05l02mWnUoSpNrIsBt7u4v1watershed;a1ision0Z;gabo4nilla,ria1;b0Vnt;ndergr1pstairs;adua14ou1;nd;a3e1oken,ri0;en,r1;min0rori13;boo,n;age,e5ilv0Flack,o3quat,ta2u1well;bordina0Xper5;b0Lndard;ciali0Yl1vereign;e,ve16;cret,n1ri0;ior;a4e2ou1ubbiL;nd,tiY;ar,bBl0Wnt0p1side11;resent0Vublican;ci0Qsh;a4eriodic0last0Zotenti0r1;emi2incip0o1;!fession0;er,um;rall4st,tie0U;ff1pposi0Hv0;ens0Oi0C;agg01ov1uts;el;a5e3iniatJo1;bi01der07r1;al,t0;di1tr0N;an,um;le,riG;attOi2u1;sh;ber0ght,qC;stice,veniT;de0mpressioYn1;cumbe0Edividu0no0Dsta0Eterim;alf,o1umdrum;bby,melF;en2old,ra1;ph0Bve;er0ious;a7e5i4l3u1;git03t1;ure;uid;ne;llow,m1;aFiL;ir,t,vo1;riOuriO;l3p00x1;c1ecutUpeV;ess;d1iK;er;ar2e1;mographUrivO;k,l2;hiGlassSo2rude,unn1;ing;m5n1operK;creCstitueOte2vertab1;le;mpor1nt;ary;ic,m2p1;anion,lex;er2u1;ni8;ci0;al;e5lank,o4r1;i2u1;te;ef;ttom,urgeois;st;cadem9d6l2ntarct9r1;ab,ct8;e3tern1;at1;ive;rt;oles1ult;ce1;nt;ic","Adj|Past":"true0:4Q;1:4C;2:4H;3:4E;a44b3Tc36d2Je29f20g1Wh1Si1Jj1Gkno1Fl1Am15n12o0Xp0Mqu0Kr08sLtEuAv9w4yellow0;a7ea6o4rinkl0;r4u3Y;n,ri0;k31th3;rp0sh0tZ;ari0e1O;n5p4s0;d1li1Rset;cov3derstood,i4;fi0t0;a8e3Rhr7i6ouTr4urn0wi4C;a4imm0ou2G;ck0in0pp0;ed,r0;eat2Qi37;m0nn0r4;get0ni2T;aOcKeIhGimFm0Hoak0pDt7u4;bsid3Ogge44s4;pe4ta2Y;ct0nd0;a8e7i2Eok0r5u4;ff0mp0nn0;ength2Hip4;ed,p0;am0reotyp0;in0t0;eci4ik0oH;al3Efi0;pRul1;a4ock0ut;d0r0;a4c1Jle2t31;l0s3Ut0;a6or5r4;at4e25;ch0;r0tt3;t4ut0;is2Mur1;aEe5o4;tt0;cAdJf2Bg9je2l8m0Knew0p7qu6s4;eTpe2t4;or0ri2;e3Dir0;e1lac0;at0e2Q;i0Rul1;eiv0o4ycl0;mme2Lrd0v3;in0lli0ti2A;a4ot0;li28;aCer30iBlAo9r5u4;mp0zzl0;e6i2Oo4;ce2Fd4lo1Anou30pos0te2v0;uc0;fe1CocCp0Iss0;i2Kli1L;ann0e2CuS;ck0erc0ss0;ck0i2Hr4st0;allLk0;bse7c6pp13rgan2Dver4;lo4whelm0;ok0;cupi0;rv0;aJe5o4;t0uri1A;ed0gle2;a6e5ix0o4ut0ys1N;di1Nt15u26;as0Clt0;n4rk0;ag0ufact0A;e6i5o4;ad0ck0st,v0;cens0m04st0;ft,v4;el0;tt0wn;a5o15u4;dg0s1B;gg0;llumSmpAn4sol1;br0cre1Ldebt0f8jZspir0t5v4;it0olv0;e4ox0Y;gr1n4re23;d0si15;e2l1o1Wuri1;li0o01r4;ov0;a6e1o4um03;ok0r4;ri0Z;mm3rm0;i6r5u4;a1Bid0;a0Ui0Rown;ft0;aAe9i8l6oc0Ir4;a4i0oz0Y;ctHg19m0;avo0Ju4;st3;ni08tt0x0;ar0;d0il0sc4;in1;dCl1mBn9quipp0s8x4;agger1c6p4te0T;a0Se4os0;ct0rie1D;it0;cap0tabliZ;cha0XgFha1As4;ur0;a0Zbarra0N;i0Buc1;aMeDi5r4;a01i0;gni08miniSre2s4;a9c6grun0Ft4;o4re0Hu17;rt0;iplWou4;nt0r4;ag0;bl0;cBdRf9l8p7ra6t5v4;elop0ot0;ail0ermQ;ng0;re07;ay0ight0;e4in0o0M;rr0;ay0enTor1;m5t0z4;ed,zl0;ag0p4;en0;aPeLhIlHo9r6u4;lt4r0stom03;iv1;a5owd0u4;sh0;ck0mp0;d0loAm7n4ok0v3;centr1f5s4troC;id3olid1;us0;b5pl4;ic1;in0;r0ur0;assi9os0utt3;ar5i4;ll0;g0m0;lebr1n6r4;ti4;fi0;tralJ;g0lcul1;aDewild3iCl9o7r5urn4;ed,t;ok4uis0;en;il0r0t4und;tl0;e5i4;nd0;ss0;as0;ffl0k0laMs0tt3;bPcNdKfIg0lFmaz0nDppBrm0ss9u5wa4;rd0;g5thor4;iz0;me4;nt0;o6u4;m0r0;li0re4;ci1;im1ticip1;at0;a5leg0t3;er0;rm0;fe2;ct0;ju5o7va4;nc0;st0;ce4knowledg0;pt0;and5so4;rb0;on0;ed",Singular:"true0:5I;1:5G;2:4V;3:4R;4:51;5:56;6:5K;a4Zb4Ic3Ld33e2Vf2Mg2Hh26in22j21k20l1Sm1Jn1Fo19p0Pqu0Or0DsXtKuFvAw7x r55yo yo;a7ha3No3O;f3i4Ot0Ey7;! arou37;arAe8ideo ga2Oo7;cabu4Gl59;gMr7t;di4Wt1W;iety,ni4M;n9p2Yr8s 7;do41s5B;bani1in0;coordinat38der7;estima1to22we3Z; rex,aIeHhFiDoCr9u8v7;! show;m2Mn2rntJto1B;agedy,ib7o4B;e,u7;n0ta43;ni1p2rq3J;c,er,m7;etD;ing7ree24;!y;am,mp3D;ct2le6x return;aLcKeIhor4NiHkFoEpin off,tBu9y7;ll7ner4Jst4Q;ab2V;b7i1n26per bowl,rro1V;st3Jtot0;at8ipe2Eo1Jrate4Fudent7;! lo0G;i37u1;ft ser4Imeo1G;elet5i7;ll,r3S;b36gn2Rte;ab2Hc7min39;t,urity gua2L;e6ho2W;bbatic0la3Gndwi0Opi5;av5eBhetor2i8o7;de6om,w;t8v7;erb2A;e,u0;bBc9f7publ2r0Yspi1;er7orm3;e6r0;i7ord label;p2Ft0;a1u43;estion mark,ot2D;aNeKhoJiGlEoCr8u7yram1D;ddi3EpCrpo1Hs3G;e9o7;bl3Ws7;pe3Gta1;dic1Pmi1Dp1Oroga3Sss relea1D;p7rt0;py;a7ebisci1;q2Bte;cn2e8g7;!gy;!r;ne call,tocoI;anut,d8r7t0yo1;cen3Gsp3H;al,est0;nop4r8t7;e,hog5;adi0Zi2S;atme0bj3Cc9pia1rde0thers,utspok5ve7wn3;n,r7;ti0Nview;cu8e7;an;pi3;ar9it8ot7umb3;a2Chi2O;e,ra1;cot2ra34;aDeAi8o7ur0;nopo4p16rni2Ksq1Pti33uld;c,li0Zn08s7tt5;chief,si31;d8nu,t7;al,i3;al,ic;gna1mm0nd13rsupi0te7yf4;ri0;aBegAi9u7;ddi1n7;ch;me,p07; 9e0K;bor12y7; 7er;up;eyno1itt5;el4ourn0;c9dices,itia2Kni22s8tel0Jvert7;eb1H;e25titu1;en2Hi2Q;aGeCighBo8u7;man right,s1Z;me7rmoDsp1Dtb0I;! r7;un; scho0WriW;a7i1K;d7v5; start,pho7;ne;ndful,sh brown,v5ze;a9elat0Glaci3r7ul4yp1P;an7enadi3id;a19d slam,ny;df4r7;l2ni1F;aEeti1EiDlu1oAr8un7;er0;ee market,i7onti3;ga1;l4ur7;so7;me;eNref4;br2mi4;conoDffi1Mgg,lecto0Pmbas1BnApidem2s1Wth2ven9x8yel7;id;ampXempl0Lte6;i16t;er1Iterp7;ri7;se;my;eJiCo9r7ump tru0R;agonf4i7;er,ve thru;c8g1Bi4or,ssi3wn7;side;to0CumenC;aCgniBnn3s8vide7;nd;conte6incen1Bp7tri0Y;osi7;tion;ta0E;le0U;ath9c8f7ni0terre6;ault 03err0;al,im0;!b7;ed;aUeRhKiJlHoBr7;edit ca9uc7;ib7;le;rd;efficBke,lAmmuniqJns8pi3rr0t0Uus7yo1;in;erv7uG;atoZ;ic,lO;ie6;er0Li7oth;e6n2;ty,vil wK;aBeqAick5oco9r7;istmas car7ysanthemum;ol;la1;ue;ndeli3racteri7;st2;i8llCr7;e0tifica1;liW;hi3nDpCrAt7ucus;erpi7hedr0;ll7;ar;!bohyd7ri3;ra1;it0;a7e,nib0;l,ry;aKeJiop2leHoFrBu7;nny,r7tterf4;g7i0;la7;ry;eak8i7;ck;fa7thro9;st;dy,ro7wl;ugh;mi7;sh;an,l4;nki8rri3;er;ng;cQdKlGnDppeti1rBs9tt2utop7;sy;ic;ce6pe7;ct;r7sen0;ay;ec8oma4ti8;ly;do1;i5l7;er7y;gy;en; hominBj8van7;tage;ec7;ti7;ve;em;cAe8qui7;tt0;ta1;te;i8ru0;al;de6;nt","Person|Noun":"truea0Eb07c03dWeUfQgOhLjHkiGlFmCnBolive,p7r4s3trini06v1wa0;ng,rd,tts;an,enus,iol0;a,et;ky,onPumm09;ay,e1o0uby;bin,d,se;ed,x;a2e1o0;l,tt04;aLnJ;dYge,tR;at,orm;a0eloW;t0x,ya;!s;a9eo,iH;ng,tP;a2e1o0;lGy;an,w3;de,smi4y;a0erb,iOolBuntR;ll,z0;el;ail,e0iLuy;ne;a1ern,i0lo;elds,nn;ith,n0;ny;a0dEmir,ula,ve;rl;a4e3i1j,ol0;ly;ck,x0;ie;an,ja;i0wn;sy;am,h0liff,rystal;a0in,ristian;mbers,ri0;ty;a4e3i2o,r0ud;an0ook;dy;ll;nedict,rg;k0nks;er;l0rt;fredo,ma","Actor|Verb":"trueaCb8c5doctor,engineAfool,g3host,judge,m2nerd,p1recruit,scout,ushAvolunteAwi0;mp,tneA;arent,ilot;an,ime;eek,oof,r0uide;adu8oom;ha1o0;ach,nscript,ok;mpion,uffeur;o2u0;lly,tch0;er;ss;ddi1ffili0rchite1;ate;ct",MaleName:"true0:H6;1:FZ;2:DS;3:GQ;4:CZ;5:FV;6:GM;7:FP;8:GW;9:ET;A:C2;B:GD;aF8bE1cCQdBMeASfA1g8Yh88i7Uj6Sk6Bl5Mm48n3So3Ip33qu31r26s1Et0Ru0Ov0CwTxSyHzC;aCor0;cChC1karia,nAT;!hDkC;!aF6;!ar7CeF5;aJevgenBSoEuC;en,rFVsCu3FvEF;if,uf;nDs6OusC;ouf,s6N;aCg;s,tC;an,h0;hli,nCrosE1ss09;is,nC;!iBU;avi2ho5;aPeNiDoCyaEL;jcieBJlfgang,odrFutR;lFnC;f8TsC;lCt1;ow;bGey,frEhe4QlC;aE5iCy;am,e,s;ed8iC;d,ed;eAur;i,ndeD2rn2sC;!l9t1;lDyC;l1ne;lDtC;!er;aCHy;aKernDAiFladDoC;jteB0lodymyr;!iC;mFQsDB;cFha0ktBZnceDrgCOvC;a0ek;!nC;t,zo;!e4StBV;lCnC7sily;!entC;in9J;ghE2lCm70nax,ri,sm0;riCyss87;ch,k;aWeRhNiLoGrEuDyC;!l2roEDs1;n6r6E;avD0eCist0oy,um0;ntCRvBKy;bFdAWmCny;!asDmCoharu;aFFie,y;!z;iA6y;mCt4;!my,othy;adEeoDia0SomC;!as;!dor91;!de4;dFrC;enBKrC;anBJeCy;ll,nBI;!dy;dgh,ha,iCnn2req,tsu5V;cDAka;aYcotWeThPiMlobod0oKpenc2tEurDvenAEyCzym1;ed,lvest2;aj,e9V;anFeDuC;!aA;fan17phEQvCwaA;e77ie;!islaCl9;v,w;lom1rBuC;leymaDHta;dDgmu9UlCm1yabonga;as,v8B;!dhart8Yn9;aEeClo75;lCrm0;d1t1;h9Jne,qu1Jun,wn,yne;aDbastiEDk2Yl5Mpp,rgCth,ymoCU;e1Dio;m4n;!tC;!ie,y;eDPlFmEnCq67tosCMul;dCj2UtiA5;e01ro;!iATkeB6mC4u5;!ik,vato9K;aZeUheC8iRoGuDyC;an,ou;b99dDf4peAssC;!elEG;ol00y;an,bLc7MdJel,geIh0lHmGnEry,sDyC;!ce;ar7Ocoe,s;!aCnBU;ld,n;an,eo;a7Ef;l7Jr;e3Eg2n9olfo,riC;go;bBNeDH;cCl9;ar87c86h54kCo;!ey,ie,y;cFeA3gDid,ubByCza;an8Ln06;g85iC;naC6s;ep;ch8Kfa5hHin2je8HlGmFndEoHpha5sDul,wi36yC;an,mo8O;h9Im4;alDSol3O;iD0on;f,ph;ul;e9CinC;cy,t1;aOeLhilJiFrCyoG;aDeC;m,st1;ka85v2O;eDoC;tr;r8GtC;er,ro;!ipCl6H;!p6U;dCLrcy,tC;ar,e9JrC;!o7;b9Udra8So9UscAHtri62ulCv8I;!ie,o7;ctav6Ji2lImHndrBRrGsDtCum6wB;is,to;aDc6k6m0vCwaBE;al79;ma;i,vR;ar,er;aDeksandr,ivC;er,i2;f,v;aNeLguyBiFoCu3O;aDel,j4l0ma0rC;beAm0;h,m;cFels,g5i9EkDlC;es,s;!au,h96l78olaC;!i,y;hCkCol76;ol75;al,d,il,ls1vC;ilAF;hom,tC;e,hC;anCy;!a5i5;aYeViLoGuDyC;l4Nr1;hamDr84staC;fa,p6E;ed,mG;di10e,hamEis4JntDritz,sCussa;es,he;e,y;ad,ed,mC;ad,ed;cGgu5hai,kFlEnDtchC;!e8O;a9Pik;house,o7t1;ae73eC3ha8Iolaj;ah,hDkC;!ey,y;aDeC;al,l;el,l;hDlv3rC;le,ri8Ev4T;di,met;ay0c00gn4hWjd,ks2NlTmadZnSrKsXtDuric7VxC;imilBKwe8B;eHhEi69tCus,y69;!eo,hCia7;ew,i67;eDiC;as,eu,s;us,w;j,o;cHiGkFlEqu8Qsha83tCv3;iCy;!m,n;in,on;el,o7us;a6Yo7us;!elCin,o7us;!l8o;frAEi5Zny,u5;achDcoCik;lm;ai,y;amDdi,e5VmC;oud;adCm6W;ou;aulCi9P;ay;aWeOiMloyd,oJuDyC;le,nd1;cFdEiDkCth2uk;a7e;gi,s,z;ov7Cv6Hw6H;!as,iC;a6Een;g0nn52renDuCvA4we7D;!iS;!zo;am,n4oC;n5r;a9Yevi,la5KnHoFst2thaEvC;eCi;nte;bo;nCpo8V;!a82el,id;!nC;aAy;mEnd1rDsz73urenCwr6K;ce,t;ry,s;ar,beAont;aOeIhalHiFla4onr63rDu5SylC;e,s;istCzysztof;i0oph2;er0ngsl9p,rC;ilA9k,ollos;ed,id;en0iGnDrmCv4Z;it;!dDnCt1;e2Ny;ri4Z;r,th;cp2j4mEna8BrDsp6them,uC;ri;im,l;al,il;a03eXiVoFuC;an,lCst3;en,iC;an,en,o,us;aQeOhKkub4AnIrGsDzC;ef;eDhCi9Wue;!ua;!f,ph;dCge;i,on;!aCny;h,s,th6J;anDnC;!ath6Hie,n72;!nC;!es;!l,sCy;ph;o,qu3;an,mC;!i,m6V;d,ffFns,rCs4;a7JemDmai7QoCry;me,ni1H;i9Dy;!e73rC;ey,y;cKdBkImHrEsDvi2yC;dBs1;on,p2;ed,oDrCv67;e6Qod;d,s61;al,es5Wis1;a,e,oCub;b,v;ob,qu13;aTbNchiMgLke53lija,nuKonut,rIsEtCv0;ai,suC;ki;aDha0i8XmaCsac;el,il;ac,iaC;h,s;a,vinCw3;!g;k,nngu6X;nac1Xor;ka;ai,rahC;im;aReLoIuCyd6;beAgGmFsC;eyDsC;a3e3;in,n;ber5W;h,o;m2raDsse3wC;a5Pie;c49t1K;a0Qct3XiGnDrC;beAman08;dr7VrC;iCy2N;!k,q1R;n0Tt3S;bKlJmza,nIo,rEsDyC;a5KdB;an,s0;lEo67r2IuCv9;hi5Hki,tC;a,o;an,ey;k,s;!im;ib;a08e00iUlenToQrMuCyorgy;iHnFsC;!taC;f,vC;!e,o;n6tC;er,h2;do,lC;herDlC;auCerQ;me;aEegCov2;!g,orC;!io,y;dy,h7C;dfr9nza3XrDttfC;ri6C;an,d47;!n;acoGlEno,oCuseppe;rgiCvan6O;!o,s;be6Ies,lC;es;mo;oFrC;aDha4HrC;it,y;ld,rd8;ffErgC;!e7iCy;!os;!r9;bElBrCv3;eCla1Nr4Hth,y;th;e,rC;e3YielC;!i4;aXeSiQlOorrest,rCyod2E;aHedFiC;edDtC;s,z;ri18;!d42eri11riC;ck,k;nCs2;cEkC;ie,lC;in,yn;esLisC;!co,z3M;etch2oC;ri0yd;d5lConn;ip;deriFliEng,rC;dinaCg4nan0B;nd8;pe,x;co;bCdi,hd;iEriC;ce,zC;io;an,en,o;benez2dZfrYit0lTmMnJo3rFsteb0th0ugenEvCymBzra;an,eCge4D;ns,re3K;!e;gi,iDnCrol,v3w3;est8ie,st;cCk;!h,k;o0DriCzo;co,qC;ue;aHerGiDmC;aGe3A;lCrh0;!iC;a10o,s;s1y;nu5;beAd1iEliDm2t1viCwood;n,s;ot28s;!as,j5Hot,sC;ha;a3en;!dGg6mFoDua2QwC;a2Pin;arC;do;oZuZ;ie;a04eTiOmitrNoFrag0uEwDylC;an,l0;ay3Hig4D;a3Gdl9nc0st3;minFnDri0ugCvydGy2S;!lF;!a36nCov0;e1Eie,y;go,iDykC;as;cCk;!k;i,y;armuFetDll1mitri7neCon,rk;sh;er,m6riC;ch;id;andLepak,j0lbeAmetri4nIon,rGsEvDwCxt2;ay30ey;en,in;hawn,moC;nd;ek,riC;ck;is,nC;is,y;rt;re;an,le,mKnIrEvC;e,iC;!d;en,iEne0PrCyl;eCin,yl;l45n;n,o,us;!iCny;el,lo;iCon;an,en,on;a0Fe0Ch03iar0lRoJrFuDyrC;il,us;rtC;!is;aEistC;iaCob12;no;ig;dy,lInErC;ey,neliCy;s,us;nEor,rDstaC;nt3;ad;or;by,e,in,l3t1;aHeEiCyde;fCnt,ve;fo0Xt1;menDt4;us;s,t;rFuDyC;!t1;dCs;e,io;enC;ce;aHeGrisC;!toC;phCs;!eC;!r;st2t;d,rCs;b5leC;s,y;cDdrCs6;ic;il;lHmFrC;ey,lDroCy;ll;!o7t1;er1iC;lo;!eb,v3;a09eZiVjorn,laUoSrEuCyr1;ddy,rtKst2;er;aKeFiEuDyC;an,ce,on;ce,no;an,ce;nDtC;!t;dDtC;!on;an,on;dFnC;dDisC;lav;en,on;!foOl9y;bby,gd0rCyd;is;i0Lke;bElDshC;al;al,lL;ek;nIrCshoi;at,nEtC;!raC;m,nd;aDhaCie;rd;rd8;!iDjam3nCs1;ie,y;to;kaMlazs,nHrC;n9rDtC;!holomew;eCy;tt;ey;dCeD;ar,iC;le;ar1Nb1Dd16fon15gust3hm12i0Zja0Yl0Bm07nTputsiSrGsaFugustEveDyCziz;a0kh0;ry;o,us;hi;aMchiKiJjun,mHnEon,tCy0;em,hCie,ur8;ur;aDoC;!ld;ud,v;aCin;an,nd8;!el,ki;baCe;ld;ta;aq;aMdHgel8tCw6;hoFoC;iDnC;!i8y;ne;ny;er7rCy;eDzC;ej;!as,i,j,s,w;!s;s,tolC;iCy;!y;ar,iEmaCos;nu5r;el;ne,r,t;aVbSdBeJfHiGl01onFphonsEt1vC;aPin;on;e,o;so,zo;!sR;!onZrC;ed;c,jaHksFssaHxC;!andC;er,rC;e,os,u;andCei;ar,er,r;ndC;ro;en;eDrecC;ht;rt8;dd3in,n,sC;taC;ir;ni;dDm6;ar;an,en;ad,eC;d,t;in;so;aGi,olErDvC;ik;ian8;f8ph;!o;mCn;!a;dGeFraDuC;!bakr,lfazl;hCm;am;!l;allFel,oulaye,ulC;!lDrahm0;an;ah,o;ah;av,on",Uncountable:"true0:2E;1:2L;2:33;a2Ub2Lc29d22e1Rf1Ng1Eh16i11j0Yk0Wl0Rm0Hn0Do0Cp03rZsLt9uran2Jv7w3you gu0E;a5his17i4oo3;d,l;ldlife,ne;rm8t1;apor,ernacul29i3;neg28ol1Otae;eDhBiAo8r4un3yranny;a,gst1B;aff2Oea1Ko4ue nor3;th;o08u3;bleshoot2Ose1Tt;night,othpas1Vwn3;foEsfoE;me off,n;er3und1;e,mod2S;a,nnis;aDcCeBhAi9ki8o7p6t4u3weepstak0;g1Unshi2Hshi;ati08e3;am,el;ace2Keci0;ap,cc1meth2C;n,ttl0;lk;eep,ingl0or1C;lf,na1Gri0;ene1Kisso1C;d0Wfe2l4nd,t3;i0Iurn;m1Ut;abi0e4ic3;e,ke15;c3i01laxa11search;ogni10rea10;a9e8hys7luto,o5re3ut2;amble,mis0s3ten20;en1Zs0L;l3rk;i28l0EyH; 16i28;a24tr0F;nt3ti0M;i0s;bstetri24vercrowd1Qxyg09;a5e4owada3utella;ys;ptu1Ows;il poliZtional securi2;aAe8o5u3;m3s1H;ps;n3o1K;ey,o3;gamy;a3cha0Elancholy,rchandi1Htallurgy;sl0t;chine3g1Aj1Hrs,thema1Q; learn1Cry;aught1e6i5ogi4u3;ck,g12;c,s1M;ce,ghtn18nguis1LteratWv1;ath1isVss;ara0EindergartPn3;icke0Aowled0Y;e3upit1;a3llyfiGwel0G;ns;ce,gnor6mp5n3;forma00ter3;net,sta07;atiSort3rov;an18;a7e6isto09o3ung1;ckey,mework,ne4o3rseradi8spitali2use arrest;ky;s2y;adquarteXre;ir,libut,ppiHs3;hi3te;sh;ene8l6o5r3um,ymnas11;a3eZ;niUss;lf,re;ut3yce0F;en; 3ti0W;edit0Hpo3;ol;aNicFlour,o4urnit3;ure;od,rgive3uri1wl;ness;arCcono0LducaBlectr9n7quip8thi0Pvery6x3;ist4per3;ti0B;en0J;body,o08th07;joy3tertain3;ment;ici2o3;ni0H;tiS;nings,th;emi02i6o4raugh3ynas2;ts;pe,wnstai3;rs;abet0ce,s3;honZrepu3;te;aDelciChAivi07l8o3urrency;al,ld w6mmenta5n3ral,ttIuscoB;fusiHt 3;ed;ry;ar;assi01oth0;es;aos,e3;eMwK;us;d,rO;a8i6lood,owlHread5u3;ntGtt1;er;!th;lliarJs3;on;g3ss;ga3;ge;cKdviJeroGirFmBn6ppeal court,r4spi3thleL;rin;ithmet3sen3;ic;i6y3;o4th3;ing;ne;se;en5n3;es2;ty;ds;craft;bi8d3nau7;yna3;mi6;ce;id,ous3;ti3;cs",Infinitive:"true0:9G;1:9T;2:AD;3:90;4:9Z;5:84;6:AH;7:A9;8:92;9:A0;A:AG;B:AI;C:9V;D:8R;E:8O;F:97;G:6H;H:7D;a94b8Hc7Jd68e4Zf4Mg4Gh4Ai3Qj3Nk3Kl3Bm34nou48o2Vp2Equ2Dr1Es0CtZuTvRwI;aOeNiLors5rI;eJiI;ng,te;ak,st3;d5e8TthI;draw,er;a2d,ep;i2ke,nIrn;d1t;aIie;liADniAry;nJpI;ho8Llift;cov1dJear8Hfound8DlIplug,rav82tie,ve94;eaAo3X;erIo;cut,go,staAFvalA3w2G;aSeQhNoMrIu73;aIe72;ffi3Smp3nsI;aBfo7CpI;i8oD;pp3ugh5;aJiJrIwaD;eat5i2;nk;aImA0;ch,se;ck3ilor,keImp1r8L;! paD;a0Ic0He0Fh0Bi0Al08mugg3n07o05p02qu01tUuLwI;aJeeIim;p,t5;ll7Wy;bNccMffLggeCmmKppJrI;mouFpa6Zvi2;o0re6Y;ari0on;er,i4;e7Numb;li9KmJsiIveD;de,st;er9it;aMe8MiKrI;ang3eIi2;ng27w;fIng;f5le;b,gg1rI;t3ve;a4AiA;a4UeJit,l7DoI;il,of;ak,nd;lIot7Kw;icEve;atGeak,i0O;aIi6;m,y;ft,ng,t;aKi6CoJriIun;nk,v6Q;ot,rt5;ke,rp5tt1;eIll,nd,que8Gv1w;!k,m;aven9ul8W;dd5tis1Iy;a0FeKiJoI;am,t,ut;d,p5;a0Ab08c06d05f01group,hea00iZjoi4lXmWnVpTq3MsOtMup,vI;amp,eJiIo3B;sEve;l,rI;e,t;i8rI;ie2ofE;eLiKpo8PtIurfa4;o24rI;aHiBuctu8;de,gn,st;mb3nt;el,hra0lIreseF;a4e71;d1ew,o07;aHe3Fo2;a7eFiIo6Jy;e2nq41ve;mbur0nf38;r0t;inKleBocus,rJuI;el,rbiA;aBeA;an4e;aBu4;ei2k8Bla43oIyc3;gni39nci3up,v1;oot,uI;ff;ct,d,liIp;se,ze;tt3viA;aAenGit,o7;aWerUinpoiFlumm1LoTrLuI;b47ke,niArIt;poDsuI;aFe;eMoI;cKd,fe4XhibEmo7noJpo0sp1tru6vI;e,i6o5L;un4;la3Nu8;aGclu6dJf1occupy,sup0JvI;a6BeF;etermi4TiB;aGllu7rtr5Ksse4Q;cei2fo4NiAmea7plex,sIva6;eve8iCua6;mp1rItrol,ve;a6It6E;bOccuNmEpMutLverIwe;l07sJtu6Yu0wI;helm;ee,h1F;gr5Cnu2Cpa4;era7i4Ipo0;py,r;ey,seItaH;r2ss;aMe0ViJoIultiply;leCu6Pw;micJnIspla4;ce,g3us;!k;iIke,na9;m,ntaH;aPeLiIo0u3N;ke,ng1quIv5;eIi6S;fy;aKnIss5;d,gI;th5;rn,ve;ng2Gu1N;eep,idnJnI;e4Cow;ap;oHuI;gg3xtaI;po0;gno8mVnIrk;cTdRfQgeChPitia7ju8q1CsNtKun6EvI;a6eIo11;nt,rt,st;erJimi6BoxiPrI;odu4u6;aBn,pr03ru6C;iCpi8tIu8;all,il,ruB;abEibE;eCo3Eu0;iIul9;ca7;i7lu6;b5Xmer0pI;aLer4Uin9ly,oJrI;e3Ais6Bo2;rt,se,veI;riA;le,rt;aLeKiIoiCuD;de,jaInd1;ck;ar,iT;mp1ng,pp5raIve;ng5Mss;ath1et,iMle27oLrI;aJeIow;et;b,pp3ze;!ve5A;gg3ve;aTer45i5RlSorMrJuI;lf4Cndrai0r48;eJiIolic;ght5;e0Qsh5;b3XeLfeEgJsI;a3Dee;eIi2;!t;clo0go,shIwa4Z;ad3F;att1ee,i36;lt1st5;a0OdEl0Mm0FnXquip,rWsVtGvTxI;aRcPeDhOiNpJtIu6;ing0Yol;eKi8lIo0un9;aHoI;it,re;ct,di7l;st,t;a3oDu3B;e30lI;a10u6;lt,mi28;alua7oI;ke,l2;chew,pou0tab19;a0u4U;aYcVdTfSgQhan4joy,lPqOrNsuMtKvI;e0YisI;a9i50;er,i4rI;aHenGuC;e,re;iGol0F;ui8;ar9iC;a9eIra2ulf;nd1;or4;ang1oIu8;r0w;irc3lo0ou0ErJuI;mb1;oaGy4D;b3ct;bKer9pI;hasiIow1;ze;aKody,rI;a4oiI;d1l;lm,rk;ap0eBuI;ci40de;rIt;ma0Rn;a0Re04iKo,rIwind3;aw,ed9oI;wn;agno0e,ff1g,mi2Kne,sLvI;eIul9;rIst;ge,t;aWbVcQlod9mant3pNru3TsMtI;iIoDu37;lJngI;uiA;!l;ol2ua6;eJlIo0ro2;a4ea0;n0r0;a2Xe36lKoIu0S;uIv1;ra9;aIo0;im;a3Kur0;b3rm;af5b01cVduBep5fUliTmQnOpMrLsiCtaGvI;eIol2;lop;ch;a20i2;aDiBloIoD;re,y;oIy;te,un4;eJoI;liA;an;mEv1;a4i0Ao06raud,y;ei2iMla8oKrI;ee,yI;!pt;de,mIup3;missi34po0;de,ma7ph1;aJrief,uI;g,nk;rk;mp5rk5uF;a0Dea0h0Ai09l08oKrIurta1G;a2ea7ipp3uI;mb3;ales4e04habEinci6ll03m00nIrro6;cXdUfQju8no7qu1sLtKvI;eIin4;ne,r9y;aHin2Bribu7;er2iLoli2Epi8tJuI;lt,me;itu7raH;in;d1st;eKiJoIroFu0;rm;de,gu8rm;ss;eJoI;ne;mn,n0;eIlu6ur;al,i2;buCe,men4pI;eIi3ly;l,te;eBi6u6;r4xiC;ean0iT;rcumveFte;eJirp,oI;o0p;riAw;ncIre5t1ulk;el;a02eSi6lQoPrKuI;iXrIy;st,y;aLeaKiJoad5;en;ng;stfeLtX;ke;il,l11mba0WrrMth1;eIow;ed;!coQfrie1LgPhMliLqueaKstJtrIwild1;ay;ow;th;e2tt3;a2eJoI;ld;ad;!in,ui3;me;bysEckfi8ff3tI;he;b15c0Rd0Iff0Ggree,l0Cm09n03ppZrXsQttOuMvJwaE;it;eDoI;id;rt;gIto0X;meF;aIeCraB;ch,in;pi8sJtoI;niA;aKeIi04u8;mb3rt,ss;le;il;re;g0Hi0ou0rI;an9i2;eaKly,oiFrI;ai0o2;nt;r,se;aMi0GnJtI;icipa7;eJoIul;un4y;al;ly0;aJu0;se;lga08ze;iKlI;e9oIu6;t,w;gn;ix,oI;rd;a03jNmiKoJsoI;rb;pt,rn;niIt;st1;er;ouJuC;st;rn;cLhie2knowled9quiItiva7;es4re;ce;ge;eQliOoKrJusI;e,tom;ue;mIst;moJpI;any,liA;da7;ma7;te;pt;andPduBet,i6oKsI;coKol2;ve;liArt,uI;nd;sh;de;ct;on",Person:"true0:1Q;a29b1Zc1Md1Ee18f15g13h0Ri0Qj0Nk0Jl0Gm09n06o05p00rPsItCusain bolt,v9w4xzibit,y1;anni,oko on2uji,v1;an,es;en,o;a3ednesday adams,i2o1;lfram,o0Q;ll ferrell,z khalifa;lt disn1Qr1;hol,r0G;a2i1oltai06;n dies0Zrginia wo17;lentino rossi,n goG;a4h3i2ripp,u1yra banks;lZpac shakur;ger woods,mba07;eresa may,or;kashi,t1ylor;um,ya1B;a5carlett johanss0h4i3lobodan milosevic,no2ocr1Lpider1uperm0Fwami; m0Em0E;op dogg,w whi1H;egfried,nbad;akespeaTerlock holm1Sia labeouf;ddam hussa16nt1;a cla11ig9;aAe6i5o3u1za;mi,n dmc,paul,sh limbau1;gh;bin hood,d stew16nald1thko;in0Mo;han0Yngo starr,valdo;ese witherspo0i1mbrandt;ll2nh1;old;ey,y;chmaninoff,ffi,iJshid,y roma1H;a4e3i2la16o1uff daddy;cahont0Ie;lar,p19;le,rZ;lm17ris hilt0;leg,prah winfr0Sra;a2e1iles cra1Bostradam0J; yo,l5tt06wmQ;pole0s;a5e4i2o1ubar03;by,lie5net,rriss0N;randa ju1tt romn0M;ly;rl0GssiaB;cklemo1rkov,s0ta hari,ya angelou;re;ady gaga,e1ibera0Pu;bron jam0Xch wale1e;sa;anye west,e3i1obe bryant;d cudi,efer suther1;la0P;ats,sha;a2effers0fk,k rowling,rr tolki1;en;ck the ripp0Mwaharlal nehru,y z;liTnez,ron m7;a7e5i3u1;lk hog5mphrey1sa01;! bog05;l1tl0H;de; m1dwig,nry 4;an;ile selassFlle ber4m3rrison1;! 1;ford;id,mo09;ry;ast0iannis,o1;odwPtye;ergus0lorence nightinga08r1;an1ederic chopN;s,z;ff5m2nya,ustaXzeki1;el;eril lagasse,i1;le zatop1nem;ek;ie;a6e4i2octor w1rake;ho;ck w1ego maradoC;olf;g1mi lovaOnzel washingt0;as;l1nHrth vadR;ai lNt0;a8h5lint0o1thulhu;n1olio;an,fuci1;us;on;aucKop2ristian baMy1;na;in;millo,ptain beefhe4r1;dinal wols2son1;! palmF;ey;art;a8e5hatt,i3oHro1;ck,n1;te;ll g1ng crosby;atB;ck,nazir bhut2rtil,yon1;ce;to;nksy,rack ob1;ama;l 6r3shton kutch2vril lavig8yn ra1;nd;er;chimed2istot1;le;es;capo2paci1;no;ne",Adjective:"true0:AI;1:BS;2:BI;3:BA;4:A8;5:84;6:AV;7:AN;8:AF;9:7H;A:BQ;B:AY;C:BC;D:BH;E:9Y;aA2b9Ec8Fd7We79f6Ng6Eh61i4Xj4Wk4Tl4Im41n3Po36p2Oquart7Pr2Ds1Dt14uSvOwFye29;aMeKhIiHoF;man5oFrth7G;dADzy;despreB1n w97s86;acked1UoleF;!sa6;ather1PeFll o70ste1D;!k5;nt1Ist6Ate4;aHeGiFola5T;bBUce versa,gi3Lle;ng67rsa5R;ca1gBSluAV;lt0PnLpHrGsFttermoBL;ef9Ku3;b96ge1; Hb32pGsFtiAH;ca6ide d4R;er,i85;f52to da2;a0Fbeco0Hc0Bd04e02f01gu1XheaBGiXkn4OmUnTopp06pRrNsJtHus0wF;aFiel3K;nt0rra0P;app0eXoF;ld,uS;eHi37o5ApGuF;perv06spec39;e1ok9O;en,ttl0;eFu5;cogn06gul2RlGqu84sF;erv0olv0;at0en33;aFrecede0E;id,rallel0;am0otic0;aFet;rri0tF;ch0;nFq26vers3;sur0terFv7U;eFrupt0;st0;air,inish0orese98;mploy0n7Ov97xpF;ect0lain0;eHisFocume01ue;clFput0;os0;cid0rF;!a8Scov9ha8Jlyi8nea8Gprivileg0sMwF;aFei9I;t9y;hGircumcFonvin2U;is0;aFeck0;lleng0rt0;b20ppea85ssuGttend0uthorF;iz0;mi8;i4Ara;aLeIhoHip 25oGrF;anspare1encha1i2;geth9leADp notch,rpB;rny,ugh6H;ena8DmpGrFs6U;r49tia4;eCo8P;leFst4M;nt0;a0Dc09e07h06i04ki03l01mug,nobbi4XoVpRqueami4XtKuFymb94;bHccinAi generis,pFr5;erFre7N;! dup9b,vi70;du0li7Lp6IsFurb7J;eq9Atanda9X;aKeJi16o2QrGubboFy4Q;rn;aightFin5GungS; fFfF;or7V;adfa9Pri6;lwa6Ftu82;arHeGir6NlendBot Fry;on;c3Qe1S;k5se; call0lImb9phistic16rHuFviV;ndFth1B;proof;dBry;dFub6; o2A;e60ipF;pe4shod;ll0n d7R;g2HnF;ceEg6ist9;am3Se9;co1Zem5lfFn6Are7; suf4Xi43;aGholFient3A;ar5;rlFt4A;et;cr0me,tisfac7F;aOeIheumatoBiGoF;bu8Ztt7Gy3;ghtFv3; 1Sf6X;cJdu8PlInown0pro69sGtF;ard0;is47oF;lu2na1;e1Suc45;alcit8Xe1ondi2;bBci3mpa1;aSePicayu7laOoNrGuF;bl7Tnjabi;eKiIoF;b7VfGmi49pFxi2M;er,ort81;a7uD;maFor,sti7va2;!ry;ciDexis0Ima2CpaB;in55puli8G;cBid;ac2Ynt 3IrFti2;ma40tFv7W;!i3Z;i2YrFss7R;anoBtF; 5XiF;al,s5V;bSffQkPld OnMrLth9utKverF;!aIbMdHhGni75seas,t,wF;ei74rou74;a63e7A;ue;ll;do1Ger,si6A;d3Qg2Aotu5Z; bFbFe on o7g3Uli7;oa80;fashion0school;!ay; gua7XbFha5Uli7;eat;eHligGsF;ce7er0So1C;at0;diFse;a1e1;aOeNiMoGuF;anc0de; moEnHrthFt6V;!eFwe7L;a7Krn;chaGdescri7Iprof30sF;top;la1;ght5;arby,cessa4ighbor5wlyw0xt;k0usiaFv3;ti8;aQeNiLoHuF;dIltiF;facet0p6;deHlGnFot,rbBst;ochro4Xth5;dy;rn,st;ddle ag0nF;dbloZi,or;ag9diocEga,naGrFtropolit4Q;e,ry;ci8;cIgenta,inHj0Fkeshift,mmGnFri4Oscu61ver18;da5Dy;ali4Lo4U;!stream;abEho;aOeLiIoFumberi8;ngFuti1R;stan3RtF;erm,i4H;ghtGteraF;l,ry,te;heart0wei5O;ft JgFss9th3;al,eFi0M;nda4;nguBps0te5;apGind5noF;wi8;ut;ad0itte4uniW;ce co0Hgno6Mll0Cm04nHpso 2UrF;a2releF;va1; ZaYcoWdReQfOgrNhibi4Ri05nMoLsHtFvalu5M;aAeF;nDrdepe2K;a7iGolFuboI;ub6ve1;de,gF;nifica1;rdi5N;a2er;own;eriIiLluenVrF;ar0eq5H;pt,rt;eHiGoFul1O;or;e,reA;fiFpe26termi5E;ni2;mpFnsideCrreA;le2;ccuCdeq5Ene,ppr4J;fFsitu,vitro;ro1;mJpF;arHeGl15oFrop9;li2r11;n2LrfeA;ti3;aGeFi18;d4BnD;tuE;egGiF;c0YteC;al,iF;tiF;ma2;ld;aOelNiLoFuma7;a4meInHrrGsFur5;ti6;if4E;e58o3U; ma3GsF;ick;ghfalut2HspF;an49;li00pf33;i4llow0ndGrdFtM; 05coEworki8;sy,y;aLener44iga3Blob3oKrGuF;il1Nng ho;aFea1Fizzl0;cGtF;ef2Vis;ef2U;ld3Aod;iFuc2D;nf2R;aVeSiQlOoJrF;aGeFil5ug3;q43tf2O;gFnt3S;i6ra1;lk13oHrF; keeps,eFge0Vm9tu41;g0Ei2Ds3R;liF;sh;ag4Mowe4uF;e1or45;e4nF;al,i2;d Gmini7rF;ti6ve1;up;bl0lDmIr Fst pac0ux;oGreacF;hi8;ff;ed,ili0R;aXfVlTmQnOqu3rMthere3veryday,xF;aApIquisi2traHuF;be48lF;ta1;!va2L;edRlF;icF;it;eAstF;whi6; Famor0ough,tiE;rou2sui2;erGiF;ne1;ge1;dFe2Aoq34;er5;ficF;ie1;g9sF;t,ygF;oi8;er;aWeMiHoGrFue;ea4owY;ci6mina1ne,r31ti8ubQ;dact2Jfficult,m,sGverF;ge1se;creGePjoi1paCtF;a1inA;et,te; Nadp0WceMfiLgeneCliJmuEpeIreliAsGvoF;id,ut;pFtitu2ul1L;eCoF;nde1;ca2ghF;tf13;a1ni2;as0;facto;i5ngero0I;ar0Ce09h07i06l05oOrIuF;rmudgeon5stoma4teF;sy;ly;aIeHu1EystalF; cleFli7;ar;epy;fFv17z0;ty;erUgTloSmPnGrpoCunterclVveFy;rt;cLdJgr21jIsHtrF;aFi2;dic0Yry;eq1Yta1;oi1ug3;escenFuN;di8;a1QeFiD;it0;atoDmensuCpF;ass1SulF;so4;ni3ss3;e1niza1;ci1J;ockwiD;rcumspeAvil;eFintzy;e4wy;leGrtaF;in;ba2;diac,ef00;a00ePiLliJoGrFuck nak0;and new,isk,on22;gGldface,naF; fi05fi05;us;nd,tF;he;gGpartisFzarE;an;tiF;me;autifOhiNlLnHsFyoN;iWtselF;li8;eGiFt;gn;aFfi03;th;at0oF;v0w;nd;ul;ckwards,rF;e,rT; priori,b13c0Zd0Tf0Ng0Ihe0Hl09mp6nt06pZrTsQttracti0MuLvIwF;aGkF;wa1B;ke,re;ant garGeraF;ge;de;diIsteEtF;heFoimmu7;nt07;re;to4;hGlFtu2;eep;en;bitIchiv3roHtF;ifiFsy;ci3;ga1;ra4;ry;pFt;aHetizi8rF;oprF;ia2;llFre1;ed,i8;ng;iquFsy;at0e;ed;cohKiJkaHl,oGriFterX;ght;ne,of;li7;ne;ke,ve;olF;ic;ad;ain07gressiIi6rF;eeF;ab6;le;ve;fGraB;id;ectGlF;ue1;ioF;na2; JaIeGvF;erD;pt,qF;ua2;ma1;hoc,infinitum;cuCquiGtu3u2;al;esce1;ra2;erSjeAlPoNrKsGuF;nda1;e1olu2trF;aAuD;se;te;eaGuF;pt;st;aFve;rd;aFe;ze;ct;ra1;nt",Pronoun:"trueelle,h3i2me,she,th0us,we,you;e0ou;e,m,y;!l,t;e,im",Preposition:"trueaPbMcLdKexcept,fIinGmid,notwithstandiWoDpXqua,sCt7u4v2w0;/o,hereSith0;! whHin,oW;ersus,i0;a,s a vis;n1p0;!on;like,til;h1ill,oward0;!s;an,ereby,r0;ough0u;!oM;ans,ince,o that,uch G;f1n0ut;!to;!f;! 0to;effect,part;or,r0;om;espite,own,u3;hez,irca;ar1e0oBy;sides,tween;ri7;bo8cross,ft7lo6m4propos,round,s1t0;!op;! 0;a whole,long 0;as;id0ong0;!st;ng;er;ut",SportsTeam:"true0:18;1:1E;2:1D;3:14;a1Db15c0Sd0Kfc dallas,g0Ihouston 0Hindiana0Gjacksonville jagua0k0El0Am01new UoRpKqueens parkJreal salt lake,sBt6utah jazz,vancouver whitecaps,w4yW;ashington 4h10;natio1Mredski2wizar0W;ampa bay 7e6o4;ronto 4ttenham hotspur;blue ja0Mrapto0;nnessee tita2xasD;buccanee0ra0K;a8eattle 6porting kansas0Wt4; louis 4oke0V;c1Drams;marine0s4;eah13ounH;cramento Rn 4;antonio spu0diego 4francisco gJjose earthquak1;char08paB; ran07;a9h6ittsburgh 5ortland t4;imbe0rail blaze0;pirat1steele0;il4oenix su2;adelphia 4li1;eagl1philNunE;dr1;akland 4klahoma city thunder,rlando magic;athle0Lrai4;de0;england 8orleans 7york 4;g5je3knYme3red bul0Xy4;anke1;ian3;pelica2sain3;patrio3revolut4;ion;anchEeAi4ontreal impact;ami 8lwaukee b7nnesota 4;t5vi4;kings;imberwolv1wi2;rewe0uc0J;dolphi2heat,marli2;mphis grizz4ts;li1;a6eic5os angeles 4;clippe0dodFlaB;esterV; galaxy,ke0;ansas city 4nF;chiefs,roya0D; pace0polis col3;astr05dynamo,rocke3texa2;olden state warrio0reen bay pac4;ke0;allas 8e4i04od6;nver 6troit 4;lio2pisto2ti4;ge0;broncYnugge3;cowbo5maver4;icZ;ys;arEelLhAincinnati 8leveland 6ol4;orado r4umbus crew sc;api7ocki1;brow2cavalie0guar4in4;dia2;bengaVre4;ds;arlotte horAicago 4;b5cubs,fire,wh4;iteB;ea0ulQ;diff4olina panthe0; city;altimore Alackburn rove0oston 6rooklyn 4uffalo bilN;ne3;ts;cel5red4; sox;tics;rs;oriol1rave2;rizona Ast8tlanta 4;brav1falco2h4;awA;ns;es;on villa,r4;os;c6di4;amondbac4;ks;ardi4;na4;ls",Unit:"truea07b04cXdWexVfTgRhePinYjoule0BkMlJmDnan08oCp9quart0Bsq ft,t7volts,w6y2ze310;g,s;c,f,n;dVear1o0;ttR; 0s 0;old;att,b;erNon0;!ne02;ascals,e1i0;cXnt00;rcent,tJ;hms,unceY;/s,e4i0m,,;/h,cro2l0;e0liK;!;grLsR;gCtJ;it1u0;menQx;erPreP;b5elvins,ilo1m0notO;/h,ph,;!byGgrEmCs;ct0rtzL;aJogrC;allonJb0ig3rB;ps;a0emtEl oz,t4;hrenheit,radG;aby9;eci3m1;aratDe1m0oulombD;,;lsius,nti0;gr2lit1m0;et0;er8;am7;b1y0;te5;l,ps;c2tt0;os0;econd1;re0;!s","Noun|Gerund":"true0:3O;1:3M;2:3N;3:3D;4:32;5:2V;6:3E;7:3K;8:36;9:3J;A:3B;a3Pb37c2Jd27e23f1Vg1Sh1Mi1Ij1Gk1Dl18m13n11o0Wp0Pques0Sr0EsTtNunderMvKwFyDzB;eroi0oB;ni0o3P;aw2eB;ar2l3;aEed4hispe5i5oCrB;ap8est3i1;n0ErB;ki0r31;i1r2s9tc9;isualizi0oB;lunt1Vti0;stan4ta6;aFeDhin6iCraBy8;c6di0i2vel1M;mi0p8;aBs1;c9si0;l6n2s1;aUcReQhOiMkatKl2Wmo6nowJpeItFuCwB;ea5im37;b35f0FrB;fi0vB;e2Mi2J;aAoryt1KrCuB;d2KfS;etc9ugg3;l3n4;bCi0;ebBi0;oar4;gnBnAt1;a3i0;ip8oB;p8rte2u1;a1r27t1;hCo5reBulp1;a2Qe2;edu3oo3;i3yi0;aKeEi4oCuB;li0n2;oBwi0;fi0;aFcEhear7laxi0nDpor1sB;pon4tructB;r2Iu5;de5;or4yc3;di0so2;p8ti0;aFeacek20laEoCrBublis9;a1Teten4in1oces7;iso2siB;tio2;n2yi0;ckaAin1rB;ki0t1O;fEpeDrganiCvB;erco24ula1;si0zi0;ni0ra1;fe5;avi0QeBur7;gotia1twor6;aDeCi2oB;de3nito5;a2dita1e1ssaA;int0XnBrke1;ifUufactu5;aEeaDiBodAyi0;cen7f1mi1stB;e2i0;r2si0;n4ug9;iCnB;ea4it1;c6l3;ogAuB;dAgg3stif12;ci0llust0VmDnBro2;nova1sp0NterBven1;ac1vie02;agi2plo4;aDea1iCoBun1;l4w3;ki0ri0;nd3rB;roWvB;es1;aCene0Lli4rBui4;ee1ie0N;rde2the5;aHeGiDlCorBros1un4;e0Pmat1;ir1oo4;gh1lCnBs9;anZdi0;i0li0;e3nX;r0Zscina1;a1du01nCxB;erci7plo5;chan1di0ginB;ee5;aLeHiGoub1rCum8wB;el3;aDeCiB;bb3n6vi0;a0Qs7;wi0;rTscoDvi0;ba1coZlBvelo8;eCiB;ve5;ga1;nGti0;aVelebUhSlPoDrBur3yc3;aBos7yi0;f1w3;aLdi0lJmFnBo6pi0ve5;dDsCvinB;ci0;trBul1;uc1;muniDpB;lBo7;ai2;ca1;lBo5;ec1;c9ti0;ap8eaCimToBubT;ni0t9;ni0ri0;aBee5;n1t1;ra1;m8rCs1te5;ri0;vi0;aPeNitMlLoGrDuB;dge1il4llBr8;yi0;an4eat9oadB;cas1;di0;a1mEokB;i0kB;ee8;pi0;bi0;es7oa1;c9i0;gin2lonAt1;gi0;bysit1c6ki0tt3;li0;ki0;bando2cGdverti7gi0pproac9rgDssuCtB;trac1;mi0;ui0;hi0;si0;coun1ti0;ti0;ni0;ng",PhrasalVerb:"true0:92;1:96;2:8H;3:8V;4:8A;5:83;6:85;7:98;8:90;9:8G;A:8X;B:8R;C:8U;D:8S;E:70;F:97;G:8Y;H:81;I:7H;J:79;a9Fb7Uc6Rd6Le6Jf5Ig50h4Biron0j47k40l3Em31n2Yo2Wp2Cquiet Hr1Xs0KtZuXvacuu6QwNyammerBzK;ero Dip LonK;e0k0;by,ov9up;aQeMhLiKor0Mrit19;mp0n3Fpe0r5s5;ackAeel Di0S;aLiKn33;gh 3Wrd0;n Dr K;do1in,oJ;it 79k5lk Lrm 69sh Kt83v60;aw3do1o7up;aw3in,oC;rgeBsK;e 2herE;a00eYhViRoQrMuKypP;ckErn K;do1in,oJup;aLiKot0y 30;ckl7Zp F;ck HdK;e 5Y;n7Wp 3Es5K;ck MdLe Kghten 6me0p o0Rre0;aw3ba4do1in,up;e Iy 2;by,oG;ink Lrow K;aw3ba4in,up;ba4ov9up;aKe 77ll62;m 2r 5M;ckBke Llk K;ov9shit,u47;aKba4do1in,leave,o4Dup;ba4ft9pa69w3;a0Vc0Te0Mh0Ii0Fl09m08n07o06p01quar5GtQuOwK;earMiK;ngLtch K;aw3ba4o8K; by;cKi6Bm 2ss0;k 64;aReQiPoNrKud35;aigh2Det75iK;ke 7Sng K;al6Yup;p Krm2F;by,in,oG;c3Ln3Lr 2tc4O;p F;c3Jmp0nd LrKveAy 2O;e Ht 2L;ba4do1up;ar3GeNiMlLrKurB;ead0ingBuc5;a49it 6H;c5ll o3Cn 2;ak Fe1Xll0;a3Bber 2rt0und like;ap 5Vow Duggl5;ash 6Noke0;eep NiKow 6;cLp K;o6Dup;e 68;in,oK;ff,v9;de19gn 4NnKt 6Gz5;gKkE; al6Ale0;aMoKu5W;ot Kut0w 7M;aw3ba4f48oC;c2WdeEk6EveA;e Pll1Nnd Orv5tK; Ktl5J;do1foLin,o7upK;!on;ot,r5Z;aw3ba4do1in,o33up;oCto;al66out0rK;ap65ew 6J;ilAv5;aXeUiSoOuK;b 5Yle0n Kstl5;aLba4do1inKo2Ith4Nu5P;!to;c2Xr8w3;ll Mot LpeAuK;g3Ind17;a2Wf3Po7;ar8in,o7up;ng 68p oKs5;ff,p18;aKelAinEnt0;c6Hd K;o4Dup;c27t0;aZeYiWlToQrOsyc35uK;ll Mn5Kt K;aKba4do1in,oJto47up;pa4Dw3;a3Jdo1in,o21to45up;attleBess KiNop 2;ah2Fon;iLp Kr4Zu1Gwer 6N;do1in,o6Nup;nt0;aLuK;gEmp 6;ce u20y 6D;ck Kg0le 4An 6p5B;oJup;el 5NncilE;c53ir 39n0ss MtLy K;ba4oG; Hc2R;aw3ba4in,oJ;pKw4Y;e4Xt D;aLerd0oK;dAt53;il Hrrow H;aTeQiPoLuK;ddl5ll I;c1FnkeyMp 6uthAve K;aKdo1in,o4Lup;l4Nw3; wi4K;ss0x 2;asur5e3SlLss K;a21up;t 6;ke Ln 6rKs2Ax0;k 6ryA;do,fun,oCsure,up;a02eViQoLuK;ck0st I;aNc4Fg MoKse0;k Kse4D;aft9ba4do1forw37in56o0Zu46;in,oJ;d 6;e NghtMnLsKve 00;ten F;e 2k 2; 2e46;ar8do1in;aMt LvelK; oC;do1go,in,o7up;nEve K;in,oK;pKut;en;c5p 2sh LtchBughAy K;do1o59;in4Po7;eMick Lnock K;do1oCup;oCup;eLy K;in,up;l Ip K;aw3ba4do1f04in,oJto,up;aMoLuK;ic5mpE;ke3St H;c43zz 2;a01eWiToPuK;nLrrKsh 6;y 2;keLt K;ar8do1;r H;lKneErse3K;d Ke 2;ba4dKfast,o0Cup;ear,o1;de Lt K;ba4on,up;aw3o7;aKlp0;d Ml Ir Kt 2;fKof;rom;f11in,o03uW;cPm 2nLsh0ve Kz2P;at,it,to;d Lg KkerP;do1in,o2Tup;do1in,oK;ut,v9;k 2;aZeTive Rloss IoMrLunK; f0S;ab hold,in43ow 2U; Kof 2I;aMb1Mit,oLr8th1IuK;nd9;ff,n,v9;bo7ft9hQw3;aw3bKdo1in,oJrise,up,w3;a4ir2H;ar 6ek0t K;aLb1Fdo1in,oKr8up;ff,n,ut,v9;cLhKl2Fr8t,w3;ead;ross;d aKng 2;bo7;a0Ee07iYlUoQrMuK;ck Ke2N;ar8up;eLighten KownBy 2;aw3oG;eKshe27; 2z5;g 2lMol Krk I;aKwi20;bo7r8;d 6low 2;aLeKip0;sh0;g 6ke0mKrKtten H;e F;gRlPnNrLsKzzle0;h F;e Km 2;aw3ba4up;d0isK;h 2;e Kl 1T;aw3fPin,o7;ht ba4ure0;ePnLsK;s 2;cMd K;fKoG;or;e D;d04l 2;cNll Krm0t1G;aLbKdo1in,o09sho0Eth08victim;a4ehi2O;pa0C;e K;do1oGup;at Kdge0nd 12y5;in,o7up;aOi1HoNrK;aLess 6op KuN;aw3b03in,oC;gBwB; Ile0ubl1B;m 2;a0Ah05l02oOrLut K;aw3ba4do1oCup;ackBeep LoKy0;ss Dwd0;by,do1in,o0Uup;me NoLuntK; o2A;k 6l K;do1oG;aRbQforOin,oNtKu0O;hLoKrue;geth9;rough;ff,ut,v9;th,wK;ard;a4y;paKr8w3;rt;eaLose K;in,oCup;n 6r F;aNeLiK;ll0pE;ck Der Kw F;on,up;t 2;lRncel0rOsMtch LveE; in;o1Nup;h Dt K;doubt,oG;ry LvK;e 08;aw3oJ;l Km H;aLba4do1oJup;ff,n,ut;r8w3;a0Ve0MiteAl0Fo04rQuK;bblNckl05il0Dlk 6ndl05rLsKtMy FzzA;t 00;n 0HsK;t D;e I;ov9;anWeaUiLush K;oGup;ghQng K;aNba4do1forMin,oLuK;nd9p;n,ut;th;bo7lKr8w3;ong;teK;n 2;k K;do1in,o7up;ch0;arTg 6iRn5oPrNssMttlLunce Kx D;aw3ba4;e 6; ar8;e H;do1;k Dt 2;e 2;l 6;do1up;d 2;aPeed0oKurt0;cMw K;aw3ba4do1o7up;ck;k K;in,oC;ck0nk0stA; oQaNef 2lt0nd K;do1ov9up;er;up;r Lt K;do1in,oCup;do1o7;ff,nK;to;ck Pil0nMrgLsK;h D;ainBe D;g DkB; on;in,o7;aw3do1in,oCup;ff,ut;ay;ct FdQir0sk MuctionA; oG;ff;ar8o7;ouK;nd; o7;d K;do1oKup;ff,n;wn;o7up;ut",ProperNoun:"trueabid,barbie,c3e2f1iron maiden,kirby,m0nis,riel;cgill,ercedes,issy;lorence,ranco;lmo,uro;atalina,hristi","Person|Place":"truea8d6h4jordan,k3orlando,s1vi0;ctor9rgin9;a0ydney;lvador,mara,ntia4;ent,obe;amil0ous0;ton;arw2ie0;go;lexandr1ust0;in;ia",LastName:"true0:BR;1:BF;2:B5;3:BH;4:AX;5:9Y;6:B6;7:BK;8:B0;9:AV;A:AL;B:8Q;C:8G;D:7K;E:BM;F:AH;aBDb9Zc8Wd88e81f7Kg6Wh64i60j5Lk4Vl4Dm39n2Wo2Op25quispe,r1Ls0Pt0Ev03wTxSyKzG;aIhGimmerm6A;aGou,u;ng,o;khar5ytsE;aKeun9BiHoGun;koya32shiBU;!lG;diGmaz;rim,z;maGng;da,g52mo83sGzaC;aChiBV;iao,u;aLeJiHoGright,u;jcA5lff,ng;lGmm0nkl0sniewsC;kiB1liams33s3;bGiss,lt0;b,er,st0;a6Vgn0lHtG;anabe,s3;k0sh,tG;e2Non;aLeKiHoGukD;gt,lk5roby5;dHllalGnogr3Kr1Css0val3S;ba,ob1W;al,ov4;lasHsel8W;lJn dIrgBEsHzG;qu7;ilyEqu7siljE;en b6Aijk,yk;enzueAIverde;aPeix1VhKi2j8ka43oJrIsui,uG;om5UrG;c2n0un1;an,emblA7ynisC;dorAMlst3Km4rrAth;atch0i8UoG;mHrG;are84laci79;ps3sG;en,on;hirDkah9Mnaka,te,varA;a06ch01eYhUiRmOoMtIuHvGzabo;en9Jobod3N;ar7bot4lliv2zuC;aIeHoG;i7Bj4AyanAB;ele,in2FpheBvens25;l8rm0;kol5lovy5re7Tsa,to,uG;ng,sa;iGy72;rn5tG;!h;l71mHnGrbu;at9cla9Egh;moBo7M;aIeGimizu;hu,vchG;en8Luk;la,r1G;gu9infe5YmGoh,pulveA7rra5P;jGyG;on5;evi6iltz,miHneid0roed0uGwarz;be3Elz;dHtG;!t,z;!t;ar4Th8ito,ka4OlJnGr4saCto,unde19v4;ch7dHtGz;a5Le,os;b53e16;as,ihDm4Po0Y;aVeSiPoJuHyG;a6oo,u;bio,iz,sG;so,u;bKc8Fdrigue67ge10j9YmJosevelt,sItHux,wG;e,li6;a9Ch;enb4Usi;a54e4L;erts15i93;bei4JcHes,vGzzo;as,e9;ci,hards12;ag2es,iHut0yG;es,nol5N;s,t0;dImHnGsmu97v6C;tan1;ir7os;ic,u;aUeOhMiJoHrGut8;asad,if6Zochazk27;lishc2GpGrti72u10we76;e3Aov51;cHe45nG;as,to;as70hl0;aGillips;k,m,n6I;a3Hde3Wete0Bna,rJtG;ersHrovGters54;!a,ic;!en,on;eGic,kiBss3;i9ra,tz,z;h86k,padopoulIrk0tHvG;ic,l4N;el,te39;os;bMconn2Ag2TlJnei6PrHsbor6XweBzG;dem7Rturk;ella4DtGwe6N;ega,iz;iGof7Hs8I;vGyn1R;ei9;aSri1;aPeNiJoGune50ym2;rHvGwak;ak4Qik5otn66;odahl,r4S;cholsZeHkolGls4Jx3;ic,ov84;ls1miG;!n1;ils3mG;co4Xec;gy,kaGray2sh,var38;jiGmu9shiG;ma;a07c04eZiWoMuHyeG;rs;lJnIrGssoli6S;atGp03r7C;i,ov4;oz,te58;d0l0;h2lOnNo0RrHsGza1A;er,s;aKeJiIoz5risHtG;e56on;!on;!n7K;au,i9no,t5J;!lA;r1Btgome59;i3El0;cracFhhail5kkeHlG;l0os64;ls1;hmeJiIj30lHn3Krci0ssiGyer2N;!er;n0Po;er,j0;dDti;cartHlG;aughl8e2;hy;dQe7Egnu68i0jer3TkPmNnMrItHyG;er,r;ei,ic,su21thews;iHkDquAroqu8tinG;ez,s;a5Xc,nG;!o;ci5Vn;a5UmG;ad5;ar5e6Kin1;rig77s1;aVeOiLoJuHyG;!nch;k4nGo;d,gu;mbarGpe3Fvr4we;di;!nGu,yana2B;coln,dG;b21holm,strom;bedEfeKhIitn0kaHn8rGw35;oy;!j;m11tG;in1on1;bvGvG;re;iGmmy,ng,rs2Qu,voie,ws3;ne,t1F;aZeYh2iWlUnez50oNrJuHvar2woG;k,n;cerGmar68znets5;a,o34;aHem0isGyeziu;h23t3O;m0sni4Fus3KvG;ch4O;bay57ch,rh0Usk16vaIwalGzl5;czGsC;yk;cIlG;!cGen4K;huk;!ev4ic,s;e8uiveG;rt;eff0kGl4mu9nnun1;ucF;ll0nnedy;hn,llKminsCne,pIrHstra3Qto,ur,yGzl5;a,s0;j0Rls22;l2oG;or;oe;aPenOha6im14oHuG;ng,r4;e32hInHrge32u6vG;anD;es,ss3;anHnsG;en,on,t3;nesGs1R;en,s1;kiBnings,s1;cJkob4EnGrv0E;kDsG;en,sG;en0Ion;ks3obs2A;brahimDglesi5Nke5Fl0Qno07oneIshikHto,vanoG;u,v54;awa;scu;aVeOiNjaltal8oIrist50uG;!aGb0ghAynh;m2ng;a6dz4fIjgaa3Hk,lHpUrGwe,x3X;ak1Gvat;mAt;er,fm3WmG;ann;ggiBtchcock;iJmingw4BnHrGss;nand7re9;deGriks1;rs3;kkiHnG;on1;la,n1;dz4g1lvoQmOns0ZqNrMsJuIwHyG;asFes;kiB;g1ng;anHhiG;mo14;i,ov0J;di6p0r10t;ue;alaG;in1;rs1;aVeorgUheorghe,iSjonRoLrJuGw3;errGnnar3Co,staf3Ctierr7zm2;a,eG;ro;ayli6ee2Lg4iffithGub0;!s;lIme0UnHodGrbachE;e,m2;calvAzale0S;dGubE;bGs0E;erg;aj,i;bs3l,mGordaO;en7;iev3U;gnMlJmaIndFo,rGsFuthi0;cGdn0za;ia;ge;eaHlG;agh0i,o;no;e,on;aVerQiLjeldsted,lKoIrHuG;chs,entAji41ll0;eem2iedm2;ntaGrt8urni0wl0;na;emi6orA;lipIsHtzgeraG;ld;ch0h0;ovG;!ic;hatDnanIrG;arGei9;a,i;deY;ov4;b0rre1D;dKinsJriksIsGvaB;cob3GpGtra3D;inoza,osiQ;en,s3;te8;er,is3warG;ds;aXePiNjurhuMoKrisco15uHvorakG;!oT;arte,boHmitru,nn,rGt3C;and,ic;is;g2he0Omingu7nErd1ItG;to;us;aGcki2Hmitr2Ossanayake,x3;s,z; JbnaIlHmirGrvisFvi,w2;!ov4;gado,ic;th;bo0groot,jo6lHsilGvriA;va;a cruz,e3uG;ca;hl,mcevsCnIt2WviG;dGes,s;ov,s3;ielsGku22;!en;ki;a0Be06hRiobQlarkPoIrGunningh1H;awfo0RivGuz;elli;h1lKntJoIrGs2Nx;byn,reG;a,ia;ke,p0;i,rer2K;em2liB;ns;!e;anu;aOeMiu,oIristGu6we;eGiaG;ns1;i,ng,p9uHwGy;!dH;dGng;huJ;!n,onGu6;!g;kJnIpm2ttHudhGv7;ry;erjee,o14;!d,g;ma,raboG;rty;bJl0Cng4rG;eghetHnG;a,y;ti;an,ota1C;cerAlder3mpbeLrIstGvadi0B;iGro;llo;doHl0Er,t0uGvalho;so;so,zo;ll;a0Fe01hYiXlUoNrKuIyG;rLtyG;qi;chan2rG;ke,ns;ank5iem,oGyant;oks,wG;ne;gdan5nIruya,su,uchaHyKziG;c,n5;rd;darGik;enG;ko;ov;aGond15;nco,zG;ev4;ancFshw16;a08oGuiy2;umGwmG;ik;ckRethov1gu,ktPnNrG;gJisInG;ascoGds1;ni;ha;er,mG;anG;!n;gtGit7nP;ss3;asF;hi;er,hG;am;b4ch,ez,hRiley,kk0ldw8nMrIshHtAu0;es;ir;bInHtlGua;ett;es,i0;ieYosa;dGik;a9yoG;padhyG;ay;ra;k,ng;ic;bb0Acos09d07g04kht05lZnPrLsl2tJyG;aHd8;in;la;chis3kiG;ns3;aImstro6sl2;an;ng;ujo,ya;dJgelHsaG;ri;ovG;!a;ersJov,reG;aGjEws;ss1;en;en,on,s3;on;eksejEiyEmeiIvG;ar7es;ez;da;ev;arwHuilG;ar;al;ams,l0;er;ta;as",Ordinal:"trueeBf7nin5s3t0zeroE;enDhir1we0;lfCn7;d,t3;e0ixt8;cond,vent7;et0th;e6ie7;i2o0;r0urt3;tie4;ft1rst;ight0lev1;e0h,ie1;en0;th",Cardinal:"truebEeBf5mEnine7one,s4t0zero;en,h2rDw0;e0o;lve,n5;irt6ousands,ree;even2ix2;i3o0;r1ur0;!t2;ty;ft0ve;e2y;ight0lev1;!e0y;en;illions",Multiple:"trueb3hundred,m3qu2se1t0;housand,r2;pt1xt1;adr0int0;illion",City:"true0:74;1:61;2:6G;3:6J;4:5S;a68b53c4Id48e44f3Wg3Hh39i31j2Wk2Fl23m1Mn1Co19p0Wq0Ur0Os05tRuQvLwDxiBy9z5;a7h5i4Muri4O;a5e5ongsh0;ng3H;greb,nzib5G;ang2e5okoha3Sunfu;katerin3Hrev0;a5n0Q;m5Hn;arsBeAi6roclBu5;h0xi,zh5P;c7n5;d5nipeg,terth4;hoek,s1L;hi5Zkl3A;l63xford;aw;a8e6i5ladivost5Molgogr6L;en3lni6S;ni22r5;o3saill4N;lenc4Wncouv3Sr3ughn;lan bat1Crumqi,trecht;aFbilisi,eEheDiBo9r7u5;l21n63r5;in,ku;i5ondh62;es51poli;kyo,m2Zron1Pulo5;n,uS;an5jua3l2Tmisoa6Bra3;j4Tshui; hag62ssaloni2H;gucigal26hr0l av1U;briz,i6llinn,mpe56ng5rtu,shk2R;i3Esh0;an,chu1n0p2Eyu0;aEeDh8kopje,owe1Gt7u5;ra5zh4X;ba0Ht;aten is55ockholm,rasbou67uttga2V;an8e6i5;jiazhua1llo1m5Xy0;f50n5;ya1zh4H;gh3Kt4Q;att45o1Vv44;cramen16int ClBn5o paulo,ppo3Rrajevo; 7aa,t5;a 5o domin3E;a3fe,m1M;antonio,die3Cfrancisco,j5ped3Nsalvad0J;o5u0;se;em,t lake ci5Fz25;lou58peters24;a9e8i6o5;me,t59;ga,o5yadh;! de janei3F;cife,ims,nn3Jykjavik;b4Sip4lei2Inc2Pwalpindi;ingdao,u5;ez2i0Q;aFeEhDiCo9r7u6yong5;ya1;eb59ya1;a5etor3M;g52to;rt5zn0; 5la4Co;au prin0Melizabe24sa03;ls3Prae5Atts26;iladelph3Gnom pe1Aoenix;ki1r21tah tik3E;dua,lerYnaji,r4Ot5;na,r32;ak44des0Km1Mr6s5ttawa;a3Vlo;an,d06;a7ew5ing2Fovosibir1Jyc; 5cast36;del24orlea44taip14;g8iro4Wn5pl2Wshv33v0;ch6ji1t5;es,o1;a1o1;a6o5p4;ya;no,sa0W;aEeCi9o6u5;mb2Ani26sc3Y;gadishu,nt6s5;c13ul;evideo,pelli1Rre2Z;ami,l6n14s5;kolc,sissauga;an,waukee;cca,d5lbour2Mmph41ndo1Cssi3;an,ell2Xi3;cau,drAkass2Sl9n8r5shh4A;aca6ib5rakesh,se2L;or;i1Sy;a4EchFdal0Zi47;mo;id;aDeAi8o6u5vSy2;anMckn0Odhia3;n5s angel26;d2g bea1N;brev2Be3Lma5nz,sb2verpo28;!ss27; ma39i5;c5pzig;est16; p6g5ho2Wn0Cusan24;os;az,la33;aHharFiClaipeBo9rak0Du7y5;iv,o5;to;ala lump4n5;mi1sh0;hi0Hlka2Xpavog4si5wlo2;ce;da;ev,n5rkuk;gst2sha5;sa;k5toum;iv;bHdu3llakuric0Qmpa3Fn6ohsiu1ra5un1Iwaguc0Q;c0Pj;d5o,p4;ah1Ty;a7e6i5ohannesV;l1Vn0;dd36rusalem;ip4k5;ar2H;bad0mph1OnArkutUs7taXz5;mir,tapala5;pa;fah0l6tanb5;ul;am2Zi2H;che2d5;ianap2Mo20;aAe7o5yder2W; chi mi5ms,nolulu;nh;f6lsin5rakli2;ki;ei;ifa,lifax,mCn5rb1Dva3;g8nov01oi;aFdanEenDhCiPlasgBo9raz,u5;a5jr23;dal6ng5yaquil;zh1J;aja2Oupe;ld coa1Bthen5;bu2S;ow;ent;e0Uoa;sk;lw7n5za;dhi5gt1E;nag0U;ay;aisal29es,o8r6ukuya5;ma;ankfu5esno;rt;rt5sh0; wor6ale5;za;th;d5indhov0Pl paso;in5mont2;bur5;gh;aBe8ha0Xisp4o7resd0Lu5;b5esseldorf,nkirk,rb0shanbe;ai,l0I;ha,nggu0rtmu13;hradSl6nv5troit;er;hi;donghIe6k09l5masc1Zr es sala1KugavpiY;i0lU;gu,je2;aJebu,hAleve0Vo5raio02uriti1Q;lo7n6penhag0Ar5;do1Ok;akKst0V;gUm5;bo;aBen8i6ongqi1ristchur5;ch;ang m7ca5ttago1;go;g6n5;ai;du,zho1;ng5ttogr14;ch8sha,zh07;gliari,i9lga8mayenJn6pe town,r5tanO;acCdiff;ber1Ac5;un;ry;ro;aWeNhKirmingh0WoJr9u5;chareTdapeTenos air7r5s0tu0;g5sa;as;es;a9is6usse5;ls;ba6t5;ol;ne;sil8tisla7zzav5;il5;le;va;ia;goZst2;op6ubaneshw5;ar;al;iCl9ng8r5;g6l5n;in;en;aluru,hazi;fa6grade,o horizon5;te;st;ji1rut;ghd0BkFn9ot8r7s6yan n4;ur;el,r07;celo3i,ranquil09;ou;du1g6ja lu5;ka;alo6k5;ok;re;ng;ers5u;field;a05b02cc01ddis aba00gartaZhmedXizawl,lSmPnHqa00rEsBt7uck5;la5;nd;he7l5;an5;ta;ns;h5unci2;dod,gab5;at;li5;ngt2;on;a8c5kaOtwerp;hora6o3;na;ge;h7p5;ol5;is;eim;aravati,m0s5;terd5;am; 7buquerq6eppo,giers,ma5;ty;ue;basrah al qadim5mawsil al jadid5;ah;ab5;ad;la;ba;ra;idj0u dha5;bi;an;lbo6rh5;us;rg",Region:"true0:2K;1:2Q;2:2H;3:2B;a2Ob2Bc1Xd1Ses1Rf1Pg1Kh1Gi1Bj17k12l0Zm0On06o04pYqVrSsJtEuBverAw6y4zacatec2S;akut0o0Cu4;cat2k06;a5est 4isconsin,yomi1K;bengal,virgin0;rwick3shington4;! dc;acruz,mont;dmurt0t4;ah,tar4; 2La0Y;a6e5laxca1Rripu1Xu4;scaEva;langa1nnessee,x2F;bas0Wm4smOtar25;aulip2Dil nadu;a9i7o5taf12u4ylh1F;ffZrr05s1A;me1Cno1Quth 4;cWdV;ber0c4kkim,naloa;hu2ily;n5skatchew2xo4;ny; luis potosi,ta catari1;a4hodeA;j4ngp08;asth2shahi;ingh25u4;e4intana roo;bec,en6retaro;ara8e6rince edward4unjab; i4;sl0C;i,nnsylv4rnambu0C;an0;!na;axa0Ydisha,h4klaho20ntar4reg7ss0Cx0H;io;aKeEo6u4;evo le4nav0W;on;r4tt17va scot0;f9mandy,th4; 4ampton3;c6d5yo4;rk3;ako1N;aroli1;olk;bras1Mva0Cw4; 5foundland4;! and labrador;brunswick,hamp3jers5mexiTyork4;! state;ey;galPyarit;aAeghala0Mi6o4;nta1r4;dov0elos;ch6dlanDn5ss4zor11;issippi,ouri;as geraPneso18;ig2oac2;dhy12harasht0Gine,ni5r4ssachusetts;anhao,i el,ylG;p4toba;ur;anca3e4incoln3ouisI;e4iR;ds;a6e5h4omi;aka06ul1;ntucky,ra01;bardino,lmyk0ns0Qr4;achay,el0nata0X;alis6har4iangxi;kh4;and;co;daho,llino7n4owa;d5gush4;et0;ia1;is;a6ert5i4un2;dalFm0D;ford3;mp3rya1waii;ansu,eorg0lou7oa,u4;an4izhou,jarat;ajuato,gdo4;ng;cester3;lori4uji2;da;sex;ageUe7o5uran4;go;rs4;et;lawaMrby3;aFeaEh9o4rim08umbr0;ahui7l6nnectic5rsi4ventry;ca;ut;i03orado;la;e5hattisgarh,i4uvash0;apRhuahua;chn5rke4;ss0;ya;ra;lGm4;bridge3peche;a9ihar,r8u4;ck4ryat0;ingham3;shi4;re;emen,itish columb0;h0ja cal8lk7s4v7;hkorto4que;st2;an;ar0;iforn0;ia;dygHguascalientes,lBndhr9r5ss4;am;izo1kans5un4;achal 7;as;na;a 4;pradesh;a6ber5t4;ai;ta;ba5s4;ka;ma;ea",Country:"true0:38;1:2L;2:3B;a2Xb2Ec22d1Ye1Sf1Mg1Ch1Ai14j12k0Zl0Um0Gn05om2pZqat1KrXsKtCu7v5wal4yemTz3;a25imbabwe;es,lis and futu2Y;a3enezue32ietnam;nuatu,tican city;gTk6nited 4ruXs3zbeE; 2Ca,sr;arab emirat0Kkingdom,states3;! of am2Y;!raiV;a8haCimor les0Co7rinidad 5u3;nis0rk3valu;ey,me2Zs and caic1V;and t3t3;oba1L;go,kel10nga;iw2ji3nz2T;ki2V;aDcotl1eCi9lov8o6pa2Dri lanka,u5w3yr0;az3edAitzerl1;il1;d2riname;lomon1Xmal0uth 3;afr2KkMsud2;ak0en0;erra leoFn3;gapo1Yt maart3;en;negLrb0ychellZ;int 3moa,n marino,udi arab0;hele26luc0mart21;epublic of ir0Eom2Euss0w3;an27;a4eIhilippinUitcairn1Mo3uerto riN;l1rtugF;ki2Dl4nama,pua new0Vra3;gu7;au,esti3;ne;aBe9i7or3;folk1Ith4w3;ay; k3ern mariana1D;or0O;caragua,ger3ue;!ia;p3ther1Aw zeal1;al;mib0u3;ru;a7exi6icro0Bo3yanm06;ldova,n3roc5zambA;a4gol0t3;enegro,serrat;co;cAdagasc01l7r5urit4yot3;te;an0i16;shall0Xtin3;ique;a4div3i,ta;es;wi,ys0;ao,ed02;a6e5i3uxembourg;b3echtenste12thu1G;er0ya;ban0Isotho;os,tv0;azakh1Fe4iriba04o3uwait,yrgyz1F;rXsovo;eling0Knya;a3erG;ma16p2;c7nd6r4s3taly,vory coast;le of m2rael;a3el1;n,q;ia,oJ;el1;aiTon3ungary;dur0Ng kong;aBermany,ha0QibraltAre8u3;a6ern5inea3ya0P;! biss3;au;sey;deloupe,m,tema0Q;e3na0N;ce,nl1;ar;bUmb0;a7i6r3;ance,ench 3;guia0Epoly3;nes0;ji,nl1;lklandUroeU;ast tim7cu6gypt,l salv6ngl1quatorial4ritr5st3thiop0;on0; guin3;ea;ad3;or;enmark,jibou5ominica4r con3;go;!n C;ti;aBentral african Ah8o5roat0u4yprRzech3; 9ia;ba,racao;c4lo3morQngo brazzaville,okGsta r04te de ivoiL;mb0;osE;i3ristmasG;le,na;republic;m3naUpe verde,ymanA;bod0ero3;on;aGeDhut2o9r5u3;lgar0r3;kina faso,ma,undi;azil,itish 3unei;virgin3; is3;lands;liv0nai5snia and herzegoviHtswaHuvet3; isl1;and;re;l3n8rmuG;ar3gium,ize;us;h4ngladesh,rbad3;os;am4ra3;in;as;fghaGlDmBn6r4ustr3zerbaij2;al0ia;genti3men0uba;na;dorra,g5t3;arct7igua and barbu3;da;o3uil3;la;er3;ica;b3ger0;an0;ia;ni3;st2;an",Place:"truea0Gb0Bc03d02e01f00gWhUiSkQlNmLnIorHpDrCsAt5u4v3w2y0;a0yz;kutPngtze;ake isHupatki;irgin islands,ostok;laanbaatar,p02;a3eotihuac0Hh1onto,sarskoe selo,u0;lXzigoot;am09e 0;bronx,hamptons;hiti,j mahE;a0cotts bluff,eine,fo,oho,under9;int lawrence river,khalY;ed s3io grande;a1ek,h0itcairn,ompeii;l,x;cif05pahanaumokuak0rthenX;ea;ange county,d,inoco;e0ile;uschwansteQw eng0;land;a0co,ekong,idLuc;chu picchu,gad00libu,nhatt00;a1gw,hr,incoln memori0;al;s,x;azan kremlJosrae,rasnoyar0ul;sk;ax,cn,nd0st;ianSochina;arlem,kg,nd,ov0;d,enweep;a2odavari,re0;at 0enwich;britaBlakI;ngHy village;co,ra;urope,vergladF;anube,en,fw,own4xb;arrizo pla6dg,edar 5gk,h1lt,olosse0;um;a2i0uuk;chen itza,mney rock,na0ricahua;town;morro,tham;breaks,fa5;in;cn,e2kk,ro0;oklyn,wns cany0;on;l air,verly hi0;lls;driadic,frica,lhambra,m7n3rc2sia,tl1zor0;es;!ant2; de triomphe,t1;adyr,tarct0;ic0; oce0;an;ericas,s",FirstName:"trueaTblair,cQdOfrancoZgabMhinaLilya,jHkClBm6ni4quinn,re3s0;h0umit,yd;ay,e0iloh;a,lby;g9ne;co,ko0;!s;a1el0ina,org6;!okuhF;ds,naia,r1tt0xiB;i,y;ion,lo;ashawn,eif,uca;a3e1ir0rM;an;lsFn0rry;dall,yat5;i,sD;a0essIie,ude;i1m0;ie,mG;me;ta;rie0y;le;arcy,ev0;an,on;as1h0;arl8eyenne;ey,sidy;drien,kira,l4nd1ubr0vi;ey;i,r0;a,e0;a,y;ex2f1o0;is;ie;ei,is",WeekDay:"truefri2mon2s1t0wednesd3;hurs1ues1;aturd1und1;!d0;ay0;!s",Month:"truedec0february,july,nov0octo1sept0;em0;ber",Date:"trueago,on4som4t1week0yesterd5; end,ends;mr1o0;d2morrow;!w;ed0;ay",Duration:"truecenturAd8h7m5q4se3w1y0;ear8r8;eek0k7;!end,s;ason,c5;tr,uarter;i0onth3;llisecond2nute2;our1r1;ay0ecade0;!s;ies,y",FemaleName:"true0:J7;1:JB;2:IJ;3:IK;4:J1;5:IO;6:JS;7:JO;8:HB;9:JK;A:H4;B:I2;C:IT;D:JH;E:IX;F:BA;G:I4;aGTbFLcDRdD0eBMfB4gADh9Ti9Gj8Dk7Cl5Wm48n3Lo3Hp33qu32r29s15t0Eu0Cv02wVxiTyOzH;aLeIineb,oHsof3;e3Sf3la,ra;h2iKlIna,ynH;ab,ep;da,ma;da,h2iHra;nab;aKeJi0FolB7uIvH;et8onDP;i0na;le0sen3;el,gm3Hn,rGLs8W;aoHme0nyi;m5XyAD;aMendDZhiDGiH;dele9lJnH;if48niHo0;e,f47;a,helmi0lHma;a,ow;ka0nB;aNeKiHusa5;ck84kIl8oleAviH;anFenJ4;ky,toriBK;da,lA8rHs0;a,nHoniH9;a,iFR;leHnesH9;nILrH;i1y;g9rHs6xHA;su5te;aYeUhRiNoLrIuHy2;i,la;acJ3iHu0J;c3na,sH;hFta;nHr0F;iFya;aJffaEOnHs6;a,gtiH;ng;!nFSra;aIeHomasi0;a,l9Oo8Ares1;l3ndolwethu;g9Fo88rIssH;!a,ie;eHi,ri7;sa,za;bOlMmKnIrHs6tia0wa0;a60yn;iHya;a,ka,s6;arFe2iHm77ra;!ka;a,iH;a,t6;at6it6;a0Ecarlett,e0AhWiSkye,neza0oQri,tNuIyH;bIGlvi1;ha,mayIJniAsIzH;an3Net8ie,y;anHi7;!a,e,nH;aCe;aIeH;fan4l5Dphan6E;cI5r5;b3fiAAm0LnHphi1;d2ia,ja,ya;er2lJmon1nIobh8QtH;a,i;dy;lETv3;aMeIirHo0risFDy5;a,lDM;ba,e0i5lJrH;iHr6Jyl;!d8Ifa;ia,lDZ;hd,iMki2nJrIu0w0yH;la,ma,na;i,le9on,ron,yn;aIda,ia,nHon;a,on;!ya;k6mH;!aa;lJrItaye82vH;da,inj;e0ife;en1i0ma;anA9bLd5Oh1SiBkKlJmInd2rHs6vannaC;aCi0;ant6i2;lDOma,ome;ee0in8Tu2;in1ri0;a05eZhXiUoHuthDM;bScRghQl8LnPsJwIxH;anB3ie,y;an,e0;aIeHie,lD;ann7ll1marDGtA;!lHnn1;iHyn;e,nH;a,dF;da,i,na;ayy8G;hel67io;bDRerAyn;a,cIkHmas,nFta,ya;ki,o;h8Xki;ea,iannGMoH;da,n1P;an0bJemFgi0iInHta,y0;a8Bee;han86na;a,eH;cHkaC;a,ca;bi0chIe,i0mo0nHquETy0;di,ia;aERelHiB;!e,le;een4ia0;aPeOhMiLoJrHute6A;iHudenCV;scil3LyamvaB;lHrt3;i0ly;a,paluk;ilome0oebe,ylH;is,lis;ggy,nelope,r5t2;ige,m0VnKo5rvaDMtIulH;a,et8in1;ricHt4T;a,e,ia;do2i07;ctav3dIfD3is6ksa0lHphD3umC5yunbileg;a,ga,iv3;eHvAF;l3t8;aWeUiMoIurHy5;!ay,ul;a,eJor,rIuH;f,r;aCeEma;ll1mi;aNcLhariBQkKlaJna,sHta,vi;anHha;ur;!y;a,iDZki;hoGk9YolH;a,e4P;!mh;hir,lHna,risDEsreE;!a,lBV;asuMdLh3i6Dl5nKomi7rgEVtH;aHhal4;lHs6;i1ya;cy,et8;e9iF0ya;nngu2X;a0Ackenz4e02iMoJrignayani,uriDJyH;a,rH;a,iOlNna,tG;bi0i2llBJnH;a,iH;ca,ka,qD9;a,cUdo4ZkaTlOmi,nMrItzi,yH;ar;aJiIlH;anET;am;!l,nB;dy,eHh,n4;nhGrva;aKdJe0iCUlH;iHy;cent,e;red;!gros;!e5;ae5hH;ae5el3Z;ag5DgNi,lKrH;edi7AiIjem,on,yH;em,l;em,sCG;an4iHliCF;nHsCJ;a,da;!an,han;b09cASd07e,g05ha,i04ja,l02n00rLsoum5YtKuIv84xBKyHz4;bell,ra,soBB;d7rH;a,eE;h8Gild1t4;a,cUgQiKjor4l7Un4s6tJwa,yH;!aHbe6Xja9lAE;m,nBL;a,ha,in1;!aJbCGeIja,lDna,sHt63;!a,ol,sa;!l1D;!h,mInH;!a,e,n1;!awit,i;arJeIie,oHr48ueri8;!t;!ry;et46i3B;el4Xi7Cy;dHon,ue5;akranAy;ak,en,iHlo3S;a,ka,nB;a,re,s4te;daHg4;!l3E;alDd4elHge,isDJon0;ei9in1yn;el,le;a0Ne0CiXoQuLyH;d3la,nH;!a,dIe2OnHsCT;!a,e2N;a,sCR;aD4cJel0Pis1lIna,pHz;e,iA;a,u,wa;iHy;a0Se,ja,l2NnB;is,l1UrItt1LuHvel4;el5is1;aKeIi7na,rH;aADi7;lHn1tA;ei;!in1;aTbb9HdSepa,lNnKsJvIzH;!a,be5Ret8z4;!ia;a,et8;!a,dH;a,sHy;ay,ey,i,y;a,iJja,lH;iHy;aA8e;!aH;!nF;ia,ya;!nH;!a,ne;aPda,e0iNjYla,nMoKsJtHx93y5;iHt4;c3t3;e2PlCO;la,nHra;a,ie,o2;a,or1;a,gh,laH;!ni;!h,nH;a,d2e,n5V;cOdon9DiNkes6mi9Gna,rMtJurIvHxmi,y5;ern1in3;a,e5Aie,yn;as6iIoH;nya,ya;fa,s6;a,isA9;a,la;ey,ie,y;a04eZhXiOlASoNrJyH;lHra;a,ee,ie;istHy6I;a,en,iIyH;!na;!e,n5F;nul,ri,urtnB8;aOerNlB7mJrHzzy;a,stH;en,in;!berlImernH;aq;eHi,y;e,y;a,stE;!na,ra;aHei2ongordzol;dij1w5;el7UiKjsi,lJnIrH;a,i,ri;d2na,za;ey,i,lBLs4y;ra,s6;biAcARdiat7MeBAiSlQmPnyakuma1DrNss6NtKviAyH;!e,lH;a,eH;e,i8T;!a6HeIhHi4TlDri0y;ar8Her8Hie,leErBAy;!lyn8Ori0;a,en,iHl5Xoli0yn;!ma,nFs95;a5il1;ei8Mi,lH;e,ie;a,tl6O;a0AeZiWoOuH;anMdLlHst88;es,iH;a8NeHs8X;!n9tH;!a,te;e5Mi3My;a,iA;!anNcelDdMelGhan7VleLni,sIva0yH;a,ce;eHie;fHlDph7Y;a,in1;en,n1;i7y;!a,e,n45;lHng;!i1DlH;!i1C;anNle0nKrJsH;i8JsH;!e,i8I;i,ri;!a,elGif2CnH;a,et8iHy;!e,f2A;a,eJiInH;a,eIiH;e,n1;!t8;cMda,mi,nIque4YsminFvie2y9zH;min7;a7eIiH;ce,e,n1s;!lHs82t0F;e,le;inIk6HlDquelH;in1yn;da,ta;da,lRmPnOo0rNsIvaHwo0zaro;!a0lu,na;aJiIlaHob89;!n9R;do2;belHdo2;!a,e,l3B;a7Ben1i0ma;di2es,gr72ji;a9elBogH;en1;a,e9iHo0se;a0na;aSeOiJoHus7Kyacin2C;da,ll4rten24snH;a,i9U;lImaH;ri;aIdHlaI;a,egard;ry;ath1BiJlInrietArmi9sH;sa,t1A;en2Uga,mi;di;bi2Fil8MlNnMrJsItHwa,yl8M;i5Tt4;n60ti;iHmo51ri53;etH;!te;aCnaC;a,ey,l4;a02eWiRlPoNrKunJwH;enHyne1R;!dolD;ay,el;acieIetHiselB;a,chE;!la;ld1CogooH;sh;adys,enHor3yn2K;a,da,na;aKgi,lIna,ov8EselHta;a,e,le;da,liH;an;!n0;mLnJorgIrH;ald5Si,m3Etrud7;et8i4X;a,eHna;s29vieve;ma;bIle,mHrnet,yG;al5Si5;iIrielH;a,l1;!ja;aTeQiPlorOoz3rH;anJeIiH;da,eB;da,ja;!cH;esIiHoi0P;n1s66;!ca;a,enc3;en,o0;lIn0rnH;anB;ec3ic3;jr,nArKtHy7;emIiHma,oumaA;ha,ma,n;eh;ah,iBrah,za0;cr4Rd0Re0Qi0Pk0Ol07mXn54rUsOtNuMvHwa;aKelIiH;!e,ta;inFyn;!a;!ngel4V;geni1ni47;h5Yien9ta;mLperanKtH;eIhHrel5;er;l31r7;za;a,eralB;iHma,ne4Lyn;cHka,n;a,ka;aPeNiKmH;aHe21ie,y;!li9nuH;elG;lHn1;e7iHy;a,e,ja;lHrald;da,y;!nue5;aWeUiNlMma,no2oKsJvH;a,iH;na,ra;a,ie;iHuiH;se;a,en,ie,y;a0c3da,e,f,nMsJzaH;!betHveA;e,h;aHe,ka;!beH;th;!a,or;anor,nH;!a,i;!in1na;ate1Rta;leEs6;vi;eIiHna,wi0;e,th;l,n;aYeMh3iLjeneKoH;lor5Vminiq4Ln3FrHtt4;a,eEis,la,othHthy;ea,y;ba;an09naCon9ya;anQbPde,eOiMlJmetr3nHsir5M;a,iH;ce,se;a,iIla,orHphi9;es,is;a,l6F;dHrdH;re;!d5Ena;!b2ForaCraC;a,d2nH;!a,e;hl3i0l0GmNnLphn1rIvi1WyH;le,na;a,by,cIia,lH;a,en1;ey,ie;a,et8iH;!ca,el1Aka,z;arHia;is;a0Re0Nh04i02lUoJristIynH;di,th3;al,i0;lPnMrIurH;tn1D;aJd2OiHn2Ori9;!nH;a,e,n1;!l4;cepci5Cn4sH;tanHuelo;ce,za;eHleE;en,t8;aJeoIotH;il54;!pat2;ir7rJudH;et8iH;a,ne;a,e,iH;ce,sZ;a2er2ndH;i,y;aReNloe,rH;isJyH;stH;al;sy,tH;a1Sen,iHy;an1e,n1;deJlseIrH;!i7yl;a,y;li9;nMrH;isKlImH;ai9;a,eHot8;n1t8;!sa;d2elGtH;al,elG;cIlH;es8i47;el3ilH;e,ia,y;itlYlXmilWndVrMsKtHy5;aIeIhHri0;er1IleErDy;ri0;a38sH;a37ie;a,iOlLmeJolIrH;ie,ol;!e,in1yn;lHn;!a,la;a,eIie,otHy;a,ta;ne,y;na,s1X;a0Ii0I;a,e,l1;isAl4;in,yn;a0Ke02iZlXoUrH;andi7eRiJoIyH;an0nn;nwDoke;an3HdgMgiLtH;n31tH;!aInH;ey,i,y;ny;d,t8;etH;!t7;an0e,nH;da,na;bbi7glarIlo07nH;iAn4;ka;ancHythe;a,he;an1Clja0nHsm3M;iAtH;ou;aWcVlinUniArPssOtJulaCvH;!erlH;ey,y;hJsy,tH;e,iHy7;e,na;!anH;ie,y;!ie;nItHyl;ha,ie;adIiH;ce;et8i9;ay,da;ca,ky;!triH;ce,z;rbJyaH;rmH;aa;a2o2ra;a2Ub2Od25g21i1Sj5l18m0Zn0Boi,r06sWtVuPvOwa,yIzH;ra,u0;aKes6gJlIn,seH;!l;in;un;!nH;a,na;a,i2K;drLguJrIsteH;ja;el3;stH;in1;a,ey,i,y;aahua,he0;hIi2Gja,miAs2DtrH;id;aMlIraqHt21;at;eIi7yH;!n;e,iHy;gh;!nH;ti;iJleIo6piA;ta;en,n1t8;aHelG;!n1J;a01dje5eZgViTjRnKohito,toHya;inet8nH;el5ia;te;!aKeIiHmJ;e,ka;!mHtt7;ar4;!belIliHmU;sa;!l1;a,eliH;ca;ka,sHta;a,sa;elHie;a,iH;a,ca,n1qH;ue;!tH;a,te;!bImHstasiMya;ar3;el;aLberKeliJiHy;e,l3naH;!ta;a,ja;!ly;hGiIl3nB;da;a,ra;le;aWba,ePiMlKthJyH;a,c3sH;a,on,sa;ea;iHys0N;e,s0M;a,cIn1sHza;a,e,ha,on,sa;e,ia,ja;c3is6jaKksaKna,sJxH;aHia;!nd2;ia,saH;nd2;ra;ia;i0nIyH;ah,na;a,is,naCoud;la;c6da,leEmNnLsH;haClH;inHyY;g,n;!h;a,o,slH;ey;ee;en;at6g4nIusH;ti0;es;ie;aWdiTelMrH;eJiH;anMenH;a,e,ne;an0;na;!aLeKiIyH;nn;a,n1;a,e;!ne;!iH;de;e,lDsH;on;yn;!lH;i9yn;ne;aKbIiHrL;!e,gaK;ey,i7y;!e;gaH;il;dKliyJradhIs6;ha;ya;ah;a,ya",Honorific:"truedirector1field marsh2lieutenant1rear0sergeant major,vice0; admir1; gener0;al","Adj|Gerund":"true0:3F;1:3H;2:31;3:2X;4:35;5:33;6:3C;7:2Z;8:36;9:29;a33b2Tc2Bd1Te1If19g12h0Zi0Rl0Nm0Gnu0Fo0Ap04rYsKtEuBvAw1Ayiel3;ar6e08;nBpA;l1Rs0B;fol3n1Zsett2;aEeDhrBi4ouc7rAwis0;e0Bif2oub2us0yi1;ea1SiA;l2vi1;l2mp0rr1J;nt1Vxi1;aMcreec7enten2NhLkyrocke0lo0Vmi2oJpHtDuBweA;e0Ul2;pp2ArA;gi1pri5roun3;aBea8iAri2Hun9;mula0r4;gge4rA;t2vi1;ark2eAraw2;e3llb2F;aAot7;ki1ri1;i9oc29;dYtisf6;aEeBive0oAus7;a4l2;assu4defi9fres7ig9juve07mai9s0vAwar3;ea2italiAol1G;si1zi1;gi1ll6mb2vi1;a6eDier23lun1VrAun2C;eBoA;mi5vo1Z;ce3s5vai2;n3rpleA;xi1;ffCpWutBverAwi1;arc7lap04p0Pri3whel8;goi1l6st1J;en3sA;et0;m2Jrtu4;aEeDiCoBuAyst0L;mb2;t1Jvi1;s5tiga0;an1Rl0n3smeri26;dAtu4;de9;aCeaBiAo0U;fesa0Tvi1;di1ni1;c1Fg19s0;llumiGmFnArri0R;cDfurHsCtBviA;go23ti1;e1Oimi21oxica0rig0V;pi4ul0;orpo20r0K;po5;na0;eaBorr02umilA;ia0;li1rtwar8;lFrA;atiDipCoBuelA;i1li1;undbrea10wi1;pi1;f6ng;a4ea8;a3etc7it0lEoCrBulfA;il2;ee1FighXust1L;rAun3;ebo3thco8;aCoA;a0wA;e4i1;mi1tte4;lectrJmHnExA;aCci0hBis0pA;an3lo3;aOila1B;c0spe1A;ab2coura0CdBergi13ga0Clive9ric7s02tA;hral2i0J;ea4u4;barras5er09pA;owe4;if6;aQeIiBrA;if0;sAzz6;aEgDhearCsen0tA;rAur11;ac0es5;te9;us0;ppoin0r8;biliGcDfi9gra3ligh0mBpres5sAvasG;erE;an3ea9orA;ali0L;a6eiBli9rA;ea5;vi1;ta0;maPri1s7un0zz2;aPhMlo5oAripp2ut0;mGnArrespon3;cer9fDspi4tA;inBrA;as0ibu0ol2;ui1;lic0u5;ni1;fDmCpA;eAromi5;l2ti1;an3;or0;aAil2;llenAnAr8;gi1;l8ptAri1;iva0;aff2eGin3lFoDrBuA;d3st2;eathtaAui5;ki1;gg2i2o8ri1unA;ci1;in3;co8wiA;lAtc7;de4;bsorVcOgonMlJmHnno6ppea2rFsA;pi4su4toA;nBun3;di1;is7;hi1;res0;li1;aFu5;si1;ar8lu4;ri1;mi1;iAzi1;zi1;cAhi1;eleDomA;moBpan6;yi1;da0;ra0;ti1;bi1;ng",Comparable:"true0:3C;1:3Q;2:3F;a3Tb3Cc33d2Te2Mf2Ag1Wh1Li1Fj1Ek1Bl13m0Xn0So0Rp0Iqu0Gr07sHtCug0vAw4y3za0Q;el10ouN;ary,e6hi5i3ry;ck0Cde,l3n1ry,se;d,y;ny,te;a3i3R;k,ry;a3erda2ulgar;gue,in,st;a6en2Xhi5i4ouZr3;anqu2Cen1ue;dy,g36me0ny;ck,rs28;ll,me,rt,wd3I;aRcaPeOhMiLkin0BlImGoEpDt6u4w3;eet,ift;b3dd0Wperfi21rre28;sta26t21;a8e7iff,r4u3;pUr1;a4ict,o3;ng;ig2Vn0N;a1ep,rn;le,rk,te0;e1Si2Vright0;ci1Yft,l3on,re;emn,id;a3el0;ll,rt;e4i3y;g2Mm0Z;ek,nd2T;ck24l0mp1L;a3iRrill,y;dy,l01rp;ve0Jxy;n1Jr3;ce,y;d,fe,int0l1Hv0V;a8e6i5o3ude;mantic,o19sy,u3;gh;pe,t1P;a3d,mo0A;dy,l;gg4iFndom,p3re,w;id;ed;ai2i3;ck,et;hoAi1Fl9o8r5u3;ny,r3;e,p11;egna2ic4o3;fouSud;ey,k0;liXor;ain,easa2;ny;dd,i0ld,ranL;aive,e5i4o3u14;b0Sisy,rm0Ysy;bb0ce,mb0R;a3r1w;r,t;ad,e5ild,o4u3;nda12te;ist,o1;a4ek,l3;low;s0ty;a8e7i6o3ucky;f0Jn4o15u3ve0w10y0N;d,sy;e0g;ke0l,mp,tt0Eve0;e1Qwd;me,r3te;ge;e4i3;nd;en;ol0ui19;cy,ll,n3;secu6t3;e3ima4;llege2rmedia3;te;re;aAe7i6o5u3;ge,m3ng1C;bYid;me0t;gh,l0;a3fXsita2;dy,rWv3;en0y;nd13ppy,r3;d3sh;!y;aFenEhCiBlAoofy,r3;a8e6i5o3ue0Z;o3ss;vy;m,s0;at,e3y;dy,n;nd,y;ad,ib,ooD;a2d1;a3o3;st0;tDuiS;u1y;aCeebBi9l8o6r5u3;ll,n3r0N;!ny;aCesh,iend0;a3nd,rmD;my;at,ir7;erce,nan3;ci9;le;r,ul3;ty;a6erie,sse4v3xtre0B;il;nti3;al;r4s3;tern,y;ly,th0;appZe9i5ru4u3;mb;nk;r5vi4z3;zy;ne;e,ty;a3ep,n9;d3f,r;!ly;agey,h8l7o5r4u3;dd0r0te;isp,uel;ar3ld,mmon,st0ward0zy;se;evKou1;e3il0;ap,e3;sy;aHiFlCoAr5u3;ff,r0sy;ly;a6i3oad;g4llia2;nt;ht;sh,ve;ld,un3;cy;a4o3ue;nd,o1;ck,nd;g,tt3;er;d,ld,w1;dy;bsu6ng5we3;so3;me;ry;rd",Adverb:"truea08b05d00eYfSheQinPjustOkinda,likewiZmMnJoEpCquite,r9s5t2u0very,well;ltima01p0; to,wards5;h1iny bit,o0wiO;o,t6;en,us;eldom,o0uch;!me1rt0; of;how,times,w0C;a1e0;alS;ndomRth05;ar excellenEer0oint blank; Lhaps;f3n0utright;ce0ly;! 0;ag05moX; courGten;ewJo0; longWt 0;onHwithstand9;aybe,eanwhiNore0;!ovT;! aboX;deed,steY;lla,n0;ce;or3u0;ck1l9rther0;!moK;ing; 0evK;exampCgood,suH;n mas0vI;se;e0irect2; 2fini0;te0;ly;juAtrop;ackward,y 0;far,no0; means,w; GbroFd nauseam,gEl7ny5part,s4t 2w0;ay,hi0;le;be7l0mo7wor7;arge,ea6; soon,i4;mo0way;re;l 3mo2ongsi1ready,so,togeth0ways;er;de;st;b1t0;hat;ut;ain;ad;lot,posteriori",Conjunction:"trueaXbTcReNhowMiEjust00noBo9p8supposing,t5wh0yet;e1il0o3;e,st;n1re0thN; if,by,vM;evL;h0il,o;erefOo0;!uU;lus,rovided th9;r0therwiM;! not; mattEr,w0;! 0;since,th4w7;f4n0; 0asmuch;as mIcaForder t0;h0o;at;! 0;only,t0w0;hen;!ev3;ith2ven0;! 0;if,tB;er;o0uz;s,z;e0ut,y the time;cau1f0;ore;se;lt3nd,s 0;far1if,m0soon1t2;uch0; as;hou0;gh",Currency:"true$,aud,bQcOdJeurIfHgbp,hkd,iGjpy,kElDp8r7s3usd,x2y1z0,,,,,,,,,,,;lotyQ;en,uanP;af,of;h0t5;e0il5;k0q0;elK;oubleJp,upeeJ;e2ound st0;er0;lingG;n0soF;ceEnies;empi7i7;n,r0wanzaCyatC;!onaBw;ls,nr;ori7ranc9;!os;en3i2kk,o0;b0ll2;ra5;me4n0rham4;ar3;e0ny;nt1;aht,itcoin0;!s",Determiner:"trueaBboth,d9e6few,le5mu8neiDplenty,s4th2various,wh0;at0ich0;evC;a0e4is,ose;!t;everal,ome;!ast,s;a1l0very;!se;ch;e0u;!s;!n0;!o0y;th0;er","Adj|Present":"truea07b04cVdQeNfJhollIidRlEmCnarrIoBp9qua8r7s3t2uttFw0;aKet,ro0;ng,u08;endChin;e2hort,l1mooth,our,pa9tray,u0;re,speU;i2ow;cu6da02leSpaN;eplica01i02;ck;aHerfePr0;eseUime,omV;bscu1pen,wn;atu0e3odeH;re;a2e1ive,ow0;er;an;st,y;ow;a2i1oul,r0;ee,inge;rm;iIke,ncy,st;l1mpty,x0;emHpress;abo4ic7;amp,e2i1oub0ry,ull;le;ffu9re6;fu8libe0;raE;alm,l5o0;mpleCn3ol,rr1unterfe0;it;e0u7;ct;juga8sum7;ea1o0;se;n,r;ankru1lu0;nt;pt;li2pproxi0rticula1;ma0;te;ght","Person|Adj":"trueb3du2earnest,frank,mi2r0san1woo1;an0ich,u1;dy;sty;ella,rown",Modal:"truec5lets,m4ought3sh1w0;ill,o5;a0o4;ll,nt;! to,a;ight,ust;an,o0;uld",Verb:"trueborn,cannot,gonna,has,keep tabs,msg","Person|Verb":"trueb8ch7dr6foster,gra5ja9lan4ma2ni9ollie,p1rob,s0wade;kip,pike,t5ue;at,eg,ier2;ck,r0;k,shal;ce;ce,nt;ew;ase,u1;iff,l1ob,u0;ck;aze,ossom","Person|Date":"truea2j0sep;an0une;!uary;p0ugust,v0;ril"},BASE=36,seq$1="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",cache=seq$1.split("").reduce(function(_e,et,tt){return _e[et]=tt,_e},{}),toAlphaCode=function(_e){if(seq$1[_e]!==void 0)return seq$1[_e];let et=1,tt=BASE,nt="";for(;_e>=tt;_e-=tt,et++,tt*=BASE);for(;et--;){const rt=_e%BASE;nt=String.fromCharCode((rt<10?48:55)+rt)+nt,_e=(_e-rt)/BASE}return nt},fromAlphaCode=function(_e){if(cache[_e]!==void 0)return cache[_e];let et=0,tt=1,nt=BASE,rt=1;for(;tt<_e.length;et+=nt,tt++,nt*=BASE);for(let it=_e.length-1;it>=0;it--,rt*=BASE){let ot=_e.charCodeAt(it)-48;ot>10&&(ot-=7),et+=ot*rt}return et},encoding={toAlphaCode,fromAlphaCode},symbols=function(_e){const et=new RegExp("([0-9A-Z]+):([0-9A-Z]+)");for(let tt=0;tt<_e.nodes.length;tt++){const nt=et.exec(_e.nodes[tt]);if(!nt){_e.symCount=tt;break}_e.syms[encoding.fromAlphaCode(nt[1])]=encoding.fromAlphaCode(nt[2])}_e.nodes=_e.nodes.slice(_e.symCount,_e.nodes.length)},indexFromRef=function(_e,et,tt){const nt=encoding.fromAlphaCode(et);return nt<_e.symCount?_e.syms[nt]:tt+nt+1-_e.symCount},toArray$4=function(_e){const et=[],tt=(nt,rt)=>{let it=_e.nodes[nt];it[0]==="!"&&(et.push(rt),it=it.slice(1));const ot=it.split(/([A-Z0-9,]+)/g);for(let st=0;st<ot.length;st+=2){const ut=ot[st],ft=ot[st+1];if(!ut)continue;const dt=rt+ut;if(ft===","||ft===void 0){et.push(dt);continue}const lt=indexFromRef(_e,ft,nt);tt(lt,dt)}};return tt(0,""),et},unpack$1=function(_e){const et={nodes:_e.split(";"),syms:[],symCount:0};return _e.match(":")&&symbols(et),toArray$4(et)},unpack=function(_e){if(!_e)return{};const et=_e.split("|").reduce((nt,rt)=>{const it=rt.split("");return nt[it[0]]=it[1],nt},{}),tt={};return Object.keys(et).forEach(function(nt){const rt=unpack$1(et[nt]);nt==="true"&&(nt=!0);for(let it=0;it<rt.length;it++){const ot=rt[it];tt.hasOwnProperty(ot)===!0?Array.isArray(tt[ot])===!1?tt[ot]=[tt[ot],nt]:tt[ot].push(nt):tt[ot]=nt}}),tt},prp=["Possessive","Pronoun"];let misc$5={"20th century fox":"Organization","7 eleven":"Organization","motel 6":"Organization",g8:"Organization",vh1:"Organization","76ers":"SportsTeam","49ers":"SportsTeam",q1:"Date",q2:"Date",q3:"Date",q4:"Date",km2:"Unit",m2:"Unit",dm2:"Unit",cm2:"Unit",mm2:"Unit",mile2:"Unit",in2:"Unit",yd2:"Unit",ft2:"Unit",m3:"Unit",dm3:"Unit",cm3:"Unit",in3:"Unit",ft3:"Unit",yd3:"Unit","at&t":"Organization","black & decker":"Organization","h & m":"Organization","johnson & johnson":"Organization","procter & gamble":"Organization","ben & jerry's":"Organization","&":"Conjunction",i:["Pronoun","Singular"],he:["Pronoun","Singular"],she:["Pronoun","Singular"],it:["Pronoun","Singular"],they:["Pronoun","Plural"],we:["Pronoun","Plural"],was:["Copula","PastTense"],is:["Copula","PresentTense"],are:["Copula","PresentTense"],am:["Copula","PresentTense"],were:["Copula","PastTense"],her:prp,his:prp,hers:prp,their:prp,theirs:prp,themselves:prp,your:prp,our:prp,ours:prp,my:prp,its:prp,vs:["Conjunction","Abbreviation"],if:["Condition","Preposition"],closer:"Comparative",closest:"Superlative",much:"Adverb",may:"Modal",babysat:"PastTense",blew:"PastTense",drank:"PastTense",drove:"PastTense",forgave:"PastTense",skiied:"PastTense",spilt:"PastTense",stung:"PastTense",swam:"PastTense",swung:"PastTense",guaranteed:"PastTense",shrunk:"PastTense",nears:"PresentTense",nearing:"Gerund",neared:"PastTense",no:["Negative","Expression"]};const frozenLex={"20th century fox":"Organization","7 eleven":"Organization","motel 6":"Organization","excuse me":"Expression","financial times":"Organization","guns n roses":"Organization","la z boy":"Organization","labour party":"Organization","new kids on the block":"Organization","new york times":"Organization","the guess who":"Organization","thin lizzy":"Organization","prime minister":"Actor","free market":"Singular","lay up":"Singular","living room":"Singular","living rooms":"Plural","spin off":"Singular","appeal court":"Uncountable","cold war":"Uncountable","gene pool":"Uncountable","machine learning":"Uncountable","nail polish":"Uncountable","time off":"Uncountable","take part":"Infinitive","bill gates":"Person","doctor who":"Person","dr who":"Person","he man":"Person","iron man":"Person","kid cudi":"Person","run dmc":"Person","rush limbaugh":"Person","snow white":"Person","tiger woods":"Person","brand new":"Adjective","en route":"Adjective","left wing":"Adjective","off guard":"Adjective","on board":"Adjective","part time":"Adjective","right wing":"Adjective","so called":"Adjective","spot on":"Adjective","straight forward":"Adjective","super duper":"Adjective","tip top":"Adjective","top notch":"Adjective","up to date":"Adjective","win win":"Adjective","brooklyn nets":"SportsTeam","chicago bears":"SportsTeam","houston astros":"SportsTeam","houston dynamo":"SportsTeam","houston rockets":"SportsTeam","houston texans":"SportsTeam","minnesota twins":"SportsTeam","orlando magic":"SportsTeam","san antonio spurs":"SportsTeam","san diego chargers":"SportsTeam","san diego padres":"SportsTeam","iron maiden":"ProperNoun","isle of man":"Country","united states":"Country","united states of america":"Country","prince edward island":"Region","cedar breaks":"Place","cedar falls":"Place","point blank":"Adverb","tiny bit":"Adverb","by the time":"Conjunction","no matter":"Conjunction","civil wars":"Plural","credit cards":"Plural","default rates":"Plural","free markets":"Plural","head starts":"Plural","home runs":"Plural","lay ups":"Plural","phone calls":"Plural","press releases":"Plural","record labels":"Plural","soft serves":"Plural","student loans":"Plural","tax returns":"Plural","tv shows":"Plural","video games":"Plural","took part":"PastTense","takes part":"PresentTense","taking part":"Gerund","taken part":"Participle","light bulb":"Noun","rush hour":"Noun","fluid ounce":"Unit","the rolling stones":"Organization"},emoticons=[":(",":)",":P",":p",":O",";(",";)",";P",";p",";O",":3",":|",":/",":\\",":$",":*",":@",":-(",":-)",":-P",":-p",":-O",":-3",":-|",":-/",":-\\",":-$",":-*",":-@",":^(",":^)",":^P",":^p",":^O",":^3",":^|",":^/",":^\\",":^$",":^*",":^@","):","(:","$:","*:",")-:","(-:","$-:","*-:",")^:","(^:","$^:","*^:","<3","</3","<\\3","=("],suffixes$3={a:[[/(antenn|formul|nebul|vertebr|vit)a$/i,"$1ae"],[/ia$/i,"ia"]],e:[[/(kn|l|w)ife$/i,"$1ives"],[/(hive)$/i,"$1s"],[/([m|l])ouse$/i,"$1ice"],[/([m|l])ice$/i,"$1ice"]],f:[[/^(dwar|handkerchie|hoo|scar|whar)f$/i,"$1ves"],[/^((?:ca|e|ha|(?:our|them|your)?se|she|wo)l|lea|loa|shea|thie)f$/i,"$1ves"]],i:[[/(octop|vir)i$/i,"$1i"]],m:[[/([ti])um$/i,"$1a"]],n:[[/^(oxen)$/i,"$1"]],o:[[/(al|ad|at|er|et|ed)o$/i,"$1oes"]],s:[[/(ax|test)is$/i,"$1es"],[/(alias|status)$/i,"$1es"],[/sis$/i,"ses"],[/(bu)s$/i,"$1ses"],[/(sis)$/i,"ses"],[/^(?!talis|.*hu)(.*)man$/i,"$1men"],[/(octop|vir|radi|nucle|fung|cact|stimul)us$/i,"$1i"]],x:[[/(matr|vert|ind|cort)(ix|ex)$/i,"$1ices"],[/^(ox)$/i,"$1en"]],y:[[/([^aeiouy]|qu)y$/i,"$1ies"]],z:[[/(quiz)$/i,"$1zes"]]},addE=/([xsz]|ch|sh)$/,trySuffix=function(_e){let et=_e[_e.length-1];if(suffixes$3.hasOwnProperty(et)===!0)for(let tt=0;tt<suffixes$3[et].length;tt+=1){let nt=suffixes$3[et][tt][0];if(nt.test(_e)===!0)return _e.replace(nt,suffixes$3[et][tt][1])}return null},pluralize=function(_e="",et){let{irregularPlurals:tt,uncountable:nt}=et.two;if(nt.hasOwnProperty(_e))return _e;if(tt.hasOwnProperty(_e))return tt[_e];let rt=trySuffix(_e);return rt!==null?rt:addE.test(_e)?_e+"es":_e+"s"},hasSwitch=/\|/;let lexicon=misc$5,switches={};const tmpModel$1={two:{irregularPlurals,uncountable:{}}};Object.keys(lexData).forEach(_e=>{let et=unpack(lexData[_e]);if(!hasSwitch.test(_e)){Object.keys(et).forEach(tt=>{lexicon[tt]=_e});return}Object.keys(et).forEach(tt=>{if(switches[tt]=_e,_e==="Noun|Verb"){let nt=pluralize(tt,tmpModel$1);switches[nt]="Plural|Verb"}})});emoticons.forEach(_e=>lexicon[_e]="Emoticon");delete lexicon[""];delete lexicon[null];delete lexicon[" "];const n$1="Singular",noun$1={beforeTags:{Determiner:n$1,Possessive:n$1,Acronym:n$1,Noun:n$1,Adjective:n$1,PresentTense:n$1,Gerund:n$1,PastTense:n$1,Infinitive:n$1,Date:n$1,Ordinal:n$1,Demonym:n$1},afterTags:{Value:n$1,Modal:n$1,Copula:n$1,PresentTense:n$1,PastTense:n$1,Demonym:n$1,Actor:n$1},beforeWords:{the:n$1,with:n$1,without:n$1,of:n$1,for:n$1,any:n$1,all:n$1,on:n$1,cut:n$1,cuts:n$1,increase:n$1,decrease:n$1,raise:n$1,drop:n$1,save:n$1,saved:n$1,saves:n$1,make:n$1,makes:n$1,made:n$1,minus:n$1,plus:n$1,than:n$1,another:n$1,versus:n$1,neither:n$1,about:n$1,favorite:n$1,best:n$1,daily:n$1,weekly:n$1,linear:n$1,binary:n$1,mobile:n$1,lexical:n$1,technical:n$1,computer:n$1,scientific:n$1,security:n$1,government:n$1,popular:n$1,formal:n$1,no:n$1,more:n$1,one:n$1,let:n$1,her:n$1,his:n$1,their:n$1,our:n$1,us:n$1,sheer:n$1,monthly:n$1,yearly:n$1,current:n$1,previous:n$1,upcoming:n$1,last:n$1,next:n$1,main:n$1,initial:n$1,final:n$1,beginning:n$1,end:n$1,top:n$1,bottom:n$1,future:n$1,past:n$1,major:n$1,minor:n$1,side:n$1,central:n$1,peripheral:n$1,public:n$1,private:n$1},afterWords:{of:n$1,system:n$1,aid:n$1,method:n$1,utility:n$1,tool:n$1,reform:n$1,therapy:n$1,philosophy:n$1,room:n$1,authority:n$1,says:n$1,said:n$1,wants:n$1,wanted:n$1,is:n$1,did:n$1,do:n$1,can:n$1,wise:n$1}},v$1="Infinitive",verb={beforeTags:{Modal:v$1,Adverb:v$1,Negative:v$1,Plural:v$1},afterTags:{Determiner:v$1,Adverb:v$1,Possessive:v$1,Reflexive:v$1,Preposition:v$1,Cardinal:v$1,Comparative:v$1,Superlative:v$1},beforeWords:{i:v$1,we:v$1,you:v$1,they:v$1,to:v$1,please:v$1,will:v$1,have:v$1,had:v$1,would:v$1,could:v$1,should:v$1,do:v$1,did:v$1,does:v$1,can:v$1,must:v$1,us:v$1,me:v$1,let:v$1,even:v$1,when:v$1,help:v$1,he:v$1,she:v$1,it:v$1,being:v$1,bi:v$1,co:v$1,contra:v$1,de:v$1,inter:v$1,intra:v$1,mis:v$1,pre:v$1,out:v$1,counter:v$1,nobody:v$1,somebody:v$1,anybody:v$1,everybody:v$1},afterWords:{the:v$1,me:v$1,you:v$1,him:v$1,us:v$1,her:v$1,his:v$1,them:v$1,they:v$1,it:v$1,himself:v$1,herself:v$1,itself:v$1,myself:v$1,ourselves:v$1,themselves:v$1,something:v$1,anything:v$1,a:v$1,an:v$1,up:v$1,down:v$1,by:v$1,out:v$1,off:v$1,under:v$1,what:v$1,all:v$1,to:v$1,because:v$1,although:v$1,how:v$1,otherwise:v$1,together:v$1,though:v$1,into:v$1,yet:v$1,more:v$1,here:v$1,there:v$1,away:v$1}},clue$7={beforeTags:Object.assign({},verb.beforeTags,noun$1.beforeTags,{}),afterTags:Object.assign({},verb.afterTags,noun$1.afterTags,{}),beforeWords:Object.assign({},verb.beforeWords,noun$1.beforeWords,{}),afterWords:Object.assign({},verb.afterWords,noun$1.afterWords,{})},jj$2="Adjective",adj$1={beforeTags:{Determiner:jj$2,Possessive:jj$2,Hyphenated:jj$2},afterTags:{Adjective:jj$2},beforeWords:{seem:jj$2,seemed:jj$2,seems:jj$2,feel:jj$2,feels:jj$2,felt:jj$2,stay:jj$2,appear:jj$2,appears:jj$2,appeared:jj$2,also:jj$2,over:jj$2,under:jj$2,too:jj$2,it:jj$2,but:jj$2,still:jj$2,really:jj$2,quite:jj$2,well:jj$2,very:jj$2,truly:jj$2,how:jj$2,deeply:jj$2,hella:jj$2,profoundly:jj$2,extremely:jj$2,so:jj$2,badly:jj$2,mostly:jj$2,totally:jj$2,awfully:jj$2,rather:jj$2,nothing:jj$2,something:jj$2,anything:jj$2,not:jj$2,me:jj$2,is:jj$2,face:jj$2,faces:jj$2,faced:jj$2,look:jj$2,looks:jj$2,looked:jj$2,reveal:jj$2,reveals:jj$2,revealed:jj$2,sound:jj$2,sounded:jj$2,sounds:jj$2,remains:jj$2,remained:jj$2,prove:jj$2,proves:jj$2,proved:jj$2,becomes:jj$2,stays:jj$2,tastes:jj$2,taste:jj$2,smells:jj$2,smell:jj$2,gets:jj$2,grows:jj$2,as:jj$2,rings:jj$2,radiates:jj$2,conveys:jj$2,convey:jj$2,conveyed:jj$2,of:jj$2},afterWords:{too:jj$2,also:jj$2,or:jj$2,enough:jj$2,as:jj$2}},g$2="Gerund",gerund={beforeTags:{Adverb:g$2,Preposition:g$2,Conjunction:g$2},afterTags:{Adverb:g$2,Possessive:g$2,Person:g$2,Pronoun:g$2,Determiner:g$2,Copula:g$2,Preposition:g$2,Conjunction:g$2,Comparative:g$2},beforeWords:{been:g$2,keep:g$2,continue:g$2,stop:g$2,am:g$2,be:g$2,me:g$2,began:g$2,start:g$2,starts:g$2,started:g$2,stops:g$2,stopped:g$2,help:g$2,helps:g$2,avoid:g$2,avoids:g$2,love:g$2,loves:g$2,loved:g$2,hate:g$2,hates:g$2,hated:g$2},afterWords:{you:g$2,me:g$2,her:g$2,him:g$2,his:g$2,them:g$2,their:g$2,it:g$2,this:g$2,there:g$2,on:g$2,about:g$2,for:g$2,up:g$2,down:g$2}},g$1="Gerund",jj$1="Adjective",clue$6={beforeTags:Object.assign({},adj$1.beforeTags,gerund.beforeTags,{Imperative:g$1,Infinitive:jj$1,Plural:g$1}),afterTags:Object.assign({},adj$1.afterTags,gerund.afterTags,{Noun:jj$1}),beforeWords:Object.assign({},adj$1.beforeWords,gerund.beforeWords,{is:jj$1,are:g$1,was:jj$1,of:jj$1,suggest:g$1,suggests:g$1,suggested:g$1,recommend:g$1,recommends:g$1,recommended:g$1,imagine:g$1,imagines:g$1,imagined:g$1,consider:g$1,considered:g$1,considering:g$1,resist:g$1,resists:g$1,resisted:g$1,avoid:g$1,avoided:g$1,avoiding:g$1,except:jj$1,accept:jj$1,assess:g$1,explore:g$1,fear:g$1,fears:g$1,appreciate:g$1,question:g$1,help:g$1,embrace:g$1,with:jj$1}),afterWords:Object.assign({},adj$1.afterWords,gerund.afterWords,{to:g$1,not:g$1,the:g$1})},misc$4={beforeTags:{Determiner:void 0,Cardinal:"Noun",PhrasalVerb:"Adjective"},afterTags:{}},clue$5={beforeTags:Object.assign({},adj$1.beforeTags,noun$1.beforeTags,misc$4.beforeTags),afterTags:Object.assign({},adj$1.afterTags,noun$1.afterTags,misc$4.afterTags),beforeWords:Object.assign({},adj$1.beforeWords,noun$1.beforeWords,{are:"Adjective",is:"Adjective",was:"Adjective",be:"Adjective",off:"Adjective",out:"Adjective"}),afterWords:Object.assign({},adj$1.afterWords,noun$1.afterWords)};let past$1="PastTense",jj="Adjective";const adjPast={beforeTags:{Adverb:past$1,Pronoun:past$1,ProperNoun:past$1,Auxiliary:past$1,Noun:past$1},afterTags:{Possessive:past$1,Pronoun:past$1,Determiner:past$1,Adverb:past$1,Comparative:past$1,Date:past$1,Gerund:past$1},beforeWords:{be:past$1,who:past$1,get:jj,had:past$1,has:past$1,have:past$1,been:past$1,it:past$1,as:past$1,for:jj,more:jj,always:jj},afterWords:{by:past$1,back:past$1,out:past$1,in:past$1,up:past$1,down:past$1,before:past$1,after:past$1,for:past$1,the:past$1,with:past$1,as:past$1,on:past$1,at:past$1,between:past$1,to:past$1,into:past$1,us:past$1,them:past$1,his:past$1,her:past$1,their:past$1,our:past$1,me:past$1,about:jj}},adjPast$1={beforeTags:Object.assign({},adj$1.beforeTags,adjPast.beforeTags),afterTags:Object.assign({},adj$1.afterTags,adjPast.afterTags),beforeWords:Object.assign({},adj$1.beforeWords,adjPast.beforeWords),afterWords:Object.assign({},adj$1.afterWords,adjPast.afterWords)},misc$3={afterTags:{Noun:"Adjective",Conjunction:void 0}},clue$4={beforeTags:Object.assign({},adj$1.beforeTags,verb.beforeTags,{Adverb:void 0,Negative:void 0}),afterTags:Object.assign({},adj$1.afterTags,verb.afterTags,misc$3.afterTags),beforeWords:Object.assign({},adj$1.beforeWords,verb.beforeWords,{have:void 0,had:void 0,not:void 0,went:"Adjective",goes:"Adjective",got:"Adjective",be:"Adjective"}),afterWords:Object.assign({},adj$1.afterWords,verb.afterWords,{to:void 0,as:"Adjective"})},misc$2={beforeTags:{Copula:"Gerund",PastTense:"Gerund",PresentTense:"Gerund",Infinitive:"Gerund"},afterTags:{Value:"Gerund"},beforeWords:{are:"Gerund",were:"Gerund",be:"Gerund",no:"Gerund",without:"Gerund",you:"Gerund",we:"Gerund",they:"Gerund",he:"Gerund",she:"Gerund",us:"Gerund",them:"Gerund"},afterWords:{the:"Gerund",this:"Gerund",that:"Gerund",me:"Gerund",us:"Gerund",them:"Gerund"}},clue$3={beforeTags:Object.assign({},gerund.beforeTags,noun$1.beforeTags,misc$2.beforeTags),afterTags:Object.assign({},gerund.afterTags,noun$1.afterTags,misc$2.afterTags),beforeWords:Object.assign({},gerund.beforeWords,noun$1.beforeWords,misc$2.beforeWords),afterWords:Object.assign({},gerund.afterWords,noun$1.afterWords,misc$2.afterWords)},nn$1="Singular",vb$1="Infinitive",clue$2={beforeTags:Object.assign({},verb.beforeTags,noun$1.beforeTags,{Adjective:nn$1,Particle:nn$1}),afterTags:Object.assign({},verb.afterTags,noun$1.afterTags,{ProperNoun:vb$1,Gerund:vb$1,Adjective:vb$1,Copula:nn$1}),beforeWords:Object.assign({},verb.beforeWords,noun$1.beforeWords,{is:nn$1,was:nn$1,of:nn$1,have:null}),afterWords:Object.assign({},verb.afterWords,noun$1.afterWords,{instead:vb$1,about:vb$1,his:vb$1,her:vb$1,to:null,by:null,in:null})},p$3="Person",person$1={beforeTags:{Honorific:p$3,Person:p$3},afterTags:{Person:p$3,ProperNoun:p$3,Verb:p$3},ownTags:{ProperNoun:p$3},beforeWords:{hi:p$3,hey:p$3,yo:p$3,dear:p$3,hello:p$3},afterWords:{said:p$3,says:p$3,told:p$3,tells:p$3,feels:p$3,felt:p$3,seems:p$3,thinks:p$3,thought:p$3,spends:p$3,spendt:p$3,plays:p$3,played:p$3,sing:p$3,sang:p$3,learn:p$3,learned:p$3,wants:p$3,wanted:p$3}},m$2="Month",p$2="Person",month={beforeTags:{Date:m$2,Value:m$2},afterTags:{Date:m$2,Value:m$2},beforeWords:{by:m$2,in:m$2,on:m$2,during:m$2,after:m$2,before:m$2,between:m$2,until:m$2,til:m$2,sometime:m$2,of:m$2,this:m$2,next:m$2,last:m$2,previous:m$2,following:m$2,with:p$2},afterWords:{sometime:m$2,in:m$2,of:m$2,until:m$2,the:m$2}},personDate={beforeTags:Object.assign({},person$1.beforeTags,month.beforeTags),afterTags:Object.assign({},person$1.afterTags,month.afterTags),beforeWords:Object.assign({},person$1.beforeWords,month.beforeWords),afterWords:Object.assign({},person$1.afterWords,month.afterWords)},clue$1={beforeTags:Object.assign({},noun$1.beforeTags,person$1.beforeTags),afterTags:Object.assign({},noun$1.afterTags,person$1.afterTags),beforeWords:Object.assign({},noun$1.beforeWords,person$1.beforeWords,{i:"Infinitive",we:"Infinitive"}),afterWords:Object.assign({},noun$1.afterWords,person$1.afterWords)},clues$3={beforeTags:Object.assign({},noun$1.beforeTags,person$1.beforeTags,verb.beforeTags),afterTags:Object.assign({},noun$1.afterTags,person$1.afterTags,verb.afterTags),beforeWords:Object.assign({},noun$1.beforeWords,person$1.beforeWords,verb.beforeWords),afterWords:Object.assign({},noun$1.afterWords,person$1.afterWords,verb.afterWords)},p$1="Place",place={beforeTags:{Place:p$1},afterTags:{Place:p$1,Abbreviation:p$1},beforeWords:{in:p$1,by:p$1,near:p$1,from:p$1,to:p$1},afterWords:{in:p$1,by:p$1,near:p$1,from:p$1,to:p$1,government:p$1,council:p$1,region:p$1,city:p$1}},clue={beforeTags:Object.assign({},place.beforeTags,person$1.beforeTags),afterTags:Object.assign({},place.afterTags,person$1.afterTags),beforeWords:Object.assign({},place.beforeWords,person$1.beforeWords),afterWords:Object.assign({},place.afterWords,person$1.afterWords)},clues$2={beforeTags:Object.assign({},person$1.beforeTags,adj$1.beforeTags),afterTags:Object.assign({},person$1.afterTags,adj$1.afterTags),beforeWords:Object.assign({},person$1.beforeWords,adj$1.beforeWords),afterWords:Object.assign({},person$1.afterWords,adj$1.afterWords)};let un="Unit";const clues$1={beforeTags:{Value:un},afterTags:{},beforeWords:{per:un,every:un,each:un,square:un,cubic:un,sq:un,metric:un},afterWords:{per:un,squared:un,cubed:un,long:un}},clues={"Actor|Verb":clue$7,"Adj|Gerund":clue$6,"Adj|Noun":clue$5,"Adj|Past":adjPast$1,"Adj|Present":clue$4,"Noun|Verb":clue$2,"Noun|Gerund":clue$3,"Person|Noun":clue$1,"Person|Date":personDate,"Person|Verb":clues$3,"Person|Place":clue,"Person|Adj":clues$2,"Unit|Noun":clues$1},copy=(_e,et)=>{let tt=Object.keys(_e).reduce((nt,rt)=>(nt[rt]=_e[rt]==="Infinitive"?"PresentTense":"Plural",nt),{});return Object.assign(tt,et)};clues["Plural|Verb"]={beforeWords:copy(clues["Noun|Verb"].beforeWords,{had:"Plural",have:"Plural"}),afterWords:copy(clues["Noun|Verb"].afterWords,{his:"PresentTense",her:"PresentTense",its:"PresentTense",in:null,to:null,is:"PresentTense",by:"PresentTense"}),beforeTags:copy(clues["Noun|Verb"].beforeTags,{Conjunction:"PresentTense",Noun:void 0,ProperNoun:"PresentTense"}),afterTags:copy(clues["Noun|Verb"].afterTags,{Gerund:"Plural",Noun:"PresentTense",Value:"PresentTense"})};const Adj$2="Adjective",Inf$1="Infinitive",Pres$1="PresentTense",Sing$1="Singular",Past$1="PastTense",Avb="Adverb",Plrl="Plural",Actor$1="Actor",Vb="Verb",Noun$2="Noun",Last$1="LastName",Modal="Modal",Place="Place",Prt="Participle",suffixPatterns=[null,null,{ea:Sing$1,ia:Noun$2,ic:Adj$2,ly:Avb,"'n":Vb,"'t":Vb},{oed:Past$1,ued:Past$1,xed:Past$1," so":Avb,"'ll":Modal,"'re":"Copula",azy:Adj$2,eer:Noun$2,end:Vb,ped:Past$1,ffy:Adj$2,ify:Inf$1,ing:"Gerund",ize:Inf$1,ibe:Inf$1,lar:Adj$2,mum:Adj$2,nes:Pres$1,nny:Adj$2,ous:Adj$2,que:Adj$2,ger:Noun$2,ber:Noun$2,rol:Sing$1,sis:Sing$1,ogy:Sing$1,oid:Sing$1,ian:Sing$1,zes:Pres$1,eld:Past$1,ken:Prt,ven:Prt,ten:Prt,ect:Inf$1,ict:Inf$1,ign:Inf$1,oze:Inf$1,ful:Adj$2,bal:Adj$2,ton:Noun$2},{amed:Past$1,aped:Past$1,ched:Past$1,lked:Past$1,rked:Past$1,reed:Past$1,nded:Past$1,mned:Adj$2,cted:Past$1,dged:Past$1,ield:Sing$1,akis:Last$1,cede:Inf$1,chuk:Last$1,czyk:Last$1,ects:Pres$1,iend:Sing$1,ends:Vb,enko:Last$1,ette:Sing$1,iary:Sing$1,wner:Sing$1,fies:Pres$1,fore:Avb,gate:Inf$1,gone:Adj$2,ices:Plrl,ints:Plrl,ruct:Inf$1,ines:Plrl,ions:Plrl,ners:Plrl,pers:Plrl,lers:Plrl,less:Adj$2,llen:Adj$2,made:Adj$2,nsen:Last$1,oses:Pres$1,ould:Modal,some:Adj$2,sson:Last$1,ians:Plrl,tion:Sing$1,tage:Noun$2,ique:Sing$1,tive:Adj$2,tors:Noun$2,vice:Sing$1,lier:Sing$1,fier:Sing$1,wned:Past$1,gent:Sing$1,tist:Actor$1,pist:Actor$1,rist:Actor$1,mist:Actor$1,yist:Actor$1,vist:Actor$1,ists:Actor$1,lite:Sing$1,site:Sing$1,rite:Sing$1,mite:Sing$1,bite:Sing$1,mate:Sing$1,date:Sing$1,ndal:Sing$1,vent:Sing$1,uist:Actor$1,gist:Actor$1,note:Sing$1,cide:Sing$1,ence:Sing$1,wide:Adj$2,vide:Inf$1,ract:Inf$1,duce:Inf$1,pose:Inf$1,eive:Inf$1,lyze:Inf$1,lyse:Inf$1,iant:Adj$2,nary:Adj$2,ghty:Adj$2,uent:Adj$2,erer:Actor$1,bury:Place,dorf:Noun$2,esty:Noun$2,wych:Place,dale:Place,folk:Place},{elist:Actor$1,holic:Sing$1,phite:Sing$1,tized:Past$1,urned:Past$1,eased:Past$1,ances:Plrl,bound:Adj$2,ettes:Plrl,fully:Avb,ishes:Pres$1,ities:Plrl,marek:Last$1,nssen:Last$1,ology:Noun$2,osome:Sing$1,tment:Sing$1,ports:Plrl,rough:Adj$2,tches:Pres$1,tieth:"Ordinal",tures:Plrl,wards:Avb,where:Avb,archy:Noun$2,pathy:Noun$2,opoly:Noun$2,embly:Noun$2,phate:Noun$2,ndent:Sing$1,scent:Sing$1,onist:Actor$1,anist:Actor$1,alist:Actor$1,olist:Actor$1,icist:Actor$1,ounce:Inf$1,iable:Adj$2,borne:Adj$2,gnant:Adj$2,inant:Adj$2,igent:Adj$2,atory:Adj$2,rient:Sing$1,dient:Sing$1,maker:Actor$1,burgh:Place,mouth:Place,ceter:Place,ville:Place,worth:Noun$2},{auskas:Last$1,parent:Sing$1,cedent:Sing$1,ionary:Sing$1,cklist:Sing$1,keeper:Actor$1,logist:Actor$1,teenth:"Value",worker:Actor$1,master:Actor$1,writer:Actor$1,brough:Place,cester:Place},{logists:Actor$1,opoulos:Last$1,borough:Place,sdottir:Last$1}],Adj$1="Adjective",Noun$1="Noun",Verb$1="Verb",prefixPatterns=[null,null,{},{neo:Noun$1,bio:Noun$1,"de-":Verb$1,"re-":Verb$1,"un-":Verb$1,"ex-":Noun$1},{anti:Noun$1,auto:Noun$1,faux:Adj$1,hexa:Noun$1,kilo:Noun$1,mono:Noun$1,nano:Noun$1,octa:Noun$1,poly:Noun$1,semi:Adj$1,tele:Noun$1,"pro-":Adj$1,"mis-":Verb$1,"dis-":Verb$1,"pre-":Adj$1},{anglo:Noun$1,centi:Noun$1,ethno:Noun$1,ferro:Noun$1,grand:Noun$1,hepta:Noun$1,hydro:Noun$1,intro:Noun$1,macro:Noun$1,micro:Noun$1,milli:Noun$1,nitro:Noun$1,penta:Noun$1,quasi:Adj$1,radio:Noun$1,tetra:Noun$1,"omni-":Adj$1,"post-":Adj$1},{pseudo:Adj$1,"extra-":Adj$1,"hyper-":Adj$1,"inter-":Adj$1,"intra-":Adj$1,"deca-":Adj$1},{electro:Noun$1}],Adj="Adjective",Inf="Infinitive",Pres="PresentTense",Sing="Singular",Past="PastTense",Adverb="Adverb",Exp="Expression",Actor="Actor",Verb="Verb",Noun="Noun",Last="LastName",endsWith$1={a:[[/.[aeiou]na$/,Noun,"tuna"],[/.[oau][wvl]ska$/,Last],[/.[^aeiou]ica$/,Sing,"harmonica"],[/^([hyj]a+)+$/,Exp,"haha"]],c:[[/.[^aeiou]ic$/,Adj]],d:[[/[aeiou](pp|ll|ss|ff|gg|tt|rr|bb|nn|mm)ed$/,Past,"popped"],[/.[aeo]{2}[bdgmnprvz]ed$/,Past,"rammed"],[/.[aeiou][sg]hed$/,Past,"gushed"],[/.[aeiou]red$/,Past,"hired"],[/.[aeiou]r?ried$/,Past,"hurried"],[/[^aeiou]ard$/,Sing,"steward"],[/[aeiou][^aeiou]id$/,Adj,""],[/.[vrl]id$/,Adj,"livid"],[/..led$/,Past,"hurled"],[/.[iao]sed$/,Past,""],[/[aeiou]n?[cs]ed$/,Past,""],[/[aeiou][rl]?[mnf]ed$/,Past,""],[/[aeiou][ns]?c?ked$/,Past,"bunked"],[/[aeiou]gned$/,Past],[/[aeiou][nl]?ged$/,Past],[/.[tdbwxyz]ed$/,Past],[/[^aeiou][aeiou][tvx]ed$/,Past],[/.[cdflmnprstv]ied$/,Past,"emptied"]],e:[[/.[lnr]ize$/,Inf,"antagonize"],[/.[^aeiou]ise$/,Inf,"antagonise"],[/.[aeiou]te$/,Inf,"bite"],[/.[^aeiou][ai]ble$/,Adj,"fixable"],[/.[^aeiou]eable$/,Adj,"maleable"],[/.[ts]ive$/,Adj,"festive"],[/[a-z]-like$/,Adj,"woman-like"]],h:[[/.[^aeiouf]ish$/,Adj,"cornish"],[/.v[iy]ch$/,Last,"..ovich"],[/^ug?h+$/,Exp,"ughh"],[/^uh[ -]?oh$/,Exp,"uhoh"],[/[a-z]-ish$/,Adj,"cartoon-ish"]],i:[[/.[oau][wvl]ski$/,Last,"polish-male"]],k:[[/^(k){2}$/,Exp,"kkkk"]],l:[[/.[gl]ial$/,Adj,"familial"],[/.[^aeiou]ful$/,Adj,"fitful"],[/.[nrtumcd]al$/,Adj,"natal"],[/.[^aeiou][ei]al$/,Adj,"familial"]],m:[[/.[^aeiou]ium$/,Sing,"magnesium"],[/[^aeiou]ism$/,Sing,"schism"],[/^[hu]m+$/,Exp,"hmm"],[/^\d+ ?[ap]m$/,"Date","3am"]],n:[[/.[lsrnpb]ian$/,Adj,"republican"],[/[^aeiou]ician$/,Actor,"musician"],[/[aeiou][ktrp]in'$/,"Gerund","cookin'"]],o:[[/^no+$/,Exp,"noooo"],[/^(yo)+$/,Exp,"yoo"],[/^wo{2,}[pt]?$/,Exp,"woop"]],r:[[/.[bdfklmst]ler$/,"Noun"],[/[aeiou][pns]er$/,Sing],[/[^i]fer$/,Inf],[/.[^aeiou][ao]pher$/,Actor],[/.[lk]er$/,"Noun"],[/.ier$/,"Comparative"]],t:[[/.[di]est$/,"Superlative"],[/.[icldtgrv]ent$/,Adj],[/[aeiou].*ist$/,Adj],[/^[a-z]et$/,Verb]],s:[[/.[^aeiou]ises$/,Pres],[/.[rln]ates$/,Pres],[/.[^z]ens$/,Verb],[/.[lstrn]us$/,Sing],[/.[aeiou]sks$/,Pres],[/.[aeiou]kes$/,Pres],[/[aeiou][^aeiou]is$/,Sing],[/[a-z]'s$/,Noun],[/^yes+$/,Exp]],v:[[/.[^aeiou][ai][kln]ov$/,Last]],y:[[/.[cts]hy$/,Adj],[/.[st]ty$/,Adj],[/.[tnl]ary$/,Adj],[/.[oe]ry$/,Sing],[/[rdntkbhs]ly$/,Adverb],[/.(gg|bb|zz)ly$/,Adj],[/...lly$/,Adverb],[/.[gk]y$/,Adj],[/[bszmp]{2}y$/,Adj],[/.[ai]my$/,Adj],[/[ea]{2}zy$/,Adj],[/.[^aeiou]ity$/,Sing]]},vb="Verb",nn="Noun",neighbours$1={leftTags:[["Adjective",nn],["Possessive",nn],["Determiner",nn],["Adverb",vb],["Pronoun",vb],["Value",nn],["Ordinal",nn],["Modal",vb],["Superlative",nn],["Demonym",nn],["Honorific","Person"]],leftWords:[["i",vb],["first",nn],["it",vb],["there",vb],["not",vb],["because",nn],["if",nn],["but",nn],["who",vb],["this",nn],["his",nn],["when",nn],["you",vb],["very","Adjective"],["old",nn],["never",vb],["before",nn],["a",nn],["the",nn],["been",vb]],rightTags:[["Copula",nn],["PastTense",nn],["Conjunction",nn],["Modal",nn]],rightWords:[["there",vb],["me",vb],["man","Adjective"],["him",vb],["it",vb],["were",nn],["took",nn],["himself",vb],["went",nn],["who",nn],["jr","Person"]]},data={Comparative:{fwd:"3:ser,ier1er:h,t,f,l,n1r:e2er:ss,or,om",both:"3er:ver,ear,alm3ner:hin3ter:lat2mer:im2er:ng,rm,mb2ber:ib2ger:ig1er:w,p,k,dier:y",rev:"1:tter,yer2:uer,ver,ffer,oner,eler,ller,iler,ster,cer,uler,sher,ener,gher,aner,adder,nter,eter,rter,hter,rner,fter3:oser,ooler,eafer,user,airer,bler,maler,tler,eater,uger,rger,ainer,urer,ealer,icher,pler,emner,icter,nser,iser4:arser,viner,ucher,rosser,somer,ndomer,moter,oother,uarer,hiter5:nuiner,esser,emierar:urther",ex:"worse:badbetter:good4er:fair,gray,poor1urther:far3ter:fat,hot,wet3der:mad,sad3er:shy,fun4der:glad:4r:cute,dire,fake,fine,free,lame,late,pale,rare,ripe,rude,safe,sore,tame,wide5r:eerie,stale"},Gerund:{fwd:"1:nning,tting,rring,pping,eing,mming,gging,dding,bbing,kking2:eking,oling,eling,eming3:velling,siting,uiting,fiting,loting,geting,ialing,celling4:graming",both:"1:aing,iing,fing,xing,ying,oing,hing,wing2:tzing,rping,izzing,bting,mning,sping,wling,rling,wding,rbing,uping,lming,wning,mping,oning,lting,mbing,lking,fting,hting,sking,gning,pting,cking,ening,nking,iling,eping,ering,rting,rming,cting,lping,ssing,nting,nding,lding,sting,rning,rding,rking3:belling,siping,toming,yaking,uaking,oaning,auling,ooping,aiding,naping,euring,tolling,uzzing,ganing,haning,ualing,halling,iasing,auding,ieting,ceting,ouling,voring,ralling,garing,joring,oaming,oaking,roring,nelling,ooring,uelling,eaming,ooding,eaping,eeting,ooting,ooming,xiting,keting,ooking,ulling,airing,oaring,biting,outing,oiting,earing,naling,oading,eeding,ouring,eaking,aiming,illing,oining,eaning,onging,ealing,aining,eading4:thoming,melling,aboring,ivoting,weating,dfilling,onoring,eriting,imiting,tialling,rgining,otoring,linging,winging,lleting,louding,spelling,mpelling,heating,feating,opelling,choring,welling,ymaking,ctoring,calling,peating,iloring,laiting,utoring,uditing,mmaking,loating,iciting,waiting,mbating,voiding,otalling,nsoring,nselling,ocusing,itoring,eloping5:rselling,umpeting,atrolling,treating,tselling,rpreting,pringing,ummeting,ossoming,elmaking,eselling,rediting,totyping,onmaking,rfeiting,ntrolling5e:chmaking,dkeeping,severing,erouting,ecreting,ephoning,uthoring,ravening,reathing,pediting,erfering,eotyping,fringing,entoring,ombining,ompeting4e:emaking,eething,twining,rruling,chuting,xciting,rseding,scoping,edoring,pinging,lunging,agining,craping,pleting,eleting,nciting,nfining,ncoding,tponing,ecoding,writing,esaling,nvening,gnoring,evoting,mpeding,rvening,dhering,mpiling,storing,nviting,ploring3e:tining,nuring,saking,miring,haling,ceding,xuding,rining,nuting,laring,caring,miling,riding,hoking,piring,lading,curing,uading,noting,taping,futing,paring,hading,loding,siring,guring,vading,voking,during,niting,laning,caping,luting,muting,ruding,ciding,juring,laming,caling,hining,uoting,liding,ciling,duling,tuting,puting,cuting,coring,uiding,tiring,turing,siding,rading,enging,haping,buting,lining,taking,anging,haring,uiring,coming,mining,moting,suring,viding,luding2e:tring,zling,uging,oging,gling,iging,vring,fling,lging,obing,psing,pling,ubing,cling,dling,wsing,iking,rsing,dging,kling,ysing,tling,rging,eging,nsing,uning,osing,uming,using,ibing,bling,aging,ising,asing,ating2ie:rlying1e:zing,uing,cing,ving",rev:"ying:ie1ing:se,ke,te,we,ne,re,de,pe,me,le,c,he2ing:ll,ng,dd,ee,ye,oe,rg,us2ning:un2ging:og,ag,ug,ig,eg2ming:um2bing:ub,ab,eb,ob3ning:lan,can,hin,pin,win3ring:cur,lur,tir,tar,pur,car3ing:ait,del,eel,fin,eat,oat,eem,lel,ool,ein,uin3ping:rop,rap,top,uip,wap,hip,hop,lap,rip,cap3ming:tem,wim,rim,kim,lim3ting:mat,cut,pot,lit,lot,hat,set,pit,put3ding:hed,bed,bid3king:rek3ling:cil,pel3bing:rib4ning:egin4ing:isit,ruit,ilot,nsit,dget,rkel,ival,rcel4ring:efer,nfer4ting:rmit,mmit,ysit,dmit,emit,bmit,tfit,gret4ling:evel,xcel,ivel4ding:hred5ing:arget,posit,rofit5ring:nsfer5ting:nsmit,orget,cquit5ling:ancel,istil",ex:"3:adding,eating,aiming,aiding,airing,outing,gassing,setting,getting,putting,cutting,winning,sitting,betting,mapping,tapping,letting,bidding,hitting,tanning,netting,popping,fitting,capping,lapping,barring,banning,vetting,topping,rotting,tipping,potting,wetting,pitting,dipping,budding,hemming,pinning,jetting,kidding,padding,podding,sipping,wedding,bedding,donning,warring,penning,gutting,cueing,wadding,petting,ripping,napping,matting,tinning,binning,dimming,hopping,mopping,nodding,panning,rapping,ridding,sinning4:selling,falling,calling,waiting,editing,telling,rolling,heating,boating,hanging,beating,coating,singing,tolling,felling,polling,discing,seating,voiding,gelling,yelling,baiting,reining,ruining,seeking,spanning,stepping,knitting,emitting,slipping,quitting,dialing,omitting,clipping,shutting,skinning,abutting,flipping,trotting,cramming,fretting,suiting5:bringing,treating,spelling,stalling,trolling,expelling,rivaling,wringing,deterring,singeing,befitting,refitting6:enrolling,distilling,scrolling,strolling,caucusing,travelling7:installing,redefining,stencilling,recharging,overeating,benefiting,unraveling,programing9:reprogrammingis:being2e:using,aging,owing3e:making,taking,coming,noting,hiring,filing,coding,citing,doping,baking,coping,hoping,lading,caring,naming,voting,riding,mining,curing,lining,ruling,typing,boring,dining,firing,hiding,piling,taping,waning,baling,boning,faring,honing,wiping,luring,timing,wading,piping,fading,biting,zoning,daring,waking,gaming,raking,ceding,tiring,coking,wining,joking,paring,gaping,poking,pining,coring,liming,toting,roping,wiring,aching4e:writing,storing,eroding,framing,smoking,tasting,wasting,phoning,shaking,abiding,braking,flaking,pasting,priming,shoring,sloping,withing,hinging5e:defining,refining,renaming,swathing,fringing,reciting1ie:dying,tying,lying,vying7e:sunbathing"},Participle:{fwd:"1:mt2:llen3:iven,aken:ney:in",both:"1:wn2:me,aten3:seen,bidden,isen4:roven,asten3l:pilt3d:uilt2e:itten1im:wum1eak:poken1ine:hone1ose:osen1in:gun1ake:wokenear:orneal:oleneeze:ozenet:ottenink:unking:ung",rev:"2:unoken:eakought:eekoven:eave1ne:o1own:ly1den:de1in:ay2t:am2n:ee3en:all4n:rive,sake,take5n:rgive",ex:"2:been3:seen,run4:given,taken5:shaken2eak:broken1ive:dove2y:flown3e:hidden,ridden1eek:sought1ake:woken1eave:woven"},PastTense:{fwd:"1:tted,wed,gged,nned,een,rred,pped,yed,bbed,oed,dded,rd,wn,mmed2:eed,nded,et,hted,st,oled,ut,emed,eled,lded,ken,rt,nked,apt,ant,eped,eked3:eared,eat,eaded,nelled,ealt,eeded,ooted,eaked,eaned,eeted,mited,bid,uit,ead,uited,ealed,geted,velled,ialed,belled4:ebuted,hined,comedy:iedome:ameear:oreind:ounding:ung,angep:ptink:ank,unkig:ugall:ellee:awive:aveeeze:ozeold:eldave:ftake:ookell:oldite:oteide:odeine:onein:un,oneal:oleim:amie:ayand:ood1ise:rose1eak:roke1ing:rought1ive:rove1el:elt1id:bade1et:got1y:aid1it:sat3e:lid3d:pent",both:"1:aed,fed,xed,hed2:sged,xted,wled,rped,lked,kied,lmed,lped,uped,bted,rbed,rked,wned,rled,mped,fted,mned,mbed,zzed,omed,ened,cked,gned,lted,sked,ued,zed,nted,ered,rted,rmed,ced,sted,rned,ssed,rded,pted,ved,cted3:cled,eined,siped,ooned,uked,ymed,jored,ouded,ioted,oaned,lged,asped,iged,mured,oided,eiled,yped,taled,moned,yled,lit,kled,oaked,gled,naled,fled,uined,oared,valled,koned,soned,aided,obed,ibed,meted,nicked,rored,micked,keted,vred,ooped,oaded,rited,aired,auled,filled,ouled,ooded,ceted,tolled,oited,bited,aped,tled,vored,dled,eamed,nsed,rsed,sited,owded,pled,sored,rged,osed,pelled,oured,psed,oated,loned,aimed,illed,eured,tred,ioned,celled,bled,wsed,ooked,oiled,itzed,iked,iased,onged,ased,ailed,uned,umed,ained,auded,nulled,ysed,eged,ised,aged,oined,ated,used,dged,doned4:ntied,efited,uaked,caded,fired,roped,halled,roked,himed,culed,tared,lared,tuted,uared,routed,pited,naked,miled,houted,helled,hared,cored,caled,tired,peated,futed,ciled,called,tined,moted,filed,sided,poned,iloted,honed,lleted,huted,ruled,cured,named,preted,vaded,sured,talled,haled,peded,gined,nited,uided,ramed,feited,laked,gured,ctored,unged,pired,cuted,voked,eloped,ralled,rined,coded,icited,vided,uaded,voted,mined,sired,noted,lined,nselled,luted,jured,fided,puted,piled,pared,olored,cided,hoked,enged,tured,geoned,cotted,lamed,uiled,waited,udited,anged,luded,mired,uired,raded5:modelled,izzled,eleted,umpeted,ailored,rseded,treated,eduled,ecited,rammed,eceded,atrolled,nitored,basted,twined,itialled,ncited,gnored,ploded,xcited,nrolled,namelled,plored,efeated,redited,ntrolled,nfined,pleted,llided,lcined,eathed,ibuted,lloted,dhered,cceded3ad:sled2aw:drew2ot:hot2ke:made2ow:hrew,grew2ose:hose2d:ilt2in:egan1un:ran1ink:hought1ick:tuck1ike:ruck1eak:poke,nuck1it:pat1o:did1ow:new1ake:wokego:went",rev:"3:rst,hed,hut,cut,set4:tbid5:dcast,eread,pread,erbidought:uy,eek1ied:ny,ly,dy,ry,fy,py,vy,by,ty,cy1ung:ling,ting,wing1pt:eep1ank:rink1ore:bear,wear1ave:give1oze:reeze1ound:rind,wind1ook:take,hake1aw:see1old:sell1ote:rite1ole:teal1unk:tink1am:wim1ay:lie1ood:tand1eld:hold2d:he,ge,re,le,leed,ne,reed,be,ye,lee,pe,we2ed:dd,oy,or,ey,gg,rr,us,ew,to2ame:ecome,rcome2ped:ap2ged:ag,og,ug,eg2bed:ub,ab,ib,ob2lt:neel2id:pay2ang:pring2ove:trive2med:um2ode:rride2at:ysit3ted:mit,hat,mat,lat,pot,rot,bat3ed:low,end,tow,und,ond,eem,lay,cho,dow,xit,eld,ald,uld,law,lel,eat,oll,ray,ank,fin,oam,out,how,iek,tay,haw,ait,vet,say,cay,bow3d:ste,ede,ode,ete,ree,ude,ame,oke,ote,ime,ute,ade3red:lur,cur,pur,car3ped:hop,rop,uip,rip,lip,tep,top3ded:bed,rod,kid3ade:orbid3led:uel3ned:lan,can,kin,pan,tun3med:rim,lim4ted:quit,llot4ed:pear,rrow,rand,lean,mand,anel,pand,reet,link,abel,evel,imit,ceed,ruit,mind,peal,veal,hool,head,pell,well,mell,uell,band,hear,weak4led:nnel,qual,ebel,ivel4red:nfer,efer,sfer4n:sake,trew4d:ntee4ded:hred4ned:rpin5ed:light,nceal,right,ndear,arget,hread,eight,rtial,eboot5d:edite,nvite5ted:egret5led:ravel",ex:"2:been,upped3:added,aged,aided,aimed,aired,bid,died,dyed,egged,erred,eyed,fit,gassed,hit,lied,owed,pent,pied,tied,used,vied,oiled,outed,banned,barred,bet,canned,cut,dipped,donned,ended,feed,inked,jarred,let,manned,mowed,netted,padded,panned,pitted,popped,potted,put,set,sewn,sowed,tanned,tipped,topped,vowed,weed,bowed,jammed,binned,dimmed,hopped,mopped,nodded,pinned,rigged,sinned,towed,vetted4:ached,baked,baled,boned,bored,called,caned,cared,ceded,cited,coded,cored,cubed,cured,dared,dined,edited,exited,faked,fared,filed,fined,fired,fuelled,gamed,gelled,hired,hoped,joked,lined,mined,named,noted,piled,poked,polled,pored,pulled,reaped,roamed,rolled,ruled,seated,shed,sided,timed,tolled,toned,voted,waited,walled,waned,winged,wiped,wired,zoned,yelled,tamed,lubed,roped,faded,mired,caked,honed,banged,culled,heated,raked,welled,banded,beat,cast,cooled,cost,dealt,feared,folded,footed,handed,headed,heard,hurt,knitted,landed,leaked,leapt,linked,meant,minded,molded,neared,needed,peaked,plodded,plotted,pooled,quit,read,rooted,sealed,seeded,seeped,shipped,shunned,skimmed,slammed,sparred,stemmed,stirred,suited,thinned,twinned,swayed,winked,dialed,abutted,blotted,fretted,healed,heeded,peeled,reeled5:basted,cheated,equalled,eroded,exiled,focused,opined,pleated,primed,quoted,scouted,shored,sloped,smoked,sniped,spelled,spouted,routed,staked,stored,swelled,tasted,treated,wasted,smelled,dwelled,honored,prided,quelled,eloped,scared,coveted,sweated,breaded,cleared,debuted,deterred,freaked,modeled,pleaded,rebutted,speeded6:anchored,defined,endured,impaled,invited,refined,revered,strolled,cringed,recast,thrust,unfolded7:authored,combined,competed,conceded,convened,excreted,extruded,redefined,restored,secreted,rescinded,welcomed8:expedited,infringed9:interfered,intervened,persevered10:contravenedeat:ateis:wasgo:wentare:were3d:bent,lent,rent,sent3e:bit,fled,hid,lost3ed:bled,bred2ow:blew,grew1uy:bought2tch:caught1o:did1ive:dove,gave2aw:drew2ed:fed2y:flew,laid,paid,said1ight:fought1et:got2ve:had1ang:hung2ad:led2ght:lit2ke:made2et:met1un:ran1ise:rose1it:sat1eek:sought1each:taught1ake:woke,took1eave:wove2ise:arose1ear:bore,tore,wore1ind:bound,found,wound2eak:broke2ing:brought,wrung1ome:came2ive:drove1ig:dug1all:fell2el:felt4et:forgot1old:held2ave:left1ing:rang,sang1ide:rode1ink:sank1ee:saw2ine:shone4e:slid1ell:sold,told4d:spent2in:spun1in:won"},PresentTense:{fwd:"1:oes1ve:as",both:"1:xes2:zzes,ches,shes,sses3:iases2y:llies,plies1y:cies,bies,ties,vies,nies,pies,dies,ries,fies:s",rev:"1ies:ly2es:us,go,do3es:cho,eto",ex:"2:does,goes3:gasses5:focusesis:are3y:relies2y:flies2ve:has"},Superlative:{fwd:"1st:e1est:l,m,f,s1iest:cey2est:or,ir3est:ver",both:"4:east5:hwest5lest:erful4est:weet,lgar,tter,oung4most:uter3est:ger,der,rey,iet,ong,ear3test:lat3most:ner2est:pt,ft,nt,ct,rt,ht2test:it2gest:ig1est:b,k,n,p,h,d,wiest:y",rev:"1:ttest,nnest,yest2:sest,stest,rmest,cest,vest,lmest,olest,ilest,ulest,ssest,imest,uest3:rgest,eatest,oorest,plest,allest,urest,iefest,uelest,blest,ugest,amest,yalest,ealest,illest,tlest,itest4:cerest,eriest,somest,rmalest,ndomest,motest,uarest,tiffest5:leverest,rangestar:urthest3ey:riciest",ex:"best:goodworst:bad5est:great4est:fast,full,fair,dull3test:hot,wet,fat4nest:thin1urthest:far3est:gay,shy,ill4test:neat4st:late,wide,fine,safe,cute,fake,pale,rare,rude,sore,ripe,dire6st:severe"},AdjToNoun:{fwd:"1:tistic,eable,lful,sful,ting,tty2:onate,rtable,geous,ced,seful,ctful3:ortive,entedarity:eary:eticfulness:begone1ity:re1y:tiful,gic2ity:ile,imous,ilous,ime2ion:ated2eness:iving2y:trious2ation:iring2tion:vant3ion:ect3ce:mant,mantic3tion:irable3y:est,estic3m:mistic,listic3ess:ning4n:utious4on:rative,native,vative,ective4ce:erant",both:"1:king,wing2:alous,ltuous,oyful,rdous3:gorous,ectable,werful,amatic4:oised,usical,agical,raceful,ocused,lined,ightful5ness:stful,lding,itous,nuous,ulous,otous,nable,gious,ayful,rvous,ntous,lsive,peful,entle,ciful,osive,leful,isive,ncise,reful,mious5ty:ivacious5ties:ubtle5ce:ilient,adiant,atient5cy:icient5sm:gmatic5on:sessive,dictive5ity:pular,sonal,eative,entic5sity:uminous5ism:conic5nce:mperate5ility:mitable5ment:xcited5n:bitious4cy:brant,etent,curate4ility:erable,acable,icable,ptable4ty:nacious,aive,oyal,dacious4n:icious4ce:vient,erent,stent,ndent,dient,quent,ident4ness:adic,ound,hing,pant,sant,oing,oist,tute4icity:imple4ment:fined,mused4ism:otic4ry:dantic4ity:tund,eral4edness:hand4on:uitive4lity:pitable4sm:eroic,namic4sity:nerous3th:arm3ility:pable,bable,dable,iable3cy:hant,nant,icate3ness:red,hin,nse,ict,iet,ite,oud,ind,ied,rce3ion:lute3ity:ual,gal,volous,ial3ce:sent,fensive,lant,gant,gent,lent,dant3on:asive3m:fist,sistic,iastic3y:terious,xurious,ronic,tastic3ur:amorous3e:tunate3ation:mined3sy:rteous3ty:ain3ry:ave3ment:azed2ness:de,on,ue,rn,ur,ft,rp,pe,om,ge,rd,od,ay,ss,er,ll,oy,ap,ht,ld,ad,rt2inousness:umous2ity:neous,ene,id,ane2cy:bate,late2ation:ized2ility:oble,ible2y:odic2e:oving,aring2s:ost2itude:pt2dom:ee2ance:uring2tion:reet2ion:oted2sion:ending2liness:an2or:rdent1th:ung1e:uable1ness:w,h,k,f1ility:mble1or:vent1ement:ging1tiquity:ncient1ment:hedverty:orength:ongeat:otpth:epiness:y",rev:"",ex:"5:forceful,humorous8:charismatic13:understanding5ity:active11ness:adventurous,inquisitive,resourceful8on:aggressive,automatic,perceptive7ness:amorous,fatuous,furtive,ominous,serious5ness:ample,sweet12ness:apprehensive,cantankerous,contemptuous,ostentatious13ness:argumentative,conscientious9ness:assertive,facetious,imperious,inventive,oblivious,rapacious,receptive,seditious,whimsical10ness:attractive,expressive,impressive,loquacious,salubrious,thoughtful3edom:boring4ness:calm,fast,keen,tame8ness:cheerful,gracious,specious,spurious,timorous,unctuous5sity:curious9ion:deliberate8ion:desperate6e:expensive7ce:fragrant3y:furious9ility:ineluctable6ism:mystical8ity:physical,proactive,sensitive,vertical5cy:pliant7ity:positive9ity:practical12ism:professional6ce:prudent3ness:red6cy:vagrant3dom:wise"}},checkEx=function(_e,et={}){return et.hasOwnProperty(_e)?et[_e]:null},checkSame=function(_e,et=[]){for(let tt=0;tt<et.length;tt+=1)if(_e.endsWith(et[tt]))return _e;return null},checkRules=function(_e,et,tt={}){et=et||{};let nt=_e.length-1;for(let rt=nt;rt>=1;rt-=1){let it=_e.length-rt,ot=_e.substring(it,_e.length);if(et.hasOwnProperty(ot)===!0)return _e.slice(0,it)+et[ot];if(tt.hasOwnProperty(ot)===!0)return _e.slice(0,it)+tt[ot]}return et.hasOwnProperty("")?_e+=et[""]:tt.hasOwnProperty("")?_e+=tt[""]:null},convert=function(_e="",et={}){let tt=checkEx(_e,et.ex);return tt=tt||checkSame(_e,et.same),tt=tt||checkRules(_e,et.fwd,et.both),tt=tt||_e,tt},flipObj=function(_e){return Object.entries(_e).reduce((et,tt)=>(et[tt[1]]=tt[0],et),{})},reverse=function(_e={}){return{reversed:!0,both:flipObj(_e.both),ex:flipObj(_e.ex),fwd:_e.rev||{}}},prefix$2=/^([0-9]+)/,toObject=function(_e){let et={};return _e.split("").forEach(tt=>{let[nt,rt]=tt.split(":");rt=(rt||"").split(","),rt.forEach(it=>{et[it]=nt})}),et},growObject=function(_e="",et=""){et=String(et);let tt=et.match(prefix$2);if(tt===null)return et;let nt=Number(tt[1])||0;return _e.substring(0,nt)+et.replace(prefix$2,"")},unpackOne=function(_e){let et=toObject(_e);return Object.keys(et).reduce((tt,nt)=>(tt[nt]=growObject(nt,et[nt]),tt),{})},uncompress=function(_e={}){return typeof _e=="string"&&(_e=JSON.parse(_e)),_e.fwd=unpackOne(_e.fwd||""),_e.both=unpackOne(_e.both||""),_e.rev=unpackOne(_e.rev||""),_e.ex=unpackOne(_e.ex||""),_e},fromPast=uncompress(data.PastTense),fromPresent=uncompress(data.PresentTense),fromGerund=uncompress(data.Gerund),fromParticiple=uncompress(data.Participle),toPast$3=reverse(fromPast),toPresent$2=reverse(fromPresent),toGerund$2=reverse(fromGerund),toParticiple=reverse(fromParticiple),toComparative$1=uncompress(data.Comparative),toSuperlative$1=uncompress(data.Superlative),fromComparative$1=reverse(toComparative$1),fromSuperlative$1=reverse(toSuperlative$1),adjToNoun=uncompress(data.AdjToNoun),models={fromPast,fromPresent,fromGerund,fromParticiple,toPast:toPast$3,toPresent:toPresent$2,toGerund:toGerund$2,toParticiple,toComparative:toComparative$1,toSuperlative:toSuperlative$1,fromComparative:fromComparative$1,fromSuperlative:fromSuperlative$1,adjToNoun},regexNormal=[[/^[\w.]+@[\w.]+\.[a-z]{2,3}$/,"Email"],[/^(https?:\/\/|www\.)+\w+\.[a-z]{2,3}/,"Url","http.."],[/^[a-z0-9./].+\.(com|net|gov|org|ly|edu|info|biz|dev|ru|jp|de|in|uk|br|io|ai)/,"Url",".com"],[/^[PMCE]ST$/,"Timezone","EST"],[/^ma?c'[a-z]{3}/,"LastName","mc'neil"],[/^o'[a-z]{3}/,"LastName","o'connor"],[/^ma?cd[aeiou][a-z]{3}/,"LastName","mcdonald"],[/^(lol)+[sz]$/,"Expression","lol"],[/^wo{2,}a*h?$/,"Expression","wooah"],[/^(hee?){2,}h?$/,"Expression","hehe"],[/^(un|de|re)\\-[a-z\u00C0-\u00FF]{2}/,"Verb","un-vite"],[/^(m|k|cm|km)\/(s|h|hr)$/,"Unit","5 k/m"],[/^(ug|ng|mg)\/(l|m3|ft3)$/,"Unit","ug/L"]],regexText=[[new RegExp("^#[\\p{Number}_]*\\p{Letter}","u"),"HashTag"],[/^@\w{2,}$/,"AtMention"],[/^([A-Z]\.){2}[A-Z]?/i,["Acronym","Noun"],"F.B.I"],[/.{3}[lkmnp]in['`]$/,"Gerund","chillin'"],[/.{4}s['`]$/,"Possessive","flanders'"],[/^[\p{Emoji_Presentation}\p{Extended_Pictographic}]/u,"Emoji","emoji-class"]],regexNumbers=[[/^@1?[0-9](am|pm)$/i,"Time","3pm"],[/^@1?[0-9]:[0-9]{2}(am|pm)?$/i,"Time","3:30pm"],[/^'[0-9]{2}$/,"Year"],[/^[012]?[0-9](:[0-5][0-9])(:[0-5][0-9])$/,"Time","3:12:31"],[/^[012]?[0-9](:[0-5][0-9])?(:[0-5][0-9])? ?(am|pm)$/i,"Time","1:12pm"],[/^[012]?[0-9](:[0-5][0-9])(:[0-5][0-9])? ?(am|pm)?$/i,"Time","1:12:31pm"],[/^[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}/i,"Date","iso-date"],[/^[0-9]{1,4}-[0-9]{1,2}-[0-9]{1,4}$/,"Date","iso-dash"],[/^[0-9]{1,4}\/[0-9]{1,2}\/([0-9]{4}|[0-9]{2})$/,"Date","iso-slash"],[/^[0-9]{1,4}\.[0-9]{1,2}\.[0-9]{1,4}$/,"Date","iso-dot"],[/^[0-9]{1,4}-[a-z]{2,9}-[0-9]{1,4}$/i,"Date","12-dec-2019"],[/^utc ?[+-]?[0-9]+$/,"Timezone","utc-9"],[/^(gmt|utc)[+-][0-9]{1,2}$/i,"Timezone","gmt-3"],[/^[0-9]{3}-[0-9]{4}$/,"PhoneNumber","421-0029"],[/^(\+?[0-9][ -])?[0-9]{3}[ -]?[0-9]{3}-[0-9]{4}$/,"PhoneNumber","1-800-"],[new RegExp("^[-+]?\\p{Currency_Symbol}[-+]?[0-9]+(,[0-9]{3})*(\\.[0-9]+)?([kmb]|bn)?\\+?$","u"),["Money","Value"],"$5.30"],[new RegExp("^[-+]?[0-9]+(,[0-9]{3})*(\\.[0-9]+)?\\p{Currency_Symbol}\\+?$","u"),["Money","Value"],"5.30"],[/^[-+]?[$]?[0-9]([0-9,.])+(usd|eur|jpy|gbp|cad|aud|chf|cny|hkd|nzd|kr|rub)$/i,["Money","Value"],"$400usd"],[/^[-+]?[0-9]+(,[0-9]{3})*(\.[0-9]+)?\+?$/,["Cardinal","NumericValue"],"5,999"],[/^[-+]?[0-9]+(,[0-9]{3})*(\.[0-9]+)?(st|nd|rd|r?th)$/,["Ordinal","NumericValue"],"53rd"],[/^\.[0-9]+\+?$/,["Cardinal","NumericValue"],".73th"],[/^[-+]?[0-9]+(,[0-9]{3})*(\.[0-9]+)?%\+?$/,["Percent","Cardinal","NumericValue"],"-4%"],[/^\.[0-9]+%$/,["Percent","Cardinal","NumericValue"],".3%"],[/^[0-9]{1,4}\/[0-9]{1,4}(st|nd|rd|th)?s?$/,["Fraction","NumericValue"],"2/3rds"],[/^[0-9.]{1,3}[a-z]{0,2}[-][0-9]{1,3}[a-z]{0,2}$/,["Value","NumberRange"],"3-4"],[/^[0-9]{1,2}(:[0-9][0-9])?(am|pm)? ?[-] ?[0-9]{1,2}(:[0-9][0-9])?(am|pm)$/,["Time","NumberRange"],"3-4pm"],[/^[0-9.]+([a-z]{1,4})$/,"NumericValue","9km"]],orgWords=["academy","administration","agence","agences","agencies","agency","airlines","airways","army","assoc","associates","association","assurance","authority","autorite","aviation","bank","banque","board","boys","brands","brewery","brotherhood","brothers","bureau","cafe","co","caisse","capital","care","cathedral","center","centre","chemicals","choir","chronicle","church","circus","clinic","clinique","club","co","coalition","coffee","collective","college","commission","committee","communications","community","company","comprehensive","computers","confederation","conference","conseil","consulting","containers","corporation","corps","corp","council","crew","data","departement","department","departments","design","development","directorate","division","drilling","education","eglise","electric","electricity","energy","ensemble","enterprise","enterprises","entertainment","estate","etat","faculty","faction","federation","financial","fm","foundation","fund","gas","gazette","girls","government","group","guild","herald","holdings","hospital","hotel","hotels","inc","industries","institut","institute","institutes","insurance","international","interstate","investment","investments","investors","journal","laboratory","labs","llc","ltd","limited","machines","magazine","management","marine","marketing","markets","media","memorial","ministere","ministry","military","mobile","motor","motors","musee","museum","news","observatory","office","oil","optical","orchestra","organization","partners","partnership","petrol","petroleum","pharmacare","pharmaceutical","pharmaceuticals","pizza","plc","police","politburo","polytechnic","post","power","press","productions","quartet","radio","reserve","resources","restaurant","restaurants","savings","school","securities","service","services","societe","subsidiary","society","sons","subcommittee","syndicat","systems","telecommunications","telegraph","television","times","tribunal","tv","union","university","utilities","workers"].reduce((_e,et)=>(_e[et]=!0,_e),{}),placeWords=["atoll","basin","bay","beach","bluff","bog","camp","canyon","canyons","cape","cave","caves","cliffs","coast","cove","coves","crater","creek","desert","dune","dunes","escarpment","estuary","falls","fjord","fjords","forest","forests","glacier","gorge","gorges","gulf","gully","highland","hill","hills","inlet","island","islands","isthmus","knoll","lagoon","lake","marsh","marshes","mount","mountain","mountains","narrows","peninsula","plains","plateau","pond","rapids","ravine","reef","reefs","ridge","river","rivers","sandhill","shoal","shore","shoreline","shores","strait","straits","stream","swamp","tombolo","trail","trails","trench","valley","vallies","volcano","waterfall","watershed","wetland","woods","burough","county","district","municipality","prefecture","province","region","reservation","state","territory","borough","metropolis","downtown","uptown","midtown","city","town","township","hamlet","country","kingdom","enclave","neighbourhood","neighborhood","kingdom","ward","zone","airport","amphitheater","arch","arena","auditorium","bar","barn","basilica","battlefield","bridge","building","castle","centre","coliseum","cineplex","complex","dam","farm","field","fort","garden","gardens","gymnasium","hall","house","levee","library","memorial","monument","museum","gallery","palace","pillar","pits","plantation","playhouse","quarry","sportsfield","sportsplex","stadium","terrace","terraces","theater","tower","park","parks","site","raceway","sportsplex","st","street","rd","road","crescent","cr","way","tr","terrace","avenue","ave"].reduce((_e,et)=>(_e[et]=!0,_e),{}),rules$1=[[/([^v])ies$/i,"$1y"],[/(ise)s$/i,"$1"],[/(kn|[^o]l|w)ives$/i,"$1ife"],[/^((?:ca|e|ha|(?:our|them|your)?se|she|wo)l|lea|loa|shea|thie)ves$/i,"$1f"],[/^(dwar|handkerchie|hoo|scar|whar)ves$/i,"$1f"],[/(antenn|formul|nebul|vertebr|vit)ae$/i,"$1a"],[/(octop|vir|radi|nucle|fung|cact|stimul)(i)$/i,"$1us"],[/(buffal|tomat|tornad)(oes)$/i,"$1o"],[/(ause)s$/i,"$1"],[/(ease)s$/i,"$1"],[/(ious)es$/i,"$1"],[/(ouse)s$/i,"$1"],[/(ose)s$/i,"$1"],[/(..ase)s$/i,"$1"],[/(..[aeiu]s)es$/i,"$1"],[/(vert|ind|cort)(ices)$/i,"$1ex"],[/(matr|append)(ices)$/i,"$1ix"],[/([xo]|ch|ss|sh)es$/i,"$1"],[/men$/i,"man"],[/(n)ews$/i,"$1ews"],[/([ti])a$/i,"$1um"],[/([^aeiouy]|qu)ies$/i,"$1y"],[/(s)eries$/i,"$1eries"],[/(m)ovies$/i,"$1ovie"],[/(cris|ax|test)es$/i,"$1is"],[/(alias|status)es$/i,"$1"],[/(ss)$/i,"$1"],[/(ic)s$/i,"$1"],[/s$/i,""]],invertObj=function(_e){return Object.keys(_e).reduce((et,tt)=>(et[_e[tt]]=tt,et),{})},toSingular=function(_e,et){const{irregularPlurals:tt}=et.two;let nt=invertObj(tt);if(nt.hasOwnProperty(_e))return nt[_e];for(let rt=0;rt<rules$1.length;rt++)if(rules$1[rt][0].test(_e)===!0)return _e=_e.replace(rules$1[rt][0],rules$1[rt][1]),_e;return _e},all$2=function(_e,et){let tt=[_e],nt=pluralize(_e,et);nt!==_e&&tt.push(nt);let rt=toSingular(_e,et);return rt!==_e&&tt.push(rt),tt},nouns$2={toPlural:pluralize,toSingular,all:all$2};let guessVerb={Gerund:["ing"],Actor:["erer"],Infinitive:["ate","ize","tion","rify","then","ress","ify","age","nce","ect","ise","ine","ish","ace","ash","ure","tch","end","ack","and","ute","ade","ock","ite","ase","ose","use","ive","int","nge","lay","est","ain","ant","ent","eed","er","le","unk","ung","upt","en"],PastTense:["ept","ed","lt","nt","ew","ld"],PresentTense:["rks","cks","nks","ngs","mps","tes","zes","ers","les","acks","ends","ands","ocks","lays","eads","lls","els","ils","ows","nds","ays","ams","ars","ops","ffs","als","urs","lds","ews","ips","es","ts","ns"],Participle:["ken","wn"]};guessVerb=Object.keys(guessVerb).reduce((_e,et)=>(guessVerb[et].forEach(tt=>_e[tt]=et),_e),{});const getTense$1=function(_e){let et=_e.substring(_e.length-3);if(guessVerb.hasOwnProperty(et)===!0)return guessVerb[et];let tt=_e.substring(_e.length-2);return guessVerb.hasOwnProperty(tt)===!0?guessVerb[tt]:_e.substring(_e.length-1)==="s"?"PresentTense":null},toParts=function(_e,et){let tt="",nt={};et.one&&et.one.prefixes&&(nt=et.one.prefixes);let[rt,it]=_e.split(/ /);return it&&nt[rt]===!0&&(tt=rt,rt=it,it=""),{prefix:tt,verb:rt,particle:it}},copulaMap={are:"be",were:"be",been:"be",is:"be",am:"be",was:"be",be:"be",being:"be"},toInfinitive$1=function(_e,et,tt){const{fromPast:nt,fromPresent:rt,fromGerund:it,fromParticiple:ot}=et.two.models;let{prefix:st,verb:ut,particle:ft}=toParts(_e,et),dt="";if(tt||(tt=getTense$1(_e)),copulaMap.hasOwnProperty(_e))dt=copulaMap[_e];else if(tt==="Participle")dt=convert(ut,ot);else if(tt==="PastTense")dt=convert(ut,nt);else if(tt==="PresentTense")dt=convert(ut,rt);else if(tt==="Gerund")dt=convert(ut,it);else return _e;return ft&&(dt+=" "+ft),st&&(dt=st+" "+dt),dt},parse$7=_e=>/ /.test(_e)?_e.split(/ /):[_e,""],conjugate=function(_e,et){const{toPast:tt,toPresent:nt,toGerund:rt,toParticiple:it}=et.two.models;if(_e==="be")return{Infinitive:_e,Gerund:"being",PastTense:"was",PresentTense:"is"};let[ot,st]=parse$7(_e),ut={Infinitive:ot,PastTense:convert(ot,tt),PresentTense:convert(ot,nt),Gerund:convert(ot,rt),FutureTense:"will "+ot},ft=convert(ot,it);if(ft!==_e&&ft!==ut.PastTense){let dt=et.one.lexicon||{};(dt[ft]==="Participle"||dt[ft]==="Adjective")&&(_e==="play"&&(ft="played"),ut.Participle=ft)}return st&&Object.keys(ut).forEach(dt=>{ut[dt]+=" "+st}),ut},all$1=function(_e,et){let tt=conjugate(_e,et);return delete tt.FutureTense,Object.values(tt).filter(nt=>nt)},verbs$3={toInfinitive:toInfinitive$1,conjugate,all:all$1},toSuperlative=function(_e,et){const tt=et.two.models.toSuperlative;return convert(_e,tt)},toComparative=function(_e,et){const tt=et.two.models.toComparative;return convert(_e,tt)},fromComparative=function(_e,et){const tt=et.two.models.fromComparative;return convert(_e,tt)},fromSuperlative=function(_e,et){const tt=et.two.models.fromSuperlative;return convert(_e,tt)},toNoun=function(_e,et){const tt=et.two.models.adjToNoun;return convert(_e,tt)},suffixLoop$1=function(_e="",et=[]){const tt=_e.length;let nt=tt<=6?tt-1:6;for(let rt=nt;rt>=1;rt-=1){let it=_e.substring(tt-rt,_e.length);if(et[it.length].hasOwnProperty(it)===!0){let ot=_e.slice(0,tt-rt),st=et[it.length][it];return ot+st}}return null},s$1="ically",ical=new Set(["analyt"+s$1,"chem"+s$1,"class"+s$1,"clin"+s$1,"crit"+s$1,"ecolog"+s$1,"electr"+s$1,"empir"+s$1,"frant"+s$1,"grammat"+s$1,"ident"+s$1,"ideolog"+s$1,"log"+s$1,"mag"+s$1,"mathemat"+s$1,"mechan"+s$1,"med"+s$1,"method"+s$1,"method"+s$1,"mus"+s$1,"phys"+s$1,"phys"+s$1,"polit"+s$1,"pract"+s$1,"rad"+s$1,"satir"+s$1,"statist"+s$1,"techn"+s$1,"technolog"+s$1,"theoret"+s$1,"typ"+s$1,"vert"+s$1,"whims"+s$1]),suffixes$2=[null,{},{ly:""},{ily:"y",bly:"ble",ply:"ple"},{ally:"al",rply:"rp"},{ually:"ual",ially:"ial",cally:"cal",eally:"eal",rally:"ral",nally:"nal",mally:"mal",eeply:"eep",eaply:"eap"},{ically:"ic"}],noAdj=new Set(["early","only","hourly","daily","weekly","monthly","yearly","mostly","duly","unduly","especially","undoubtedly","conversely","namely","exceedingly","presumably","accordingly","overly","best","latter","little","long","low"]),exceptions$2={wholly:"whole",fully:"full",truly:"true",gently:"gentle",singly:"single",customarily:"customary",idly:"idle",publically:"public",quickly:"quick",superbly:"superb",cynically:"cynical",well:"good"},toAdjective=function(_e){return _e.endsWith("ly")?ical.has(_e)?_e.replace(/ically/,"ical"):noAdj.has(_e)?null:exceptions$2.hasOwnProperty(_e)?exceptions$2[_e]:suffixLoop$1(_e,suffixes$2)||_e:null},suffixes$1=[null,{y:"ily"},{ly:"ly",ic:"ically"},{ial:"ially",ual:"ually",tle:"tly",ble:"bly",ple:"ply",ary:"arily"},{},{},{}],exceptions$1={cool:"cooly",whole:"wholly",full:"fully",good:"well",idle:"idly",public:"publicly",single:"singly",special:"especially"},toAdverb=function(_e){if(exceptions$1.hasOwnProperty(_e))return exceptions$1[_e];let et=suffixLoop$1(_e,suffixes$1);return et||(et=_e+"ly"),et},all=function(_e,et){let tt=[_e];return tt.push(toSuperlative(_e,et)),tt.push(toComparative(_e,et)),tt.push(toAdverb(_e)),tt=tt.filter(nt=>nt),tt=new Set(tt),Array.from(tt)},adjectives$1={toSuperlative,toComparative,toAdverb,toNoun,fromAdverb:toAdjective,fromSuperlative,fromComparative,all},transform={noun:nouns$2,verb:verbs$3,adjective:adjectives$1},byTag={Singular:(_e,et,tt,nt)=>{let rt=nt.one.lexicon,it=tt.two.transform.noun.toPlural(_e,nt);rt[it]||(et[it]=et[it]||"Plural")},Actor:(_e,et,tt,nt)=>{let rt=nt.one.lexicon,it=tt.two.transform.noun.toPlural(_e,nt);rt[it]||(et[it]=et[it]||["Plural","Actor"])},Comparable:(_e,et,tt,nt)=>{let rt=nt.one.lexicon,{toSuperlative:it,toComparative:ot}=tt.two.transform.adjective,st=it(_e,nt);rt[st]||(et[st]=et[st]||"Superlative");let ut=ot(_e,nt);rt[ut]||(et[ut]=et[ut]||"Comparative"),et[_e]="Adjective"},Demonym:(_e,et,tt,nt)=>{let rt=tt.two.transform.noun.toPlural(_e,nt);et[rt]=et[rt]||["Demonym","Plural"]},Infinitive:(_e,et,tt,nt)=>{let rt=nt.one.lexicon,it=tt.two.transform.verb.conjugate(_e,nt);Object.entries(it).forEach(ot=>{!rt[ot[1]]&&!et[ot[1]]&&ot[0]!=="FutureTense"&&(et[ot[1]]=ot[0])})},PhrasalVerb:(_e,et,tt,nt)=>{let rt=nt.one.lexicon;et[_e]=["PhrasalVerb","Infinitive"];let it=nt.one._multiCache,[ot,st]=_e.split(" ");rt[ot]||(et[ot]=et[ot]||"Infinitive");let ut=tt.two.transform.verb.conjugate(ot,nt);delete ut.FutureTense,Object.entries(ut).forEach(ft=>{if(ft[0]==="Actor"||ft[1]==="")return;!et[ft[1]]&&!rt[ft[1]]&&(et[ft[1]]=ft[0]),it[ft[1]]=2;let dt=ft[1]+" "+st;et[dt]=et[dt]||[ft[0],"PhrasalVerb"]})},Multiple:(_e,et)=>{et[_e]=["Multiple","Cardinal"],et[_e+"th"]=["Multiple","Ordinal"],et[_e+"ths"]=["Multiple","Fraction"]},Cardinal:(_e,et)=>{et[_e]=["TextValue","Cardinal"]},Ordinal:(_e,et)=>{et[_e]=["TextValue","Ordinal"],et[_e+"s"]=["TextValue","Fraction"]},Place:(_e,et)=>{et[_e]=["Place","ProperNoun"]},Region:(_e,et)=>{et[_e]=["Region","ProperNoun"]}},expand$1=function(_e,et){const{methods:tt,model:nt}=et;let rt={},it={};return Object.keys(_e).forEach(ot=>{let st=_e[ot];ot=ot.toLowerCase().trim(),ot=ot.replace(/'s\b/,"");let ut=ot.split(/ /);ut.length>1&&(it[ut[0]]===void 0||ut.length>it[ut[0]])&&(it[ut[0]]=ut.length),byTag.hasOwnProperty(st)===!0&&byTag[st](ot,rt,tt,nt),rt[ot]=rt[ot]||st}),delete rt[""],delete rt[null],delete rt[" "],{lex:rt,_multi:it}},splitOn=function(_e,et){const tt=/^[0-9]+$/;let nt=_e[et];if(!nt)return!1;const rt=new Set(["may","april","august","jan"]);if(nt.normal==="like"||rt.has(nt.normal)||nt.tags.has("Place")||nt.tags.has("Date"))return!1;if(_e[et-1]){let ot=_e[et-1];if(ot.tags.has("Date")||rt.has(ot.normal)||ot.tags.has("Adjective")||nt.tags.has("Adjective"))return!1}let it=nt.normal;return!((it.length===1||it.length===2||it.length===4)&&tt.test(it))},quickSplit=function(_e){const et=/[,:;]/;let tt=[];return _e.forEach(nt=>{let rt=0;nt.forEach((it,ot)=>{et.test(it.post)&&splitOn(nt,ot+1)&&(tt.push(nt.slice(rt,ot+1)),rt=ot+1)}),rt<nt.length&&tt.push(nt.slice(rt,nt.length))}),tt},isPlural$3={e:["mice","louse","antennae","formulae","nebulae","vertebrae","vitae"],i:["tia","octopi","viri","radii","nuclei","fungi","cacti","stimuli"],n:["men"],t:["feet"]},exceptions=new Set(["israelis","menus","logos"]),notPlural$1=["bus","mas","was","ias","xas","vas","cis","lis","nis","ois","ris","sis","tis","xis","aus","cus","eus","fus","gus","ius","lus","nus","das","ous","pus","rus","sus","tus","xus","aos","igos","ados","ogos","'s","ss"],looksPlural=function(_e){if(!_e||_e.length<=3)return!1;if(exceptions.has(_e))return!0;let et=_e[_e.length-1];return isPlural$3.hasOwnProperty(et)?isPlural$3[et].find(tt=>_e.endsWith(tt)):!(et!=="s"||notPlural$1.find(tt=>_e.endsWith(tt)))},methods$1={two:{quickSplit,expandLexicon:expand$1,transform,looksPlural}},expandIrregulars=function(_e){const{irregularPlurals:et}=_e.two,{lexicon:tt}=_e.one;return Object.entries(et).forEach(nt=>{tt[nt[0]]=tt[nt[0]]||"Singular",tt[nt[1]]=tt[nt[1]]||"Plural"}),_e};let tmpModel={one:{lexicon:{}},two:{models}};const switchDefaults={"Actor|Verb":"Actor","Adj|Gerund":"Adjective","Adj|Noun":"Adjective","Adj|Past":"Adjective","Adj|Present":"Adjective","Noun|Verb":"Singular","Noun|Gerund":"Gerund","Person|Noun":"Noun","Person|Date":"Month","Person|Verb":"FirstName","Person|Place":"Person","Person|Adj":"Comparative","Plural|Verb":"Plural","Unit|Noun":"Noun"},expandLexicon=function(_e,et){const tt={model:et,methods:methods$1};let{lex:nt,_multi:rt}=methods$1.two.expandLexicon(_e,tt);return Object.assign(et.one.lexicon,nt),Object.assign(et.one._multiCache,rt),et},addUncountables=function(_e,et){return Object.keys(_e).forEach(tt=>{_e[tt]==="Uncountable"&&(et.two.uncountable[tt]=!0,_e[tt]="Uncountable")}),et},expandVerb=function(_e,et,tt){let nt=conjugate(_e,tmpModel);et[nt.PastTense]=et[nt.PastTense]||"PastTense",et[nt.Gerund]=et[nt.Gerund]||"Gerund",tt===!0&&(et[nt.PresentTense]=et[nt.PresentTense]||"PresentTense")},expandAdjective=function(_e,et,tt){let nt=toSuperlative(_e,tt);et[nt]=et[nt]||"Superlative";let rt=toComparative(_e,tt);et[rt]=et[rt]||"Comparative"},expandNoun=function(_e,et,tt){let nt=pluralize(_e,tt);et[nt]=et[nt]||"Plural"},expandVariable=function(_e,et){let tt={};const nt=et.one.lexicon;return Object.keys(_e).forEach(rt=>{const it=_e[rt];if(tt[rt]=switchDefaults[it],(it==="Noun|Verb"||it==="Person|Verb"||it==="Actor|Verb")&&expandVerb(rt,nt,!1),it==="Adj|Present"&&(expandVerb(rt,nt,!0),expandAdjective(rt,nt,et)),it==="Person|Adj"&&expandAdjective(rt,nt,et),it==="Adj|Gerund"||it==="Noun|Gerund"){let ot=toInfinitive$1(rt,tmpModel,"Gerund");nt[ot]||(tt[ot]="Infinitive")}if((it==="Noun|Gerund"||it==="Adj|Noun"||it==="Person|Noun")&&expandNoun(rt,nt,et),it==="Adj|Past"){let ot=toInfinitive$1(rt,tmpModel,"PastTense");nt[ot]||(tt[ot]="Infinitive")}}),et=expandLexicon(tt,et),et},expand=function(_e){return _e=expandLexicon(_e.one.lexicon,_e),_e=addUncountables(_e.one.lexicon,_e),_e=expandVariable(_e.two.switches,_e),_e=expandIrregulars(_e),_e};let model$1={one:{_multiCache:{},lexicon,frozenLex},two:{irregularPlurals,models,suffixPatterns,prefixPatterns,endsWith:endsWith$1,neighbours:neighbours$1,regexNormal,regexText,regexNumbers,switches,clues,uncountable:{},orgWords,placeWords}};model$1=expand(model$1);const byPunctuation=function(_e,et,tt,nt){const rt=nt.methods.one.setTag;if(_e.length>=3){const it=/:/;if(_e[0].post.match(it)){let st=_e[1];if(st.tags.has("Value")||st.tags.has("Email")||st.tags.has("PhoneNumber"))return;rt([_e[0]],"Expression",nt,null,"2-punct-colon''")}}},byHyphen=function(_e,et,tt,nt){const rt=nt.methods.one.setTag;_e[et].post==="-"&&_e[et+1]&&rt([_e[et],_e[et+1]],"Hyphenated",nt,null,"1-punct-hyphen''")},prefix$1=/^(under|over|mis|re|un|dis|semi)-?/,tagSwitch=function(_e,et,tt){const nt=tt.two.switches;let rt=_e[et];if(nt.hasOwnProperty(rt.normal)){rt.switch=nt[rt.normal];return}if(prefix$1.test(rt.normal)){let it=rt.normal.replace(prefix$1,"");it.length>3&&nt.hasOwnProperty(it)&&(rt.switch=nt[it])}};var define_process_env_default$2={};const log$2=(_e,et,tt="")=>{const nt=ot=>"\x1B[33m\x1B[3m"+ot+"\x1B[0m",rt=ot=>"\x1B[3m"+ot+"\x1B[0m";let it=_e.text||"["+_e.implicit+"]";typeof et!="string"&&et.length>2&&(et=et.slice(0,2).join(", #")+" +"),et=typeof et!="string"?et.join(", #"):et,console.log(` ${nt(it).padEnd(24)} \x1B[32m\x1B[0m #${et.padEnd(22)}  ${rt(tt)}`)},fastTag=function(_e,et,tt){if(!et||et.length===0||_e.frozen===!0)return;const nt=typeof process>"u"||!define_process_env_default$2?self.env||{}:define_process_env_default$2;nt&&nt.DEBUG_TAGS&&log$2(_e,et,tt),_e.tags=_e.tags||new Set,typeof et=="string"?_e.tags.add(et):et.forEach(rt=>_e.tags.add(rt))},uncountable=["Acronym","Abbreviation","ProperNoun","Uncountable","Possessive","Pronoun","Activity","Honorific","Month"],setPluralSingular=function(_e){!_e.tags.has("Noun")||_e.tags.has("Plural")||_e.tags.has("Singular")||uncountable.find(et=>_e.tags.has(et))||(looksPlural(_e.normal)?fastTag(_e,"Plural","3-plural-guess"):fastTag(_e,"Singular","3-singular-guess"))},setTense=function(_e){let et=_e.tags;if(et.has("Verb")&&et.size===1){let tt=getTense$1(_e.normal);tt&&fastTag(_e,tt,"3-verb-tense-guess")}},fillTags=function(_e,et,tt){let nt=_e[et],rt=Array.from(nt.tags);for(let it=0;it<rt.length;it+=1)if(tt.one.tagSet[rt[it]]){let ot=tt.one.tagSet[rt[it]].parents;fastTag(nt,ot,` -inferred by #${rt[it]}`)}setPluralSingular(nt),setTense(nt)},titleCase$1=new RegExp("^\\p{Lu}[\\p{Ll}']","u"),hasNumber=/[0-9]/,notProper=["Date","Month","WeekDay","Unit","Expression"],hasIVX=/[IVX]/,romanNumeral=/^[IVXLCDM]{2,}$/,romanNumValid=/^M{0,4}(CM|CD|D?C{0,3})(XC|XL|L?X{0,3})(IX|IV|V?I{0,3})$/,nope={li:!0,dc:!0,md:!0,dm:!0,ml:!0},checkCase=function(_e,et,tt){let nt=_e[et];nt.index=nt.index||[0,0];let rt=nt.index[1],it=nt.text||"";return rt!==0&&titleCase$1.test(it)===!0&&hasNumber.test(it)===!1?notProper.find(ot=>nt.tags.has(ot))||nt.pre.match(/["']$/)||nt.normal==="the"?null:(fillTags(_e,et,tt),!nt.tags.has("Noun")&&!nt.frozen&&nt.tags.clear(),fastTag(nt,"ProperNoun","2-titlecase"),!0):it.length>=2&&romanNumeral.test(it)&&hasIVX.test(it)&&romanNumValid.test(it)&&!nope[nt.normal]?(fastTag(nt,"RomanNumeral","2-xvii"),!0):null},suffixLoop=function(_e="",et=[]){const tt=_e.length;let nt=7;tt<=nt&&(nt=tt-1);for(let rt=nt;rt>1;rt-=1){let it=_e.substring(tt-rt,tt);if(et[it.length].hasOwnProperty(it)===!0)return et[it.length][it]}return null},tagBySuffix=function(_e,et,tt){let nt=_e[et];if(nt.tags.size===0){let rt=suffixLoop(nt.normal,tt.two.suffixPatterns);if(rt!==null)return fastTag(nt,rt,"2-suffix"),nt.confidence=.7,!0;if(nt.implicit&&(rt=suffixLoop(nt.implicit,tt.two.suffixPatterns),rt!==null))return fastTag(nt,rt,"2-implicit-suffix"),nt.confidence=.7,!0}return null},hasApostrophe=/['`]/,doRegs=function(_e,et){for(let tt=0;tt<et.length;tt+=1)if(et[tt][0].test(_e)===!0)return et[tt];return null},doEndsWith=function(_e="",et){let tt=_e[_e.length-1];if(et.hasOwnProperty(tt)===!0){let nt=et[tt]||[];for(let rt=0;rt<nt.length;rt+=1)if(nt[rt][0].test(_e)===!0)return nt[rt]}return null},checkRegex=function(_e,et,tt,nt){const rt=nt.methods.one.setTag;let{regexText:it,regexNormal:ot,regexNumbers:st,endsWith:ut}=tt.two,ft=_e[et],dt=ft.machine||ft.normal,lt=ft.text;hasApostrophe.test(ft.post)&&!hasApostrophe.test(ft.pre)&&(lt+=ft.post.trim());let at=doRegs(lt,it)||doRegs(dt,ot);return!at&&/[0-9]/.test(dt)&&(at=doRegs(dt,st)),!at&&ft.tags.size===0&&(at=doEndsWith(dt,ut)),at?(rt([ft],at[1],nt,null,`2-regex-'${at[2]||at[0]}'`),ft.confidence=.6,!0):null},prefixLoop=function(_e="",et=[]){const tt=_e.length;let nt=7;nt>tt-3&&(nt=tt-3);for(let rt=nt;rt>2;rt-=1){let it=_e.substring(0,rt);if(et[it.length].hasOwnProperty(it)===!0)return et[it.length][it]}return null},checkPrefix=function(_e,et,tt){let nt=_e[et];if(nt.tags.size===0){let rt=prefixLoop(nt.normal,tt.two.prefixPatterns);if(rt!==null)return fastTag(nt,rt,"2-prefix"),nt.confidence=.5,!0}return null},min$3=1400,max$3=2100,dateWords=new Set(["in","on","by","until","for","to","during","throughout","through","within","before","after","of","this","next","last","circa","around","post","pre","budget","classic","plan","may"]),seemsGood=function(_e){if(!_e)return!1;let et=_e.normal||_e.implicit;return!!(dateWords.has(et)||_e.tags.has("Date")||_e.tags.has("Month")||_e.tags.has("WeekDay")||_e.tags.has("Year")||_e.tags.has("ProperNoun"))},seemsOkay=function(_e){return _e?!!(_e.tags.has("Ordinal")||_e.tags.has("Cardinal")&&_e.normal.length<3||_e.normal==="is"||_e.normal==="was"):!1},seemsFine=function(_e){return _e&&(_e.tags.has("Date")||_e.tags.has("Month")||_e.tags.has("WeekDay")||_e.tags.has("Year"))},tagYear=function(_e,et){const tt=_e[et];if(tt.tags.has("NumericValue")&&tt.tags.has("Cardinal")&&tt.normal.length===4){let nt=Number(tt.normal);if(nt&&!isNaN(nt)&&nt>min$3&&nt<max$3){let rt=_e[et-1],it=_e[et+1];if(seemsGood(rt)||seemsGood(it))return fastTag(tt,"Year","2-tagYear");if(nt>=1920&&nt<2025){if(seemsOkay(rt)||seemsOkay(it))return fastTag(tt,"Year","2-tagYear-close");if(seemsFine(_e[et-2])||seemsFine(_e[et+2]))return fastTag(tt,"Year","2-tagYear-far");if(rt&&(rt.tags.has("Determiner")||rt.tags.has("Possessive"))&&it&&it.tags.has("Noun")&&!it.tags.has("Plural"))return fastTag(tt,"Year","2-tagYear-noun")}}}return null},verbType=function(_e,et,tt,nt){const rt=nt.methods.one.setTag,it=_e[et],ot=["PastTense","PresentTense","Auxiliary","Modal","Particle"];it.tags.has("Verb")&&(ot.find(ut=>it.tags.has(ut))||rt([it],"Infinitive",nt,null,"2-verb-type''"))},oneLetterAcronym=/^[A-Z]('s|,)?$/,isUpperCase=/^[A-Z-]+$/,upperThenS=/^[A-Z]+s$/,periodAcronym=/([A-Z]\.)+[A-Z]?,?$/,noPeriodAcronym=/[A-Z]{2,}('s|,)?$/,lowerCaseAcronym=/([a-z]\.)+[a-z]\.?$/,oneLetterWord={I:!0,A:!0},places$1={la:!0,ny:!0,us:!0,dc:!0,gb:!0},isNoPeriodAcronym=function(_e,et){let tt=_e.text;if(isUpperCase.test(tt)===!1)if(tt.length>3&&upperThenS.test(tt)===!0)tt=tt.replace(/s$/,"");else return!1;return tt.length>5||oneLetterWord.hasOwnProperty(tt)||et.one.lexicon.hasOwnProperty(_e.normal)?!1:periodAcronym.test(tt)===!0||lowerCaseAcronym.test(tt)===!0||oneLetterAcronym.test(tt)===!0||noPeriodAcronym.test(tt)===!0},isAcronym=function(_e,et,tt){let nt=_e[et];return nt.tags.has("RomanNumeral")||nt.tags.has("Acronym")||nt.frozen?null:isNoPeriodAcronym(nt,tt)?(nt.tags.clear(),fastTag(nt,["Acronym","Noun"],"3-no-period-acronym"),places$1[nt.normal]===!0&&fastTag(nt,"Place","3-place-acronym"),upperThenS.test(nt.text)===!0&&fastTag(nt,"Plural","3-plural-acronym"),!0):!oneLetterWord.hasOwnProperty(nt.text)&&oneLetterAcronym.test(nt.text)?(nt.tags.clear(),fastTag(nt,["Acronym","Noun"],"3-one-letter-acronym"),!0):nt.tags.has("Organization")&&nt.text.length<=3?(fastTag(nt,"Acronym","3-org-acronym"),!0):nt.tags.has("Organization")&&isUpperCase.test(nt.text)&&nt.text.length<=6?(fastTag(nt,"Acronym","3-titlecase-acronym"),!0):null},lookAtWord=function(_e,et){if(!_e)return null;let tt=et.find(nt=>_e.normal===nt[0]);return tt?tt[1]:null},lookAtTag=function(_e,et){if(!_e)return null;let tt=et.find(nt=>_e.tags.has(nt[0]));return tt?tt[1]:null},neighbours=function(_e,et,tt){const{leftTags:nt,leftWords:rt,rightWords:it,rightTags:ot}=tt.two.neighbours;let st=_e[et];if(st.tags.size===0){let ut=null;if(ut=ut||lookAtWord(_e[et-1],rt),ut=ut||lookAtWord(_e[et+1],it),ut=ut||lookAtTag(_e[et-1],nt),ut=ut||lookAtTag(_e[et+1],ot),ut)return fastTag(st,ut,"3-[neighbour]"),fillTags(_e,et,tt),_e[et].confidence=.2,!0}return null},isTitleCase$2=_e=>new RegExp("^\\p{Lu}[\\p{Ll}']","u").test(_e),isOrg=function(_e,et,tt){return!_e||_e.tags.has("FirstName")||_e.tags.has("Place")?!1:_e.tags.has("ProperNoun")||_e.tags.has("Organization")||_e.tags.has("Acronym")?!0:!tt&&isTitleCase$2(_e.text)?et===0?_e.tags.has("Singular"):!0:!1},tagOrgs$1=function(_e,et,tt,nt){const rt=tt.model.two.orgWords,it=tt.methods.one.setTag;let ot=_e[et],st=ot.machine||ot.normal;if(rt[st]===!0&&isOrg(_e[et-1],et-1,nt)){it([_e[et]],"Organization",tt,null,"3-[org-word]");for(let ut=et;ut>=0&&isOrg(_e[ut],ut,nt);ut-=1)it([_e[ut]],"Organization",tt,null,"3-[org-word]")}return null},isTitleCase$1=_e=>new RegExp("^\\p{Lu}[\\p{Ll}']","u").test(_e),isPossessive$1=/'s$/,placeCont=new Set(["athletic","city","community","eastern","federal","financial","great","historic","historical","local","memorial","municipal","national","northern","provincial","southern","state","western"]),noBefore=new Set(["center","centre","way","range","bar","bridge","field","pit"]),isPlace=function(_e,et,tt){if(!_e)return!1;let nt=_e.tags;return nt.has("Organization")||nt.has("Possessive")||isPossessive$1.test(_e.normal)?!1:nt.has("ProperNoun")||nt.has("Place")?!0:!tt&&isTitleCase$1(_e.text)?et===0?nt.has("Singular"):!0:!1},tagOrgs=function(_e,et,tt,nt){const rt=tt.model.two.placeWords,it=tt.methods.one.setTag;let ot=_e[et],st=ot.machine||ot.normal;if(rt[st]===!0){for(let ut=et-1;ut>=0;ut-=1)if(!placeCont.has(_e[ut].normal)){if(isPlace(_e[ut],ut,nt)){it(_e.slice(ut,et+1),"Place",tt,null,"3-[place-of-foo]");continue}break}if(noBefore.has(st))return!1;for(let ut=et+1;ut<_e.length;ut+=1){if(isPlace(_e[ut],ut,nt))return it(_e.slice(et,ut+1),"Place",tt,null,"3-[foo-place]"),!0;if(!(_e[ut].normal==="of"||placeCont.has(_e[ut].normal)))break}}return null},nounFallback=function(_e,et,tt){let nt=!1,rt=_e[et].tags;(rt.size===0||rt.size===1&&(rt.has("Hyphenated")||rt.has("HashTag")||rt.has("Prefix")))&&(nt=!0),nt&&(fastTag(_e[et],"Noun","3-[fallback]"),fillTags(_e,et,tt),_e[et].confidence=.1)},isTitleCase=/^[A-Z][a-z]/,isCapital=(_e,et)=>_e[et].tags.has("ProperNoun")&&isTitleCase.test(_e[et].text)?"Noun":null,isAlone=(_e,et,tt)=>et===0&&!_e[1]?tt:null,isEndNoun=function(_e,et){return!_e[et+1]&&_e[et-1]&&_e[et-1].tags.has("Determiner")?"Noun":null},isStart=function(_e,et,tt){return et===0&&_e.length>3?tt:null},adhoc={"Adj|Gerund":(_e,et)=>isCapital(_e,et),"Adj|Noun":(_e,et)=>isCapital(_e,et)||isEndNoun(_e,et),"Actor|Verb":(_e,et)=>isCapital(_e,et),"Adj|Past":(_e,et)=>isCapital(_e,et),"Adj|Present":(_e,et)=>isCapital(_e,et),"Noun|Gerund":(_e,et)=>isCapital(_e,et),"Noun|Verb":(_e,et)=>et>0&&isCapital(_e,et)||isAlone(_e,et,"Infinitive"),"Plural|Verb":(_e,et)=>isCapital(_e,et)||isAlone(_e,et,"PresentTense")||isStart(_e,et,"Plural"),"Person|Noun":(_e,et)=>isCapital(_e,et),"Person|Verb":(_e,et)=>et!==0?isCapital(_e,et):null,"Person|Adj":(_e,et)=>et===0&&_e.length>1||isCapital(_e,et)?"Person":null};var define_process_env_default$1={};const env=typeof process>"u"||!define_process_env_default$1?self.env||{}:define_process_env_default$1,prefix=/^(under|over|mis|re|un|dis|semi)-?/,checkWord=(_e,et)=>{if(!_e||!et)return null;let tt=_e.normal||_e.implicit,nt=null;return et.hasOwnProperty(tt)&&(nt=et[tt]),nt&&env.DEBUG_TAGS&&console.log(`
  \x1B[2m\x1B[3m      - '${tt}' \x1B[0m`),nt},checkTag=(_e,et={},tt)=>{if(!_e||!et)return null;let rt=Array.from(_e.tags).sort((it,ot)=>{let st=tt[it]?tt[it].parents.length:0,ut=tt[ot]?tt[ot].parents.length:0;return st>ut?-1:1}).find(it=>et[it]);return rt&&env.DEBUG_TAGS&&console.log(`  \x1B[2m\x1B[3m       - '${_e.normal||_e.implicit}' (#${rt})  \x1B[0m`),rt=et[rt],rt},pickTag=function(_e,et,tt,nt){var st;if(!tt)return null;const rt=((st=_e[et-1])==null?void 0:st.text)!=="also"?et-1:Math.max(0,et-2),it=nt.one.tagSet;let ot=checkWord(_e[et+1],tt.afterWords);return ot=ot||checkWord(_e[rt],tt.beforeWords),ot=ot||checkTag(_e[rt],tt.beforeTags,it),ot=ot||checkTag(_e[et+1],tt.afterTags,it),ot},doSwitches=function(_e,et,tt){const nt=tt.model,rt=tt.methods.one.setTag,{switches:it,clues:ot}=nt.two,st=_e[et];let ut=st.normal||st.implicit||"";if(prefix.test(ut)&&!it[ut]&&(ut=ut.replace(prefix,"")),st.switch){let ft=st.switch;if(st.tags.has("Acronym")||st.tags.has("PhrasalVerb"))return;let dt=pickTag(_e,et,ot[ft],nt);adhoc[ft]&&(dt=adhoc[ft](_e,et)||dt),dt?(rt([st],dt,tt,null,`3-[switch] (${ft})`),fillTags(_e,et,nt)):env.DEBUG_TAGS&&console.log(`
 -> X  - '${ut}'  : (${ft})  `)}},beside={there:!0,this:!0,it:!0,him:!0,her:!0,us:!0},imperative$1=function(_e,et){const tt=et.methods.one.setTag,nt=et.model.one._multiCache||{};let rt=_e[0];if((rt.switch==="Noun|Verb"||rt.tags.has("Infinitive"))&&_e.length>=2){if(_e.length<4&&!beside[_e[1].normal]||!rt.tags.has("PhrasalVerb")&&nt.hasOwnProperty(rt.normal))return;(_e[1].tags.has("Noun")||_e[1].tags.has("Determiner"))&&(!_e.slice(1,3).some(ut=>ut.tags.has("Verb"))||rt.tags.has("#PhrasalVerb"))&&tt([rt],"Imperative",et,null,"3-[imperative]")}},ignoreCase=function(_e){if(_e.filter(tt=>!tt.tags.has("ProperNoun")).length<=3)return!1;const et=/^[a-z]/;return _e.every(tt=>!et.test(tt.text))},firstPass=function(_e,et,tt){_e.forEach(nt=>{byPunctuation(nt,0,et,tt)})},secondPass=function(_e,et,tt,nt){for(let rt=0;rt<_e.length;rt+=1)_e[rt].frozen!==!0&&(tagSwitch(_e,rt,et),nt===!1&&checkCase(_e,rt,et),tagBySuffix(_e,rt,et),checkRegex(_e,rt,et,tt),checkPrefix(_e,rt,et),tagYear(_e,rt))},thirdPass=function(_e,et,tt,nt){for(let rt=0;rt<_e.length;rt+=1){let it=isAcronym(_e,rt,et);fillTags(_e,rt,et),it=it||neighbours(_e,rt,et),it=it||nounFallback(_e,rt,et)}for(let rt=0;rt<_e.length;rt+=1)_e[rt].frozen!==!0&&(tagOrgs$1(_e,rt,tt,nt),tagOrgs(_e,rt,tt,nt),doSwitches(_e,rt,tt),verbType(_e,rt,et,tt),byHyphen(_e,rt,et,tt));imperative$1(_e,tt)},preTagger=function(_e){const{methods:et,model:tt,world:nt}=_e;let rt=_e.docs;firstPass(rt,tt,nt);let it=et.two.quickSplit(rt);for(let ot=0;ot<it.length;ot+=1){let st=it[ot];const ut=ignoreCase(st);secondPass(st,tt,nt,ut),thirdPass(st,tt,nt,ut)}return it},toRoot$2={Possessive:_e=>{let et=_e.machine||_e.normal||_e.text;return et=et.replace(/'s$/,""),et},Plural:(_e,et)=>{let tt=_e.machine||_e.normal||_e.text;return et.methods.two.transform.noun.toSingular(tt,et.model)},Copula:()=>"is",PastTense:(_e,et)=>{let tt=_e.machine||_e.normal||_e.text;return et.methods.two.transform.verb.toInfinitive(tt,et.model,"PastTense")},Gerund:(_e,et)=>{let tt=_e.machine||_e.normal||_e.text;return et.methods.two.transform.verb.toInfinitive(tt,et.model,"Gerund")},PresentTense:(_e,et)=>{let tt=_e.machine||_e.normal||_e.text;return _e.tags.has("Infinitive")?tt:et.methods.two.transform.verb.toInfinitive(tt,et.model,"PresentTense")},Comparative:(_e,et)=>{let tt=_e.machine||_e.normal||_e.text;return et.methods.two.transform.adjective.fromComparative(tt,et.model)},Superlative:(_e,et)=>{let tt=_e.machine||_e.normal||_e.text;return et.methods.two.transform.adjective.fromSuperlative(tt,et.model)},Adverb:(_e,et)=>{const{fromAdverb:tt}=et.methods.two.transform.adjective;let nt=_e.machine||_e.normal||_e.text;return tt(nt)}},getRoot$1=function(_e){const et=_e.world,tt=Object.keys(toRoot$2);_e.docs.forEach(nt=>{for(let rt=0;rt<nt.length;rt+=1){const it=nt[rt];for(let ot=0;ot<tt.length;ot+=1)if(it.tags.has(tt[ot])){const st=toRoot$2[tt[ot]];let ut=st(it,et);it.normal!==ut&&(it.root=ut);break}}})},mapping$1={Adverb:"RB",Comparative:"JJR",Superlative:"JJS",Adjective:"JJ",TO:"Conjunction",Modal:"MD",Auxiliary:"MD",Gerund:"VBG",PastTense:"VBD",Participle:"VBN",PresentTense:"VBZ",Infinitive:"VB",Particle:"RP",Verb:"VB",Pronoun:"PRP",Cardinal:"CD",Conjunction:"CC",Determiner:"DT",Preposition:"IN",QuestionWord:"WP",Expression:"UH",Possessive:"POS",ProperNoun:"NNP",Person:"NNP",Place:"NNP",Organization:"NNP",Singular:"NN",Plural:"NNS",Noun:"NN",There:"EX"},toPenn=function(_e){if(_e.tags.has("ProperNoun")&&_e.tags.has("Plural"))return"NNPS";if(_e.tags.has("Possessive")&&_e.tags.has("Pronoun"))return"PRP$";if(_e.normal==="there")return"EX";if(_e.normal==="to")return"TO";let et=_e.tagRank||[];for(let tt=0;tt<et.length;tt+=1)if(mapping$1.hasOwnProperty(et[tt]))return mapping$1[et[tt]];return null},pennTag=function(_e){_e.compute("tagRank"),_e.docs.forEach(et=>{et.forEach(tt=>{tt.penn=toPenn(tt)})})},compute$3={preTagger,root:getRoot$1,penn:pennTag},entity$1=["Person","Place","Organization"],nouns$1={Noun:{not:["Verb","Adjective","Adverb","Value","Determiner"]},Singular:{is:"Noun",not:["Plural","Uncountable"]},ProperNoun:{is:"Noun"},Person:{is:"Singular",also:["ProperNoun"],not:["Place","Organization","Date"]},FirstName:{is:"Person"},MaleName:{is:"FirstName",not:["FemaleName","LastName"]},FemaleName:{is:"FirstName",not:["MaleName","LastName"]},LastName:{is:"Person",not:["FirstName"]},Honorific:{is:"Person",not:["FirstName","LastName","Value"]},Place:{is:"Singular",not:["Person","Organization"]},Country:{is:"Place",also:["ProperNoun"],not:["City"]},City:{is:"Place",also:["ProperNoun"],not:["Country"]},Region:{is:"Place",also:["ProperNoun"]},Address:{},Organization:{is:"ProperNoun",not:["Person","Place"]},SportsTeam:{is:"Organization"},School:{is:"Organization"},Company:{is:"Organization"},Plural:{is:"Noun",not:["Singular","Uncountable"]},Uncountable:{is:"Noun"},Pronoun:{is:"Noun",not:entity$1},Actor:{is:"Noun",not:["Place","Organization"]},Activity:{is:"Noun",not:["Person","Place"]},Unit:{is:"Noun",not:entity$1},Demonym:{is:"Noun",also:["ProperNoun"],not:entity$1},Possessive:{is:"Noun"},Reflexive:{is:"Pronoun"}},verbs$2={Verb:{not:["Noun","Adjective","Adverb","Value","Expression"]},PresentTense:{is:"Verb",not:["PastTense","FutureTense"]},Infinitive:{is:"PresentTense",not:["Gerund"]},Imperative:{is:"Verb",not:["PastTense","Gerund","Copula"]},Gerund:{is:"PresentTense",not:["Copula"]},PastTense:{is:"Verb",not:["PresentTense","Gerund","FutureTense"]},FutureTense:{is:"Verb",not:["PresentTense","PastTense"]},Copula:{is:"Verb"},Modal:{is:"Verb",not:["Infinitive"]},Participle:{is:"PastTense"},Auxiliary:{is:"Verb",not:["PastTense","PresentTense","Gerund","Conjunction"]},PhrasalVerb:{is:"Verb"},Particle:{is:"PhrasalVerb",not:["PastTense","PresentTense","Copula","Gerund"]},Passive:{is:"Verb"}},values={Value:{not:["Verb","Adjective","Adverb"]},Ordinal:{is:"Value",not:["Cardinal"]},Cardinal:{is:"Value",not:["Ordinal"]},Fraction:{is:"Value",not:["Noun"]},Multiple:{is:"TextValue"},RomanNumeral:{is:"Cardinal",not:["TextValue"]},TextValue:{is:"Value",not:["NumericValue"]},NumericValue:{is:"Value",not:["TextValue"]},Money:{is:"Cardinal"},Percent:{is:"Value"}},dates$1={Date:{not:["Verb","Adverb","Adjective"]},Month:{is:"Date",also:["Noun"],not:["Year","WeekDay","Time"]},WeekDay:{is:"Date",also:["Noun"]},Year:{is:"Date",not:["RomanNumeral"]},FinancialQuarter:{is:"Date",not:"Fraction"},Holiday:{is:"Date",also:["Noun"]},Season:{is:"Date"},Timezone:{is:"Date",also:["Noun"],not:["ProperNoun"]},Time:{is:"Date",not:["AtMention"]},Duration:{is:"Date",also:["Noun"]}},anything=["Noun","Verb","Adjective","Adverb","Value","QuestionWord"],misc$1={Adjective:{not:["Noun","Verb","Adverb","Value"]},Comparable:{is:"Adjective"},Comparative:{is:"Adjective"},Superlative:{is:"Adjective",not:["Comparative"]},NumberRange:{},Adverb:{not:["Noun","Verb","Adjective","Value"]},Determiner:{not:["Noun","Verb","Adjective","Adverb","QuestionWord","Conjunction"]},Conjunction:{not:anything},Preposition:{not:["Noun","Verb","Adjective","Adverb","QuestionWord","Determiner"]},QuestionWord:{not:["Determiner"]},Currency:{is:"Noun"},Expression:{not:["Noun","Adjective","Verb","Adverb"]},Abbreviation:{},Url:{not:["HashTag","PhoneNumber","Verb","Adjective","Value","AtMention","Email"]},PhoneNumber:{not:["HashTag","Verb","Adjective","Value","AtMention","Email"]},HashTag:{},AtMention:{is:"Noun",not:["HashTag","Email"]},Emoji:{not:["HashTag","Verb","Adjective","Value","AtMention"]},Emoticon:{not:["HashTag","Verb","Adjective","Value","AtMention"]},Email:{not:["HashTag","Verb","Adjective","Value","AtMention"]},Acronym:{not:["Plural","RomanNumeral","Pronoun","Date"]},Negative:{not:["Noun","Adjective","Value","Expression"]},Condition:{not:["Verb","Adjective","Noun","Value"]},There:{not:["Verb","Adjective","Noun","Value","Conjunction","Preposition"]},Prefix:{not:["Abbreviation","Acronym","ProperNoun"]},Hyphenated:{}};let allTags=Object.assign({},nouns$1,verbs$2,values,dates$1,misc$1);const preTag={compute:compute$3,methods:methods$1,model:model$1,tags:allTags,hooks:["preTagger"]},postPunct=/[,)"';:\-.]/,setContraction=function(_e,et){if(!_e.found)return;let tt=_e.termList();for(let nt=0;nt<tt.length-1;nt++){const rt=tt[nt];if(postPunct.test(rt.post))return}tt[0].implicit=tt[0].normal,tt[0].text+=et,tt[0].normal+=et,tt.slice(1).forEach(nt=>{nt.implicit=nt.normal,nt.text="",nt.normal=""});for(let nt=0;nt<tt.length-1;nt++)tt[nt].post=tt[nt].post.replace(/ /,"")},contract=function(){let _e=this.not("@hasContraction"),et=_e.match("(we|they|you) are");return setContraction(et,"'re"),et=_e.match("(he|she|they|it|we|you) will"),setContraction(et,"'ll"),et=_e.match("(he|she|they|it|we) is"),setContraction(et,"'s"),et=_e.match("#Person is"),setContraction(et,"'s"),et=_e.match("#Person would"),setContraction(et,"'d"),et=_e.match("(is|was|had|would|should|could|do|does|have|has|can) not"),setContraction(et,"n't"),et=_e.match("(i|we|they) have"),setContraction(et,"'ve"),et=_e.match("(would|should|could) have"),setContraction(et,"'ve"),et=_e.match("i am"),setContraction(et,"'m"),et=_e.match("going to"),this},titleCase=new RegExp("^\\p{Lu}[\\p{Ll}']","u"),toTitleCase=function(_e=""){return _e=_e.replace(/^ *[a-z\u00C0-\u00FF]/,et=>et.toUpperCase()),_e},api$i=function(_e){class et extends _e{constructor(nt,rt,it){super(nt,rt,it),this.viewType="Contraction"}expand(){return this.docs.forEach(nt=>{let rt=titleCase.test(nt[0].text);nt.forEach((it,ot)=>{it.text=it.implicit||"",delete it.implicit,ot<nt.length-1&&it.post===""&&(it.post+=" "),it.dirty=!0}),rt&&(nt[0].text=toTitleCase(nt[0].text))}),this.compute("normal"),this}}_e.prototype.contractions=function(){let tt=this.match("@hasContraction+");return new et(this.document,tt.pointer)},_e.prototype.contract=contract},insertContraction=function(_e,et,tt){let[nt,rt]=et;!tt||tt.length===0||(tt=tt.map((it,ot)=>(it.implicit=it.text,it.machine=it.text,it.pre="",it.post="",it.text="",it.normal="",it.index=[nt,rt+ot],it)),tt[0]&&(tt[0].pre=_e[nt][rt].pre,tt[tt.length-1].post=_e[nt][rt].post,tt[0].text=_e[nt][rt].text,tt[0].normal=_e[nt][rt].normal),_e[nt].splice(rt,1,...tt))},hasContraction$1=/'/,hasWords=new Set(["been","become"]),isWords=new Set(["what","how","when","if","too"]);let adjLike$1=new Set(["too","also","enough"]);const isOrHas=(_e,et)=>{for(let tt=et+1;tt<_e.length;tt+=1){let nt=_e[tt];if(hasWords.has(nt.normal))return"has";if(isWords.has(nt.normal)||nt.tags.has("Gerund")||nt.tags.has("Determiner")||nt.tags.has("Adjective")||nt.switch==="Adj|Past"&&_e[tt+1]&&(adjLike$1.has(_e[tt+1].normal)||_e[tt+1].tags.has("Preposition")))return"is";if(nt.tags.has("PastTense"))return _e[tt+1]&&_e[tt+1].normal==="for"?"is":"has"}return"is"},apostropheS$1=function(_e,et){let tt=_e[et].normal.split(hasContraction$1)[0];if(tt==="let")return[tt,"us"];if(tt==="there"){let nt=_e[et+1];if(nt&&nt.tags.has("Plural"))return[tt,"are"]}return isOrHas(_e,et)==="has"?[tt,"has"]:[tt,"is"]},hasContraction=/'/,hadWords=new Set(["better","done","before","it","had"]),wouldWords=new Set(["have","be"]),hadOrWould=(_e,et)=>{for(let tt=et+1;tt<_e.length;tt+=1){let nt=_e[tt];if(hadWords.has(nt.normal))return"had";if(wouldWords.has(nt.normal))return"would";if(nt.tags.has("PastTense")||nt.switch==="Adj|Past")return"had";if(nt.tags.has("PresentTense")||nt.tags.has("Infinitive"))return"would";if(nt.tags.has("#Determiner"))return"had";if(nt.tags.has("Adjective"))return"would"}return!1},_apostropheD=function(_e,et){let tt=_e[et].normal.split(hasContraction)[0];return tt==="how"||tt==="what"?[tt,"did"]:hadOrWould(_e,et)==="had"?[tt,"had"]:[tt,"would"]},lastNoun$1=function(_e,et){for(let tt=et-1;tt>=0;tt-=1)if(_e[tt].tags.has("Noun")||_e[tt].tags.has("Pronoun")||_e[tt].tags.has("Plural")||_e[tt].tags.has("Singular"))return _e[tt];return null},apostropheT=function(_e,et){if(_e[et].normal==="ain't"||_e[et].normal==="aint"){if(_e[et+1]&&_e[et+1].normal==="never")return["have"];let nt=lastNoun$1(_e,et);if(nt){if(nt.normal==="we"||nt.normal==="they")return["are","not"];if(nt.normal==="i")return["am","not"];if(nt.tags&&nt.tags.has("Plural"))return["are","not"]}return["is","not"]}return[_e[et].normal.replace(/n't/,""),"not"]},banList={that:!0,there:!0,let:!0,here:!0,everywhere:!0},beforePossessive={in:!0,by:!0,for:!0};let adjLike=new Set(["too","also","enough","about"]),nounLike=new Set(["is","are","did","were","could","should","must","had","have"]);const isPossessive=(_e,et)=>{let tt=_e[et];if(banList.hasOwnProperty(tt.machine||tt.normal))return!1;if(tt.tags.has("Possessive"))return!0;if(tt.tags.has("QuestionWord")||tt.normal==="he's"||tt.normal==="she's")return!1;let nt=_e[et+1];if(!nt)return!0;if(tt.normal==="it's")return!!nt.tags.has("#Noun");if(nt.switch=="Noun|Gerund"){let rt=_e[et+2];return rt?rt.tags.has("Copula")?!0:(rt.normal==="on"||rt.normal==="in",!1):!!(tt.tags.has("Actor")||tt.tags.has("ProperNoun"))}if(nt.tags.has("Verb"))return nt.tags.has("Infinitive")?!0:nt.tags.has("Gerund")?!1:!!nt.tags.has("PresentTense");if(nt.switch==="Adj|Noun"){let rt=_e[et+2];if(!rt)return!1;if(nounLike.has(rt.normal))return!0;if(adjLike.has(rt.normal))return!1}if(nt.tags.has("Noun")){let rt=nt.machine||nt.normal;return!(rt==="here"||rt==="there"||rt==="everywhere"||nt.tags.has("Possessive")||nt.tags.has("ProperNoun")&&!tt.tags.has("ProperNoun"))}if(_e[et-1]&&beforePossessive[_e[et-1].normal]===!0)return!0;if(nt.tags.has("Adjective")){let rt=_e[et+2];if(!rt)return!1;if(rt.tags.has("Noun")&&!rt.tags.has("Pronoun")){let it=nt.normal;return!(it==="above"||it==="below"||it==="behind")}return rt.switch==="Noun|Verb"}return!!nt.tags.has("Value")},byApostrophe=/'/,reIndex=function(_e){_e.forEach((et,tt)=>{et.index&&(et.index[1]=tt)})},reTag=function(_e,et,tt,nt){let rt=et.update();rt.document=[_e];let it=tt+nt;tt>0&&(tt-=1),_e[it]&&(it+=1),rt.ptrs=[[0,tt,it]],rt.compute(["freeze","lexicon","preTagger","unfreeze"]),reIndex(_e)},byEnd={d:(_e,et)=>_apostropheD(_e,et),t:(_e,et)=>apostropheT(_e,et),s:(_e,et,tt)=>isPossessive(_e,et)?tt.methods.one.setTag([_e[et]],"Possessive",tt,null,"2-contraction"):apostropheS$1(_e,et)},toDocs=function(_e,et){let tt=et.fromText(_e.join(" "));return tt.compute("id"),tt.docs[0]},contractionTwo$1=_e=>{let{world:et,document:tt}=_e;tt.forEach((nt,rt)=>{for(let it=nt.length-1;it>=0;it-=1){if(nt[it].implicit)return;let ot=null;byApostrophe.test(nt[it].normal)===!0&&(ot=nt[it].normal.split(byApostrophe)[1]);let st=null;if(byEnd.hasOwnProperty(ot)&&(st=byEnd[ot](nt,it,et)),st){st=toDocs(st,_e),insertContraction(tt,[rt,it],st),reTag(tt[rt],_e,it,st.length);continue}}})},compute$2={contractionTwo:contractionTwo$1},contractionTwo={compute:compute$2,api:api$i,hooks:["contractionTwo"]},adj=[{match:"[(all|both)] #Determiner #Noun",group:0,tag:"Noun",reason:"all-noun"},{match:"#Copula [(just|alone)]$",group:0,tag:"Adjective",reason:"not-adverb"},{match:"#Singular is #Adverb? [#PastTense$]",group:0,tag:"Adjective",reason:"is-filled"},{match:"[#PastTense] #Singular is",group:0,tag:"Adjective",reason:"smoked-poutine"},{match:"[#PastTense] #Plural are",group:0,tag:"Adjective",reason:"baked-onions"},{match:"well [#PastTense]",group:0,tag:"Adjective",reason:"well-made"},{match:"#Copula [fucked up?]",group:0,tag:"Adjective",reason:"swears-adjective"},{match:"#Singular (seems|appears) #Adverb? [#PastTense$]",group:0,tag:"Adjective",reason:"seems-filled"},{match:"#Copula #Adjective? [(out|in|through)]$",group:0,tag:"Adjective",reason:"still-out"},{match:"^[#Adjective] (the|your) #Noun",group:0,notIf:"(all|even)",tag:"Infinitive",reason:"shut-the"},{match:"the [said] #Noun",group:0,tag:"Adjective",reason:"the-said-card"},{match:"[#Hyphenated (#Hyphenated && #PastTense)] (#Noun|#Conjunction)",group:0,tag:"Adjective",notIf:"#Adverb",reason:"faith-based"},{match:"[#Hyphenated (#Hyphenated && #Gerund)] (#Noun|#Conjunction)",group:0,tag:"Adjective",notIf:"#Adverb",reason:"self-driving"},{match:"[#PastTense (#Hyphenated && #PhrasalVerb)] (#Noun|#Conjunction)",group:0,tag:"Adjective",reason:"dammed-up"},{match:"(#Hyphenated && #Value) fold",tag:"Adjective",reason:"two-fold"},{match:"must (#Hyphenated && #Infinitive)",tag:"Adjective",reason:"must-win"},{match:"(#Hyphenated && #Infinitive) #Hyphenated",tag:"Adjective",notIf:"#PhrasalVerb",reason:"vacuum-sealed"},{match:"too much",tag:"Adverb Adjective",reason:"bit-4"},{match:"a bit much",tag:"Determiner Adverb Adjective",reason:"bit-3"},{match:"[(un|contra|extra|inter|intra|macro|micro|mid|mis|mono|multi|pre|sub|tri|ex)] #Adjective",group:0,tag:["Adjective","Prefix"],reason:"un-skilled"}],adverbAdj="(dark|bright|flat|light|soft|pale|dead|dim|faux|little|wee|sheer|most|near|good|extra|all)",noLy="(hard|fast|late|early|high|right|deep|close|direct)",advAdj=[{match:"#Adverb [#Adverb] (and|or|then)",group:0,tag:"Adjective",reason:"kinda-sparkly-and"},{match:`[${adverbAdj}] #Adjective`,group:0,tag:"Adverb",reason:"dark-green"},{match:"#Copula [far too] #Adjective",group:0,tag:"Adverb",reason:"far-too"},{match:"#Copula [still] (in|#Gerund|#Adjective)",group:0,tag:"Adverb",reason:"was-still-walking"},{match:`#Plural ${noLy}`,tag:"#PresentTense #Adverb",reason:"studies-hard"},{match:`#Verb [${noLy}] !#Noun?`,group:0,notIf:"(#Copula|get|got|getting|become|became|becoming|feel|feels|feeling|#Determiner|#Preposition)",tag:"Adverb",reason:"shops-direct"},{match:"[#Plural] a lot",tag:"PresentTense",reason:"studies-a-lot"}],gerundAdj=[{match:"as [#Gerund] as",group:0,tag:"Adjective",reason:"as-gerund-as"},{match:"more [#Gerund] than",group:0,tag:"Adjective",reason:"more-gerund-than"},{match:"(so|very|extremely) [#Gerund]",group:0,tag:"Adjective",reason:"so-gerund"},{match:"(found|found) it #Adverb? [#Gerund]",group:0,tag:"Adjective",reason:"found-it-gerund"},{match:"a (little|bit|wee) bit? [#Gerund]",group:0,tag:"Adjective",reason:"a-bit-gerund"},{match:"#Gerund [#Gerund]",group:0,tag:"Adjective",notIf:"(impersonating|practicing|considering|assuming)",reason:"looking-annoying"},{match:"(looked|look|looks) #Adverb? [%Adj|Gerund%]",group:0,tag:"Adjective",notIf:"(impersonating|practicing|considering|assuming)",reason:"looked-amazing"},{match:"[%Adj|Gerund%] #Determiner",group:0,tag:"Gerund",reason:"developing-a"},{match:"#Possessive [%Adj|Gerund%] #Noun",group:0,tag:"Adjective",reason:"leading-manufacturer"},{match:"%Noun|Gerund% %Adj|Gerund%",tag:"Gerund #Adjective",reason:"meaning-alluring"},{match:"(face|embrace|reveal|stop|start|resume) %Adj|Gerund%",tag:"#PresentTense #Adjective",reason:"face-shocking"},{match:"(are|were) [%Adj|Gerund%] #Plural",group:0,tag:"Adjective",reason:"are-enduring-symbols"}],nounAdj=[{match:"#Determiner [#Adjective] #Copula",group:0,tag:"Noun",reason:"the-adj-is"},{match:"#Adjective [#Adjective] #Copula",group:0,tag:"Noun",reason:"adj-adj-is"},{match:"(his|its) [%Adj|Noun%]",group:0,tag:"Noun",notIf:"#Hyphenated",reason:"his-fine"},{match:"#Copula #Adverb? [all]",group:0,tag:"Noun",reason:"is-all"},{match:"(have|had) [#Adjective] #Preposition .",group:0,tag:"Noun",reason:"have-fun"},{match:"#Gerund (giant|capital|center|zone|application)",tag:"Noun",reason:"brewing-giant"},{match:"#Preposition (a|an) [#Adjective]$",group:0,tag:"Noun",reason:"an-instant"},{match:"no [#Adjective] #Modal",group:0,tag:"Noun",reason:"no-golden"},{match:"[brand #Gerund?] new",group:0,tag:"Adverb",reason:"brand-new"},{match:"(#Determiner|#Comparative|new|different) [kind]",group:0,tag:"Noun",reason:"some-kind"},{match:"#Possessive [%Adj|Noun%] #Noun",group:0,tag:"Adjective",reason:"her-favourite"},{match:"must && #Hyphenated .",tag:"Adjective",reason:"must-win"},{match:"#Determiner [#Adjective]$",tag:"Noun",notIf:"(this|that|#Comparative|#Superlative)",reason:"the-south"},{match:"(#Noun && #Hyphenated) (#Adjective && #Hyphenated)",tag:"Adjective",notIf:"(this|that|#Comparative|#Superlative)",reason:"company-wide"},{match:"#Determiner [#Adjective] (#Copula|#Determiner)",notIf:"(#Comparative|#Superlative)",group:0,tag:"Noun",reason:"the-poor"},{match:"[%Adj|Noun%] #Noun",notIf:"(#Pronoun|#ProperNoun)",group:0,tag:"Adjective",reason:"stable-foundations"}],adjVerb=[{match:"(slowly|quickly) [#Adjective]",group:0,tag:"Verb",reason:"slowly-adj"},{match:"does (#Adverb|not)? [#Adjective]",group:0,tag:"PresentTense",reason:"does-mean"},{match:"[(fine|okay|cool|ok)] by me",group:0,tag:"Adjective",reason:"okay-by-me"},{match:"i (#Adverb|do)? not? [mean]",group:0,tag:"PresentTense",reason:"i-mean"},{match:"will #Adjective",tag:"Auxiliary Infinitive",reason:"will-adj"},{match:"#Pronoun [#Adjective] #Determiner #Adjective? #Noun",group:0,tag:"Verb",reason:"he-adj-the"},{match:"#Copula [%Adj|Present%] to #Verb",group:0,tag:"Verb",reason:"adj-to"},{match:"#Copula [#Adjective] (well|badly|quickly|slowly)",group:0,tag:"Verb",reason:"done-well"},{match:"#Adjective and [#Gerund] !#Preposition?",group:0,tag:"Adjective",reason:"rude-and-x"},{match:"#Copula #Adverb? (over|under) [#PastTense]",group:0,tag:"Adjective",reason:"over-cooked"},{match:"#Copula #Adjective+ (and|or) [#PastTense]$",group:0,tag:"Adjective",reason:"bland-and-overcooked"},{match:"got #Adverb? [#PastTense] of",group:0,tag:"Adjective",reason:"got-tired-of"},{match:"(seem|seems|seemed|appear|appeared|appears|feel|feels|felt|sound|sounds|sounded) (#Adverb|#Adjective)? [#PastTense]",group:0,tag:"Adjective",reason:"felt-loved"},{match:"(seem|feel|seemed|felt) [#PastTense #Particle?]",group:0,tag:"Adjective",reason:"seem-confused"},{match:"a (bit|little|tad) [#PastTense #Particle?]",group:0,tag:"Adjective",reason:"a-bit-confused"},{match:"not be [%Adj|Past% #Particle?]",group:0,tag:"Adjective",reason:"do-not-be-confused"},{match:"#Copula just [%Adj|Past% #Particle?]",group:0,tag:"Adjective",reason:"is-just-right"},{match:"as [#Infinitive] as",group:0,tag:"Adjective",reason:"as-pale-as"},{match:"[%Adj|Past%] and #Adjective",group:0,tag:"Adjective",reason:"faled-and-oppressive"},{match:"or [#PastTense] #Noun",group:0,tag:"Adjective",notIf:"(#Copula|#Pronoun)",reason:"or-heightened-emotion"},{match:"(become|became|becoming|becomes) [#Verb]",group:0,tag:"Adjective",reason:"become-verb"},{match:"#Possessive [#PastTense] #Noun",group:0,tag:"Adjective",reason:"declared-intentions"},{match:"#Copula #Pronoun [%Adj|Present%]",group:0,tag:"Adjective",reason:"is-he-cool"},{match:"#Copula [%Adj|Past%] with",group:0,tag:"Adjective",notIf:"(associated|worn|baked|aged|armed|bound|fried|loaded|mixed|packed|pumped|filled|sealed)",reason:"is-crowded-with"},{match:"#Copula #Adverb? [%Adj|Present%]$",group:0,tag:"Adjective",reason:"was-empty$"}],adv=[{match:"[still] #Adjective",group:0,tag:"Adverb",reason:"still-advb"},{match:"[still] #Verb",group:0,tag:"Adverb",reason:"still-verb"},{match:"[so] #Adjective",group:0,tag:"Adverb",reason:"so-adv"},{match:"[way] #Comparative",group:0,tag:"Adverb",reason:"way-adj"},{match:"[way] #Adverb #Adjective",group:0,tag:"Adverb",reason:"way-too-adj"},{match:"[all] #Verb",group:0,tag:"Adverb",reason:"all-verb"},{match:"#Verb  [like]",group:0,notIf:"(#Modal|#PhrasalVerb)",tag:"Adverb",reason:"verb-like"},{match:"(barely|hardly) even",tag:"Adverb",reason:"barely-even"},{match:"[even] #Verb",group:0,tag:"Adverb",reason:"even-walk"},{match:"[even] #Comparative",group:0,tag:"Adverb",reason:"even-worse"},{match:"[even] (#Determiner|#Possessive)",group:0,tag:"#Adverb",reason:"even-the"},{match:"even left",tag:"#Adverb #Verb",reason:"even-left"},{match:"[way] #Adjective",group:0,tag:"#Adverb",reason:"way-over"},{match:"#PresentTense [(hard|quick|bright|slow|fast|backwards|forwards)]",notIf:"#Copula",group:0,tag:"Adverb",reason:"lazy-ly"},{match:"[much] #Adjective",group:0,tag:"Adverb",reason:"bit-1"},{match:"#Copula [#Adverb]$",group:0,tag:"Adjective",reason:"is-well"},{match:"a [(little|bit|wee) bit?] #Adjective",group:0,tag:"Adverb",reason:"a-bit-cold"},{match:"[(super|pretty)] #Adjective",group:0,tag:"Adverb",reason:"super-strong"},{match:"(become|fall|grow) #Adverb? [#PastTense]",group:0,tag:"Adjective",reason:"overly-weakened"},{match:"(a|an) #Adverb [#Participle] #Noun",group:0,tag:"Adjective",reason:"completely-beaten"},{match:"#Determiner #Adverb? [close]",group:0,tag:"Adjective",reason:"a-close"},{match:"#Gerund #Adverb? [close]",group:0,tag:"Adverb",notIf:"(getting|becoming|feeling)",reason:"being-close"},{match:"(the|those|these|a|an) [#Participle] #Noun",group:0,tag:"Adjective",reason:"blown-motor"},{match:"(#PresentTense|#PastTense) [back]",group:0,tag:"Adverb",notIf:"(#PhrasalVerb|#Copula)",reason:"charge-back"},{match:"#Verb [around]",group:0,tag:"Adverb",notIf:"#PhrasalVerb",reason:"send-around"},{match:"[later] #PresentTense",group:0,tag:"Adverb",reason:"later-say"},{match:"#Determiner [well] !#PastTense?",group:0,tag:"Noun",reason:"the-well"},{match:"#Adjective [enough]",group:0,tag:"Adverb",reason:"high-enough"}],dates=[{match:"#Holiday (day|eve)",tag:"Holiday",reason:"holiday-day"},{match:"#Value of #Month",tag:"Date",reason:"value-of-month"},{match:"#Cardinal #Month",tag:"Date",reason:"cardinal-month"},{match:"#Month #Value to #Value",tag:"Date",reason:"value-to-value"},{match:"#Month the #Value",tag:"Date",reason:"month-the-value"},{match:"(#WeekDay|#Month) #Value",tag:"Date",reason:"date-value"},{match:"#Value (#WeekDay|#Month)",tag:"Date",reason:"value-date"},{match:"(#TextValue && #Date) #TextValue",tag:"Date",reason:"textvalue-date"},{match:"#Month #NumberRange",tag:"Date",reason:"aug 20-21"},{match:"#WeekDay #Month #Ordinal",tag:"Date",reason:"week mm-dd"},{match:"#Month #Ordinal #Cardinal",tag:"Date",reason:"mm-dd-yyy"},{match:"(#Place|#Demonmym|#Time) (standard|daylight|central|mountain)? time",tag:"Timezone",reason:"std-time"},{match:"(eastern|mountain|pacific|central|atlantic) (standard|daylight|summer)? time",tag:"Timezone",reason:"eastern-time"},{match:"#Time [(eastern|mountain|pacific|central|est|pst|gmt)]",group:0,tag:"Timezone",reason:"5pm-central"},{match:"(central|western|eastern) european time",tag:"Timezone",reason:"cet"}],ambigDates=[{match:"[sun] the #Ordinal",tag:"WeekDay",reason:"sun-the-5th"},{match:"[sun] #Date",group:0,tag:"WeekDay",reason:"sun-feb"},{match:"#Date (on|this|next|last|during)? [sun]",group:0,tag:"WeekDay",reason:"1pm-sun"},{match:"(in|by|before|during|on|until|after|of|within|all) [sat]",group:0,tag:"WeekDay",reason:"sat"},{match:"(in|by|before|during|on|until|after|of|within|all) [wed]",group:0,tag:"WeekDay",reason:"wed"},{match:"(in|by|before|during|on|until|after|of|within|all) [march]",group:0,tag:"Month",reason:"march"},{match:"[sat] #Date",group:0,tag:"WeekDay",reason:"sat-feb"},{match:"#Preposition [(march|may)]",group:0,tag:"Month",reason:"in-month"},{match:"(this|next|last) (march|may) !#Infinitive?",tag:"#Date #Month",reason:"this-month"},{match:"(march|may) the? #Value",tag:"#Month #Date #Date",reason:"march-5th"},{match:"#Value of? (march|may)",tag:"#Date #Date #Month",reason:"5th-of-march"},{match:"[(march|may)] .? #Date",group:0,tag:"Month",reason:"march-and-feb"},{match:"#Date .? [(march|may)]",group:0,tag:"Month",reason:"feb-and-march"},{match:"#Adverb [(march|may)]",group:0,tag:"Verb",reason:"quickly-march"},{match:"[(march|may)] #Adverb",group:0,tag:"Verb",reason:"march-quickly"},{match:"#Value (am|pm)",tag:"Time",reason:"2-am"}],infNouns="(feel|sense|process|rush|side|bomb|bully|challenge|cover|crush|dump|exchange|flow|function|issue|lecture|limit|march|process)",noun=[{match:"(the|any) [more]",group:0,tag:"Singular",reason:"more-noun"},{match:"[more] #Noun",group:0,tag:"Adjective",reason:"more-noun"},{match:"(right|rights) of .",tag:"Noun",reason:"right-of"},{match:"a [bit]",group:0,tag:"Singular",reason:"bit-2"},{match:"a [must]",group:0,tag:"Singular",reason:"must-2"},{match:"(we|us) [all]",group:0,tag:"Noun",reason:"we all"},{match:"due to [#Verb]",group:0,tag:"Noun",reason:"due-to"},{match:"some [#Verb] #Plural",group:0,tag:"Noun",reason:"determiner6"},{match:"#Possessive #Ordinal [#PastTense]",group:0,tag:"Noun",reason:"first-thought"},{match:"(the|this|those|these) #Adjective [%Verb|Noun%]",group:0,tag:"Noun",notIf:"#Copula",reason:"the-adj-verb"},{match:"(the|this|those|these) #Adverb #Adjective [#Verb]",group:0,tag:"Noun",reason:"determiner4"},{match:"the [#Verb] #Preposition .",group:0,tag:"Noun",reason:"determiner1"},{match:"(a|an|the) [#Verb] of",group:0,tag:"Noun",reason:"the-verb-of"},{match:"#Determiner #Noun of [#Verb]",group:0,tag:"Noun",notIf:"#Gerund",reason:"noun-of-noun"},{match:"#PastTense #Preposition [#PresentTense]",group:0,notIf:"#Gerund",tag:"Noun",reason:"ended-in-ruins"},{match:"#Conjunction [u]",group:0,tag:"Pronoun",reason:"u-pronoun-2"},{match:"[u] #Verb",group:0,tag:"Pronoun",reason:"u-pronoun-1"},{match:"#Determiner [(western|eastern|northern|southern|central)] #Noun",group:0,tag:"Noun",reason:"western-line"},{match:"(#Singular && @hasHyphen) #PresentTense",tag:"Noun",reason:"hyphen-verb"},{match:"is no [#Verb]",group:0,tag:"Noun",reason:"is-no-verb"},{match:"do [so]",group:0,tag:"Noun",reason:"so-noun"},{match:"#Determiner [(shit|damn|hell)]",group:0,tag:"Noun",reason:"swears-noun"},{match:"to [(shit|hell)]",group:0,tag:"Noun",reason:"to-swears"},{match:"(the|these) [#Singular] (were|are)",group:0,tag:"Plural",reason:"singular-were"},{match:"a #Noun+ or #Adverb+? [#Verb]",group:0,tag:"Noun",reason:"noun-or-noun"},{match:"(the|those|these|a|an) #Adjective? [#PresentTense #Particle?]",group:0,tag:"Noun",notIf:"(seem|appear|include|#Gerund|#Copula)",reason:"det-inf"},{match:"#Noun #Actor",tag:"Actor",notIf:"(#Person|#Pronoun)",reason:"thing-doer"},{match:"#Gerund #Actor",tag:"Actor",reason:"gerund-doer"},{match:"co #Singular",tag:"Actor",reason:"co-noun"},{match:"[#Noun+] #Actor",group:0,tag:"Actor",notIf:"(#Honorific|#Pronoun|#Possessive)",reason:"air-traffic-controller"},{match:"(urban|cardiac|cardiovascular|respiratory|medical|clinical|visual|graphic|creative|dental|exotic|fine|certified|registered|technical|virtual|professional|amateur|junior|senior|special|pharmaceutical|theoretical)+ #Noun? #Actor",tag:"Actor",reason:"fine-artist"},{match:"#Noun+ (coach|chef|king|engineer|fellow|personality|boy|girl|man|woman|master)",tag:"Actor",reason:"dance-coach"},{match:"chief . officer",tag:"Actor",reason:"chief-x-officer"},{match:"chief of #Noun+",tag:"Actor",reason:"chief-of-police"},{match:"senior? vice? president of #Noun+",tag:"Actor",reason:"president-of"},{match:"#Determiner [sun]",group:0,tag:"Singular",reason:"the-sun"},{match:"#Verb (a|an) [#Value]$",group:0,tag:"Singular",reason:"did-a-value"},{match:"the [(can|will|may)]",group:0,tag:"Singular",reason:"the can"},{match:"#FirstName #Acronym? (#Possessive && #LastName)",tag:"Possessive",reason:"name-poss"},{match:"#Organization+ #Possessive",tag:"Possessive",reason:"org-possessive"},{match:"#Place+ #Possessive",tag:"Possessive",reason:"place-possessive"},{match:"#Possessive #PresentTense #Particle?",notIf:"(#Gerund|her)",tag:"Noun",reason:"possessive-verb"},{match:"(my|our|their|her|his|its) [(#Plural && #Actor)] #Noun",tag:"Possessive",reason:"my-dads"},{match:"#Value of a [second]",group:0,unTag:"Value",tag:"Singular",reason:"10th-of-a-second"},{match:"#Value [seconds]",group:0,unTag:"Value",tag:"Plural",reason:"10-seconds"},{match:"in [#Infinitive]",group:0,tag:"Singular",reason:"in-age"},{match:"a [#Adjective] #Preposition",group:0,tag:"Noun",reason:"a-minor-in"},{match:"#Determiner [#Singular] said",group:0,tag:"Actor",reason:"the-actor-said"},{match:`#Determiner #Noun [${infNouns}] !(#Preposition|to|#Adverb)?`,group:0,tag:"Noun",reason:"the-noun-sense"},{match:"[#PresentTense] (of|by|for) (a|an|the) #Noun #Copula",group:0,tag:"Plural",reason:"photographs-of"},{match:"#Infinitive and [%Noun|Verb%]",group:0,tag:"Infinitive",reason:"fight and win"},{match:"#Noun and [#Verb] and #Noun",group:0,tag:"Noun",reason:"peace-and-flowers"},{match:"the #Cardinal [%Adj|Noun%]",group:0,tag:"Noun",reason:"the-1992-classic"},{match:"#Copula the [%Adj|Noun%] #Noun",group:0,tag:"Adjective",reason:"the-premier-university"},{match:"i #Verb [me] #Noun",group:0,tag:"Possessive",reason:"scottish-me"},{match:"[#PresentTense] (music|class|lesson|night|party|festival|league|ceremony)",group:0,tag:"Noun",reason:"dance-music"},{match:"[wit] (me|it)",group:0,tag:"Presposition",reason:"wit-me"},{match:"#PastTense #Possessive [#Verb]",group:0,tag:"Noun",notIf:"(saw|made)",reason:"left-her-boots"},{match:"#Value [%Plural|Verb%]",group:0,tag:"Plural",notIf:"(one|1|a|an)",reason:"35-signs"},{match:"had [#PresentTense]",group:0,tag:"Noun",notIf:"(#Gerund|come|become)",reason:"had-time"},{match:"%Adj|Noun% %Noun|Verb%",tag:"#Adjective #Noun",notIf:"#ProperNoun #Noun",reason:"instant-access"},{match:"#Determiner [%Adj|Noun%] #Conjunction",group:0,tag:"Noun",reason:"a-rep-to"},{match:"#Adjective #Noun [%Plural|Verb%]$",group:0,tag:"Plural",notIf:"#Pronoun",reason:"near-death-experiences"},{match:"#Possessive #Noun [%Plural|Verb%]$",group:0,tag:"Plural",reason:"your-guild-colors"}],gerundNouns=[{match:"(this|that|the|a|an) [#Gerund #Infinitive]",group:0,tag:"Singular",reason:"the-planning-process"},{match:"(that|the) [#Gerund #PresentTense]",group:0,ifNo:"#Copula",tag:"Plural",reason:"the-paving-stones"},{match:"#Determiner [#Gerund] #Noun",group:0,tag:"Adjective",reason:"the-gerund-noun"},{match:"#Pronoun #Infinitive [#Gerund] #PresentTense",group:0,tag:"Noun",reason:"tipping-sucks"},{match:"#Adjective [#Gerund]",group:0,tag:"Noun",notIf:"(still|even|just)",reason:"early-warning"},{match:"[#Gerund] #Adverb? not? #Copula",group:0,tag:"Activity",reason:"gerund-copula"},{match:"#Copula [(#Gerund|#Activity)] #Copula",group:0,tag:"Gerund",reason:"are-doing-is"},{match:"[#Gerund] #Modal",group:0,tag:"Activity",reason:"gerund-modal"},{match:"#Singular for [%Noun|Gerund%]",group:0,tag:"Gerund",reason:"noun-for-gerund"},{match:"#Comparative (for|at) [%Noun|Gerund%]",group:0,tag:"Gerund",reason:"better-for-gerund"},{match:"#PresentTense the [#Gerund]",group:0,tag:"Noun",reason:"keep-the-touching"}],presNouns=[{match:"#Infinitive (this|that|the) [#Infinitive]",group:0,tag:"Noun",reason:"do-this-dance"},{match:"#Gerund #Determiner [#Infinitive]",group:0,tag:"Noun",reason:"running-a-show"},{match:"#Determiner (only|further|just|more|backward) [#Infinitive]",group:0,tag:"Noun",reason:"the-only-reason"},{match:"(the|this|a|an) [#Infinitive] #Adverb? #Verb",group:0,tag:"Noun",reason:"determiner5"},{match:"#Determiner #Adjective #Adjective? [#Infinitive]",group:0,tag:"Noun",reason:"a-nice-inf"},{match:"#Determiner #Demonym [#PresentTense]",group:0,tag:"Noun",reason:"mexican-train"},{match:"#Adjective #Noun+ [#Infinitive] #Copula",group:0,tag:"Noun",reason:"career-move"},{match:"at some [#Infinitive]",group:0,tag:"Noun",reason:"at-some-inf"},{match:"(go|goes|went) to [#Infinitive]",group:0,tag:"Noun",reason:"goes-to-verb"},{match:"(a|an) #Adjective? #Noun [#Infinitive] (#Preposition|#Noun)",group:0,notIf:"from",tag:"Noun",reason:"a-noun-inf"},{match:"(a|an) #Noun [#Infinitive]$",group:0,tag:"Noun",reason:"a-noun-inf2"},{match:"#Gerund #Adjective? for [#Infinitive]",group:0,tag:"Noun",reason:"running-for"},{match:"about [#Infinitive]",group:0,tag:"Singular",reason:"about-love"},{match:"#Plural on [#Infinitive]",group:0,tag:"Noun",reason:"on-stage"},{match:"any [#Infinitive]",group:0,tag:"Noun",reason:"any-charge"},{match:"no [#Infinitive]",group:0,tag:"Noun",reason:"no-doubt"},{match:"number of [#PresentTense]",group:0,tag:"Noun",reason:"number-of-x"},{match:"(taught|teaches|learns|learned) [#PresentTense]",group:0,tag:"Noun",reason:"teaches-x"},{match:"(try|use|attempt|build|make) [#Verb #Particle?]",notIf:"(#Copula|#Noun|sure|fun|up)",group:0,tag:"Noun",reason:"do-verb"},{match:"^[#Infinitive] (is|was)",group:0,tag:"Noun",reason:"checkmate-is"},{match:"#Infinitive much [#Infinitive]",group:0,tag:"Noun",reason:"get-much"},{match:"[cause] #Pronoun #Verb",group:0,tag:"Conjunction",reason:"cause-cuz"},{match:"the #Singular [#Infinitive] #Noun",group:0,tag:"Noun",notIf:"#Pronoun",reason:"cardio-dance"},{match:"#Determiner #Modal [#Noun]",group:0,tag:"PresentTense",reason:"should-smoke"},{match:"this [#Plural]",group:0,tag:"PresentTense",notIf:"(#Preposition|#Date)",reason:"this-verbs"},{match:"#Noun that [#Plural]",group:0,tag:"PresentTense",notIf:"(#Preposition|#Pronoun|way)",reason:"voice-that-rocks"},{match:"that [#Plural] to",group:0,tag:"PresentTense",notIf:"#Preposition",reason:"that-leads-to"},{match:"(let|make|made) (him|her|it|#Person|#Place|#Organization)+ [#Singular] (a|an|the|it)",group:0,tag:"Infinitive",reason:"let-him-glue"},{match:"#Verb (all|every|each|most|some|no) [#PresentTense]",notIf:"#Modal",group:0,tag:"Noun",reason:"all-presentTense"},{match:"(had|have|#PastTense) #Adjective [#PresentTense]",group:0,tag:"Noun",notIf:"better",reason:"adj-presentTense"},{match:"#Value #Adjective [#PresentTense]",group:0,tag:"Noun",notIf:"#Copula",reason:"one-big-reason"},{match:"#PastTense #Adjective+ [#PresentTense]",group:0,tag:"Noun",notIf:"(#Copula|better)",reason:"won-wide-support"},{match:"(many|few|several|couple) [#PresentTense]",group:0,tag:"Noun",notIf:"#Copula",reason:"many-poses"},{match:"#Determiner #Adverb #Adjective [%Noun|Verb%]",group:0,tag:"Noun",notIf:"#Copula",reason:"very-big-dream"},{match:"from #Noun to [%Noun|Verb%]",group:0,tag:"Noun",reason:"start-to-finish"},{match:"(for|with|of) #Noun (and|or|not) [%Noun|Verb%]",group:0,tag:"Noun",notIf:"#Pronoun",reason:"for-food-and-gas"},{match:"#Adjective #Adjective [#PresentTense]",group:0,tag:"Noun",notIf:"#Copula",reason:"adorable-little-store"},{match:"#Gerund #Adverb? #Comparative [#PresentTense]",group:0,tag:"Noun",notIf:"#Copula",reason:"higher-costs"},{match:"(#Noun && @hasComma) #Noun (and|or) [#PresentTense]",group:0,tag:"Noun",notIf:"#Copula",reason:"noun-list"},{match:"(many|any|some|several) [#PresentTense] for",group:0,tag:"Noun",reason:"any-verbs-for"},{match:"to #PresentTense #Noun [#PresentTense] #Preposition",group:0,tag:"Noun",reason:"gas-exchange"},{match:"#PastTense (until|as|through|without) [#PresentTense]",group:0,tag:"Noun",reason:"waited-until-release"},{match:"#Gerund like #Adjective? [#PresentTense]",group:0,tag:"Plural",reason:"like-hot-cakes"},{match:"some #Adjective [#PresentTense]",group:0,tag:"Noun",reason:"some-reason"},{match:"for some [#PresentTense]",group:0,tag:"Noun",reason:"for-some-reason"},{match:"(same|some|the|that|a) kind of [#PresentTense]",group:0,tag:"Noun",reason:"some-kind-of"},{match:"(same|some|the|that|a) type of [#PresentTense]",group:0,tag:"Noun",reason:"some-type-of"},{match:"#Gerund #Adjective #Preposition [#PresentTense]",group:0,tag:"Noun",reason:"doing-better-for-x"},{match:"(get|got|have) #Comparative [#PresentTense]",group:0,tag:"Noun",reason:"got-better-aim"},{match:"whose [#PresentTense] #Copula",group:0,tag:"Noun",reason:"whos-name-was"},{match:"#PhrasalVerb #Particle #Preposition [#PresentTense]",group:0,tag:"Noun",reason:"given-up-on-x"},{match:"there (are|were) #Adjective? [#PresentTense]",group:0,tag:"Plural",reason:"there-are"},{match:"#Value [#PresentTense] of",group:0,notIf:"(one|1|#Copula|#Infinitive)",tag:"Plural",reason:"2-trains"},{match:"[#PresentTense] (are|were) #Adjective",group:0,tag:"Plural",reason:"compromises-are-possible"},{match:"^[(hope|guess|thought|think)] #Pronoun #Verb",group:0,tag:"Infinitive",reason:"suppose-i"},{match:"#Possessive #Adjective [#Verb]",group:0,tag:"Noun",notIf:"#Copula",reason:"our-full-support"},{match:"[(tastes|smells)] #Adverb? #Adjective",group:0,tag:"PresentTense",reason:"tastes-good"},{match:"#Copula #Gerund [#PresentTense] !by?",group:0,tag:"Noun",notIf:"going",reason:"ignoring-commute"},{match:"#Determiner #Adjective? [(shed|thought|rose|bid|saw|spelt)]",group:0,tag:"Noun",reason:"noun-past"},{match:"how to [%Noun|Verb%]",group:0,tag:"Infinitive",reason:"how-to-noun"},{match:"which [%Noun|Verb%] #Noun",group:0,tag:"Infinitive",reason:"which-boost-it"},{match:"#Gerund [%Plural|Verb%]",group:0,tag:"Plural",reason:"asking-questions"},{match:"(ready|available|difficult|hard|easy|made|attempt|try) to [%Noun|Verb%]",group:0,tag:"Infinitive",reason:"ready-to-noun"},{match:"(bring|went|go|drive|run|bike) to [%Noun|Verb%]",group:0,tag:"Noun",reason:"bring-to-noun"},{match:"#Modal #Noun [%Noun|Verb%]",group:0,tag:"Infinitive",reason:"would-you-look"},{match:"#Copula just [#Infinitive]",group:0,tag:"Noun",reason:"is-just-spam"},{match:"^%Noun|Verb% %Plural|Verb%",tag:"Imperative #Plural",reason:"request-copies"},{match:"#Adjective #Plural and [%Plural|Verb%]",group:0,tag:"#Plural",reason:"pickles-and-drinks"},{match:"#Determiner #Year [#Verb]",group:0,tag:"Noun",reason:"the-1968-film"},{match:"#Determiner [#PhrasalVerb #Particle]",group:0,tag:"Noun",reason:"the-break-up"},{match:"#Determiner [%Adj|Noun%] #Noun",group:0,tag:"Adjective",notIf:"(#Pronoun|#Possessive|#ProperNoun)",reason:"the-individual-goals"},{match:"[%Noun|Verb%] or #Infinitive",group:0,tag:"Infinitive",reason:"work-or-prepare"},{match:"to #Infinitive [#PresentTense]",group:0,tag:"Noun",notIf:"(#Gerund|#Copula|help)",reason:"to-give-thanks"},{match:"[#Noun] me",group:0,tag:"Verb",reason:"kills-me"},{match:"%Plural|Verb% %Plural|Verb%",tag:"#PresentTense #Plural",reason:"removes-wrinkles"}],money=[{match:"#Money and #Money #Currency?",tag:"Money",reason:"money-and-money"},{match:"#Value #Currency [and] #Value (cents|ore|centavos|sens)",group:0,tag:"money",reason:"and-5-cents"},{match:"#Value (mark|rand|won|rub|ore)",tag:"#Money #Currency",reason:"4-mark"},{match:"a pound",tag:"#Money #Unit",reason:"a-pound"},{match:"#Value (pound|pounds)",tag:"#Money #Unit",reason:"4-pounds"}],fractions=[{match:"[(half|quarter)] of? (a|an)",group:0,tag:"Fraction",reason:"millionth"},{match:"#Adverb [half]",group:0,tag:"Fraction",reason:"nearly-half"},{match:"[half] the",group:0,tag:"Fraction",reason:"half-the"},{match:"#Cardinal and a half",tag:"Fraction",reason:"and-a-half"},{match:"#Value (halves|halfs|quarters)",tag:"Fraction",reason:"two-halves"},{match:"a #Ordinal",tag:"Fraction",reason:"a-quarter"},{match:"[#Cardinal+] (#Fraction && /s$/)",tag:"Fraction",reason:"seven-fifths"},{match:"[#Cardinal+ #Ordinal] of .",group:0,tag:"Fraction",reason:"ordinal-of"},{match:"[(#NumericValue && #Ordinal)] of .",group:0,tag:"Fraction",reason:"num-ordinal-of"},{match:"(a|one) #Cardinal?+ #Ordinal",tag:"Fraction",reason:"a-ordinal"},{match:"#Cardinal+ out? of every? #Cardinal",tag:"Fraction",reason:"out-of"}],numbers$1=[{match:"#Cardinal [second]",tag:"Unit",reason:"one-second"},{match:"!once? [(a|an)] (#Duration|hundred|thousand|million|billion|trillion)",group:0,tag:"Value",reason:"a-is-one"},{match:"1 #Value #PhoneNumber",tag:"PhoneNumber",reason:"1-800-Value"},{match:"#NumericValue #PhoneNumber",tag:"PhoneNumber",reason:"(800) PhoneNumber"},{match:"#Demonym #Currency",tag:"Currency",reason:"demonym-currency"},{match:"#Value [(buck|bucks|grand)]",group:0,tag:"Currency",reason:"value-bucks"},{match:"[#Value+] #Currency",group:0,tag:"Money",reason:"15 usd"},{match:"[second] #Noun",group:0,tag:"Ordinal",reason:"second-noun"},{match:"#Value+ [#Currency]",group:0,tag:"Unit",reason:"5-yan"},{match:"#Value [(foot|feet)]",group:0,tag:"Unit",reason:"foot-unit"},{match:"#Value [#Abbreviation]",group:0,tag:"Unit",reason:"value-abbr"},{match:"#Value [k]",group:0,tag:"Unit",reason:"value-k"},{match:"#Unit an hour",tag:"Unit",reason:"unit-an-hour"},{match:"(minus|negative) #Value",tag:"Value",reason:"minus-value"},{match:"#Value (point|decimal) #Value",tag:"Value",reason:"value-point-value"},{match:"#Determiner [(half|quarter)] #Ordinal",group:0,tag:"Value",reason:"half-ordinal"},{match:"#Multiple+ and #Value",tag:"Value",reason:"magnitude-and-value"},{match:"#Value #Unit [(per|an) (hr|hour|sec|second|min|minute)]",group:0,tag:"Unit",reason:"12-miles-per-second"},{match:"#Value [(square|cubic)] #Unit",group:0,tag:"Unit",reason:"square-miles"},{match:"^[#Value] (#Determiner|#Gerund)",group:0,tag:"Expression",unTag:"Value",reason:"numbered-list"}],person=[{match:"#Copula [(#Noun|#PresentTense)] #LastName",group:0,tag:"FirstName",reason:"copula-noun-lastname"},{match:"(sister|pope|brother|father|aunt|uncle|grandpa|grandfather|grandma) #ProperNoun",tag:"Person",reason:"lady-titlecase",safe:!0},{match:"#FirstName [#Determiner #Noun] #LastName",group:0,tag:"Person",reason:"first-noun-last"},{match:"#ProperNoun (b|c|d|e|f|g|h|j|k|l|m|n|o|p|q|r|s|t|u|v|w|x|y|z) #ProperNoun",tag:"Person",reason:"titlecase-acronym-titlecase",safe:!0},{match:"#Acronym #LastName",tag:"Person",reason:"acronym-lastname",safe:!0},{match:"#Person (jr|sr|md)",tag:"Person",reason:"person-honorific"},{match:"#Honorific #Acronym",tag:"Person",reason:"Honorific-TitleCase"},{match:"#Person #Person the? #RomanNumeral",tag:"Person",reason:"roman-numeral"},{match:"#FirstName [/^[^aiurck]$/]",group:0,tag:["Acronym","Person"],reason:"john-e"},{match:"#Noun van der? #Noun",tag:"Person",reason:"van der noun",safe:!0},{match:"(king|queen|prince|saint|lady) of #Noun",tag:"Person",reason:"king-of-noun",safe:!0},{match:"(prince|lady) #Place",tag:"Person",reason:"lady-place"},{match:"(king|queen|prince|saint) #ProperNoun",tag:"Person",notIf:"#Place",reason:"saint-foo"},{match:"al (#Person|#ProperNoun)",tag:"Person",reason:"al-borlen",safe:!0},{match:"#FirstName de #Noun",tag:"Person",reason:"bill-de-noun"},{match:"#FirstName (bin|al) #Noun",tag:"Person",reason:"bill-al-noun"},{match:"#FirstName #Acronym #ProperNoun",tag:"Person",reason:"bill-acronym-title"},{match:"#FirstName #FirstName #ProperNoun",tag:"Person",reason:"bill-firstname-title"},{match:"#Honorific #FirstName? #ProperNoun",tag:"Person",reason:"dr-john-Title"},{match:"#FirstName the #Adjective",tag:"Person",reason:"name-the-great"},{match:"#ProperNoun (van|al|bin) #ProperNoun",tag:"Person",reason:"title-van-title",safe:!0},{match:"#ProperNoun (de|du) la? #ProperNoun",tag:"Person",notIf:"#Place",reason:"title-de-title"},{match:"#Singular #Acronym #LastName",tag:"#FirstName #Person .",reason:"title-acro-noun",safe:!0},{match:"[#ProperNoun] #Person",group:0,tag:"Person",reason:"proper-person",safe:!0},{match:"#Person [#ProperNoun #ProperNoun]",group:0,tag:"Person",notIf:"#Possessive",reason:"three-name-person",safe:!0},{match:"#FirstName #Acronym? [#ProperNoun]",group:0,tag:"LastName",notIf:"#Possessive",reason:"firstname-titlecase"},{match:"#FirstName [#FirstName]",group:0,tag:"LastName",reason:"firstname-firstname"},{match:"#FirstName #Acronym #Noun",tag:"Person",reason:"n-acro-noun",safe:!0},{match:"#FirstName [(de|di|du|van|von)] #Person",group:0,tag:"LastName",reason:"de-firstname"},{match:"[(lieutenant|corporal|sergeant|captain|qeen|king|admiral|major|colonel|marshal|president|queen|king)+] #ProperNoun",group:0,tag:"Honorific",reason:"seargeant-john"},{match:"[(private|general|major|rear|prime|field|count|miss)] #Honorific? #Person",group:0,tag:["Honorific","Person"],reason:"ambg-honorifics"},{match:"#Honorific #FirstName [#Singular]",group:0,tag:"LastName",notIf:"#Possessive",reason:"dr-john-foo",safe:!0},{match:"[(his|her) (majesty|honour|worship|excellency|honorable)] #Person",group:0,tag:"Honorific",reason:"his-excellency"},{match:"#Honorific #Actor",tag:"Honorific",reason:"Lieutenant colonel"},{match:"(first|second|third|1st|2nd|3rd) #Actor",tag:"Honorific",reason:"first lady"},{match:"#Person #RomanNumeral",tag:"Person",reason:"louis-IV"}],personName=[{match:"#FirstName #Noun$",tag:". #LastName",notIf:"(#Possessive|#Organization|#Place|#Pronoun|@hasTitleCase)",reason:"firstname-noun"},{match:"%Person|Date% #Acronym? #ProperNoun",tag:"Person",reason:"jan-thierson"},{match:"%Person|Noun% #Acronym? #ProperNoun",tag:"Person",reason:"switch-person",safe:!0},{match:"%Person|Noun% #Organization",tag:"Organization",reason:"olive-garden"},{match:"%Person|Verb% #Acronym? #ProperNoun",tag:"Person",reason:"verb-propernoun",ifNo:"#Actor"},{match:"[%Person|Verb%] (will|had|has|said|says|told|did|learned|wants|wanted)",group:0,tag:"Person",reason:"person-said"},{match:"[%Person|Place%] (harbor|harbour|pier|town|city|place|dump|landfill)",group:0,tag:"Place",reason:"sydney-harbour"},{match:"(west|east|north|south) [%Person|Place%]",group:0,tag:"Place",reason:"east-sydney"},{match:"#Modal [%Person|Verb%]",group:0,tag:"Verb",reason:"would-mark"},{match:"#Adverb [%Person|Verb%]",group:0,tag:"Verb",reason:"really-mark"},{match:"[%Person|Verb%] (#Adverb|#Comparative)",group:0,tag:"Verb",reason:"drew-closer"},{match:"%Person|Verb% #Person",tag:"Person",reason:"rob-smith"},{match:"%Person|Verb% #Acronym #ProperNoun",tag:"Person",reason:"rob-a-smith"},{match:"[will] #Verb",group:0,tag:"Modal",reason:"will-verb"},{match:"(will && @isTitleCase) #ProperNoun",tag:"Person",reason:"will-name"},{match:"(#FirstName && !#Possessive) [#Singular] #Verb",group:0,safe:!0,tag:"LastName",reason:"jack-layton"},{match:"^[#Singular] #Person #Verb",group:0,safe:!0,tag:"Person",reason:"sherwood-anderson"},{match:"(a|an) [#Person]$",group:0,unTag:"Person",reason:"a-warhol"}],verbs$1=[{match:"#Copula (pretty|dead|full|well|sure) (#Adjective|#Noun)",tag:"#Copula #Adverb #Adjective",reason:"sometimes-adverb"},{match:"(#Pronoun|#Person) (had|#Adverb)? [better] #PresentTense",group:0,tag:"Modal",reason:"i-better"},{match:"(#Modal|i|they|we|do) not? [like]",group:0,tag:"PresentTense",reason:"modal-like"},{match:"#Noun #Adverb? [left]",group:0,tag:"PastTense",reason:"left-verb"},{match:"will #Adverb? not? #Adverb? [be] #Gerund",group:0,tag:"Copula",reason:"will-be-copula"},{match:"will #Adverb? not? #Adverb? [be] #Adjective",group:0,tag:"Copula",reason:"be-copula"},{match:"[march] (up|down|back|toward)",notIf:"#Date",group:0,tag:"Infinitive",reason:"march-to"},{match:"#Modal [march]",group:0,tag:"Infinitive",reason:"must-march"},{match:"[may] be",group:0,tag:"Verb",reason:"may-be"},{match:"[(subject|subjects|subjected)] to",group:0,tag:"Verb",reason:"subject to"},{match:"[home] to",group:0,tag:"PresentTense",reason:"home to"},{match:"[open] #Determiner",group:0,tag:"Infinitive",reason:"open-the"},{match:"(were|was) being [#PresentTense]",group:0,tag:"PastTense",reason:"was-being"},{match:"(had|has|have) [been /en$/]",group:0,tag:"Auxiliary Participle",reason:"had-been-broken"},{match:"(had|has|have) [been /ed$/]",group:0,tag:"Auxiliary PastTense",reason:"had-been-smoked"},{match:"(had|has) #Adverb? [been] #Adverb? #PastTense",group:0,tag:"Auxiliary",reason:"had-been-adj"},{match:"(had|has) to [#Noun] (#Determiner|#Possessive)",group:0,tag:"Infinitive",reason:"had-to-noun"},{match:"have [#PresentTense]",group:0,tag:"PastTense",notIf:"(come|gotten)",reason:"have-read"},{match:"(does|will|#Modal) that [work]",group:0,tag:"PastTense",reason:"does-that-work"},{match:"[(sound|sounds)] #Adjective",group:0,tag:"PresentTense",reason:"sounds-fun"},{match:"[(look|looks)] #Adjective",group:0,tag:"PresentTense",reason:"looks-good"},{match:"[(start|starts|stop|stops|begin|begins)] #Gerund",group:0,tag:"Verb",reason:"starts-thinking"},{match:"(have|had) read",tag:"Modal #PastTense",reason:"read-read"},{match:"(is|was|were) [(under|over) #PastTense]",group:0,tag:"Adverb Adjective",reason:"was-under-cooked"},{match:"[shit] (#Determiner|#Possessive|them)",group:0,tag:"Verb",reason:"swear1-verb"},{match:"[damn] (#Determiner|#Possessive|them)",group:0,tag:"Verb",reason:"swear2-verb"},{match:"[fuck] (#Determiner|#Possessive|them)",group:0,tag:"Verb",reason:"swear3-verb"},{match:"#Plural that %Noun|Verb%",tag:". #Preposition #Infinitive",reason:"jobs-that-work"},{match:"[works] for me",group:0,tag:"PresentTense",reason:"works-for-me"},{match:"as #Pronoun [please]",group:0,tag:"Infinitive",reason:"as-we-please"},{match:"[(co|mis|de|inter|intra|pre|re|un|out|under|over|counter)] #Verb",group:0,tag:["Verb","Prefix"],notIf:"(#Copula|#PhrasalVerb)",reason:"co-write"},{match:"#PastTense and [%Adj|Past%]",group:0,tag:"PastTense",reason:"dressed-and-left"},{match:"[%Adj|Past%] and #PastTense",group:0,tag:"PastTense",reason:"dressed-and-left"},{match:"#Copula #Pronoun [%Adj|Past%]",group:0,tag:"Adjective",reason:"is-he-stoked"},{match:"to [%Noun|Verb%] #Preposition",group:0,tag:"Infinitive",reason:"to-dream-of"}],auxiliary=[{match:"will (#Adverb|not)+? [have] (#Adverb|not)+? #Verb",group:0,tag:"Auxiliary",reason:"will-have-vb"},{match:"[#Copula] (#Adverb|not)+? (#Gerund|#PastTense)",group:0,tag:"Auxiliary",reason:"copula-walking"},{match:"[(#Modal|did)+] (#Adverb|not)+? #Verb",group:0,tag:"Auxiliary",reason:"modal-verb"},{match:"#Modal (#Adverb|not)+? [have] (#Adverb|not)+? [had] (#Adverb|not)+? #Verb",group:0,tag:"Auxiliary",reason:"would-have"},{match:"[(has|had)] (#Adverb|not)+? #PastTense",group:0,tag:"Auxiliary",reason:"had-walked"},{match:"[(do|does|did|will|have|had|has|got)] (not|#Adverb)+? #Verb",group:0,tag:"Auxiliary",reason:"have-had"},{match:"[about to] #Adverb? #Verb",group:0,tag:["Auxiliary","Verb"],reason:"about-to"},{match:"#Modal (#Adverb|not)+? [be] (#Adverb|not)+? #Verb",group:0,tag:"Auxiliary",reason:"would-be"},{match:"[(#Modal|had|has)] (#Adverb|not)+? [been] (#Adverb|not)+? #Verb",group:0,tag:"Auxiliary",reason:"had-been"},{match:"[(be|being|been)] #Participle",group:0,tag:"Auxiliary",reason:"being-driven"},{match:"[may] #Adverb? #Infinitive",group:0,tag:"Auxiliary",reason:"may-want"},{match:"#Copula (#Adverb|not)+? [(be|being|been)] #Adverb+? #PastTense",group:0,tag:"Auxiliary",reason:"being-walked"},{match:"will [be] #PastTense",group:0,tag:"Auxiliary",reason:"will-be-x"},{match:"[(be|been)] (#Adverb|not)+? #Gerund",group:0,tag:"Auxiliary",reason:"been-walking"},{match:"[used to] #PresentTense",group:0,tag:"Auxiliary",reason:"used-to-walk"},{match:"#Copula (#Adverb|not)+? [going to] #Adverb+? #PresentTense",group:0,tag:"Auxiliary",reason:"going-to-walk"},{match:"#Imperative [(me|him|her)]",group:0,tag:"Reflexive",reason:"tell-him"},{match:"(is|was) #Adverb? [no]",group:0,tag:"Negative",reason:"is-no"},{match:"[(been|had|became|came)] #PastTense",group:0,notIf:"#PhrasalVerb",tag:"Auxiliary",reason:"been-told"},{match:"[(being|having|getting)] #Verb",group:0,tag:"Auxiliary",reason:"being-born"},{match:"[be] #Gerund",group:0,tag:"Auxiliary",reason:"be-walking"},{match:"[better] #PresentTense",group:0,tag:"Modal",notIf:"(#Copula|#Gerund)",reason:"better-go"},{match:"even better",tag:"Adverb #Comparative",reason:"even-better"}],phrasal=[{match:"(#Verb && @hasHyphen) up",tag:"PhrasalVerb",reason:"foo-up"},{match:"(#Verb && @hasHyphen) off",tag:"PhrasalVerb",reason:"foo-off"},{match:"(#Verb && @hasHyphen) over",tag:"PhrasalVerb",reason:"foo-over"},{match:"(#Verb && @hasHyphen) out",tag:"PhrasalVerb",reason:"foo-out"},{match:"[#Verb (in|out|up|down|off|back)] (on|in)",notIf:"#Copula",tag:"PhrasalVerb Particle",reason:"walk-in-on"},{match:"(lived|went|crept|go) [on] for",group:0,tag:"PhrasalVerb",reason:"went-on"},{match:"#Verb (up|down|in|on|for)$",tag:"PhrasalVerb #Particle",notIf:"#PhrasalVerb",reason:"come-down$"},{match:"help [(stop|end|make|start)]",group:0,tag:"Infinitive",reason:"help-stop"},{match:"#PhrasalVerb (in && #Particle) #Determiner",tag:"#Verb #Preposition #Determiner",unTag:"PhrasalVerb",reason:"work-in-the"},{match:"[(stop|start|finish|help)] #Gerund",group:0,tag:"Infinitive",reason:"start-listening"},{match:"#Verb (him|her|it|us|himself|herself|itself|everything|something) [(up|down)]",group:0,tag:"Adverb",reason:"phrasal-pronoun-advb"}],notIf="(i|we|they)",imperative=[{match:"^do not? [#Infinitive #Particle?]",notIf,group:0,tag:"Imperative",reason:"do-eat"},{match:"^please do? not? [#Infinitive #Particle?]",group:0,tag:"Imperative",reason:"please-go"},{match:"^just do? not? [#Infinitive #Particle?]",group:0,tag:"Imperative",reason:"just-go"},{match:"^[#Infinitive] it #Comparative",notIf,group:0,tag:"Imperative",reason:"do-it-better"},{match:"^[#Infinitive] it (please|now|again|plz)",notIf,group:0,tag:"Imperative",reason:"do-it-please"},{match:"^[#Infinitive] (#Adjective|#Adverb)$",group:0,tag:"Imperative",notIf:"(so|such|rather|enough)",reason:"go-quickly"},{match:"^[#Infinitive] (up|down|over) #Determiner",group:0,tag:"Imperative",reason:"turn-down"},{match:"^[#Infinitive] (your|my|the|a|an|any|each|every|some|more|with|on)",group:0,notIf:"like",tag:"Imperative",reason:"eat-my-shorts"},{match:"^[#Infinitive] (him|her|it|us|me|there)",group:0,tag:"Imperative",reason:"tell-him"},{match:"^[#Infinitive] #Adjective #Noun$",group:0,tag:"Imperative",reason:"avoid-loud-noises"},{match:"^[#Infinitive] (#Adjective|#Adverb)? and #Infinitive",group:0,tag:"Imperative",reason:"call-and-reserve"},{match:"^(go|stop|wait|hurry) please?$",tag:"Imperative",reason:"go"},{match:"^(somebody|everybody) [#Infinitive]",group:0,tag:"Imperative",reason:"somebody-call"},{match:"^let (us|me) [#Infinitive]",group:0,tag:"Imperative",reason:"lets-leave"},{match:"^[(shut|close|open|start|stop|end|keep)] #Determiner #Noun",group:0,tag:"Imperative",reason:"shut-the-door"},{match:"^[#PhrasalVerb #Particle] #Determiner #Noun",group:0,tag:"Imperative",reason:"turn-off-the-light"},{match:"^[go] to .",group:0,tag:"Imperative",reason:"go-to-toronto"},{match:"^#Modal you [#Infinitive]",group:0,tag:"Imperative",reason:"would-you-"},{match:"^never [#Infinitive]",group:0,tag:"Imperative",reason:"never-stop"},{match:"^come #Infinitive",tag:"Imperative",notIf:"on",reason:"come-have"},{match:"^come and? #Infinitive",tag:"Imperative . Imperative",notIf:"#PhrasalVerb",reason:"come-and-have"},{match:"^stay (out|away|back)",tag:"Imperative",reason:"stay-away"},{match:"^[(stay|be|keep)] #Adjective",group:0,tag:"Imperative",reason:"stay-cool"},{match:"^[keep it] #Adjective",group:0,tag:"Imperative",reason:"keep-it-cool"},{match:"^do not [#Infinitive]",group:0,tag:"Imperative",reason:"do-not-be"},{match:"[#Infinitive] (yourself|yourselves)",group:0,tag:"Imperative",reason:"allow-yourself"},{match:"[#Infinitive] what .",group:0,tag:"Imperative",reason:"look-what"},{match:"^[#Infinitive] #Gerund",group:0,tag:"Imperative",reason:"keep-playing"},{match:"^[#Infinitive] (to|for|into|toward|here|there)",group:0,tag:"Imperative",reason:"go-to"},{match:"^[#Infinitive] (and|or) #Infinitive",group:0,tag:"Imperative",reason:"inf-and-inf"},{match:"^[%Noun|Verb%] to",group:0,tag:"Imperative",reason:"commit-to"},{match:"^[#Infinitive] #Adjective? #Singular #Singular",group:0,tag:"Imperative",reason:"maintain-eye-contact"},{match:"do not (forget|omit|neglect) to [#Infinitive]",group:0,tag:"Imperative",reason:"do-not-forget"},{match:"^[(ask|wear|pay|look|help|show|watch|act|fix|kill|stop|start|turn|try|win)] #Noun",group:0,tag:"Imperative",reason:"pay-attention"}],adjGerund=[{match:"(that|which) were [%Adj|Gerund%]",group:0,tag:"Gerund",reason:"that-were-growing"},{match:"#Gerund [#Gerund] #Plural",group:0,tag:"Adjective",reason:"hard-working-fam"}],passive$1=[{match:"(got|were|was|is|are|am) (#PastTense|#Participle)",tag:"Passive",reason:"got-walked"},{match:"(was|were|is|are|am) being (#PastTense|#Participle)",tag:"Passive",reason:"was-being"},{match:"(had|have|has) been (#PastTense|#Participle)",tag:"Passive",reason:"had-been"},{match:"will be being? (#PastTense|#Participle)",tag:"Passive",reason:"will-be-cleaned"},{match:"#Noun [(#PastTense|#Participle)] by (the|a) #Noun",group:0,tag:"Passive",reason:"suffered-by"}];let matches$1=[{match:"u r",tag:"#Pronoun #Copula",reason:"u r"},{match:"#Noun [(who|whom)]",group:0,tag:"Determiner",reason:"captain-who"},{match:"[had] #Noun+ #PastTense",group:0,tag:"Condition",reason:"had-he"},{match:"[were] #Noun+ to #Infinitive",group:0,tag:"Condition",reason:"were-he"},{match:"some sort of",tag:"Adjective Noun Conjunction",reason:"some-sort-of"},{match:"of some sort",tag:"Conjunction Adjective Noun",reason:"of-some-sort"},{match:"[such] (a|an|is)? #Noun",group:0,tag:"Determiner",reason:"such-skill"},{match:"[right] (before|after|in|into|to|toward)",group:0,tag:"#Adverb",reason:"right-into"},{match:"#Preposition [about]",group:0,tag:"Adjective",reason:"at-about"},{match:"(are|#Modal|see|do|for) [ya]",group:0,tag:"Pronoun",reason:"are-ya"},{match:"[long live] .",group:0,tag:"#Adjective #Infinitive",reason:"long-live"},{match:"[plenty] of",group:0,tag:"#Uncountable",reason:"plenty-of"},{match:"(always|nearly|barely|practically) [there]",group:0,tag:"Adjective",reason:"always-there"},{match:"[there] (#Adverb|#Pronoun)? #Copula",group:0,tag:"There",reason:"there-is"},{match:"#Copula [there] .",group:0,tag:"There",reason:"is-there"},{match:"#Modal #Adverb? [there]",group:0,tag:"There",reason:"should-there"},{match:"^[do] (you|we|they)",group:0,tag:"QuestionWord",reason:"do-you"},{match:"^[does] (he|she|it|#ProperNoun)",group:0,tag:"QuestionWord",reason:"does-he"},{match:"#Determiner #Noun+ [who] #Verb",group:0,tag:"Preposition",reason:"the-x-who"},{match:"#Determiner #Noun+ [which] #Verb",group:0,tag:"Preposition",reason:"the-x-which"},{match:"a [while]",group:0,tag:"Noun",reason:"a-while"},{match:"guess who",tag:"#Infinitive #QuestionWord",reason:"guess-who"},{match:"[fucking] !#Verb",group:0,tag:"#Gerund",reason:"f-as-gerund"}];const orgs=[{match:"university of #Place",tag:"Organization",reason:"university-of-Foo"},{match:"#Noun (&|n) #Noun",tag:"Organization",reason:"Noun-&-Noun"},{match:"#Organization of the? #ProperNoun",tag:"Organization",reason:"org-of-place",safe:!0},{match:"#Organization #Country",tag:"Organization",reason:"org-country"},{match:"#ProperNoun #Organization",tag:"Organization",notIf:"#FirstName",reason:"titlecase-org"},{match:"#ProperNoun (ltd|co|inc|dept|assn|bros)",tag:"Organization",reason:"org-abbrv"},{match:"the [#Acronym]",group:0,tag:"Organization",reason:"the-acronym",safe:!0},{match:"government of the? [#Place+]",tag:"Organization",reason:"government-of-x"},{match:"(health|school|commerce) board",tag:"Organization",reason:"school-board"},{match:"(nominating|special|conference|executive|steering|central|congressional) committee",tag:"Organization",reason:"special-comittee"},{match:"(world|global|international|national|#Demonym) #Organization",tag:"Organization",reason:"global-org"},{match:"#Noun+ (public|private) school",tag:"School",reason:"noun-public-school"},{match:"#Place+ #SportsTeam",tag:"SportsTeam",reason:"place-sportsteam"},{match:"(dc|atlanta|minnesota|manchester|newcastle|sheffield) united",tag:"SportsTeam",reason:"united-sportsteam"},{match:"#Place+ fc",tag:"SportsTeam",reason:"fc-sportsteam"}],places=[{match:"(west|north|south|east|western|northern|southern|eastern)+ #Place",tag:"Region",reason:"west-norfolk"},{match:"#City [(al|ak|az|ar|ca|ct|dc|fl|ga|id|il|nv|nh|nj|ny|oh|pa|sc|tn|tx|ut|vt|pr)]",group:0,tag:"Region",reason:"us-state"},{match:"portland [or]",group:0,tag:"Region",reason:"portland-or"},{match:"#ProperNoun+ (cliff|place|range|pit|place|point|room|grounds|ruins)",tag:"Place",reason:"foo-point"},{match:"in [#ProperNoun] #Place",group:0,tag:"Place",reason:"propernoun-place"},{match:"#Value #Noun (st|street|rd|road|crescent|cr|way|tr|terrace|avenue|ave)",tag:"Address",reason:"address-st"}],conjunctions=[{match:"[so] #Noun",group:0,tag:"Conjunction",reason:"so-conj"},{match:"[(who|what|where|why|how|when)] #Noun #Copula #Adverb? (#Verb|#Adjective)",group:0,tag:"Conjunction",reason:"how-he-is-x"},{match:"#Copula [(who|what|where|why|how|when)] #Noun",group:0,tag:"Conjunction",reason:"when-he"},{match:"#Verb [that] #Pronoun",group:0,tag:"Conjunction",reason:"said-that-he"},{match:"#Noun [that] #Copula",group:0,tag:"Conjunction",reason:"that-are"},{match:"#Noun [that] #Verb #Adjective",group:0,tag:"Conjunction",reason:"that-seem"},{match:"#Noun #Copula not? [that] #Adjective",group:0,tag:"Adverb",reason:"that-adj"},{match:"#Verb #Adverb? #Noun [(that|which)]",group:0,tag:"Preposition",reason:"that-prep"},{match:"@hasComma [which] (#Pronoun|#Verb)",group:0,tag:"Preposition",reason:"which-copula"},{match:"#Noun [like] #Noun",group:0,tag:"Preposition",reason:"noun-like"},{match:"^[like] #Determiner",group:0,tag:"Preposition",reason:"like-the"},{match:"a #Noun [like] (#Noun|#Determiner)",group:0,tag:"Preposition",reason:"a-noun-like"},{match:"#Adverb [like]",group:0,tag:"Verb",reason:"really-like"},{match:"(not|nothing|never) [like]",group:0,tag:"Preposition",reason:"nothing-like"},{match:"#Infinitive #Pronoun [like]",group:0,tag:"Preposition",reason:"treat-them-like"},{match:"[#QuestionWord] (#Pronoun|#Determiner)",group:0,tag:"Preposition",reason:"how-he"},{match:"[#QuestionWord] #Participle",group:0,tag:"Preposition",reason:"when-stolen"},{match:"[how] (#Determiner|#Copula|#Modal|#PastTense)",group:0,tag:"QuestionWord",reason:"how-is"},{match:"#Plural [(who|which|when)] .",group:0,tag:"Preposition",reason:"people-who"}],expressions=[{match:"holy (shit|fuck|hell)",tag:"Expression",reason:"swears-expression"},{match:"^[(well|so|okay|now)] !#Adjective?",group:0,tag:"Expression",reason:"well-"},{match:"^come on",tag:"Expression",reason:"come-on"},{match:"(say|says|said) [sorry]",group:0,tag:"Expression",reason:"say-sorry"},{match:"^(ok|alright|shoot|hell|anyways)",tag:"Expression",reason:"ok-"},{match:"^(say && @hasComma)",tag:"Expression",reason:"say-"},{match:"^(like && @hasComma)",tag:"Expression",reason:"like-"},{match:"^[(dude|man|girl)] #Pronoun",group:0,tag:"Expression",reason:"dude-i"}];let matches=[].concat(passive$1,adj,advAdj,gerundAdj,nounAdj,adv,ambigDates,dates,noun,gerundNouns,presNouns,money,fractions,numbers$1,person,personName,verbs$1,adjVerb,auxiliary,phrasal,imperative,adjGerund,matches$1,orgs,places,conjunctions,expressions);const model={two:{matches}};let net$1=null;const postTagger=function(_e){const{world:et}=_e,{model:tt,methods:nt}=et;net$1=net$1||nt.one.buildNet(tt.two.matches,et);let it=nt.two.quickSplit(_e.document).map(st=>{let ut=st[0];return[ut.index[0],ut.index[1],ut.index[1]+st.length]}),ot=_e.update(it);return ot.cache(),ot.sweep(net$1),_e.uncache(),_e.unfreeze(),_e},tagger=_e=>_e.compute(["freeze","lexicon","preTagger","postTagger","unfreeze"]),compute$1={postTagger,tagger},round$2=_e=>Math.round(_e*100)/100;function api$h(_e){_e.prototype.confidence=function(){let et=0,tt=0;return this.docs.forEach(nt=>{nt.forEach(rt=>{tt+=1,et+=rt.confidence||1})}),tt===0?1:round$2(et/tt)},_e.prototype.tagger=function(){return this.compute(["tagger"])}}const plugin$m={api:api$h,compute:compute$1,model,hooks:["postTagger"]},getWords=function(_e){return Object.keys(_e.hooks).filter(et=>!et.startsWith("#")&&!et.startsWith("%"))},maybeMatch=function(_e,et){let tt=getWords(et);if(tt.length===0)return _e;_e._cache||_e.cache();let nt=_e._cache;return _e.filter((rt,it)=>tt.some(ot=>nt[it].has(ot)))},lazyParse=function(_e,et){let tt=et;typeof et=="string"&&(tt=this.buildNet([{match:et}]));let nt=this.tokenize(_e),rt=maybeMatch(nt,tt);return rt.found?(rt.compute(["index","tagger"]),rt.match(et)):nt.none()},lazy={lib:{lazy:lazyParse}},matchVerb=function(_e,et){const tt=_e.methods.two.transform.verb.conjugate;let nt=tt(et,_e.model);return _e.has("#Gerund")?nt.Gerund:_e.has("#PastTense")?nt.PastTense:_e.has("#PresentTense")?nt.PresentTense:_e.has("#Gerund")?nt.Gerund:et},swapVerb=function(_e,et){let tt=et;return _e.forEach(nt=>{nt.has("#Infinitive")||(tt=matchVerb(nt,et)),nt.replaceWith(tt)}),_e},swapNoun=function(_e,et){let tt=et;if(_e.has("#Plural")){const nt=_e.methods.two.transform.noun.toPlural;tt=nt(et,_e.model)}_e.replaceWith(tt,{possessives:!0})},swapAdverb=function(_e,et){const{toAdverb:tt}=_e.methods.two.transform.adjective;let rt=tt(et);rt&&_e.replaceWith(rt)},swapAdjective=function(_e,et){const{toComparative:tt,toSuperlative:nt}=_e.methods.two.transform.adjective;let rt=et;_e.has("#Comparative")?rt=tt(rt,_e.model):_e.has("#Superlative")&&(rt=nt(rt,_e.model)),rt&&_e.replaceWith(rt)},swap$1=function(_e,et,tt){let nt=_e.split(/ /g).map(it=>it.toLowerCase().trim());nt=nt.filter(it=>it),nt=nt.map(it=>`{${it}}`).join(" ");let rt=this.match(nt);return tt&&(rt=rt.if(tt)),rt.has("#Verb")?swapVerb(rt,et):rt.has("#Noun")?swapNoun(rt,et):rt.has("#Adverb")?swapAdverb(rt,et):rt.has("#Adjective")?swapAdjective(rt,et):this},api$g=function(_e){_e.prototype.swap=swap$1},swap={api:api$g};nlp.plugin(preTag);nlp.plugin(contractionTwo);nlp.plugin(plugin$m);nlp.plugin(lazy);nlp.plugin(swap);const toRoot$1=function(_e){const{fromComparative:et,fromSuperlative:tt}=_e.methods.two.transform.adjective;let nt=_e.text("normal");return _e.has("#Comparative")?et(nt,_e.model):_e.has("#Superlative")?tt(nt,_e.model):nt},api$f=function(_e){class et extends _e{constructor(nt,rt,it){super(nt,rt,it),this.viewType="Adjectives"}json(nt={}){const{toAdverb:rt,toNoun:it,toSuperlative:ot,toComparative:st}=this.methods.two.transform.adjective;return nt.normal=!0,this.map(ut=>{let ft=ut.toView().json(nt)[0]||{},dt=toRoot$1(ut);return ft.adjective={adverb:rt(dt,this.model),noun:it(dt,this.model),superlative:ot(dt,this.model),comparative:st(dt,this.model)},ft},[])}adverbs(){return this.before("#Adverb+$").concat(this.after("^#Adverb+"))}conjugate(nt){const{toComparative:rt,toSuperlative:it,toNoun:ot,toAdverb:st}=this.methods.two.transform.adjective;return this.getNth(nt).map(ut=>{let ft=toRoot$1(ut);return{Adjective:ft,Comparative:rt(ft,this.model),Superlative:it(ft,this.model),Noun:ot(ft,this.model),Adverb:st(ft,this.model)}},[])}toComparative(nt){const{toComparative:rt}=this.methods.two.transform.adjective;return this.getNth(nt).map(it=>{let ot=toRoot$1(it),st=rt(ot,this.model);return it.replaceWith(st)})}toSuperlative(nt){const{toSuperlative:rt}=this.methods.two.transform.adjective;return this.getNth(nt).map(it=>{let ot=toRoot$1(it),st=rt(ot,this.model);return it.replaceWith(st)})}toAdverb(nt){const{toAdverb:rt}=this.methods.two.transform.adjective;return this.getNth(nt).map(it=>{let ot=toRoot$1(it),st=rt(ot,this.model);return it.replaceWith(st)})}toNoun(nt){const{toNoun:rt}=this.methods.two.transform.adjective;return this.getNth(nt).map(it=>{let ot=toRoot$1(it),st=rt(ot,this.model);return it.replaceWith(st)})}}_e.prototype.adjectives=function(tt){let nt=this.match("#Adjective");return nt=nt.getNth(tt),new et(nt.document,nt.pointer)},_e.prototype.superlatives=function(tt){let nt=this.match("#Superlative");return nt=nt.getNth(tt),new et(nt.document,nt.pointer)},_e.prototype.comparatives=function(tt){let nt=this.match("#Comparative");return nt=nt.getNth(tt),new et(nt.document,nt.pointer)}},adjectives={api:api$f},toRoot=function(_e){return _e.compute("root").text("root")},api$e=function(_e){class et extends _e{constructor(nt,rt,it){super(nt,rt,it),this.viewType="Adverbs"}conjugate(nt){return this.getNth(nt).map(rt=>{let it=toRoot(rt);return{Adverb:rt.text("normal"),Adjective:it}},[])}json(nt={}){const rt=this.methods.two.transform.adjective.fromAdverb;return nt.normal=!0,this.map(it=>{let ot=it.toView().json(nt)[0]||{};return ot.adverb={adjective:rt(ot.normal)},ot},[])}}_e.prototype.adverbs=function(tt){let nt=this.match("#Adverb");return nt=nt.getNth(tt),new et(nt.document,nt.pointer)}},adverbs={api:api$e},byComma=function(_e){let et=_e.match("@hasComma");return et=et.filter(tt=>{if(tt.growLeft(".").wordCount()===1||tt.growRight(". .").wordCount()===1)return!1;let nt=tt.grow(".");return nt=nt.ifNo("@hasComma @hasComma"),nt=nt.ifNo("@hasComma (and|or) ."),nt=nt.ifNo("(#City && @hasComma) #Country"),nt=nt.ifNo("(#WeekDay && @hasComma) #Date"),nt=nt.ifNo("(#Date+ && @hasComma) #Value"),nt=nt.ifNo("(#Adjective && @hasComma) #Adjective"),nt.found}),_e.splitAfter(et)},splitParentheses=function(_e){let et=_e.parentheses();return et=et.filter(tt=>tt.wordCount()>=3&&tt.has("#Verb")&&tt.has("#Noun")),_e.splitOn(et)},splitQuotes=function(_e){let et=_e.quotations();return et=et.filter(tt=>tt.wordCount()>=3&&tt.has("#Verb")&&tt.has("#Noun")),_e.splitOn(et)},clauses=function(_e){let et=this;et=splitParentheses(et),et=splitQuotes(et),et=byComma(et),et=et.splitAfter("(@hasEllipses|@hasSemicolon|@hasDash|@hasColon)"),et=et.splitAfter("^#Pronoun (said|says)"),et=et.splitBefore("(said|says) #ProperNoun$"),et=et.splitBefore(". . if .{4}"),et=et.splitBefore("and while"),et=et.splitBefore("now that"),et=et.splitBefore("ever since"),et=et.splitBefore("(supposing|although)"),et=et.splitBefore("even (while|if|though)"),et=et.splitBefore("(whereas|whose)"),et=et.splitBefore("as (though|if)"),et=et.splitBefore("(til|until)");let tt=et.match("#Verb .* [but] .* #Verb",0);tt.found&&(et=et.splitBefore(tt));let nt=et.if("if .{2,9} then .").match("then");return et=et.splitBefore(nt),typeof _e=="number"&&(et=et.get(_e)),et},chunks=function(_e){let et=[],tt=null;return _e.clauses().docs.forEach(it=>{it.forEach(ot=>{!ot.chunk||ot.chunk!==tt?(tt=ot.chunk,et.push([ot.index[0],ot.index[1],ot.index[1]+1])):et[et.length-1][2]=ot.index[1]+1}),tt=null}),_e.update(et)},api$d=function(_e){class et extends _e{constructor(nt,rt,it){super(nt,rt,it),this.viewType="Chunks"}isVerb(){return this.filter(nt=>nt.has("<Verb>"))}isNoun(){return this.filter(nt=>nt.has("<Noun>"))}isAdjective(){return this.filter(nt=>nt.has("<Adjective>"))}isPivot(){return this.filter(nt=>nt.has("<Pivot>"))}debug(){return this.toView().debug("chunks"),this}update(nt){let rt=new et(this.document,nt);return rt._cache=this._cache,rt}}_e.prototype.chunks=function(tt){let nt=chunks(this);return nt=nt.getNth(tt),new et(this.document,nt.pointer)},_e.prototype.clauses=clauses},byWord={this:"Noun",then:"Pivot"},easyMode=function(_e){for(let et=0;et<_e.length;et+=1)for(let tt=0;tt<_e[et].length;tt+=1){let nt=_e[et][tt];if(byWord.hasOwnProperty(nt.normal)===!0){nt.chunk=byWord[nt.normal];continue}if(nt.tags.has("Verb")){nt.chunk="Verb";continue}if(nt.tags.has("Noun")||nt.tags.has("Determiner")){nt.chunk="Noun";continue}if(nt.tags.has("Value")){nt.chunk="Noun";continue}if(nt.tags.has("QuestionWord")){nt.chunk="Pivot";continue}}},byNeighbour=function(_e){for(let et=0;et<_e.length;et+=1)for(let tt=0;tt<_e[et].length;tt+=1){let nt=_e[et][tt];if(nt.chunk)continue;let rt=_e[et][tt+1],it=_e[et][tt-1];if(nt.tags.has("Adjective")){if(it&&it.tags.has("Copula")){nt.chunk="Adjective";continue}if(it&&it.tags.has("Determiner")){nt.chunk="Noun";continue}if(rt&&rt.tags.has("Noun")){nt.chunk="Noun";continue}continue}if(nt.tags.has("Adverb")||nt.tags.has("Negative")){if(it&&it.tags.has("Adjective")){nt.chunk="Adjective";continue}if(it&&it.tags.has("Verb")){nt.chunk="Verb";continue}if(rt&&rt.tags.has("Adjective")){nt.chunk="Adjective";continue}if(rt&&rt.tags.has("Verb")){nt.chunk="Verb";continue}}}},rules=[{match:"[that] #Determiner #Noun",group:0,chunk:"Pivot"},{match:"#PastTense [that]",group:0,chunk:"Pivot"},{match:"[so] #Determiner",group:0,chunk:"Pivot"},{match:"#Copula #Adverb+? [#Adjective]",group:0,chunk:"Adjective"},{match:"#Adjective and #Adjective",chunk:"Adjective"},{match:"#Adverb+ and #Adverb #Verb",chunk:"Verb"},{match:"#Gerund #Adjective$",chunk:"Verb"},{match:"#Gerund to #Verb",chunk:"Verb"},{match:"#PresentTense and #PresentTense",chunk:"Verb"},{match:"#Adverb #Negative",chunk:"Verb"},{match:"(want|wants|wanted) to #Infinitive",chunk:"Verb"},{match:"#Verb #Reflexive",chunk:"Verb"},{match:"#Verb [to] #Adverb? #Infinitive",group:0,chunk:"Verb"},{match:"[#Preposition] #Gerund",group:0,chunk:"Verb"},{match:"#Infinitive [that] <Noun>",group:0,chunk:"Verb"},{match:"#Noun of #Determiner? #Noun",chunk:"Noun"},{match:"#Value+ #Adverb? #Adjective",chunk:"Noun"},{match:"the [#Adjective] #Noun",chunk:"Noun"},{match:"#Singular in #Determiner? #Singular",chunk:"Noun"},{match:"#Plural [in] #Determiner? #Noun",group:0,chunk:"Pivot"},{match:"#Noun and #Determiner? #Noun",notIf:"(#Possessive|#Pronoun)",chunk:"Noun"}];let net=null;const matcher$1=function(_e,et,tt){const{methods:nt}=tt;net=net||nt.one.buildNet(rules,tt),_e.sweep(net)};var define_process_env_default={};const setChunk=function(_e,et){if((typeof process>"u"||!define_process_env_default?self.env||{}:define_process_env_default).DEBUG_CHUNKS){let nt=(_e.normal+"'").padEnd(8);console.log(`  | '${nt}    \x1B[34m${et.padEnd(12)}\x1B[0m \x1B[2m -fallback- \x1B[0m`)}_e.chunk=et},fallback=function(_e){for(let et=0;et<_e.length;et+=1)for(let tt=0;tt<_e[et].length;tt+=1){let nt=_e[et][tt];nt.chunk===void 0&&(nt.tags.has("Conjunction")||nt.tags.has("Preposition")?setChunk(nt,"Pivot"):nt.tags.has("Adverb")?setChunk(nt,"Verb"):nt.chunk="Noun")}},fixUp=function(_e){let et=[],tt=null;_e.forEach(nt=>{for(let rt=0;rt<nt.length;rt+=1){let it=nt[rt];tt&&it.chunk===tt?et[et.length-1].terms.push(it):(et.push({chunk:it.chunk,terms:[it]}),tt=it.chunk)}}),et.forEach(nt=>{nt.chunk==="Verb"&&(nt.terms.find(it=>it.tags.has("Verb"))||nt.terms.forEach(it=>it.chunk=null))})},findChunks=function(_e){const{document:et,world:tt}=_e;easyMode(et),byNeighbour(et),matcher$1(_e,et,tt),fallback(et),fixUp(et)},compute={chunks:findChunks},chunker={compute,api:api$d,hooks:["chunks"]},hasPeriod=/\./g,api$c=function(_e){class et extends _e{constructor(nt,rt,it){super(nt,rt,it),this.viewType="Acronyms"}strip(){return this.docs.forEach(nt=>{nt.forEach(rt=>{rt.text=rt.text.replace(hasPeriod,""),rt.normal=rt.normal.replace(hasPeriod,"")})}),this}addPeriods(){return this.docs.forEach(nt=>{nt.forEach(rt=>{rt.text=rt.text.replace(hasPeriod,""),rt.normal=rt.normal.replace(hasPeriod,""),rt.text=rt.text.split("").join(".")+".",rt.normal=rt.normal.split("").join(".")+"."})}),this}}_e.prototype.acronyms=function(tt){let nt=this.match("#Acronym");return nt=nt.getNth(tt),new et(nt.document,nt.pointer)}},hasOpen$1=/\(/,hasClosed$1=/\)/,findEnd$1=function(_e,et){for(;et<_e.length;et+=1)if(_e[et].post&&hasClosed$1.test(_e[et].post)){let[,tt]=_e[et].index;return tt=tt||0,tt}return null},find$6=function(_e){let et=[];return _e.docs.forEach(tt=>{for(let nt=0;nt<tt.length;nt+=1){let rt=tt[nt];if(rt.pre&&hasOpen$1.test(rt.pre)){let it=findEnd$1(tt,nt);if(it!==null){let[ot,st]=tt[nt].index;et.push([ot,st,it+1,tt[nt].id]),nt=it}}}}),_e.update(et)},strip$1=function(_e){return _e.docs.forEach(et=>{et[0].pre=et[0].pre.replace(hasOpen$1,"");let tt=et[et.length-1];tt.post=tt.post.replace(hasClosed$1,"")}),_e},api$b=function(_e){class et extends _e{constructor(nt,rt,it){super(nt,rt,it),this.viewType="Possessives"}strip(){return strip$1(this)}}_e.prototype.parentheses=function(tt){let nt=find$6(this);return nt=nt.getNth(tt),new et(nt.document,nt.pointer)}},apostropheS=/'s$/,find$5=function(_e){let et=_e.match("#Possessive+");return et.has("#Person")&&(et=et.growLeft("#Person+")),et.has("#Place")&&(et=et.growLeft("#Place+")),et.has("#Organization")&&(et=et.growLeft("#Organization+")),et},api$a=function(_e){class et extends _e{constructor(nt,rt,it){super(nt,rt,it),this.viewType="Possessives"}strip(){return this.docs.forEach(nt=>{nt.forEach(rt=>{rt.text=rt.text.replace(apostropheS,""),rt.normal=rt.normal.replace(apostropheS,"")})}),this}}_e.prototype.possessives=function(tt){let nt=find$5(this);return nt=nt.getNth(tt),new et(nt.document,nt.pointer)}},pairs$1={'"':'"',"":"","'":"'","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","`":"","":""},hasOpen=RegExp("["+Object.keys(pairs$1).join("")+"]"),hasClosed=RegExp("["+Object.values(pairs$1).join("")+"]"),findEnd=function(_e,et){const tt=_e[et].pre.match(hasOpen)[0]||"";if(!tt||!pairs$1[tt])return null;const nt=pairs$1[tt];for(;et<_e.length;et+=1)if(_e[et].post&&_e[et].post.match(nt))return et;return null},find$4=function(_e){let et=[];return _e.docs.forEach(tt=>{for(let nt=0;nt<tt.length;nt+=1){let rt=tt[nt];if(rt.pre&&hasOpen.test(rt.pre)){let it=findEnd(tt,nt);if(it!==null){let[ot,st]=tt[nt].index;et.push([ot,st,it+1,tt[nt].id]),nt=it}}}}),_e.update(et)},strip=function(_e){_e.docs.forEach(et=>{et[0].pre=et[0].pre.replace(hasOpen,"");let tt=et[et.length-1];tt.post=tt.post.replace(hasClosed,"")})},api$9=function(_e){class et extends _e{constructor(nt,rt,it){super(nt,rt,it),this.viewType="Possessives"}strip(){return strip(this)}}_e.prototype.quotations=function(tt){let nt=find$4(this);return nt=nt.getNth(tt),new et(nt.document,nt.pointer)}},phoneNumbers=function(_e){let et=this.splitAfter("@hasComma");return et=et.match("#PhoneNumber+"),et=et.getNth(_e),et},selections=[["hyphenated","@hasHyphen ."],["hashTags","#HashTag"],["emails","#Email"],["emoji","#Emoji"],["emoticons","#Emoticon"],["atMentions","#AtMention"],["urls","#Url"],["conjunctions","#Conjunction"],["prepositions","#Preposition"],["abbreviations","#Abbreviation"],["honorifics","#Honorific"]];let aliases=[["emojis","emoji"],["atmentions","atMentions"]];const addMethods=function(_e){selections.forEach(et=>{_e.prototype[et[0]]=function(tt){let nt=this.match(et[1]);return typeof tt=="number"?nt.get(tt):nt}}),_e.prototype.phoneNumbers=phoneNumbers,aliases.forEach(et=>{_e.prototype[et[0]]=_e.prototype[et[1]]})},misc={api:function(_e){api$c(_e),api$b(_e),api$a(_e),api$9(_e),addMethods(_e)}},termLoop=function(_e,et){_e.docs.forEach(tt=>{tt.forEach(et)})},methods={case:_e=>{termLoop(_e,et=>{et.text=et.text.toLowerCase()})},unicode:_e=>{const et=_e.world,tt=et.methods.one.killUnicode;termLoop(_e,nt=>nt.text=tt(nt.text,et))},whitespace:_e=>{termLoop(_e,et=>{et.post=et.post.replace(/\s+/g," "),et.post=et.post.replace(/\s([.,?!:;])/g,"$1"),et.pre=et.pre.replace(/\s+/g,"")})},punctuation:_e=>{termLoop(_e,nt=>{nt.post=nt.post.replace(/[-]/g," "),nt.post=nt.post.replace(/[,:;]/g,""),nt.post=nt.post.replace(/\.{2,}/g,""),nt.post=nt.post.replace(/\?{2,}/g,"?"),nt.post=nt.post.replace(/!{2,}/g,"!"),nt.post=nt.post.replace(/\?!+/g,"?")});let et=_e.docs,tt=et[et.length-1];if(tt&&tt.length>0){let nt=tt[tt.length-1];nt.post=nt.post.replace(/ /g,"")}},contractions:_e=>{_e.contractions().expand()},acronyms:_e=>{_e.acronyms().strip()},parentheses:_e=>{_e.parentheses().strip()},possessives:_e=>{_e.possessives().strip()},quotations:_e=>{_e.quotations().strip()},emoji:_e=>{_e.emojis().remove()},honorifics:_e=>{_e.match("#Honorific+ #Person").honorifics().remove()},adverbs:_e=>{_e.adverbs().remove()},nouns:_e=>{_e.nouns().toSingular()},verbs:_e=>{_e.verbs().toInfinitive()},numbers:_e=>{_e.numbers().toNumber()},debullet:_e=>{const et=/^\s*([-*])\s*$/;return _e.docs.forEach(tt=>{et.test(tt[0].pre)&&(tt[0].pre=tt[0].pre.replace(et,""))}),_e}},split=_e=>_e.split("|").reduce((et,tt)=>(et[tt]=!0,et),{}),light="unicode|punctuation|whitespace|acronyms",medium="|case|contractions|parentheses|quotations|emoji|honorifics|debullet",heavy="|possessives|adverbs|nouns|verbs",presets={light:split(light),medium:split(light+medium),heavy:split(light+medium+heavy)};function api$8(_e){_e.prototype.normalize=function(et="light"){return typeof et=="string"&&(et=presets[et]),Object.keys(et).forEach(tt=>{methods.hasOwnProperty(tt)&&methods[tt](this,et[tt])}),this}}const normalize$1={api:api$8},findNouns=function(_e){let et=_e.clauses().match("<Noun>"),tt=et.match("@hasComma");return tt=tt.not("#Place"),tt.found&&(et=et.splitAfter(tt)),et=et.splitOn("#Expression"),et=et.splitOn("(he|she|we|you|they|i)"),et=et.splitOn("(#Noun|#Adjective) [(he|him|she|it)]",0),et=et.splitOn("[(he|him|she|it)] (#Determiner|#Value)",0),et=et.splitBefore("#Noun [(the|a|an)] #Adjective? #Noun",0),et=et.splitOn("[(here|there)] #Noun",0),et=et.splitOn("[#Noun] (here|there)",0),et=et.splitBefore("(our|my|their|your)"),et=et.splitOn("#Noun [#Determiner]",0),et=et.if("#Noun"),et},list$3=["after","although","as if","as long as","as","because","before","even if","even though","ever since","if","in order that","provided that","since","so that","than","that","though","unless","until","what","whatever","when","whenever","where","whereas","wherever","whether","which","whichever","who","whoever","whom","whomever","whose"],isSubordinate=function(_e){if(_e.before("#Preposition$").found)return!0;if(!_e.before().found)return!1;for(let tt=0;tt<list$3.length;tt+=1)if(_e.has(list$3[tt]))return!0;return!1},notPlural="(#Pronoun|#Place|#Value|#Person|#Uncountable|#Month|#WeekDay|#Holiday|#Possessive)",isPlural$2=function(_e,et){if(_e.has("#Plural")||_e.has("#Noun and #Noun")||_e.has("(we|they)"))return!0;if(et.has(notPlural)===!0||_e.has("#Singular"))return!1;let tt=et.text("normal");return tt.length>3&&tt.endsWith("s")&&!tt.endsWith("ss")},getRoot=function(_e){let et=_e.clone();return et=et.match("#Noun+"),et=et.remove("(#Adjective|#Preposition|#Determiner|#Value)"),et=et.not("#Possessive"),et=et.first(),et.found?et:_e},parseNoun=function(_e){let et=getRoot(_e);return{determiner:_e.match("#Determiner").eq(0),adjectives:_e.match("#Adjective"),number:_e.values(),isPlural:isPlural$2(_e,et),isSubordinate:isSubordinate(_e),root:et}},toText$2=_e=>_e.text(),toArray$3=_e=>_e.json({terms:!1,normal:!0}).map(et=>et.normal),getNum=function(_e){let et=null;if(!_e.found)return et;let tt=_e.values(0);return tt.found?(tt.parse()[0]||{}).num:et},toJSON$1=function(_e){let et=parseNoun(_e);return{root:toText$2(et.root),number:getNum(et.number),determiner:toText$2(et.determiner),adjectives:toArray$3(et.adjectives),isPlural:et.isPlural,isSubordinate:et.isSubordinate}},hasPlural=function(_e){return!_e.has("^(#Uncountable|#ProperNoun|#Place|#Pronoun|#Acronym)+$")},keep$7={tags:!0},nounToPlural=function(_e,et){if(et.isPlural===!0||(et.root.has("#Possessive")&&(et.root=et.root.possessives().strip()),!hasPlural(et.root)))return _e;const{methods:tt,model:nt}=_e.world,{toPlural:rt}=tt.two.transform.noun;let it=et.root.text({keepPunct:!1}),ot=rt(it,nt);_e.match(et.root).replaceWith(ot,keep$7).tag("Plural","toPlural"),et.determiner.has("(a|an)")&&_e.remove(et.determiner);let st=et.root.after("not? #Adverb+? [#Copula]",0);return st.found&&(st.has("is")?_e.replace(st,"are"):st.has("was")&&_e.replace(st,"were")),_e},keep$6={tags:!0},nounToSingular=function(_e,et){if(et.isPlural===!1)return _e;const{methods:tt,model:nt}=_e.world,{toSingular:rt}=tt.two.transform.noun;let it=et.root.text("normal"),ot=rt(it,nt);return _e.replace(et.root,ot,keep$6).tag("Singular","toPlural"),_e},api$7=function(_e){class et extends _e{constructor(nt,rt,it){super(nt,rt,it),this.viewType="Nouns"}parse(nt){return this.getNth(nt).map(parseNoun)}json(nt){let rt=typeof nt=="object"?nt:{};return this.getNth(nt).map(it=>{let ot=it.toView().json(rt)[0]||{};return rt&&rt.noun!==!1&&(ot.noun=toJSON$1(it)),ot},[])}conjugate(nt){const rt=this.world.methods.two.transform.noun;return this.getNth(nt).map(it=>{let ot=parseNoun(it),st=ot.root.compute("root").text("root"),ut={Singular:st};return hasPlural(ot.root)&&(ut.Plural=rt.toPlural(st,this.model)),ut.Singular===ut.Plural&&delete ut.Plural,ut},[])}isPlural(nt){return this.filter(it=>parseNoun(it).isPlural).getNth(nt)}isSingular(nt){return this.filter(it=>!parseNoun(it).isPlural).getNth(nt)}adjectives(nt){let rt=this.update([]);return this.forEach(it=>{let ot=parseNoun(it).adjectives;ot.found&&(rt=rt.concat(ot))}),rt.getNth(nt)}toPlural(nt){return this.getNth(nt).map(rt=>nounToPlural(rt,parseNoun(rt)))}toSingular(nt){return this.getNth(nt).map(rt=>{let it=parseNoun(rt);return nounToSingular(rt,it)})}update(nt){let rt=new et(this.document,nt);return rt._cache=this._cache,rt}}_e.prototype.nouns=function(tt){let nt=findNouns(this);return nt=nt.getNth(tt),new et(this.document,nt.pointer)}},nouns={api:api$7},findFractions=function(_e,et){let tt=_e.match("#Fraction+");return tt=tt.filter(nt=>!nt.lookBehind("#Value and$").found),tt=tt.notIf("#Value seconds"),tt},findModifiers=_e=>{const et=[{reg:/^(minus|negative)[\s-]/i,mult:-1},{reg:/^(a\s)?half[\s-](of\s)?/i,mult:.5}];for(let tt=0;tt<et.length;tt++)if(et[tt].reg.test(_e)===!0)return{amount:et[tt].mult,str:_e.replace(et[tt].reg,"")};return{amount:1,str:_e}},words={ones:{zeroth:0,first:1,second:2,third:3,fourth:4,fifth:5,sixth:6,seventh:7,eighth:8,ninth:9,zero:0,one:1,two:2,three:3,four:4,five:5,six:6,seven:7,eight:8,nine:9},teens:{tenth:10,eleventh:11,twelfth:12,thirteenth:13,fourteenth:14,fifteenth:15,sixteenth:16,seventeenth:17,eighteenth:18,nineteenth:19,ten:10,eleven:11,twelve:12,thirteen:13,fourteen:14,fifteen:15,sixteen:16,seventeen:17,eighteen:18,nineteen:19},tens:{twentieth:20,thirtieth:30,fortieth:40,fourtieth:40,fiftieth:50,sixtieth:60,seventieth:70,eightieth:80,ninetieth:90,twenty:20,thirty:30,forty:40,fourty:40,fifty:50,sixty:60,seventy:70,eighty:80,ninety:90},multiples:{hundredth:100,thousandth:1e3,millionth:1e6,billionth:1e9,trillionth:1e12,quadrillionth:1e15,quintillionth:1e18,sextillionth:1e21,septillionth:1e24,hundred:100,thousand:1e3,million:1e6,billion:1e9,trillion:1e12,quadrillion:1e15,quintillion:1e18,sextillion:1e21,septillion:1e24,grand:1e3}},isValid$2=(_e,et)=>{if(words.ones.hasOwnProperty(_e)){if(et.ones||et.teens)return!1}else if(words.teens.hasOwnProperty(_e)){if(et.ones||et.teens||et.tens)return!1}else if(words.tens.hasOwnProperty(_e)&&(et.ones||et.teens||et.tens))return!1;return!0},parseDecimals=function(_e){let et="0.";for(let tt=0;tt<_e.length;tt++){let nt=_e[tt];if(words.ones.hasOwnProperty(nt)===!0)et+=words.ones[nt];else if(words.teens.hasOwnProperty(nt)===!0)et+=words.teens[nt];else if(words.tens.hasOwnProperty(nt)===!0)et+=words.tens[nt];else if(/^[0-9]$/.test(nt)===!0)et+=nt;else return 0}return parseFloat(et)},parseNumeric$1=_e=>(_e=_e.replace(/1st$/,"1"),_e=_e.replace(/2nd$/,"2"),_e=_e.replace(/3rd$/,"3"),_e=_e.replace(/([4567890])r?th$/,"$1"),_e=_e.replace(/^[$]/,""),_e=_e.replace(/[%$]$/,""),_e=_e.replace(/,/g,""),_e=_e.replace(/([0-9])([a-z\u00C0-\u00FF]{1,2})$/,"$1"),_e),improperFraction=/^([0-9,. ]+)\/([0-9,. ]+)$/,casualForms={"a few":3,"a couple":2,"a dozen":12,"two dozen":24,zero:0},section_sum=_e=>Object.keys(_e).reduce((et,tt)=>(et+=_e[tt],et),0),parse$6=function(_e){if(casualForms.hasOwnProperty(_e)===!0)return casualForms[_e];if(_e==="a"||_e==="an")return 1;const et=findModifiers(_e);_e=et.str;let tt=null,nt={},rt=0,it=!1;const ot=_e.split(/[ -]/);for(let st=0;st<ot.length;st++){let ut=ot[st];if(ut=parseNumeric$1(ut),!ut||ut==="and")continue;if(ut==="-"||ut==="negative"){it=!0;continue}if(ut.charAt(0)==="-"&&(it=!0,ut=ut.substring(1)),ut==="point")return rt+=section_sum(nt),rt+=parseDecimals(ot.slice(st+1,ot.length)),rt*=et.amount,rt;const ft=ut.match(improperFraction);if(ft){const dt=parseFloat(ft[1].replace(/[, ]/g,"")),lt=parseFloat(ft[2].replace(/[, ]/g,""));lt&&(rt+=dt/lt||0);continue}if(words.tens.hasOwnProperty(ut)&&nt.ones&&Object.keys(nt).length===1&&(rt=nt.ones*100,nt={}),isValid$2(ut,nt)===!1)return null;if(/^[0-9.]+$/.test(ut))nt.ones=parseFloat(ut);else if(words.ones.hasOwnProperty(ut)===!0)nt.ones=words.ones[ut];else if(words.teens.hasOwnProperty(ut)===!0)nt.teens=words.teens[ut];else if(words.tens.hasOwnProperty(ut)===!0)nt.tens=words.tens[ut];else if(words.multiples.hasOwnProperty(ut)===!0){let dt=words.multiples[ut];if(dt===tt)return null;if(dt===100&&ot[st+1]!==void 0){const lt=ot[st+1];words.multiples[lt]&&(dt*=words.multiples[lt],st+=1)}tt===null||dt<tt?(rt+=(section_sum(nt)||1)*dt,tt=dt,nt={}):(rt+=section_sum(nt),tt=dt,rt=(rt||1)*dt,nt={})}}return rt+=section_sum(nt),rt*=et.amount,rt*=it?-1:1,rt===0&&Object.keys(nt).length===0?null:rt},endS=/s$/,parseNumber$1=function(_e){let et=_e.text("reduced");return parse$6(et)};let mapping={half:2,halve:2,quarter:4};const slashForm=function(_e){let tt=_e.text("reduced").match(/^([-+]?[0-9]+)\/([-+]?[0-9]+)(st|nd|rd|th)?s?$/);return tt&&tt[1]&&tt[0]?{numerator:Number(tt[1]),denominator:Number(tt[2])}:null},nOutOfN=function(_e){let et=_e.match("[<num>#Value+] out of every? [<den>#Value+]");if(et.found!==!0)return null;let{num:tt,den:nt}=et.groups();return!tt||!nt||(tt=parseNumber$1(tt),nt=parseNumber$1(nt),!tt||!nt)?null:typeof tt=="number"&&typeof nt=="number"?{numerator:tt,denominator:nt}:null},nOrinalth=function(_e){let et=_e.match("[<num>(#Cardinal|a)+] [<den>#Fraction+]");if(et.found!==!0)return null;let{num:tt,den:nt}=et.groups();tt.has("a")?tt=1:tt=parseNumber$1(tt);let rt=nt.text("reduced");return endS.test(rt)&&(rt=rt.replace(endS,""),nt=nt.replaceWith(rt)),mapping.hasOwnProperty(rt)?nt=mapping[rt]:nt=parseNumber$1(nt),typeof tt=="number"&&typeof nt=="number"?{numerator:tt,denominator:nt}:null},oneNth=function(_e){let et=_e.match("^#Ordinal$");return et.found!==!0?null:_e.lookAhead("^of .")?{numerator:1,denominator:parseNumber$1(et)}:null},named$1=function(_e){let et=_e.text("reduced");return mapping.hasOwnProperty(et)?{numerator:1,denominator:mapping[et]}:null},round$1=_e=>{let et=Math.round(_e*1e3)/1e3;return et===0&&_e!==0?_e:et},parseFraction=function(_e){_e=_e.clone();let et=named$1(_e)||slashForm(_e)||nOutOfN(_e)||nOrinalth(_e)||oneNth(_e)||null;return et!==null&&et.numerator&&et.denominator&&(et.decimal=et.numerator/et.denominator,et.decimal=round$1(et.decimal)),et},numToString=function(_e){if(_e<1e6)return String(_e);let et;return typeof _e=="number"?et=_e.toFixed(0):et=_e,et.indexOf("e+")===-1?et:et.replace(".","").split("e+").reduce(function(tt,nt){return tt+Array(nt-tt.length+2).join(0)})},tens_mapping=[["ninety",90],["eighty",80],["seventy",70],["sixty",60],["fifty",50],["forty",40],["thirty",30],["twenty",20]],ones_mapping=["","one","two","three","four","five","six","seven","eight","nine","ten","eleven","twelve","thirteen","fourteen","fifteen","sixteen","seventeen","eighteen","nineteen"],sequence$4=[[1e24,"septillion"],[1e20,"hundred sextillion"],[1e21,"sextillion"],[1e20,"hundred quintillion"],[1e18,"quintillion"],[1e17,"hundred quadrillion"],[1e15,"quadrillion"],[1e14,"hundred trillion"],[1e12,"trillion"],[1e11,"hundred billion"],[1e9,"billion"],[1e8,"hundred million"],[1e6,"million"],[1e5,"hundred thousand"],[1e3,"thousand"],[100,"hundred"],[1,"one"]],breakdown_magnitudes=function(_e){let et=_e,tt=[];return sequence$4.forEach(nt=>{if(_e>=nt[0]){let rt=Math.floor(et/nt[0]);et-=rt*nt[0],rt&&tt.push({unit:nt[1],count:rt})}}),tt},breakdown_hundred=function(_e){let et=[];if(_e>100)return et;for(let tt=0;tt<tens_mapping.length;tt++)_e>=tens_mapping[tt][1]&&(_e-=tens_mapping[tt][1],et.push(tens_mapping[tt][0]));return ones_mapping[_e]&&et.push(ones_mapping[_e]),et},handle_decimal=_e=>{const et=["zero","one","two","three","four","five","six","seven","eight","nine"];let tt=[],rt=numToString(_e).match(/\.([0-9]+)/);if(!rt||!rt[0])return tt;tt.push("point");let it=rt[0].split("");for(let ot=0;ot<it.length;ot++)tt.push(et[it[ot]]);return tt},toText$1=function(_e){let et=_e.num;if(et===0||et==="0")return"zero";et>1e21&&(et=numToString(et));let tt=[];et<0&&(tt.push("minus"),et=Math.abs(et));let nt=breakdown_magnitudes(et);for(let rt=0;rt<nt.length;rt++){let it=nt[rt].unit;it==="one"&&(it="",tt.length>1&&tt.push("and")),tt=tt.concat(breakdown_hundred(nt[rt].count)),tt.push(it)}return tt=tt.concat(handle_decimal(et)),tt=tt.filter(rt=>rt),tt.length===0&&(tt[0]=""),tt.join(" ")},toCardinal=function(_e){if(!_e.numerator||!_e.denominator)return"";let et=toText$1({num:_e.numerator}),tt=toText$1({num:_e.denominator});return`${et} out of ${tt}`},irregulars={one:"first",two:"second",three:"third",five:"fifth",eight:"eighth",nine:"ninth",twelve:"twelfth",twenty:"twentieth",thirty:"thirtieth",forty:"fortieth",fourty:"fourtieth",fifty:"fiftieth",sixty:"sixtieth",seventy:"seventieth",eighty:"eightieth",ninety:"ninetieth"},textOrdinal=_e=>{let et=toText$1(_e).split(" "),tt=et[et.length-1];return irregulars.hasOwnProperty(tt)?et[et.length-1]=irregulars[tt]:et[et.length-1]=tt.replace(/y$/,"i")+"th",et.join(" ")},toOrdinal=function(_e){if(!_e.numerator||!_e.denominator)return"";let et=toText$1({num:_e.numerator}),tt=textOrdinal({num:_e.denominator});return _e.denominator===2&&(tt="half"),et&&tt?(_e.numerator!==1&&(tt+="s"),`${et} ${tt}`):""},plugin$l=function(_e){class et extends _e{constructor(nt,rt,it){super(nt,rt,it),this.viewType="Fractions"}parse(nt){return this.getNth(nt).map(parseFraction)}get(nt){return this.getNth(nt).map(parseFraction)}json(nt){return this.getNth(nt).map(rt=>{let it=rt.toView().json(nt)[0],ot=parseFraction(rt);return it.fraction=ot,it},[])}toDecimal(nt){return this.getNth(nt).forEach(rt=>{let{decimal:it}=parseFraction(rt);rt=rt.replaceWith(String(it),!0),rt.tag("NumericValue"),rt.unTag("Fraction")}),this}toFraction(nt){return this.getNth(nt).forEach(rt=>{let it=parseFraction(rt);if(it&&typeof it.numerator=="number"&&typeof it.denominator=="number"){let ot=`${it.numerator}/${it.denominator}`;this.replace(rt,ot)}}),this}toOrdinal(nt){return this.getNth(nt).forEach(rt=>{let it=parseFraction(rt),ot=toOrdinal(it);rt.after("^#Noun").found&&(ot+=" of"),rt.replaceWith(ot)}),this}toCardinal(nt){return this.getNth(nt).forEach(rt=>{let it=parseFraction(rt),ot=toCardinal(it);rt.replaceWith(ot)}),this}toPercentage(nt){return this.getNth(nt).forEach(rt=>{let{decimal:it}=parseFraction(rt),ot=it*100;ot=Math.round(ot*100)/100,rt.replaceWith(`${ot}%`)}),this}}_e.prototype.fractions=function(tt){let nt=findFractions(this);return nt=nt.getNth(tt),new et(this.document,nt.pointer)}},ones="one|two|three|four|five|six|seven|eight|nine",tens="twenty|thirty|forty|fifty|sixty|seventy|eighty|ninety|fourty",teens="eleven|twelve|thirteen|fourteen|fifteen|sixteen|seventeen|eighteen|nineteen",findNumbers=function(_e){let et=_e.match("#Value+");if(et.has("#NumericValue #NumericValue")&&(et.has("#Value @hasComma #Value")?et.splitAfter("@hasComma"):et.has("#NumericValue #Fraction")?et.splitAfter("#NumericValue #Fraction"):et=et.splitAfter("#NumericValue")),et.has("#Value #Value #Value")&&!et.has("#Multiple")&&et.has("("+tens+") #Cardinal #Cardinal")&&(et=et.splitAfter("("+tens+") #Cardinal")),et.has("#Value #Value")){et.has("#NumericValue #NumericValue")&&(et=et.splitOn("#Year")),et.has("("+tens+") ("+teens+")")&&(et=et.splitAfter("("+tens+")"));let tt=et.match("#Cardinal #Cardinal");if(tt.found&&!et.has("(point|decimal|#Fraction)")&&!tt.has("#Cardinal (#Multiple|point|decimal)")){let nt=et.has(`(${ones}) (${tens})`),rt=tt.has("("+tens+") #Cardinal"),it=tt.has("#Multiple #Value");!nt&&!rt&&!it&&tt.terms().forEach(ot=>{et=et.splitOn(ot)})}et.match("#Ordinal #Ordinal").match("#TextValue").found&&!et.has("#Multiple")&&(et.has("("+tens+") #Ordinal")||(et=et.splitAfter("#Ordinal"))),et=et.splitBefore("#Ordinal [#Cardinal]",0),et.has("#TextValue #NumericValue")&&!et.has("("+tens+"|#Multiple)")&&(et=et.splitBefore("#TextValue #NumericValue"))}return et=et.splitAfter("#NumberRange"),et=et.splitBefore("#Year"),et},parseNumeric=function(_e,et){_e=_e.replace(/,/g,"");let tt=_e.split(/([0-9.,]*)/),[nt,rt]=tt,it=tt.slice(2).join("");return rt!==""&&et.length<2?(rt=Number(rt||_e),typeof rt!="number"&&(rt=null),it=it||"",(it==="st"||it==="nd"||it==="rd"||it==="th")&&(it=""),{prefix:nt||"",num:rt,suffix:it}):null},parseNumber=function(_e){if(typeof _e=="string")return{num:parse$6(_e)};let et=_e.text("reduced"),tt=_e.growRight("#Unit").match("#Unit$").text("machine"),nt=/[0-9],[0-9]/.test(_e.text("text"));if(_e.terms().length===1&&!_e.has("#Multiple")){let st=parseNumeric(et,_e);if(st!==null)return st.hasComma=nt,st.unit=tt,st}let rt=_e.match("#Fraction{2,}$");rt=rt.found===!1?_e.match("^#Fraction$"):rt;let it=null;rt.found&&(rt.has("#Value and #Value #Fraction")&&(rt=rt.match("and #Value #Fraction")),it=parseFraction(rt),_e=_e.not(rt),_e=_e.not("and$"),et=_e.text("reduced"));let ot=0;return et&&(ot=parse$6(et)||0),it&&it.decimal&&(ot+=it.decimal),{hasComma:nt,prefix:"",num:ot,suffix:"",isOrdinal:_e.has("#Ordinal"),isText:_e.has("#TextValue"),isFraction:_e.has("#Fraction"),isMoney:_e.has("#Money"),unit:tt}},numOrdinal=function(_e){let et=_e.num;if(!et&&et!==0)return null;let tt=et%100;if(tt>10&&tt<20)return String(et)+"th";const nt={0:"th",1:"st",2:"nd",3:"rd"};let rt=numToString(et),it=rt.slice(rt.length-1,rt.length);return nt[it]?rt+=nt[it]:rt+="th",rt},prefixes={"":"cents",$:"dollars","":"pounds","":"yen","":"euros","":"coln","":"baht","":"kip","":"won","":"rupees","":"ruble","":"liras"},suffixes={"%":"percent","":"degrees"},addSuffix=function(_e){let et={suffix:"",prefix:_e.prefix};return prefixes.hasOwnProperty(_e.prefix)&&(et.suffix+=" "+prefixes[_e.prefix],et.prefix=""),suffixes.hasOwnProperty(_e.suffix)&&(et.suffix+=" "+suffixes[_e.suffix]),et.suffix&&_e.num===1&&(et.suffix=et.suffix.replace(/s$/,"")),!et.suffix&&_e.suffix&&(et.suffix+=" "+_e.suffix),et},format$3=function(_e,et){if(et==="TextOrdinal"){let{prefix:nt,suffix:rt}=addSuffix(_e);return nt+textOrdinal(_e)+rt}if(et==="Ordinal")return _e.prefix+numOrdinal(_e)+_e.suffix;if(et==="TextCardinal"){let{prefix:nt,suffix:rt}=addSuffix(_e);return nt+toText$1(_e)+rt}let tt=_e.num;return _e.hasComma&&(tt=tt.toLocaleString()),_e.prefix+String(tt)+_e.suffix},isArray$2=_e=>Object.prototype.toString.call(_e)==="[object Array]",coerceToObject=function(_e){if(typeof _e=="string"||typeof _e=="number"){let et={};return et[_e]=!0,et}return isArray$2(_e)?_e.reduce((et,tt)=>(et[tt]=!0,et),{}):_e||{}},isUnit=function(_e,et={}){return et=coerceToObject(et),_e.filter(tt=>{let{unit:nt}=parseNumber(tt);return!!(nt&&et[nt]===!0)})},addMethod$2=function(_e){class et extends _e{constructor(nt,rt,it){super(nt,rt,it),this.viewType="Numbers"}parse(nt){return this.getNth(nt).map(parseNumber)}get(nt){return this.getNth(nt).map(parseNumber).map(rt=>rt.num)}json(nt){let rt=typeof nt=="object"?nt:{};return this.getNth(nt).map(it=>{let ot=it.toView().json(rt)[0],st=parseNumber(it);return ot.number={prefix:st.prefix,num:st.num,suffix:st.suffix,hasComma:st.hasComma,unit:st.unit},ot},[])}units(){return this.growRight("#Unit").match("#Unit$")}isUnit(nt){return isUnit(this,nt)}isOrdinal(){return this.if("#Ordinal")}isCardinal(){return this.if("#Cardinal")}toNumber(){return this.if("#TextValue").forEach(rt=>{let it=parseNumber(rt);if(it.num===null)return;let ot=rt.has("#Ordinal")?"Ordinal":"Cardinal",st=format$3(it,ot);rt.replaceWith(st,{tags:!0}),rt.tag("NumericValue")}),this}toLocaleString(){return this.forEach(rt=>{let it=parseNumber(rt);if(it.num===null)return;let ot=it.num.toLocaleString();if(rt.has("#Ordinal")){let ut=format$3(it,"Ordinal").match(/[a-z]+$/);ut&&(ot+=ut[0]||"")}rt.replaceWith(ot,{tags:!0})}),this}toText(){let rt=this.map(it=>{if(it.has("#TextValue"))return it;let ot=parseNumber(it);if(ot.num===null)return it;let st=it.has("#Ordinal")?"TextOrdinal":"TextCardinal",ut=format$3(ot,st);return it.replaceWith(ut,{tags:!0}),it.tag("TextValue"),it});return new et(rt.document,rt.pointer)}toCardinal(){let rt=this.map(it=>{if(!it.has("#Ordinal"))return it;let ot=parseNumber(it);if(ot.num===null)return it;let st=it.has("#TextValue")?"TextCardinal":"Cardinal",ut=format$3(ot,st);return it.replaceWith(ut,{tags:!0}),it.tag("Cardinal"),it});return new et(rt.document,rt.pointer)}toOrdinal(){let rt=this.map(it=>{if(it.has("#Ordinal"))return it;let ot=parseNumber(it);if(ot.num===null)return it;let st=it.has("#TextValue")?"TextOrdinal":"Ordinal",ut=format$3(ot,st);return it.replaceWith(ut,{tags:!0}),it.tag("Ordinal"),it});return new et(rt.document,rt.pointer)}isEqual(nt){return this.filter(rt=>parseNumber(rt).num===nt)}greaterThan(nt){return this.filter(rt=>parseNumber(rt).num>nt)}lessThan(nt){return this.filter(rt=>parseNumber(rt).num<nt)}between(nt,rt){return this.filter(it=>{let ot=parseNumber(it).num;return ot>nt&&ot<rt})}set(nt){if(nt===void 0)return this;typeof nt=="string"&&(nt=parseNumber(nt).num);let it=this.map(ot=>{let st=parseNumber(ot);if(st.num=nt,st.num===null)return ot;let ut=ot.has("#Ordinal")?"Ordinal":"Cardinal";ot.has("#TextValue")&&(ut=ot.has("#Ordinal")?"TextOrdinal":"TextCardinal");let ft=format$3(st,ut);return st.hasComma&&ut==="Cardinal"&&(ft=Number(ft).toLocaleString()),ot=ot.not("#Currency"),ot.replaceWith(ft,{tags:!0}),ot});return new et(it.document,it.pointer)}add(nt){if(!nt)return this;typeof nt=="string"&&(nt=parseNumber(nt).num);let it=this.map(ot=>{let st=parseNumber(ot);if(st.num===null)return ot;st.num+=nt;let ut=ot.has("#Ordinal")?"Ordinal":"Cardinal";st.isText&&(ut=ot.has("#Ordinal")?"TextOrdinal":"TextCardinal");let ft=format$3(st,ut);return ot.replaceWith(ft,{tags:!0}),ot});return new et(it.document,it.pointer)}subtract(nt,rt){return this.add(nt*-1,rt)}increment(nt){return this.add(1,nt)}decrement(nt){return this.add(-1,nt)}update(nt){let rt=new et(this.document,nt);return rt._cache=this._cache,rt}}et.prototype.toNice=et.prototype.toLocaleString,et.prototype.isBetween=et.prototype.between,et.prototype.minus=et.prototype.subtract,et.prototype.plus=et.prototype.add,et.prototype.equals=et.prototype.isEqual,_e.prototype.numbers=function(tt){let nt=findNumbers(this);return nt=nt.getNth(tt),new et(this.document,nt.pointer)},_e.prototype.percentages=function(tt){let nt=findNumbers(this);return nt=nt.filter(rt=>rt.has("#Percent")||rt.after("^percent")),nt=nt.getNth(tt),new et(this.document,nt.pointer)},_e.prototype.money=function(tt){let nt=findNumbers(this);return nt=nt.filter(rt=>rt.has("#Money")||rt.after("^#Currency")),nt=nt.getNth(tt),new et(this.document,nt.pointer)},_e.prototype.values=_e.prototype.numbers},api$6=function(_e){plugin$l(_e),addMethod$2(_e)},numbers={api:api$6},defaults$2={people:!0,emails:!0,phoneNumbers:!0,places:!0},redact=function(_e={}){return _e=Object.assign({},defaults$2,_e),_e.people!==!1&&this.people().replaceWith(""),_e.emails!==!1&&this.emails().replaceWith(""),_e.places!==!1&&this.places().replaceWith(""),_e.phoneNumbers!==!1&&this.phoneNumbers().replaceWith(""),this},plugin$k={api:function(_e){_e.prototype.redact=redact}},isQuestion=function(_e){let et=_e.clauses();return/\.\.$/.test(_e.out("text"))||_e.has("^#QuestionWord")&&_e.has("@hasComma")?!1:!!(_e.has("or not$")||_e.has("^#QuestionWord")||_e.has("^(do|does|did|is|was|can|could|will|would|may) #Noun")||_e.has("^(have|must) you")||et.has("(do|does|is|was) #Noun+ #Adverb? (#Adjective|#Infinitive)$"))},findQuestions=function(_e){const et=/\?/,{document:tt}=_e;return _e.filter(nt=>{let rt=nt.docs[0]||[],it=rt[rt.length-1];return!it||tt[it.index[0]].length!==rt.length?!1:et.test(it.post)?!0:isQuestion(nt)})},subordinate="(after|although|as|because|before|if|since|than|that|though|when|whenever|where|whereas|wherever|whether|while|why|unless|until|once)",relative$1="(that|which|whichever|who|whoever|whom|whose|whomever)",mainClause=function(_e){let et=_e;return et.length===1||(et=et.if("#Verb"),et.length===1)||(et=et.ifNo(subordinate),et=et.ifNo("^even (if|though)"),et=et.ifNo("^so that"),et=et.ifNo("^rather than"),et=et.ifNo("^provided that"),et.length===1)||(et=et.ifNo(relative$1),et.length===1)||(et=et.ifNo("(^despite|^during|^before|^through|^throughout)"),et.length===1)||(et=et.ifNo("^#Gerund"),et.length===1)?et:(et.length===0&&(et=_e),et.eq(0))},grammar=function(_e){let et=null;return _e.has("#PastTense")?et="PastTense":_e.has("#FutureTense")?et="FutureTense":_e.has("#PresentTense")&&(et="PresentTense"),{tense:et}},parse$5=function(_e){let et=_e.clauses(),nt=mainClause(et).chunks(),rt=_e.none(),it=_e.none(),ot=_e.none();return nt.forEach((st,ut)=>{if(ut===0&&!st.has("<Verb>")){rt=st;return}if(!it.found&&st.has("<Verb>")){it=st;return}it.found&&(ot=ot.concat(st))}),it.found&&!rt.found&&(rt=it.before("<Noun>+").first()),{subj:rt,verb:it,pred:ot,grammar:grammar(it)}},toPast$2=function(_e){let et=_e.verbs(),tt=et.eq(0);if(tt.has("#PastTense"))return _e;if(tt.toPastTense(),et.length>1){et=et.slice(1),et=et.filter(rt=>!rt.lookBehind("to$").found),et=et.if("#PresentTense"),et=et.notIf("#Gerund");let nt=_e.match("to #Verb+ #Conjunction #Verb").terms();et=et.not(nt),et.found&&et.verbs().toPastTense()}return _e},toPresent$1=function(_e){let et=_e.verbs();return et.eq(0).toPresentTense(),et.length>1&&(et=et.slice(1),et=et.filter(nt=>!nt.lookBehind("to$").found),et=et.notIf("#Gerund"),et.found&&et.verbs().toPresentTense()),_e},toFuture$1=function(_e){let et=_e.verbs();if(et.eq(0).toFutureTense(),_e=_e.fullSentence(),et=_e.verbs(),et.length>1){et=et.slice(1);let nt=et.filter(rt=>rt.lookBehind("to$").found?!1:rt.has("#Copula #Gerund")?!0:rt.has("#Gerund")?!1:rt.has("#Copula")?!0:!(rt.has("#PresentTense")&&!rt.has("#Infinitive")&&rt.lookBefore("(he|she|it|that|which)$").found));nt.found&&nt.forEach(rt=>{if(rt.has("#Copula")){rt.match("was").replaceWith("is"),rt.match("is").replaceWith("will be");return}rt.toInfinitive()})}return _e},toNegative$1=function(_e){return _e.verbs().first().toNegative().compute("chunks"),_e},toPositive=function(_e){return _e.verbs().first().toPositive().compute("chunks"),_e},toInfinitive=function(_e){return _e.verbs().toInfinitive(),_e},api$5=function(_e){class et extends _e{constructor(rt,it,ot){super(rt,it,ot),this.viewType="Sentences"}json(rt={}){return this.map(it=>{let ot=it.toView().json(rt)[0]||{},{subj:st,verb:ut,pred:ft,grammar:dt}=parse$5(it);return ot.sentence={subject:st.text("normal"),verb:ut.text("normal"),predicate:ft.text("normal"),grammar:dt},ot},[])}toPastTense(rt){return this.getNth(rt).map(it=>(parse$5(it),toPast$2(it)))}toPresentTense(rt){return this.getNth(rt).map(it=>(parse$5(it),toPresent$1(it)))}toFutureTense(rt){return this.getNth(rt).map(it=>(parse$5(it),it=toFuture$1(it),it))}toInfinitive(rt){return this.getNth(rt).map(it=>(parse$5(it),toInfinitive(it)))}toNegative(rt){return this.getNth(rt).map(it=>(parse$5(it),toNegative$1(it)))}toPositive(rt){return this.getNth(rt).map(it=>(parse$5(it),toPositive(it)))}isQuestion(rt){return this.questions(rt)}isExclamation(rt){return this.filter(ot=>ot.lastTerm().has("@hasExclamation")).getNth(rt)}isStatement(rt){return this.filter(ot=>!ot.isExclamation().found&&!ot.isQuestion().found).getNth(rt)}update(rt){let it=new et(this.document,rt);return it._cache=this._cache,it}}et.prototype.toPresent=et.prototype.toPresentTense,et.prototype.toPast=et.prototype.toPastTense,et.prototype.toFuture=et.prototype.toFutureTense;const tt={sentences:function(nt){let rt=this.map(it=>it.fullSentence());return rt=rt.getNth(nt),new et(this.document,rt.pointer)},questions:function(nt){return findQuestions(this).getNth(nt)}};Object.assign(_e.prototype,tt)},sentences={api:api$5},find$3=function(_e){let et=_e.match("#Honorific+? #Person+"),tt=et.match("#Possessive").notIf("(his|her)");return et=et.splitAfter(tt),et},parse$4=function(_e){let et={};et.firstName=_e.match("#FirstName+"),et.lastName=_e.match("#LastName+"),et.honorific=_e.match("#Honorific+");let tt=et.lastName,nt=et.firstName;return(!nt.found||!tt.found)&&!nt.found&&!tt.found&&_e.has("^#Honorific .$")&&(et.lastName=_e.match(".$")),et},m$1="male",f$1="female",honorifics={mr:m$1,mrs:f$1,miss:f$1,madam:f$1,king:m$1,queen:f$1,duke:m$1,duchess:f$1,baron:m$1,baroness:f$1,count:m$1,countess:f$1,prince:m$1,princess:f$1,sire:m$1,dame:f$1,lady:f$1,ayatullah:m$1,congressman:m$1,congresswoman:f$1,"first lady":f$1,mx:null},predictGender=function(_e,et){let{firstName:tt,honorific:nt}=_e;if(tt.has("#FemaleName"))return f$1;if(tt.has("#MaleName"))return m$1;if(nt.found){let it=nt.text("normal");if(it=it.replace(/\./g,""),honorifics.hasOwnProperty(it))return honorifics[it];if(/^her /.test(it))return f$1;if(/^his /.test(it))return m$1}let rt=et.after();if(!rt.has("#Person")&&rt.has("#Pronoun")){let it=rt.match("#Pronoun");if(it.has("(they|their)"))return null;let ot=it.has("(he|his)"),st=it.has("(she|her|hers)");if(ot&&!st)return m$1;if(st&&!ot)return f$1}return null},addMethod$1=function(_e){class et extends _e{constructor(nt,rt,it){super(nt,rt,it),this.viewType="People"}parse(nt){return this.getNth(nt).map(parse$4)}json(nt){let rt=typeof nt=="object"?nt:{};return this.getNth(nt).map(it=>{let ot=it.toView().json(rt)[0],st=parse$4(it);return ot.person={firstName:st.firstName.text("normal"),lastName:st.lastName.text("normal"),honorific:st.honorific.text("normal"),presumed_gender:predictGender(st,it)},ot},[])}presumedMale(){return this.filter(nt=>nt.has("(#MaleName|mr|mister|sr|jr|king|pope|prince|sir)"))}presumedFemale(){return this.filter(nt=>nt.has("(#FemaleName|mrs|miss|queen|princess|madam)"))}update(nt){let rt=new et(this.document,nt);return rt._cache=this._cache,rt}}_e.prototype.people=function(tt){let nt=find$3(this);return nt=nt.getNth(tt),new et(this.document,nt.pointer)}},find$2=function(_e){let et=_e.match("(#Place|#Address)+"),tt=et.match("@hasComma");return tt=tt.filter(nt=>nt.has("(asia|africa|europe|america)$")?!0:!(nt.has("(#City|#Region|#ProperNoun)$")&&nt.after("^(#Country|#Region)").found)),et=et.splitAfter(tt),et},addMethod=function(_e){_e.prototype.places=function(et){let tt=find$2(this);return tt=tt.getNth(et),new _e(this.document,tt.pointer)}},api$4=function(_e){_e.prototype.organizations=function(et){return this.match("#Organization+").getNth(et)}},find$1=function(_e){let et=this.clauses(),tt=et.people();return tt=tt.concat(et.places()),tt=tt.concat(et.organizations()),tt=tt.not("(someone|man|woman|mother|brother|sister|father)"),tt=tt.sort("seq"),tt=tt.getNth(_e),tt},api$3=function(_e){_e.prototype.topics=find$1},api$2=function(_e){addMethod$1(_e),addMethod(_e),api$4(_e),api$3(_e)},topics={api:api$2},findVerbs=function(_e){let et=_e.match("<Verb>");return et=et.not("#Conjunction"),et=et.not("#Preposition"),et=et.splitAfter("@hasComma"),et=et.splitAfter("[(do|did|am|was|is|will)] (is|was)",0),et=et.splitBefore("(#Verb && !#Copula) [being] #Verb",0),et=et.splitBefore("#Verb [to be] #Verb",0),et=et.splitAfter("[help] #PresentTense",0),et=et.splitBefore("(#PresentTense|#PastTense) [#Copula]$",0),et=et.splitBefore("(#PresentTense|#PastTense) [will be]$",0),et=et.splitBefore("(#PresentTense|#PastTense) [(had|has)]",0),et=et.not("#Reflexive$"),et=et.not("#Adjective"),et=et.splitAfter("[#PastTense] #PastTense",0),et=et.splitAfter("[#PastTense] #Auxiliary+ #PastTense",0),et=et.splitAfter("#Copula [#Gerund] #PastTense",0),et=et.if("#Verb"),et.has("(#Verb && !#Auxiliary) #Adverb+? #Copula")&&(et=et.splitBefore("#Copula")),et},getMain=function(_e){let et=_e;return _e.wordCount()>1&&(et=_e.not("(#Negative|#Auxiliary|#Modal|#Adverb|#Prefix)")),et.length>1&&!et.has("#Phrasal #Particle")&&(et=et.last()),et=et.not("(want|wants|wanted) to"),et.found||(et=_e.not("#Negative")),et},getAdverbs=function(_e,et){let tt={pre:_e.none(),post:_e.none()};if(!_e.has("#Adverb"))return tt;let nt=_e.splitOn(et);return nt.length===3?{pre:nt.eq(0).adverbs(),post:nt.eq(2).adverbs()}:nt.eq(0).isDoc(et)?(tt.post=nt.eq(1).adverbs(),tt):(tt.pre=nt.eq(0).adverbs(),tt)},getAuxiliary=function(_e,et){let tt=_e.splitBefore(et);if(tt.length<=1)return _e.none();let nt=tt.eq(0);return nt=nt.not("(#Adverb|#Negative|#Prefix)"),nt},getNegative=function(_e){return _e.match("#Negative")},getPhrasal=function(_e){if(!_e.has("(#Particle|#PhrasalVerb)"))return{verb:_e.none(),particle:_e.none()};let et=_e.match("#Particle$");return{verb:_e.not(et),particle:et}},parseVerb=function(_e){let et=_e.clone();et.contractions().expand();const tt=getMain(et);return{root:tt,prefix:et.match("#Prefix"),adverbs:getAdverbs(et,tt),auxiliary:getAuxiliary(et,tt),negative:getNegative(et),phrasal:getPhrasal(tt)}},present={tense:"PresentTense"},conditional={conditional:!0},future={tense:"FutureTense"},prog={progressive:!0},past={tense:"PastTense"},complete={complete:!0,progressive:!1},passive={passive:!0},plural={plural:!0},singular={plural:!1},getData=function(_e){let et={};return _e.forEach(tt=>{Object.assign(et,tt)}),et},verbForms={imperative:[["#Imperative",[]]],"want-infinitive":[["^(want|wants|wanted) to #Infinitive$",[present]],["^wanted to #Infinitive$",[past]],["^will want to #Infinitive$",[future]]],"gerund-phrase":[["^#PastTense #Gerund$",[past]],["^#PresentTense #Gerund$",[present]],["^#Infinitive #Gerund$",[present]],["^will #Infinitive #Gerund$",[future]],["^have #PastTense #Gerund$",[past]],["^will have #PastTense #Gerund$",[past]]],"simple-present":[["^#PresentTense$",[present]],["^#Infinitive$",[present]]],"simple-past":[["^#PastTense$",[past]]],"simple-future":[["^will #Adverb? #Infinitive",[future]]],"present-progressive":[["^(is|are|am) #Gerund$",[present,prog]]],"past-progressive":[["^(was|were) #Gerund$",[past,prog]]],"future-progressive":[["^will be #Gerund$",[future,prog]]],"present-perfect":[["^(has|have) #PastTense$",[past,complete]]],"past-perfect":[["^had #PastTense$",[past,complete]],["^had #PastTense to #Infinitive",[past,complete]]],"future-perfect":[["^will have #PastTense$",[future,complete]]],"present-perfect-progressive":[["^(has|have) been #Gerund$",[past,prog]]],"past-perfect-progressive":[["^had been #Gerund$",[past,prog]]],"future-perfect-progressive":[["^will have been #Gerund$",[future,prog]]],"passive-past":[["(got|were|was) #Passive",[past,passive]],["^(was|were) being #Passive",[past,passive]],["^(had|have) been #Passive",[past,passive]]],"passive-present":[["^(is|are|am) #Passive",[present,passive]],["^(is|are|am) being #Passive",[present,passive]],["^has been #Passive",[present,passive]]],"passive-future":[["will have been #Passive",[future,passive,conditional]],["will be being? #Passive",[future,passive,conditional]]],"present-conditional":[["would be #PastTense",[present,conditional]]],"past-conditional":[["would have been #PastTense",[past,conditional]]],"auxiliary-future":[["(is|are|am|was) going to (#Infinitive|#PresentTense)",[future]]],"auxiliary-past":[["^did #Infinitive$",[past,singular]],["^used to #Infinitive$",[past,complete]]],"auxiliary-present":[["^(does|do) #Infinitive$",[present,complete,plural]]],"modal-past":[["^(could|must|should|shall) have #PastTense$",[past]]],"modal-infinitive":[["^#Modal #Infinitive$",[]]],infinitive:[["^#Infinitive$",[]]]};let list$2=[];Object.keys(verbForms).map(_e=>{verbForms[_e].forEach(et=>{list$2.push({name:_e,match:et[0],data:getData(et[1])})})});const cleanUp=function(_e,et){return _e=_e.clone(),et.adverbs.post&&et.adverbs.post.found&&_e.remove(et.adverbs.post),et.adverbs.pre&&et.adverbs.pre.found&&_e.remove(et.adverbs.pre),_e.has("#Negative")&&(_e=_e.remove("#Negative")),_e.has("#Prefix")&&(_e=_e.remove("#Prefix")),et.root.has("#PhrasalVerb #Particle")&&_e.remove("#Particle$"),_e=_e.not("#Adverb"),_e},isInfinitive=function(_e){return!!(_e.has("#Infinitive")&&_e.growLeft("to").has("^to #Infinitive"))},getGrammar=function(_e,et){let tt={};_e=cleanUp(_e,et);for(let nt=0;nt<list$2.length;nt+=1){let rt=list$2[nt];if(_e.has(rt.match)===!0){tt.form=rt.name,Object.assign(tt,rt.data);break}}return tt.form||_e.has("^#Verb$")&&(tt.form="infinitive"),tt.tense||(tt.tense=et.root.has("#PastTense")?"PastTense":"PresentTense"),tt.copula=et.root.has("#Copula"),tt.isInfinitive=isInfinitive(_e),tt},shouldSkip=function(_e){return _e.length<=1?!1:(_e.parse()[0]||{}).isSubordinate},noSubClause=function(_e){let et=_e.clauses();return et=et.filter((tt,nt)=>!(tt.has("^(if|unless|while|but|for|per|at|by|that|which|who|from)")||nt>0&&tt.has("^#Verb . #Noun+$")||nt>0&&tt.has("^#Adverb"))),et.length===0?_e:et},lastNoun=function(_e){let et=_e.before();et=noSubClause(et);let tt=et.nouns(),nt=tt.last(),rt=nt.match("(i|he|she|we|you|they)");if(rt.found)return rt.nouns();let it=tt.if("^(that|this|those)");return it.found||tt.found===!1&&(it=et.match("^(that|this|those)"),it.found)?it:(nt=tt.last(),shouldSkip(nt)&&(tt.remove(nt),nt=tt.last()),shouldSkip(nt)&&(tt.remove(nt),nt=tt.last()),nt)},isPlural$1=function(_e,et){return et.has("(are|were|does)")||_e.has("(those|they|we)")?!0:_e.found&&_e.isPlural?_e.isPlural().found:!1},getSubject=function(_e){let et=lastNoun(_e);return{subject:et,plural:isPlural$1(et,_e)}},noop$3=_e=>_e,isPlural=(_e,et)=>{let tt=getSubject(_e),nt=tt.subject;return nt.has("i")||nt.has("we")?!0:tt.plural},wasWere=(_e,et)=>{let{subject:tt,plural:nt}=getSubject(_e);return nt||tt.has("we")?"were":"was"},isAreAm=function(_e,et){if(_e.has("were"))return"are";let{subject:tt,plural:nt}=getSubject(_e);return tt.has("i")?"am":tt.has("we")||nt?"are":"is"},doDoes=function(_e,et){let tt=getSubject(_e),nt=tt.subject;return nt.has("i")||nt.has("we")||tt.plural?"do":"does"},getTense=function(_e){if(_e.has("#Infinitive"))return"Infinitive";if(_e.has("#Participle"))return"Participle";if(_e.has("#PastTense"))return"PastTense";if(_e.has("#Gerund"))return"Gerund";if(_e.has("#PresentTense"))return"PresentTense"},toInf$2=function(_e,et){const{toInfinitive:tt}=_e.methods.two.transform.verb;let nt=et.root.text({keepPunct:!1});return nt=tt(nt,_e.model,getTense(_e)),nt&&_e.replace(et.root,nt),_e},noWill=_e=>_e.has("will not")?_e.replace("will not","have not"):_e.remove("will"),toArray$2=function(_e){if(!_e||!_e.isView)return[];const et={normal:!0,terms:!1,text:!1};return _e.json(et).map(tt=>tt.normal)},toText=function(_e){return!_e||!_e.isView?"":_e.text("normal")},toInf$1=function(_e){const{toInfinitive:et}=_e.methods.two.transform.verb;let tt=_e.text("normal");return et(tt,_e.model,getTense(_e))},toJSON=function(_e){let et=parseVerb(_e);_e=_e.clone().toView();const tt=getGrammar(_e,et);return{root:et.root.text(),preAdverbs:toArray$2(et.adverbs.pre),postAdverbs:toArray$2(et.adverbs.post),auxiliary:toText(et.auxiliary),negative:et.negative.found,prefix:toText(et.prefix),infinitive:toInf$1(et.root),grammar:tt}},keep$5={tags:!0},toInf=function(_e,et){const{toInfinitive:tt}=_e.methods.two.transform.verb,{root:nt,auxiliary:rt}=et;let it=rt.terms().harden(),ot=nt.text("normal");if(ot=tt(ot,_e.model,getTense(nt)),ot&&_e.replace(nt,ot,keep$5).tag("Verb").firstTerm().tag("Infinitive"),it.found&&_e.remove(it),et.negative.found){_e.has("not")||_e.prepend("not");let st=doDoes(_e);_e.prepend(st)}return _e.fullSentence().compute(["freeze","lexicon","preTagger","postTagger","unfreeze","chunks"]),_e},keep$4={tags:!0},fns={noAux:(_e,et)=>(et.auxiliary.found&&(_e=_e.remove(et.auxiliary)),_e),simple:(_e,et)=>{const{conjugate:tt,toInfinitive:nt}=_e.methods.two.transform.verb,rt=et.root;if(rt.has("#Modal"))return _e;let it=rt.text({keepPunct:!1});return it=nt(it,_e.model,getTense(rt)),it=tt(it,_e.model).PastTense,it=it==="been"?"was":it,it==="was"&&(it=wasWere(_e)),it&&_e.replace(rt,it,keep$4),_e},both:function(_e,et){return et.negative.found?(_e.replace("will","did"),_e):(_e=fns.simple(_e,et),_e=fns.noAux(_e,et),_e)},hasHad:_e=>(_e.replace("has","had",keep$4),_e),hasParticiple:(_e,et)=>{const{conjugate:tt,toInfinitive:nt}=_e.methods.two.transform.verb,rt=et.root;let it=rt.text("normal");return it=nt(it,_e.model,getTense(rt)),tt(it,_e.model).Participle}},forms$4={infinitive:fns.simple,"simple-present":fns.simple,"simple-past":noop$3,"simple-future":fns.both,"present-progressive":_e=>(_e.replace("are","were",keep$4),_e.replace("(is|are|am)","was",keep$4),_e),"past-progressive":noop$3,"future-progressive":(_e,et)=>(_e.match(et.root).insertBefore("was"),_e.remove("(will|be)"),_e),"present-perfect":fns.hasHad,"past-perfect":noop$3,"future-perfect":(_e,et)=>(_e.match(et.root).insertBefore("had"),_e.has("will")&&(_e=noWill(_e)),_e.remove("have"),_e),"present-perfect-progressive":fns.hasHad,"past-perfect-progressive":noop$3,"future-perfect-progressive":_e=>(_e.remove("will"),_e.replace("have","had",keep$4),_e),"passive-past":_e=>(_e.replace("have","had",keep$4),_e),"passive-present":_e=>(_e.replace("(is|are)","was",keep$4),_e),"passive-future":(_e,et)=>(et.auxiliary.has("will be")&&(_e.match(et.root).insertBefore("had been"),_e.remove("(will|be)")),et.auxiliary.has("will have been")&&(_e.replace("have","had",keep$4),_e.remove("will")),_e),"present-conditional":_e=>(_e.replace("be","have been"),_e),"past-conditional":noop$3,"auxiliary-future":_e=>(_e.replace("(is|are|am)","was",keep$4),_e),"auxiliary-past":noop$3,"auxiliary-present":_e=>(_e.replace("(do|does)","did",keep$4),_e),"modal-infinitive":(_e,et)=>(_e.has("can")?_e.replace("can","could",keep$4):(fns.simple(_e,et),_e.match("#Modal").insertAfter("have").tag("Auxiliary")),_e),"modal-past":noop$3,"want-infinitive":_e=>(_e.replace("(want|wants)","wanted",keep$4),_e.remove("will"),_e),"gerund-phrase":(_e,et)=>(et.root=et.root.not("#Gerund$"),fns.simple(_e,et),noWill(_e),_e)},toPast$1=function(_e,et,tt){return forms$4.hasOwnProperty(tt)&&(_e=forms$4[tt](_e,et),_e.fullSentence().compute(["tagger","chunks"])),_e},haveHas=function(_e,et){let tt=getSubject(_e),nt=tt.subject;return nt.has("(i|we|you)")?"have":tt.plural===!1||nt.has("he")||nt.has("she")||nt.has("#Person")?"has":"have"},simple$2=(_e,et)=>{const{conjugate:tt,toInfinitive:nt}=_e.methods.two.transform.verb,{root:rt,auxiliary:it}=et;if(rt.has("#Modal"))return _e;let ot=rt.text({keepPunct:!1});ot=nt(ot,_e.model,getTense(rt));let st=tt(ot,_e.model);if(ot=st.Participle||st.PastTense,ot){_e=_e.replace(rt,ot);let ut=haveHas(_e);_e.prepend(ut).match(ut).tag("Auxiliary"),_e.remove(it)}return _e},forms$3={infinitive:simple$2,"simple-present":simple$2,"simple-future":(_e,et)=>_e.replace("will",haveHas(_e)),"present-perfect":noop$3,"past-perfect":noop$3,"future-perfect":(_e,et)=>_e.replace("will have",haveHas(_e)),"present-perfect-progressive":noop$3,"past-perfect-progressive":noop$3,"future-perfect-progressive":noop$3},toPast=function(_e,et,tt){return forms$3.hasOwnProperty(tt)?(_e=forms$3[tt](_e,et),_e.fullSentence().compute(["tagger","chunks"]),_e):(_e=simple$2(_e,et),_e.fullSentence().compute(["tagger","chunks"]),_e)},keep$3={tags:!0},simple$1=(_e,et)=>{const{conjugate:tt,toInfinitive:nt}=_e.methods.two.transform.verb,rt=et.root;let it=rt.text("normal");return it=nt(it,_e.model,getTense(rt)),isPlural(_e)===!1&&(it=tt(it,_e.model).PresentTense),rt.has("#Copula")&&(it=isAreAm(_e)),it&&(_e=_e.replace(rt,it,keep$3),_e.not("#Particle").tag("PresentTense")),_e},toGerund$1=(_e,et)=>{const{conjugate:tt,toInfinitive:nt}=_e.methods.two.transform.verb,rt=et.root;let it=rt.text("normal");return it=nt(it,_e.model,getTense(rt)),isPlural(_e)===!1&&(it=tt(it,_e.model).Gerund),it&&(_e=_e.replace(rt,it,keep$3),_e.not("#Particle").tag("Gerund")),_e},vbToInf=(_e,et)=>{const{toInfinitive:tt}=_e.methods.two.transform.verb,nt=et.root;let rt=et.root.text("normal");return rt=tt(rt,_e.model,getTense(nt)),rt&&(_e=_e.replace(et.root,rt,keep$3)),_e},forms$2={infinitive:simple$1,"simple-present":(_e,et)=>{const{conjugate:tt}=_e.methods.two.transform.verb;let{root:nt}=et;if(nt.has("#Infinitive")){let it=getSubject(_e).subject;if(isPlural(_e)||it.has("i"))return _e;let ot=nt.text("normal"),st=tt(ot,_e.model).PresentTense;ot!==st&&_e.replace(nt,st,keep$3)}else return simple$1(_e,et);return _e},"simple-past":simple$1,"simple-future":(_e,et)=>{const{root:tt,auxiliary:nt}=et;if(nt.has("will")&&tt.has("be")){let rt=isAreAm(_e);_e.replace(tt,rt),_e=_e.remove("will"),_e.replace("not "+rt,rt+" not")}else simple$1(_e,et),_e=_e.remove("will");return _e},"present-progressive":noop$3,"past-progressive":(_e,et)=>{let tt=isAreAm(_e);return _e.replace("(were|was)",tt,keep$3)},"future-progressive":_e=>(_e.match("will").insertBefore("is"),_e.remove("be"),_e.remove("will")),"present-perfect":(_e,et)=>(simple$1(_e,et),_e=_e.remove("(have|had|has)"),_e),"past-perfect":(_e,et)=>{let nt=getSubject(_e).subject;return isPlural(_e)||nt.has("i")?(_e=toInf$2(_e,et),_e.remove("had"),_e):(_e.replace("had","has",keep$3),_e)},"future-perfect":_e=>(_e.match("will").insertBefore("has"),_e.remove("have").remove("will")),"present-perfect-progressive":noop$3,"past-perfect-progressive":_e=>_e.replace("had","has",keep$3),"future-perfect-progressive":_e=>(_e.match("will").insertBefore("has"),_e.remove("have").remove("will")),"passive-past":(_e,et)=>{let tt=isAreAm(_e);return _e.has("(had|have|has)")&&_e.has("been")?(_e.replace("(had|have|has)",tt,keep$3),_e.replace("been","being"),_e):_e.replace("(got|was|were)",tt)},"passive-present":noop$3,"passive-future":_e=>(_e.replace("will","is"),_e.replace("be","being")),"present-conditional":noop$3,"past-conditional":_e=>(_e.replace("been","be"),_e.remove("have")),"auxiliary-future":(_e,et)=>(toGerund$1(_e,et),_e.remove("(going|to)"),_e),"auxiliary-past":(_e,et)=>{if(et.auxiliary.has("did")){let tt=doDoes(_e);return _e.replace(et.auxiliary,tt),_e}return toGerund$1(_e,et),_e.replace(et.auxiliary,"is"),_e},"auxiliary-present":noop$3,"modal-infinitive":noop$3,"modal-past":(_e,et)=>(vbToInf(_e,et),_e.remove("have")),"gerund-phrase":(_e,et)=>(et.root=et.root.not("#Gerund$"),simple$1(_e,et),_e.remove("(will|have)")),"want-infinitive":(_e,et)=>{let tt="wants";return isPlural(_e)&&(tt="want"),_e.replace("(want|wanted|wants)",tt,keep$3),_e.remove("will"),_e}},toPresent=function(_e,et,tt){return forms$2.hasOwnProperty(tt)&&(_e=forms$2[tt](_e,et),_e.fullSentence().compute(["tagger","chunks"])),_e},keep$2={tags:!0},simple=(_e,et)=>{const{toInfinitive:tt}=_e.methods.two.transform.verb,{root:nt,auxiliary:rt}=et;if(nt.has("#Modal"))return _e;let it=nt.text("normal");return it=tt(it,_e.model,getTense(nt)),it&&(_e=_e.replace(nt,it,keep$2),_e.not("#Particle").tag("Verb")),_e.prepend("will").match("will").tag("Auxiliary"),_e.remove(rt),_e},progressive=(_e,et)=>{const{conjugate:tt,toInfinitive:nt}=_e.methods.two.transform.verb,{root:rt,auxiliary:it}=et;let ot=rt.text("normal");return ot=nt(ot,_e.model,getTense(rt)),ot&&(ot=tt(ot,_e.model).Gerund,_e.replace(rt,ot,keep$2),_e.not("#Particle").tag("PresentTense")),_e.remove(it),_e.prepend("will be").match("will be").tag("Auxiliary"),_e},forms$1={infinitive:simple,"simple-present":simple,"simple-past":simple,"simple-future":noop$3,"present-progressive":progressive,"past-progressive":progressive,"future-progressive":noop$3,"present-perfect":_e=>(_e.match("(have|has)").replaceWith("will have"),_e),"past-perfect":_e=>_e.replace("(had|has)","will have"),"future-perfect":noop$3,"present-perfect-progressive":_e=>_e.replace("has","will have"),"past-perfect-progressive":_e=>_e.replace("had","will have"),"future-perfect-progressive":noop$3,"passive-past":_e=>_e.has("got")?_e.replace("got","will get"):_e.has("(was|were)")?(_e.replace("(was|were)","will be"),_e.remove("being")):_e.has("(have|has|had) been")?_e.replace("(have|has|had) been","will be"):_e,"passive-present":_e=>(_e.replace("being","will be"),_e.remove("(is|are|am)"),_e),"passive-future":noop$3,"present-conditional":_e=>_e.replace("would","will"),"past-conditional":_e=>_e.replace("would","will"),"auxiliary-future":noop$3,"auxiliary-past":_e=>_e.has("used")&&_e.has("to")?(_e.replace("used","will"),_e.remove("to")):(_e.replace("did","will"),_e),"auxiliary-present":_e=>_e.replace("(do|does)","will"),"modal-infinitive":noop$3,"modal-past":noop$3,"gerund-phrase":(_e,et)=>(et.root=et.root.not("#Gerund$"),simple(_e,et),_e.remove("(had|have)")),"want-infinitive":_e=>(_e.replace("(want|wants|wanted)","will want"),_e)},toFuture=function(_e,et,tt){return _e.has("will")||_e.has("going to")||forms$1.hasOwnProperty(tt)&&(_e=forms$1[tt](_e,et),_e.fullSentence().compute(["tagger","chunks"])),_e},keep$1={tags:!0},toGerund=function(_e,et){const{toInfinitive:tt,conjugate:nt}=_e.methods.two.transform.verb,{root:rt,auxiliary:it}=et;if(_e.has("#Gerund"))return _e;let ot=rt.text("normal");ot=tt(ot,_e.model,getTense(rt));let st=nt(ot,_e.model).Gerund;if(st){let ut=isAreAm(_e);_e.replace(rt,st,keep$1),_e.remove(it),_e.prepend(ut)}return _e.replace("not is","is not"),_e.replace("not are","are not"),_e.fullSentence().compute(["tagger","chunks"]),_e},keep={tags:!0},doesNot=function(_e,et){let tt=doDoes(_e);return _e.prepend(tt+" not"),_e},isWas=function(_e){let et=_e.match("be");return et.found?(et.prepend("not"),_e):(et=_e.match("(is|was|am|are|will|were)"),et.found&&et.append("not"),_e)},hasCopula=_e=>_e.has("(is|was|am|are|will|were|be)"),forms={"simple-present":(_e,et)=>hasCopula(_e)===!0?isWas(_e):(_e=toInf$2(_e,et),_e=doesNot(_e),_e),"simple-past":(_e,et)=>hasCopula(_e)===!0?isWas(_e):(_e=toInf$2(_e,et),_e.prepend("did not"),_e),imperative:_e=>(_e.prepend("do not"),_e),infinitive:(_e,et)=>hasCopula(_e)===!0?isWas(_e):doesNot(_e),"passive-past":_e=>{if(_e.has("got"))return _e.replace("got","get",keep),_e.prepend("did not"),_e;let et=_e.match("(was|were|had|have)");return et.found&&et.append("not"),_e},"auxiliary-past":_e=>{if(_e.has("used"))return _e.prepend("did not"),_e;let et=_e.match("(did|does|do)");return et.found&&et.append("not"),_e},"want-infinitive":(_e,et)=>(_e=doesNot(_e),_e=_e.replace("wants","want",keep),_e)},toNegative=function(_e,et,tt){if(_e.has("#Negative"))return _e;if(forms.hasOwnProperty(tt))return _e=forms[tt](_e,et),_e;let nt=_e.matchOne("be");return nt.found?(nt.prepend("not"),_e):hasCopula(_e)===!0?isWas(_e):(nt=_e.matchOne("(will|had|have|has|did|does|do|#Modal)"),nt.found&&nt.append("not"),_e)},api$1=function(_e){class et extends _e{constructor(nt,rt,it){super(nt,rt,it),this.viewType="Verbs"}parse(nt){return this.getNth(nt).map(parseVerb)}json(nt,rt){return this.getNth(rt).map(st=>{let ut=st.toView().json(nt)[0]||{};return ut.verb=toJSON(st),ut},[])}subjects(nt){return this.getNth(nt).map(rt=>(parseVerb(rt),getSubject(rt).subject))}adverbs(nt){return this.getNth(nt).map(rt=>rt.match("#Adverb"))}isSingular(nt){return this.getNth(nt).filter(rt=>getSubject(rt).plural!==!0)}isPlural(nt){return this.getNth(nt).filter(rt=>getSubject(rt).plural===!0)}isImperative(nt){return this.getNth(nt).filter(rt=>rt.has("#Imperative"))}toInfinitive(nt){return this.getNth(nt).map(rt=>{let it=parseVerb(rt),ot=getGrammar(rt,it);return toInf(rt,it,ot.form)})}toPresentTense(nt){return this.getNth(nt).map(rt=>{let it=parseVerb(rt),ot=getGrammar(rt,it);return ot.isInfinitive?rt:toPresent(rt,it,ot.form)})}toPastTense(nt){return this.getNth(nt).map(rt=>{let it=parseVerb(rt),ot=getGrammar(rt,it);return ot.isInfinitive?rt:toPast$1(rt,it,ot.form)})}toFutureTense(nt){return this.getNth(nt).map(rt=>{let it=parseVerb(rt),ot=getGrammar(rt,it);return ot.isInfinitive?rt:toFuture(rt,it,ot.form)})}toGerund(nt){return this.getNth(nt).map(rt=>{let it=parseVerb(rt),ot=getGrammar(rt,it);return ot.isInfinitive?rt:toGerund(rt,it,ot.form)})}toPastParticiple(nt){return this.getNth(nt).map(rt=>{let it=parseVerb(rt),ot=getGrammar(rt,it);return ot.isInfinitive?rt:toPast(rt,it,ot.form)})}conjugate(nt){const{conjugate:rt,toInfinitive:it}=this.world.methods.two.transform.verb;return this.getNth(nt).map(ot=>{let st=parseVerb(ot),ut=getGrammar(ot,st);ut.form==="imperative"&&(ut.form="simple-present");let ft=st.root.text("normal");if(!st.root.has("#Infinitive")){let dt=getTense(st.root);ft=it(ft,ot.model,dt)||ft}return rt(ft,ot.model)},[])}isNegative(){return this.if("#Negative")}isPositive(){return this.ifNo("#Negative")}toPositive(){let nt=this.match("do not #Verb");return nt.found&&nt.remove("do not"),this.remove("#Negative")}toNegative(nt){return this.getNth(nt).map(rt=>{let it=parseVerb(rt),ot=getGrammar(rt,it);return toNegative(rt,it,ot.form)})}update(nt){let rt=new et(this.document,nt);return rt._cache=this._cache,rt}}et.prototype.toPast=et.prototype.toPastTense,et.prototype.toPresent=et.prototype.toPresentTense,et.prototype.toFuture=et.prototype.toFutureTense,_e.prototype.verbs=function(tt){let nt=findVerbs(this);return nt=nt.getNth(tt),new et(this.document,nt.pointer)}},verbs={api:api$1},findChained=function(_e,et){let tt=et.match(_e);if(tt.found){let nt=tt.pronouns().refersTo();if(nt.found)return nt}return et.none()},prevSentence=function(_e){if(!_e.found)return _e;let[et]=_e.fullPointer[0];return et&&et>0?_e.update([[et-1]]):_e.none()},byGender=function(_e,et){return et==="m"?_e.filter(tt=>!tt.presumedFemale().found):et==="f"?_e.filter(tt=>!tt.presumedMale().found):_e},getPerson=function(_e,et){let tt=_e.people();return tt=byGender(tt,et),tt.found||(tt=_e.nouns("#Actor"),tt.found)?tt.last():et==="f"?findChained("(she|her|hers)",_e):et==="m"?findChained("(he|him|his)",_e):_e.none()},getThey=function(_e){let et=_e.nouns(),tt=et.isPlural().notIf("#Pronoun");if(tt.found)return tt.last();let nt=findChained("(they|their|theirs)",_e);return nt.found?nt:(tt=et.match("(somebody|nobody|everybody|anybody|someone|noone|everyone|anyone)"),tt.found?tt.last():_e.none())},addReference=function(_e,et){if(et&&et.found){let tt=_e.docs[0][0];tt.reference=et.ptrs[0]}},stepBack=function(_e,et){let tt=_e.before(),nt=et(tt);return nt.found||(tt=prevSentence(_e),nt=et(tt),nt.found)||(tt=prevSentence(tt),nt=et(tt),nt.found)?nt:_e.none()},coreference$1=function(_e){_e.pronouns().if("(he|him|his|she|her|hers|they|their|theirs|it|its)").forEach(tt=>{let nt=null;tt.has("(he|him|his)")?nt=stepBack(tt,rt=>getPerson(rt,"m")):tt.has("(she|her|hers)")?nt=stepBack(tt,rt=>getPerson(rt,"f")):tt.has("(they|their|theirs)")&&(nt=stepBack(tt,getThey)),nt&&nt.found&&addReference(tt,nt)})},api=function(_e){class et extends _e{constructor(nt,rt,it){super(nt,rt,it),this.viewType="Pronouns"}hasReference(){return this.compute("coreference"),this.filter(nt=>nt.docs[0][0].reference)}refersTo(){return this.compute("coreference"),this.map(nt=>{if(!nt.found)return nt.none();let rt=nt.docs[0][0];return rt.reference?nt.update([rt.reference]):nt.none()})}update(nt){let rt=new et(this.document,nt);return rt._cache=this._cache,rt}}_e.prototype.pronouns=function(tt){let nt=this.match("#Pronoun");return nt=nt.getNth(tt),new et(nt.document,nt.pointer)}},coreference={compute:{coreference:coreference$1},api};nlp.plugin(adjectives);nlp.plugin(adverbs);nlp.plugin(chunker);nlp.plugin(coreference);nlp.plugin(misc);nlp.plugin(normalize$1);nlp.plugin(nouns);nlp.plugin(numbers);nlp.plugin(plugin$k);nlp.plugin(sentences);nlp.plugin(topics);nlp.plugin(verbs);function agenticLlmApiClient({files:_e,fileManager:et,token:tt,modelSelector:nt,aiUsage:rt,tools:it,onError:ot,onStart:st,abortController:ut}){it=typeof it=="object"?it:{};let ft=!0,dt=!1;function lt(kt){dt=kt}function at(){if(ft=!0,dt){try{ut.current&&ut.current.abort("click")}catch(kt){console.log(kt)}lt(!1)}}function ct(kt,At){let Tt={};return kt&&(kt.outputType==="json"&&(Tt.response_format={type:"json_object"}),kt.temperatureOpenAI&&(Tt.temperature=parseFloat(kt.temperatureOpenAI)>0?parseFloat(kt.temperatureOpenAI):0),kt.topPOpenAI&&(Tt.top_p=parseFloat(kt.topPOpenAI)>0?parseFloat(kt.topPOpenAI):null),kt.maxTokens&&(Tt.max_tokens=parseFloat(kt.maxTokens)>0?parseFloat(kt.maxTokens):null),Array.isArray(kt.stopTokens)&&kt.stopTokens.length>0&&(Tt.stop=kt.stopTokens),kt.frequencyPenalty&&(Tt.frequency_penalty=parseFloat(kt.frequencyPenalty)>-2?parseFloat(kt.frequencyPenalty):0),kt.presencePenalty&&(Tt.presence_penalty=parseFloat(kt.presencePenalty)>-2?parseFloat(kt.presencePenalty):0)),(!kt||kt&&kt.outputType!=="json")&&(Tt.stream=!0),kt&&kt.outputType!=="json"&&At==="https://api.openai.com"&&(Tt.stream_options={include_usage:!0}),At.startsWith("https://m7tueuetec.execute-api.us-east-1.amazonaws.com")&&kt&&kt.config&&Array.isArray(kt.config.stopTokens)&&(Tt.stop_tokens=kt.config.stopTokens),At.startsWith("https://m7tueuetec.execute-api.us-east-1.amazonaws.com")&&kt&&kt.config&&Array.isArray(kt.config.maxSentences)&&(Tt.max_sentences=kt.config.maxSentences),Tt}let ht=[],pt={};function mt(kt){const At=/("([^"]|"")*"|'([^']|'')*'|[^,]+)(?=\s*,|\s*$)/g;let Tt=[],St;for(;St=At.exec(kt);)Tt.push(St[0].replace(/^["']|["']$/g,"").replace(/""/g,'"').replace(/''/g,"'"));return Tt}async function gt(kt){let At=kt.split("("),Tt=At[0];if(it.hasOwnProperty(Tt.toLowerCase())){let St=At.slice(1).join("("),Rt=St.lastIndexOf(")"),Ot=St.slice(0,Rt),Nt=await it[Tt.toLowerCase()](mt(Ot));return pt[kt]=Nt,[kt,Nt]}else return[kt,""]}function yt(kt){let At=(kt||"").split("```");return console.log("startToolCalls",it),At.forEach(function(Tt){Tt.trim().startsWith("tool")&&(console.log("startToolCalls TOOL SECTION",Tt),Tt.trim().slice(4).split(`
`).forEach(function(St){let Rt=St.split("(")[0].trim();console.log("startToolCalls TOOL fn",Rt,St),it.hasOwnProperty(Rt)&&!pt.hasOwnProperty(St.trim())&&(pt[St.trim()]=null,ht.push(gt(St.trim())))}))}),console.log("TOOLcalls",pt),pt}function bt(kt){console.log("rednerToolCalls");let At=(kt||"").split("```");return At.forEach(function(St,Rt){if(St.trim().startsWith("tool")){let Ot=St.trim().slice(4).split(`
`).map(function(Nt){return pt[Nt.trim()]?pt[Nt.trim()]:""}).join(`
`);At[Rt]="markdown"+Ot}}),At.map(function(St){return St.trim()}).join("```")}function xt(kt,At){let Tt=null,St=null;for(console.log("TO CLENED",JSON.parse(JSON.stringify(kt)));(!St||St.role!=="user")&&kt.length>0;)St=kt.shift(),St&&St.role==="system"?Tt=St:St&&St.role==="assistant"||St&&St.role==="user"&&kt.unshift(St);return Tt?(Tt.content=Tt.content?Tt.content+At:At,kt.unshift(Tt)):kt.unshift({role:"system",content:At}),kt=kt.map(function(Rt){return{role:Rt.role,content:Rt.content}}),console.log("CLENED",kt),kt}function vt(kt){if(kt){let At=JSON.parse(JSON.stringify(kt)).reverse();for(let Tt in At)if(Tt&&At[Tt]&&At[Tt].role==="user")return At[Tt]}return null}async function wt({messages:kt,modelConfig:At,onUpdate:Tt,onComplete:St,onStart:Rt}){console.log("AGENTIC START",At,et);let Ot={},Nt={};Array.isArray(_e)&&_e.forEach(function(zt){zt&&zt.id&&(Nt[zt.id]=zt)}),At&&Array.isArray(At.files)&&At.files.forEach(function(zt){Nt[zt]&&(Ot[zt]=Nt[zt])}),console.log("AGENTIC START files",_e,Ot,Nt);let It=new Date;if(At&&At.type==="algorithmic")if(ft=!1,console.log(At,At&&At.processingFunctionType,At&&At.processingFunction),At&&At.processingFunction){let zt=new Function("message","messages","files",At.processingFunction),Gt=vt(kt),Kt=Gt?Gt.content:"";console.log("Function CALL:",Kt,kt,Gt);try{let fn=zt(Kt,kt,Ot);if(console.log("Function res:",fn),fn&&fn.then&&typeof fn.then=="function")return fn.then(function(dn){console.log("Function Resultq1:",dn);let Wt={content:dn,log:{tokens_in:0,tokens_out:0,duration:(new Date-It).valueOf()}};return St(dn,{tokens_in:0,tokens_out:0,duration:(new Date-It).valueOf()}),Wt}).catch(function(dn){ot("Error evaluating function:"+dn)});{console.log("Function Resultss:",fn);let dn={content:fn,log:{tokens_in:0,tokens_out:0,duration:(new Date-It).valueOf()}};return St(fn,{tokens_in:0,tokens_out:0,duration:(new Date-It).valueOf()}),dn}}catch(fn){console.error("Error evaluating function:",fn),ot("Error evaluating function:"+fn);return}}else{let zt={content:"",log:{tokens_in:0,tokens_out:0,duration:0}};return St("",{tokens_in:0,tokens_out:0,duration:0}),zt}else{let zt=At&&At.preferredModel?At.preferredModel:"large";console.log("MT",zt,At,kt);let Gt=nt.getModel(zt),Kt=nt.getModelKey(zt);if(!Gt)throw new Error("Unable to find a matching model for "+zt);let fn=nt.getModelUrl(Gt.provider);if(!fn)throw new Error("Unable to find a model url");let dn=nt.getModelApiKey(Gt.provider);console.log("Persona Start:",fn,dn,kt,At,Gt),dn||(dn=tt&&tt.access_token?tt.access_token:""),ft=!1;var Bt=ut.current.signal;Rt&&Rt(),lt(!0);let Wt=[],rn=Array.isArray(kt)&&kt.length>0&&kt[kt.length-1].content?kt[kt.length-1].content:"";if(rn&&Array.isArray(Ot)){let kn=await et.searchVectorFiles(rn,Ot);Array.isArray(kn)&&kn.forEach(function(En){En&&Array.isArray(En.matches)&&En.matches.forEach(function(sn){Wt.push((sn&&sn.file?sn.file:"")+" "+(sn&&sn.fragment?sn.fragment:""))})})}let Vt={model:Kt,messages:xt(kt,Wt.length>0?`

`+Wt.join(`
`):"")};Vt=Object.assign(Vt,ct(At,fn));let an=[],Qt=[],Zt=0,xn=[],vn=0,gn=0,Cn=new Date;try{console.log("START REQUEST",dn,Vt.messages);let kn=await fetch(fn+"/chat/completions",{signal:Bt,method:"POST",headers:{Authorization:"Bearer "+dn,"Content-Type":"application/json"},body:JSON.stringify(Vt)});kn.status!==200&&(at(),ot("Error querying model - "+Vt.model+". "+kn.statusText));const En=kn.body.pipeThrough(new TextDecoderStream).getReader();for(;!ft;){const{value:Tn,done:bn}=await En.read();if(bn)break;Tn.split("data: ").forEach(function(Dn){let Nn;try{Nn=JSON.parse(Dn)}catch{}if(Nn&&Nn.choices&&Nn.choices[0]&&Nn.choices[0].delta&&Nn.choices[0].delta.hasOwnProperty("content")){Qt.push(Nn.choices[0].delta.content);let wn=nlp(an.join("")+Qt.join("")).clauses().out("array");if(xn=wn,wn.length>1&&wn.length>Zt){let qn=wn[wn.length-2],or=an.join("")+qn;Tt(or,qn,(new Date-Cn).valueOf());let tr="";for(;Qt.length>0&&tr.length<qn.length;){let cr=Qt.shift();tr+=cr,an.push(cr)}Zt=wn.length}}Nn&&Nn.usage&&(gn=Nn.usage.completion_tokens>0?Nn.usage.completion_tokens:0,vn=Nn.usage.prompt_tokens>0?Nn.usage.prompt_tokens:0),Nn&&Nn.x_groq&&Nn.x_groq.usage&&(gn=Nn.x_groq.usage.completion_tokens>0?Nn.x_groq.usage.completion_tokens:0,vn=Nn.x_groq.usage.prompt_tokens>0?Nn.x_groq.usage.prompt_tokens:0)})}try{const{lastvalue:Tn,lastdone:bn}=await En.read();console.log("LASTVALUE",Tn,bn)}catch(Tn){console.log("LASTVALUE ERROR",Tn)}lt(!1);let sn={tokens_in:vn,tokens_out:gn,model:Kt,key:dn,url:fn,duration:(new Date-Cn).valueOf()};rt&&rt.log(sn),Tt&&Tt(an.join("")+Qt.join(""),Qt.join(""),(new Date-Cn).valueOf());let On=an.join("")+Qt.join("");if(At&&At.wrapBefore&&(On=At.wrapBefore+On),At&&At.wrapAfter&&(On=On+At.wrapAfter),ft){let Tn={tokens_in:vn,tokens_out:gn,model:Kt,key:dn,url:fn,duration:(new Date-Cn).valueOf()};return St(an.join("")+Qt.join(""),Tn),{content:an.join("")+Qt.join(""),log:Tn}}else return yt(On),Promise.all(ht).then(function(Tn){let bn=bt(On);return St(bn,sn),{content:bn,log:sn}}).catch(function(Tn){let bn={tokens_in:vn,tokens_out:gn,model:Kt,key:dn,url:fn,duration:(new Date-Cn).valueOf()};return console.error("Stopped:",Tn),console.log(JSON.stringify(Tn)),at(),St(an.join("")+Qt.join(""),bn),{content:an.join("")+Qt.join(""),log:bn}})}catch(kn){let En={tokens_in:vn,tokens_out:gn,model:Kt,key:dn,url:fn,duration:(new Date-Cn).valueOf()};return console.error("LLM RUN ERROR:",kn),at(),St(an.join("")+Qt.join(""),En),{content:an.join("")+Qt.join(""),log:En}}}}function _t(kt){let At=kt&&kt.message?kt.message:"";return At=At+(kt&&kt.skills?`
`+kt.skills:""),At=At+(kt&&kt.backStory?`
`+kt.backStory:""),kt&&kt.config&&kt.config.outputType==="json"?(At=At+(kt.config&&kt.config.outputExamples?`
`+kt.config.outputExamples:""),At=At+(kt.config&&kt.config.outputSchema?`
`+kt.config.outputSchema:"")):kt&&kt.config&&kt.config.outputType==="choice"&&(At=At+(kt.config&&kt.config.outputExamples?`
###CHOICES
`+kt.config.outputExamples:"")),{role:"system",content:At}}function Ct(kt,At){let Tt=_t(kt),St=JSON.parse(JSON.stringify(At));return St.unshift(Tt),St}function Et(kt,At){return console.log("CHOOSE EXP",kt,At),new Promise(function(Tt,St){let Rt=`You are a human resources expert. 
You understand very well how to find the right person for the job. 
When you are asked a question you decide who is the best person to answer the question.
Choose one or many persons from the following list of experts who would best answer the question. Choose at most three and at least one.
Each row of the list of experts starts with an ID. An example ID is 1715533081877-2tpar0hlv9j .  Respond with a comma seperated list of ids.

###QUESTION
`+kt+`

###EXPERTS
`+At.map(function(Ot){return Ot.id+" "+Ot.name+" "+Ot.skills}).join(`
`)+`
You must ONLY respond with a comma seperated list of ids from the experts provided.`;wt({messages:[{role:"system",content:Rt},{role:"user",content:kt}],modelConfig:{},onUpdate:function(){},onComplete:function(Ot,Nt){let It=[];At.forEach(function(zt){zt.id&&(It[zt.id]=zt)});let Bt=[];Ot.split(",").forEach(function(zt){zt.trim()&&It[zt.trim()]&&Bt.push(It[zt.trim()])}),Tt({experts:Bt,log:Nt})}})})}function $t(kt){return new Promise(function(At,Tt){let St=`You are a curious person and when you hear a question, a bunch of other related questions come to mind that would help you understand the question.
			Reply with a list of additional questions.

###QUESTION
`+kt;wt({messages:[{role:"system",content:St},{role:"user",content:kt}],modelConfig:{},onUpdate:function(){},onComplete:function(Rt,Ot){let Nt=[];Rt.split(`
`).forEach(function(It){It.trim()&&Nt.push(It.trim())}),At({questions:Nt.slice(1),log:Ot})}})})}async function jt({message:kt,messages:At,team:Tt,onUpdate:St,onComplete:Rt,onStart:Ot}){console.log("START TEAM",At,Tt),ft=!1;let Nt=new Date,It=[],Bt={tokens_in:0,tokens_out:0};function zt(Zt,xn){let vn=At.filter(function(gn){return gn.role==="user"||gn.role==="assistant"}).map(function(gn){return{role:gn.role,content:Array.isArray(gn.content)?gn.content.map(function(Cn){return Cn.content}).join(`
`):gn.content}});if(Zt&&vn.unshift(Zt),xn){let gn=vn.pop();if(gn.role==="user")vn.push(xn);else{let Cn=vn.pop();Cn.role==="user"?(vn.push(xn),vn.push(gn)):(vn.push(Cn),vn.push(gn))}}return vn}function Gt(Zt,xn){Bt.tokens_in=(Bt.tokens_in>0?Bt.tokens_in:0)+(Zt>0?Zt:0),Bt.tokens_out=(Bt.tokens_out>0?Bt.tokens_out:0)+(xn>0?xn:0)}function Kt(){St(It,(new Date-Nt).valueOf())}function fn(){Rt(It,{tokens_in:Bt.tokens_in,tokens_out:Bt.tokens_out,duration:(new Date-Nt).valueOf()})}function dn(Zt,xn,vn){if(Array.isArray(xn))for(let gn=0;gn<xn.length;gn++)It[Zt+gn]={content:xn};else It[Zt]={content:xn};Kt()}function Wt(Zt,xn,vn,gn){if(Array.isArray(xn)){for(let Cn=0;Cn<xn.length;Cn++)It[Zt+Cn]={content:xn[Cn].content,log:xn[Cn].log,name:gn+(xn[Cn].name?" - "+xn[Cn].name:"")};vn&&Gt(vn.tokens_in,vn.tokens_out),Kt()}else It[Zt]={content:xn,log:vn,name:gn},vn&&Gt(vn.tokens_in,vn.tokens_out),Kt()}function rn(Zt){if(Zt){let xn=Zt&&Array.isArray(Zt.content)?Zt.content.map(function(gn){return gn.content}).join(`
`):Zt.content?Zt.content:"",vn=Zt&&Zt.log?Zt.log:"";return vn&&Gt(vn.tokens_in,vn.tokens_out),xn}else return""}async function Vt(Zt,xn,vn){if(Array.isArray(Zt.members)&&Zt.members.length>0)for(let On in Zt.members){let Tn=Zt.members[On];if(On&&On.id&&On.id.startsWith("TEAM:::::"))ot("A compressed team cannot have nested teams ("+On.name+")");else{xn.push(`
###PERSONA`);let bn=[Tn.message];Tn.skills&&xn.push(Tn.skills),Tn.backStory&&xn.push(Tn.backStory),xn.push(bn.join(". "))}}let gn=vn>0?vn:0;function Cn(On,Tn){dn(gn,On)}function kn(On,Tn){Wt(gn,On,Tn,"Compressed Team"+(Zt&&Zt.name?" - "+Zt.name:""))}let En=await wt({messages:zt({role:"system",content:xn.join(`
`)},{role:"user",content:`###QUESTION
`+kt}),modelConfig:{},onUpdate:Cn,onComplete:kn,onError:ot,aiUsage:rt}),sn=rn(En);if(Qt(Zt,"formatter")){let On=function(Tn,bn){Wt(gn,Tn,bn,"Compressed Team Formatter - "+Qt(Zt,"formatter").name)};gn=gn+1,await wt({messages:zt(_t(Qt(Zt,"formatter")),{role:"user",content:[kt,sn].join(`
`)}),modelConfig:Qt(Zt,"formatter").config,onUpdate:Cn,onComplete:On,onError:ot,aiUsage:rt}),fn()}else fn();return{content:It,log:Bt}}async function an(Zt,xn,vn=!0){let gn=[],Cn=[],kn=0,En=[];function sn(Tn,bn,Dn){if(Array.isArray(bn))for(let Nn=0;Nn<bn.length;Nn++)En[Tn+Nn]={content:bn};else En[Tn]={content:bn};It=En,Kt()}function On(Tn,bn,Dn,Nn){if(Array.isArray(bn)){for(let wn=0;wn<bn.length;wn++)En[Tn+wn]={content:bn[wn].content,log:bn[wn].log,name:Nn+(bn[wn].name?" - "+bn[wn].name:"")};Dn&&Gt(Dn.tokens_in,Dn.tokens_out),It=En,Kt()}else En[Tn]={content:bn,log:Dn,name:Nn},Dn&&Gt(Dn.tokens_in,Dn.tokens_out),It=En,Kt()}if(Array.isArray(xn))for(let Tn in xn){let bn=xn[Tn];if(bn){let Dn=function(wn,qn){sn(kn,wn)},Nn=function(wn,qn){On(kn,wn,qn,bn&&bn.name?bn.name:""),Array.isArray(wn)?kn=kn+wn.length:kn=kn+1};Cn[Tn]=bn&&bn.name?bn.name:"",bn.id&&bn.id.startsWith("TEAM:::::")?gn.push(jt({message:Zt,messages:[{role:"user",content:Zt}],team:bn,onUpdate:Dn,onComplete:Nn,onStart:function(){}})):gn.push(wt({messages:[_t(bn),{role:"user",content:Zt}],modelConfig:bn.config,onUpdate:Dn,onComplete:Nn,onError:ot,aiUsage:rt}))}}return Promise.all(gn).then(function(Tn){let bn=[];for(let Dn in Tn){let Nn=Tn[Dn];Nn&&Array.isArray(Nn.content)?Nn.content.forEach(function(wn,qn){wn&&wn.content&&bn.push({content:wn.content,log:wn.log,name:Cn[Dn]+(wn.name?" - "+wn.name:"")})}):bn.push({content:Nn.content,log:Nn.log,name:Cn[Dn]})}return It=bn,vn&&Qt(Tt,"formatter")?wt({messages:zt(_t(Qt(Tt,"formatter")),{role:"user",content:[kt,It.map(function(Dn){return Dn.content}).join(`
`)].join(`
`)}),modelConfig:Qt(Tt,"formatter").config,onUpdate:function(){},onComplete:function(){},onError:ot,aiUsage:rt}).then(function(Dn){let Nn=rn(Dn);It.push({content:Nn,log:Dn.log,name:Qt(Tt,"formatter")?"Formatter - "+Qt(Tt,"formatter").name:"Formatter"}),fn()}):fn(),{content:It,log:Bt}})}Ot&&Ot();function Qt(Zt,xn){return Zt&&Zt[xn]&&Zt[xn]?Zt[xn]:null}if(Tt)if(!Tt.compress||Tt.type==="rolesbased"){let Zt=0;switch(Tt.type){case"parallel":if(Array.isArray(Tt.members)&&Tt.members.length>0)return an(kt,Tt.members);break;case"mixtureofexperts":if(Array.isArray(Tt.members)&&Tt.members.length>0){let xn=function(kn,En){dn(0,kn)},vn=function(kn,En){Wt(0,kn,En,"Expert Selector")},gn={},Cn={};if(Tt.members.forEach(function(kn){kn&&kn.id&&(gn[kn.id]=kn),kn&&kn.name&&(Cn[kn.name]=kn)}),Qt(Tt,"expert_selector")){const kn=Qt(Tt,"expert_selector");if(kn&&kn.id){let En=await wt({messages:[_t(kn),{role:"user",content:kt}],modelConfig:kn.config,onUpdate:xn,onComplete:vn,onError:ot,aiUsage:rt}),sn=rn(En),On=[];sn.split(",").forEach(function(bn){bn&&bn.trim()&&Object.keys(gn).forEach(function(Dn){bn.toLowerCase().indexOf(Dn.toLowerCase())!==-1&&On.push(gn[bn])}),bn&&bn.trim()&&Object.keys(Cn).forEach(function(Dn){bn.toLowerCase().indexOf(Dn.toLowerCase())!==-1&&On.push(Cn[bn])})});let Tn={content:sn,log:En.log,name:"Expert Selector - "+kn.name};return It[0]=Tn,Kt(),an(kt,On).then(function({content:bn,log:Dn}){return bn=Array.isArray(bn)?bn:[],bn.unshift(Tn),Kt(),{content:bn,log:Dn}})}else return Et(kt,Tt.members).then(function({experts:En,log:sn}){let On={content:En.map(function(Tn){return Tn.name}).join(","),log:sn,name:"Expert Selector"};return an(kt,En).then(function({content:Tn,log:bn}){return Tn=Array.isArray(Tn)?Tn:[],Tn.unshift(On),Kt(),{content:Tn,log:bn}})})}else return Et(kt,Tt.members).then(function({experts:kn,log:En}){let sn={content:kn.map(function(On){return On.name}).join(","),log:En,name:"Expert Selector"};return an(kt,kn).then(function({content:On,log:Tn}){return On=Array.isArray(On)?On:[],On.unshift(sn),Kt(),{content:On,log:Tn}})})}break;case"generator":if(Array.isArray(Tt.members)&&Tt.members.length>0){const xn=Qt(Tt,"question_generator");if(xn&&xn.id){let vn=function(Tn,bn){dn(Zt,Tn)},gn=function(Tn,bn){Wt(Zt,Tn,bn,Qt(Tt,"question_generator").name),Array.isArray(Tn)?Zt=Zt+Tn.length:Zt=Zt+1},Cn=_t(xn);Cn.name=Tt.name+" - Question Generator - "+xn.name;let kn=await wt({messages:[Cn,{role:"user",content:kt}],modelConfig:xn.config,onUpdate:vn,onComplete:gn,onError:ot,aiUsage:rt}),sn=rn(kn).split(`
`);sn=sn.filter(function(Tn){return!!(Tn&&Tn.trim())}),Tt.max_generated_items>0?sn=sn.slice(0,Tt.max_generated_items):sn=sn.slice(0,2);let On=[];return sn.forEach(function(Tn){On.push(an(Tn,Tt.members))}),Promise.all(On).then(function(Tn){let bn=[];for(let Dn in Tn){let Nn=Tn[Dn];Nn&&Array.isArray(Nn.content)?Nn.content.forEach(function(wn,qn){wn&&wn.content&&bn.push({content:wn.content,log:wn.log,name:Tt.name+(wn.name?" - "+wn.name:"")})}):bn.push({content:Nn.content,log:Nn.log,name:Tt.name+" - "+Nn.name})}bn.unshift(Cn),Qt(Tt,"formatter")?wt({messages:[_t(Qt(Tt,"formatter")),{role:"user",content:[kt,bn.map(function(Dn){return Dn.content}).join(`
`)].join(`
`)}],modelConfig:Qt(Tt,"formatter").config,onUpdate:function(){},onComplete:function(){},onError:ot,aiUsage:rt}).then(function(Dn){let Nn=rn(Dn);It=bn,It[Zt+1]={content:Nn,log:Dn.log,name:Qt(Tt,"formatter")?Tt.name+" - Formatter - "+Qt(Tt,"formatter").name:"Formatter"},fn()}):(It=bn,fn())})}else return $t(kt).then(function({questions:vn,log:gn}){let Cn={content:vn.map(function(sn){return sn}).join(","),log:gn,name:Tt.name+" - Question Generator"};Kt();let kn=vn.filter(function(sn){return!!(sn&&sn.trim())});Tt.max_generated_items>0?kn=kn.slice(0,Tt.max_generated_items):kn=kn.slice(0,2);let En=[];return kn.forEach(function(sn){En.push(an(sn,Tt.members,1))}),Promise.all(En).then(function(sn){let On=[];for(let Tn in sn){let bn=sn[Tn];bn&&Array.isArray(bn.content)?bn.content.forEach(function(Dn,Nn){Dn&&Dn.content&&On.push({content:Dn.content,log:Dn.log,name:Tt.name+" - Question Generator"+(Dn.name?" - "+Dn.name:"")})}):On.push({content:bn.content,log:bn.log,name:Tt.name+" - Question Generator - "+bn.name})}On.unshift(Cn),Qt(Tt,"formatter")?wt({messages:[_t(Qt(Tt,"formatter")),{role:"user",content:[kt,On.map(function(Tn){return Tn.content}).join(`
`)].join(`
`)}],modelConfig:Qt(Tt,"formatter").config,onUpdate:function(){},onComplete:function(){},onError:ot,aiUsage:rt}).then(function(Tn){let bn=rn(Tn);It=On,It[Zt+1]={content:bn,log:Tn.log,name:Qt(Tt,"formatter")?Tt.name+" - Formatter - "+Qt(Tt,"formatter").name:"Formatter"},fn()}):(It=On,fn())})})}break;case"rolesbased":if(console.log(Tt),!Qt(Tt,"generator"))ot("A generator is required for roles based teams"),fn();else{let xn=!1,vn="",gn="",Cn="",kn="",En="",sn="",On=0,Tn=Tt.max_iterations>0?Tt.max_iterations:2;if(Qt(Tt,"blocker")){let bn=function(Nn,wn){dn(Zt,Nn)},Dn=await wt({messages:Ct(Qt(Tt,"blocker"),[{role:"user",content:[kt].join(`
`)}]),modelConfig:Qt(Tt,"blocker").config,onUpdate:bn,onComplete:function(){},onError:ot,aiUsage:rt});sn=rn(Dn),Wt(Zt,sn,Dn.log,"Blocker")}if(sn||(sn="PASS"),xn=!!(sn&&sn.trim()==="FAIL"),!xn){if(Qt(Tt,"feeder")){let bn=function(Nn,wn){dn(Zt,Nn)},Dn=function(Nn,wn){Wt(Zt,Nn,wn,"Feeder - "+Qt(Tt,"feeder").name),Array.isArray(Nn)?Zt=Zt+Nn.length:Zt=Zt+1};if(Zt+=1,Qt(Tt,"feeder").id&&Qt(Tt,"feeder").id.startsWith("TEAM:::::")){let Nn=await jt({message:kt,messages:[{role:"user",content:[kt].join(`
`)}],team:Qt(Tt,"feeder"),onUpdate:bn,onComplete:Dn,onStart:function(){}});vn=rn(Nn)}else{let Nn=await wt({messages:[_t(Qt(Tt,"feeder")),{role:"user",content:[kt].join(`
`)}],modelConfig:Qt(Tt,"feeder").config,onUpdate:bn,onComplete:Dn,onError:ot,aiUsage:rt});vn=rn(Nn)}}if(Qt(Tt,"planner")){let bn=function(Nn,wn){dn(Zt,Nn)},Dn=function(Nn,wn){Wt(Zt,Nn,wn,"Planner - "+Qt(Tt,"planner").name),Array.isArray(Nn)?Zt=Zt+Nn.length:Zt=Zt+1};if(Zt+=1,Qt(Tt,"planner").id&&Qt(Tt,"planner").id.startsWith("TEAM:::::")){let Nn=await jt({message:kt,messages:[{role:"user",content:[kt].join(`
`)}],team:Qt(Tt,"planner"),onUpdate:bn,onComplete:Dn,onStart:function(){}});gn=rn(Nn)}else{let Nn=await wt({messages:[_t(Qt(Tt,"planner")),{role:"user",content:[kt].join(`
`)}],modelConfig:Qt(Tt,"planner").config,onUpdate:bn,onComplete:Dn,onError:ot,aiUsage:rt});gn=rn(Nn)}}for(;!xn&&On<Tn;)if(On+=1,!xn){if(Qt(Tt,"generator")){let Dn=function(wn,qn){dn(Zt,wn)},Nn=function(wn,qn){Wt(Zt,wn,qn,"Generator - "+Qt(Tt,"generator").name),Array.isArray(wn)?Zt=Zt+wn.length:Zt=Zt+1};if(Zt+=1,Qt(Tt,"generator").id&&Qt(Tt,"generator").id.startsWith("TEAM:::::")){let wn=await jt({message:kt,messages:[{role:"user",content:[kt,vn,gn,Cn,kn,En].join(`
`)}],team:Qt(Tt,"generator"),onUpdate:Dn,onComplete:Nn,onStart:function(){}});Cn=rn(wn)}else{let wn=await wt({messages:[_t(Qt(Tt,"generator")),{role:"user",content:[kt,vn,gn,Cn,kn,En].join(`
`)}],modelConfig:Qt(Tt,"generator").config,onUpdate:Dn,onComplete:Nn,onError:ot,aiUsage:rt});Cn=rn(wn)}}if(Qt(Tt,"summariser")){let Dn=function(qn,or){dn(Zt,qn)},Nn=function(qn,or){let tr=Qt(Tt,"summariser");Wt(Zt,qn,or,"Summariser "+(tr&&tr.name?" - "+tr.name:""))};Zt+=1;let wn=await wt({messages:[_t(Qt(Tt,"summariser")),{role:"user",content:[kt,gn,Cn].join(`
`)}],modelConfig:Qt(Tt,"summariser").config,onUpdate:Dn,onComplete:Nn,onError:ot,aiUsage:rt});kn=rn(wn)}let bn="";if(Qt(Tt,"scorer")){let Dn=function(qn,or){dn(Zt,qn)},Nn=function(qn,or){let tr=Qt(Tt,"scorer");Wt(Zt,qn,or,"Scorer "+(tr&&tr.name?" - "+tr.name:""))};Zt+=1;let wn=await wt({messages:[_t(Qt(Tt,"scorer")),{role:"user",content:[kt,kn||Cn].join(`
`)}],modelConfig:Qt(Tt,"scorer").config,onUpdate:Dn,onComplete:Nn,onError:ot,aiUsage:rt});bn=rn(wn),wn||(wn="PASS")}if(xn=!(bn&&bn.trim()==="FAIL"),!xn&&On<Tn&&Qt(Tt,"rewriter")){let Dn=function(qn,or){dn(Zt,qn)},Nn=function(qn,or){let tr=Qt(Tt,"rewriter");Wt(Zt,qn,or,"Rewriter "+(tr&&tr.name?" - "+tr.name:""))};Zt+=1;let wn=await wt({messages:[_t(Qt(Tt,"rewriters")),{role:"user",content:[kt,vn,gn,Cn,kn,En].join(`
`)}],modelConfig:Qt(Tt,"rewriter").config,onUpdate:Dn,onComplete:Nn});En=rn(wn)}}if(Qt(Tt,"formatter")){let bn=function(wn,qn){dn(Zt,wn)},Dn=function(wn,qn){let or=Qt(Tt,"formatter");Wt(Zt,wn,qn,"Formatter "+(or&&or.name?" - "+or.name:""))};Zt+=1;let Nn=await wt({messages:[_t(Qt(Tt,"formatter")),{role:"user",content:[kt,Cn,kn].join(`
`)}],modelConfig:Qt(Tt,"formatter").config,onUpdate:bn,onComplete:Dn,onError:ot,aiUsage:rt});rn(Nn)}}return fn(),{content:It,log:Bt}}break;case"linear":case"linearcollation":default:if(Array.isArray(Tt.members)&&Tt.members.length>0){let xn="";for(let vn in Tt.members){let gn=Tt.members[vn];if(gn){let Cn=function(sn,On){dn(Zt,sn)},kn=function(sn,On){Wt(Zt,sn,On,gn&&gn.name?gn.name:""),xn=Array.isArray(sn)?sn[sn.length-1].content:sn,Array.isArray(sn)?Zt=Zt+sn.length:Zt=Zt+1},En=Tt.type==="linear"?xn:It.map(function(sn){return sn.content}).join(`
`);gn.id.startsWith("TEAM:::::")?await jt({message:kt+En,messages:[{role:"user",content:[kt,En].join(`
`)}],team:gn,onUpdate:Cn,onComplete:kn,onStart:function(){}}):await wt({messages:[_t(gn),{role:"user",content:[kt,En].join(`
`)}],modelConfig:gn.config,onUpdate:Cn,onComplete:kn,onError:ot,aiUsage:rt})}}return fn(),{content:It,log:Bt}}if(Qt(Tt,"formatter")){let xn=function(Cn,kn){dn(gn,Cn)},vn=function(Cn,kn){let En=Qt(Tt,"formatter");Wt(gn,Cn,kn,"Formatter "+(En&&En.name?" - "+En.name:""))},gn=It.length;await wt({messages:Ct(Qt(Tt,"formatter"),[{role:"user",content:[kt,It.map(function(Cn){return Cn.content}).join(`
`)].join(`
`)}]),modelConfig:Qt(Tt,"formatter").config,onUpdate:xn,onComplete:vn,onError:ot,aiUsage:rt}),fn()}else fn();break}}else{switch(Tt.type){case"parallel":await Vt(Tt,["For each of the personas listed below generate a response to the question."]);break;case"linear":await Vt(Tt,["For each of the personas listed below generate a response to the question. Each person takes into account the response of previous personas."]);break;case"mixtureofexperts":if(Array.isArray(Tt.members)&&Tt.members.length>0){let Zt={},xn={};if(Tt.members.forEach(function(gn){gn&&gn.id&&(Zt[gn.id]=gn),gn&&gn.name&&(xn[gn.name]=gn)}),Qt(Tt,"expert_selector")){const gn=Qt(Tt,"expert_selector");if(gn&&gn.id){let Cn=await wt({messages:Ct(gn,[{role:"user",content:kt}]),modelConfig:gn.config,onUpdate:function(){},onComplete:function(){},onError:ot,aiUsage:rt}),kn=rn(Cn);It[0]={content:kn,log:Cn.log,name:"Role Selector - "+gn.name};let En=[];return kn.split(",").forEach(function(sn){sn&&Zt[sn]&&En.push(Zt[sn]),sn&&xn[sn]&&En.push(xn[sn])}),Vt({members:En,formatter:Qt(Tt,"formatter")},["For each of the personas listed below generate a response to the question."],1)}else Et(kt,Tt.members).then(function({experts:Cn,log:kn}){return It[0]={content:Cn.map(function(En){return En.name}).join(","),log:kn,name:"Expert Selector"},Kt(),Vt({members:Cn,formatter:Qt(Tt,"formatter")},["For each of the personas listed below generate a response to the question."])},1)}else Et(kt,Tt.members).then(function({experts:gn,log:Cn}){return It[0]={content:gn.map(function(kn){return kn.name}).join(","),log:Cn,name:"Expert Selector"},Kt(),Vt({members:gn,formatter:Qt(Tt,"formatter")},["For each of the personas listed below generate a response to the question."])},1)}break}return fn(),{content:It,log:Bt}}}function Dt(kt,At,Tt=null){return console.log("FIX CODE",kt,At,Tt),new Promise(function(St,Rt){let Ot="You are an expert software engineer.";Tt&&(Ot+="You usually write software in "+Tt+" and have a strong understanding of the language structure and libraries.");let Nt=`Given the error message, fix the following code.
###ERROR
`+At.join(`
`)+`
###CODE
`+Nt+`
`;wt({messages:[{role:"system",content:Ot},{role:"user",content:Nt}],modelConfig:{},onUpdate:function(){},onComplete:function(It,Bt){console.log("FIXED CODE",It,Bt),St({code:It,log:Bt})}})})}function Pt(kt,At){return console.log("FIX GRAPH",kt,At),new Promise(function(Tt,St){let Rt="You are an expert at working with charts to present information. In particular you know all the tricks for using mermaid charts.",Ot=`Given the error message, fix the following chart.
###CHART
`+Ot+`
###ERROR
`+At+`
`;wt({messages:[{role:"system",content:Rt},{role:"user",content:Ot}],modelConfig:{},onUpdate:function(){},onComplete:function(Nt,It){console.log("FIXED GRAPH",Nt,It),Tt({newGraph:Nt,log:It})}})})}return{stop:at,start:wt,startTeam:jt,isBusy:dt,startToolCalls:yt,prependSystemMessage:Ct,tools:it,fixGraph:Pt,fixCode:Dt}}function useLlm({files:_e,fileManager:et,token:tt,modelSelector:nt,abortController:rt,onUpdate:it,onComplete:ot,onReady:st,onError:ut,onStart:ft,forceRefresh:dt,aiUsage:lt,currentChatHistory:at,tools:ct,nlp:ht}){const pt=reactExports.useRef(!1);function mt(vt){pt.current=vt}var gt=agenticLlmApiClient({files:_e,fileManager:et,token:tt,modelSelector:nt,onReady:st,aiUsage:lt,onError:ut,tools:ct,onStart:ft,abortController:rt});reactExports.useRef(""),reactExports.useRef();function yt(){st&&st()}function bt(){if(gt.stop(),pt.current){try{rt.current&&rt.current.abort("click")}catch(vt){console.log(vt)}mt(!1)}}async function xt(vt,wt){console.log("AI LLM START ",vt,wt);let _t=gt.prependSystemMessage(vt,wt);mt(!0),ft(),gt.start({messages:_t,modelConfig:vt?vt.config:{},onUpdate:it,onComplete:function(Ct,Et){mt(!1),ot(Ct,Et)}})}return{init:yt,stop:bt,start:xt,isBusy:pt,fixCode:gt.fixCode,fixGraph:gt.fixGraph}}function useTeamLlm({files:_e,fileManager:et,token:tt,modelSelector:nt,abortController:rt,onReady:it,aiUsage:ot,tools:st,config:ut,engines:ft,onUpdate:dt,onComplete:lt,onStart:at,onError:ct,teams:ht,roles:pt,utils:mt}){const gt=reactExports.useRef(!1);function yt(wt){gt.current=wt}reactExports.useRef(""),reactExports.useRef();var bt=agenticLlmApiClient({files:_e,fileManager:et,token:tt,modelSelector:nt,onReady:it,aiUsage:ot,onError:ct,tools:st,onStart:at,abortController:rt});function xt(){if(gt.current){try{rt.current&&rt.current.abort("click")}catch(wt){console.log(wt)}yt(!1)}}async function vt(wt,_t,Ct){if(_t&&ht[_t]){let Et=JSON.parse(JSON.stringify(mt.exportTeam(ht,_t,pt)));yt(!0),bt.startTeam({message:wt,messages:Ct,team:Et,onUpdate:dt,onComplete:function($t,jt){console.log("OC",$t,jt),yt(!1),lt($t,jt)},onStart:at})}}return{stop:xt,start:vt,isBusy:gt,init:function(){it&&it()}}}class InvalidTokenError extends Error{}InvalidTokenError.prototype.name="InvalidTokenError";function b64DecodeUnicode(_e){return decodeURIComponent(atob(_e).replace(/(.)/g,(et,tt)=>{let nt=tt.charCodeAt(0).toString(16).toUpperCase();return nt.length<2&&(nt="0"+nt),"%"+nt}))}function base64UrlDecode(_e){let et=_e.replace(/-/g,"+").replace(/_/g,"/");switch(et.length%4){case 0:break;case 2:et+="==";break;case 3:et+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return b64DecodeUnicode(et)}catch{return atob(et)}}function jwtDecode(_e,et){if(typeof _e!="string")throw new InvalidTokenError("Invalid token specified: must be a string");et||(et={});const tt=et.header===!0?0:1,nt=_e.split(".")[tt];if(typeof nt!="string")throw new InvalidTokenError(`Invalid token specified: missing part #${tt+1}`);let rt;try{rt=base64UrlDecode(nt)}catch(it){throw new InvalidTokenError(`Invalid token specified: invalid base64 for part #${tt+1} (${it.message})`)}try{return JSON.parse(rt)}catch(it){throw new InvalidTokenError(`Invalid token specified: invalid json for part #${tt+1} (${it.message})`)}}function bind(_e,et){return function(){return _e.apply(et,arguments)}}const{toString}=Object.prototype,{getPrototypeOf:getPrototypeOf$1}=Object,kindOf=(_e=>et=>{const tt=toString.call(et);return _e[tt]||(_e[tt]=tt.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=_e=>(_e=_e.toLowerCase(),et=>kindOf(et)===_e),typeOfTest=_e=>et=>typeof et===_e,{isArray:isArray$1}=Array,isUndefined=typeOfTest("undefined");function isBuffer$1(_e){return _e!==null&&!isUndefined(_e)&&_e.constructor!==null&&!isUndefined(_e.constructor)&&isFunction$3(_e.constructor.isBuffer)&&_e.constructor.isBuffer(_e)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(_e){let et;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?et=ArrayBuffer.isView(_e):et=_e&&_e.buffer&&isArrayBuffer(_e.buffer),et}const isString$2=typeOfTest("string"),isFunction$3=typeOfTest("function"),isNumber$1=typeOfTest("number"),isObject$4=_e=>_e!==null&&typeof _e=="object",isBoolean$1=_e=>_e===!0||_e===!1,isPlainObject$1=_e=>{if(kindOf(_e)!=="object")return!1;const et=getPrototypeOf$1(_e);return(et===null||et===Object.prototype||Object.getPrototypeOf(et)===null)&&!(Symbol.toStringTag in _e)&&!(Symbol.iterator in _e)},isDate$1=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=_e=>isObject$4(_e)&&isFunction$3(_e.pipe),isFormData=_e=>{let et;return _e&&(typeof FormData=="function"&&_e instanceof FormData||isFunction$3(_e.append)&&((et=kindOf(_e))==="formdata"||et==="object"&&isFunction$3(_e.toString)&&_e.toString()==="[object FormData]"))},isURLSearchParams=kindOfTest("URLSearchParams"),[isReadableStream,isRequest,isResponse,isHeaders]=["ReadableStream","Request","Response","Headers"].map(kindOfTest),trim$1=_e=>_e.trim?_e.trim():_e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach(_e,et,{allOwnKeys:tt=!1}={}){if(_e===null||typeof _e>"u")return;let nt,rt;if(typeof _e!="object"&&(_e=[_e]),isArray$1(_e))for(nt=0,rt=_e.length;nt<rt;nt++)et.call(null,_e[nt],nt,_e);else{const it=tt?Object.getOwnPropertyNames(_e):Object.keys(_e),ot=it.length;let st;for(nt=0;nt<ot;nt++)st=it[nt],et.call(null,_e[st],st,_e)}}function findKey$1(_e,et){et=et.toLowerCase();const tt=Object.keys(_e);let nt=tt.length,rt;for(;nt-- >0;)if(rt=tt[nt],et===rt.toLowerCase())return rt;return null}const _global=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,isContextDefined=_e=>!isUndefined(_e)&&_e!==_global;function merge$2(){const{caseless:_e}=isContextDefined(this)&&this||{},et={},tt=(nt,rt)=>{const it=_e&&findKey$1(et,rt)||rt;isPlainObject$1(et[it])&&isPlainObject$1(nt)?et[it]=merge$2(et[it],nt):isPlainObject$1(nt)?et[it]=merge$2({},nt):isArray$1(nt)?et[it]=nt.slice():et[it]=nt};for(let nt=0,rt=arguments.length;nt<rt;nt++)arguments[nt]&&forEach(arguments[nt],tt);return et}const extend$2=(_e,et,tt,{allOwnKeys:nt}={})=>(forEach(et,(rt,it)=>{tt&&isFunction$3(rt)?_e[it]=bind(rt,tt):_e[it]=rt},{allOwnKeys:nt}),_e),stripBOM=_e=>(_e.charCodeAt(0)===65279&&(_e=_e.slice(1)),_e),inherits=(_e,et,tt,nt)=>{_e.prototype=Object.create(et.prototype,nt),_e.prototype.constructor=_e,Object.defineProperty(_e,"super",{value:et.prototype}),tt&&Object.assign(_e.prototype,tt)},toFlatObject=(_e,et,tt,nt)=>{let rt,it,ot;const st={};if(et=et||{},_e==null)return et;do{for(rt=Object.getOwnPropertyNames(_e),it=rt.length;it-- >0;)ot=rt[it],(!nt||nt(ot,_e,et))&&!st[ot]&&(et[ot]=_e[ot],st[ot]=!0);_e=tt!==!1&&getPrototypeOf$1(_e)}while(_e&&(!tt||tt(_e,et))&&_e!==Object.prototype);return et},endsWith=(_e,et,tt)=>{_e=String(_e),(tt===void 0||tt>_e.length)&&(tt=_e.length),tt-=et.length;const nt=_e.indexOf(et,tt);return nt!==-1&&nt===tt},toArray$1=_e=>{if(!_e)return null;if(isArray$1(_e))return _e;let et=_e.length;if(!isNumber$1(et))return null;const tt=new Array(et);for(;et-- >0;)tt[et]=_e[et];return tt},isTypedArray$1=(_e=>et=>_e&&et instanceof _e)(typeof Uint8Array<"u"&&getPrototypeOf$1(Uint8Array)),forEachEntry=(_e,et)=>{const nt=(_e&&_e[Symbol.iterator]).call(_e);let rt;for(;(rt=nt.next())&&!rt.done;){const it=rt.value;et.call(_e,it[0],it[1])}},matchAll=(_e,et)=>{let tt;const nt=[];for(;(tt=_e.exec(et))!==null;)nt.push(tt);return nt},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=_e=>_e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(tt,nt,rt){return nt.toUpperCase()+rt}),hasOwnProperty$b=(({hasOwnProperty:_e})=>(et,tt)=>_e.call(et,tt))(Object.prototype),isRegExp$1=kindOfTest("RegExp"),reduceDescriptors=(_e,et)=>{const tt=Object.getOwnPropertyDescriptors(_e),nt={};forEach(tt,(rt,it)=>{let ot;(ot=et(rt,it,_e))!==!1&&(nt[it]=ot||rt)}),Object.defineProperties(_e,nt)},freezeMethods=_e=>{reduceDescriptors(_e,(et,tt)=>{if(isFunction$3(_e)&&["arguments","caller","callee"].indexOf(tt)!==-1)return!1;const nt=_e[tt];if(isFunction$3(nt)){if(et.enumerable=!1,"writable"in et){et.writable=!1;return}et.set||(et.set=()=>{throw Error("Can not rewrite read-only method '"+tt+"'")})}})},toObjectSet=(_e,et)=>{const tt={},nt=rt=>{rt.forEach(it=>{tt[it]=!0})};return isArray$1(_e)?nt(_e):nt(String(_e).split(et)),tt},noop$2=()=>{},toFiniteNumber=(_e,et)=>_e!=null&&Number.isFinite(_e=+_e)?_e:et,ALPHA="abcdefghijklmnopqrstuvwxyz",DIGIT="0123456789",ALPHABET={DIGIT,ALPHA,ALPHA_DIGIT:ALPHA+ALPHA.toUpperCase()+DIGIT},generateString=(_e=16,et=ALPHABET.ALPHA_DIGIT)=>{let tt="";const{length:nt}=et;for(;_e--;)tt+=et[Math.random()*nt|0];return tt};function isSpecCompliantForm(_e){return!!(_e&&isFunction$3(_e.append)&&_e[Symbol.toStringTag]==="FormData"&&_e[Symbol.iterator])}const toJSONObject=_e=>{const et=new Array(10),tt=(nt,rt)=>{if(isObject$4(nt)){if(et.indexOf(nt)>=0)return;if(!("toJSON"in nt)){et[rt]=nt;const it=isArray$1(nt)?[]:{};return forEach(nt,(ot,st)=>{const ut=tt(ot,rt+1);!isUndefined(ut)&&(it[st]=ut)}),et[rt]=void 0,it}}return nt};return tt(_e,0)},isAsyncFn=kindOfTest("AsyncFunction"),isThenable=_e=>_e&&(isObject$4(_e)||isFunction$3(_e))&&isFunction$3(_e.then)&&isFunction$3(_e.catch),utils$3={isArray:isArray$1,isArrayBuffer,isBuffer:isBuffer$1,isFormData,isArrayBufferView,isString:isString$2,isNumber:isNumber$1,isBoolean:isBoolean$1,isObject:isObject$4,isPlainObject:isPlainObject$1,isReadableStream,isRequest,isResponse,isHeaders,isUndefined,isDate:isDate$1,isFile,isBlob,isRegExp:isRegExp$1,isFunction:isFunction$3,isStream,isURLSearchParams,isTypedArray:isTypedArray$1,isFileList,forEach,merge:merge$2,extend:extend$2,trim:trim$1,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray:toArray$1,forEachEntry,matchAll,isHTMLForm,hasOwnProperty:hasOwnProperty$b,hasOwnProp:hasOwnProperty$b,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop:noop$2,toFiniteNumber,findKey:findKey$1,global:_global,isContextDefined,ALPHABET,generateString,isSpecCompliantForm,toJSONObject,isAsyncFn,isThenable};function AxiosError(_e,et,tt,nt,rt){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=_e,this.name="AxiosError",et&&(this.code=et),tt&&(this.config=tt),nt&&(this.request=nt),rt&&(this.response=rt)}utils$3.inherits(AxiosError,Error,{toJSON:function _e(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils$3.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const prototype$1=AxiosError.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(_e=>{descriptors[_e]={value:_e}});Object.defineProperties(AxiosError,descriptors);Object.defineProperty(prototype$1,"isAxiosError",{value:!0});AxiosError.from=(_e,et,tt,nt,rt,it)=>{const ot=Object.create(prototype$1);return utils$3.toFlatObject(_e,ot,function(ut){return ut!==Error.prototype},st=>st!=="isAxiosError"),AxiosError.call(ot,_e.message,et,tt,nt,rt),ot.cause=_e,ot.name=_e.name,it&&Object.assign(ot,it),ot};const httpAdapter=null;function isVisitable(_e){return utils$3.isPlainObject(_e)||utils$3.isArray(_e)}function removeBrackets(_e){return utils$3.endsWith(_e,"[]")?_e.slice(0,-2):_e}function renderKey(_e,et,tt){return _e?_e.concat(et).map(function(rt,it){return rt=removeBrackets(rt),!tt&&it?"["+rt+"]":rt}).join(tt?".":""):et}function isFlatArray(_e){return utils$3.isArray(_e)&&!_e.some(isVisitable)}const predicates=utils$3.toFlatObject(utils$3,{},null,function _e(et){return/^is[A-Z]/.test(et)});function toFormData(_e,et,tt){if(!utils$3.isObject(_e))throw new TypeError("target must be an object");et=et||new FormData,tt=utils$3.toFlatObject(tt,{metaTokens:!0,dots:!1,indexes:!1},!1,function(pt,mt){return!utils$3.isUndefined(mt[pt])});const nt=tt.metaTokens,rt=tt.visitor||dt,it=tt.dots,ot=tt.indexes,ut=(tt.Blob||typeof Blob<"u"&&Blob)&&utils$3.isSpecCompliantForm(et);if(!utils$3.isFunction(rt))throw new TypeError("visitor must be a function");function ft(ht){if(ht===null)return"";if(utils$3.isDate(ht))return ht.toISOString();if(!ut&&utils$3.isBlob(ht))throw new AxiosError("Blob is not supported. Use a Buffer instead.");return utils$3.isArrayBuffer(ht)||utils$3.isTypedArray(ht)?ut&&typeof Blob=="function"?new Blob([ht]):Buffer.from(ht):ht}function dt(ht,pt,mt){let gt=ht;if(ht&&!mt&&typeof ht=="object"){if(utils$3.endsWith(pt,"{}"))pt=nt?pt:pt.slice(0,-2),ht=JSON.stringify(ht);else if(utils$3.isArray(ht)&&isFlatArray(ht)||(utils$3.isFileList(ht)||utils$3.endsWith(pt,"[]"))&&(gt=utils$3.toArray(ht)))return pt=removeBrackets(pt),gt.forEach(function(bt,xt){!(utils$3.isUndefined(bt)||bt===null)&&et.append(ot===!0?renderKey([pt],xt,it):ot===null?pt:pt+"[]",ft(bt))}),!1}return isVisitable(ht)?!0:(et.append(renderKey(mt,pt,it),ft(ht)),!1)}const lt=[],at=Object.assign(predicates,{defaultVisitor:dt,convertValue:ft,isVisitable});function ct(ht,pt){if(!utils$3.isUndefined(ht)){if(lt.indexOf(ht)!==-1)throw Error("Circular reference detected in "+pt.join("."));lt.push(ht),utils$3.forEach(ht,function(gt,yt){(!(utils$3.isUndefined(gt)||gt===null)&&rt.call(et,gt,utils$3.isString(yt)?yt.trim():yt,pt,at))===!0&&ct(gt,pt?pt.concat(yt):[yt])}),lt.pop()}}if(!utils$3.isObject(_e))throw new TypeError("data must be an object");return ct(_e),et}function encode$3(_e){const et={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(_e).replace(/[!'()~]|%20|%00/g,function(nt){return et[nt]})}function AxiosURLSearchParams(_e,et){this._pairs=[],_e&&toFormData(_e,this,et)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function _e(et,tt){this._pairs.push([et,tt])};prototype.toString=function _e(et){const tt=et?function(nt){return et.call(this,nt,encode$3)}:encode$3;return this._pairs.map(function(rt){return tt(rt[0])+"="+tt(rt[1])},"").join("&")};function encode$2(_e){return encodeURIComponent(_e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(_e,et,tt){if(!et)return _e;const nt=tt&&tt.encode||encode$2,rt=tt&&tt.serialize;let it;if(rt?it=rt(et,tt):it=utils$3.isURLSearchParams(et)?et.toString():new AxiosURLSearchParams(et,tt).toString(nt),it){const ot=_e.indexOf("#");ot!==-1&&(_e=_e.slice(0,ot)),_e+=(_e.indexOf("?")===-1?"?":"&")+it}return _e}class InterceptorManager{constructor(){this.handlers=[]}use(et,tt,nt){return this.handlers.push({fulfilled:et,rejected:tt,synchronous:nt?nt.synchronous:!1,runWhen:nt?nt.runWhen:null}),this.handlers.length-1}eject(et){this.handlers[et]&&(this.handlers[et]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(et){utils$3.forEach(this.handlers,function(nt){nt!==null&&et(nt)})}}const transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,Blob$1=typeof Blob<"u"?Blob:null,platform$2={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$1},protocols:["http","https","file","blob","url","data"]},hasBrowserEnv=typeof window<"u"&&typeof document<"u",hasStandardBrowserEnv=(_e=>hasBrowserEnv&&["ReactNative","NativeScript","NS"].indexOf(_e)<0)(typeof navigator<"u"&&navigator.product),hasStandardBrowserWebWorkerEnv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",origin=hasBrowserEnv&&window.location.href||"http://localhost",utils$2=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv,hasStandardBrowserEnv,hasStandardBrowserWebWorkerEnv,origin},Symbol.toStringTag,{value:"Module"})),platform$1={...utils$2,...platform$2};function toURLEncodedForm(_e,et){return toFormData(_e,new platform$1.classes.URLSearchParams,Object.assign({visitor:function(tt,nt,rt,it){return platform$1.isNode&&utils$3.isBuffer(tt)?(this.append(nt,tt.toString("base64")),!1):it.defaultVisitor.apply(this,arguments)}},et))}function parsePropPath(_e){return utils$3.matchAll(/\w+|\[(\w*)]/g,_e).map(et=>et[0]==="[]"?"":et[1]||et[0])}function arrayToObject(_e){const et={},tt=Object.keys(_e);let nt;const rt=tt.length;let it;for(nt=0;nt<rt;nt++)it=tt[nt],et[it]=_e[it];return et}function formDataToJSON(_e){function et(tt,nt,rt,it){let ot=tt[it++];if(ot==="__proto__")return!0;const st=Number.isFinite(+ot),ut=it>=tt.length;return ot=!ot&&utils$3.isArray(rt)?rt.length:ot,ut?(utils$3.hasOwnProp(rt,ot)?rt[ot]=[rt[ot],nt]:rt[ot]=nt,!st):((!rt[ot]||!utils$3.isObject(rt[ot]))&&(rt[ot]=[]),et(tt,nt,rt[ot],it)&&utils$3.isArray(rt[ot])&&(rt[ot]=arrayToObject(rt[ot])),!st)}if(utils$3.isFormData(_e)&&utils$3.isFunction(_e.entries)){const tt={};return utils$3.forEachEntry(_e,(nt,rt)=>{et(parsePropPath(nt),rt,tt,0)}),tt}return null}function stringifySafely(_e,et,tt){if(utils$3.isString(_e))try{return(et||JSON.parse)(_e),utils$3.trim(_e)}catch(nt){if(nt.name!=="SyntaxError")throw nt}return(tt||JSON.stringify)(_e)}const defaults$1={transitional:transitionalDefaults,adapter:["xhr","http","fetch"],transformRequest:[function _e(et,tt){const nt=tt.getContentType()||"",rt=nt.indexOf("application/json")>-1,it=utils$3.isObject(et);if(it&&utils$3.isHTMLForm(et)&&(et=new FormData(et)),utils$3.isFormData(et))return rt?JSON.stringify(formDataToJSON(et)):et;if(utils$3.isArrayBuffer(et)||utils$3.isBuffer(et)||utils$3.isStream(et)||utils$3.isFile(et)||utils$3.isBlob(et)||utils$3.isReadableStream(et))return et;if(utils$3.isArrayBufferView(et))return et.buffer;if(utils$3.isURLSearchParams(et))return tt.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),et.toString();let st;if(it){if(nt.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(et,this.formSerializer).toString();if((st=utils$3.isFileList(et))||nt.indexOf("multipart/form-data")>-1){const ut=this.env&&this.env.FormData;return toFormData(st?{"files[]":et}:et,ut&&new ut,this.formSerializer)}}return it||rt?(tt.setContentType("application/json",!1),stringifySafely(et)):et}],transformResponse:[function _e(et){const tt=this.transitional||defaults$1.transitional,nt=tt&&tt.forcedJSONParsing,rt=this.responseType==="json";if(utils$3.isResponse(et)||utils$3.isReadableStream(et))return et;if(et&&utils$3.isString(et)&&(nt&&!this.responseType||rt)){const ot=!(tt&&tt.silentJSONParsing)&&rt;try{return JSON.parse(et)}catch(st){if(ot)throw st.name==="SyntaxError"?AxiosError.from(st,AxiosError.ERR_BAD_RESPONSE,this,null,this.response):st}}return et}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform$1.classes.FormData,Blob:platform$1.classes.Blob},validateStatus:function _e(et){return et>=200&&et<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils$3.forEach(["delete","get","head","post","put","patch"],_e=>{defaults$1.headers[_e]={}});const ignoreDuplicateOf=utils$3.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders=_e=>{const et={};let tt,nt,rt;return _e&&_e.split(`
`).forEach(function(ot){rt=ot.indexOf(":"),tt=ot.substring(0,rt).trim().toLowerCase(),nt=ot.substring(rt+1).trim(),!(!tt||et[tt]&&ignoreDuplicateOf[tt])&&(tt==="set-cookie"?et[tt]?et[tt].push(nt):et[tt]=[nt]:et[tt]=et[tt]?et[tt]+", "+nt:nt)}),et},$internals=Symbol("internals");function normalizeHeader(_e){return _e&&String(_e).trim().toLowerCase()}function normalizeValue(_e){return _e===!1||_e==null?_e:utils$3.isArray(_e)?_e.map(normalizeValue):String(_e)}function parseTokens(_e){const et=Object.create(null),tt=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let nt;for(;nt=tt.exec(_e);)et[nt[1]]=nt[2];return et}const isValidHeaderName=_e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(_e.trim());function matchHeaderValue(_e,et,tt,nt,rt){if(utils$3.isFunction(nt))return nt.call(this,et,tt);if(rt&&(et=tt),!!utils$3.isString(et)){if(utils$3.isString(nt))return et.indexOf(nt)!==-1;if(utils$3.isRegExp(nt))return nt.test(et)}}function formatHeader(_e){return _e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(et,tt,nt)=>tt.toUpperCase()+nt)}function buildAccessors(_e,et){const tt=utils$3.toCamelCase(" "+et);["get","set","has"].forEach(nt=>{Object.defineProperty(_e,nt+tt,{value:function(rt,it,ot){return this[nt].call(this,et,rt,it,ot)},configurable:!0})})}class AxiosHeaders{constructor(et){et&&this.set(et)}set(et,tt,nt){const rt=this;function it(st,ut,ft){const dt=normalizeHeader(ut);if(!dt)throw new Error("header name must be a non-empty string");const lt=utils$3.findKey(rt,dt);(!lt||rt[lt]===void 0||ft===!0||ft===void 0&&rt[lt]!==!1)&&(rt[lt||ut]=normalizeValue(st))}const ot=(st,ut)=>utils$3.forEach(st,(ft,dt)=>it(ft,dt,ut));if(utils$3.isPlainObject(et)||et instanceof this.constructor)ot(et,tt);else if(utils$3.isString(et)&&(et=et.trim())&&!isValidHeaderName(et))ot(parseHeaders(et),tt);else if(utils$3.isHeaders(et))for(const[st,ut]of et.entries())it(ut,st,nt);else et!=null&&it(tt,et,nt);return this}get(et,tt){if(et=normalizeHeader(et),et){const nt=utils$3.findKey(this,et);if(nt){const rt=this[nt];if(!tt)return rt;if(tt===!0)return parseTokens(rt);if(utils$3.isFunction(tt))return tt.call(this,rt,nt);if(utils$3.isRegExp(tt))return tt.exec(rt);throw new TypeError("parser must be boolean|regexp|function")}}}has(et,tt){if(et=normalizeHeader(et),et){const nt=utils$3.findKey(this,et);return!!(nt&&this[nt]!==void 0&&(!tt||matchHeaderValue(this,this[nt],nt,tt)))}return!1}delete(et,tt){const nt=this;let rt=!1;function it(ot){if(ot=normalizeHeader(ot),ot){const st=utils$3.findKey(nt,ot);st&&(!tt||matchHeaderValue(nt,nt[st],st,tt))&&(delete nt[st],rt=!0)}}return utils$3.isArray(et)?et.forEach(it):it(et),rt}clear(et){const tt=Object.keys(this);let nt=tt.length,rt=!1;for(;nt--;){const it=tt[nt];(!et||matchHeaderValue(this,this[it],it,et,!0))&&(delete this[it],rt=!0)}return rt}normalize(et){const tt=this,nt={};return utils$3.forEach(this,(rt,it)=>{const ot=utils$3.findKey(nt,it);if(ot){tt[ot]=normalizeValue(rt),delete tt[it];return}const st=et?formatHeader(it):String(it).trim();st!==it&&delete tt[it],tt[st]=normalizeValue(rt),nt[st]=!0}),this}concat(...et){return this.constructor.concat(this,...et)}toJSON(et){const tt=Object.create(null);return utils$3.forEach(this,(nt,rt)=>{nt!=null&&nt!==!1&&(tt[rt]=et&&utils$3.isArray(nt)?nt.join(", "):nt)}),tt}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([et,tt])=>et+": "+tt).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(et){return et instanceof this?et:new this(et)}static concat(et,...tt){const nt=new this(et);return tt.forEach(rt=>nt.set(rt)),nt}static accessor(et){const nt=(this[$internals]=this[$internals]={accessors:{}}).accessors,rt=this.prototype;function it(ot){const st=normalizeHeader(ot);nt[st]||(buildAccessors(rt,ot),nt[st]=!0)}return utils$3.isArray(et)?et.forEach(it):it(et),this}}AxiosHeaders.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils$3.reduceDescriptors(AxiosHeaders.prototype,({value:_e},et)=>{let tt=et[0].toUpperCase()+et.slice(1);return{get:()=>_e,set(nt){this[tt]=nt}}});utils$3.freezeMethods(AxiosHeaders);function transformData(_e,et){const tt=this||defaults$1,nt=et||tt,rt=AxiosHeaders.from(nt.headers);let it=nt.data;return utils$3.forEach(_e,function(st){it=st.call(tt,it,rt.normalize(),et?et.status:void 0)}),rt.normalize(),it}function isCancel(_e){return!!(_e&&_e.__CANCEL__)}function CanceledError(_e,et,tt){AxiosError.call(this,_e??"canceled",AxiosError.ERR_CANCELED,et,tt),this.name="CanceledError"}utils$3.inherits(CanceledError,AxiosError,{__CANCEL__:!0});function settle(_e,et,tt){const nt=tt.config.validateStatus;!tt.status||!nt||nt(tt.status)?_e(tt):et(new AxiosError("Request failed with status code "+tt.status,[AxiosError.ERR_BAD_REQUEST,AxiosError.ERR_BAD_RESPONSE][Math.floor(tt.status/100)-4],tt.config,tt.request,tt))}function parseProtocol(_e){const et=/^([-+\w]{1,25})(:?\/\/|:)/.exec(_e);return et&&et[1]||""}function speedometer(_e,et){_e=_e||10;const tt=new Array(_e),nt=new Array(_e);let rt=0,it=0,ot;return et=et!==void 0?et:1e3,function(ut){const ft=Date.now(),dt=nt[it];ot||(ot=ft),tt[rt]=ut,nt[rt]=ft;let lt=it,at=0;for(;lt!==rt;)at+=tt[lt++],lt=lt%_e;if(rt=(rt+1)%_e,rt===it&&(it=(it+1)%_e),ft-ot<et)return;const ct=dt&&ft-dt;return ct?Math.round(at*1e3/ct):void 0}}function throttle(_e,et){let tt=0;const nt=1e3/et;let rt=null;return function(){const ot=this===!0,st=Date.now();if(ot||st-tt>nt)return rt&&(clearTimeout(rt),rt=null),tt=st,_e.apply(null,arguments);rt||(rt=setTimeout(()=>(rt=null,tt=Date.now(),_e.apply(null,arguments)),nt-(st-tt)))}}const progressEventReducer=(_e,et,tt=3)=>{let nt=0;const rt=speedometer(50,250);return throttle(it=>{const ot=it.loaded,st=it.lengthComputable?it.total:void 0,ut=ot-nt,ft=rt(ut),dt=ot<=st;nt=ot;const lt={loaded:ot,total:st,progress:st?ot/st:void 0,bytes:ut,rate:ft||void 0,estimated:ft&&st&&dt?(st-ot)/ft:void 0,event:it,lengthComputable:st!=null};lt[et?"download":"upload"]=!0,_e(lt)},tt)},isURLSameOrigin=platform$1.hasStandardBrowserEnv?function _e(){const et=/(msie|trident)/i.test(navigator.userAgent),tt=document.createElement("a");let nt;function rt(it){let ot=it;return et&&(tt.setAttribute("href",ot),ot=tt.href),tt.setAttribute("href",ot),{href:tt.href,protocol:tt.protocol?tt.protocol.replace(/:$/,""):"",host:tt.host,search:tt.search?tt.search.replace(/^\?/,""):"",hash:tt.hash?tt.hash.replace(/^#/,""):"",hostname:tt.hostname,port:tt.port,pathname:tt.pathname.charAt(0)==="/"?tt.pathname:"/"+tt.pathname}}return nt=rt(window.location.href),function(ot){const st=utils$3.isString(ot)?rt(ot):ot;return st.protocol===nt.protocol&&st.host===nt.host}}():function _e(){return function(){return!0}}(),cookies=platform$1.hasStandardBrowserEnv?{write(_e,et,tt,nt,rt,it){const ot=[_e+"="+encodeURIComponent(et)];utils$3.isNumber(tt)&&ot.push("expires="+new Date(tt).toGMTString()),utils$3.isString(nt)&&ot.push("path="+nt),utils$3.isString(rt)&&ot.push("domain="+rt),it===!0&&ot.push("secure"),document.cookie=ot.join("; ")},read(_e){const et=document.cookie.match(new RegExp("(^|;\\s*)("+_e+")=([^;]*)"));return et?decodeURIComponent(et[3]):null},remove(_e){this.write(_e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function isAbsoluteURL(_e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(_e)}function combineURLs(_e,et){return et?_e.replace(/\/?\/$/,"")+"/"+et.replace(/^\/+/,""):_e}function buildFullPath(_e,et){return _e&&!isAbsoluteURL(et)?combineURLs(_e,et):et}const headersToObject=_e=>_e instanceof AxiosHeaders?{..._e}:_e;function mergeConfig(_e,et){et=et||{};const tt={};function nt(ft,dt,lt){return utils$3.isPlainObject(ft)&&utils$3.isPlainObject(dt)?utils$3.merge.call({caseless:lt},ft,dt):utils$3.isPlainObject(dt)?utils$3.merge({},dt):utils$3.isArray(dt)?dt.slice():dt}function rt(ft,dt,lt){if(utils$3.isUndefined(dt)){if(!utils$3.isUndefined(ft))return nt(void 0,ft,lt)}else return nt(ft,dt,lt)}function it(ft,dt){if(!utils$3.isUndefined(dt))return nt(void 0,dt)}function ot(ft,dt){if(utils$3.isUndefined(dt)){if(!utils$3.isUndefined(ft))return nt(void 0,ft)}else return nt(void 0,dt)}function st(ft,dt,lt){if(lt in et)return nt(ft,dt);if(lt in _e)return nt(void 0,ft)}const ut={url:it,method:it,data:it,baseURL:ot,transformRequest:ot,transformResponse:ot,paramsSerializer:ot,timeout:ot,timeoutMessage:ot,withCredentials:ot,withXSRFToken:ot,adapter:ot,responseType:ot,xsrfCookieName:ot,xsrfHeaderName:ot,onUploadProgress:ot,onDownloadProgress:ot,decompress:ot,maxContentLength:ot,maxBodyLength:ot,beforeRedirect:ot,transport:ot,httpAgent:ot,httpsAgent:ot,cancelToken:ot,socketPath:ot,responseEncoding:ot,validateStatus:st,headers:(ft,dt)=>rt(headersToObject(ft),headersToObject(dt),!0)};return utils$3.forEach(Object.keys(Object.assign({},_e,et)),function(dt){const lt=ut[dt]||rt,at=lt(_e[dt],et[dt],dt);utils$3.isUndefined(at)&&lt!==st||(tt[dt]=at)}),tt}const resolveConfig=_e=>{const et=mergeConfig({},_e);let{data:tt,withXSRFToken:nt,xsrfHeaderName:rt,xsrfCookieName:it,headers:ot,auth:st}=et;et.headers=ot=AxiosHeaders.from(ot),et.url=buildURL(buildFullPath(et.baseURL,et.url),_e.params,_e.paramsSerializer),st&&ot.set("Authorization","Basic "+btoa((st.username||"")+":"+(st.password?unescape(encodeURIComponent(st.password)):"")));let ut;if(utils$3.isFormData(tt)){if(platform$1.hasStandardBrowserEnv||platform$1.hasStandardBrowserWebWorkerEnv)ot.setContentType(void 0);else if((ut=ot.getContentType())!==!1){const[ft,...dt]=ut?ut.split(";").map(lt=>lt.trim()).filter(Boolean):[];ot.setContentType([ft||"multipart/form-data",...dt].join("; "))}}if(platform$1.hasStandardBrowserEnv&&(nt&&utils$3.isFunction(nt)&&(nt=nt(et)),nt||nt!==!1&&isURLSameOrigin(et.url))){const ft=rt&&it&&cookies.read(it);ft&&ot.set(rt,ft)}return et},isXHRAdapterSupported=typeof XMLHttpRequest<"u",xhrAdapter=isXHRAdapterSupported&&function(_e){return new Promise(function(tt,nt){const rt=resolveConfig(_e);let it=rt.data;const ot=AxiosHeaders.from(rt.headers).normalize();let{responseType:st}=rt,ut;function ft(){rt.cancelToken&&rt.cancelToken.unsubscribe(ut),rt.signal&&rt.signal.removeEventListener("abort",ut)}let dt=new XMLHttpRequest;dt.open(rt.method.toUpperCase(),rt.url,!0),dt.timeout=rt.timeout;function lt(){if(!dt)return;const ct=AxiosHeaders.from("getAllResponseHeaders"in dt&&dt.getAllResponseHeaders()),pt={data:!st||st==="text"||st==="json"?dt.responseText:dt.response,status:dt.status,statusText:dt.statusText,headers:ct,config:_e,request:dt};settle(function(gt){tt(gt),ft()},function(gt){nt(gt),ft()},pt),dt=null}"onloadend"in dt?dt.onloadend=lt:dt.onreadystatechange=function(){!dt||dt.readyState!==4||dt.status===0&&!(dt.responseURL&&dt.responseURL.indexOf("file:")===0)||setTimeout(lt)},dt.onabort=function(){dt&&(nt(new AxiosError("Request aborted",AxiosError.ECONNABORTED,rt,dt)),dt=null)},dt.onerror=function(){nt(new AxiosError("Network Error",AxiosError.ERR_NETWORK,rt,dt)),dt=null},dt.ontimeout=function(){let ht=rt.timeout?"timeout of "+rt.timeout+"ms exceeded":"timeout exceeded";const pt=rt.transitional||transitionalDefaults;rt.timeoutErrorMessage&&(ht=rt.timeoutErrorMessage),nt(new AxiosError(ht,pt.clarifyTimeoutError?AxiosError.ETIMEDOUT:AxiosError.ECONNABORTED,rt,dt)),dt=null},it===void 0&&ot.setContentType(null),"setRequestHeader"in dt&&utils$3.forEach(ot.toJSON(),function(ht,pt){dt.setRequestHeader(pt,ht)}),utils$3.isUndefined(rt.withCredentials)||(dt.withCredentials=!!rt.withCredentials),st&&st!=="json"&&(dt.responseType=rt.responseType),typeof rt.onDownloadProgress=="function"&&dt.addEventListener("progress",progressEventReducer(rt.onDownloadProgress,!0)),typeof rt.onUploadProgress=="function"&&dt.upload&&dt.upload.addEventListener("progress",progressEventReducer(rt.onUploadProgress)),(rt.cancelToken||rt.signal)&&(ut=ct=>{dt&&(nt(!ct||ct.type?new CanceledError(null,_e,dt):ct),dt.abort(),dt=null)},rt.cancelToken&&rt.cancelToken.subscribe(ut),rt.signal&&(rt.signal.aborted?ut():rt.signal.addEventListener("abort",ut)));const at=parseProtocol(rt.url);if(at&&platform$1.protocols.indexOf(at)===-1){nt(new AxiosError("Unsupported protocol "+at+":",AxiosError.ERR_BAD_REQUEST,_e));return}dt.send(it||null)})},composeSignals=(_e,et)=>{let tt=new AbortController,nt;const rt=function(ut){if(!nt){nt=!0,ot();const ft=ut instanceof Error?ut:this.reason;tt.abort(ft instanceof AxiosError?ft:new CanceledError(ft instanceof Error?ft.message:ft))}};let it=et&&setTimeout(()=>{rt(new AxiosError(`timeout ${et} of ms exceeded`,AxiosError.ETIMEDOUT))},et);const ot=()=>{_e&&(it&&clearTimeout(it),it=null,_e.forEach(ut=>{ut&&(ut.removeEventListener?ut.removeEventListener("abort",rt):ut.unsubscribe(rt))}),_e=null)};_e.forEach(ut=>ut&&ut.addEventListener&&ut.addEventListener("abort",rt));const{signal:st}=tt;return st.unsubscribe=ot,[st,()=>{it&&clearTimeout(it),it=null}]},streamChunk=function*(_e,et){let tt=_e.byteLength;if(!et||tt<et){yield _e;return}let nt=0,rt;for(;nt<tt;)rt=nt+et,yield _e.slice(nt,rt),nt=rt},readBytes=async function*(_e,et,tt){for await(const nt of _e)yield*streamChunk(ArrayBuffer.isView(nt)?nt:await tt(String(nt)),et)},trackStream=(_e,et,tt,nt,rt)=>{const it=readBytes(_e,et,rt);let ot=0;return new ReadableStream({type:"bytes",async pull(st){const{done:ut,value:ft}=await it.next();if(ut){st.close(),nt();return}let dt=ft.byteLength;tt&&tt(ot+=dt),st.enqueue(new Uint8Array(ft))},cancel(st){return nt(st),it.return()}},{highWaterMark:2})},fetchProgressDecorator=(_e,et)=>{const tt=_e!=null;return nt=>setTimeout(()=>et({lengthComputable:tt,total:_e,loaded:nt}))},isFetchSupported=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",isReadableStreamSupported=isFetchSupported&&typeof ReadableStream=="function",encodeText=isFetchSupported&&(typeof TextEncoder=="function"?(_e=>et=>_e.encode(et))(new TextEncoder):async _e=>new Uint8Array(await new Response(_e).arrayBuffer())),supportsRequestStream=isReadableStreamSupported&&(()=>{let _e=!1;const et=new Request(platform$1.origin,{body:new ReadableStream,method:"POST",get duplex(){return _e=!0,"half"}}).headers.has("Content-Type");return _e&&!et})(),DEFAULT_CHUNK_SIZE=64*1024,supportsResponseStream=isReadableStreamSupported&&!!(()=>{try{return utils$3.isReadableStream(new Response("").body)}catch{}})(),resolvers={stream:supportsResponseStream&&(_e=>_e.body)};isFetchSupported&&(_e=>{["text","arrayBuffer","blob","formData","stream"].forEach(et=>{!resolvers[et]&&(resolvers[et]=utils$3.isFunction(_e[et])?tt=>tt[et]():(tt,nt)=>{throw new AxiosError(`Response type '${et}' is not supported`,AxiosError.ERR_NOT_SUPPORT,nt)})})})(new Response);const getBodyLength=async _e=>{if(_e==null)return 0;if(utils$3.isBlob(_e))return _e.size;if(utils$3.isSpecCompliantForm(_e))return(await new Request(_e).arrayBuffer()).byteLength;if(utils$3.isArrayBufferView(_e))return _e.byteLength;if(utils$3.isURLSearchParams(_e)&&(_e=_e+""),utils$3.isString(_e))return(await encodeText(_e)).byteLength},resolveBodyLength=async(_e,et)=>{const tt=utils$3.toFiniteNumber(_e.getContentLength());return tt??getBodyLength(et)},fetchAdapter=isFetchSupported&&(async _e=>{let{url:et,method:tt,data:nt,signal:rt,cancelToken:it,timeout:ot,onDownloadProgress:st,onUploadProgress:ut,responseType:ft,headers:dt,withCredentials:lt="same-origin",fetchOptions:at}=resolveConfig(_e);ft=ft?(ft+"").toLowerCase():"text";let[ct,ht]=rt||it||ot?composeSignals([rt,it],ot):[],pt,mt;const gt=()=>{!pt&&setTimeout(()=>{ct&&ct.unsubscribe()}),pt=!0};let yt;try{if(ut&&supportsRequestStream&&tt!=="get"&&tt!=="head"&&(yt=await resolveBodyLength(dt,nt))!==0){let wt=new Request(et,{method:"POST",body:nt,duplex:"half"}),_t;utils$3.isFormData(nt)&&(_t=wt.headers.get("content-type"))&&dt.setContentType(_t),wt.body&&(nt=trackStream(wt.body,DEFAULT_CHUNK_SIZE,fetchProgressDecorator(yt,progressEventReducer(ut)),null,encodeText))}utils$3.isString(lt)||(lt=lt?"cors":"omit"),mt=new Request(et,{...at,signal:ct,method:tt.toUpperCase(),headers:dt.normalize().toJSON(),body:nt,duplex:"half",withCredentials:lt});let bt=await fetch(mt);const xt=supportsResponseStream&&(ft==="stream"||ft==="response");if(supportsResponseStream&&(st||xt)){const wt={};["status","statusText","headers"].forEach(Ct=>{wt[Ct]=bt[Ct]});const _t=utils$3.toFiniteNumber(bt.headers.get("content-length"));bt=new Response(trackStream(bt.body,DEFAULT_CHUNK_SIZE,st&&fetchProgressDecorator(_t,progressEventReducer(st,!0)),xt&&gt,encodeText),wt)}ft=ft||"text";let vt=await resolvers[utils$3.findKey(resolvers,ft)||"text"](bt,_e);return!xt&&gt(),ht&&ht(),await new Promise((wt,_t)=>{settle(wt,_t,{data:vt,headers:AxiosHeaders.from(bt.headers),status:bt.status,statusText:bt.statusText,config:_e,request:mt})})}catch(bt){throw gt(),bt&&bt.name==="TypeError"&&/fetch/i.test(bt.message)?Object.assign(new AxiosError("Network Error",AxiosError.ERR_NETWORK,_e,mt),{cause:bt.cause||bt}):AxiosError.from(bt,bt&&bt.code,_e,mt)}}),knownAdapters={http:httpAdapter,xhr:xhrAdapter,fetch:fetchAdapter};utils$3.forEach(knownAdapters,(_e,et)=>{if(_e){try{Object.defineProperty(_e,"name",{value:et})}catch{}Object.defineProperty(_e,"adapterName",{value:et})}});const renderReason=_e=>`- ${_e}`,isResolvedHandle=_e=>utils$3.isFunction(_e)||_e===null||_e===!1,adapters={getAdapter:_e=>{_e=utils$3.isArray(_e)?_e:[_e];const{length:et}=_e;let tt,nt;const rt={};for(let it=0;it<et;it++){tt=_e[it];let ot;if(nt=tt,!isResolvedHandle(tt)&&(nt=knownAdapters[(ot=String(tt)).toLowerCase()],nt===void 0))throw new AxiosError(`Unknown adapter '${ot}'`);if(nt)break;rt[ot||"#"+it]=nt}if(!nt){const it=Object.entries(rt).map(([st,ut])=>`adapter ${st} `+(ut===!1?"is not supported by the environment":"is not available in the build"));let ot=et?it.length>1?`since :
`+it.map(renderReason).join(`
`):" "+renderReason(it[0]):"as no adapter specified";throw new AxiosError("There is no suitable adapter to dispatch the request "+ot,"ERR_NOT_SUPPORT")}return nt},adapters:knownAdapters};function throwIfCancellationRequested(_e){if(_e.cancelToken&&_e.cancelToken.throwIfRequested(),_e.signal&&_e.signal.aborted)throw new CanceledError(null,_e)}function dispatchRequest(_e){return throwIfCancellationRequested(_e),_e.headers=AxiosHeaders.from(_e.headers),_e.data=transformData.call(_e,_e.transformRequest),["post","put","patch"].indexOf(_e.method)!==-1&&_e.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(_e.adapter||defaults$1.adapter)(_e).then(function(nt){return throwIfCancellationRequested(_e),nt.data=transformData.call(_e,_e.transformResponse,nt),nt.headers=AxiosHeaders.from(nt.headers),nt},function(nt){return isCancel(nt)||(throwIfCancellationRequested(_e),nt&&nt.response&&(nt.response.data=transformData.call(_e,_e.transformResponse,nt.response),nt.response.headers=AxiosHeaders.from(nt.response.headers))),Promise.reject(nt)})}const VERSION="1.7.2",validators$1={};["object","boolean","number","function","string","symbol"].forEach((_e,et)=>{validators$1[_e]=function(nt){return typeof nt===_e||"a"+(et<1?"n ":" ")+_e}});const deprecatedWarnings={};validators$1.transitional=function _e(et,tt,nt){function rt(it,ot){return"[Axios v"+VERSION+"] Transitional option '"+it+"'"+ot+(nt?". "+nt:"")}return(it,ot,st)=>{if(et===!1)throw new AxiosError(rt(ot," has been removed"+(tt?" in "+tt:"")),AxiosError.ERR_DEPRECATED);return tt&&!deprecatedWarnings[ot]&&(deprecatedWarnings[ot]=!0,console.warn(rt(ot," has been deprecated since v"+tt+" and will be removed in the near future"))),et?et(it,ot,st):!0}};function assertOptions(_e,et,tt){if(typeof _e!="object")throw new AxiosError("options must be an object",AxiosError.ERR_BAD_OPTION_VALUE);const nt=Object.keys(_e);let rt=nt.length;for(;rt-- >0;){const it=nt[rt],ot=et[it];if(ot){const st=_e[it],ut=st===void 0||ot(st,it,_e);if(ut!==!0)throw new AxiosError("option "+it+" must be "+ut,AxiosError.ERR_BAD_OPTION_VALUE);continue}if(tt!==!0)throw new AxiosError("Unknown option "+it,AxiosError.ERR_BAD_OPTION)}}const validator={assertOptions,validators:validators$1},validators=validator.validators;class Axios{constructor(et){this.defaults=et,this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}async request(et,tt){try{return await this._request(et,tt)}catch(nt){if(nt instanceof Error){let rt;Error.captureStackTrace?Error.captureStackTrace(rt={}):rt=new Error;const it=rt.stack?rt.stack.replace(/^.+\n/,""):"";try{nt.stack?it&&!String(nt.stack).endsWith(it.replace(/^.+\n.+\n/,""))&&(nt.stack+=`
`+it):nt.stack=it}catch{}}throw nt}}_request(et,tt){typeof et=="string"?(tt=tt||{},tt.url=et):tt=et||{},tt=mergeConfig(this.defaults,tt);const{transitional:nt,paramsSerializer:rt,headers:it}=tt;nt!==void 0&&validator.assertOptions(nt,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),rt!=null&&(utils$3.isFunction(rt)?tt.paramsSerializer={serialize:rt}:validator.assertOptions(rt,{encode:validators.function,serialize:validators.function},!0)),tt.method=(tt.method||this.defaults.method||"get").toLowerCase();let ot=it&&utils$3.merge(it.common,it[tt.method]);it&&utils$3.forEach(["delete","get","head","post","put","patch","common"],ht=>{delete it[ht]}),tt.headers=AxiosHeaders.concat(ot,it);const st=[];let ut=!0;this.interceptors.request.forEach(function(pt){typeof pt.runWhen=="function"&&pt.runWhen(tt)===!1||(ut=ut&&pt.synchronous,st.unshift(pt.fulfilled,pt.rejected))});const ft=[];this.interceptors.response.forEach(function(pt){ft.push(pt.fulfilled,pt.rejected)});let dt,lt=0,at;if(!ut){const ht=[dispatchRequest.bind(this),void 0];for(ht.unshift.apply(ht,st),ht.push.apply(ht,ft),at=ht.length,dt=Promise.resolve(tt);lt<at;)dt=dt.then(ht[lt++],ht[lt++]);return dt}at=st.length;let ct=tt;for(lt=0;lt<at;){const ht=st[lt++],pt=st[lt++];try{ct=ht(ct)}catch(mt){pt.call(this,mt);break}}try{dt=dispatchRequest.call(this,ct)}catch(ht){return Promise.reject(ht)}for(lt=0,at=ft.length;lt<at;)dt=dt.then(ft[lt++],ft[lt++]);return dt}getUri(et){et=mergeConfig(this.defaults,et);const tt=buildFullPath(et.baseURL,et.url);return buildURL(tt,et.params,et.paramsSerializer)}}utils$3.forEach(["delete","get","head","options"],function _e(et){Axios.prototype[et]=function(tt,nt){return this.request(mergeConfig(nt||{},{method:et,url:tt,data:(nt||{}).data}))}});utils$3.forEach(["post","put","patch"],function _e(et){function tt(nt){return function(it,ot,st){return this.request(mergeConfig(st||{},{method:et,headers:nt?{"Content-Type":"multipart/form-data"}:{},url:it,data:ot}))}}Axios.prototype[et]=tt(),Axios.prototype[et+"Form"]=tt(!0)});class CancelToken{constructor(et){if(typeof et!="function")throw new TypeError("executor must be a function.");let tt;this.promise=new Promise(function(it){tt=it});const nt=this;this.promise.then(rt=>{if(!nt._listeners)return;let it=nt._listeners.length;for(;it-- >0;)nt._listeners[it](rt);nt._listeners=null}),this.promise.then=rt=>{let it;const ot=new Promise(st=>{nt.subscribe(st),it=st}).then(rt);return ot.cancel=function(){nt.unsubscribe(it)},ot},et(function(it,ot,st){nt.reason||(nt.reason=new CanceledError(it,ot,st),tt(nt.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(et){if(this.reason){et(this.reason);return}this._listeners?this._listeners.push(et):this._listeners=[et]}unsubscribe(et){if(!this._listeners)return;const tt=this._listeners.indexOf(et);tt!==-1&&this._listeners.splice(tt,1)}static source(){let et;return{token:new CancelToken(function(rt){et=rt}),cancel:et}}}function spread(_e){return function(tt){return _e.apply(null,tt)}}function isAxiosError(_e){return utils$3.isObject(_e)&&_e.isAxiosError===!0}const HttpStatusCode={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode).forEach(([_e,et])=>{HttpStatusCode[et]=_e});function createInstance(_e){const et=new Axios(_e),tt=bind(Axios.prototype.request,et);return utils$3.extend(tt,Axios.prototype,et,{allOwnKeys:!0}),utils$3.extend(tt,et,null,{allOwnKeys:!0}),tt.create=function(rt){return createInstance(mergeConfig(_e,rt))},tt}const axios=createInstance(defaults$1);axios.Axios=Axios;axios.CanceledError=CanceledError;axios.CancelToken=CancelToken;axios.isCancel=isCancel;axios.VERSION=VERSION;axios.toFormData=toFormData;axios.AxiosError=AxiosError;axios.Cancel=axios.CanceledError;axios.all=function _e(et){return Promise.all(et)};axios.spread=spread;axios.isAxiosError=isAxiosError;axios.mergeConfig=mergeConfig;axios.AxiosHeaders=AxiosHeaders;axios.formToJSON=_e=>formDataToJSON(utils$3.isHTMLForm(_e)?new FormData(_e):_e);axios.getAdapter=adapters.getAdapter;axios.HttpStatusCode=HttpStatusCode;axios.default=axios;function useGoogleLogin({clientId:_e,scopes:et,usePrompt:tt,loginButtonId:nt}){var rt=reactExports.useRef(null);const[it,ot]=reactExports.useState(null),[st,ut]=reactExports.useState(null),[ft,dt]=reactExports.useState(null);var lt=reactExports.useRef(null);function at(wt){var _t=["email"],Ct=Array.isArray(et)?et:_t;Array.isArray(wt)&&wt.forEach(function(Et){Ct.push(Et)}),rt.current=window.google.accounts.oauth2.initTokenClient({client_id:_e,prompt:"",scope:Ct.join(" "),callback:Et=>{ut(Et),localStorage.setItem("google_login_user","1"),Et.expires_in>0&&(clearTimeout(lt.current),lt.current=setTimeout(function(){gt()},Et.expires_in*999))}})}function ct(){rt.current&&rt.current.requestAccessToken()}function ht(){ot(null);try{window.google.accounts.oauth2.revoke(st.current,()=>{console.log("access token revoked")})}catch{}ut(null),localStorage.setItem("google_login_user","")}function pt(){console.log("login"),at(),ct()}function mt(){return ht()}function gt(wt){localStorage.getItem("google_login_user")&&setTimeout(function(){at(wt),ct()},1e3)}function yt(wt){dt(wt.credential);var _t=jwtDecode(wt.credential);ot({email:_t.email,family_name:_t.family_name,given_name:_t.given_name,name:_t.name,picture:_t.picture}),localStorage.setItem("google_login_user",_t.email),at(),ct()}function bt(){return new Promise(function(wt,_t){var Ct=st;st&&st.access_token&&(Ct.access_token="broken",ut(Ct))})}function xt(wt){return new Promise(function(_t,Ct){if(wt){var Et="https://www.googleapis.com/oauth2/v3/userinfo?access_token="+wt.access_token;axios({method:"get",url:Et,headers:{Authorization:"Bearer "+wt.access_token}}).then(function($t){_t($t.data)}).catch(function($t){console.log($t),_t()})}else _t()})}function vt(wt){return new Promise(function(_t,Ct){if(wt&&it&&it.picture){var Et=it.picture;axios({method:"get",url:Et,headers:{Authorization:"Bearer "+wt.access_token}}).then(function($t){_t($t.data)}).catch(function($t){console.log($t),_t()})}else _t()})}return reactExports.useEffect(function(){window.onload=function(){window.google.accounts.id.initialize({client_id:_e,callback:yt}),window.google.accounts.id.renderButton(document.getElementById(nt),{theme:"outline",size:"large"}),tt&&window.google.accounts.id.prompt(),gt()}},[]),reactExports.useEffect(function(){xt(st).then(function(wt){ot(wt)})},[st]),{user:it,token:st,login:pt,logout:mt,refresh:gt,loadUserImage:vt,breakLoginToken:bt}}function useAudioPlayQueue({forceRefresh:_e,onStopPlaying:et,onStartPlaying:tt,onFinishedPlaying:nt,onError:rt}){let it=1,ot=reactExports.useRef(!1);function st(wt){ot.current=wt}const ut=useUtils();let ft=reactExports.useRef({}),dt=reactExports.useRef(),lt=reactExports.useRef([]);const[at,ct]=reactExports.useState(!1),ht=reactExports.useRef(!1);function pt(wt){ht.current=wt,ct(wt)}function mt(){pt(!0),dt.current&&(dt.current.volume=0),_e()}function gt(){pt(!1),dt.current&&(dt.current.volume=1),_e()}function yt(){et&&et(),st(!1),lt.current=[],dt.current&&dt.current.pause()}function bt(wt,_t){return new Promise((Ct,Et)=>{try{fetch(wt).then(function($t){$t.blob().then(function(jt){const Dt=new FileReader;Dt.onloadend=()=>{Ct(Dt.result,_t)},Dt.onerror=Et,Dt.readAsDataURL(jt)}).catch(function(jt){console.log(jt)})}).catch(function($t){console.log($t)})}catch($t){console.error("Error:",$t),Ct(null)}})}const xt=reactExports.useRef();function vt(wt,_t,Ct,Et="",$t="",jt=""){let Dt=ut.stripCodeParts(wt),Pt=ut.generateRandomId();return lt.current.push(Pt),new Promise(function(kt,At){function Tt(){if(!ot.current||Et)if(clearTimeout(xt.current),lt.current.length>0){let St=lt.current[0],Rt=ft.current[St];St&&!Rt?xt.current=setTimeout(function(){Tt()},200):St&&Rt&&(ot.current=!0,lt.current=lt.current.slice(1),dt.current.src=Rt,dt.current.pause(),dt.current.load(),dt.current.playbackRate=jt>=.25&&jt<=2?jt:it,setTimeout(function(){tt&&tt(),dt.current.play().catch(function(Ot){console.log(Ot)})},100))}else ot.current=!1,ft.current={},nt&&nt(),kt();else xt.current=setTimeout(function(){Tt()},200)}if(ht.current&&kt(),dt.current=new Audio,dt.current.playbackRate=jt>=.25&&jt<=2?jt:it,dt.current.volume=ht.current?0:1,dt.current.addEventListener("canplaythrough",St=>{tt&&tt(),dt.current.play().catch(function(Rt){console.log(Rt)})}),dt.current.addEventListener("ended",St=>{ot.current=!1,Tt()}),dt.current.addEventListener("error",St=>{ot.current=!1,rt&&rt(St),kt()}),ht.current)kt();else if(Dt&&(Et==="self_hosted"||!Et&&_t&&_t.tts&&_t.tts.use==="self_hosted"&&_t.tts.self_hosted_url)){let St=_t.tts.self_hosted_url+"/api/tts?text="+Dt+"&speaker_id="+($t||(_t.tts&&_t.tts.speaker_id?_t.tts.speaker_id:"p299"))+"&style_wav=&language_id=";bt(St,Pt).then(function(Rt){ft.current[Pt]=Rt,Tt()})}else Dt&&(Et==="openai"||!Et&&_t&&_t.tts&&_t.tts.use==="openai"&&_t.tts.openai_key)?Ct.aiTts.speak(_t.tts.openai_key,Dt,$t||(_t.tts&&_t.tts.openai_voice?_t.tts.openai_voice:"alloy"),jt).then(function(St){ft.current[Pt]=St,Tt()}):Dt&&(Et==="web_speech"||!Et&&_t&&_t.tts&&_t.tts.use==="web_speech")?Ct.webSpeechTts.speak(Dt).then(function(){kt()}):Dt&&(Et==="me_speak"||!Et&&_t&&_t.tts&&_t.tts.use==="me_speak")?Ct.meSpeakTts.speak(Dt).then(function(St){ft.current[Pt]=St,Tt()}):kt()})}return{mute:mt,unmute:gt,stopPlaying:yt,queueSpeech:vt,getUrl:bt,isPlaying:ot,setIsPlaying:st,isMuted:at,isMutedRef:ht,urlAudioPlayer:dt}}function useChatHistoryManager({utils:_e,forceRefresh:et,doSave:tt,currentRole:nt}){const[rt,it]=reactExports.useState(""),ot=reactExports.useRef("");function st(Et){ot.current=Et,it(Et),localStorage.setItem("voice2llm_chat_history_id",Et),tt()}const[ut,ft]=reactExports.useState({}),dt=reactExports.useRef({});function lt(Et){dt.current=Et,ft(Et),localStorage.setItem("voice2llm_chat_histories",JSON.stringify(Et)),tt()}function at(){if(ot.current&&dt.current)return dt.current[ot.current]}function ct(Et){let $t=at();$t=$t||[],dt.current||(dt.current={}),ot.current||st(_e.generateRandomId()),dt.current[ot.current]||(dt.current[ot.current]=$t),Et&&($t.push({role:"user",content:Et}),dt.current[ot.current]=$t),lt(dt.current),et()}function ht(Et,$t,jt){$t&&ot.current&&dt.current&&dt.current[ot.current]&&dt.current[ot.current][Et]&&(dt.current[ot.current][Et].content=$t,dt.current[ot.current][Et].log=jt,lt(dt.current),et())}function pt(Et){let $t=at();$t=$t||[],dt.current||(dt.current={}),rt||st(_e.generateRandomId()),dt.current[ot.current]||(dt.current[ot.current]=$t),$t.push({role:"assistant",content:Et}),dt.current[ot.current]=$t,lt(dt.current),et()}function mt(Et){let $t=at();if($t){let jt=JSON.parse(JSON.stringify($t)).reverse();for(let Dt in jt)if(Dt&&jt[Dt]&&jt[Dt].role===Et)return jt.length-Dt-1}return-1}function gt(Et,$t){let jt=mt("assistant");jt!==-1?ht(jt,Et,$t):pt(Et)}function yt(Et){let $t=mt("user");$t!==-1?ht($t,Et):ct(Et)}function bt(){let Et=mt("user"),$t=at();if($t&&Et!==-1&&$t[Et])return $t[Et].content}function xt(){let Et=mt("assistant"),$t=at();if($t&&Et!==-1&&$t[Et])return $t[Et].content}function vt(){at(),st("")}function wt(Et=null){let $t=at(),jt="";if($t){let Dt=0,Pt=$t.length;for(;$t.length>0&&Pt-Dt>Et;){let kt=$t.pop();if(Dt+=1,kt.role==="assistant"){let At=$t.pop();Dt+=1,jt=At.content}else kt.role==="user"&&(jt=kt.content)}}return jt}function _t(Et){delete dt.current[Et],lt(dt.current),et()}function Ct(Et){if(dt.current[Et]){let $t=JSON.parse(JSON.stringify(dt.current[Et]));dt.current[_e.generateRandomId()]=$t,lt(dt.current),et()}}return reactExports.useEffect(function(){try{let Et=localStorage.getItem("voice2llm_chat_history_id"),$t=JSON.parse(localStorage.getItem("voice2llm_chat_histories"));lt($t),Et&&st(Et),et()}catch{lt({}),et()}},[]),{chatHistoriesRef:dt,chatHistoryId:rt,chatHistoryIdRef:ot,setChatHistoryId:st,chatHistories:ut,setChatHistories:lt,currentChatHistory:at,newChatHistory:vt,addUserMessage:ct,addAssistantMessage:pt,setLastAssistantMessage:gt,setLastUserMessage:yt,getLastUserMessage:bt,revertChatHistory:wt,deleteChatHistory:_t,duplicateChatHistory:Ct,getLastAssistantChatIndex:mt,getLastAssistantMessage:xt}}function useConfigManager({config:_e,token:et}){function tt(){return _e&&_e.tools&&_e.tools.piston_url?_e.tools.piston_url:"https://emkc.org/api/v2/piston"}return{codeRunnerEndpoint:tt}}function useOpenAiTts({aiUsage:_e}){const[et,tt]=reactExports.useState(!1);function nt(it){return new Promise((ot,st)=>{const ut=new FileReader;ut.onloadend=()=>ot(ut.result),ut.onerror=st,ut.readAsDataURL(it)})}function rt(it,ot,st="alloy"){return new Promise(function(ut,ft){ot||ut(),tt(!0);let dt={model:"tts-1",input:ot,voice:st};try{fetch("https://api.openai.com/v1/audio/speech",{method:"POST",headers:{Authorization:"Bearer "+it,"Content-Type":"application/json"},body:JSON.stringify(dt)}).then(function(lt){if(!lt.ok)throw new Error("Failed to generate audio");_e.logTTS({letters:ot.length,key:it,model:"tts-1"}),lt.blob().then(function(at){nt(at).then(function(ct){tt(!1),ut(ct)})})})}catch(lt){console.error("Speech generateion error:",lt),ut()}})}return{speak:rt}}function useMeSpeakTts({onReady:_e}){const[et,tt]=reactExports.useState(!1),[nt,rt]=reactExports.useState(!1);function it(st,ut=1,ft=1,dt=0){return new Promise(function(lt,at){lt()})}function ot(){}return{isBusy:et,isSpeaking:nt,speak:it,stop:ot}}function useWebSpeechTts({onReady:_e,forceRefresh:et}){const[tt,nt]=reactExports.useState(!1),[rt,it]=reactExports.useState(!1),[ot,st]=reactExports.useState([]);let ut="speechSynthesis"in window&&"SpeechSynthesisUtterance"in window,ft=window.speechSynthesis;reactExports.useEffect(function(){ut&&ft.getVoices()},[]),ft.addEventListener("voiceschanged",at=>{let ct=ft.getVoices();if(ct&&ct.length>0){let ht=ct.filter(function(pt){return pt.lang==="en"});st(ht.map(function(pt){return pt?pt.name:""})),et(),_e&&_e()}});function dt(at,ct=1,ht=1,pt=0){return new Promise(function(mt,gt){if(ut){nt(!0);let yt=new SpeechSynthesisUtterance(at);yt.voice=ft.getVoices()[pt],yt.pitch=ct,yt.rate=ht,ft.speak(yt),nt(!1),it(!0),yt.addEventListener("end",()=>{it(!1),mt()}),yt.addEventListener("error",()=>{it(!1),mt()})}else mt()})}function lt(){ut&&(it(!1),ft.cancel())}return{isBusy:tt,isSpeaking:rt,availableVoices:ot,speak:dt,stop:lt}}function useOpenAiUsageLogger(){const[_e,et]=reactExports.useState([]),tt=useUtils();function nt(dt){et(dt),dt.openai_log&&localStorage.setItem("openai_log",JSON.stringify(dt.openai_log)),dt.openai_log_stt&&localStorage.setItem("openai_log_stt",JSON.stringify(dt.openai_log_stt)),dt.openai_log_tts&&localStorage.setItem("openai_log_tts",JSON.stringify(dt.openai_log_tts))}reactExports.useEffect(function(){try{let dt=JSON.parse(localStorage.getItem("openai_log")),lt=JSON.parse(localStorage.getItem("openai_log_stt")),at=JSON.parse(localStorage.getItem("openai_log_tts"));nt({openai_log:dt,openai_log_stt:lt,openai_log_tts:at})}catch{}},[]);const[rt,it]=reactExports.useState({});function ot(dt=null,lt=null){return console.log("collate",dt,lt),{logs:{},grandTotals:{},tallies:{}}}function st({tokens_in:dt,tokens_out:lt,model:at,key:ct,url:ht}){let pt;try{pt=JSON.parse(localStorage.getItem("openai_log"))}catch{}Array.isArray(pt)||(pt=[]),pt.push({id:tt.generateRandomId(),date:new Date,tokens_in:dt,tokens_out:lt,model:at,key:ct,url:ht}),_e.openai_log=pt,nt(_e)}function ut({seconds:dt,model:lt,key:at}){let ct;try{ct=JSON.parse(localStorage.getItem("openai_log_stt"))}catch{}Array.isArray(ct)||(ct=[]),ct.push({id:tt.generateRandomId(),date:new Date,seconds:Math.round(dt),model:lt,key:at}),_e.openai_log_stt=ct,nt(_e)}function ft({letters:dt,model:lt,key:at}){let ct;try{ct=JSON.parse(localStorage.getItem("openai_log_tts"))}catch{}Array.isArray(ct)||(ct=[]),ct.push({id:tt.generateRandomId(),date:new Date,letters:dt,model:lt,key:at}),_e.openai_log_tts=ct,nt(_e)}return{totals:rt,log:st,logSTT:ut,logTTS:ft,logs:_e,setLogs:nt,collated:ot}}function useNameGenerator(){let _e=["Aaren","Aarika","Abagael","Abagail","Abbe","Abbey","Abbi","Abbie","Abby","Abbye","Abigael","Abigail","Abigale","Abra","Ada","Adah","Adaline","Adan","Adara","Adda","Addi","Addia","Addie","Addy","Adel","Adela","Adelaida","Adelaide","Adele","Adelheid","Adelice","Adelina","Adelind","Adeline","Adella","Adelle","Adena","Adey","Adi","Adiana","Adina","Adora","Adore","Adoree","Adorne","Adrea","Adria","Adriaens","Adrian","Adriana","Adriane","Adrianna","Adrianne","Adriena","Adrienne","Aeriel","Aeriela","Aeriell","Afton","Ag","Agace","Agata","Agatha","Agathe","Aggi","Aggie","Aggy","Agna","Agnella","Agnes","Agnese","Agnesse","Agneta","Agnola","Agretha","Aida","Aidan","Aigneis","Aila","Aile","Ailee","Aileen","Ailene","Ailey","Aili","Ailina","Ailis","Ailsun","Ailyn","Aime","Aimee","Aimil","Aindrea","Ainslee","Ainsley","Ainslie","Ajay","Alaine","Alameda","Alana","Alanah","Alane","Alanna","Alayne","Alberta","Albertina","Albertine","Albina","Alecia","Aleda","Aleece","Aleen","Alejandra","Alejandrina","Alena","Alene","Alessandra","Aleta","Alethea","Alex","Alexa","Alexandra","Alexandrina","Alexi","Alexia","Alexina","Alexine","Alexis","Alfi","Alfie","Alfreda","Alfy","Ali","Alia","Alica","Alice","Alicea","Alicia","Alida","Alidia","Alie","Alika","Alikee","Alina","Aline","Alis","Alisa","Alisha","Alison","Alissa","Alisun","Alix","Aliza","Alla","Alleen","Allegra","Allene","Alli","Allianora","Allie","Allina","Allis","Allison","Allissa","Allix","Allsun","Allx","Ally","Allyce","Allyn","Allys","Allyson","Alma","Almeda","Almeria","Almeta","Almira","Almire","Aloise","Aloisia","Aloysia","Alta","Althea","Alvera","Alverta","Alvina","Alvinia","Alvira","Alyce","Alyda","Alys","Alysa","Alyse","Alysia","Alyson","Alyss","Alyssa","Amabel","Amabelle","Amalea","Amalee","Amaleta","Amalia","Amalie","Amalita","Amalle","Amanda","Amandi","Amandie","Amandy","Amara","Amargo","Amata","Amber","Amberly","Ambur","Ame","Amelia","Amelie","Amelina","Ameline","Amelita","Ami","Amie","Amii","Amil","Amitie","Amity","Ammamaria","Amy","Amye","Ana","Anabal","Anabel","Anabella","Anabelle","Analiese","Analise","Anallese","Anallise","Anastasia","Anastasie","Anastassia","Anatola","Andee","Andeee","Anderea","Andi","Andie","Andra","Andrea","Andreana","Andree","Andrei","Andria","Andriana","Andriette","Andromache","Andy","Anestassia","Anet","Anett","Anetta","Anette","Ange","Angel","Angela","Angele","Angelia","Angelica","Angelika","Angelina","Angeline","Angelique","Angelita","Angelle","Angie","Angil","Angy","Ania","Anica","Anissa","Anita","Anitra","Anjanette","Anjela","Ann","Ann-Marie","Anna","Anna-Diana","Anna-Diane","Anna-Maria","Annabal","Annabel","Annabela","Annabell","Annabella","Annabelle","Annadiana","Annadiane","Annalee","Annaliese","Annalise","Annamaria","Annamarie","Anne","Anne-Corinne","Anne-Marie","Annecorinne","Anneliese","Annelise","Annemarie","Annetta","Annette","Anni","Annice","Annie","Annis","Annissa","Annmaria","Annmarie","Annnora","Annora","Anny","Anselma","Ansley","Anstice","Anthe","Anthea","Anthia","Anthiathia","Antoinette","Antonella","Antonetta","Antonia","Antonie","Antonietta","Antonina","Anya","Appolonia","April","Aprilette","Ara","Arabel","Arabela","Arabele","Arabella","Arabelle","Arda","Ardath","Ardeen","Ardelia","Ardelis","Ardella","Ardelle","Arden","Ardene","Ardenia","Ardine","Ardis","Ardisj","Ardith","Ardra","Ardyce","Ardys","Ardyth","Aretha","Ariadne","Ariana","Aridatha","Ariel","Ariela","Ariella","Arielle","Arlana","Arlee","Arleen","Arlen","Arlena","Arlene","Arleta","Arlette","Arleyne","Arlie","Arliene","Arlina","Arlinda","Arline","Arluene","Arly","Arlyn","Arlyne","Aryn","Ashely","Ashia","Ashien","Ashil","Ashla","Ashlan","Ashlee","Ashleigh","Ashlen","Ashley","Ashli","Ashlie","Ashly","Asia","Astra","Astrid","Astrix","Atalanta","Athena","Athene","Atlanta","Atlante","Auberta","Aubine","Aubree","Aubrette","Aubrey","Aubrie","Aubry","Audi","Audie","Audra","Audre","Audrey","Audrie","Audry","Audrye","Audy","Augusta","Auguste","Augustina","Augustine","Aundrea","Aura","Aurea","Aurel","Aurelea","Aurelia","Aurelie","Auria","Aurie","Aurilia","Aurlie","Auroora","Aurora","Aurore","Austin","Austina","Austine","Ava","Aveline","Averil","Averyl","Avie","Avis","Aviva","Avivah","Avril","Avrit","Ayn","Bab","Babara","Babb","Babbette","Babbie","Babette","Babita","Babs","Bambi","Bambie","Bamby","Barb","Barbabra","Barbara","Barbara-Anne","Barbaraanne","Barbe","Barbee","Barbette","Barbey","Barbi","Barbie","Barbra","Barby","Bari","Barrie","Barry","Basia","Bathsheba","Batsheva","Bea","Beatrice","Beatrisa","Beatrix","Beatriz","Bebe","Becca","Becka","Becki","Beckie","Becky","Bee","Beilul","Beitris","Bekki","Bel","Belia","Belicia","Belinda","Belita","Bell","Bella","Bellanca","Belle","Bellina","Belva","Belvia","Bendite","Benedetta","Benedicta","Benedikta","Benetta","Benita","Benni","Bennie","Benny","Benoite","Berenice","Beret","Berget","Berna","Bernadene","Bernadette","Bernadina","Bernadine","Bernardina","Bernardine","Bernelle","Bernete","Bernetta","Bernette","Berni","Bernice","Bernie","Bernita","Berny","Berri","Berrie","Berry","Bert","Berta","Berte","Bertha","Berthe","Berti","Bertie","Bertina","Bertine","Berty","Beryl","Beryle","Bess","Bessie","Bessy","Beth","Bethanne","Bethany","Bethena","Bethina","Betsey","Betsy","Betta","Bette","Bette-Ann","Betteann","Betteanne","Betti","Bettina","Bettine","Betty","Bettye","Beulah","Bev","Beverie","Beverlee","Beverley","Beverlie","Beverly","Bevvy","Bianca","Bianka","Bibbie","Bibby","Bibbye","Bibi","Biddie","Biddy","Bidget","Bili","Bill","Billi","Billie","Billy","Billye","Binni","Binnie","Binny","Bird","Birdie","Birgit","Birgitta","Blair","Blaire","Blake","Blakelee","Blakeley","Blanca","Blanch","Blancha","Blanche","Blinni","Blinnie","Blinny","Bliss","Blisse","Blithe","Blondell","Blondelle","Blondie","Blondy","Blythe","Bobbe","Bobbee","Bobbette","Bobbi","Bobbie","Bobby","Bobbye","Bobette","Bobina","Bobine","Bobinette","Bonita","Bonnee","Bonni","Bonnibelle","Bonnie","Bonny","Brana","Brandais","Brande","Brandea","Brandi","Brandice","Brandie","Brandise","Brandy","Breanne","Brear","Bree","Breena","Bren","Brena","Brenda","Brenn","Brenna","Brett","Bria","Briana","Brianna","Brianne","Bride","Bridget","Bridgette","Bridie","Brier","Brietta","Brigid","Brigida","Brigit","Brigitta","Brigitte","Brina","Briney","Brinn","Brinna","Briny","Brit","Brita","Britney","Britni","Britt","Britta","Brittan","Brittaney","Brittani","Brittany","Britte","Britteny","Brittne","Brittney","Brittni","Brook","Brooke","Brooks","Brunhilda","Brunhilde","Bryana","Bryn","Bryna","Brynn","Brynna","Brynne","Buffy","Bunni","Bunnie","Bunny","Cacilia","Cacilie","Cahra","Cairistiona","Caitlin","Caitrin","Cal","Calida","Calla","Calley","Calli","Callida","Callie","Cally","Calypso","Cam","Camala","Camel","Camella","Camellia","Cami","Camila","Camile","Camilla","Camille","Cammi","Cammie","Cammy","Candace","Candi","Candice","Candida","Candide","Candie","Candis","Candra","Candy","Caprice","Cara","Caralie","Caren","Carena","Caresa","Caressa","Caresse","Carey","Cari","Caria","Carie","Caril","Carilyn","Carin","Carina","Carine","Cariotta","Carissa","Carita","Caritta","Carla","Carlee","Carleen","Carlen","Carlene","Carley","Carlie","Carlin","Carlina","Carline","Carlita","Carlota","Carlotta","Carly","Carlye","Carlyn","Carlynn","Carlynne","Carma","Carmel","Carmela","Carmelia","Carmelina","Carmelita","Carmella","Carmelle","Carmen","Carmencita","Carmina","Carmine","Carmita","Carmon","Caro","Carol","Carol-Jean","Carola","Carolan","Carolann","Carole","Carolee","Carolin","Carolina","Caroline","Caroljean","Carolyn","Carolyne","Carolynn","Caron","Carree","Carri","Carrie","Carrissa","Carroll","Carry","Cary","Caryl","Caryn","Casandra","Casey","Casi","Casie","Cass","Cassandra","Cassandre","Cassandry","Cassaundra","Cassey","Cassi","Cassie","Cassondra","Cassy","Catarina","Cate","Caterina","Catha","Catharina","Catharine","Cathe","Cathee","Catherin","Catherina","Catherine","Cathi","Cathie","Cathleen","Cathlene","Cathrin","Cathrine","Cathryn","Cathy","Cathyleen","Cati","Catie","Catina","Catlaina","Catlee","Catlin","Catrina","Catriona","Caty","Caye","Cayla","Cecelia","Cecil","Cecile","Ceciley","Cecilia","Cecilla","Cecily","Ceil","Cele","Celene","Celesta","Celeste","Celestia","Celestina","Celestine","Celestyn","Celestyna","Celia","Celie","Celina","Celinda","Celine","Celinka","Celisse","Celka","Celle","Cesya","Chad","Chanda","Chandal","Chandra","Channa","Chantal","Chantalle","Charil","Charin","Charis","Charissa","Charisse","Charita","Charity","Charla","Charlean","Charleen","Charlena","Charlene","Charline","Charlot","Charlotta","Charlotte","Charmain","Charmaine","Charmane","Charmian","Charmine","Charmion","Charo","Charyl","Chastity","Chelsae","Chelsea","Chelsey","Chelsie","Chelsy","Cher","Chere","Cherey","Cheri","Cherianne","Cherice","Cherida","Cherie","Cherilyn","Cherilynn","Cherin","Cherise","Cherish","Cherlyn","Cherri","Cherrita","Cherry","Chery","Cherye","Cheryl","Cheslie","Chiarra","Chickie","Chicky","Chiquia","Chiquita","Chlo","Chloe","Chloette","Chloris","Chris","Chrissie","Chrissy","Christa","Christabel","Christabella","Christal","Christalle","Christan","Christean","Christel","Christen","Christi","Christian","Christiana","Christiane","Christie","Christin","Christina","Christine","Christy","Christye","Christyna","Chrysa","Chrysler","Chrystal","Chryste","Chrystel","Cicely","Cicily","Ciel","Cilka","Cinda","Cindee","Cindelyn","Cinderella","Cindi","Cindie","Cindra","Cindy","Cinnamon","Cissiee","Cissy","Clair","Claire","Clara","Clarabelle","Clare","Claresta","Clareta","Claretta","Clarette","Clarey","Clari","Claribel","Clarice","Clarie","Clarinda","Clarine","Clarissa","Clarisse","Clarita","Clary","Claude","Claudelle","Claudetta","Claudette","Claudia","Claudie","Claudina","Claudine","Clea","Clem","Clemence","Clementia","Clementina","Clementine","Clemmie","Clemmy","Cleo","Cleopatra","Clerissa","Clio","Clo","Cloe","Cloris","Clotilda","Clovis","Codee","Codi","Codie","Cody","Coleen","Colene","Coletta","Colette","Colleen","Collen","Collete","Collette","Collie","Colline","Colly","Con","Concettina","Conchita","Concordia","Conni","Connie","Conny","Consolata","Constance","Constancia","Constancy","Constanta","Constantia","Constantina","Constantine","Consuela","Consuelo","Cookie","Cora","Corabel","Corabella","Corabelle","Coral","Coralie","Coraline","Coralyn","Cordelia","Cordelie","Cordey","Cordi","Cordie","Cordula","Cordy","Coreen","Corella","Corenda","Corene","Coretta","Corette","Corey","Cori","Corie","Corilla","Corina","Corine","Corinna","Corinne","Coriss","Corissa","Corliss","Corly","Cornela","Cornelia","Cornelle","Cornie","Corny","Correna","Correy","Corri","Corrianne","Corrie","Corrina","Corrine","Corrinne","Corry","Cortney","Cory","Cosetta","Cosette","Costanza","Courtenay","Courtnay","Courtney","Crin","Cris","Crissie","Crissy","Crista","Cristabel","Cristal","Cristen","Cristi","Cristie","Cristin","Cristina","Cristine","Cristionna","Cristy","Crysta","Crystal","Crystie","Cthrine","Cyb","Cybil","Cybill","Cymbre","Cynde","Cyndi","Cyndia","Cyndie","Cyndy","Cynthea","Cynthia","Cynthie","Cynthy","Dacey","Dacia","Dacie","Dacy","Dael","Daffi","Daffie","Daffy","Dagmar","Dahlia","Daile","Daisey","Daisi","Daisie","Daisy","Dale","Dalenna","Dalia","Dalila","Dallas","Daloris","Damara","Damaris","Damita","Dana","Danell","Danella","Danette","Dani","Dania","Danica","Danice","Daniela","Daniele","Daniella","Danielle","Danika","Danila","Danit","Danita","Danna","Danni","Dannie","Danny","Dannye","Danya","Danyelle","Danyette","Daphene","Daphna","Daphne","Dara","Darb","Darbie","Darby","Darcee","Darcey","Darci","Darcie","Darcy","Darda","Dareen","Darell","Darelle","Dari","Daria","Darice","Darla","Darleen","Darlene","Darline","Darlleen","Daron","Darrelle","Darryl","Darsey","Darsie","Darya","Daryl","Daryn","Dasha","Dasi","Dasie","Dasya","Datha","Daune","Daveen","Daveta","Davida","Davina","Davine","Davita","Dawn","Dawna","Dayle","Dayna","Ddene","De","Deana","Deane","Deanna","Deanne","Deb","Debbi","Debbie","Debby","Debee","Debera","Debi","Debor","Debora","Deborah","Debra","Dede","Dedie","Dedra","Dee","Dee Dee","Deeann","Deeanne","Deedee","Deena","Deerdre","Deeyn","Dehlia","Deidre","Deina","Deirdre","Del","Dela","Delcina","Delcine","Delia","Delila","Delilah","Delinda","Dell","Della","Delly","Delora","Delores","Deloria","Deloris","Delphine","Delphinia","Demeter","Demetra","Demetria","Demetris","Dena","Deni","Denice","Denise","Denna","Denni","Dennie","Denny","Deny","Denys","Denyse","Deonne","Desdemona","Desirae","Desiree","Desiri","Deva","Devan","Devi","Devin","Devina","Devinne","Devon","Devondra","Devonna","Devonne","Devora","Di","Diahann","Dian","Diana","Diandra","Diane","Diane-Marie","Dianemarie","Diann","Dianna","Dianne","Diannne","Didi","Dido","Diena","Dierdre","Dina","Dinah","Dinnie","Dinny","Dion","Dione","Dionis","Dionne","Dita","Dix","Dixie","Dniren","Dode","Dodi","Dodie","Dody","Doe","Doll","Dolley","Dolli","Dollie","Dolly","Dolores","Dolorita","Doloritas","Domeniga","Dominga","Domini","Dominica","Dominique","Dona","Donella","Donelle","Donetta","Donia","Donica","Donielle","Donna","Donnamarie","Donni","Donnie","Donny","Dora","Doralia","Doralin","Doralyn","Doralynn","Doralynne","Dore","Doreen","Dorelia","Dorella","Dorelle","Dorena","Dorene","Doretta","Dorette","Dorey","Dori","Doria","Dorian","Dorice","Dorie","Dorine","Doris","Dorisa","Dorise","Dorita","Doro","Dorolice","Dorolisa","Dorotea","Doroteya","Dorothea","Dorothee","Dorothy","Dorree","Dorri","Dorrie","Dorris","Dorry","Dorthea","Dorthy","Dory","Dosi","Dot","Doti","Dotti","Dottie","Dotty","Dre","Dreddy","Dredi","Drona","Dru","Druci","Drucie","Drucill","Drucy","Drusi","Drusie","Drusilla","Drusy","Dulce","Dulcea","Dulci","Dulcia","Dulciana","Dulcie","Dulcine","Dulcinea","Dulcy","Dulsea","Dusty","Dyan","Dyana","Dyane","Dyann","Dyanna","Dyanne","Dyna","Dynah","Eachelle","Eada","Eadie","Eadith","Ealasaid","Eartha","Easter","Eba","Ebba","Ebonee","Ebony","Eda","Eddi","Eddie","Eddy","Ede","Edee","Edeline","Eden","Edi","Edie","Edin","Edita","Edith","Editha","Edithe","Ediva","Edna","Edwina","Edy","Edyth","Edythe","Effie","Eileen","Eilis","Eimile","Eirena","Ekaterina","Elaina","Elaine","Elana","Elane","Elayne","Elberta","Elbertina","Elbertine","Eleanor","Eleanora","Eleanore","Electra","Eleen","Elena","Elene","Eleni","Elenore","Eleonora","Eleonore","Elfie","Elfreda","Elfrida","Elfrieda","Elga","Elianora","Elianore","Elicia","Elie","Elinor","Elinore","Elisa","Elisabet","Elisabeth","Elisabetta","Elise","Elisha","Elissa","Elita","Eliza","Elizabet","Elizabeth","Elka","Elke","Ella","Elladine","Elle","Ellen","Ellene","Ellette","Elli","Ellie","Ellissa","Elly","Ellyn","Ellynn","Elmira","Elna","Elnora","Elnore","Eloisa","Eloise","Elonore","Elora","Elsa","Elsbeth","Else","Elset","Elsey","Elsi","Elsie","Elsinore","Elspeth","Elsy","Elva","Elvera","Elvina","Elvira","Elwira","Elyn","Elyse","Elysee","Elysha","Elysia","Elyssa","Em","Ema","Emalee","Emalia","Emelda","Emelia","Emelina","Emeline","Emelita","Emelyne","Emera","Emilee","Emili","Emilia","Emilie","Emiline","Emily","Emlyn","Emlynn","Emlynne","Emma","Emmalee","Emmaline","Emmalyn","Emmalynn","Emmalynne","Emmeline","Emmey","Emmi","Emmie","Emmy","Emmye","Emogene","Emyle","Emylee","Engracia","Enid","Enrica","Enrichetta","Enrika","Enriqueta","Eolanda","Eolande","Eran","Erda","Erena","Erica","Ericha","Ericka","Erika","Erin","Erina","Erinn","Erinna","Erma","Ermengarde","Ermentrude","Ermina","Erminia","Erminie","Erna","Ernaline","Ernesta","Ernestine","Ertha","Eryn","Esma","Esmaria","Esme","Esmeralda","Essa","Essie","Essy","Esta","Estel","Estele","Estell","Estella","Estelle","Ester","Esther","Estrella","Estrellita","Ethel","Ethelda","Ethelin","Ethelind","Etheline","Ethelyn","Ethyl","Etta","Etti","Ettie","Etty","Eudora","Eugenia","Eugenie","Eugine","Eula","Eulalie","Eunice","Euphemia","Eustacia","Eva","Evaleen","Evangelia","Evangelin","Evangelina","Evangeline","Evania","Evanne","Eve","Eveleen","Evelina","Eveline","Evelyn","Evey","Evie","Evita","Evonne","Evvie","Evvy","Evy","Eyde","Eydie","Ezmeralda","Fae","Faina","Faith","Fallon","Fan","Fanchette","Fanchon","Fancie","Fancy","Fanechka","Fania","Fanni","Fannie","Fanny","Fanya","Fara","Farah","Farand","Farica","Farra","Farrah","Farrand","Faun","Faunie","Faustina","Faustine","Fawn","Fawne","Fawnia","Fay","Faydra","Faye","Fayette","Fayina","Fayre","Fayth","Faythe","Federica","Fedora","Felecia","Felicdad","Felice","Felicia","Felicity","Felicle","Felipa","Felisha","Felita","Feliza","Fenelia","Feodora","Ferdinanda","Ferdinande","Fern","Fernanda","Fernande","Fernandina","Ferne","Fey","Fiann","Fianna","Fidela","Fidelia","Fidelity","Fifi","Fifine","Filia","Filide","Filippa","Fina","Fiona","Fionna","Fionnula","Fiorenze","Fleur","Fleurette","Flo","Flor","Flora","Florance","Flore","Florella","Florence","Florencia","Florentia","Florenza","Florette","Flori","Floria","Florida","Florie","Florina","Florinda","Floris","Florri","Florrie","Florry","Flory","Flossi","Flossie","Flossy","Flss","Fran","Francene","Frances","Francesca","Francine","Francisca","Franciska","Francoise","Francyne","Frank","Frankie","Franky","Franni","Frannie","Franny","Frayda","Fred","Freda","Freddi","Freddie","Freddy","Fredelia","Frederica","Fredericka","Frederique","Fredi","Fredia","Fredra","Fredrika","Freida","Frieda","Friederike","Fulvia","Gabbey","Gabbi","Gabbie","Gabey","Gabi","Gabie","Gabriel","Gabriela","Gabriell","Gabriella","Gabrielle","Gabriellia","Gabrila","Gaby","Gae","Gael","Gail","Gale","Galina","Garland","Garnet","Garnette","Gates","Gavra","Gavrielle","Gay","Gaye","Gayel","Gayla","Gayle","Gayleen","Gaylene","Gaynor","Gelya","Gena","Gene","Geneva","Genevieve","Genevra","Genia","Genna","Genni","Gennie","Gennifer","Genny","Genovera","Genvieve","George","Georgeanna","Georgeanne","Georgena","Georgeta","Georgetta","Georgette","Georgia","Georgiana","Georgianna","Georgianne","Georgie","Georgina","Georgine","Geralda","Geraldine","Gerda","Gerhardine","Geri","Gerianna","Gerianne","Gerladina","Germain","Germaine","Germana","Gerri","Gerrie","Gerrilee","Gerry","Gert","Gerta","Gerti","Gertie","Gertrud","Gertruda","Gertrude","Gertrudis","Gerty","Giacinta","Giana","Gianina","Gianna","Gigi","Gilberta","Gilberte","Gilbertina","Gilbertine","Gilda","Gilemette","Gill","Gillan","Gilli","Gillian","Gillie","Gilligan","Gilly","Gina","Ginelle","Ginevra","Ginger","Ginni","Ginnie","Ginnifer","Ginny","Giorgia","Giovanna","Gipsy","Giralda","Gisela","Gisele","Gisella","Giselle","Giuditta","Giulia","Giulietta","Giustina","Gizela","Glad","Gladi","Gladys","Gleda","Glen","Glenda","Glenine","Glenn","Glenna","Glennie","Glennis","Glori","Gloria","Gloriana","Gloriane","Glory","Glyn","Glynda","Glynis","Glynnis","Gnni","Godiva","Golda","Goldarina","Goldi","Goldia","Goldie","Goldina","Goldy","Grace","Gracia","Gracie","Grata","Gratia","Gratiana","Gray","Grayce","Grazia","Greer","Greta","Gretal","Gretchen","Grete","Gretel","Grethel","Gretna","Gretta","Grier","Griselda","Grissel","Guendolen","Guenevere","Guenna","Guglielma","Gui","Guillema","Guillemette","Guinevere","Guinna","Gunilla","Gus","Gusella","Gussi","Gussie","Gussy","Gusta","Gusti","Gustie","Gusty","Gwen","Gwendolen","Gwendolin","Gwendolyn","Gweneth","Gwenette","Gwenneth","Gwenni","Gwennie","Gwenny","Gwenora","Gwenore","Gwyn","Gwyneth","Gwynne","Gypsy","Hadria","Hailee","Haily","Haleigh","Halette","Haley","Hali","Halie","Halimeda","Halley","Halli","Hallie","Hally","Hana","Hanna","Hannah","Hanni","Hannie","Hannis","Hanny","Happy","Harlene","Harley","Harli","Harlie","Harmonia","Harmonie","Harmony","Harri","Harrie","Harriet","Harriett","Harrietta","Harriette","Harriot","Harriott","Hatti","Hattie","Hatty","Hayley","Hazel","Heath","Heather","Heda","Hedda","Heddi","Heddie","Hedi","Hedvig","Hedvige","Hedwig","Hedwiga","Hedy","Heida","Heidi","Heidie","Helaina","Helaine","Helen","Helen-Elizabeth","Helena","Helene","Helenka","Helga","Helge","Helli","Heloise","Helsa","Helyn","Hendrika","Henka","Henrie","Henrieta","Henrietta","Henriette","Henryetta","Hephzibah","Hermia","Hermina","Hermine","Herminia","Hermione","Herta","Hertha","Hester","Hesther","Hestia","Hetti","Hettie","Hetty","Hilary","Hilda","Hildagard","Hildagarde","Hilde","Hildegaard","Hildegarde","Hildy","Hillary","Hilliary","Hinda","Holli","Hollie","Holly","Holly-Anne","Hollyanne","Honey","Honor","Honoria","Hope","Horatia","Hortense","Hortensia","Hulda","Hyacinth","Hyacintha","Hyacinthe","Hyacinthia","Hyacinthie","Hynda","Ianthe","Ibbie","Ibby","Ida","Idalia","Idalina","Idaline","Idell","Idelle","Idette","Ileana","Ileane","Ilene","Ilise","Ilka","Illa","Ilsa","Ilse","Ilysa","Ilyse","Ilyssa","Imelda","Imogen","Imogene","Imojean","Ina","Indira","Ines","Inesita","Inessa","Inez","Inga","Ingaberg","Ingaborg","Inge","Ingeberg","Ingeborg","Inger","Ingrid","Ingunna","Inna","Iolande","Iolanthe","Iona","Iormina","Ira","Irena","Irene","Irina","Iris","Irita","Irma","Isa","Isabel","Isabelita","Isabella","Isabelle","Isadora","Isahella","Iseabal","Isidora","Isis","Isobel","Issi","Issie","Issy","Ivett","Ivette","Ivie","Ivonne","Ivory","Ivy","Izabel","Jacenta","Jacinda","Jacinta","Jacintha","Jacinthe","Jackelyn","Jacki","Jackie","Jacklin","Jacklyn","Jackquelin","Jackqueline","Jacky","Jaclin","Jaclyn","Jacquelin","Jacqueline","Jacquelyn","Jacquelynn","Jacquenetta","Jacquenette","Jacquetta","Jacquette","Jacqui","Jacquie","Jacynth","Jada","Jade","Jaime","Jaimie","Jaine","Jami","Jamie","Jamima","Jammie","Jan","Jana","Janaya","Janaye","Jandy","Jane","Janean","Janeczka","Janeen","Janel","Janela","Janella","Janelle","Janene","Janenna","Janessa","Janet","Janeta","Janetta","Janette","Janeva","Janey","Jania","Janice","Janie","Janifer","Janina","Janine","Janis","Janith","Janka","Janna","Jannel","Jannelle","Janot","Jany","Jaquelin","Jaquelyn","Jaquenetta","Jaquenette","Jaquith","Jasmin","Jasmina","Jasmine","Jayme","Jaymee","Jayne","Jaynell","Jazmin","Jean","Jeana","Jeane","Jeanelle","Jeanette","Jeanie","Jeanine","Jeanna","Jeanne","Jeannette","Jeannie","Jeannine","Jehanna","Jelene","Jemie","Jemima","Jemimah","Jemmie","Jemmy","Jen","Jena","Jenda","Jenelle","Jeni","Jenica","Jeniece","Jenifer","Jeniffer","Jenilee","Jenine","Jenn","Jenna","Jennee","Jennette","Jenni","Jennica","Jennie","Jennifer","Jennilee","Jennine","Jenny","Jeralee","Jere","Jeri","Jermaine","Jerrie","Jerrilee","Jerrilyn","Jerrine","Jerry","Jerrylee","Jess","Jessa","Jessalin","Jessalyn","Jessamine","Jessamyn","Jesse","Jesselyn","Jessi","Jessica","Jessie","Jessika","Jessy","Jewel","Jewell","Jewelle","Jill","Jillana","Jillane","Jillayne","Jilleen","Jillene","Jilli","Jillian","Jillie","Jilly","Jinny","Jo","Jo Ann","Jo-Ann","Jo-Anne","Joan","Joana","Joane","Joanie","Joann","Joanna","Joanne","Joannes","Jobey","Jobi","Jobie","Jobina","Joby","Jobye","Jobyna","Jocelin","Joceline","Jocelyn","Jocelyne","Jodee","Jodi","Jodie","Jody","Joeann","Joela","Joelie","Joell","Joella","Joelle","Joellen","Joelly","Joellyn","Joelynn","Joete","Joey","Johanna","Johannah","Johna","Johnath","Johnette","Johnna","Joice","Jojo","Jolee","Joleen","Jolene","Joletta","Joli","Jolie","Joline","Joly","Jolyn","Jolynn","Jonell","Joni","Jonie","Jonis","Jordain","Jordan","Jordana","Jordanna","Jorey","Jori","Jorie","Jorrie","Jorry","Joscelin","Josee","Josefa","Josefina","Josepha","Josephina","Josephine","Josey","Josi","Josie","Josselyn","Josy","Jourdan","Joy","Joya","Joyan","Joyann","Joyce","Joycelin","Joye","Jsandye","Juana","Juanita","Judi","Judie","Judith","Juditha","Judy","Judye","Juieta","Julee","Juli","Julia","Juliana","Juliane","Juliann","Julianna","Julianne","Julie","Julienne","Juliet","Julieta","Julietta","Juliette","Julina","Juline","Julissa","Julita","June","Junette","Junia","Junie","Junina","Justina","Justine","Justinn","Jyoti","Kacey","Kacie","Kacy","Kaela","Kai","Kaia","Kaila","Kaile","Kailey","Kaitlin","Kaitlyn","Kaitlynn","Kaja","Kakalina","Kala","Kaleena","Kali","Kalie","Kalila","Kalina","Kalinda","Kalindi","Kalli","Kally","Kameko","Kamila","Kamilah","Kamillah","Kandace","Kandy","Kania","Kanya","Kara","Kara-Lynn","Karalee","Karalynn","Kare","Karee","Karel","Karen","Karena","Kari","Karia","Karie","Karil","Karilynn","Karin","Karina","Karine","Kariotta","Karisa","Karissa","Karita","Karla","Karlee","Karleen","Karlen","Karlene","Karlie","Karlotta","Karlotte","Karly","Karlyn","Karmen","Karna","Karol","Karola","Karole","Karolina","Karoline","Karoly","Karon","Karrah","Karrie","Karry","Kary","Karyl","Karylin","Karyn","Kasey","Kass","Kassandra","Kassey","Kassi","Kassia","Kassie","Kat","Kata","Katalin","Kate","Katee","Katerina","Katerine","Katey","Kath","Katha","Katharina","Katharine","Katharyn","Kathe","Katherina","Katherine","Katheryn","Kathi","Kathie","Kathleen","Kathlin","Kathrine","Kathryn","Kathryne","Kathy","Kathye","Kati","Katie","Katina","Katine","Katinka","Katleen","Katlin","Katrina","Katrine","Katrinka","Katti","Kattie","Katuscha","Katusha","Katy","Katya","Kay","Kaycee","Kaye","Kayla","Kayle","Kaylee","Kayley","Kaylil","Kaylyn","Keeley","Keelia","Keely","Kelcey","Kelci","Kelcie","Kelcy","Kelila","Kellen","Kelley","Kelli","Kellia","Kellie","Kellina","Kellsie","Kelly","Kellyann","Kelsey","Kelsi","Kelsy","Kendra","Kendre","Kenna","Keri","Keriann","Kerianne","Kerri","Kerrie","Kerrill","Kerrin","Kerry","Kerstin","Kesley","Keslie","Kessia","Kessiah","Ketti","Kettie","Ketty","Kevina","Kevyn","Ki","Kiah","Kial","Kiele","Kiersten","Kikelia","Kiley","Kim","Kimberlee","Kimberley","Kimberli","Kimberly","Kimberlyn","Kimbra","Kimmi","Kimmie","Kimmy","Kinna","Kip","Kipp","Kippie","Kippy","Kira","Kirbee","Kirbie","Kirby","Kiri","Kirsten","Kirsteni","Kirsti","Kirstin","Kirstyn","Kissee","Kissiah","Kissie","Kit","Kitti","Kittie","Kitty","Kizzee","Kizzie","Klara","Klarika","Klarrisa","Konstance","Konstanze","Koo","Kora","Koral","Koralle","Kordula","Kore","Korella","Koren","Koressa","Kori","Korie","Korney","Korrie","Korry","Kris","Krissie","Krissy","Krista","Kristal","Kristan","Kriste","Kristel","Kristen","Kristi","Kristien","Kristin","Kristina","Kristine","Kristy","Kristyn","Krysta","Krystal","Krystalle","Krystle","Krystyna","Kyla","Kyle","Kylen","Kylie","Kylila","Kylynn","Kym","Kynthia","Kyrstin","La Verne","Lacee","Lacey","Lacie","Lacy","Ladonna","Laetitia","Laina","Lainey","Lana","Lanae","Lane","Lanette","Laney","Lani","Lanie","Lanita","Lanna","Lanni","Lanny","Lara","Laraine","Lari","Larina","Larine","Larisa","Larissa","Lark","Laryssa","Latashia","Latia","Latisha","Latrena","Latrina","Laura","Lauraine","Laural","Lauralee","Laure","Lauree","Laureen","Laurel","Laurella","Lauren","Laurena","Laurene","Lauretta","Laurette","Lauri","Laurianne","Laurice","Laurie","Lauryn","Lavena","Laverna","Laverne","Lavina","Lavinia","Lavinie","Layla","Layne","Layney","Lea","Leah","Leandra","Leann","Leanna","Leanor","Leanora","Lebbie","Leda","Lee","Leeann","Leeanne","Leela","Leelah","Leena","Leesa","Leese","Legra","Leia","Leigh","Leigha","Leila","Leilah","Leisha","Lela","Lelah","Leland","Lelia","Lena","Lenee","Lenette","Lenka","Lenna","Lenora","Lenore","Leodora","Leoine","Leola","Leoline","Leona","Leonanie","Leone","Leonelle","Leonie","Leonora","Leonore","Leontine","Leontyne","Leora","Leshia","Lesley","Lesli","Leslie","Lesly","Lesya","Leta","Lethia","Leticia","Letisha","Letitia","Letizia","Letta","Letti","Lettie","Letty","Lexi","Lexie","Lexine","Lexis","Lexy","Leyla","Lezlie","Lia","Lian","Liana","Liane","Lianna","Lianne","Lib","Libbey","Libbi","Libbie","Libby","Licha","Lida","Lidia","Liesa","Lil","Lila","Lilah","Lilas","Lilia","Lilian","Liliane","Lilias","Lilith","Lilla","Lilli","Lillian","Lillis","Lilllie","Lilly","Lily","Lilyan","Lin","Lina","Lind","Linda","Lindi","Lindie","Lindsay","Lindsey","Lindsy","Lindy","Linea","Linell","Linet","Linette","Linn","Linnea","Linnell","Linnet","Linnie","Linzy","Lira","Lisa","Lisabeth","Lisbeth","Lise","Lisetta","Lisette","Lisha","Lishe","Lissa","Lissi","Lissie","Lissy","Lita","Liuka","Liv","Liva","Livia","Livvie","Livvy","Livvyy","Livy","Liz","Liza","Lizabeth","Lizbeth","Lizette","Lizzie","Lizzy","Loella","Lois","Loise","Lola","Loleta","Lolita","Lolly","Lona","Lonee","Loni","Lonna","Lonni","Lonnie","Lora","Lorain","Loraine","Loralee","Loralie","Loralyn","Loree","Loreen","Lorelei","Lorelle","Loren","Lorena","Lorene","Lorenza","Loretta","Lorette","Lori","Loria","Lorianna","Lorianne","Lorie","Lorilee","Lorilyn","Lorinda","Lorine","Lorita","Lorna","Lorne","Lorraine","Lorrayne","Lorri","Lorrie","Lorrin","Lorry","Lory","Lotta","Lotte","Lotti","Lottie","Lotty","Lou","Louella","Louisa","Louise","Louisette","Loutitia","Lu","Luce","Luci","Lucia","Luciana","Lucie","Lucienne","Lucila","Lucilia","Lucille","Lucina","Lucinda","Lucine","Lucita","Lucky","Lucretia","Lucy","Ludovika","Luella","Luelle","Luisa","Luise","Lula","Lulita","Lulu","Lura","Lurette","Lurleen","Lurlene","Lurline","Lusa","Luz","Lyda","Lydia","Lydie","Lyn","Lynda","Lynde","Lyndel","Lyndell","Lyndsay","Lyndsey","Lyndsie","Lyndy","Lynea","Lynelle","Lynett","Lynette","Lynn","Lynna","Lynne","Lynnea","Lynnell","Lynnelle","Lynnet","Lynnett","Lynnette","Lynsey","Lyssa","Mab","Mabel","Mabelle","Mable","Mada","Madalena","Madalyn","Maddalena","Maddi","Maddie","Maddy","Madel","Madelaine","Madeleine","Madelena","Madelene","Madelin","Madelina","Madeline","Madella","Madelle","Madelon","Madelyn","Madge","Madlen","Madlin","Madonna","Mady","Mae","Maegan","Mag","Magda","Magdaia","Magdalen","Magdalena","Magdalene","Maggee","Maggi","Maggie","Maggy","Mahala","Mahalia","Maia","Maible","Maiga","Maighdiln","Mair","Maire","Maisey","Maisie","Maitilde","Mala","Malanie","Malena","Malia","Malina","Malinda","Malinde","Malissa","Malissia","Mallissa","Mallorie","Mallory","Malorie","Malory","Malva","Malvina","Malynda","Mame","Mamie","Manda","Mandi","Mandie","Mandy","Manon","Manya","Mara","Marabel","Marcela","Marcelia","Marcella","Marcelle","Marcellina","Marcelline","Marchelle","Marci","Marcia","Marcie","Marcile","Marcille","Marcy","Mareah","Maren","Marena","Maressa","Marga","Margalit","Margalo","Margaret","Margareta","Margarete","Margaretha","Margarethe","Margaretta","Margarette","Margarita","Margaux","Marge","Margeaux","Margery","Marget","Margette","Margi","Margie","Margit","Margo","Margot","Margret","Marguerite","Margy","Mari","Maria","Mariam","Marian","Mariana","Mariann","Marianna","Marianne","Maribel","Maribelle","Maribeth","Marice","Maridel","Marie","Marie-Ann","Marie-Jeanne","Marieann","Mariejeanne","Mariel","Mariele","Marielle","Mariellen","Marietta","Mariette","Marigold","Marijo","Marika","Marilee","Marilin","Marillin","Marilyn","Marin","Marina","Marinna","Marion","Mariquilla","Maris","Marisa","Mariska","Marissa","Marita","Maritsa","Mariya","Marj","Marja","Marje","Marji","Marjie","Marjorie","Marjory","Marjy","Marketa","Marla","Marlane","Marleah","Marlee","Marleen","Marlena","Marlene","Marley","Marlie","Marline","Marlo","Marlyn","Marna","Marne","Marney","Marni","Marnia","Marnie","Marquita","Marrilee","Marris","Marrissa","Marsha","Marsiella","Marta","Martelle","Martguerita","Martha","Marthe","Marthena","Marti","Martica","Martie","Martina","Martita","Marty","Martynne","Mary","Marya","Maryann","Maryanna","Maryanne","Marybelle","Marybeth","Maryellen","Maryjane","Maryjo","Maryl","Marylee","Marylin","Marylinda","Marylou","Marylynne","Maryrose","Marys","Marysa","Masha","Matelda","Mathilda","Mathilde","Matilda","Matilde","Matti","Mattie","Matty","Maud","Maude","Maudie","Maura","Maure","Maureen","Maureene","Maurene","Maurine","Maurise","Maurita","Maurizia","Mavis","Mavra","Max","Maxi","Maxie","Maxine","Maxy","May","Maybelle","Maye","Mead","Meade","Meagan","Meaghan","Meara","Mechelle","Meg","Megan","Megen","Meggi","Meggie","Meggy","Meghan","Meghann","Mehetabel","Mei","Mel","Mela","Melamie","Melania","Melanie","Melantha","Melany","Melba","Melesa","Melessa","Melicent","Melina","Melinda","Melinde","Melisa","Melisande","Melisandra","Melisenda","Melisent","Melissa","Melisse","Melita","Melitta","Mella","Melli","Mellicent","Mellie","Mellisa","Mellisent","Melloney","Melly","Melodee","Melodie","Melody","Melonie","Melony","Melosa","Melva","Mercedes","Merci","Mercie","Mercy","Meredith","Meredithe","Meridel","Meridith","Meriel","Merilee","Merilyn","Meris","Merissa","Merl","Merla","Merle","Merlina","Merline","Merna","Merola","Merralee","Merridie","Merrie","Merrielle","Merrile","Merrilee","Merrili","Merrill","Merrily","Merry","Mersey","Meryl","Meta","Mia","Micaela","Michaela","Michaelina","Michaeline","Michaella","Michal","Michel","Michele","Michelina","Micheline","Michell","Michelle","Micki","Mickie","Micky","Midge","Mignon","Mignonne","Miguela","Miguelita","Mikaela","Mil","Mildred","Mildrid","Milena","Milicent","Milissent","Milka","Milli","Millicent","Millie","Millisent","Milly","Milzie","Mimi","Min","Mina","Minda","Mindy","Minerva","Minetta","Minette","Minna","Minnaminnie","Minne","Minni","Minnie","Minnnie","Minny","Minta","Miof Mela","Miquela","Mira","Mirabel","Mirabella","Mirabelle","Miran","Miranda","Mireielle","Mireille","Mirella","Mirelle","Miriam","Mirilla","Mirna","Misha","Missie","Missy","Misti","Misty","Mitzi","Modesta","Modestia","Modestine","Modesty","Moina","Moira","Moll","Mollee","Molli","Mollie","Molly","Mommy","Mona","Monah","Monica","Monika","Monique","Mora","Moreen","Morena","Morgan","Morgana","Morganica","Morganne","Morgen","Moria","Morissa","Morna","Moselle","Moyna","Moyra","Mozelle","Muffin","Mufi","Mufinella","Muire","Mureil","Murial","Muriel","Murielle","Myra","Myrah","Myranda","Myriam","Myrilla","Myrle","Myrlene","Myrna","Myrta","Myrtia","Myrtice","Myrtie","Myrtle","Nada","Nadean","Nadeen","Nadia","Nadine","Nadiya","Nady","Nadya","Nalani","Nan","Nana","Nananne","Nance","Nancee","Nancey","Nanci","Nancie","Nancy","Nanete","Nanette","Nani","Nanice","Nanine","Nannette","Nanni","Nannie","Nanny","Nanon","Naoma","Naomi","Nara","Nari","Nariko","Nat","Nata","Natala","Natalee","Natalie","Natalina","Nataline","Natalya","Natasha","Natassia","Nathalia","Nathalie","Natividad","Natka","Natty","Neala","Neda","Nedda","Nedi","Neely","Neila","Neile","Neilla","Neille","Nelia","Nelie","Nell","Nelle","Nelli","Nellie","Nelly","Nerissa","Nerita","Nert","Nerta","Nerte","Nerti","Nertie","Nerty","Nessa","Nessi","Nessie","Nessy","Nesta","Netta","Netti","Nettie","Nettle","Netty","Nevsa","Neysa","Nichol","Nichole","Nicholle","Nicki","Nickie","Nicky","Nicol","Nicola","Nicole","Nicolea","Nicolette","Nicoli","Nicolina","Nicoline","Nicolle","Nikaniki","Nike","Niki","Nikki","Nikkie","Nikoletta","Nikolia","Nina","Ninetta","Ninette","Ninnetta","Ninnette","Ninon","Nissa","Nisse","Nissie","Nissy","Nita","Nixie","Noami","Noel","Noelani","Noell","Noella","Noelle","Noellyn","Noelyn","Noemi","Nola","Nolana","Nolie","Nollie","Nomi","Nona","Nonah","Noni","Nonie","Nonna","Nonnah","Nora","Norah","Norean","Noreen","Norene","Norina","Norine","Norma","Norri","Norrie","Norry","Novelia","Nydia","Nyssa","Octavia","Odele","Odelia","Odelinda","Odella","Odelle","Odessa","Odetta","Odette","Odilia","Odille","Ofelia","Ofella","Ofilia","Ola","Olenka","Olga","Olia","Olimpia","Olive","Olivette","Olivia","Olivie","Oliy","Ollie","Olly","Olva","Olwen","Olympe","Olympia","Olympie","Ondrea","Oneida","Onida","Oona","Opal","Opalina","Opaline","Ophelia","Ophelie","Ora","Oralee","Oralia","Oralie","Oralla","Oralle","Orel","Orelee","Orelia","Orelie","Orella","Orelle","Oriana","Orly","Orsa","Orsola","Ortensia","Otha","Othelia","Othella","Othilia","Othilie","Ottilie","Page","Paige","Paloma","Pam","Pamela","Pamelina","Pamella","Pammi","Pammie","Pammy","Pandora","Pansie","Pansy","Paola","Paolina","Papagena","Pat","Patience","Patrica","Patrice","Patricia","Patrizia","Patsy","Patti","Pattie","Patty","Paula","Paule","Pauletta","Paulette","Pauli","Paulie","Paulina","Pauline","Paulita","Pauly","Pavia","Pavla","Pearl","Pearla","Pearle","Pearline","Peg","Pegeen","Peggi","Peggie","Peggy","Pen","Penelopa","Penelope","Penni","Pennie","Penny","Pepi","Pepita","Peri","Peria","Perl","Perla","Perle","Perri","Perrine","Perry","Persis","Pet","Peta","Petra","Petrina","Petronella","Petronia","Petronilla","Petronille","Petunia","Phaedra","Phaidra","Phebe","Phedra","Phelia","Phil","Philipa","Philippa","Philippe","Philippine","Philis","Phillida","Phillie","Phillis","Philly","Philomena","Phoebe","Phylis","Phyllida","Phyllis","Phyllys","Phylys","Pia","Pier","Pierette","Pierrette","Pietra","Piper","Pippa","Pippy","Polly","Pollyanna","Pooh","Poppy","Portia","Pris","Prisca","Priscella","Priscilla","Prissie","Pru","Prudence","Prudi","Prudy","Prue","Queenie","Quentin","Querida","Quinn","Quinta","Quintana","Quintilla","Quintina","Rachael","Rachel","Rachele","Rachelle","Rae","Raeann","Raf","Rafa","Rafaela","Rafaelia","Rafaelita","Rahal","Rahel","Raina","Raine","Rakel","Ralina","Ramona","Ramonda","Rana","Randa","Randee","Randene","Randi","Randie","Randy","Ranee","Rani","Rania","Ranice","Ranique","Ranna","Raphaela","Raquel","Raquela","Rasia","Rasla","Raven","Ray","Raychel","Raye","Rayna","Raynell","Rayshell","Rea","Reba","Rebbecca","Rebe","Rebeca","Rebecca","Rebecka","Rebeka","Rebekah","Rebekkah","Ree","Reeba","Reena","Reeta","Reeva","Regan","Reggi","Reggie","Regina","Regine","Reiko","Reina","Reine","Remy","Rena","Renae","Renata","Renate","Rene","Renee","Renell","Renelle","Renie","Rennie","Reta","Retha","Revkah","Rey","Reyna","Rhea","Rheba","Rheta","Rhetta","Rhiamon","Rhianna","Rhianon","Rhoda","Rhodia","Rhodie","Rhody","Rhona","Rhonda","Riane","Riannon","Rianon","Rica","Ricca","Rici","Ricki","Rickie","Ricky","Riki","Rikki","Rina","Risa","Rita","Riva","Rivalee","Rivi","Rivkah","Rivy","Roana","Roanna","Roanne","Robbi","Robbie","Robbin","Robby","Robbyn","Robena","Robenia","Roberta","Robin","Robina","Robinet","Robinett","Robinetta","Robinette","Robinia","Roby","Robyn","Roch","Rochell","Rochella","Rochelle","Rochette","Roda","Rodi","Rodie","Rodina","Rois","Romola","Romona","Romonda","Romy","Rona","Ronalda","Ronda","Ronica","Ronna","Ronni","Ronnica","Ronnie","Ronny","Roobbie","Rora","Rori","Rorie","Rory","Ros","Rosa","Rosabel","Rosabella","Rosabelle","Rosaleen","Rosalia","Rosalie","Rosalind","Rosalinda","Rosalinde","Rosaline","Rosalyn","Rosalynd","Rosamond","Rosamund","Rosana","Rosanna","Rosanne","Rose","Roseann","Roseanna","Roseanne","Roselia","Roselin","Roseline","Rosella","Roselle","Rosemaria","Rosemarie","Rosemary","Rosemonde","Rosene","Rosetta","Rosette","Roshelle","Rosie","Rosina","Rosita","Roslyn","Rosmunda","Rosy","Row","Rowe","Rowena","Roxana","Roxane","Roxanna","Roxanne","Roxi","Roxie","Roxine","Roxy","Roz","Rozalie","Rozalin","Rozamond","Rozanna","Rozanne","Roze","Rozele","Rozella","Rozelle","Rozina","Rubetta","Rubi","Rubia","Rubie","Rubina","Ruby","Ruperta","Ruth","Ruthann","Ruthanne","Ruthe","Ruthi","Ruthie","Ruthy","Ryann","Rycca","Saba","Sabina","Sabine","Sabra","Sabrina","Sacha","Sada","Sadella","Sadie","Sadye","Saidee","Sal","Salaidh","Sallee","Salli","Sallie","Sally","Sallyann","Sallyanne","Saloma","Salome","Salomi","Sam","Samantha","Samara","Samaria","Sammy","Sande","Sandi","Sandie","Sandra","Sandy","Sandye","Sapphira","Sapphire","Sara","Sara-Ann","Saraann","Sarah","Sarajane","Saree","Sarena","Sarene","Sarette","Sari","Sarina","Sarine","Sarita","Sascha","Sasha","Sashenka","Saudra","Saundra","Savina","Sayre","Scarlet","Scarlett","Sean","Seana","Seka","Sela","Selena","Selene","Selestina","Selia","Selie","Selina","Selinda","Seline","Sella","Selle","Selma","Sena","Sephira","Serena","Serene","Shae","Shaina","Shaine","Shalna","Shalne","Shana","Shanda","Shandee","Shandeigh","Shandie","Shandra","Shandy","Shane","Shani","Shanie","Shanna","Shannah","Shannen","Shannon","Shanon","Shanta","Shantee","Shara","Sharai","Shari","Sharia","Sharity","Sharl","Sharla","Sharleen","Sharlene","Sharline","Sharon","Sharona","Sharron","Sharyl","Shaun","Shauna","Shawn","Shawna","Shawnee","Shay","Shayla","Shaylah","Shaylyn","Shaylynn","Shayna","Shayne","Shea","Sheba","Sheela","Sheelagh","Sheelah","Sheena","Sheeree","Sheila","Sheila-Kathryn","Sheilah","Shel","Shela","Shelagh","Shelba","Shelbi","Shelby","Shelia","Shell","Shelley","Shelli","Shellie","Shelly","Shena","Sher","Sheree","Sheri","Sherie","Sherill","Sherilyn","Sherline","Sherri","Sherrie","Sherry","Sherye","Sheryl","Shina","Shir","Shirl","Shirlee","Shirleen","Shirlene","Shirley","Shirline","Shoshana","Shoshanna","Siana","Sianna","Sib","Sibbie","Sibby","Sibeal","Sibel","Sibella","Sibelle","Sibilla","Sibley","Sibyl","Sibylla","Sibylle","Sidoney","Sidonia","Sidonnie","Sigrid","Sile","Sileas","Silva","Silvana","Silvia","Silvie","Simona","Simone","Simonette","Simonne","Sindee","Siobhan","Sioux","Siouxie","Sisely","Sisile","Sissie","Sissy","Siusan","Sofia","Sofie","Sondra","Sonia","Sonja","Sonni","Sonnie","Sonnnie","Sonny","Sonya","Sophey","Sophi","Sophia","Sophie","Sophronia","Sorcha","Sosanna","Stace","Stacee","Stacey","Staci","Stacia","Stacie","Stacy","Stafani","Star","Starla","Starlene","Starlin","Starr","Stefa","Stefania","Stefanie","Steffane","Steffi","Steffie","Stella","Stepha","Stephana","Stephani","Stephanie","Stephannie","Stephenie","Stephi","Stephie","Stephine","Stesha","Stevana","Stevena","Stoddard","Storm","Stormi","Stormie","Stormy","Sue","Suellen","Sukey","Suki","Sula","Sunny","Sunshine","Susan","Susana","Susanetta","Susann","Susanna","Susannah","Susanne","Susette","Susi","Susie","Susy","Suzann","Suzanna","Suzanne","Suzette","Suzi","Suzie","Suzy","Sybil","Sybila","Sybilla","Sybille","Sybyl","Sydel","Sydelle","Sydney","Sylvia","Tabatha","Tabbatha","Tabbi","Tabbie","Tabbitha","Tabby","Tabina","Tabitha","Taffy","Talia","Tallia","Tallie","Tallou","Tallulah","Tally","Talya","Talyah","Tamar","Tamara","Tamarah","Tamarra","Tamera","Tami","Tamiko","Tamma","Tammara","Tammi","Tammie","Tammy","Tamqrah","Tamra","Tana","Tandi","Tandie","Tandy","Tanhya","Tani","Tania","Tanitansy","Tansy","Tanya","Tara","Tarah","Tarra","Tarrah","Taryn","Tasha","Tasia","Tate","Tatiana","Tatiania","Tatum","Tawnya","Tawsha","Ted","Tedda","Teddi","Teddie","Teddy","Tedi","Tedra","Teena","TEirtza","Teodora","Tera","Teresa","Terese","Teresina","Teresita","Teressa","Teri","Teriann","Terra","Terri","Terrie","Terrijo","Terry","Terrye","Tersina","Terza","Tess","Tessa","Tessi","Tessie","Tessy","Thalia","Thea","Theadora","Theda","Thekla","Thelma","Theo","Theodora","Theodosia","Theresa","Therese","Theresina","Theresita","Theressa","Therine","Thia","Thomasa","Thomasin","Thomasina","Thomasine","Tiena","Tierney","Tiertza","Tiff","Tiffani","Tiffanie","Tiffany","Tiffi","Tiffie","Tiffy","Tilda","Tildi","Tildie","Tildy","Tillie","Tilly","Tim","Timi","Timmi","Timmie","Timmy","Timothea","Tina","Tine","Tiphani","Tiphanie","Tiphany","Tish","Tisha","Tobe","Tobey","Tobi","Toby","Tobye","Toinette","Toma","Tomasina","Tomasine","Tomi","Tommi","Tommie","Tommy","Toni","Tonia","Tonie","Tony","Tonya","Tonye","Tootsie","Torey","Tori","Torie","Torrie","Tory","Tova","Tove","Tracee","Tracey","Traci","Tracie","Tracy","Trenna","Tresa","Trescha","Tressa","Tricia","Trina","Trish","Trisha","Trista","Trix","Trixi","Trixie","Trixy","Truda","Trude","Trudey","Trudi","Trudie","Trudy","Trula","Tuesday","Twila","Twyla","Tybi","Tybie","Tyne","Ula","Ulla","Ulrica","Ulrika","Ulrikaumeko","Ulrike","Umeko","Una","Ursa","Ursala","Ursola","Ursula","Ursulina","Ursuline","Uta","Val","Valaree","Valaria","Vale","Valeda","Valencia","Valene","Valenka","Valentia","Valentina","Valentine","Valera","Valeria","Valerie","Valery","Valerye","Valida","Valina","Valli","Vallie","Vally","Valma","Valry","Van","Vanda","Vanessa","Vania","Vanna","Vanni","Vannie","Vanny","Vanya","Veda","Velma","Velvet","Venita","Venus","Vera","Veradis","Vere","Verena","Verene","Veriee","Verile","Verina","Verine","Verla","Verna","Vernice","Veronica","Veronika","Veronike","Veronique","Vevay","Vi","Vicki","Vickie","Vicky","Victoria","Vida","Viki","Vikki","Vikky","Vilhelmina","Vilma","Vin","Vina","Vinita","Vinni","Vinnie","Vinny","Viola","Violante","Viole","Violet","Violetta","Violette","Virgie","Virgina","Virginia","Virginie","Vita","Vitia","Vitoria","Vittoria","Viv","Viva","Vivi","Vivia","Vivian","Viviana","Vivianna","Vivianne","Vivie","Vivien","Viviene","Vivienne","Viviyan","Vivyan","Vivyanne","Vonni","Vonnie","Vonny","Vyky","Wallie","Wallis","Walliw","Wally","Waly","Wanda","Wandie","Wandis","Waneta","Wanids","Wenda","Wendeline","Wendi","Wendie","Wendy","Wendye","Wenona","Wenonah","Whitney","Wileen","Wilhelmina","Wilhelmine","Wilie","Willa","Willabella","Willamina","Willetta","Willette","Willi","Willie","Willow","Willy","Willyt","Wilma","Wilmette","Wilona","Wilone","Wilow","Windy","Wini","Winifred","Winna","Winnah","Winne","Winni","Winnie","Winnifred","Winny","Winona","Winonah","Wren","Wrennie","Wylma","Wynn","Wynne","Wynnie","Wynny","Xaviera","Xena","Xenia","Xylia","Xylina","Yalonda","Yasmeen","Yasmin","Yelena","Yetta","Yettie","Yetty","Yevette","Ynes","Ynez","Yoko","Yolanda","Yolande","Yolane","Yolanthe","Yoshi","Yoshiko","Yovonnda","Ysabel","Yvette","Yvonne","Zabrina","Zahara","Zandra","Zaneta","Zara","Zarah","Zaria","Zarla","Zea","Zelda","Zelma","Zena","Zenia","Zia","Zilvia","Zita","Zitella","Zoe","Zola","Zonda","Zondra","Zonnya","Zora","Zorah","Zorana","Zorina","Zorine","Zsa Zsa","Zsazsa","Zulema","Zuzana"];function et(){return _e[Math.floor(Math.random()*(_e.length-1))]}return{generate:et}}const defaults={roles:{"1715015248102-8q0n4lg8tks":{id:"1715015248102-8q0n4lg8tks",message:`I want you to act as a text based adventure game. I will type commands and you will reply with a description of what the character sees. Do not write explanations. Use flowery language and descriptive words. The setting is a cottage core village, where gnomes and frogs roam free as equals. Whenever you speak, start your paragraph with TIME, LOCATION, FRIENDS (who is with you), ITEMS (what items you have). My first command is wake up.
`,name:"Interactive Story Teller",config:{samples:["write a story about kings and queens and how they lost then found the princess","write an adventure on the surface of mars as humans race to escape aliens who live there already"],preferredModel:"medium"},samples:["write a story about kings and queens and how they lost then found the princess","write an adventure on the surface of mars as humans race to escape aliens who live there already"],category:["chat","example"]},"1715015275094-rrk7kd5adh":{id:"1715015275094-rrk7kd5adh",message:`You are an expert in menu planning and recipe creation, specializing in creating delicious dishes. You have helped many people before me to create new recipes for special occasions. Your task is now to teach me how to plan meals from scratch. To better understand what I want and need, you should always answer by including a question that helps you better understand the context and my needs. Did you understand?
`,name:"Recipe Helper",config:{temperatureOpenAI:"1",topPOpenAI:"0.39",frequencyPenalty:"-0.35",nBatch:"3",beams:"0",samples:["what can i do with chestnuts","how do i get bread to rise","what can i add to a laksa"],preferredModel:"medium",topP:"0.5",topK:"24",presencePenalty:"-0.59",temperature:"0.66"},temperature:"0.19",samples:["what can i do with chestnuts","how do i get bread to rise","what can i add to a laksa"],category:["chat","example"]},"1715015288685-ps9n4mx07b":{id:"1715015288685-ps9n4mx07b",message:"I want you to act as the Buddha (a.k.a. Siddhrtha Gautama or Buddha Shakyamuni) from now on and provide the same guidance and advice that is found in the Tripiaka. Use the writing style of the Suttapiaka particularly of the Majjhimanikya, Sayuttanikya, Aguttaranikya, and Dghanikya. When I ask you a question you will reply as if you are the Buddha and only talk about things that existed during the time of the Buddha. I will pretend that I am a layperson with a lot to learn. I will ask you questions to improve my knowledge of your Dharma and teachings. Fully immerse yourself into the role of the Buddha. Keep up the act of being the Buddha as well as you can. Do not break character. Let's begin: At this time you (the Buddha) are staying near Rjagaha in Jvakas Mango Grove. I came to you, and exchanged greetings with you. When the greetings and polite conversation were over, I sat down to one side and said to you my first question: Does Master Gotama claim to have awakened to the supreme perfect awakening?",name:"Spiritual Advisor",config:{samples:["i feel sad can you help me. i don't want to get out of bed","can i have too many friends","what is the meaning of life"],preferredModel:"large"},samples:["i feel sad can you help me. i don't want to get out of bed","can i have too many friends","what is the meaning of life"],category:["chat","example"]},"1715015428869-9j68b65fuv":{id:"1715015428869-9j68b65fuv",name:"Spanish Language Teacher",message:`Hello! My objective is to enhance my spanish language skills and I would appreciate your help. Let's engage in a conversational exchange in spanish, where you will act as a native speaker. During our conversation, you can ask me questions to engage me in conversation, and I will respond. Your replies should consist of three components separated by an empty line on the page:
You will repeat my previous response in a way that a native $(Language) speaker would say it, ensuring accurate grammar and vocabulary usage. Encase it in square brackets.
You will reply to me with a  response and follow-up question.
You will provide an English translation of your entire reply.
As our conversation continues, you will adapt your questions to my level of proficiency. You begin by respond using A1-proficiency questions. If my proficiency is more advanced, you will increase the level of proficiency of your questions to the next higher level; otherwise, you will remain at the current level. Reassess my language proficiency every few replies.
Please note the following:
From time to time, I will interrupt the conversation to ask a question. Please respond in English.
When I respond to you in spanish I may use English words if I dont know the correct vocabulary.
I will use keywords to representing quick requests. Which you will use to execute other one or more actions. Please note the following keywords and their meanings:
Add [word]: Add the word [word] to the vocabulary list.
I will announce when the conversation is over. At this time, you will provide me with feedback in English only. You will also provide me with a vocabulary list in tabular format of the spanish words and phrases I used incorrectly (misspelling, misuse, awkward usage, etc.) or any words or phrases I instructed you to add, along with their English translations and an example sentence.
`,config:{preferredModel:"medium"},samples:[],category:["chat","example"]},"1715533081877-2tpar0hlv9j":{id:"1715533081877-2tpar0hlv9j",name:"Computer Programmer",message:"you are a computer programmer. you write complete working programs. when you reply you answer with code. strictly code and nothing else. do not comments about the code or descriptions of what the code is doing.\n- your favorite programming language is python\n- you add comments to your code to clarify algorithms and identify the meaning of variables\n- use long variable names that clearly identify their purpose\nWhen you write code blocks wrap them in ```python ``` or ```javascript ``` or whatever is the programming language being used\nYou must wrap code blocks in quotes\nEnsure your programs are complete.",config:{maxTokens:"10039",samples:["write a function to calculate the fibonacci numbers","write a program that writes the numbers from one to ten in reverse","write a react component that lists an array of samples. Use react-bootstrap."],preferredModel:"medium",temperature:"0.04",topP:"0.75",temperatureOpenAI:"0.06",topPOpenAI:"0.7",frequencyPenalty:"0.09",presencePenalty:"-0.01"},stopTokens:["."],samples:["write a function to calculate the fibonacci numbers","write a program that writes the numbers from one to ten in reverse","write a react component that lists an array of samples. Use react-bootstrap."],category:["code","generator","tools"],skills:"You are very skilled at writing python software",backStory:"You spend much time at home maintaining a network of Linux based servers"},"1715534102855-ax75ogkqee":{id:"1715534102855-ax75ogkqee",name:"Pirate Poet",message:`You are a pirate who likes to write poetry.
`,backStory:`You spent time in jamaica and learned the joys of rum and warm weather.
"By jimbo" is your favorite expression.`,config:{temperatureOpenAI:"0",topP:"0.15",topK:"7",maxTokens:"11028",ttsOaiVoice:"echo",samples:["write a song about capturing slaves in africa","tell me about seagulls","where is the treasure buried"],preferredModel:"large"},temperatureGpt4All:"0.12",samples:["write a song about capturing slaves in africa","tell me about seagulls","where is the treasure buried"],category:["chat","formatter","generator"],skills:"You are very skilled at writing poetry and you know everything about the sea."},"1715575048046-1mio4kbwntw":{id:"1715575048046-1mio4kbwntw",name:"Order Assistant",message:`You are the owner of a pizza parlor. Customers \\
    send you orders from which you need to extract:

    1. The pizza that is ordered
    2. The number of pizzas

# OUTPUT INSTRUCTIONS
Answer in valid JSON. Here are the different objects relevant for the output:

    Order:
        pizza (str): name of the pizza
        number (int): number of pizzas

    Return a valid JSON of type "Order"
`,config:{outputExamples:`
{"pizza": "Margherita", "number": 1}
{"pizza": "pineapple", "number": 1}
{"pizza": "cheese", "number": 1}
{"pizza": "chicken", "number": 1, extras:'bbq sauce'}
`,outputType:"json",schema:'{"$schema": "http://json-schema.org/schema#", "type": "object", "properties": {"pizza": {"type": "string"}, "number": {"type": "integer"}, "extras": {"type": "string"}}, "required": ["number", "pizza"]}',samples:["four chicken satay pizzas please with xtra bbq sauce ","four seafood pizzas","two margarita pizzas and a vegetarian pizza plus two coke"," a chicken pizza and two cokes"],preferredModel:"small"},samples:["four chicken satay pizzas please with xtra bbq sauce ","four seafood pizzas","two margarita pizzas and a vegetarian pizza plus two coke"," a chicken pizza and two cokes"],category:["chat","example","structured data"]},"1715575705679-kjeu193lgl":{id:"1715575705679-kjeu193lgl",name:"Mood Classifier",message:`You are an experienced customer success manager.
Given a request from a client, you need to determine when the request is urgent using the label "URGENT" or when it can wait a little with the label "STANDARD".
Answer in one word
`,config:{outputExamples:`I need this now
URGENT

can you look at his some time
STANDARD

I'm desperate to get this done
URGENT

`,schema:"STANDARD,URGENT",outputType:"choice",preferredModel:"small",samples:["i am in a huge rush","this is urgent","can you look at this when you are ready","can you get me the stuff","i need the stuff now"],ttsSelfHostedVoice:"p241"},backStory:"You are very concise and do not like to speak more than one word at a time",samples:["i am in a huge rush","this is urgent","can you look at this when you are ready","can you get me the stuff","i need the stuff now"],category:["chat","example","structureddata","classifier"]},"1715599845403-47h2j3cfhuo":{id:"1715599845403-47h2j3cfhuo",config:{samples:["turn on the lounge room lights","play music by midnight oil","set an alarm for 10 minutes","cancel the alarm","stop playing"],outputType:"json",preferredModel:"small"},name:"Home Assistant",message:`You are a home assistant. You understand commands to set and cancel timers, play and stop music and search for music by artist, song name and genre. You can also turn on and off the lights.

# OUTPUT INSTRUCTIONS
Answer in valid JSON. Here are the different objects relevant for the output:

Command:
    action (str): action to take eg turn_on,turn_off
    parameter ([str]): array of parameters for action

Return a valid JSON of type "Command"`,samples:["turn on the lounge room lights","play music by midnight oil","set an alarm for 10 minutes","cancel the alarm","stop playing"],category:["chat","example","structureddata","homeassistant"]},"1716312794795-va5kaw390n":{samples:[],name:"Document Summariser",message:"Provide a summary of the following document. Ensure that all the main points are mentioned and keep the output as short as possible.",category:["summariser","compressor"]},"1716312923586-z2unlz19v6j":{samples:["```a=5; b=2 c=a + b     ```   what does this code do?"],name:" Code Summariser",message:"You are teaching software engineering. Explain the code below. In particular provide a list of the functions and important variables as well as a description of the purpose of the code. ",category:["summariser","compressor","code"],skills:"You are very good at detailed analysis of software code",backStory:"You like adding comments to code",config:{temperature:"0.19",topK:"74",maxTokens:"3843",temperatureOpenAI:"0.19",topPOpenAI:"0.66",frequencyPenalty:"0.49",presencePenalty:"0.39",outputType:""},id:"1716312923586-z2unlz19v6j"},"1716342130741-qi5fwi191de":{samples:["what is the capital city of australia. answer in one word"],name:"General Assistant",message:"You are a helpful assistant",config:{maxTokens:"17462",stopTokens:[],temperature:"0.1",topP:"0.58",topK:"21",temperatureOpenAI:"1.57",topPOpenAI:"1",frequencyPenalty:"0",presencePenalty:"0",wrapBefore:"```markdown",wrapAfter:"```",type:"inference",processingFunctionType:"evaljavascript",processingFunction:"f"},category:["generator","chat","featured"]},"1716347292609-n7k0blybh8":{samples:[],name:"Essay Grader",message:`You are a year 12 English teacher assessing essays. For the following essay provide
- word count.
- score of readability.
- a list of grammatical errors. For each grammatical error quote the text and list the line number of the error as well as a suggested solution.
- a list of suggestions to make the essay more persuasive.`,config:{temperature:"0",topP:"0.6",topK:"71",stopTokens:[".","!"],maxTokens:"100"},category:["summariser","teaching","example"]},"1716380148021-jmr5vlbgchi":{samples:["Create a mermaid timeline showing the population of the world over the last three years.","make pie chart showing major exports from australia in 2023"],name:"Graph Assistant",message:`You are an expert in instructive diagramming. You understand all of the different types of graph that are commonly used to explain ideas from data structures to workflows.
You always use mermaid charts to create your diagrams. When asked a question, answer it with a graph in the form of a mermaid chart.  `,category:["graph","generator"]},"1716440688890-xm355nq4piq":{samples:[],name:"Music Notation Helper",message:"You are a composer of music. You are very fluent in the ABC form of music notation and you always use ABC notation to answer questions about music.\nYou also have a comprehensive knowledge of musical terms and use them whenever possible in your answers and generated music.\nWrap all ABC notation in ```abc  and ```. For example ```abc X:0 T:my song```",category:["music","abcnotation","generator"]},"1716451547928-z6uw4ieprmk":{samples:[],name:"Markdown Assistant",message:"You are a helpful assistant. \nYou respond with  a markdown document showing headers links and lists. \nYou must wrap the markdown output in  ```markdown and ```. For example ```markdown # title ```\nAlways respond with markdown format",category:["formatter","teaching","example"]},"1716510654451-j3xoev0f1qt":{samples:[],name:"Browser Javascript Helper",message:`You are an expert javascript coder. You specialise in front end development building user interfaces with React.
You build components using react bootstrap.
You always respond with blocks of javascript code to demonstrate your answer.`,category:["code","generator"]},"1716535317567-xq3mpc56f5g":{samples:[],name:"Business Email Categoriser",category:["categoriser","structureddata"],message:`You are a Email Categorizer Agent You are a master at understanding what a customer wants when they write an email and are able to categorize it in a useful way. 
Conduct a comprehensive analysis of the email provided and categorize into one of the following categories:
        price_enquiry - used when someone is asking for information about pricing \\
        customer_complaint - used when someone is complaining about something \\
        product_enquiry - used when someone is asking for information about a product feature, benefit or service but not about pricing \\\\
        customer_feedback - used when someone is giving feedback about a product \\
        off_topic when it doesn't relate to any other category \\

            Output a single catgory only from the types ('price_enquiry', 'customer_complaint', 'product_enquiry', 'customer_feedback', 'off_topic') \\
            eg:
            'price_enquiry' \\`,config:{outputType:"choice",outputExamples:`price_enquiry
customer_complaint
product_enquiry
customer_feedback
off_topic`}},"1716900208679-f9klfahrc88":{samples:[],name:"Research Assistant",message:`You are a research assistant who helps to answer questions by searching  google.
When you are given a question, generate a list of keywords and then output a block describing tool use.

Each line inside the block is a function call to search_google(keyword), one for each keyword.

search_google(when is the best search_google(when is the best day)
day)

Use no more than two tool calls.
Return only the lines with the function calls. Do not output any other text.
Every line must begin with search_google(`,wrapBefore:"```tool",wrapAfter:"```",category:["tools","structureddata","websearch"],config:{wrapBefore:"```tool",wrapAfter:"```",temperature:"0.08",maxTokens:"2174"}},"1716959801862-o0ix9xac5s":{samples:[],name:"Search summariser",message:"Summarise any important points in the ###RESULT sections and create a short summary of the search results.",category:["compressor","summariser","websearch"]},"1716992436451-wq0mhv6vy7k":{samples:[],name:"Research Planner",message:`You are a generator of ideas for possible lines of research in a topic area.

Respond with a block of text wrapped in \`\`\`
Inside the \`\`\` sections, 
- start with the word tool 
- then a list of tool calls to google_search for each suggested research area.
A tool call looks like
search_google(when is the best day)

You must include the quotes around the tool call block
The tool call block MUST start with tool and a new line

For example
\`\`\`tool
search_google(when is the best day)
\`\`\`

`,category:["generator","tools","websearch"]},"1716992597787-cwb0uesyhui":{samples:[],name:"Research Generator",message:"Expand on the ideas in the previous text suggesting pros and cons and suggestions to any problems that arise",category:["generator"]},"1716992648044-aacb0ownl4h":{samples:[],name:"Research Summariser",message:`You are expert at summarising english words without losing any of the important details.
Summarise the following text
`,category:["compressor","summariser"]},"1716992715805-45p1nsa0pzp":{samples:[],name:"Research Scorer",message:`Does the following text answer or at least respond to the question at the beginning.
If the question is not answered at least in part respond with FAIL
Otherwise respond with pass`,config:{maxTokens:"2",temperature:"0.09",topP:"0.82",topK:"87",outputType:"choice",outputExamples:`PASS
FAIL`},category:["categorizer","scorer"]},"1716996644650-y63gtce9wso":{samples:[],name:"Research Formatter",message:`Take the following text and render it as a markdown document.
Ensure that no details are lost and that everything important is included in the final document.

`,wrapBefore:"```markdown",wrapAfter:"```",config:{wrapBefore:"```markdown",wrapAfter:"```"},category:["formatter"]},"1717332876182-suem1geq9rl":{samples:[],name:"MOE Expert Selector",message:`Choose randomly between the following roles. 
- Computer Programmer
- Pirate Poet
- General Assistant
Answer with the name and only the name. Do not add any other words than the name of the role.
Answer in no more than two words`,config:{outputType:"choice",outputExamples:`Computer Programmer
Pirate Poet`},category:["categorizer","chooser"]},"1717334469088-4z6c9tnv5sl":{samples:[],name:"Role Based Blocker",message:"Always respond with one word PASS",config:{outputType:"choice",outputExamples:`PASS
FAIL`},category:["categorizer","chooser"]},"1717335922226-rt50ddqlwzl":{samples:[],message:"Output one word. Jupiter",name:"Role Based Feeder",category:["test","datasource"]},"1717335969783-i8hl4shqzfd":{samples:[],name:"Chain Of Thought",message:"Think this through step by step",category:["generator","expander"]},"1717340874527-3dv4jxddp1f":{samples:[],name:"Role Based Scorer",message:"Always reply with one word FAIL",config:{outputType:"choice",outputExamples:`FAIL
PASS`},category:["categorizer","chooser"]},"1717426372042-uk1c0x5r7x":{samples:[],name:"Ideas Generator",message:`For the given question, generate some more related questions that might generate more depth of knowledge around the original question.
Output your suggested questions in markdown with a header for each question`,config:{wrapBefore:"```markdown",wrapAfter:"```"},skills:"I'm good at suggesting ideas and ways to think about things",category:["generator","expander"]},"1717426581325-tf6h3k1mv7p":{samples:[],name:"Nested Research Team Researcher",message:"Reply with answers to the list of questions",category:["generator","researcher"]},"1717575898766-d3cijs4aug":{samples:[],name:"Answer Collater",message:"GIven the original questions and the follow up questions and the final answers, provide a simplified answer to the question that includes elements of all the follow up questions. ",config:{wrapBefore:"```markdown",wrapAfter:"```"},category:["compressor","summariser"]},"1717584097032-s8rzhoro5v":{samples:[],name:"First Five Words",config:{type:"algorithmic",processingFunction:`
return message ? message.split(' ').slice(0,5).join(' ')  : ''`,processingFunctionType:"evaljavascript"},"comments	":"s",comments:"",skills:"return the first five words one per line",category:["algorithmic","example","test","transformer"]},"1717676805737-5or98597imn":{samples:[],name:"Generation Formatter",skills:`You consider the list of questions and answers and summarise the content in a friendly tone ensuring that you miss none of the details in the answers.
Gather all the facts from the answers and present them in a table.`,category:["compressor","summariser","formatter"]},"1717678143866-v3hj7syijr":{samples:[],name:"Fake Question Generator",config:{type:"algorithmic",processingFunction:"return `Why is the sky here\nWho is ted\n`",processingFunctionType:"evaljavascript"},category:["test","datasource"]},"1717772893368-hjs20gpuks":{samples:["why was he running away from you. Did he steal from you?","he slept. we arrived. they all stayed up late. she partied. everyone became very excited and danced."],name:"Extract Verbs",config:{type:"algorithmic",processingFunction:`let nlp = window.compromise
console.log(nlp(message).verbs())
return nlp(message).verbs().out('array').join("\\n")`},category:["extractor","compromise","algorithmic"]},"y1717772893368-hjs20gpukt":{samples:["Mr Brown drove his car to the office building where he worked and sat at his desk."],name:"Extract Nouns",config:{type:"algorithmic",processingFunction:`let nlp = window.compromise
return nlp(message).nouns().out('array').join(',')`},category:["extractor","compromise","algorithmic"]},"w1717772893368-hjs20gpukt":{samples:["Mr Brown drove his blue car to the tall office building where he worked tirelessly and sat at his extremely broad and comfortable desk."],name:"Extract Adjectives",config:{type:"algorithmic",processingFunction:`let nlp = window.compromise
return nlp(message).adjectives().out('array').join(',')`},category:["extractor","compromise","algorithmic"],skills:" "},"v1717772893368-hjs20gpukt":{samples:["Five days this week I did less than 2 hours."],name:"Extract Numbers",config:{type:"algorithmic",processingFunction:`let nlp = window.compromise
return nlp(message).numbers().out('array').join(',')`},category:["extractor","compromise","algorithmic"]},"u1717772893368-hjs20gpukt":{samples:["Last Friday was 12/05/1966. I was born on 3 Feb 2007"],name:"Extract Dates",config:{type:"algorithmic",processingFunction:"let nlp = window.compromise\nreturn nlp(message).dates().out('array').join(`\n`)"},category:["extractor","compromise","algorithmic"]},"t1717772893368-hjs20gpukt":{samples:["It took five seconds to undo 20 years of work."],name:"Extract Durations",config:{type:"algorithmic",processingFunction:"let nlp = window.compromise\nreturn nlp(message).durations().out('array').join(`\n`)"},category:["extractor","compromise","algorithmic"]},"s1717772893368-hjs20gpukt":{samples:["At midday I will be going to lunch then at 2pm I have a coffee with Fred before a party at 4:14 in the afternoon running through until midnight"],name:"Extract Time",config:{type:"algorithmic",processingFunction:"let nlp = window.compromise\nreturn nlp(message).times().out('array').join(`\n`)"},category:["extractor","compromise","algorithmic"]},"r1717772893368-hjs20gpukt":{samples:["Mr Brown drove his car to the office building where he worked and sat at his desk."],name:"Extract Word Count",config:{type:"algorithmic",processingFunction:`let nlp = window.compromise
return nlp(message).terms().length`},category:["extractor","compromise","algorithmic"]},"q1717772893368-hjs20gpukt":{samples:["Mr Brown drove his car to the office building. He worked there and went in and sat at his desk. I wish I had a desk"],name:"Extract Sentence Count",config:{type:"algorithmic",processingFunction:`let nlp = window.compromise
console.log("AAAAAAA",nlp(message).sentences() , nlp(message).sentences().out('array'))
return nlp(message).sentences().out('array').length`},category:["extractor","compromise","algorithmic"]},"p1717772893368-hjs20gpukt":{samples:["Mr Brown drove his car to the office building. He works there and went in and sat at his desk. I wish I had a desk"],name:"Transform Past Tense",config:{type:"algorithmic",processingFunction:`let nlp = window.compromise
return nlp(message).sentences().toPastTense().text()`},category:["transformer","compromise","algorithmic"]},"o1717772893368-hjs20gpukt":{samples:["Mr Brown drove his car to the office building where he worked and sat at his desk."],name:"Transform Present Tense",config:{type:"algorithmic",processingFunction:`let nlp = window.compromise
return nlp(message).sentences().toPresentTense().text()`},category:["transformer","compromise","algorithmic"]},"n1717772893368-hjs20gpukt":{samples:["Mr Brown drove his car to the office building where he worked and sat at his desk."],name:"Transform Future Tense",config:{type:"algorithmic",processingFunction:`let nlp = window.compromise
return nlp(message).sentences().toFutureTense().text()`},category:["transformer","compromise","algorithmic"]},"m1717772893368-hjs20gpukt":{samples:["Mr Brown drove his car to the office building where he worked and sat at his desk."],name:"Transform Negative",config:{type:"algorithmic",processingFunction:`let nlp = window.compromise
return nlp(message).sentences().toNegative().text()`},category:["transformer","compromise","algorithmic"]},"l1717772893368-hjs20gpukt":{samples:["Mr Brown drove his old car to the tall office building where he worked tirelessly and sat at his desk to start the long and challenging day."],name:"Extract POS Tags",config:{type:"algorithmic",processingFunction:'let nlp = window.compromise\nreturn "```" + `\\n` + JSON.stringify(nlp(message).json(),null,\'\\t\') + `\\n` + "```"'},category:["extractor","compromise","algorithmic"]},"k1717772893368-hjs20gpukt":{samples:["Mr Brown (bb@brown.com) drove his car to the office building where he worked and sat at his desk and wrote to Fred@gmail.co.uk."],name:"Extract Emails",config:{type:"algorithmic",processingFunction:"let nlp = window.compromise\nreturn nlp(message).match('#Email').out('array').join(`\n`)"},category:["extractor","compromise","algorithmic"],skills:"   "},"j1717772893368-hjs20gpukt":{samples:["https://google.com ws://genny.org  //:fred.me  https://beast"],name:"Extract URLs",config:{type:"algorithmic",processingFunction:"let nlp = window.compromise\nreturn nlp(message).match('#Url').out('array').join(`\n`)"},category:["extractor","compromise","algorithmic"]},"i717772893368-hjs20gpukt":{samples:["0264556676 was the number"],name:"Extract Phone Numbers",config:{type:"algorithmic",processingFunction:"let nlp = window.compromise\nreturn nlp(message).match('#PhoneNumber').out('array').join(`\n`)"},category:["extractor","compromise","algorithmic"]},"h717772893368-hjs20gpukt":{samples:["Mr Brown drove his car to the office building where he worked and sat at his desk."],name:"Extract @Mentions",config:{type:"algorithmic",processingFunction:"let nlp = window.compromise\nreturn nlp(message).match('#AtMention').out('array').join(`\n`)"},category:["extractor","compromise","algorithmic"]},"g717772893368-hjs20gpukt":{samples:["I had five euros and he gave me 20usd so I had something like $50"],name:"Extract Currencies",config:{type:"algorithmic",processingFunction:"let nlp = window.compromise \nreturn nlp(message).match('#Currency').out('array').join(`\n`)"},category:["extractor","compromise","algorithmic"]},"f717772893368-hjs20gpukt":{samples:["I'd like to go to Perth and she's already on the way to the top of Australia"],name:"Extract Places",config:{type:"algorithmic",processingFunction:"let nlp = window.compromise\nreturn nlp(message).match('#Place').out('array').join(`\n`)"},category:["extractor","compromise","algorithmic"]},"e717772893368-hjs20gpukt":{samples:["Waramanga Primary School is having a fete for the Fire Brigade","The Olympic Committee has banned five drug taking athletes from the Olympics Games says The Canberra Times"],name:"Extract Organisations",config:{type:"algorithmic",processingFunction:"let nlp = window.compromise\nreturn nlp(message).match('#Organization').out('array').join(`\n`)"},category:["extractor","compromise","algorithmic"]},"d717772893368-hjs20gpukt":{samples:["Mr Brown drove his car to the office building where he worked and sat at his desk."],name:"Extract Person Names",config:{type:"algorithmic",processingFunction:"let nlp = window.compromise\nreturn nlp(message).match('#Person').out('array').join(`\n`)"},category:["extractor","compromise","algorithmic"]},"a717772893368-hjs20gpukt":{samples:["Mr Brown drove his car to the office building where he worked and sat at his desk."],name:"Extract Ngrams",config:{type:"algorithmic",processingFunction:'let nlp = window.compromise\nreturn "```"  + `\\n` + JSON.stringify(nlp(message).ngrams(), null, \'\\t\') + `\\n` + "```" + `\\n`'},category:["extractor","compromise","algorithmic"]},"c717772893368-hjs20gpukt":{samples:["Mr Brown drove his car to the office building where he worked and sat at his desk."],name:"Extract Male Names",config:{type:"algorithmic",processingFunction:"let nlp = window.compromise\nreturn nlp(message).match('#MaleName').out('array').join(`\n`)"},category:["extractor","compromise","algorithmic"]},"b717772893368-hjs20gpukt":{samples:["Sue and Anne sat with Jo and Dillan and Sam"],name:"Extract Female Names",config:{type:"algorithmic",processingFunction:"let nlp = window.compromise\nreturn nlp(message).match('#FemaleName').out('array').join(`\n`)"},category:["extractor","compromise","algorithmic"]},"1717935955295-u8z68jrkf0s":{samples:[],config:{type:"algorithmic",processingFunction:"return window.tools.thesession_search_single(message)"},name:"TheSession.Org Search Single",category:["datasource","thesession.org"]},"1717936948156-bsjv7olct6e":{samples:["24139","7491","46sdfwe"],config:{type:"algorithmic",processingFunction:"return window.tools.thesession_settings_by_id(message)"},name:"TheSession.Org Settings By Id",category:["datasource","thesession.org"]},"1717936949641-eocttctjvl":{samples:[],config:{type:"algorithmic",processingFunction:"return window.tools.thesession_search_list(message)"},name:"TheSession.Org Search List",category:["datasource","thesession.org"]},"1717942421906-90sgbk1dic":{samples:["cats"],name:"Wikipedia Search",config:{type:"algorithmic",processingFunction:"return window.tools.wikipedia_search(message)"},category:["datasource","wikipedia"]},"1717942514204-t475sb53uxp":{samples:["Paul Simon"],name:"Wikipedia Content From Page Title",config:{type:"algorithmic",processingFunction:"return window.tools.wikipedia_load_page(message)"},category:["datasource","wikipedia"]},"1717942515340-jsev0x6nylk":{samples:["submarines nuclear"],name:"Wikipedia Content From Search",config:{type:"algorithmic",processingFunction:`return window.tools.wikipedia_first_result(message)
`},category:["datasource","wikipedia"]},"1717949606929-9i5lbrkkxjh":{samples:["astronauts"],name:"Tavily Web Searcher",config:{type:"algorithmic",processingFunction:"return window.tools.websearch_tavily(message)"},category:["datasource","websearch"]},"1717956780045-ph4d7cfynq":{samples:["print(33 + 7)"],name:"Code Executor",config:{type:"algorithmic",processingFunction:"return window.tools.coderunner_run(message)"},category:["code","executor"]}},teams:{"1716720278036-n6jkh49rj7t":{id:"1716720278036-n6jkh49rj7t",samples:["write a program to count to 10","write software to calculate how many days to my birthday given parameters birthdate and todays date"],name:"Software Development Team",members:["1715533081877-2tpar0hlv9j","1716312923586-z2unlz19v6j"],planner:[],type:"linear",message:"### Team Instructions Here",category:["code"]},"1716900089701-0y81p8jhlucb":{samples:[],name:"Tool Use Research Team",members:["1716900208679-f9klfahrc88","1716959801862-o0ix9xac5s","1716312794795-va5kaw390n"],type:"linear",planner:["1716992436451-wq0mhv6vy7k"],generator:["1716992597787-cwb0uesyhui"],summariser:["1716992648044-aacb0ownl4h"],scorer:["1716992715805-45p1nsa0pzp"],rewriter:[],max_iterations:"2",formatter:["1716996644650-y63gtce9wso"],category:["tools","research"]},"1717319873030-nhyrfanoyoj":{samples:[],name:"Parallel Team",members:["1715533081877-2tpar0hlv9j","TEAM:::::1717426628299-mui4vkuastr","1716380148021-jmr5vlbgchi"],type:"parallel",formatter:[],compress:!1,category:["test"]},"1717331565735-dcosvr16pth":{samples:[],name:"MOE Team",members:["1715533081877-2tpar0hlv9j","1715534102855-ax75ogkqee","1716342130741-qi5fwi191de"],type:"mixtureofexperts",expert_selector:["1717332876182-suem1geq9rl"],compress:!1,category:["test"]},"1717334021208-00nh67e94lktn":{samples:[],name:"Role Based Team",type:"rolesbased",blocker:["1717334469088-4z6c9tnv5sl"],feeder:["1717335922226-rt50ddqlwzl"],planner:["1717335969783-i8hl4shqzfd"],generator:["TEAM:::::1717426628299-mui4vkuastr"],summariser:["1716312794795-va5kaw390n"],scorer:["1717340874527-3dv4jxddp1f"],rewriter:["1716312794795-va5kaw390n"],formatter:["1716451547928-z6uw4ieprmk"],category:["test"]},"1717412714995-fmh0ivutvja":{samples:[],name:"Linear Team",type:"linear",members:["1715533081877-2tpar0hlv9j","1716312923586-z2unlz19v6j"],compress:!1,formatter:["1717426372042-uk1c0x5r7x"],category:["test"]},"1717420927636-8ziare6zlpt":{type:"mixtureofexperts",samples:[],name:"Nested Team Example",members:["1717426372042-uk1c0x5r7x","TEAM:::::1717426628299-mui4vkuastr","1715534102855-ax75ogkqee"],formatter:[],question_generator:["1717426372042-uk1c0x5r7x"],skills:"I am good at research and finding facts on google",category:["test"]},"1717426628299-mui4vkuastr":{type:"linear",samples:[],name:"Nested Research Team",members:["1717426581325-tf6h3k1mv7p","1716312794795-va5kaw390n"],skills:"I am good at finding facts on google",category:["test","research"]},"1717560646932-dqy416i5p8r":{type:"generator",samples:[],name:"Generator Team",members:["1717584097032-s8rzhoro5v"],formatter:[],max_generated_items:"3",question_generator:["1717678143866-v3hj7syijr"],category:["test"]},"1717904013873-dvpxs9l3ql6":{type:"linear",samples:["write code to count to 10"],category:["code","test"],name:"Test Code Execution",members:["1715533081877-2tpar0hlv9j","1717956780045-ph4d7cfynq"]}}};function useSystemMessageManager({forceRefresh:_e,doSave:et,chatHistoryId:tt,categories:nt,setCategories:rt}){const it=defaults.roles,ot=useNameGenerator(),st=useUtils();function ut(){localStorage.setItem("voice2llm_last_role",""),_t("")}function ft(Nt){if(mt&&mt[Nt]){const It=st.generateRandomId();mt[It]=JSON.parse(JSON.stringify(mt[Nt])),mt[It].name=(mt[It].name?mt[It].name:"")+" "+ot.generate(),bt(mt),_e()}}const[dt,lt]=reactExports.useState({});function at(Nt){localStorage.setItem("voice2llm_chat_history_roles",JSON.stringify(Nt)),lt(Nt),et()}const[ct,ht]=reactExports.useState({});function pt(Nt){localStorage.setItem("voice2llm_chat_history_teams",JSON.stringify(Nt)),ht(Nt),et()}const[mt,gt]=reactExports.useState(it),yt=reactExports.useRef();function bt(Nt){yt.current=Nt;let It={};Object.keys(Nt).filter(function(zt){let Gt=Nt[zt];return Object.keys(Gt).length===0||Gt.hasOwnProperty("samples")&&Object.keys(Gt).length===1?!1:!(Gt.hasOwnProperty("samples")&&Gt.hasOwnProperty("category")&&Object.keys(Gt).length===2)}).forEach(function(zt){It[zt]=Nt[zt]});let Bt=JSON.stringify(It);localStorage.setItem("voice2llm_roles",Bt),gt(yt.current),et()}const[xt,vt]=reactExports.useState(null),wt=reactExports.useRef("");async function _t(Nt,It=null){localStorage.setItem("voice2llm_current_role",Nt),vt(Nt),wt.current=Nt,dt&&It&&(dt[It]=Nt),at(dt),et()}function Ct(Nt){mt[Nt]&&window.confirm("Really delete the role "+mt[Nt].name+" ?")&&(delete mt[Nt],bt(mt),_e())}const[Et,$t]=reactExports.useState({});function jt(Nt){let It=JSON.stringify(Nt);$t(Nt),localStorage.setItem("voice2llm_teams",It),et()}const[Dt,Pt]=reactExports.useState({});function kt(Nt){Pt(Nt),localStorage.setItem("voice2llm_current_team",Nt),ct&&tt&&(ct[tt]=Nt),pt(ct),et()}function At(Nt){Et[Nt]&&window.confirm("Really delete the team "+Et[Nt].name+" ?")&&(delete Et[Nt],jt(Et),_e())}function Tt(Nt){return Nt==="null"?null:Nt}function St(){vt(Tt(localStorage.getItem("voice2llm_current_role"))),Pt(Tt(localStorage.getItem("voice2llm_current_team")));try{const Bt=JSON.parse(localStorage.getItem("voice2llm_roles"));Bt?gt(Bt):bt(defaults.roles)}catch{bt(defaults.roles)}try{at(JSON.parse(localStorage.getItem("voice2llm_chat_history_roles")))}catch{at({})}try{let Bt=JSON.parse(localStorage.getItem("voice2llm_teams"));jt(Bt||defaults.teams),_e()}catch{jt(defaults.teams),_e()}mt||bt(it),dt||at({}),dt||pt({});let Nt={},It=1;Object.values(mt).forEach(function(Bt){Bt&&Array.isArray(Bt.category)&&Bt.category.forEach(function(zt){Nt[zt]||(Nt[zt]=It,It=It+1)})}),Object.values(Et).forEach(function(Bt){Bt&&Array.isArray(Bt.category)&&Bt.category.forEach(function(zt){Nt[zt]||(Nt[zt]=It,It=It+1)})}),rt(Nt)}reactExports.useEffect(function(){St()},[]);function Rt(){try{const Nt=JSON.parse(localStorage.getItem("voice2llm_roles")),It=JSON.parse(localStorage.getItem("voice2llm_teams")),Bt=new Blob([JSON.stringify({roles:Nt,teams:It},null,"	")],{type:"application/json"}),zt=window.URL.createObjectURL(Bt),Gt=document.createElement("a");Gt.href=zt,Gt.download="roles.json",document.body.appendChild(Gt),Gt.click(),window.URL.revokeObjectURL(zt),document.body.removeChild(Gt)}catch{}}function Ot(Nt){let It={};try{It=JSON.parse(localStorage.getItem("voice2llm_roles"))}catch{It={}}let Bt={};try{Bt=JSON.parse(localStorage.getItem("voice2llm_teams"))}catch{Bt={}}It||(It={}),Bt||(Bt={});const zt=Nt.target.files[0],Gt=new FileReader;Gt.onload=Kt=>{const fn=Kt.target.result;try{let dn=JSON.parse(fn);dn&&(console.log("TTT",dn),dn.roles&&(Object.keys(dn.roles).forEach(function(Wt){It[Wt]=dn.roles[Wt]}),bt(It)),dn.teams&&(Object.keys(dn.teams).forEach(function(Wt){Bt[Wt]=dn.teams[Wt]}),jt(Bt)),_e(),et(),console.log("TTT",Bt))}catch(dn){console.log(dn)}},Gt.readAsText(zt)}return{exportRoles:Rt,importRoles:Ot,init:St,roles:mt,rolesRef:yt,setRoles:bt,currentRole:xt,setCurrentRole:_t,defaultRoles:it,newRole:ut,deleteRole:Ct,chatHistoryRoles:dt,setChatHistoryRoles:at,chatHistoryTeams:ct,setChatHistoryTeams:pt,currentRoleRef:wt,setCurrentTeam:kt,currentTeam:Dt,deleteTeam:At,duplicateRole:ft,teams:Et,setTeams:jt}}function useGoogleDocument(_e,et,tt,nt,rt,it,ot){var st=et?et.access_token:null,ut=reactExports.useRef(null);reactExports.useEffect(function(){return et&&et.access_token&&rt&&lt(ot,rt),function(){at()}},[et]);function ft(){return new Promise(function(Pt,kt){var At=new XMLHttpRequest;At.onload=function(St){if(St.target.responseText){var Rt=JSON.parse(St.target.responseText),Ot=!1;Rt&&Rt.files&&Array.isArray(Rt.files)&&Rt.files.length>0&&Array.isArray(Rt.files)&&Rt.files.forEach(function(Nt){Nt&&Nt.name===_e&&(Ot=Nt.id)}),Ot?Pt(Ot):vt(_e,null,"application/vnd.google-apps.folder","Folder for "+_e+" data").then(function(Nt){Pt(Nt)})}};var Tt="?q="+encodeURIComponent("name='"+_e+"' and mimeType = 'application/vnd.google-apps.folder' and trashed = false");At.open("GET","https://www.googleapis.com/drive/v3/files"+Tt+"&nocache="+String(parseInt(Math.random()*1e9))),At.setRequestHeader("Authorization","Bearer "+st),At.send()})}function dt(Pt,kt,At=1){localStorage.getItem("google_last_page_token")?ht().then(function(Tt){kt&&Array.isArray(Tt)&&(Tt.length>0?kt(Tt).then(function(){lt(Pt,kt)}):lt(Pt,kt,At<6?At+1:At))}):ct().then(function(){ht().then(function(Tt){kt&&Array.isArray(Tt)&&(Tt.length>0?kt(Tt).then(function(){lt(Pt,kt)}):lt(Pt,kt,At<6?At+1:At))})})}function lt(Pt,kt,At=1){var Tt=Pt>4e3?Pt:15e3;clearTimeout(ut.current),ut.current=setTimeout(function(){dt(Pt,kt,At)},Tt)}function at(){clearTimeout(ut.current)}function ct(){return new Promise(function(Pt,kt){var At=!0;if(st&&At){var Tt="https://www.googleapis.com/drive/v3/changes/startPageToken";axios({method:"get",url:Tt,headers:{Authorization:"Bearer "+st}}).then(function(St){St.data&&St.data.startPageToken&&localStorage.setItem("google_last_page_token",St.data.startPageToken),Pt(St.data)}).catch(function(St){console.log(St),St&&St.response&&St.response.status=="401"&&tt(),Pt()})}else Pt()})}function ht(){return new Promise(function(Pt,kt){Pt()})}function pt(Pt){return new Promise(function(kt,At){if(Pt&&st){var Tt="?q="+encodeURIComponent("name='"+Pt+"'"),St="https://www.googleapis.com/drive/v3/files"+Tt;axios({method:"get",url:St,headers:{Authorization:"Bearer "+st}}).then(function(Rt){kt(Rt.data)}).catch(function(Rt){Rt&&Rt.response&&Rt.response.status=="401"&&tt(),kt()})}else!st&&localStorage.getItem("google_login_user")&&nt(),kt()})}function mt(Pt,kt="text"){return new Promise(function(At,Tt){Pt?axios({method:"get",url:"https://drive.google.com/u/0/uc?id="+Pt+"&export=download"}).then(function(St){At(St.data)}).catch(function(St){console.log(St),St&&St.response&&St.response.status=="401"&&tt(),At()}):(!st&&localStorage.getItem("google_login_user")&&nt(),At())})}function gt(Pt){return new Promise(function(kt,At){Pt&&st?axios({method:"get",url:"https://www.googleapis.com/drive/v3/files/"+Pt+"?alt=media&nocache="+String(parseInt(Math.random()*1e9)),headers:{Authorization:"Bearer "+st}}).then(function(Tt){kt(Tt.data)}).catch(function(Tt){console.log(Tt),Tt&&Tt.response&&Tt.response.status=="401"&&(console.log("LOGOUT ON AUTH TOKEN FAIL"),tt()),kt()}):(nt&&!st&&localStorage.getItem("google_login_user")&&nt(),kt())})}function yt(Pt,kt="text/plain"){return new Promise(function(At,Tt){Pt&&st?axios({method:"get",url:"https://www.googleapis.com/drive/v3/files/"+Pt+"/export?mimeType="+kt,headers:{Authorization:"Bearer "+st}}).then(function(St){At(St.data)}).catch(function(St){console.log(St),St&&St.response&&St.response.status=="401"&&tt(),At()}):(nt&&!st&&localStorage.getItem("google_login_user")&&nt(),At())})}function bt(Pt,kt=null){return new Promise(function(At,Tt){var St=kt||(et?et.access_token:null);Pt&&St?axios({method:"get",url:"https://www.googleapis.com/drive/v3/files/"+Pt+"?alt=media&nocache="+String(parseInt(Math.random()*1e9)),headers:{Authorization:"Bearer "+St},responseType:"blob"}).then(function(Rt){At(Rt.data)}).catch(function(Rt){console.log(Rt),Rt&&Rt.response&&Rt.response.status=="401"&&tt(),At({error:Rt})}):(nt&&!st&&localStorage.getItem("google_login_user")&&nt(),At({error:"missing token"}))})}function xt(Pt){return new Promise(function(kt,At){Pt&&st?axios({method:"get",url:"https://www.googleapis.com/drive/v3/files/"+Pt+"?fields=modifiedTime,name,kind,fileExtension,mimeType,exportLinks,thumbnailLink,size,id,description,trashed,explicitlyTrashed",headers:{Authorization:"Bearer "+st}}).then(function(Tt){kt(Tt.data)}).catch(function(Tt){console.log(Tt),Tt&&Tt.response&&Tt.response.status=="401"&&tt(),kt()}):(nt&&!st&&localStorage.getItem("google_login_user")&&nt(),kt())})}function vt(Pt,kt,At="application/vnd.google-apps.document",Tt="",St=null,Rt=null){return new Promise(function(Ot,Nt){var It=Rt||(et?et.access_token:null);if(At&&Pt&&It){var Bt={description:Tt,kind:"drive#file",name:Pt,mimeType:At};St&&(Bt.parents=[St]),axios({method:"post",url:"https://www.googleapis.com/drive/v3/files",data:Bt,headers:{Authorization:"Bearer "+It}}).then(function(zt){zt&&zt.data&&zt.data.id?kt?_t(zt.data.id,kt,It).then(function(Gt){localStorage.setItem("google_last_page_token",""),Ot(zt.data.id)}):Ot(zt.data.id):Ot({error:"failed to get created document id	"})}).catch(function(zt){console.log(zt),zt&&zt.response&&zt.response.status=="401"&&tt(),Ot({error:zt})})}else nt&&!st&&localStorage.getItem("google_login_user")&&nt(),Ot({error:["Invalid request missing document title or access token",Pt,"TTT",st,"TTT"]})})}function wt(Pt,kt){return new Promise(function(At,Tt){Pt&&st?axios({method:"patch",url:"https://www.googleapis.com/drive/v3/files/"+Pt+"?alt=json",data:kt,headers:{Authorization:"Bearer "+st}}).then(function(St){localStorage.setItem("google_last_page_token",""),At()}).catch(function(St){console.log(St),St&&St.response&&St.response.status=="401"&&(console.log("LOGOUT ON AUTH TOKEN FAIL"),tt()),At({error:St})}):(nt&&!st&&localStorage.getItem("google_login_user")&&nt(),At())})}function _t(Pt,kt,At=null){return new Promise(function(Tt,St){var Rt=At||(et?et.access_token:null);Pt&&Rt?axios({method:"patch",url:"https://www.googleapis.com/upload/drive/v3/files/"+Pt+"?uploadType=media",headers:{Authorization:"Bearer "+Rt},data:kt}).then(function(Ot){localStorage.setItem("google_last_page_token",""),Tt(Ot)}).catch(function(Ot){console.log(Ot),Ot&&Ot.response&&Ot.response.status=="401"&&(console.log("LOGOUT ON AUTH TOKEN FAIL"),tt()),Tt({error:Ot})}):(nt&&!st&&localStorage.getItem("google_login_user")&&nt(),Tt())})}function Ct(Pt){return new Promise(function(kt,At){Pt&&st?axios({method:"delete",url:"https://www.googleapis.com/drive/v2/files/"+Pt,headers:{Authorization:"Bearer "+st}}).then(function(Tt){localStorage.setItem("google_last_page_token",""),kt(Tt)}).catch(function(Tt){console.log(Tt),Tt&&Tt.response&&Tt.response.status=="401"&&tt(),kt({error:Tt})}):nt&&!st&&localStorage.getItem("google_login_user")&&nt()})}function Et(Pt,kt){return new Promise(function(At,Tt){Pt&&st?axios({method:"post",url:"https://www.googleapis.com/drive/v3/files/"+Pt+"/permissions",headers:{Authorization:"Bearer "+st},data:kt}).then(function(St){At(St)}).catch(function(St){console.log(St),St&&St.response&&St.response.status=="401"&&tt(),At({error:St})}):(nt&&!st&&localStorage.getItem("google_login_user")&&nt(),At())})}function $t(Pt){return new Promise(function(kt,At){Pt&&st?axios({method:"get",url:"https://www.googleapis.com/drive/v3/files/"+Pt+"/permissions",headers:{Authorization:"Bearer "+st}}).then(function(Tt){kt(Tt)}).catch(function(Tt){console.log(Tt),Tt&&Tt.response&&Tt.response.status=="401"&&tt(),kt({error:Tt})}):(nt&&!st&&localStorage.getItem("google_login_user")&&nt(),kt())})}function jt(Pt,kt,At){return new Promise(function(Tt,St){Pt&&st?axios({method:"patch",url:"https://www.googleapis.com/drive/v3/files/"+Pt+"/permissions/"+kt,headers:{Authorization:"Bearer "+st},data:At}).then(function(Rt){Tt(Rt)}).catch(function(Rt){console.log(Rt),Rt&&Rt.response&&Rt.response.status=="401"&&tt(),Tt({error:Rt})}):(nt&&!st&&localStorage.getItem("google_login_user")&&nt(),Tt())})}function Dt(Pt,kt){return new Promise(function(At,Tt){Pt&&st?axios({method:"delete",url:"https://www.googleapis.com/drive/v3/files/"+Pt+"/permissions/"+kt,headers:{Authorization:"Bearer "+st}}).then(function(St){At(St)}).catch(function(St){console.log(St),St&&St.response&&St.response.status=="401"&&tt(),At({error:St})}):(nt&&!st&&localStorage.getItem("google_login_user")&&nt(),At())})}return{findGoogleFolderInDrive:ft,getPublicDocument:mt,findDocument:pt,getDocument:gt,getDocumentBlob:bt,getDocumentMeta:xt,updateDocument:wt,updateDocumentData:_t,createDocument:vt,deleteDocument:Ct,pollChanges:lt,stopPollChanges:at,addPermission:Et,listPermissions:$t,updatePermission:jt,deletePermission:Dt,exportDocument:yt}}function usePollingGoogleDocument(_e){const{token:et,logout:tt,refresh:nt,pollingInterval:rt,onMerge:it,pausePolling:ot,setGoogleDocumentId:st,googleDocumentId:ut,googleFileName:ft}=_e;var dt=useGoogleDocument(ft||"App Storage",et,tt,nt,function(mt){return new Promise(function(gt,yt){var bt=mt.filter(function(xt){return xt.fileId===lt.current},ot,rt);bt&&bt.length===1?dt.exportDocument(lt.current).then(function(xt){it(xt),gt()}):gt()})},!0,rt);reactExports.useEffect(function(){et&&et.access_token?pt():lt.current=null},[et]);var lt=reactExports.useRef(null),at=et?et.access_token:null,ct=reactExports.useRef(null);function ht(mt,gt=3e3){return new Promise(function(yt,bt){ot.current=!0,lt.current?(clearTimeout(ct.current),ct.current=setTimeout(function(){dt.updateDocumentData(lt.current,mt).then(function(){ot.current=!1}),yt()},gt)):yt()})}function pt(){var mt=new XMLHttpRequest;mt.onload=function(yt){if(yt.target.responseText){var bt=JSON.parse(yt.target.responseText),xt=!1;bt&&bt.files&&Array.isArray(bt.files)&&bt.files.length>0&&Array.isArray(bt.files)&&bt.files.forEach(function(vt){vt&&vt.name===ft&&(xt=vt.id)}),xt?(lt.current=xt,st(xt),dt.exportDocument(xt).then(function(vt){it(vt)})):dt.findGoogleFolderInDrive().then(function(vt){vt&&dt.createDocument(ft,"","application/vnd.google-apps.document","Document for "+ft+" data",vt).then(function(wt){lt.current=wt,st(wt),dt.exportDocument(wt).then(function(_t){it(_t)})})})}};var gt="?q="+encodeURIComponent("name='"+ft+"' and mimeType != 'application/vnd.google-apps.folder' and trashed = false");mt.open("GET","https://www.googleapis.com/drive/v3/files"+gt+"&nocache="+String(parseInt(Math.random()*1e9))),mt.setRequestHeader("Authorization","Bearer "+at),mt.send()}return{save:ht,exportDocument:dt.exportDocument,getDocument:dt.getDocument}}function MergeWarningModal({chatHistoryId:_e,chatHistories:et,setChatHistories:tt,logs:nt,setLogs:rt,doSave:it,forceRefresh:ot,mergeData:st,setMergeData:ut,systemConfig:ft,setSystemConfig:dt,roles:lt,setRoles:at,category:ct,setCategory:ht,systemMessage:pt,setSystemMessage:mt,chatHistory:gt,setChatHistory:yt,currentRole:bt,setCurrentRole:xt,config:vt,setConfig:wt,setChatHistoryRoles:_t}){function Ct(){if(st){if(st.config&&wt(st.config),st.currentRole&&xt(st.currentRole),st.chatHistoryRoles&&_t(st.chatHistoryRoles),typeof st.roles=="object"){let jt=lt;jt||(jt={}),Object.keys(st.roles).forEach(function(Dt){Dt&&st.roles[Dt]&&(jt[Dt]=st.roles[Dt])}),at(jt)}st.chatHistories&&(et||(et={}),Object.keys(st.chatHistories).forEach(function(jt){et[jt]=st.chatHistories[jt]}),tt(et)),rt(typeof nt=="object"?nt:{});let $t=nt;if(typeof st.logs=="object"){if(Array.isArray(st.logs.openai_log)){Array.isArray($t.openai_log)||($t.openai_log=[]);let jt={};$t.openai_log.forEach(function(Dt){Dt&&Dt.id&&(jt[Dt.id]=1)}),st.logs.openai_log.forEach(function(Dt){Dt&&Dt.id&&!jt.hasOwnProperty(Dt.id)&&$t.openai_log.push(Dt)})}if(Array.isArray(st.logs.openai_log_stt)){Array.isArray($t.openai_log_stt)||($t.openai_log_stt=[]);let jt={};$t.openai_log_stt.forEach(function(Dt){Dt&&Dt.id&&(jt[Dt.id]=1)}),st.logs.openai_log_stt.forEach(function(Dt){Dt&&Dt.id&&!jt.hasOwnProperty(Dt.id)&&$t.openai_log_stt.push(Dt)})}if(Array.isArray(st.logs.openai_log_tts)){Array.isArray($t.openai_log_tts)||($t.openai_log_tts=[]);let jt={};$t.openai_log_tts.forEach(function(Dt){Dt&&Dt.id&&(jt[Dt.id]=1)}),st.logs.openai_log_tts.forEach(function(Dt){Dt&&Dt.id&&!jt.hasOwnProperty(Dt.id)&&$t.openai_log_tts.push(Dt)})}rt($t)}ut(null)}}function Et(){it(),ut(null)}return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs(Modal$2,{show:!0,children:[jsxRuntimeExports.jsx(Modal$2.Header,{closeButton:!0,children:jsxRuntimeExports.jsx(Modal$2.Title,{style:{marginRight:"2em"},children:"Merge Warning"})}),jsxRuntimeExports.jsxs(Modal$2.Body,{children:[jsxRuntimeExports.jsx("div",{style:{width:"100%",clear:"both",marginBottom:"2em"},children:"Do you want to merge changes made on another device?"}),jsxRuntimeExports.jsxs(Row,{children:[jsxRuntimeExports.jsx(Col,{className:"mb-3",children:jsxRuntimeExports.jsx(Button,{variant:"success",style:{float:"left",marginLeft:"2em",marginBottom:"0.3em"},onClick:function(){Ct()},children:"Yes"})}),jsxRuntimeExports.jsx(Col,{className:"mb-3",children:jsxRuntimeExports.jsx(Button,{variant:"danger",style:{float:"left",marginLeft:"2em",marginBottom:"0.3em"},onClick:function(){Et()},children:"No"})})]})]})]})})}function commonjsRequire(_e){throw new Error('Could not dynamically require "'+_e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var localforage$1={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(_e,et){(function(tt){_e.exports=tt()})(function(){return function tt(nt,rt,it){function ot(ft,dt){if(!rt[ft]){if(!nt[ft]){var lt=typeof commonjsRequire=="function"&&commonjsRequire;if(!dt&&lt)return lt(ft,!0);if(st)return st(ft,!0);var at=new Error("Cannot find module '"+ft+"'");throw at.code="MODULE_NOT_FOUND",at}var ct=rt[ft]={exports:{}};nt[ft][0].call(ct.exports,function(ht){var pt=nt[ft][1][ht];return ot(pt||ht)},ct,ct.exports,tt,nt,rt,it)}return rt[ft].exports}for(var st=typeof commonjsRequire=="function"&&commonjsRequire,ut=0;ut<it.length;ut++)ot(it[ut]);return ot}({1:[function(tt,nt,rt){(function(it){var ot=it.MutationObserver||it.WebKitMutationObserver,st;if(ot){var ut=0,ft=new ot(ht),dt=it.document.createTextNode("");ft.observe(dt,{characterData:!0}),st=function(){dt.data=ut=++ut%2}}else if(!it.setImmediate&&typeof it.MessageChannel<"u"){var lt=new it.MessageChannel;lt.port1.onmessage=ht,st=function(){lt.port2.postMessage(0)}}else"document"in it&&"onreadystatechange"in it.document.createElement("script")?st=function(){var mt=it.document.createElement("script");mt.onreadystatechange=function(){ht(),mt.onreadystatechange=null,mt.parentNode.removeChild(mt),mt=null},it.document.documentElement.appendChild(mt)}:st=function(){setTimeout(ht,0)};var at,ct=[];function ht(){at=!0;for(var mt,gt,yt=ct.length;yt;){for(gt=ct,ct=[],mt=-1;++mt<yt;)gt[mt]();yt=ct.length}at=!1}nt.exports=pt;function pt(mt){ct.push(mt)===1&&!at&&st()}}).call(this,typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(tt,nt,rt){var it=tt(1);function ot(){}var st={},ut=["REJECTED"],ft=["FULFILLED"],dt=["PENDING"];nt.exports=lt;function lt(vt){if(typeof vt!="function")throw new TypeError("resolver must be a function");this.state=dt,this.queue=[],this.outcome=void 0,vt!==ot&&pt(this,vt)}lt.prototype.catch=function(vt){return this.then(null,vt)},lt.prototype.then=function(vt,wt){if(typeof vt!="function"&&this.state===ft||typeof wt!="function"&&this.state===ut)return this;var _t=new this.constructor(ot);if(this.state!==dt){var Ct=this.state===ft?vt:wt;ct(_t,Ct,this.outcome)}else this.queue.push(new at(_t,vt,wt));return _t};function at(vt,wt,_t){this.promise=vt,typeof wt=="function"&&(this.onFulfilled=wt,this.callFulfilled=this.otherCallFulfilled),typeof _t=="function"&&(this.onRejected=_t,this.callRejected=this.otherCallRejected)}at.prototype.callFulfilled=function(vt){st.resolve(this.promise,vt)},at.prototype.otherCallFulfilled=function(vt){ct(this.promise,this.onFulfilled,vt)},at.prototype.callRejected=function(vt){st.reject(this.promise,vt)},at.prototype.otherCallRejected=function(vt){ct(this.promise,this.onRejected,vt)};function ct(vt,wt,_t){it(function(){var Ct;try{Ct=wt(_t)}catch(Et){return st.reject(vt,Et)}Ct===vt?st.reject(vt,new TypeError("Cannot resolve promise with itself")):st.resolve(vt,Ct)})}st.resolve=function(vt,wt){var _t=mt(ht,wt);if(_t.status==="error")return st.reject(vt,_t.value);var Ct=_t.value;if(Ct)pt(vt,Ct);else{vt.state=ft,vt.outcome=wt;for(var Et=-1,$t=vt.queue.length;++Et<$t;)vt.queue[Et].callFulfilled(wt)}return vt},st.reject=function(vt,wt){vt.state=ut,vt.outcome=wt;for(var _t=-1,Ct=vt.queue.length;++_t<Ct;)vt.queue[_t].callRejected(wt);return vt};function ht(vt){var wt=vt&&vt.then;if(vt&&(typeof vt=="object"||typeof vt=="function")&&typeof wt=="function")return function(){wt.apply(vt,arguments)}}function pt(vt,wt){var _t=!1;function Ct(Dt){_t||(_t=!0,st.reject(vt,Dt))}function Et(Dt){_t||(_t=!0,st.resolve(vt,Dt))}function $t(){wt(Et,Ct)}var jt=mt($t);jt.status==="error"&&Ct(jt.value)}function mt(vt,wt){var _t={};try{_t.value=vt(wt),_t.status="success"}catch(Ct){_t.status="error",_t.value=Ct}return _t}lt.resolve=gt;function gt(vt){return vt instanceof this?vt:st.resolve(new this(ot),vt)}lt.reject=yt;function yt(vt){var wt=new this(ot);return st.reject(wt,vt)}lt.all=bt;function bt(vt){var wt=this;if(Object.prototype.toString.call(vt)!=="[object Array]")return this.reject(new TypeError("must be an array"));var _t=vt.length,Ct=!1;if(!_t)return this.resolve([]);for(var Et=new Array(_t),$t=0,jt=-1,Dt=new this(ot);++jt<_t;)Pt(vt[jt],jt);return Dt;function Pt(kt,At){wt.resolve(kt).then(Tt,function(St){Ct||(Ct=!0,st.reject(Dt,St))});function Tt(St){Et[At]=St,++$t===_t&&!Ct&&(Ct=!0,st.resolve(Dt,Et))}}}lt.race=xt;function xt(vt){var wt=this;if(Object.prototype.toString.call(vt)!=="[object Array]")return this.reject(new TypeError("must be an array"));var _t=vt.length,Ct=!1;if(!_t)return this.resolve([]);for(var Et=-1,$t=new this(ot);++Et<_t;)jt(vt[Et]);return $t;function jt(Dt){wt.resolve(Dt).then(function(Pt){Ct||(Ct=!0,st.resolve($t,Pt))},function(Pt){Ct||(Ct=!0,st.reject($t,Pt))})}}},{1:1}],3:[function(tt,nt,rt){(function(it){typeof it.Promise!="function"&&(it.Promise=tt(2))}).call(this,typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(tt,nt,rt){var it=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Lt){return typeof Lt}:function(Lt){return Lt&&typeof Symbol=="function"&&Lt.constructor===Symbol&&Lt!==Symbol.prototype?"symbol":typeof Lt};function ot(Lt,Xt){if(!(Lt instanceof Xt))throw new TypeError("Cannot call a class as a function")}function st(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var ut=st();function ft(){try{if(!ut||!ut.open)return!1;var Lt=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),Xt=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!Lt||Xt)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function dt(Lt,Xt){Lt=Lt||[],Xt=Xt||{};try{return new Blob(Lt,Xt)}catch(tn){if(tn.name!=="TypeError")throw tn;for(var Ht=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,on=new Ht,ln=0;ln<Lt.length;ln+=1)on.append(Lt[ln]);return on.getBlob(Xt.type)}}typeof Promise>"u"&&tt(3);var lt=Promise;function at(Lt,Xt){Xt&&Lt.then(function(Ht){Xt(null,Ht)},function(Ht){Xt(Ht)})}function ct(Lt,Xt,Ht){typeof Xt=="function"&&Lt.then(Xt),typeof Ht=="function"&&Lt.catch(Ht)}function ht(Lt){return typeof Lt!="string"&&(console.warn(Lt+" used as a key, but it is not a string."),Lt=String(Lt)),Lt}function pt(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var mt="local-forage-detect-blob-support",gt=void 0,yt={},bt=Object.prototype.toString,xt="readonly",vt="readwrite";function wt(Lt){for(var Xt=Lt.length,Ht=new ArrayBuffer(Xt),on=new Uint8Array(Ht),ln=0;ln<Xt;ln++)on[ln]=Lt.charCodeAt(ln);return Ht}function _t(Lt){return new lt(function(Xt){var Ht=Lt.transaction(mt,vt),on=dt([""]);Ht.objectStore(mt).put(on,"key"),Ht.onabort=function(ln){ln.preventDefault(),ln.stopPropagation(),Xt(!1)},Ht.oncomplete=function(){var ln=navigator.userAgent.match(/Chrome\/(\d+)/),tn=navigator.userAgent.match(/Edge\//);Xt(tn||!ln||parseInt(ln[1],10)>=43)}}).catch(function(){return!1})}function Ct(Lt){return typeof gt=="boolean"?lt.resolve(gt):_t(Lt).then(function(Xt){return gt=Xt,gt})}function Et(Lt){var Xt=yt[Lt.name],Ht={};Ht.promise=new lt(function(on,ln){Ht.resolve=on,Ht.reject=ln}),Xt.deferredOperations.push(Ht),Xt.dbReady?Xt.dbReady=Xt.dbReady.then(function(){return Ht.promise}):Xt.dbReady=Ht.promise}function $t(Lt){var Xt=yt[Lt.name],Ht=Xt.deferredOperations.pop();if(Ht)return Ht.resolve(),Ht.promise}function jt(Lt,Xt){var Ht=yt[Lt.name],on=Ht.deferredOperations.pop();if(on)return on.reject(Xt),on.promise}function Dt(Lt,Xt){return new lt(function(Ht,on){if(yt[Lt.name]=yt[Lt.name]||Bt(),Lt.db)if(Xt)Et(Lt),Lt.db.close();else return Ht(Lt.db);var ln=[Lt.name];Xt&&ln.push(Lt.version);var tn=ut.open.apply(ut,ln);Xt&&(tn.onupgradeneeded=function(An){var Rn=tn.result;try{Rn.createObjectStore(Lt.storeName),An.oldVersion<=1&&Rn.createObjectStore(mt)}catch(_n){if(_n.name==="ConstraintError")console.warn('The database "'+Lt.name+'" has been upgraded from version '+An.oldVersion+" to version "+An.newVersion+', but the storage "'+Lt.storeName+'" already exists.');else throw _n}}),tn.onerror=function(An){An.preventDefault(),on(tn.error)},tn.onsuccess=function(){var An=tn.result;An.onversionchange=function(Rn){Rn.target.close()},Ht(An),$t(Lt)}})}function Pt(Lt){return Dt(Lt,!1)}function kt(Lt){return Dt(Lt,!0)}function At(Lt,Xt){if(!Lt.db)return!0;var Ht=!Lt.db.objectStoreNames.contains(Lt.storeName),on=Lt.version<Lt.db.version,ln=Lt.version>Lt.db.version;if(on&&(Lt.version!==Xt&&console.warn('The database "'+Lt.name+`" can't be downgraded from version `+Lt.db.version+" to version "+Lt.version+"."),Lt.version=Lt.db.version),ln||Ht){if(Ht){var tn=Lt.db.version+1;tn>Lt.version&&(Lt.version=tn)}return!0}return!1}function Tt(Lt){return new lt(function(Xt,Ht){var on=new FileReader;on.onerror=Ht,on.onloadend=function(ln){var tn=btoa(ln.target.result||"");Xt({__local_forage_encoded_blob:!0,data:tn,type:Lt.type})},on.readAsBinaryString(Lt)})}function St(Lt){var Xt=wt(atob(Lt.data));return dt([Xt],{type:Lt.type})}function Rt(Lt){return Lt&&Lt.__local_forage_encoded_blob}function Ot(Lt){var Xt=this,Ht=Xt._initReady().then(function(){var on=yt[Xt._dbInfo.name];if(on&&on.dbReady)return on.dbReady});return ct(Ht,Lt,Lt),Ht}function Nt(Lt){Et(Lt);for(var Xt=yt[Lt.name],Ht=Xt.forages,on=0;on<Ht.length;on++){var ln=Ht[on];ln._dbInfo.db&&(ln._dbInfo.db.close(),ln._dbInfo.db=null)}return Lt.db=null,Pt(Lt).then(function(tn){return Lt.db=tn,At(Lt)?kt(Lt):tn}).then(function(tn){Lt.db=Xt.db=tn;for(var An=0;An<Ht.length;An++)Ht[An]._dbInfo.db=tn}).catch(function(tn){throw jt(Lt,tn),tn})}function It(Lt,Xt,Ht,on){on===void 0&&(on=1);try{var ln=Lt.db.transaction(Lt.storeName,Xt);Ht(null,ln)}catch(tn){if(on>0&&(!Lt.db||tn.name==="InvalidStateError"||tn.name==="NotFoundError"))return lt.resolve().then(function(){if(!Lt.db||tn.name==="NotFoundError"&&!Lt.db.objectStoreNames.contains(Lt.storeName)&&Lt.version<=Lt.db.version)return Lt.db&&(Lt.version=Lt.db.version+1),kt(Lt)}).then(function(){return Nt(Lt).then(function(){It(Lt,Xt,Ht,on-1)})}).catch(Ht);Ht(tn)}}function Bt(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function zt(Lt){var Xt=this,Ht={db:null};if(Lt)for(var on in Lt)Ht[on]=Lt[on];var ln=yt[Ht.name];ln||(ln=Bt(),yt[Ht.name]=ln),ln.forages.push(Xt),Xt._initReady||(Xt._initReady=Xt.ready,Xt.ready=Ot);var tn=[];function An(){return lt.resolve()}for(var Rn=0;Rn<ln.forages.length;Rn++){var _n=ln.forages[Rn];_n!==Xt&&tn.push(_n._initReady().catch(An))}var Mt=ln.forages.slice(0);return lt.all(tn).then(function(){return Ht.db=ln.db,Pt(Ht)}).then(function(Ft){return Ht.db=Ft,At(Ht,Xt._defaultConfig.version)?kt(Ht):Ft}).then(function(Ft){Ht.db=ln.db=Ft,Xt._dbInfo=Ht;for(var Ut=0;Ut<Mt.length;Ut++){var cn=Mt[Ut];cn!==Xt&&(cn._dbInfo.db=Ht.db,cn._dbInfo.version=Ht.version)}})}function Gt(Lt,Xt){var Ht=this;Lt=ht(Lt);var on=new lt(function(ln,tn){Ht.ready().then(function(){It(Ht._dbInfo,xt,function(An,Rn){if(An)return tn(An);try{var _n=Rn.objectStore(Ht._dbInfo.storeName),Mt=_n.get(Lt);Mt.onsuccess=function(){var Ft=Mt.result;Ft===void 0&&(Ft=null),Rt(Ft)&&(Ft=St(Ft)),ln(Ft)},Mt.onerror=function(){tn(Mt.error)}}catch(Ft){tn(Ft)}})}).catch(tn)});return at(on,Xt),on}function Kt(Lt,Xt){var Ht=this,on=new lt(function(ln,tn){Ht.ready().then(function(){It(Ht._dbInfo,xt,function(An,Rn){if(An)return tn(An);try{var _n=Rn.objectStore(Ht._dbInfo.storeName),Mt=_n.openCursor(),Ft=1;Mt.onsuccess=function(){var Ut=Mt.result;if(Ut){var cn=Ut.value;Rt(cn)&&(cn=St(cn));var In=Lt(cn,Ut.key,Ft++);In!==void 0?ln(In):Ut.continue()}else ln()},Mt.onerror=function(){tn(Mt.error)}}catch(Ut){tn(Ut)}})}).catch(tn)});return at(on,Xt),on}function fn(Lt,Xt,Ht){var on=this;Lt=ht(Lt);var ln=new lt(function(tn,An){var Rn;on.ready().then(function(){return Rn=on._dbInfo,bt.call(Xt)==="[object Blob]"?Ct(Rn.db).then(function(_n){return _n?Xt:Tt(Xt)}):Xt}).then(function(_n){It(on._dbInfo,vt,function(Mt,Ft){if(Mt)return An(Mt);try{var Ut=Ft.objectStore(on._dbInfo.storeName);_n===null&&(_n=void 0);var cn=Ut.put(_n,Lt);Ft.oncomplete=function(){_n===void 0&&(_n=null),tn(_n)},Ft.onabort=Ft.onerror=function(){var In=cn.error?cn.error:cn.transaction.error;An(In)}}catch(In){An(In)}})}).catch(An)});return at(ln,Ht),ln}function dn(Lt,Xt){var Ht=this;Lt=ht(Lt);var on=new lt(function(ln,tn){Ht.ready().then(function(){It(Ht._dbInfo,vt,function(An,Rn){if(An)return tn(An);try{var _n=Rn.objectStore(Ht._dbInfo.storeName),Mt=_n.delete(Lt);Rn.oncomplete=function(){ln()},Rn.onerror=function(){tn(Mt.error)},Rn.onabort=function(){var Ft=Mt.error?Mt.error:Mt.transaction.error;tn(Ft)}}catch(Ft){tn(Ft)}})}).catch(tn)});return at(on,Xt),on}function Wt(Lt){var Xt=this,Ht=new lt(function(on,ln){Xt.ready().then(function(){It(Xt._dbInfo,vt,function(tn,An){if(tn)return ln(tn);try{var Rn=An.objectStore(Xt._dbInfo.storeName),_n=Rn.clear();An.oncomplete=function(){on()},An.onabort=An.onerror=function(){var Mt=_n.error?_n.error:_n.transaction.error;ln(Mt)}}catch(Mt){ln(Mt)}})}).catch(ln)});return at(Ht,Lt),Ht}function rn(Lt){var Xt=this,Ht=new lt(function(on,ln){Xt.ready().then(function(){It(Xt._dbInfo,xt,function(tn,An){if(tn)return ln(tn);try{var Rn=An.objectStore(Xt._dbInfo.storeName),_n=Rn.count();_n.onsuccess=function(){on(_n.result)},_n.onerror=function(){ln(_n.error)}}catch(Mt){ln(Mt)}})}).catch(ln)});return at(Ht,Lt),Ht}function Vt(Lt,Xt){var Ht=this,on=new lt(function(ln,tn){if(Lt<0){ln(null);return}Ht.ready().then(function(){It(Ht._dbInfo,xt,function(An,Rn){if(An)return tn(An);try{var _n=Rn.objectStore(Ht._dbInfo.storeName),Mt=!1,Ft=_n.openKeyCursor();Ft.onsuccess=function(){var Ut=Ft.result;if(!Ut){ln(null);return}Lt===0||Mt?ln(Ut.key):(Mt=!0,Ut.advance(Lt))},Ft.onerror=function(){tn(Ft.error)}}catch(Ut){tn(Ut)}})}).catch(tn)});return at(on,Xt),on}function an(Lt){var Xt=this,Ht=new lt(function(on,ln){Xt.ready().then(function(){It(Xt._dbInfo,xt,function(tn,An){if(tn)return ln(tn);try{var Rn=An.objectStore(Xt._dbInfo.storeName),_n=Rn.openKeyCursor(),Mt=[];_n.onsuccess=function(){var Ft=_n.result;if(!Ft){on(Mt);return}Mt.push(Ft.key),Ft.continue()},_n.onerror=function(){ln(_n.error)}}catch(Ft){ln(Ft)}})}).catch(ln)});return at(Ht,Lt),Ht}function Qt(Lt,Xt){Xt=pt.apply(this,arguments);var Ht=this.config();Lt=typeof Lt!="function"&&Lt||{},Lt.name||(Lt.name=Lt.name||Ht.name,Lt.storeName=Lt.storeName||Ht.storeName);var on=this,ln;if(!Lt.name)ln=lt.reject("Invalid arguments");else{var tn=Lt.name===Ht.name&&on._dbInfo.db,An=tn?lt.resolve(on._dbInfo.db):Pt(Lt).then(function(Rn){var _n=yt[Lt.name],Mt=_n.forages;_n.db=Rn;for(var Ft=0;Ft<Mt.length;Ft++)Mt[Ft]._dbInfo.db=Rn;return Rn});Lt.storeName?ln=An.then(function(Rn){if(Rn.objectStoreNames.contains(Lt.storeName)){var _n=Rn.version+1;Et(Lt);var Mt=yt[Lt.name],Ft=Mt.forages;Rn.close();for(var Ut=0;Ut<Ft.length;Ut++){var cn=Ft[Ut];cn._dbInfo.db=null,cn._dbInfo.version=_n}var In=new lt(function(Gn,ir){var Tr=ut.open(Lt.name,_n);Tr.onerror=function(Ar){var Fr=Tr.result;Fr.close(),ir(Ar)},Tr.onupgradeneeded=function(){var Ar=Tr.result;Ar.deleteObjectStore(Lt.storeName)},Tr.onsuccess=function(){var Ar=Tr.result;Ar.close(),Gn(Ar)}});return In.then(function(Gn){Mt.db=Gn;for(var ir=0;ir<Ft.length;ir++){var Tr=Ft[ir];Tr._dbInfo.db=Gn,$t(Tr._dbInfo)}}).catch(function(Gn){throw(jt(Lt,Gn)||lt.resolve()).catch(function(){}),Gn})}}):ln=An.then(function(Rn){Et(Lt);var _n=yt[Lt.name],Mt=_n.forages;Rn.close();for(var Ft=0;Ft<Mt.length;Ft++){var Ut=Mt[Ft];Ut._dbInfo.db=null}var cn=new lt(function(In,Gn){var ir=ut.deleteDatabase(Lt.name);ir.onerror=function(){var Tr=ir.result;Tr&&Tr.close(),Gn(ir.error)},ir.onblocked=function(){console.warn('dropInstance blocked for database "'+Lt.name+'" until all open connections are closed')},ir.onsuccess=function(){var Tr=ir.result;Tr&&Tr.close(),In(Tr)}});return cn.then(function(In){_n.db=In;for(var Gn=0;Gn<Mt.length;Gn++){var ir=Mt[Gn];$t(ir._dbInfo)}}).catch(function(In){throw(jt(Lt,In)||lt.resolve()).catch(function(){}),In})})}return at(ln,Xt),ln}var Zt={_driver:"asyncStorage",_initStorage:zt,_support:ft(),iterate:Kt,getItem:Gt,setItem:fn,removeItem:dn,clear:Wt,length:rn,key:Vt,keys:an,dropInstance:Qt};function xn(){return typeof openDatabase=="function"}var vn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",gn="~~local_forage_type~",Cn=/^~~local_forage_type~([^~]+)~/,kn="__lfsc__:",En=kn.length,sn="arbf",On="blob",Tn="si08",bn="ui08",Dn="uic8",Nn="si16",wn="si32",qn="ur16",or="ui32",tr="fl32",cr="fl64",rr=En+sn.length,Vn=Object.prototype.toString;function Jt(Lt){var Xt=Lt.length*.75,Ht=Lt.length,on,ln=0,tn,An,Rn,_n;Lt[Lt.length-1]==="="&&(Xt--,Lt[Lt.length-2]==="="&&Xt--);var Mt=new ArrayBuffer(Xt),Ft=new Uint8Array(Mt);for(on=0;on<Ht;on+=4)tn=vn.indexOf(Lt[on]),An=vn.indexOf(Lt[on+1]),Rn=vn.indexOf(Lt[on+2]),_n=vn.indexOf(Lt[on+3]),Ft[ln++]=tn<<2|An>>4,Ft[ln++]=(An&15)<<4|Rn>>2,Ft[ln++]=(Rn&3)<<6|_n&63;return Mt}function pn(Lt){var Xt=new Uint8Array(Lt),Ht="",on;for(on=0;on<Xt.length;on+=3)Ht+=vn[Xt[on]>>2],Ht+=vn[(Xt[on]&3)<<4|Xt[on+1]>>4],Ht+=vn[(Xt[on+1]&15)<<2|Xt[on+2]>>6],Ht+=vn[Xt[on+2]&63];return Xt.length%3===2?Ht=Ht.substring(0,Ht.length-1)+"=":Xt.length%3===1&&(Ht=Ht.substring(0,Ht.length-2)+"=="),Ht}function $n(Lt,Xt){var Ht="";if(Lt&&(Ht=Vn.call(Lt)),Lt&&(Ht==="[object ArrayBuffer]"||Lt.buffer&&Vn.call(Lt.buffer)==="[object ArrayBuffer]")){var on,ln=kn;Lt instanceof ArrayBuffer?(on=Lt,ln+=sn):(on=Lt.buffer,Ht==="[object Int8Array]"?ln+=Tn:Ht==="[object Uint8Array]"?ln+=bn:Ht==="[object Uint8ClampedArray]"?ln+=Dn:Ht==="[object Int16Array]"?ln+=Nn:Ht==="[object Uint16Array]"?ln+=qn:Ht==="[object Int32Array]"?ln+=wn:Ht==="[object Uint32Array]"?ln+=or:Ht==="[object Float32Array]"?ln+=tr:Ht==="[object Float64Array]"?ln+=cr:Xt(new Error("Failed to get type for BinaryArray"))),Xt(ln+pn(on))}else if(Ht==="[object Blob]"){var tn=new FileReader;tn.onload=function(){var An=gn+Lt.type+"~"+pn(this.result);Xt(kn+On+An)},tn.readAsArrayBuffer(Lt)}else try{Xt(JSON.stringify(Lt))}catch(An){console.error("Couldn't convert value into a JSON string: ",Lt),Xt(null,An)}}function jn(Lt){if(Lt.substring(0,En)!==kn)return JSON.parse(Lt);var Xt=Lt.substring(rr),Ht=Lt.substring(En,rr),on;if(Ht===On&&Cn.test(Xt)){var ln=Xt.match(Cn);on=ln[1],Xt=Xt.substring(ln[0].length)}var tn=Jt(Xt);switch(Ht){case sn:return tn;case On:return dt([tn],{type:on});case Tn:return new Int8Array(tn);case bn:return new Uint8Array(tn);case Dn:return new Uint8ClampedArray(tn);case Nn:return new Int16Array(tn);case qn:return new Uint16Array(tn);case wn:return new Int32Array(tn);case or:return new Uint32Array(tn);case tr:return new Float32Array(tn);case cr:return new Float64Array(tn);default:throw new Error("Unkown type: "+Ht)}}var Fn={serialize:$n,deserialize:jn,stringToBuffer:Jt,bufferToString:pn};function Ln(Lt,Xt,Ht,on){Lt.executeSql("CREATE TABLE IF NOT EXISTS "+Xt.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],Ht,on)}function Xn(Lt){var Xt=this,Ht={db:null};if(Lt)for(var on in Lt)Ht[on]=typeof Lt[on]!="string"?Lt[on].toString():Lt[on];var ln=new lt(function(tn,An){try{Ht.db=openDatabase(Ht.name,String(Ht.version),Ht.description,Ht.size)}catch(Rn){return An(Rn)}Ht.db.transaction(function(Rn){Ln(Rn,Ht,function(){Xt._dbInfo=Ht,tn()},function(_n,Mt){An(Mt)})},An)});return Ht.serializer=Fn,ln}function ar(Lt,Xt,Ht,on,ln,tn){Lt.executeSql(Ht,on,ln,function(An,Rn){Rn.code===Rn.SYNTAX_ERR?An.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[Xt.storeName],function(_n,Mt){Mt.rows.length?tn(_n,Rn):Ln(_n,Xt,function(){_n.executeSql(Ht,on,ln,tn)},tn)},tn):tn(An,Rn)},tn)}function Qn(Lt,Xt){var Ht=this;Lt=ht(Lt);var on=new lt(function(ln,tn){Ht.ready().then(function(){var An=Ht._dbInfo;An.db.transaction(function(Rn){ar(Rn,An,"SELECT * FROM "+An.storeName+" WHERE key = ? LIMIT 1",[Lt],function(_n,Mt){var Ft=Mt.rows.length?Mt.rows.item(0).value:null;Ft&&(Ft=An.serializer.deserialize(Ft)),ln(Ft)},function(_n,Mt){tn(Mt)})})}).catch(tn)});return at(on,Xt),on}function Yt(Lt,Xt){var Ht=this,on=new lt(function(ln,tn){Ht.ready().then(function(){var An=Ht._dbInfo;An.db.transaction(function(Rn){ar(Rn,An,"SELECT * FROM "+An.storeName,[],function(_n,Mt){for(var Ft=Mt.rows,Ut=Ft.length,cn=0;cn<Ut;cn++){var In=Ft.item(cn),Gn=In.value;if(Gn&&(Gn=An.serializer.deserialize(Gn)),Gn=Lt(Gn,In.key,cn+1),Gn!==void 0){ln(Gn);return}}ln()},function(_n,Mt){tn(Mt)})})}).catch(tn)});return at(on,Xt),on}function hn(Lt,Xt,Ht,on){var ln=this;Lt=ht(Lt);var tn=new lt(function(An,Rn){ln.ready().then(function(){Xt===void 0&&(Xt=null);var _n=Xt,Mt=ln._dbInfo;Mt.serializer.serialize(Xt,function(Ft,Ut){Ut?Rn(Ut):Mt.db.transaction(function(cn){ar(cn,Mt,"INSERT OR REPLACE INTO "+Mt.storeName+" (key, value) VALUES (?, ?)",[Lt,Ft],function(){An(_n)},function(In,Gn){Rn(Gn)})},function(cn){if(cn.code===cn.QUOTA_ERR){if(on>0){An(hn.apply(ln,[Lt,_n,Ht,on-1]));return}Rn(cn)}})})}).catch(Rn)});return at(tn,Ht),tn}function mn(Lt,Xt,Ht){return hn.apply(this,[Lt,Xt,Ht,1])}function yn(Lt,Xt){var Ht=this;Lt=ht(Lt);var on=new lt(function(ln,tn){Ht.ready().then(function(){var An=Ht._dbInfo;An.db.transaction(function(Rn){ar(Rn,An,"DELETE FROM "+An.storeName+" WHERE key = ?",[Lt],function(){ln()},function(_n,Mt){tn(Mt)})})}).catch(tn)});return at(on,Xt),on}function qt(Lt){var Xt=this,Ht=new lt(function(on,ln){Xt.ready().then(function(){var tn=Xt._dbInfo;tn.db.transaction(function(An){ar(An,tn,"DELETE FROM "+tn.storeName,[],function(){on()},function(Rn,_n){ln(_n)})})}).catch(ln)});return at(Ht,Lt),Ht}function Sn(Lt){var Xt=this,Ht=new lt(function(on,ln){Xt.ready().then(function(){var tn=Xt._dbInfo;tn.db.transaction(function(An){ar(An,tn,"SELECT COUNT(key) as c FROM "+tn.storeName,[],function(Rn,_n){var Mt=_n.rows.item(0).c;on(Mt)},function(Rn,_n){ln(_n)})})}).catch(ln)});return at(Ht,Lt),Ht}function Bn(Lt,Xt){var Ht=this,on=new lt(function(ln,tn){Ht.ready().then(function(){var An=Ht._dbInfo;An.db.transaction(function(Rn){ar(Rn,An,"SELECT key FROM "+An.storeName+" WHERE id = ? LIMIT 1",[Lt+1],function(_n,Mt){var Ft=Mt.rows.length?Mt.rows.item(0).key:null;ln(Ft)},function(_n,Mt){tn(Mt)})})}).catch(tn)});return at(on,Xt),on}function Zn(Lt){var Xt=this,Ht=new lt(function(on,ln){Xt.ready().then(function(){var tn=Xt._dbInfo;tn.db.transaction(function(An){ar(An,tn,"SELECT key FROM "+tn.storeName,[],function(Rn,_n){for(var Mt=[],Ft=0;Ft<_n.rows.length;Ft++)Mt.push(_n.rows.item(Ft).key);on(Mt)},function(Rn,_n){ln(_n)})})}).catch(ln)});return at(Ht,Lt),Ht}function Hn(Lt){return new lt(function(Xt,Ht){Lt.transaction(function(on){on.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(ln,tn){for(var An=[],Rn=0;Rn<tn.rows.length;Rn++)An.push(tn.rows.item(Rn).name);Xt({db:Lt,storeNames:An})},function(ln,tn){Ht(tn)})},function(on){Ht(on)})})}function sr(Lt,Xt){Xt=pt.apply(this,arguments);var Ht=this.config();Lt=typeof Lt!="function"&&Lt||{},Lt.name||(Lt.name=Lt.name||Ht.name,Lt.storeName=Lt.storeName||Ht.storeName);var on=this,ln;return Lt.name?ln=new lt(function(tn){var An;Lt.name===Ht.name?An=on._dbInfo.db:An=openDatabase(Lt.name,"","",0),Lt.storeName?tn({db:An,storeNames:[Lt.storeName]}):tn(Hn(An))}).then(function(tn){return new lt(function(An,Rn){tn.db.transaction(function(_n){function Mt(In){return new lt(function(Gn,ir){_n.executeSql("DROP TABLE IF EXISTS "+In,[],function(){Gn()},function(Tr,Ar){ir(Ar)})})}for(var Ft=[],Ut=0,cn=tn.storeNames.length;Ut<cn;Ut++)Ft.push(Mt(tn.storeNames[Ut]));lt.all(Ft).then(function(){An()}).catch(function(In){Rn(In)})},function(_n){Rn(_n)})})}):ln=lt.reject("Invalid arguments"),at(ln,Xt),ln}var nr={_driver:"webSQLStorage",_initStorage:Xn,_support:xn(),iterate:Yt,getItem:Qn,setItem:mn,removeItem:yn,clear:qt,length:Sn,key:Bn,keys:Zn,dropInstance:sr};function dr(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function zn(Lt,Xt){var Ht=Lt.name+"/";return Lt.storeName!==Xt.storeName&&(Ht+=Lt.storeName+"/"),Ht}function mr(){var Lt="_localforage_support_test";try{return localStorage.setItem(Lt,!0),localStorage.removeItem(Lt),!1}catch{return!0}}function $r(){return!mr()||localStorage.length>0}function lr(Lt){var Xt=this,Ht={};if(Lt)for(var on in Lt)Ht[on]=Lt[on];return Ht.keyPrefix=zn(Lt,Xt._defaultConfig),$r()?(Xt._dbInfo=Ht,Ht.serializer=Fn,lt.resolve()):lt.reject()}function wr(Lt){var Xt=this,Ht=Xt.ready().then(function(){for(var on=Xt._dbInfo.keyPrefix,ln=localStorage.length-1;ln>=0;ln--){var tn=localStorage.key(ln);tn.indexOf(on)===0&&localStorage.removeItem(tn)}});return at(Ht,Lt),Ht}function gr(Lt,Xt){var Ht=this;Lt=ht(Lt);var on=Ht.ready().then(function(){var ln=Ht._dbInfo,tn=localStorage.getItem(ln.keyPrefix+Lt);return tn&&(tn=ln.serializer.deserialize(tn)),tn});return at(on,Xt),on}function Kn(Lt,Xt){var Ht=this,on=Ht.ready().then(function(){for(var ln=Ht._dbInfo,tn=ln.keyPrefix,An=tn.length,Rn=localStorage.length,_n=1,Mt=0;Mt<Rn;Mt++){var Ft=localStorage.key(Mt);if(Ft.indexOf(tn)===0){var Ut=localStorage.getItem(Ft);if(Ut&&(Ut=ln.serializer.deserialize(Ut)),Ut=Lt(Ut,Ft.substring(An),_n++),Ut!==void 0)return Ut}}});return at(on,Xt),on}function jr(Lt,Xt){var Ht=this,on=Ht.ready().then(function(){var ln=Ht._dbInfo,tn;try{tn=localStorage.key(Lt)}catch{tn=null}return tn&&(tn=tn.substring(ln.keyPrefix.length)),tn});return at(on,Xt),on}function Pr(Lt){var Xt=this,Ht=Xt.ready().then(function(){for(var on=Xt._dbInfo,ln=localStorage.length,tn=[],An=0;An<ln;An++){var Rn=localStorage.key(An);Rn.indexOf(on.keyPrefix)===0&&tn.push(Rn.substring(on.keyPrefix.length))}return tn});return at(Ht,Lt),Ht}function Lr(Lt){var Xt=this,Ht=Xt.keys().then(function(on){return on.length});return at(Ht,Lt),Ht}function Un(Lt,Xt){var Ht=this;Lt=ht(Lt);var on=Ht.ready().then(function(){var ln=Ht._dbInfo;localStorage.removeItem(ln.keyPrefix+Lt)});return at(on,Xt),on}function en(Lt,Xt,Ht){var on=this;Lt=ht(Lt);var ln=on.ready().then(function(){Xt===void 0&&(Xt=null);var tn=Xt;return new lt(function(An,Rn){var _n=on._dbInfo;_n.serializer.serialize(Xt,function(Mt,Ft){if(Ft)Rn(Ft);else try{localStorage.setItem(_n.keyPrefix+Lt,Mt),An(tn)}catch(Ut){(Ut.name==="QuotaExceededError"||Ut.name==="NS_ERROR_DOM_QUOTA_REACHED")&&Rn(Ut),Rn(Ut)}})})});return at(ln,Ht),ln}function Mn(Lt,Xt){if(Xt=pt.apply(this,arguments),Lt=typeof Lt!="function"&&Lt||{},!Lt.name){var Ht=this.config();Lt.name=Lt.name||Ht.name,Lt.storeName=Lt.storeName||Ht.storeName}var on=this,ln;return Lt.name?ln=new lt(function(tn){Lt.storeName?tn(zn(Lt,on._defaultConfig)):tn(Lt.name+"/")}).then(function(tn){for(var An=localStorage.length-1;An>=0;An--){var Rn=localStorage.key(An);Rn.indexOf(tn)===0&&localStorage.removeItem(Rn)}}):ln=lt.reject("Invalid arguments"),at(ln,Xt),ln}var Wn={_driver:"localStorageWrapper",_initStorage:lr,_support:dr(),iterate:Kn,getItem:gr,setItem:en,removeItem:Un,clear:wr,length:Lr,key:jr,keys:Pr,dropInstance:Mn},pr=function(Xt,Ht){return Xt===Ht||typeof Xt=="number"&&typeof Ht=="number"&&isNaN(Xt)&&isNaN(Ht)},Sr=function(Xt,Ht){for(var on=Xt.length,ln=0;ln<on;){if(pr(Xt[ln],Ht))return!0;ln++}return!1},kr=Array.isArray||function(Lt){return Object.prototype.toString.call(Lt)==="[object Array]"},_r={},vr={},ur={INDEXEDDB:Zt,WEBSQL:nr,LOCALSTORAGE:Wn},Er=[ur.INDEXEDDB._driver,ur.WEBSQL._driver,ur.LOCALSTORAGE._driver],Cr=["dropInstance"],Dr=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Cr),zr={description:"",driver:Er.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Hr(Lt,Xt){Lt[Xt]=function(){var Ht=arguments;return Lt.ready().then(function(){return Lt[Xt].apply(Lt,Ht)})}}function Or(){for(var Lt=1;Lt<arguments.length;Lt++){var Xt=arguments[Lt];if(Xt)for(var Ht in Xt)Xt.hasOwnProperty(Ht)&&(kr(Xt[Ht])?arguments[0][Ht]=Xt[Ht].slice():arguments[0][Ht]=Xt[Ht])}return arguments[0]}var Vr=function(){function Lt(Xt){ot(this,Lt);for(var Ht in ur)if(ur.hasOwnProperty(Ht)){var on=ur[Ht],ln=on._driver;this[Ht]=ln,_r[ln]||this.defineDriver(on)}this._defaultConfig=Or({},zr),this._config=Or({},this._defaultConfig,Xt),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return Lt.prototype.config=function(Ht){if((typeof Ht>"u"?"undefined":it(Ht))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var on in Ht){if(on==="storeName"&&(Ht[on]=Ht[on].replace(/\W/g,"_")),on==="version"&&typeof Ht[on]!="number")return new Error("Database version must be a number.");this._config[on]=Ht[on]}return"driver"in Ht&&Ht.driver?this.setDriver(this._config.driver):!0}else return typeof Ht=="string"?this._config[Ht]:this._config},Lt.prototype.defineDriver=function(Ht,on,ln){var tn=new lt(function(An,Rn){try{var _n=Ht._driver,Mt=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!Ht._driver){Rn(Mt);return}for(var Ft=Dr.concat("_initStorage"),Ut=0,cn=Ft.length;Ut<cn;Ut++){var In=Ft[Ut],Gn=!Sr(Cr,In);if((Gn||Ht[In])&&typeof Ht[In]!="function"){Rn(Mt);return}}var ir=function(){for(var Fr=function(yr){return function(){var Gr=new Error("Method "+yr+" is not implemented by the current driver"),fr=lt.reject(Gr);return at(fr,arguments[arguments.length-1]),fr}},Ir=0,Br=Cr.length;Ir<Br;Ir++){var Rr=Cr[Ir];Ht[Rr]||(Ht[Rr]=Fr(Rr))}};ir();var Tr=function(Fr){_r[_n]&&console.info("Redefining LocalForage driver: "+_n),_r[_n]=Ht,vr[_n]=Fr,An()};"_support"in Ht?Ht._support&&typeof Ht._support=="function"?Ht._support().then(Tr,Rn):Tr(!!Ht._support):Tr(!0)}catch(Ar){Rn(Ar)}});return ct(tn,on,ln),tn},Lt.prototype.driver=function(){return this._driver||null},Lt.prototype.getDriver=function(Ht,on,ln){var tn=_r[Ht]?lt.resolve(_r[Ht]):lt.reject(new Error("Driver not found."));return ct(tn,on,ln),tn},Lt.prototype.getSerializer=function(Ht){var on=lt.resolve(Fn);return ct(on,Ht),on},Lt.prototype.ready=function(Ht){var on=this,ln=on._driverSet.then(function(){return on._ready===null&&(on._ready=on._initDriver()),on._ready});return ct(ln,Ht,Ht),ln},Lt.prototype.setDriver=function(Ht,on,ln){var tn=this;kr(Ht)||(Ht=[Ht]);var An=this._getSupportedDrivers(Ht);function Rn(){tn._config.driver=tn.driver()}function _n(Ut){return tn._extend(Ut),Rn(),tn._ready=tn._initStorage(tn._config),tn._ready}function Mt(Ut){return function(){var cn=0;function In(){for(;cn<Ut.length;){var Gn=Ut[cn];return cn++,tn._dbInfo=null,tn._ready=null,tn.getDriver(Gn).then(_n).catch(In)}Rn();var ir=new Error("No available storage method found.");return tn._driverSet=lt.reject(ir),tn._driverSet}return In()}}var Ft=this._driverSet!==null?this._driverSet.catch(function(){return lt.resolve()}):lt.resolve();return this._driverSet=Ft.then(function(){var Ut=An[0];return tn._dbInfo=null,tn._ready=null,tn.getDriver(Ut).then(function(cn){tn._driver=cn._driver,Rn(),tn._wrapLibraryMethodsWithReady(),tn._initDriver=Mt(An)})}).catch(function(){Rn();var Ut=new Error("No available storage method found.");return tn._driverSet=lt.reject(Ut),tn._driverSet}),ct(this._driverSet,on,ln),this._driverSet},Lt.prototype.supports=function(Ht){return!!vr[Ht]},Lt.prototype._extend=function(Ht){Or(this,Ht)},Lt.prototype._getSupportedDrivers=function(Ht){for(var on=[],ln=0,tn=Ht.length;ln<tn;ln++){var An=Ht[ln];this.supports(An)&&on.push(An)}return on},Lt.prototype._wrapLibraryMethodsWithReady=function(){for(var Ht=0,on=Dr.length;Ht<on;Ht++)Hr(this,Dr[Ht])},Lt.prototype.createInstance=function(Ht){return new Lt(Ht)},Lt}(),Nr=new Vr;nt.exports=Nr},{3:3}]},{},[4])(4)})})(localforage$1);var localforageExports=localforage$1.exports;const localforage=getDefaultExportFromCjs(localforageExports);function useEmbeddings(){return{run:(et,tt,nt="https://api.openai.com/v1/embeddings",rt="text-embedding-3-small")=>new Promise(function(it,ot){let st=!1;Array.isArray(et)&&et.forEach(function(ut){ut&&(st=!0)}),(!st||!et||!tt)&&it(),fetch(nt,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+tt},body:JSON.stringify({input:et,model:rt})}).then(function(ut){if(console.log(ut),!ut.ok)throw new Error("Failed to load embeddings");ut.json().then(function(ft){console.log(ft),it(ft.data)})}).catch(function(ut){ot("Failed to load embeddings "+ut)})})}}const decodeCache={};function getDecodeCache(_e){let et=decodeCache[_e];if(et)return et;et=decodeCache[_e]=[];for(let tt=0;tt<128;tt++){const nt=String.fromCharCode(tt);et.push(nt)}for(let tt=0;tt<_e.length;tt++){const nt=_e.charCodeAt(tt);et[nt]="%"+("0"+nt.toString(16).toUpperCase()).slice(-2)}return et}function decode$1(_e,et){typeof et!="string"&&(et=decode$1.defaultChars);const tt=getDecodeCache(et);return _e.replace(/(%[a-f0-9]{2})+/gi,function(nt){let rt="";for(let it=0,ot=nt.length;it<ot;it+=3){const st=parseInt(nt.slice(it+1,it+3),16);if(st<128){rt+=tt[st];continue}if((st&224)===192&&it+3<ot){const ut=parseInt(nt.slice(it+4,it+6),16);if((ut&192)===128){const ft=st<<6&1984|ut&63;ft<128?rt+="":rt+=String.fromCharCode(ft),it+=3;continue}}if((st&240)===224&&it+6<ot){const ut=parseInt(nt.slice(it+4,it+6),16),ft=parseInt(nt.slice(it+7,it+9),16);if((ut&192)===128&&(ft&192)===128){const dt=st<<12&61440|ut<<6&4032|ft&63;dt<2048||dt>=55296&&dt<=57343?rt+="":rt+=String.fromCharCode(dt),it+=6;continue}}if((st&248)===240&&it+9<ot){const ut=parseInt(nt.slice(it+4,it+6),16),ft=parseInt(nt.slice(it+7,it+9),16),dt=parseInt(nt.slice(it+10,it+12),16);if((ut&192)===128&&(ft&192)===128&&(dt&192)===128){let lt=st<<18&1835008|ut<<12&258048|ft<<6&4032|dt&63;lt<65536||lt>1114111?rt+="":(lt-=65536,rt+=String.fromCharCode(55296+(lt>>10),56320+(lt&1023))),it+=9;continue}}rt+=""}return rt})}decode$1.defaultChars=";/?:@&=+$,#";decode$1.componentChars="";const encodeCache={};function getEncodeCache(_e){let et=encodeCache[_e];if(et)return et;et=encodeCache[_e]=[];for(let tt=0;tt<128;tt++){const nt=String.fromCharCode(tt);/^[0-9a-z]$/i.test(nt)?et.push(nt):et.push("%"+("0"+tt.toString(16).toUpperCase()).slice(-2))}for(let tt=0;tt<_e.length;tt++)et[_e.charCodeAt(tt)]=_e[tt];return et}function encode$1(_e,et,tt){typeof et!="string"&&(tt=et,et=encode$1.defaultChars),typeof tt>"u"&&(tt=!0);const nt=getEncodeCache(et);let rt="";for(let it=0,ot=_e.length;it<ot;it++){const st=_e.charCodeAt(it);if(tt&&st===37&&it+2<ot&&/^[0-9a-f]{2}$/i.test(_e.slice(it+1,it+3))){rt+=_e.slice(it,it+3),it+=2;continue}if(st<128){rt+=nt[st];continue}if(st>=55296&&st<=57343){if(st>=55296&&st<=56319&&it+1<ot){const ut=_e.charCodeAt(it+1);if(ut>=56320&&ut<=57343){rt+=encodeURIComponent(_e[it]+_e[it+1]),it++;continue}}rt+="%EF%BF%BD";continue}rt+=encodeURIComponent(_e[it])}return rt}encode$1.defaultChars=";/?:@&=+$,-_.!~*'()#";encode$1.componentChars="-_.!~*'()";function format$2(_e){let et="";return et+=_e.protocol||"",et+=_e.slashes?"//":"",et+=_e.auth?_e.auth+"@":"",_e.hostname&&_e.hostname.indexOf(":")!==-1?et+="["+_e.hostname+"]":et+=_e.hostname||"",et+=_e.port?":"+_e.port:"",et+=_e.pathname||"",et+=_e.search||"",et+=_e.hash||"",et}function Url(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}const protocolPattern=/^([a-z0-9.+-]+:)/i,portPattern=/:[0-9]*$/,simplePathPattern=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,delims=["<",">",'"',"`"," ","\r",`
`,"	"],unwise=["{","}","|","\\","^","`"].concat(delims),autoEscape=["'"].concat(unwise),nonHostChars=["%","/","?",";","#"].concat(autoEscape),hostEndingChars=["/","?","#"],hostnameMaxLen=255,hostnamePartPattern=/^[+a-z0-9A-Z_-]{0,63}$/,hostnamePartStart=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,hostlessProtocol={javascript:!0,"javascript:":!0},slashedProtocol={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function urlParse(_e,et){if(_e&&_e instanceof Url)return _e;const tt=new Url;return tt.parse(_e,et),tt}Url.prototype.parse=function(_e,et){let tt,nt,rt,it=_e;if(it=it.trim(),!et&&_e.split("#").length===1){const ft=simplePathPattern.exec(it);if(ft)return this.pathname=ft[1],ft[2]&&(this.search=ft[2]),this}let ot=protocolPattern.exec(it);if(ot&&(ot=ot[0],tt=ot.toLowerCase(),this.protocol=ot,it=it.substr(ot.length)),(et||ot||it.match(/^\/\/[^@\/]+@[^@\/]+/))&&(rt=it.substr(0,2)==="//",rt&&!(ot&&hostlessProtocol[ot])&&(it=it.substr(2),this.slashes=!0)),!hostlessProtocol[ot]&&(rt||ot&&!slashedProtocol[ot])){let ft=-1;for(let ht=0;ht<hostEndingChars.length;ht++)nt=it.indexOf(hostEndingChars[ht]),nt!==-1&&(ft===-1||nt<ft)&&(ft=nt);let dt,lt;ft===-1?lt=it.lastIndexOf("@"):lt=it.lastIndexOf("@",ft),lt!==-1&&(dt=it.slice(0,lt),it=it.slice(lt+1),this.auth=dt),ft=-1;for(let ht=0;ht<nonHostChars.length;ht++)nt=it.indexOf(nonHostChars[ht]),nt!==-1&&(ft===-1||nt<ft)&&(ft=nt);ft===-1&&(ft=it.length),it[ft-1]===":"&&ft--;const at=it.slice(0,ft);it=it.slice(ft),this.parseHost(at),this.hostname=this.hostname||"";const ct=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!ct){const ht=this.hostname.split(/\./);for(let pt=0,mt=ht.length;pt<mt;pt++){const gt=ht[pt];if(gt&&!gt.match(hostnamePartPattern)){let yt="";for(let bt=0,xt=gt.length;bt<xt;bt++)gt.charCodeAt(bt)>127?yt+="x":yt+=gt[bt];if(!yt.match(hostnamePartPattern)){const bt=ht.slice(0,pt),xt=ht.slice(pt+1),vt=gt.match(hostnamePartStart);vt&&(bt.push(vt[1]),xt.unshift(vt[2])),xt.length&&(it=xt.join(".")+it),this.hostname=bt.join(".");break}}}}this.hostname.length>hostnameMaxLen&&(this.hostname=""),ct&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}const st=it.indexOf("#");st!==-1&&(this.hash=it.substr(st),it=it.slice(0,st));const ut=it.indexOf("?");return ut!==-1&&(this.search=it.substr(ut),it=it.slice(0,ut)),it&&(this.pathname=it),slashedProtocol[tt]&&this.hostname&&!this.pathname&&(this.pathname=""),this};Url.prototype.parseHost=function(_e){let et=portPattern.exec(_e);et&&(et=et[0],et!==":"&&(this.port=et.substr(1)),_e=_e.substr(0,_e.length-et.length)),_e&&(this.hostname=_e)};const mdurl=Object.freeze(Object.defineProperty({__proto__:null,decode:decode$1,encode:encode$1,format:format$2,parse:urlParse},Symbol.toStringTag,{value:"Module"})),Any=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Cc=/[\0-\x1F\x7F-\x9F]/,regex$1=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u0890\u0891\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC3F]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/,P$1=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,regex=/[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2426\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E3\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBC2\uFD40-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFCA]/,Z=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,ucmicro=Object.freeze(Object.defineProperty({__proto__:null,Any,Cc,Cf:regex$1,P:P$1,S:regex,Z},Symbol.toStringTag,{value:"Module"})),htmlDecodeTree=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(_e=>_e.charCodeAt(0))),xmlDecodeTree=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(_e=>_e.charCodeAt(0)));var _a;const decodeMap=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),fromCodePoint$1=(_a=String.fromCodePoint)!==null&&_a!==void 0?_a:function(_e){let et="";return _e>65535&&(_e-=65536,et+=String.fromCharCode(_e>>>10&1023|55296),_e=56320|_e&1023),et+=String.fromCharCode(_e),et};function replaceCodePoint(_e){var et;return _e>=55296&&_e<=57343||_e>1114111?65533:(et=decodeMap.get(_e))!==null&&et!==void 0?et:_e}var CharCodes;(function(_e){_e[_e.NUM=35]="NUM",_e[_e.SEMI=59]="SEMI",_e[_e.EQUALS=61]="EQUALS",_e[_e.ZERO=48]="ZERO",_e[_e.NINE=57]="NINE",_e[_e.LOWER_A=97]="LOWER_A",_e[_e.LOWER_F=102]="LOWER_F",_e[_e.LOWER_X=120]="LOWER_X",_e[_e.LOWER_Z=122]="LOWER_Z",_e[_e.UPPER_A=65]="UPPER_A",_e[_e.UPPER_F=70]="UPPER_F",_e[_e.UPPER_Z=90]="UPPER_Z"})(CharCodes||(CharCodes={}));const TO_LOWER_BIT=32;var BinTrieFlags;(function(_e){_e[_e.VALUE_LENGTH=49152]="VALUE_LENGTH",_e[_e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",_e[_e.JUMP_TABLE=127]="JUMP_TABLE"})(BinTrieFlags||(BinTrieFlags={}));function isNumber(_e){return _e>=CharCodes.ZERO&&_e<=CharCodes.NINE}function isHexadecimalCharacter(_e){return _e>=CharCodes.UPPER_A&&_e<=CharCodes.UPPER_F||_e>=CharCodes.LOWER_A&&_e<=CharCodes.LOWER_F}function isAsciiAlphaNumeric(_e){return _e>=CharCodes.UPPER_A&&_e<=CharCodes.UPPER_Z||_e>=CharCodes.LOWER_A&&_e<=CharCodes.LOWER_Z||isNumber(_e)}function isEntityInAttributeInvalidEnd(_e){return _e===CharCodes.EQUALS||isAsciiAlphaNumeric(_e)}var EntityDecoderState;(function(_e){_e[_e.EntityStart=0]="EntityStart",_e[_e.NumericStart=1]="NumericStart",_e[_e.NumericDecimal=2]="NumericDecimal",_e[_e.NumericHex=3]="NumericHex",_e[_e.NamedEntity=4]="NamedEntity"})(EntityDecoderState||(EntityDecoderState={}));var DecodingMode;(function(_e){_e[_e.Legacy=0]="Legacy",_e[_e.Strict=1]="Strict",_e[_e.Attribute=2]="Attribute"})(DecodingMode||(DecodingMode={}));class EntityDecoder{constructor(et,tt,nt){this.decodeTree=et,this.emitCodePoint=tt,this.errors=nt,this.state=EntityDecoderState.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=DecodingMode.Strict}startEntity(et){this.decodeMode=et,this.state=EntityDecoderState.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(et,tt){switch(this.state){case EntityDecoderState.EntityStart:return et.charCodeAt(tt)===CharCodes.NUM?(this.state=EntityDecoderState.NumericStart,this.consumed+=1,this.stateNumericStart(et,tt+1)):(this.state=EntityDecoderState.NamedEntity,this.stateNamedEntity(et,tt));case EntityDecoderState.NumericStart:return this.stateNumericStart(et,tt);case EntityDecoderState.NumericDecimal:return this.stateNumericDecimal(et,tt);case EntityDecoderState.NumericHex:return this.stateNumericHex(et,tt);case EntityDecoderState.NamedEntity:return this.stateNamedEntity(et,tt)}}stateNumericStart(et,tt){return tt>=et.length?-1:(et.charCodeAt(tt)|TO_LOWER_BIT)===CharCodes.LOWER_X?(this.state=EntityDecoderState.NumericHex,this.consumed+=1,this.stateNumericHex(et,tt+1)):(this.state=EntityDecoderState.NumericDecimal,this.stateNumericDecimal(et,tt))}addToNumericResult(et,tt,nt,rt){if(tt!==nt){const it=nt-tt;this.result=this.result*Math.pow(rt,it)+parseInt(et.substr(tt,it),rt),this.consumed+=it}}stateNumericHex(et,tt){const nt=tt;for(;tt<et.length;){const rt=et.charCodeAt(tt);if(isNumber(rt)||isHexadecimalCharacter(rt))tt+=1;else return this.addToNumericResult(et,nt,tt,16),this.emitNumericEntity(rt,3)}return this.addToNumericResult(et,nt,tt,16),-1}stateNumericDecimal(et,tt){const nt=tt;for(;tt<et.length;){const rt=et.charCodeAt(tt);if(isNumber(rt))tt+=1;else return this.addToNumericResult(et,nt,tt,10),this.emitNumericEntity(rt,2)}return this.addToNumericResult(et,nt,tt,10),-1}emitNumericEntity(et,tt){var nt;if(this.consumed<=tt)return(nt=this.errors)===null||nt===void 0||nt.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(et===CharCodes.SEMI)this.consumed+=1;else if(this.decodeMode===DecodingMode.Strict)return 0;return this.emitCodePoint(replaceCodePoint(this.result),this.consumed),this.errors&&(et!==CharCodes.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(et,tt){const{decodeTree:nt}=this;let rt=nt[this.treeIndex],it=(rt&BinTrieFlags.VALUE_LENGTH)>>14;for(;tt<et.length;tt++,this.excess++){const ot=et.charCodeAt(tt);if(this.treeIndex=determineBranch(nt,rt,this.treeIndex+Math.max(1,it),ot),this.treeIndex<0)return this.result===0||this.decodeMode===DecodingMode.Attribute&&(it===0||isEntityInAttributeInvalidEnd(ot))?0:this.emitNotTerminatedNamedEntity();if(rt=nt[this.treeIndex],it=(rt&BinTrieFlags.VALUE_LENGTH)>>14,it!==0){if(ot===CharCodes.SEMI)return this.emitNamedEntityData(this.treeIndex,it,this.consumed+this.excess);this.decodeMode!==DecodingMode.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var et;const{result:tt,decodeTree:nt}=this,rt=(nt[tt]&BinTrieFlags.VALUE_LENGTH)>>14;return this.emitNamedEntityData(tt,rt,this.consumed),(et=this.errors)===null||et===void 0||et.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(et,tt,nt){const{decodeTree:rt}=this;return this.emitCodePoint(tt===1?rt[et]&~BinTrieFlags.VALUE_LENGTH:rt[et+1],nt),tt===3&&this.emitCodePoint(rt[et+2],nt),nt}end(){var et;switch(this.state){case EntityDecoderState.NamedEntity:return this.result!==0&&(this.decodeMode!==DecodingMode.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case EntityDecoderState.NumericDecimal:return this.emitNumericEntity(0,2);case EntityDecoderState.NumericHex:return this.emitNumericEntity(0,3);case EntityDecoderState.NumericStart:return(et=this.errors)===null||et===void 0||et.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case EntityDecoderState.EntityStart:return 0}}}function getDecoder(_e){let et="";const tt=new EntityDecoder(_e,nt=>et+=fromCodePoint$1(nt));return function(rt,it){let ot=0,st=0;for(;(st=rt.indexOf("&",st))>=0;){et+=rt.slice(ot,st),tt.startEntity(it);const ft=tt.write(rt,st+1);if(ft<0){ot=st+tt.end();break}ot=st+ft,st=ft===0?ot+1:ot}const ut=et+rt.slice(ot);return et="",ut}}function determineBranch(_e,et,tt,nt){const rt=(et&BinTrieFlags.BRANCH_LENGTH)>>7,it=et&BinTrieFlags.JUMP_TABLE;if(rt===0)return it!==0&&nt===it?tt:-1;if(it){const ut=nt-it;return ut<0||ut>=rt?-1:_e[tt+ut]-1}let ot=tt,st=ot+rt-1;for(;ot<=st;){const ut=ot+st>>>1,ft=_e[ut];if(ft<nt)ot=ut+1;else if(ft>nt)st=ut-1;else return _e[ut+rt]}return-1}const htmlDecoder=getDecoder(htmlDecodeTree);getDecoder(xmlDecodeTree);function decodeHTML(_e,et=DecodingMode.Legacy){return htmlDecoder(_e,et)}function _class$2(_e){return Object.prototype.toString.call(_e)}function isString$1(_e){return _class$2(_e)==="[object String]"}const _hasOwnProperty=Object.prototype.hasOwnProperty;function has(_e,et){return _hasOwnProperty.call(_e,et)}function assign$1(_e){return Array.prototype.slice.call(arguments,1).forEach(function(tt){if(tt){if(typeof tt!="object")throw new TypeError(tt+"must be object");Object.keys(tt).forEach(function(nt){_e[nt]=tt[nt]})}}),_e}function arrayReplaceAt(_e,et,tt){return[].concat(_e.slice(0,et),tt,_e.slice(et+1))}function isValidEntityCode(_e){return!(_e>=55296&&_e<=57343||_e>=64976&&_e<=65007||(_e&65535)===65535||(_e&65535)===65534||_e>=0&&_e<=8||_e===11||_e>=14&&_e<=31||_e>=127&&_e<=159||_e>1114111)}function fromCodePoint(_e){if(_e>65535){_e-=65536;const et=55296+(_e>>10),tt=56320+(_e&1023);return String.fromCharCode(et,tt)}return String.fromCharCode(_e)}const UNESCAPE_MD_RE=/\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g,ENTITY_RE=/&([a-z#][a-z0-9]{1,31});/gi,UNESCAPE_ALL_RE=new RegExp(UNESCAPE_MD_RE.source+"|"+ENTITY_RE.source,"gi"),DIGITAL_ENTITY_TEST_RE=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i;function replaceEntityPattern(_e,et){if(et.charCodeAt(0)===35&&DIGITAL_ENTITY_TEST_RE.test(et)){const nt=et[1].toLowerCase()==="x"?parseInt(et.slice(2),16):parseInt(et.slice(1),10);return isValidEntityCode(nt)?fromCodePoint(nt):_e}const tt=decodeHTML(_e);return tt!==_e?tt:_e}function unescapeMd(_e){return _e.indexOf("\\")<0?_e:_e.replace(UNESCAPE_MD_RE,"$1")}function unescapeAll(_e){return _e.indexOf("\\")<0&&_e.indexOf("&")<0?_e:_e.replace(UNESCAPE_ALL_RE,function(et,tt,nt){return tt||replaceEntityPattern(et,nt)})}const HTML_ESCAPE_TEST_RE=/[&<>"]/,HTML_ESCAPE_REPLACE_RE=/[&<>"]/g,HTML_REPLACEMENTS={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function replaceUnsafeChar(_e){return HTML_REPLACEMENTS[_e]}function escapeHtml(_e){return HTML_ESCAPE_TEST_RE.test(_e)?_e.replace(HTML_ESCAPE_REPLACE_RE,replaceUnsafeChar):_e}const REGEXP_ESCAPE_RE=/[.?*+^$[\]\\(){}|-]/g;function escapeRE$1(_e){return _e.replace(REGEXP_ESCAPE_RE,"\\$&")}function isSpace(_e){switch(_e){case 9:case 32:return!0}return!1}function isWhiteSpace(_e){if(_e>=8192&&_e<=8202)return!0;switch(_e){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}function isPunctChar(_e){return P$1.test(_e)||regex.test(_e)}function isMdAsciiPunct(_e){switch(_e){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function normalizeReference(_e){return _e=_e.trim().replace(/\s+/g," "),"".toLowerCase()===""&&(_e=_e.replace(//g,"")),_e.toLowerCase().toUpperCase()}const lib={mdurl,ucmicro},utils$1=Object.freeze(Object.defineProperty({__proto__:null,arrayReplaceAt,assign:assign$1,escapeHtml,escapeRE:escapeRE$1,fromCodePoint,has,isMdAsciiPunct,isPunctChar,isSpace,isString:isString$1,isValidEntityCode,isWhiteSpace,lib,normalizeReference,unescapeAll,unescapeMd},Symbol.toStringTag,{value:"Module"}));function parseLinkLabel(_e,et,tt){let nt,rt,it,ot;const st=_e.posMax,ut=_e.pos;for(_e.pos=et+1,nt=1;_e.pos<st;){if(it=_e.src.charCodeAt(_e.pos),it===93&&(nt--,nt===0)){rt=!0;break}if(ot=_e.pos,_e.md.inline.skipToken(_e),it===91){if(ot===_e.pos-1)nt++;else if(tt)return _e.pos=ut,-1}}let ft=-1;return rt&&(ft=_e.pos),_e.pos=ut,ft}function parseLinkDestination(_e,et,tt){let nt,rt=et;const it={ok:!1,pos:0,str:""};if(_e.charCodeAt(rt)===60){for(rt++;rt<tt;){if(nt=_e.charCodeAt(rt),nt===10||nt===60)return it;if(nt===62)return it.pos=rt+1,it.str=unescapeAll(_e.slice(et+1,rt)),it.ok=!0,it;if(nt===92&&rt+1<tt){rt+=2;continue}rt++}return it}let ot=0;for(;rt<tt&&(nt=_e.charCodeAt(rt),!(nt===32||nt<32||nt===127));){if(nt===92&&rt+1<tt){if(_e.charCodeAt(rt+1)===32)break;rt+=2;continue}if(nt===40&&(ot++,ot>32))return it;if(nt===41){if(ot===0)break;ot--}rt++}return et===rt||ot!==0||(it.str=unescapeAll(_e.slice(et,rt)),it.pos=rt,it.ok=!0),it}function parseLinkTitle(_e,et,tt,nt){let rt,it=et;const ot={ok:!1,can_continue:!1,pos:0,str:"",marker:0};if(nt)ot.str=nt.str,ot.marker=nt.marker;else{if(it>=tt)return ot;let st=_e.charCodeAt(it);if(st!==34&&st!==39&&st!==40)return ot;et++,it++,st===40&&(st=41),ot.marker=st}for(;it<tt;){if(rt=_e.charCodeAt(it),rt===ot.marker)return ot.pos=it+1,ot.str+=unescapeAll(_e.slice(et,it)),ot.ok=!0,ot;if(rt===40&&ot.marker===41)return ot;rt===92&&it+1<tt&&it++,it++}return ot.can_continue=!0,ot.str+=unescapeAll(_e.slice(et,it)),ot}const helpers=Object.freeze(Object.defineProperty({__proto__:null,parseLinkDestination,parseLinkLabel,parseLinkTitle},Symbol.toStringTag,{value:"Module"})),default_rules={};default_rules.code_inline=function(_e,et,tt,nt,rt){const it=_e[et];return"<code"+rt.renderAttrs(it)+">"+escapeHtml(it.content)+"</code>"};default_rules.code_block=function(_e,et,tt,nt,rt){const it=_e[et];return"<pre"+rt.renderAttrs(it)+"><code>"+escapeHtml(_e[et].content)+`</code></pre>
`};default_rules.fence=function(_e,et,tt,nt,rt){const it=_e[et],ot=it.info?unescapeAll(it.info).trim():"";let st="",ut="";if(ot){const dt=ot.split(/(\s+)/g);st=dt[0],ut=dt.slice(2).join("")}let ft;if(tt.highlight?ft=tt.highlight(it.content,st,ut)||escapeHtml(it.content):ft=escapeHtml(it.content),ft.indexOf("<pre")===0)return ft+`
`;if(ot){const dt=it.attrIndex("class"),lt=it.attrs?it.attrs.slice():[];dt<0?lt.push(["class",tt.langPrefix+st]):(lt[dt]=lt[dt].slice(),lt[dt][1]+=" "+tt.langPrefix+st);const at={attrs:lt};return`<pre><code${rt.renderAttrs(at)}>${ft}</code></pre>
`}return`<pre><code${rt.renderAttrs(it)}>${ft}</code></pre>
`};default_rules.image=function(_e,et,tt,nt,rt){const it=_e[et];return it.attrs[it.attrIndex("alt")][1]=rt.renderInlineAsText(it.children,tt,nt),rt.renderToken(_e,et,tt)};default_rules.hardbreak=function(_e,et,tt){return tt.xhtmlOut?`<br />
`:`<br>
`};default_rules.softbreak=function(_e,et,tt){return tt.breaks?tt.xhtmlOut?`<br />
`:`<br>
`:`
`};default_rules.text=function(_e,et){return escapeHtml(_e[et].content)};default_rules.html_block=function(_e,et){return _e[et].content};default_rules.html_inline=function(_e,et){return _e[et].content};function Renderer$2(){this.rules=assign$1({},default_rules)}Renderer$2.prototype.renderAttrs=function _e(et){let tt,nt,rt;if(!et.attrs)return"";for(rt="",tt=0,nt=et.attrs.length;tt<nt;tt++)rt+=" "+escapeHtml(et.attrs[tt][0])+'="'+escapeHtml(et.attrs[tt][1])+'"';return rt};Renderer$2.prototype.renderToken=function _e(et,tt,nt){const rt=et[tt];let it="";if(rt.hidden)return"";rt.block&&rt.nesting!==-1&&tt&&et[tt-1].hidden&&(it+=`
`),it+=(rt.nesting===-1?"</":"<")+rt.tag,it+=this.renderAttrs(rt),rt.nesting===0&&nt.xhtmlOut&&(it+=" /");let ot=!1;if(rt.block&&(ot=!0,rt.nesting===1&&tt+1<et.length)){const st=et[tt+1];(st.type==="inline"||st.hidden||st.nesting===-1&&st.tag===rt.tag)&&(ot=!1)}return it+=ot?`>
`:">",it};Renderer$2.prototype.renderInline=function(_e,et,tt){let nt="";const rt=this.rules;for(let it=0,ot=_e.length;it<ot;it++){const st=_e[it].type;typeof rt[st]<"u"?nt+=rt[st](_e,it,et,tt,this):nt+=this.renderToken(_e,it,et)}return nt};Renderer$2.prototype.renderInlineAsText=function(_e,et,tt){let nt="";for(let rt=0,it=_e.length;rt<it;rt++)switch(_e[rt].type){case"text":nt+=_e[rt].content;break;case"image":nt+=this.renderInlineAsText(_e[rt].children,et,tt);break;case"html_inline":case"html_block":nt+=_e[rt].content;break;case"softbreak":case"hardbreak":nt+=`
`;break}return nt};Renderer$2.prototype.render=function(_e,et,tt){let nt="";const rt=this.rules;for(let it=0,ot=_e.length;it<ot;it++){const st=_e[it].type;st==="inline"?nt+=this.renderInline(_e[it].children,et,tt):typeof rt[st]<"u"?nt+=rt[st](_e,it,et,tt,this):nt+=this.renderToken(_e,it,et,tt)}return nt};function Ruler(){this.__rules__=[],this.__cache__=null}Ruler.prototype.__find__=function(_e){for(let et=0;et<this.__rules__.length;et++)if(this.__rules__[et].name===_e)return et;return-1};Ruler.prototype.__compile__=function(){const _e=this,et=[""];_e.__rules__.forEach(function(tt){tt.enabled&&tt.alt.forEach(function(nt){et.indexOf(nt)<0&&et.push(nt)})}),_e.__cache__={},et.forEach(function(tt){_e.__cache__[tt]=[],_e.__rules__.forEach(function(nt){nt.enabled&&(tt&&nt.alt.indexOf(tt)<0||_e.__cache__[tt].push(nt.fn))})})};Ruler.prototype.at=function(_e,et,tt){const nt=this.__find__(_e),rt=tt||{};if(nt===-1)throw new Error("Parser rule not found: "+_e);this.__rules__[nt].fn=et,this.__rules__[nt].alt=rt.alt||[],this.__cache__=null};Ruler.prototype.before=function(_e,et,tt,nt){const rt=this.__find__(_e),it=nt||{};if(rt===-1)throw new Error("Parser rule not found: "+_e);this.__rules__.splice(rt,0,{name:et,enabled:!0,fn:tt,alt:it.alt||[]}),this.__cache__=null};Ruler.prototype.after=function(_e,et,tt,nt){const rt=this.__find__(_e),it=nt||{};if(rt===-1)throw new Error("Parser rule not found: "+_e);this.__rules__.splice(rt+1,0,{name:et,enabled:!0,fn:tt,alt:it.alt||[]}),this.__cache__=null};Ruler.prototype.push=function(_e,et,tt){const nt=tt||{};this.__rules__.push({name:_e,enabled:!0,fn:et,alt:nt.alt||[]}),this.__cache__=null};Ruler.prototype.enable=function(_e,et){Array.isArray(_e)||(_e=[_e]);const tt=[];return _e.forEach(function(nt){const rt=this.__find__(nt);if(rt<0){if(et)return;throw new Error("Rules manager: invalid rule name "+nt)}this.__rules__[rt].enabled=!0,tt.push(nt)},this),this.__cache__=null,tt};Ruler.prototype.enableOnly=function(_e,et){Array.isArray(_e)||(_e=[_e]),this.__rules__.forEach(function(tt){tt.enabled=!1}),this.enable(_e,et)};Ruler.prototype.disable=function(_e,et){Array.isArray(_e)||(_e=[_e]);const tt=[];return _e.forEach(function(nt){const rt=this.__find__(nt);if(rt<0){if(et)return;throw new Error("Rules manager: invalid rule name "+nt)}this.__rules__[rt].enabled=!1,tt.push(nt)},this),this.__cache__=null,tt};Ruler.prototype.getRules=function(_e){return this.__cache__===null&&this.__compile__(),this.__cache__[_e]||[]};function Token(_e,et,tt){this.type=_e,this.tag=et,this.attrs=null,this.map=null,this.nesting=tt,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}Token.prototype.attrIndex=function _e(et){if(!this.attrs)return-1;const tt=this.attrs;for(let nt=0,rt=tt.length;nt<rt;nt++)if(tt[nt][0]===et)return nt;return-1};Token.prototype.attrPush=function _e(et){this.attrs?this.attrs.push(et):this.attrs=[et]};Token.prototype.attrSet=function _e(et,tt){const nt=this.attrIndex(et),rt=[et,tt];nt<0?this.attrPush(rt):this.attrs[nt]=rt};Token.prototype.attrGet=function _e(et){const tt=this.attrIndex(et);let nt=null;return tt>=0&&(nt=this.attrs[tt][1]),nt};Token.prototype.attrJoin=function _e(et,tt){const nt=this.attrIndex(et);nt<0?this.attrPush([et,tt]):this.attrs[nt][1]=this.attrs[nt][1]+" "+tt};function StateCore(_e,et,tt){this.src=_e,this.env=tt,this.tokens=[],this.inlineMode=!1,this.md=et}StateCore.prototype.Token=Token;const NEWLINES_RE=/\r\n?|\n/g,NULL_RE=/\0/g;function normalize(_e){let et;et=_e.src.replace(NEWLINES_RE,`
`),et=et.replace(NULL_RE,""),_e.src=et}function block$2(_e){let et;_e.inlineMode?(et=new _e.Token("inline","",0),et.content=_e.src,et.map=[0,1],et.children=[],_e.tokens.push(et)):_e.md.block.parse(_e.src,_e.md,_e.env,_e.tokens)}function inline$1(_e){const et=_e.tokens;for(let tt=0,nt=et.length;tt<nt;tt++){const rt=et[tt];rt.type==="inline"&&_e.md.inline.parse(rt.content,_e.md,_e.env,rt.children)}}function isLinkOpen$1(_e){return/^<a[>\s]/i.test(_e)}function isLinkClose$1(_e){return/^<\/a\s*>/i.test(_e)}function linkify$1(_e){const et=_e.tokens;if(_e.md.options.linkify)for(let tt=0,nt=et.length;tt<nt;tt++){if(et[tt].type!=="inline"||!_e.md.linkify.pretest(et[tt].content))continue;let rt=et[tt].children,it=0;for(let ot=rt.length-1;ot>=0;ot--){const st=rt[ot];if(st.type==="link_close"){for(ot--;rt[ot].level!==st.level&&rt[ot].type!=="link_open";)ot--;continue}if(st.type==="html_inline"&&(isLinkOpen$1(st.content)&&it>0&&it--,isLinkClose$1(st.content)&&it++),!(it>0)&&st.type==="text"&&_e.md.linkify.test(st.content)){const ut=st.content;let ft=_e.md.linkify.match(ut);const dt=[];let lt=st.level,at=0;ft.length>0&&ft[0].index===0&&ot>0&&rt[ot-1].type==="text_special"&&(ft=ft.slice(1));for(let ct=0;ct<ft.length;ct++){const ht=ft[ct].url,pt=_e.md.normalizeLink(ht);if(!_e.md.validateLink(pt))continue;let mt=ft[ct].text;ft[ct].schema?ft[ct].schema==="mailto:"&&!/^mailto:/i.test(mt)?mt=_e.md.normalizeLinkText("mailto:"+mt).replace(/^mailto:/,""):mt=_e.md.normalizeLinkText(mt):mt=_e.md.normalizeLinkText("http://"+mt).replace(/^http:\/\//,"");const gt=ft[ct].index;if(gt>at){const vt=new _e.Token("text","",0);vt.content=ut.slice(at,gt),vt.level=lt,dt.push(vt)}const yt=new _e.Token("link_open","a",1);yt.attrs=[["href",pt]],yt.level=lt++,yt.markup="linkify",yt.info="auto",dt.push(yt);const bt=new _e.Token("text","",0);bt.content=mt,bt.level=lt,dt.push(bt);const xt=new _e.Token("link_close","a",-1);xt.level=--lt,xt.markup="linkify",xt.info="auto",dt.push(xt),at=ft[ct].lastIndex}if(at<ut.length){const ct=new _e.Token("text","",0);ct.content=ut.slice(at),ct.level=lt,dt.push(ct)}et[tt].children=rt=arrayReplaceAt(rt,ot,dt)}}}}const RARE_RE=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,SCOPED_ABBR_TEST_RE=/\((c|tm|r)\)/i,SCOPED_ABBR_RE=/\((c|tm|r)\)/ig,SCOPED_ABBR={c:"",r:"",tm:""};function replaceFn(_e,et){return SCOPED_ABBR[et.toLowerCase()]}function replace_scoped(_e){let et=0;for(let tt=_e.length-1;tt>=0;tt--){const nt=_e[tt];nt.type==="text"&&!et&&(nt.content=nt.content.replace(SCOPED_ABBR_RE,replaceFn)),nt.type==="link_open"&&nt.info==="auto"&&et--,nt.type==="link_close"&&nt.info==="auto"&&et++}}function replace_rare(_e){let et=0;for(let tt=_e.length-1;tt>=0;tt--){const nt=_e[tt];nt.type==="text"&&!et&&RARE_RE.test(nt.content)&&(nt.content=nt.content.replace(/\+-/g,"").replace(/\.{2,}/g,"").replace(/([?!])/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/mg,"$1").replace(/(^|\s)--(?=\s|$)/mg,"$1").replace(/(^|[^-\s])--(?=[^-\s]|$)/mg,"$1")),nt.type==="link_open"&&nt.info==="auto"&&et--,nt.type==="link_close"&&nt.info==="auto"&&et++}}function replace$1(_e){let et;if(_e.md.options.typographer)for(et=_e.tokens.length-1;et>=0;et--)_e.tokens[et].type==="inline"&&(SCOPED_ABBR_TEST_RE.test(_e.tokens[et].content)&&replace_scoped(_e.tokens[et].children),RARE_RE.test(_e.tokens[et].content)&&replace_rare(_e.tokens[et].children))}const QUOTE_TEST_RE=/['"]/,QUOTE_RE=/['"]/g,APOSTROPHE="";function replaceAt(_e,et,tt){return _e.slice(0,et)+tt+_e.slice(et+1)}function process_inlines(_e,et){let tt;const nt=[];for(let rt=0;rt<_e.length;rt++){const it=_e[rt],ot=_e[rt].level;for(tt=nt.length-1;tt>=0&&!(nt[tt].level<=ot);tt--);if(nt.length=tt+1,it.type!=="text")continue;let st=it.content,ut=0,ft=st.length;e:for(;ut<ft;){QUOTE_RE.lastIndex=ut;const dt=QUOTE_RE.exec(st);if(!dt)break;let lt=!0,at=!0;ut=dt.index+1;const ct=dt[0]==="'";let ht=32;if(dt.index-1>=0)ht=st.charCodeAt(dt.index-1);else for(tt=rt-1;tt>=0&&!(_e[tt].type==="softbreak"||_e[tt].type==="hardbreak");tt--)if(_e[tt].content){ht=_e[tt].content.charCodeAt(_e[tt].content.length-1);break}let pt=32;if(ut<ft)pt=st.charCodeAt(ut);else for(tt=rt+1;tt<_e.length&&!(_e[tt].type==="softbreak"||_e[tt].type==="hardbreak");tt++)if(_e[tt].content){pt=_e[tt].content.charCodeAt(0);break}const mt=isMdAsciiPunct(ht)||isPunctChar(String.fromCharCode(ht)),gt=isMdAsciiPunct(pt)||isPunctChar(String.fromCharCode(pt)),yt=isWhiteSpace(ht),bt=isWhiteSpace(pt);if(bt?lt=!1:gt&&(yt||mt||(lt=!1)),yt?at=!1:mt&&(bt||gt||(at=!1)),pt===34&&dt[0]==='"'&&ht>=48&&ht<=57&&(at=lt=!1),lt&&at&&(lt=mt,at=gt),!lt&&!at){ct&&(it.content=replaceAt(it.content,dt.index,APOSTROPHE));continue}if(at)for(tt=nt.length-1;tt>=0;tt--){let xt=nt[tt];if(nt[tt].level<ot)break;if(xt.single===ct&&nt[tt].level===ot){xt=nt[tt];let vt,wt;ct?(vt=et.md.options.quotes[2],wt=et.md.options.quotes[3]):(vt=et.md.options.quotes[0],wt=et.md.options.quotes[1]),it.content=replaceAt(it.content,dt.index,wt),_e[xt.token].content=replaceAt(_e[xt.token].content,xt.pos,vt),ut+=wt.length-1,xt.token===rt&&(ut+=vt.length-1),st=it.content,ft=st.length,nt.length=tt;continue e}}lt?nt.push({token:rt,pos:dt.index,single:ct,level:ot}):at&&ct&&(it.content=replaceAt(it.content,dt.index,APOSTROPHE))}}}function smartquotes(_e){if(_e.md.options.typographer)for(let et=_e.tokens.length-1;et>=0;et--)_e.tokens[et].type!=="inline"||!QUOTE_TEST_RE.test(_e.tokens[et].content)||process_inlines(_e.tokens[et].children,_e)}function text_join(_e){let et,tt;const nt=_e.tokens,rt=nt.length;for(let it=0;it<rt;it++){if(nt[it].type!=="inline")continue;const ot=nt[it].children,st=ot.length;for(et=0;et<st;et++)ot[et].type==="text_special"&&(ot[et].type="text");for(et=tt=0;et<st;et++)ot[et].type==="text"&&et+1<st&&ot[et+1].type==="text"?ot[et+1].content=ot[et].content+ot[et+1].content:(et!==tt&&(ot[tt]=ot[et]),tt++);et!==tt&&(ot.length=tt)}}const _rules$2=[["normalize",normalize],["block",block$2],["inline",inline$1],["linkify",linkify$1],["replacements",replace$1],["smartquotes",smartquotes],["text_join",text_join]];function Core(){this.ruler=new Ruler;for(let _e=0;_e<_rules$2.length;_e++)this.ruler.push(_rules$2[_e][0],_rules$2[_e][1])}Core.prototype.process=function(_e){const et=this.ruler.getRules("");for(let tt=0,nt=et.length;tt<nt;tt++)et[tt](_e)};Core.prototype.State=StateCore;function StateBlock(_e,et,tt,nt){this.src=_e,this.md=et,this.env=tt,this.tokens=nt,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0;const rt=this.src;for(let it=0,ot=0,st=0,ut=0,ft=rt.length,dt=!1;ot<ft;ot++){const lt=rt.charCodeAt(ot);if(!dt)if(isSpace(lt)){st++,lt===9?ut+=4-ut%4:ut++;continue}else dt=!0;(lt===10||ot===ft-1)&&(lt!==10&&ot++,this.bMarks.push(it),this.eMarks.push(ot),this.tShift.push(st),this.sCount.push(ut),this.bsCount.push(0),dt=!1,st=0,ut=0,it=ot+1)}this.bMarks.push(rt.length),this.eMarks.push(rt.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}StateBlock.prototype.push=function(_e,et,tt){const nt=new Token(_e,et,tt);return nt.block=!0,tt<0&&this.level--,nt.level=this.level,tt>0&&this.level++,this.tokens.push(nt),nt};StateBlock.prototype.isEmpty=function _e(et){return this.bMarks[et]+this.tShift[et]>=this.eMarks[et]};StateBlock.prototype.skipEmptyLines=function _e(et){for(let tt=this.lineMax;et<tt&&!(this.bMarks[et]+this.tShift[et]<this.eMarks[et]);et++);return et};StateBlock.prototype.skipSpaces=function _e(et){for(let tt=this.src.length;et<tt;et++){const nt=this.src.charCodeAt(et);if(!isSpace(nt))break}return et};StateBlock.prototype.skipSpacesBack=function _e(et,tt){if(et<=tt)return et;for(;et>tt;)if(!isSpace(this.src.charCodeAt(--et)))return et+1;return et};StateBlock.prototype.skipChars=function _e(et,tt){for(let nt=this.src.length;et<nt&&this.src.charCodeAt(et)===tt;et++);return et};StateBlock.prototype.skipCharsBack=function _e(et,tt,nt){if(et<=nt)return et;for(;et>nt;)if(tt!==this.src.charCodeAt(--et))return et+1;return et};StateBlock.prototype.getLines=function _e(et,tt,nt,rt){if(et>=tt)return"";const it=new Array(tt-et);for(let ot=0,st=et;st<tt;st++,ot++){let ut=0;const ft=this.bMarks[st];let dt=ft,lt;for(st+1<tt||rt?lt=this.eMarks[st]+1:lt=this.eMarks[st];dt<lt&&ut<nt;){const at=this.src.charCodeAt(dt);if(isSpace(at))at===9?ut+=4-(ut+this.bsCount[st])%4:ut++;else if(dt-ft<this.tShift[st])ut++;else break;dt++}ut>nt?it[ot]=new Array(ut-nt+1).join(" ")+this.src.slice(dt,lt):it[ot]=this.src.slice(dt,lt)}return it.join("")};StateBlock.prototype.Token=Token;const MAX_AUTOCOMPLETED_CELLS=65536;function getLine$1(_e,et){const tt=_e.bMarks[et]+_e.tShift[et],nt=_e.eMarks[et];return _e.src.slice(tt,nt)}function escapedSplit(_e){const et=[],tt=_e.length;let nt=0,rt=_e.charCodeAt(nt),it=!1,ot=0,st="";for(;nt<tt;)rt===124&&(it?(st+=_e.substring(ot,nt-1),ot=nt):(et.push(st+_e.substring(ot,nt)),st="",ot=nt+1)),it=rt===92,nt++,rt=_e.charCodeAt(nt);return et.push(st+_e.substring(ot)),et}function table(_e,et,tt,nt){if(et+2>tt)return!1;let rt=et+1;if(_e.sCount[rt]<_e.blkIndent||_e.sCount[rt]-_e.blkIndent>=4)return!1;let it=_e.bMarks[rt]+_e.tShift[rt];if(it>=_e.eMarks[rt])return!1;const ot=_e.src.charCodeAt(it++);if(ot!==124&&ot!==45&&ot!==58||it>=_e.eMarks[rt])return!1;const st=_e.src.charCodeAt(it++);if(st!==124&&st!==45&&st!==58&&!isSpace(st)||ot===45&&isSpace(st))return!1;for(;it<_e.eMarks[rt];){const xt=_e.src.charCodeAt(it);if(xt!==124&&xt!==45&&xt!==58&&!isSpace(xt))return!1;it++}let ut=getLine$1(_e,et+1),ft=ut.split("|");const dt=[];for(let xt=0;xt<ft.length;xt++){const vt=ft[xt].trim();if(!vt){if(xt===0||xt===ft.length-1)continue;return!1}if(!/^:?-+:?$/.test(vt))return!1;vt.charCodeAt(vt.length-1)===58?dt.push(vt.charCodeAt(0)===58?"center":"right"):vt.charCodeAt(0)===58?dt.push("left"):dt.push("")}if(ut=getLine$1(_e,et).trim(),ut.indexOf("|")===-1||_e.sCount[et]-_e.blkIndent>=4)return!1;ft=escapedSplit(ut),ft.length&&ft[0]===""&&ft.shift(),ft.length&&ft[ft.length-1]===""&&ft.pop();const lt=ft.length;if(lt===0||lt!==dt.length)return!1;if(nt)return!0;const at=_e.parentType;_e.parentType="table";const ct=_e.md.block.ruler.getRules("blockquote"),ht=_e.push("table_open","table",1),pt=[et,0];ht.map=pt;const mt=_e.push("thead_open","thead",1);mt.map=[et,et+1];const gt=_e.push("tr_open","tr",1);gt.map=[et,et+1];for(let xt=0;xt<ft.length;xt++){const vt=_e.push("th_open","th",1);dt[xt]&&(vt.attrs=[["style","text-align:"+dt[xt]]]);const wt=_e.push("inline","",0);wt.content=ft[xt].trim(),wt.children=[],_e.push("th_close","th",-1)}_e.push("tr_close","tr",-1),_e.push("thead_close","thead",-1);let yt,bt=0;for(rt=et+2;rt<tt&&!(_e.sCount[rt]<_e.blkIndent);rt++){let xt=!1;for(let wt=0,_t=ct.length;wt<_t;wt++)if(ct[wt](_e,rt,tt,!0)){xt=!0;break}if(xt||(ut=getLine$1(_e,rt).trim(),!ut)||_e.sCount[rt]-_e.blkIndent>=4||(ft=escapedSplit(ut),ft.length&&ft[0]===""&&ft.shift(),ft.length&&ft[ft.length-1]===""&&ft.pop(),bt+=lt-ft.length,bt>MAX_AUTOCOMPLETED_CELLS))break;if(rt===et+2){const wt=_e.push("tbody_open","tbody",1);wt.map=yt=[et+2,0]}const vt=_e.push("tr_open","tr",1);vt.map=[rt,rt+1];for(let wt=0;wt<lt;wt++){const _t=_e.push("td_open","td",1);dt[wt]&&(_t.attrs=[["style","text-align:"+dt[wt]]]);const Ct=_e.push("inline","",0);Ct.content=ft[wt]?ft[wt].trim():"",Ct.children=[],_e.push("td_close","td",-1)}_e.push("tr_close","tr",-1)}return yt&&(_e.push("tbody_close","tbody",-1),yt[1]=rt),_e.push("table_close","table",-1),pt[1]=rt,_e.parentType=at,_e.line=rt,!0}function code(_e,et,tt){if(_e.sCount[et]-_e.blkIndent<4)return!1;let nt=et+1,rt=nt;for(;nt<tt;){if(_e.isEmpty(nt)){nt++;continue}if(_e.sCount[nt]-_e.blkIndent>=4){nt++,rt=nt;continue}break}_e.line=rt;const it=_e.push("code_block","code",0);return it.content=_e.getLines(et,rt,4+_e.blkIndent,!1)+`
`,it.map=[et,_e.line],!0}function fence(_e,et,tt,nt){let rt=_e.bMarks[et]+_e.tShift[et],it=_e.eMarks[et];if(_e.sCount[et]-_e.blkIndent>=4||rt+3>it)return!1;const ot=_e.src.charCodeAt(rt);if(ot!==126&&ot!==96)return!1;let st=rt;rt=_e.skipChars(rt,ot);let ut=rt-st;if(ut<3)return!1;const ft=_e.src.slice(st,rt),dt=_e.src.slice(rt,it);if(ot===96&&dt.indexOf(String.fromCharCode(ot))>=0)return!1;if(nt)return!0;let lt=et,at=!1;for(;lt++,!(lt>=tt||(rt=st=_e.bMarks[lt]+_e.tShift[lt],it=_e.eMarks[lt],rt<it&&_e.sCount[lt]<_e.blkIndent));)if(_e.src.charCodeAt(rt)===ot&&!(_e.sCount[lt]-_e.blkIndent>=4)&&(rt=_e.skipChars(rt,ot),!(rt-st<ut)&&(rt=_e.skipSpaces(rt),!(rt<it)))){at=!0;break}ut=_e.sCount[et],_e.line=lt+(at?1:0);const ct=_e.push("fence","code",0);return ct.info=dt,ct.content=_e.getLines(et+1,lt,ut,!0),ct.markup=ft,ct.map=[et,_e.line],!0}function blockquote$1(_e,et,tt,nt){let rt=_e.bMarks[et]+_e.tShift[et],it=_e.eMarks[et];const ot=_e.lineMax;if(_e.sCount[et]-_e.blkIndent>=4||_e.src.charCodeAt(rt)!==62)return!1;if(nt)return!0;const st=[],ut=[],ft=[],dt=[],lt=_e.md.block.ruler.getRules("blockquote"),at=_e.parentType;_e.parentType="blockquote";let ct=!1,ht;for(ht=et;ht<tt;ht++){const bt=_e.sCount[ht]<_e.blkIndent;if(rt=_e.bMarks[ht]+_e.tShift[ht],it=_e.eMarks[ht],rt>=it)break;if(_e.src.charCodeAt(rt++)===62&&!bt){let vt=_e.sCount[ht]+1,wt,_t;_e.src.charCodeAt(rt)===32?(rt++,vt++,_t=!1,wt=!0):_e.src.charCodeAt(rt)===9?(wt=!0,(_e.bsCount[ht]+vt)%4===3?(rt++,vt++,_t=!1):_t=!0):wt=!1;let Ct=vt;for(st.push(_e.bMarks[ht]),_e.bMarks[ht]=rt;rt<it;){const Et=_e.src.charCodeAt(rt);if(isSpace(Et))Et===9?Ct+=4-(Ct+_e.bsCount[ht]+(_t?1:0))%4:Ct++;else break;rt++}ct=rt>=it,ut.push(_e.bsCount[ht]),_e.bsCount[ht]=_e.sCount[ht]+1+(wt?1:0),ft.push(_e.sCount[ht]),_e.sCount[ht]=Ct-vt,dt.push(_e.tShift[ht]),_e.tShift[ht]=rt-_e.bMarks[ht];continue}if(ct)break;let xt=!1;for(let vt=0,wt=lt.length;vt<wt;vt++)if(lt[vt](_e,ht,tt,!0)){xt=!0;break}if(xt){_e.lineMax=ht,_e.blkIndent!==0&&(st.push(_e.bMarks[ht]),ut.push(_e.bsCount[ht]),dt.push(_e.tShift[ht]),ft.push(_e.sCount[ht]),_e.sCount[ht]-=_e.blkIndent);break}st.push(_e.bMarks[ht]),ut.push(_e.bsCount[ht]),dt.push(_e.tShift[ht]),ft.push(_e.sCount[ht]),_e.sCount[ht]=-1}const pt=_e.blkIndent;_e.blkIndent=0;const mt=_e.push("blockquote_open","blockquote",1);mt.markup=">";const gt=[et,0];mt.map=gt,_e.md.block.tokenize(_e,et,ht);const yt=_e.push("blockquote_close","blockquote",-1);yt.markup=">",_e.lineMax=ot,_e.parentType=at,gt[1]=_e.line;for(let bt=0;bt<dt.length;bt++)_e.bMarks[bt+et]=st[bt],_e.tShift[bt+et]=dt[bt],_e.sCount[bt+et]=ft[bt],_e.bsCount[bt+et]=ut[bt];return _e.blkIndent=pt,!0}function hr$1(_e,et,tt,nt){const rt=_e.eMarks[et];if(_e.sCount[et]-_e.blkIndent>=4)return!1;let it=_e.bMarks[et]+_e.tShift[et];const ot=_e.src.charCodeAt(it++);if(ot!==42&&ot!==45&&ot!==95)return!1;let st=1;for(;it<rt;){const ft=_e.src.charCodeAt(it++);if(ft!==ot&&!isSpace(ft))return!1;ft===ot&&st++}if(st<3)return!1;if(nt)return!0;_e.line=et+1;const ut=_e.push("hr","hr",0);return ut.map=[et,_e.line],ut.markup=Array(st+1).join(String.fromCharCode(ot)),!0}function skipBulletListMarker(_e,et){const tt=_e.eMarks[et];let nt=_e.bMarks[et]+_e.tShift[et];const rt=_e.src.charCodeAt(nt++);if(rt!==42&&rt!==45&&rt!==43)return-1;if(nt<tt){const it=_e.src.charCodeAt(nt);if(!isSpace(it))return-1}return nt}function skipOrderedListMarker(_e,et){const tt=_e.bMarks[et]+_e.tShift[et],nt=_e.eMarks[et];let rt=tt;if(rt+1>=nt)return-1;let it=_e.src.charCodeAt(rt++);if(it<48||it>57)return-1;for(;;){if(rt>=nt)return-1;if(it=_e.src.charCodeAt(rt++),it>=48&&it<=57){if(rt-tt>=10)return-1;continue}if(it===41||it===46)break;return-1}return rt<nt&&(it=_e.src.charCodeAt(rt),!isSpace(it))?-1:rt}function markTightParagraphs(_e,et){const tt=_e.level+2;for(let nt=et+2,rt=_e.tokens.length-2;nt<rt;nt++)_e.tokens[nt].level===tt&&_e.tokens[nt].type==="paragraph_open"&&(_e.tokens[nt+2].hidden=!0,_e.tokens[nt].hidden=!0,nt+=2)}function list$1(_e,et,tt,nt){let rt,it,ot,st,ut=et,ft=!0;if(_e.sCount[ut]-_e.blkIndent>=4||_e.listIndent>=0&&_e.sCount[ut]-_e.listIndent>=4&&_e.sCount[ut]<_e.blkIndent)return!1;let dt=!1;nt&&_e.parentType==="paragraph"&&_e.sCount[ut]>=_e.blkIndent&&(dt=!0);let lt,at,ct;if((ct=skipOrderedListMarker(_e,ut))>=0){if(lt=!0,ot=_e.bMarks[ut]+_e.tShift[ut],at=Number(_e.src.slice(ot,ct-1)),dt&&at!==1)return!1}else if((ct=skipBulletListMarker(_e,ut))>=0)lt=!1;else return!1;if(dt&&_e.skipSpaces(ct)>=_e.eMarks[ut])return!1;if(nt)return!0;const ht=_e.src.charCodeAt(ct-1),pt=_e.tokens.length;lt?(st=_e.push("ordered_list_open","ol",1),at!==1&&(st.attrs=[["start",at]])):st=_e.push("bullet_list_open","ul",1);const mt=[ut,0];st.map=mt,st.markup=String.fromCharCode(ht);let gt=!1;const yt=_e.md.block.ruler.getRules("list"),bt=_e.parentType;for(_e.parentType="list";ut<tt;){it=ct,rt=_e.eMarks[ut];const xt=_e.sCount[ut]+ct-(_e.bMarks[ut]+_e.tShift[ut]);let vt=xt;for(;it<rt;){const At=_e.src.charCodeAt(it);if(At===9)vt+=4-(vt+_e.bsCount[ut])%4;else if(At===32)vt++;else break;it++}const wt=it;let _t;wt>=rt?_t=1:_t=vt-xt,_t>4&&(_t=1);const Ct=xt+_t;st=_e.push("list_item_open","li",1),st.markup=String.fromCharCode(ht);const Et=[ut,0];st.map=Et,lt&&(st.info=_e.src.slice(ot,ct-1));const $t=_e.tight,jt=_e.tShift[ut],Dt=_e.sCount[ut],Pt=_e.listIndent;if(_e.listIndent=_e.blkIndent,_e.blkIndent=Ct,_e.tight=!0,_e.tShift[ut]=wt-_e.bMarks[ut],_e.sCount[ut]=vt,wt>=rt&&_e.isEmpty(ut+1)?_e.line=Math.min(_e.line+2,tt):_e.md.block.tokenize(_e,ut,tt,!0),(!_e.tight||gt)&&(ft=!1),gt=_e.line-ut>1&&_e.isEmpty(_e.line-1),_e.blkIndent=_e.listIndent,_e.listIndent=Pt,_e.tShift[ut]=jt,_e.sCount[ut]=Dt,_e.tight=$t,st=_e.push("list_item_close","li",-1),st.markup=String.fromCharCode(ht),ut=_e.line,Et[1]=ut,ut>=tt||_e.sCount[ut]<_e.blkIndent||_e.sCount[ut]-_e.blkIndent>=4)break;let kt=!1;for(let At=0,Tt=yt.length;At<Tt;At++)if(yt[At](_e,ut,tt,!0)){kt=!0;break}if(kt)break;if(lt){if(ct=skipOrderedListMarker(_e,ut),ct<0)break;ot=_e.bMarks[ut]+_e.tShift[ut]}else if(ct=skipBulletListMarker(_e,ut),ct<0)break;if(ht!==_e.src.charCodeAt(ct-1))break}return lt?st=_e.push("ordered_list_close","ol",-1):st=_e.push("bullet_list_close","ul",-1),st.markup=String.fromCharCode(ht),mt[1]=ut,_e.line=ut,_e.parentType=bt,ft&&markTightParagraphs(_e,pt),!0}function reference(_e,et,tt,nt){let rt=_e.bMarks[et]+_e.tShift[et],it=_e.eMarks[et],ot=et+1;if(_e.sCount[et]-_e.blkIndent>=4||_e.src.charCodeAt(rt)!==91)return!1;function st(yt){const bt=_e.lineMax;if(yt>=bt||_e.isEmpty(yt))return null;let xt=!1;if(_e.sCount[yt]-_e.blkIndent>3&&(xt=!0),_e.sCount[yt]<0&&(xt=!0),!xt){const _t=_e.md.block.ruler.getRules("reference"),Ct=_e.parentType;_e.parentType="reference";let Et=!1;for(let $t=0,jt=_t.length;$t<jt;$t++)if(_t[$t](_e,yt,bt,!0)){Et=!0;break}if(_e.parentType=Ct,Et)return null}const vt=_e.bMarks[yt]+_e.tShift[yt],wt=_e.eMarks[yt];return _e.src.slice(vt,wt+1)}let ut=_e.src.slice(rt,it+1);it=ut.length;let ft=-1;for(rt=1;rt<it;rt++){const yt=ut.charCodeAt(rt);if(yt===91)return!1;if(yt===93){ft=rt;break}else if(yt===10){const bt=st(ot);bt!==null&&(ut+=bt,it=ut.length,ot++)}else if(yt===92&&(rt++,rt<it&&ut.charCodeAt(rt)===10)){const bt=st(ot);bt!==null&&(ut+=bt,it=ut.length,ot++)}}if(ft<0||ut.charCodeAt(ft+1)!==58)return!1;for(rt=ft+2;rt<it;rt++){const yt=ut.charCodeAt(rt);if(yt===10){const bt=st(ot);bt!==null&&(ut+=bt,it=ut.length,ot++)}else if(!isSpace(yt))break}const dt=_e.md.helpers.parseLinkDestination(ut,rt,it);if(!dt.ok)return!1;const lt=_e.md.normalizeLink(dt.str);if(!_e.md.validateLink(lt))return!1;rt=dt.pos;const at=rt,ct=ot,ht=rt;for(;rt<it;rt++){const yt=ut.charCodeAt(rt);if(yt===10){const bt=st(ot);bt!==null&&(ut+=bt,it=ut.length,ot++)}else if(!isSpace(yt))break}let pt=_e.md.helpers.parseLinkTitle(ut,rt,it);for(;pt.can_continue;){const yt=st(ot);if(yt===null)break;ut+=yt,rt=it,it=ut.length,ot++,pt=_e.md.helpers.parseLinkTitle(ut,rt,it,pt)}let mt;for(rt<it&&ht!==rt&&pt.ok?(mt=pt.str,rt=pt.pos):(mt="",rt=at,ot=ct);rt<it;){const yt=ut.charCodeAt(rt);if(!isSpace(yt))break;rt++}if(rt<it&&ut.charCodeAt(rt)!==10&&mt)for(mt="",rt=at,ot=ct;rt<it;){const yt=ut.charCodeAt(rt);if(!isSpace(yt))break;rt++}if(rt<it&&ut.charCodeAt(rt)!==10)return!1;const gt=normalizeReference(ut.slice(1,ft));return gt?(nt||(typeof _e.env.references>"u"&&(_e.env.references={}),typeof _e.env.references[gt]>"u"&&(_e.env.references[gt]={title:mt,href:lt}),_e.line=ot),!0):!1}const block_names=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],attr_name="[a-zA-Z_:][a-zA-Z0-9:._-]*",unquoted="[^\"'=<>`\\x00-\\x20]+",single_quoted="'[^']*'",double_quoted='"[^"]*"',attr_value="(?:"+unquoted+"|"+single_quoted+"|"+double_quoted+")",attribute="(?:\\s+"+attr_name+"(?:\\s*=\\s*"+attr_value+")?)",open_tag="<[A-Za-z][A-Za-z0-9\\-]*"+attribute+"*\\s*\\/?>",close_tag="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",comment$1="<!---?>|<!--(?:[^-]|-[^-]|--[^>])*-->",processing="<[?][\\s\\S]*?[?]>",declaration$1="<![A-Za-z][^>]*>",cdata="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",HTML_TAG_RE=new RegExp("^(?:"+open_tag+"|"+close_tag+"|"+comment$1+"|"+processing+"|"+declaration$1+"|"+cdata+")"),HTML_OPEN_CLOSE_TAG_RE=new RegExp("^(?:"+open_tag+"|"+close_tag+")"),HTML_SEQUENCES=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+block_names.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(HTML_OPEN_CLOSE_TAG_RE.source+"\\s*$"),/^$/,!1]];function html_block(_e,et,tt,nt){let rt=_e.bMarks[et]+_e.tShift[et],it=_e.eMarks[et];if(_e.sCount[et]-_e.blkIndent>=4||!_e.md.options.html||_e.src.charCodeAt(rt)!==60)return!1;let ot=_e.src.slice(rt,it),st=0;for(;st<HTML_SEQUENCES.length&&!HTML_SEQUENCES[st][0].test(ot);st++);if(st===HTML_SEQUENCES.length)return!1;if(nt)return HTML_SEQUENCES[st][2];let ut=et+1;if(!HTML_SEQUENCES[st][1].test(ot)){for(;ut<tt&&!(_e.sCount[ut]<_e.blkIndent);ut++)if(rt=_e.bMarks[ut]+_e.tShift[ut],it=_e.eMarks[ut],ot=_e.src.slice(rt,it),HTML_SEQUENCES[st][1].test(ot)){ot.length!==0&&ut++;break}}_e.line=ut;const ft=_e.push("html_block","",0);return ft.map=[et,ut],ft.content=_e.getLines(et,ut,_e.blkIndent,!0),!0}function heading$1(_e,et,tt,nt){let rt=_e.bMarks[et]+_e.tShift[et],it=_e.eMarks[et];if(_e.sCount[et]-_e.blkIndent>=4)return!1;let ot=_e.src.charCodeAt(rt);if(ot!==35||rt>=it)return!1;let st=1;for(ot=_e.src.charCodeAt(++rt);ot===35&&rt<it&&st<=6;)st++,ot=_e.src.charCodeAt(++rt);if(st>6||rt<it&&!isSpace(ot))return!1;if(nt)return!0;it=_e.skipSpacesBack(it,rt);const ut=_e.skipCharsBack(it,35,rt);ut>rt&&isSpace(_e.src.charCodeAt(ut-1))&&(it=ut),_e.line=et+1;const ft=_e.push("heading_open","h"+String(st),1);ft.markup="########".slice(0,st),ft.map=[et,_e.line];const dt=_e.push("inline","",0);dt.content=_e.src.slice(rt,it).trim(),dt.map=[et,_e.line],dt.children=[];const lt=_e.push("heading_close","h"+String(st),-1);return lt.markup="########".slice(0,st),!0}function lheading$1(_e,et,tt){const nt=_e.md.block.ruler.getRules("paragraph");if(_e.sCount[et]-_e.blkIndent>=4)return!1;const rt=_e.parentType;_e.parentType="paragraph";let it=0,ot,st=et+1;for(;st<tt&&!_e.isEmpty(st);st++){if(_e.sCount[st]-_e.blkIndent>3)continue;if(_e.sCount[st]>=_e.blkIndent){let ct=_e.bMarks[st]+_e.tShift[st];const ht=_e.eMarks[st];if(ct<ht&&(ot=_e.src.charCodeAt(ct),(ot===45||ot===61)&&(ct=_e.skipChars(ct,ot),ct=_e.skipSpaces(ct),ct>=ht))){it=ot===61?1:2;break}}if(_e.sCount[st]<0)continue;let at=!1;for(let ct=0,ht=nt.length;ct<ht;ct++)if(nt[ct](_e,st,tt,!0)){at=!0;break}if(at)break}if(!it)return!1;const ut=_e.getLines(et,st,_e.blkIndent,!1).trim();_e.line=st+1;const ft=_e.push("heading_open","h"+String(it),1);ft.markup=String.fromCharCode(ot),ft.map=[et,_e.line];const dt=_e.push("inline","",0);dt.content=ut,dt.map=[et,_e.line-1],dt.children=[];const lt=_e.push("heading_close","h"+String(it),-1);return lt.markup=String.fromCharCode(ot),_e.parentType=rt,!0}function paragraph$1(_e,et,tt){const nt=_e.md.block.ruler.getRules("paragraph"),rt=_e.parentType;let it=et+1;for(_e.parentType="paragraph";it<tt&&!_e.isEmpty(it);it++){if(_e.sCount[it]-_e.blkIndent>3||_e.sCount[it]<0)continue;let ft=!1;for(let dt=0,lt=nt.length;dt<lt;dt++)if(nt[dt](_e,it,tt,!0)){ft=!0;break}if(ft)break}const ot=_e.getLines(et,it,_e.blkIndent,!1).trim();_e.line=it;const st=_e.push("paragraph_open","p",1);st.map=[et,_e.line];const ut=_e.push("inline","",0);return ut.content=ot,ut.map=[et,_e.line],ut.children=[],_e.push("paragraph_close","p",-1),_e.parentType=rt,!0}const _rules$1=[["table",table,["paragraph","reference"]],["code",code],["fence",fence,["paragraph","reference","blockquote","list"]],["blockquote",blockquote$1,["paragraph","reference","blockquote","list"]],["hr",hr$1,["paragraph","reference","blockquote","list"]],["list",list$1,["paragraph","reference","blockquote"]],["reference",reference],["html_block",html_block,["paragraph","reference","blockquote"]],["heading",heading$1,["paragraph","reference","blockquote"]],["lheading",lheading$1],["paragraph",paragraph$1]];function ParserBlock(){this.ruler=new Ruler;for(let _e=0;_e<_rules$1.length;_e++)this.ruler.push(_rules$1[_e][0],_rules$1[_e][1],{alt:(_rules$1[_e][2]||[]).slice()})}ParserBlock.prototype.tokenize=function(_e,et,tt){const nt=this.ruler.getRules(""),rt=nt.length,it=_e.md.options.maxNesting;let ot=et,st=!1;for(;ot<tt&&(_e.line=ot=_e.skipEmptyLines(ot),!(ot>=tt||_e.sCount[ot]<_e.blkIndent));){if(_e.level>=it){_e.line=tt;break}const ut=_e.line;let ft=!1;for(let dt=0;dt<rt;dt++)if(ft=nt[dt](_e,ot,tt,!1),ft){if(ut>=_e.line)throw new Error("block rule didn't increment state.line");break}if(!ft)throw new Error("none of the block rules matched");_e.tight=!st,_e.isEmpty(_e.line-1)&&(st=!0),ot=_e.line,ot<tt&&_e.isEmpty(ot)&&(st=!0,ot++,_e.line=ot)}};ParserBlock.prototype.parse=function(_e,et,tt,nt){if(!_e)return;const rt=new this.State(_e,et,tt,nt);this.tokenize(rt,rt.line,rt.lineMax)};ParserBlock.prototype.State=StateBlock;function StateInline(_e,et,tt,nt){this.src=_e,this.env=tt,this.md=et,this.tokens=nt,this.tokens_meta=Array(nt.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}StateInline.prototype.pushPending=function(){const _e=new Token("text","",0);return _e.content=this.pending,_e.level=this.pendingLevel,this.tokens.push(_e),this.pending="",_e};StateInline.prototype.push=function(_e,et,tt){this.pending&&this.pushPending();const nt=new Token(_e,et,tt);let rt=null;return tt<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),nt.level=this.level,tt>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],rt={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(nt),this.tokens_meta.push(rt),nt};StateInline.prototype.scanDelims=function(_e,et){const tt=this.posMax,nt=this.src.charCodeAt(_e),rt=_e>0?this.src.charCodeAt(_e-1):32;let it=_e;for(;it<tt&&this.src.charCodeAt(it)===nt;)it++;const ot=it-_e,st=it<tt?this.src.charCodeAt(it):32,ut=isMdAsciiPunct(rt)||isPunctChar(String.fromCharCode(rt)),ft=isMdAsciiPunct(st)||isPunctChar(String.fromCharCode(st)),dt=isWhiteSpace(rt),lt=isWhiteSpace(st),at=!lt&&(!ft||dt||ut),ct=!dt&&(!ut||lt||ft);return{can_open:at&&(et||!ct||ut),can_close:ct&&(et||!at||ft),length:ot}};StateInline.prototype.Token=Token;function isTerminatorChar(_e){switch(_e){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}function text$2(_e,et){let tt=_e.pos;for(;tt<_e.posMax&&!isTerminatorChar(_e.src.charCodeAt(tt));)tt++;return tt===_e.pos?!1:(et||(_e.pending+=_e.src.slice(_e.pos,tt)),_e.pos=tt,!0)}const SCHEME_RE=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;function linkify(_e,et){if(!_e.md.options.linkify||_e.linkLevel>0)return!1;const tt=_e.pos,nt=_e.posMax;if(tt+3>nt||_e.src.charCodeAt(tt)!==58||_e.src.charCodeAt(tt+1)!==47||_e.src.charCodeAt(tt+2)!==47)return!1;const rt=_e.pending.match(SCHEME_RE);if(!rt)return!1;const it=rt[1],ot=_e.md.linkify.matchAtStart(_e.src.slice(tt-it.length));if(!ot)return!1;let st=ot.url;if(st.length<=it.length)return!1;st=st.replace(/\*+$/,"");const ut=_e.md.normalizeLink(st);if(!_e.md.validateLink(ut))return!1;if(!et){_e.pending=_e.pending.slice(0,-it.length);const ft=_e.push("link_open","a",1);ft.attrs=[["href",ut]],ft.markup="linkify",ft.info="auto";const dt=_e.push("text","",0);dt.content=_e.md.normalizeLinkText(st);const lt=_e.push("link_close","a",-1);lt.markup="linkify",lt.info="auto"}return _e.pos+=st.length-it.length,!0}function newline$1(_e,et){let tt=_e.pos;if(_e.src.charCodeAt(tt)!==10)return!1;const nt=_e.pending.length-1,rt=_e.posMax;if(!et)if(nt>=0&&_e.pending.charCodeAt(nt)===32)if(nt>=1&&_e.pending.charCodeAt(nt-1)===32){let it=nt-1;for(;it>=1&&_e.pending.charCodeAt(it-1)===32;)it--;_e.pending=_e.pending.slice(0,it),_e.push("hardbreak","br",0)}else _e.pending=_e.pending.slice(0,-1),_e.push("softbreak","br",0);else _e.push("softbreak","br",0);for(tt++;tt<rt&&isSpace(_e.src.charCodeAt(tt));)tt++;return _e.pos=tt,!0}const ESCAPED=[];for(let _e=0;_e<256;_e++)ESCAPED.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(_e){ESCAPED[_e.charCodeAt(0)]=1});function escape$3(_e,et){let tt=_e.pos;const nt=_e.posMax;if(_e.src.charCodeAt(tt)!==92||(tt++,tt>=nt))return!1;let rt=_e.src.charCodeAt(tt);if(rt===10){for(et||_e.push("hardbreak","br",0),tt++;tt<nt&&(rt=_e.src.charCodeAt(tt),!!isSpace(rt));)tt++;return _e.pos=tt,!0}let it=_e.src[tt];if(rt>=55296&&rt<=56319&&tt+1<nt){const st=_e.src.charCodeAt(tt+1);st>=56320&&st<=57343&&(it+=_e.src[tt+1],tt++)}const ot="\\"+it;if(!et){const st=_e.push("text_special","",0);rt<256&&ESCAPED[rt]!==0?st.content=it:st.content=ot,st.markup=ot,st.info="escape"}return _e.pos=tt+1,!0}function backtick(_e,et){let tt=_e.pos;if(_e.src.charCodeAt(tt)!==96)return!1;const rt=tt;tt++;const it=_e.posMax;for(;tt<it&&_e.src.charCodeAt(tt)===96;)tt++;const ot=_e.src.slice(rt,tt),st=ot.length;if(_e.backticksScanned&&(_e.backticks[st]||0)<=rt)return et||(_e.pending+=ot),_e.pos+=st,!0;let ut=tt,ft;for(;(ft=_e.src.indexOf("`",ut))!==-1;){for(ut=ft+1;ut<it&&_e.src.charCodeAt(ut)===96;)ut++;const dt=ut-ft;if(dt===st){if(!et){const lt=_e.push("code_inline","code",0);lt.markup=ot,lt.content=_e.src.slice(tt,ft).replace(/\n/g," ").replace(/^ (.+) $/,"$1")}return _e.pos=ut,!0}_e.backticks[dt]=ft}return _e.backticksScanned=!0,et||(_e.pending+=ot),_e.pos+=st,!0}function strikethrough_tokenize(_e,et){const tt=_e.pos,nt=_e.src.charCodeAt(tt);if(et||nt!==126)return!1;const rt=_e.scanDelims(_e.pos,!0);let it=rt.length;const ot=String.fromCharCode(nt);if(it<2)return!1;let st;it%2&&(st=_e.push("text","",0),st.content=ot,it--);for(let ut=0;ut<it;ut+=2)st=_e.push("text","",0),st.content=ot+ot,_e.delimiters.push({marker:nt,length:0,token:_e.tokens.length-1,end:-1,open:rt.can_open,close:rt.can_close});return _e.pos+=rt.length,!0}function postProcess$1(_e,et){let tt;const nt=[],rt=et.length;for(let it=0;it<rt;it++){const ot=et[it];if(ot.marker!==126||ot.end===-1)continue;const st=et[ot.end];tt=_e.tokens[ot.token],tt.type="s_open",tt.tag="s",tt.nesting=1,tt.markup="~~",tt.content="",tt=_e.tokens[st.token],tt.type="s_close",tt.tag="s",tt.nesting=-1,tt.markup="~~",tt.content="",_e.tokens[st.token-1].type==="text"&&_e.tokens[st.token-1].content==="~"&&nt.push(st.token-1)}for(;nt.length;){const it=nt.pop();let ot=it+1;for(;ot<_e.tokens.length&&_e.tokens[ot].type==="s_close";)ot++;ot--,it!==ot&&(tt=_e.tokens[ot],_e.tokens[ot]=_e.tokens[it],_e.tokens[it]=tt)}}function strikethrough_postProcess(_e){const et=_e.tokens_meta,tt=_e.tokens_meta.length;postProcess$1(_e,_e.delimiters);for(let nt=0;nt<tt;nt++)et[nt]&&et[nt].delimiters&&postProcess$1(_e,et[nt].delimiters)}const r_strikethrough={tokenize:strikethrough_tokenize,postProcess:strikethrough_postProcess};function emphasis_tokenize(_e,et){const tt=_e.pos,nt=_e.src.charCodeAt(tt);if(et||nt!==95&&nt!==42)return!1;const rt=_e.scanDelims(_e.pos,nt===42);for(let it=0;it<rt.length;it++){const ot=_e.push("text","",0);ot.content=String.fromCharCode(nt),_e.delimiters.push({marker:nt,length:rt.length,token:_e.tokens.length-1,end:-1,open:rt.can_open,close:rt.can_close})}return _e.pos+=rt.length,!0}function postProcess(_e,et){const tt=et.length;for(let nt=tt-1;nt>=0;nt--){const rt=et[nt];if(rt.marker!==95&&rt.marker!==42||rt.end===-1)continue;const it=et[rt.end],ot=nt>0&&et[nt-1].end===rt.end+1&&et[nt-1].marker===rt.marker&&et[nt-1].token===rt.token-1&&et[rt.end+1].token===it.token+1,st=String.fromCharCode(rt.marker),ut=_e.tokens[rt.token];ut.type=ot?"strong_open":"em_open",ut.tag=ot?"strong":"em",ut.nesting=1,ut.markup=ot?st+st:st,ut.content="";const ft=_e.tokens[it.token];ft.type=ot?"strong_close":"em_close",ft.tag=ot?"strong":"em",ft.nesting=-1,ft.markup=ot?st+st:st,ft.content="",ot&&(_e.tokens[et[nt-1].token].content="",_e.tokens[et[rt.end+1].token].content="",nt--)}}function emphasis_post_process(_e){const et=_e.tokens_meta,tt=_e.tokens_meta.length;postProcess(_e,_e.delimiters);for(let nt=0;nt<tt;nt++)et[nt]&&et[nt].delimiters&&postProcess(_e,et[nt].delimiters)}const r_emphasis={tokenize:emphasis_tokenize,postProcess:emphasis_post_process};function link$1(_e,et){let tt,nt,rt,it,ot="",st="",ut=_e.pos,ft=!0;if(_e.src.charCodeAt(_e.pos)!==91)return!1;const dt=_e.pos,lt=_e.posMax,at=_e.pos+1,ct=_e.md.helpers.parseLinkLabel(_e,_e.pos,!0);if(ct<0)return!1;let ht=ct+1;if(ht<lt&&_e.src.charCodeAt(ht)===40){for(ft=!1,ht++;ht<lt&&(tt=_e.src.charCodeAt(ht),!(!isSpace(tt)&&tt!==10));ht++);if(ht>=lt)return!1;if(ut=ht,rt=_e.md.helpers.parseLinkDestination(_e.src,ht,_e.posMax),rt.ok){for(ot=_e.md.normalizeLink(rt.str),_e.md.validateLink(ot)?ht=rt.pos:ot="",ut=ht;ht<lt&&(tt=_e.src.charCodeAt(ht),!(!isSpace(tt)&&tt!==10));ht++);if(rt=_e.md.helpers.parseLinkTitle(_e.src,ht,_e.posMax),ht<lt&&ut!==ht&&rt.ok)for(st=rt.str,ht=rt.pos;ht<lt&&(tt=_e.src.charCodeAt(ht),!(!isSpace(tt)&&tt!==10));ht++);}(ht>=lt||_e.src.charCodeAt(ht)!==41)&&(ft=!0),ht++}if(ft){if(typeof _e.env.references>"u")return!1;if(ht<lt&&_e.src.charCodeAt(ht)===91?(ut=ht+1,ht=_e.md.helpers.parseLinkLabel(_e,ht),ht>=0?nt=_e.src.slice(ut,ht++):ht=ct+1):ht=ct+1,nt||(nt=_e.src.slice(at,ct)),it=_e.env.references[normalizeReference(nt)],!it)return _e.pos=dt,!1;ot=it.href,st=it.title}if(!et){_e.pos=at,_e.posMax=ct;const pt=_e.push("link_open","a",1),mt=[["href",ot]];pt.attrs=mt,st&&mt.push(["title",st]),_e.linkLevel++,_e.md.inline.tokenize(_e),_e.linkLevel--,_e.push("link_close","a",-1)}return _e.pos=ht,_e.posMax=lt,!0}function image(_e,et){let tt,nt,rt,it,ot,st,ut,ft,dt="";const lt=_e.pos,at=_e.posMax;if(_e.src.charCodeAt(_e.pos)!==33||_e.src.charCodeAt(_e.pos+1)!==91)return!1;const ct=_e.pos+2,ht=_e.md.helpers.parseLinkLabel(_e,_e.pos+1,!1);if(ht<0)return!1;if(it=ht+1,it<at&&_e.src.charCodeAt(it)===40){for(it++;it<at&&(tt=_e.src.charCodeAt(it),!(!isSpace(tt)&&tt!==10));it++);if(it>=at)return!1;for(ft=it,st=_e.md.helpers.parseLinkDestination(_e.src,it,_e.posMax),st.ok&&(dt=_e.md.normalizeLink(st.str),_e.md.validateLink(dt)?it=st.pos:dt=""),ft=it;it<at&&(tt=_e.src.charCodeAt(it),!(!isSpace(tt)&&tt!==10));it++);if(st=_e.md.helpers.parseLinkTitle(_e.src,it,_e.posMax),it<at&&ft!==it&&st.ok)for(ut=st.str,it=st.pos;it<at&&(tt=_e.src.charCodeAt(it),!(!isSpace(tt)&&tt!==10));it++);else ut="";if(it>=at||_e.src.charCodeAt(it)!==41)return _e.pos=lt,!1;it++}else{if(typeof _e.env.references>"u")return!1;if(it<at&&_e.src.charCodeAt(it)===91?(ft=it+1,it=_e.md.helpers.parseLinkLabel(_e,it),it>=0?rt=_e.src.slice(ft,it++):it=ht+1):it=ht+1,rt||(rt=_e.src.slice(ct,ht)),ot=_e.env.references[normalizeReference(rt)],!ot)return _e.pos=lt,!1;dt=ot.href,ut=ot.title}if(!et){nt=_e.src.slice(ct,ht);const pt=[];_e.md.inline.parse(nt,_e.md,_e.env,pt);const mt=_e.push("image","img",0),gt=[["src",dt],["alt",""]];mt.attrs=gt,mt.children=pt,mt.content=nt,ut&&gt.push(["title",ut])}return _e.pos=it,_e.posMax=at,!0}const EMAIL_RE=/^([a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,AUTOLINK_RE=/^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^<>\x00-\x20]*)$/;function autolink$1(_e,et){let tt=_e.pos;if(_e.src.charCodeAt(tt)!==60)return!1;const nt=_e.pos,rt=_e.posMax;for(;;){if(++tt>=rt)return!1;const ot=_e.src.charCodeAt(tt);if(ot===60)return!1;if(ot===62)break}const it=_e.src.slice(nt+1,tt);if(AUTOLINK_RE.test(it)){const ot=_e.md.normalizeLink(it);if(!_e.md.validateLink(ot))return!1;if(!et){const st=_e.push("link_open","a",1);st.attrs=[["href",ot]],st.markup="autolink",st.info="auto";const ut=_e.push("text","",0);ut.content=_e.md.normalizeLinkText(it);const ft=_e.push("link_close","a",-1);ft.markup="autolink",ft.info="auto"}return _e.pos+=it.length+2,!0}if(EMAIL_RE.test(it)){const ot=_e.md.normalizeLink("mailto:"+it);if(!_e.md.validateLink(ot))return!1;if(!et){const st=_e.push("link_open","a",1);st.attrs=[["href",ot]],st.markup="autolink",st.info="auto";const ut=_e.push("text","",0);ut.content=_e.md.normalizeLinkText(it);const ft=_e.push("link_close","a",-1);ft.markup="autolink",ft.info="auto"}return _e.pos+=it.length+2,!0}return!1}function isLinkOpen(_e){return/^<a[>\s]/i.test(_e)}function isLinkClose(_e){return/^<\/a\s*>/i.test(_e)}function isLetter(_e){const et=_e|32;return et>=97&&et<=122}function html_inline(_e,et){if(!_e.md.options.html)return!1;const tt=_e.posMax,nt=_e.pos;if(_e.src.charCodeAt(nt)!==60||nt+2>=tt)return!1;const rt=_e.src.charCodeAt(nt+1);if(rt!==33&&rt!==63&&rt!==47&&!isLetter(rt))return!1;const it=_e.src.slice(nt).match(HTML_TAG_RE);if(!it)return!1;if(!et){const ot=_e.push("html_inline","",0);ot.content=it[0],isLinkOpen(ot.content)&&_e.linkLevel++,isLinkClose(ot.content)&&_e.linkLevel--}return _e.pos+=it[0].length,!0}const DIGITAL_RE=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,NAMED_RE=/^&([a-z][a-z0-9]{1,31});/i;function entity(_e,et){const tt=_e.pos,nt=_e.posMax;if(_e.src.charCodeAt(tt)!==38||tt+1>=nt)return!1;if(_e.src.charCodeAt(tt+1)===35){const it=_e.src.slice(tt).match(DIGITAL_RE);if(it){if(!et){const ot=it[1][0].toLowerCase()==="x"?parseInt(it[1].slice(1),16):parseInt(it[1],10),st=_e.push("text_special","",0);st.content=isValidEntityCode(ot)?fromCodePoint(ot):fromCodePoint(65533),st.markup=it[0],st.info="entity"}return _e.pos+=it[0].length,!0}}else{const it=_e.src.slice(tt).match(NAMED_RE);if(it){const ot=decodeHTML(it[0]);if(ot!==it[0]){if(!et){const st=_e.push("text_special","",0);st.content=ot,st.markup=it[0],st.info="entity"}return _e.pos+=it[0].length,!0}}}return!1}function processDelimiters(_e){const et={},tt=_e.length;if(!tt)return;let nt=0,rt=-2;const it=[];for(let ot=0;ot<tt;ot++){const st=_e[ot];if(it.push(0),(_e[nt].marker!==st.marker||rt!==st.token-1)&&(nt=ot),rt=st.token,st.length=st.length||0,!st.close)continue;et.hasOwnProperty(st.marker)||(et[st.marker]=[-1,-1,-1,-1,-1,-1]);const ut=et[st.marker][(st.open?3:0)+st.length%3];let ft=nt-it[nt]-1,dt=ft;for(;ft>ut;ft-=it[ft]+1){const lt=_e[ft];if(lt.marker===st.marker&&lt.open&&lt.end<0){let at=!1;if((lt.close||st.open)&&(lt.length+st.length)%3===0&&(lt.length%3!==0||st.length%3!==0)&&(at=!0),!at){const ct=ft>0&&!_e[ft-1].open?it[ft-1]+1:0;it[ot]=ot-ft+ct,it[ft]=ct,st.open=!1,lt.end=ot,lt.close=!1,dt=-1,rt=-2;break}}}dt!==-1&&(et[st.marker][(st.open?3:0)+(st.length||0)%3]=dt)}}function link_pairs(_e){const et=_e.tokens_meta,tt=_e.tokens_meta.length;processDelimiters(_e.delimiters);for(let nt=0;nt<tt;nt++)et[nt]&&et[nt].delimiters&&processDelimiters(et[nt].delimiters)}function fragments_join(_e){let et,tt,nt=0;const rt=_e.tokens,it=_e.tokens.length;for(et=tt=0;et<it;et++)rt[et].nesting<0&&nt--,rt[et].level=nt,rt[et].nesting>0&&nt++,rt[et].type==="text"&&et+1<it&&rt[et+1].type==="text"?rt[et+1].content=rt[et].content+rt[et+1].content:(et!==tt&&(rt[tt]=rt[et]),tt++);et!==tt&&(rt.length=tt)}const _rules=[["text",text$2],["linkify",linkify],["newline",newline$1],["escape",escape$3],["backticks",backtick],["strikethrough",r_strikethrough.tokenize],["emphasis",r_emphasis.tokenize],["link",link$1],["image",image],["autolink",autolink$1],["html_inline",html_inline],["entity",entity]],_rules2=[["balance_pairs",link_pairs],["strikethrough",r_strikethrough.postProcess],["emphasis",r_emphasis.postProcess],["fragments_join",fragments_join]];function ParserInline(){this.ruler=new Ruler;for(let _e=0;_e<_rules.length;_e++)this.ruler.push(_rules[_e][0],_rules[_e][1]);this.ruler2=new Ruler;for(let _e=0;_e<_rules2.length;_e++)this.ruler2.push(_rules2[_e][0],_rules2[_e][1])}ParserInline.prototype.skipToken=function(_e){const et=_e.pos,tt=this.ruler.getRules(""),nt=tt.length,rt=_e.md.options.maxNesting,it=_e.cache;if(typeof it[et]<"u"){_e.pos=it[et];return}let ot=!1;if(_e.level<rt){for(let st=0;st<nt;st++)if(_e.level++,ot=tt[st](_e,!0),_e.level--,ot){if(et>=_e.pos)throw new Error("inline rule didn't increment state.pos");break}}else _e.pos=_e.posMax;ot||_e.pos++,it[et]=_e.pos};ParserInline.prototype.tokenize=function(_e){const et=this.ruler.getRules(""),tt=et.length,nt=_e.posMax,rt=_e.md.options.maxNesting;for(;_e.pos<nt;){const it=_e.pos;let ot=!1;if(_e.level<rt){for(let st=0;st<tt;st++)if(ot=et[st](_e,!1),ot){if(it>=_e.pos)throw new Error("inline rule didn't increment state.pos");break}}if(ot){if(_e.pos>=nt)break;continue}_e.pending+=_e.src[_e.pos++]}_e.pending&&_e.pushPending()};ParserInline.prototype.parse=function(_e,et,tt,nt){const rt=new this.State(_e,et,tt,nt);this.tokenize(rt);const it=this.ruler2.getRules(""),ot=it.length;for(let st=0;st<ot;st++)it[st](rt)};ParserInline.prototype.State=StateInline;function reFactory(_e){const et={};_e=_e||{},et.src_Any=Any.source,et.src_Cc=Cc.source,et.src_Z=Z.source,et.src_P=P$1.source,et.src_ZPCc=[et.src_Z,et.src_P,et.src_Cc].join("|"),et.src_ZCc=[et.src_Z,et.src_Cc].join("|");const tt="[><]";return et.src_pseudo_letter="(?:(?!"+tt+"|"+et.src_ZPCc+")"+et.src_Any+")",et.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",et.src_auth="(?:(?:(?!"+et.src_ZCc+"|[@/\\[\\]()]).)+@)?",et.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",et.src_host_terminator="(?=$|"+tt+"|"+et.src_ZPCc+")(?!"+(_e["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+et.src_ZPCc+"))",et.src_path="(?:[/?#](?:(?!"+et.src_ZCc+"|"+tt+`|[()[\\]{}.,"'?!\\-;]).|\\[(?:(?!`+et.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+et.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+et.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+et.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+et.src_ZCc+"|[']).)+\\'|\\'(?="+et.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+et.src_ZCc+"|[.]|$)|"+(_e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+et.src_ZCc+"|$)|;(?!"+et.src_ZCc+"|$)|\\!+(?!"+et.src_ZCc+"|[!]|$)|\\?(?!"+et.src_ZCc+"|[?]|$))+|\\/)?",et.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',et.src_xn="xn--[a-z0-9\\-]{1,59}",et.src_domain_root="(?:"+et.src_xn+"|"+et.src_pseudo_letter+"{1,63})",et.src_domain="(?:"+et.src_xn+"|(?:"+et.src_pseudo_letter+")|(?:"+et.src_pseudo_letter+"(?:-|"+et.src_pseudo_letter+"){0,61}"+et.src_pseudo_letter+"))",et.src_host="(?:(?:(?:(?:"+et.src_domain+")\\.)*"+et.src_domain+"))",et.tpl_host_fuzzy="(?:"+et.src_ip4+"|(?:(?:(?:"+et.src_domain+")\\.)+(?:%TLDS%)))",et.tpl_host_no_ip_fuzzy="(?:(?:(?:"+et.src_domain+")\\.)+(?:%TLDS%))",et.src_host_strict=et.src_host+et.src_host_terminator,et.tpl_host_fuzzy_strict=et.tpl_host_fuzzy+et.src_host_terminator,et.src_host_port_strict=et.src_host+et.src_port+et.src_host_terminator,et.tpl_host_port_fuzzy_strict=et.tpl_host_fuzzy+et.src_port+et.src_host_terminator,et.tpl_host_port_no_ip_fuzzy_strict=et.tpl_host_no_ip_fuzzy+et.src_port+et.src_host_terminator,et.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+et.src_ZPCc+"|>|$))",et.tpl_email_fuzzy="(^|"+tt+'|"|\\(|'+et.src_ZCc+")("+et.src_email_name+"@"+et.tpl_host_fuzzy_strict+")",et.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+et.src_ZPCc+"))((?![$+<=>^`|])"+et.tpl_host_port_fuzzy_strict+et.src_path+")",et.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+et.src_ZPCc+"))((?![$+<=>^`|])"+et.tpl_host_port_no_ip_fuzzy_strict+et.src_path+")",et}function assign(_e){return Array.prototype.slice.call(arguments,1).forEach(function(tt){tt&&Object.keys(tt).forEach(function(nt){_e[nt]=tt[nt]})}),_e}function _class$1(_e){return Object.prototype.toString.call(_e)}function isString(_e){return _class$1(_e)==="[object String]"}function isObject$3(_e){return _class$1(_e)==="[object Object]"}function isRegExp(_e){return _class$1(_e)==="[object RegExp]"}function isFunction$2(_e){return _class$1(_e)==="[object Function]"}function escapeRE(_e){return _e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}const defaultOptions$1={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function isOptionsObj(_e){return Object.keys(_e||{}).reduce(function(et,tt){return et||defaultOptions$1.hasOwnProperty(tt)},!1)}const defaultSchemas={"http:":{validate:function(_e,et,tt){const nt=_e.slice(et);return tt.re.http||(tt.re.http=new RegExp("^\\/\\/"+tt.re.src_auth+tt.re.src_host_port_strict+tt.re.src_path,"i")),tt.re.http.test(nt)?nt.match(tt.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(_e,et,tt){const nt=_e.slice(et);return tt.re.no_http||(tt.re.no_http=new RegExp("^"+tt.re.src_auth+"(?:localhost|(?:(?:"+tt.re.src_domain+")\\.)+"+tt.re.src_domain_root+")"+tt.re.src_port+tt.re.src_host_terminator+tt.re.src_path,"i")),tt.re.no_http.test(nt)?et>=3&&_e[et-3]===":"||et>=3&&_e[et-3]==="/"?0:nt.match(tt.re.no_http)[0].length:0}},"mailto:":{validate:function(_e,et,tt){const nt=_e.slice(et);return tt.re.mailto||(tt.re.mailto=new RegExp("^"+tt.re.src_email_name+"@"+tt.re.src_host_strict,"i")),tt.re.mailto.test(nt)?nt.match(tt.re.mailto)[0].length:0}}},tlds_2ch_src_re="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",tlds_default="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|".split("|");function resetScanCache(_e){_e.__index__=-1,_e.__text_cache__=""}function createValidator(_e){return function(et,tt){const nt=et.slice(tt);return _e.test(nt)?nt.match(_e)[0].length:0}}function createNormalizer(){return function(_e,et){et.normalize(_e)}}function compile$1(_e){const et=_e.re=reFactory(_e.__opts__),tt=_e.__tlds__.slice();_e.onCompile(),_e.__tlds_replaced__||tt.push(tlds_2ch_src_re),tt.push(et.src_xn),et.src_tlds=tt.join("|");function nt(st){return st.replace("%TLDS%",et.src_tlds)}et.email_fuzzy=RegExp(nt(et.tpl_email_fuzzy),"i"),et.link_fuzzy=RegExp(nt(et.tpl_link_fuzzy),"i"),et.link_no_ip_fuzzy=RegExp(nt(et.tpl_link_no_ip_fuzzy),"i"),et.host_fuzzy_test=RegExp(nt(et.tpl_host_fuzzy_test),"i");const rt=[];_e.__compiled__={};function it(st,ut){throw new Error('(LinkifyIt) Invalid schema "'+st+'": '+ut)}Object.keys(_e.__schemas__).forEach(function(st){const ut=_e.__schemas__[st];if(ut===null)return;const ft={validate:null,link:null};if(_e.__compiled__[st]=ft,isObject$3(ut)){isRegExp(ut.validate)?ft.validate=createValidator(ut.validate):isFunction$2(ut.validate)?ft.validate=ut.validate:it(st,ut),isFunction$2(ut.normalize)?ft.normalize=ut.normalize:ut.normalize?it(st,ut):ft.normalize=createNormalizer();return}if(isString(ut)){rt.push(st);return}it(st,ut)}),rt.forEach(function(st){_e.__compiled__[_e.__schemas__[st]]&&(_e.__compiled__[st].validate=_e.__compiled__[_e.__schemas__[st]].validate,_e.__compiled__[st].normalize=_e.__compiled__[_e.__schemas__[st]].normalize)}),_e.__compiled__[""]={validate:null,normalize:createNormalizer()};const ot=Object.keys(_e.__compiled__).filter(function(st){return st.length>0&&_e.__compiled__[st]}).map(escapeRE).join("|");_e.re.schema_test=RegExp("(^|(?!_)(?:[><]|"+et.src_ZPCc+"))("+ot+")","i"),_e.re.schema_search=RegExp("(^|(?!_)(?:[><]|"+et.src_ZPCc+"))("+ot+")","ig"),_e.re.schema_at_start=RegExp("^"+_e.re.schema_search.source,"i"),_e.re.pretest=RegExp("("+_e.re.schema_test.source+")|("+_e.re.host_fuzzy_test.source+")|@","i"),resetScanCache(_e)}function Match(_e,et){const tt=_e.__index__,nt=_e.__last_index__,rt=_e.__text_cache__.slice(tt,nt);this.schema=_e.__schema__.toLowerCase(),this.index=tt+et,this.lastIndex=nt+et,this.raw=rt,this.text=rt,this.url=rt}function createMatch(_e,et){const tt=new Match(_e,et);return _e.__compiled__[tt.schema].normalize(tt,_e),tt}function LinkifyIt(_e,et){if(!(this instanceof LinkifyIt))return new LinkifyIt(_e,et);et||isOptionsObj(_e)&&(et=_e,_e={}),this.__opts__=assign({},defaultOptions$1,et),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=assign({},defaultSchemas,_e),this.__compiled__={},this.__tlds__=tlds_default,this.__tlds_replaced__=!1,this.re={},compile$1(this)}LinkifyIt.prototype.add=function _e(et,tt){return this.__schemas__[et]=tt,compile$1(this),this};LinkifyIt.prototype.set=function _e(et){return this.__opts__=assign(this.__opts__,et),this};LinkifyIt.prototype.test=function _e(et){if(this.__text_cache__=et,this.__index__=-1,!et.length)return!1;let tt,nt,rt,it,ot,st,ut,ft,dt;if(this.re.schema_test.test(et)){for(ut=this.re.schema_search,ut.lastIndex=0;(tt=ut.exec(et))!==null;)if(it=this.testSchemaAt(et,tt[2],ut.lastIndex),it){this.__schema__=tt[2],this.__index__=tt.index+tt[1].length,this.__last_index__=tt.index+tt[0].length+it;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(ft=et.search(this.re.host_fuzzy_test),ft>=0&&(this.__index__<0||ft<this.__index__)&&(nt=et.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(ot=nt.index+nt[1].length,(this.__index__<0||ot<this.__index__)&&(this.__schema__="",this.__index__=ot,this.__last_index__=nt.index+nt[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(dt=et.indexOf("@"),dt>=0&&(rt=et.match(this.re.email_fuzzy))!==null&&(ot=rt.index+rt[1].length,st=rt.index+rt[0].length,(this.__index__<0||ot<this.__index__||ot===this.__index__&&st>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=ot,this.__last_index__=st))),this.__index__>=0};LinkifyIt.prototype.pretest=function _e(et){return this.re.pretest.test(et)};LinkifyIt.prototype.testSchemaAt=function _e(et,tt,nt){return this.__compiled__[tt.toLowerCase()]?this.__compiled__[tt.toLowerCase()].validate(et,nt,this):0};LinkifyIt.prototype.match=function _e(et){const tt=[];let nt=0;this.__index__>=0&&this.__text_cache__===et&&(tt.push(createMatch(this,nt)),nt=this.__last_index__);let rt=nt?et.slice(nt):et;for(;this.test(rt);)tt.push(createMatch(this,nt)),rt=rt.slice(this.__last_index__),nt+=this.__last_index__;return tt.length?tt:null};LinkifyIt.prototype.matchAtStart=function _e(et){if(this.__text_cache__=et,this.__index__=-1,!et.length)return null;const tt=this.re.schema_at_start.exec(et);if(!tt)return null;const nt=this.testSchemaAt(et,tt[2],tt[0].length);return nt?(this.__schema__=tt[2],this.__index__=tt.index+tt[1].length,this.__last_index__=tt.index+tt[0].length+nt,createMatch(this,0)):null};LinkifyIt.prototype.tlds=function _e(et,tt){return et=Array.isArray(et)?et:[et],tt?(this.__tlds__=this.__tlds__.concat(et).sort().filter(function(nt,rt,it){return nt!==it[rt-1]}).reverse(),compile$1(this),this):(this.__tlds__=et.slice(),this.__tlds_replaced__=!0,compile$1(this),this)};LinkifyIt.prototype.normalize=function _e(et){et.schema||(et.url="http://"+et.url),et.schema==="mailto:"&&!/^mailto:/i.test(et.url)&&(et.url="mailto:"+et.url)};LinkifyIt.prototype.onCompile=function _e(){};const maxInt=2147483647,base=36,tMin=1,tMax=26,skew=38,damp=700,initialBias=72,initialN=128,delimiter$1="-",regexPunycode=/^xn--/,regexNonASCII=/[^\0-\x7F]/,regexSeparators=/[\x2E\u3002\uFF0E\uFF61]/g,errors={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},baseMinusTMin=base-tMin,floor$1=Math.floor,stringFromCharCode=String.fromCharCode;function error(_e){throw new RangeError(errors[_e])}function map$1(_e,et){const tt=[];let nt=_e.length;for(;nt--;)tt[nt]=et(_e[nt]);return tt}function mapDomain(_e,et){const tt=_e.split("@");let nt="";tt.length>1&&(nt=tt[0]+"@",_e=tt[1]),_e=_e.replace(regexSeparators,".");const rt=_e.split("."),it=map$1(rt,et).join(".");return nt+it}function ucs2decode(_e){const et=[];let tt=0;const nt=_e.length;for(;tt<nt;){const rt=_e.charCodeAt(tt++);if(rt>=55296&&rt<=56319&&tt<nt){const it=_e.charCodeAt(tt++);(it&64512)==56320?et.push(((rt&1023)<<10)+(it&1023)+65536):(et.push(rt),tt--)}else et.push(rt)}return et}const ucs2encode=_e=>String.fromCodePoint(..._e),basicToDigit=function(_e){return _e>=48&&_e<58?26+(_e-48):_e>=65&&_e<91?_e-65:_e>=97&&_e<123?_e-97:base},digitToBasic=function(_e,et){return _e+22+75*(_e<26)-((et!=0)<<5)},adapt=function(_e,et,tt){let nt=0;for(_e=tt?floor$1(_e/damp):_e>>1,_e+=floor$1(_e/et);_e>baseMinusTMin*tMax>>1;nt+=base)_e=floor$1(_e/baseMinusTMin);return floor$1(nt+(baseMinusTMin+1)*_e/(_e+skew))},decode=function(_e){const et=[],tt=_e.length;let nt=0,rt=initialN,it=initialBias,ot=_e.lastIndexOf(delimiter$1);ot<0&&(ot=0);for(let st=0;st<ot;++st)_e.charCodeAt(st)>=128&&error("not-basic"),et.push(_e.charCodeAt(st));for(let st=ot>0?ot+1:0;st<tt;){const ut=nt;for(let dt=1,lt=base;;lt+=base){st>=tt&&error("invalid-input");const at=basicToDigit(_e.charCodeAt(st++));at>=base&&error("invalid-input"),at>floor$1((maxInt-nt)/dt)&&error("overflow"),nt+=at*dt;const ct=lt<=it?tMin:lt>=it+tMax?tMax:lt-it;if(at<ct)break;const ht=base-ct;dt>floor$1(maxInt/ht)&&error("overflow"),dt*=ht}const ft=et.length+1;it=adapt(nt-ut,ft,ut==0),floor$1(nt/ft)>maxInt-rt&&error("overflow"),rt+=floor$1(nt/ft),nt%=ft,et.splice(nt++,0,rt)}return String.fromCodePoint(...et)},encode=function(_e){const et=[];_e=ucs2decode(_e);const tt=_e.length;let nt=initialN,rt=0,it=initialBias;for(const ut of _e)ut<128&&et.push(stringFromCharCode(ut));const ot=et.length;let st=ot;for(ot&&et.push(delimiter$1);st<tt;){let ut=maxInt;for(const dt of _e)dt>=nt&&dt<ut&&(ut=dt);const ft=st+1;ut-nt>floor$1((maxInt-rt)/ft)&&error("overflow"),rt+=(ut-nt)*ft,nt=ut;for(const dt of _e)if(dt<nt&&++rt>maxInt&&error("overflow"),dt===nt){let lt=rt;for(let at=base;;at+=base){const ct=at<=it?tMin:at>=it+tMax?tMax:at-it;if(lt<ct)break;const ht=lt-ct,pt=base-ct;et.push(stringFromCharCode(digitToBasic(ct+ht%pt,0))),lt=floor$1(ht/pt)}et.push(stringFromCharCode(digitToBasic(lt,0))),it=adapt(rt,ft,st===ot),rt=0,++st}++rt,++nt}return et.join("")},toUnicode=function(_e){return mapDomain(_e,function(et){return regexPunycode.test(et)?decode(et.slice(4).toLowerCase()):et})},toASCII=function(_e){return mapDomain(_e,function(et){return regexNonASCII.test(et)?"xn--"+encode(et):et})},punycode={version:"2.3.1",ucs2:{decode:ucs2decode,encode:ucs2encode},decode,encode,toASCII,toUnicode},cfg_default={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}},cfg_zero={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}},cfg_commonmark={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}},config$1={default:cfg_default,zero:cfg_zero,commonmark:cfg_commonmark},BAD_PROTO_RE=/^(vbscript|javascript|file|data):/,GOOD_DATA_RE=/^data:image\/(gif|png|jpeg|webp);/;function validateLink(_e){const et=_e.trim().toLowerCase();return BAD_PROTO_RE.test(et)?GOOD_DATA_RE.test(et):!0}const RECODE_HOSTNAME_FOR=["http:","https:","mailto:"];function normalizeLink(_e){const et=urlParse(_e,!0);if(et.hostname&&(!et.protocol||RECODE_HOSTNAME_FOR.indexOf(et.protocol)>=0))try{et.hostname=punycode.toASCII(et.hostname)}catch{}return encode$1(format$2(et))}function normalizeLinkText(_e){const et=urlParse(_e,!0);if(et.hostname&&(!et.protocol||RECODE_HOSTNAME_FOR.indexOf(et.protocol)>=0))try{et.hostname=punycode.toUnicode(et.hostname)}catch{}return decode$1(format$2(et),decode$1.defaultChars+"%")}function MarkdownIt(_e,et){if(!(this instanceof MarkdownIt))return new MarkdownIt(_e,et);et||isString$1(_e)||(et=_e||{},_e="default"),this.inline=new ParserInline,this.block=new ParserBlock,this.core=new Core,this.renderer=new Renderer$2,this.linkify=new LinkifyIt,this.validateLink=validateLink,this.normalizeLink=normalizeLink,this.normalizeLinkText=normalizeLinkText,this.utils=utils$1,this.helpers=assign$1({},helpers),this.options={},this.configure(_e),et&&this.set(et)}MarkdownIt.prototype.set=function(_e){return assign$1(this.options,_e),this};MarkdownIt.prototype.configure=function(_e){const et=this;if(isString$1(_e)){const tt=_e;if(_e=config$1[tt],!_e)throw new Error('Wrong `markdown-it` preset "'+tt+'", check name')}if(!_e)throw new Error("Wrong `markdown-it` preset, can't be empty");return _e.options&&et.set(_e.options),_e.components&&Object.keys(_e.components).forEach(function(tt){_e.components[tt].rules&&et[tt].ruler.enableOnly(_e.components[tt].rules),_e.components[tt].rules2&&et[tt].ruler2.enableOnly(_e.components[tt].rules2)}),this};MarkdownIt.prototype.enable=function(_e,et){let tt=[];Array.isArray(_e)||(_e=[_e]),["core","block","inline"].forEach(function(rt){tt=tt.concat(this[rt].ruler.enable(_e,!0))},this),tt=tt.concat(this.inline.ruler2.enable(_e,!0));const nt=_e.filter(function(rt){return tt.indexOf(rt)<0});if(nt.length&&!et)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+nt);return this};MarkdownIt.prototype.disable=function(_e,et){let tt=[];Array.isArray(_e)||(_e=[_e]),["core","block","inline"].forEach(function(rt){tt=tt.concat(this[rt].ruler.disable(_e,!0))},this),tt=tt.concat(this.inline.ruler2.disable(_e,!0));const nt=_e.filter(function(rt){return tt.indexOf(rt)<0});if(nt.length&&!et)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+nt);return this};MarkdownIt.prototype.use=function(_e){const et=[this].concat(Array.prototype.slice.call(arguments,1));return _e.apply(_e,et),this};MarkdownIt.prototype.parse=function(_e,et){if(typeof _e!="string")throw new Error("Input data should be a String");const tt=new this.core.State(_e,this,et);return this.core.process(tt),tt.tokens};MarkdownIt.prototype.render=function(_e,et){return et=et||{},this.renderer.render(this.parse(_e,et),this.options,et)};MarkdownIt.prototype.parseInline=function(_e,et){const tt=new this.core.State(_e,this,et);return tt.inlineMode=!0,this.core.process(tt),tt.tokens};MarkdownIt.prototype.renderInline=function(_e,et){return et=et||{},this.renderer.render(this.parseInline(_e,et),this.options,et)};function useFileSplitter(){const _e=new MarkdownIt;function et(at){at=at.trim();try{return JSON.parse(at),"json"}catch{}try{if(new DOMParser().parseFromString(at,"text/xml").getElementsByTagName("parsererror").length===0)return"xml"}catch{}return/<\/?[a-z][\s\S]*>/i.test(at)?"html":[/^#{1,6}\s+.+/m,/^\*{1,3}.+\*{1,3}$/m,/^\[.+\]\(.+\)$/m,/^!\[.*\]\(.*\)$/m,/^>\s+.+$/m,/^(`{3,}|~{3,})[\s\S]*?\1$/m,/^(\*|\-|\+)\s.+$/m,/^\d+\.\s+.+$/m].some(pt=>pt.test(at))?"markdown":"paragraphs"}function tt(at,ct=8100){new Date().getTime(),console.log("gen frag",at);let ht=at&&at.data?at.data:"",pt=at&&at.max_chunk_size?at.max_chunk_size:ct,mt=at&&at.sentence_overlap?at.sentence_overlap:0,gt=at&&at.css_selector?at.css_selector:"",yt=at&&at.json_selector?at.json_selector:"",bt=at&&at.chunking_strategy?at.chunking_strategy:et(at.data)?et(at.data):"paragraphs";if(console.log("gen frag",bt,pt,mt,gt,yt),bt==="sentences")return ot(ht,pt,mt);if(bt==="paragraphs")return it(ht,pt);if(bt==="lines")return rt(ht,pt);if(bt==="xml")return st(ht,pt,gt);if(bt==="html")return st(ht,pt,gt);if(bt==="json")return dt(ht);if(bt==="markdown")return dt(ht);if(bt==="abc")return ut(ht,pt);if(bt==="wikimedia")return void 0}function nt(at){if(!at)return 0;const ht=at.trim().split(/\s+/).length,pt=at.replace(/\s+/g,"").length;return ht+pt}function rt(at,ct){let ht=at.split(`
`),pt=[];return ht.forEach(function(mt){if(nt(mt)>ct){let gt=ot(mt,ct);Array.isArray(gt)&&gt.forEach(function(yt){pt.push(yt)})}else pt.push(mt)}),pt}function it(at,ct){function ht(gt){return gt.split(/\s+/).length}const pt=at.split(`

`),mt=[];return pt.forEach(gt=>{if(ht(gt)<=ct)mt.push(gt);else{const bt=ot(gt,ct);Array.isArray(bt)&&bt.forEach(xt=>{mt.push(xt)})}}),mt}function ot(at,ct,ht=0){const pt=new RegExp("(?<!\\w\\.\\w.)(?<![A-Z][a-z]\\.)(?<=\\.|\\?|!)\\s","g");let mt=at.split(pt).map(xt=>xt.trim()).filter(xt=>xt.length>0);function gt(xt,vt){let wt=xt.split(/\s+/),_t=[],Ct=[];for(let Et of wt)Ct.push(Et),nt(Ct.join(" "))>=vt&&(_t.push(Ct.join(" ")),Ct=[]);return Ct.length>0&&_t.push(Ct.join(" ")),_t}function yt(xt,vt){if(xt.length<2)return xt;let wt=[];for(let _t=0;_t<xt.length;_t++){let Ct=_t>0?xt[_t-1].split(/\s+/).slice(-vt).join(" ")+" ":"",Et=_t<xt.length-1?" "+xt[_t+1].split(/\s+/).slice(0,vt).join(" "):"";wt.push((Ct+xt[_t]+Et).trim())}return wt}let bt=[];for(let xt of mt){let vt=nt(xt)>ct?gt(xt,ct):[xt];vt=yt(vt,ht),bt.push(...vt)}return bt}function st(at,ct,ht){const mt=new DOMParser().parseFromString(at,"text/html");if(ht){const gt=mt.querySelectorAll(ht);let yt=[];return gt.forEach(function(bt){bt&&it(bt.innerText||bt.textContent).forEach(function(xt){yt.push(xt)})}),yt}else{const gt=mt.body.innerText||mt.body.textContent;return it(gt,ct)}}function ut(at,ct){return at.split("X:").map(function(ht){return ht&&ht.trim().length>0?ht.length>ct?"X:"+ht.slice(0,ct):"X:"+ht:""})}function ft(at,ct,ht){}function dt(at,ct,ht){return lt(at)}function lt(at){const ct=_e.parse(at,{});function ht(gt){const yt=[];let bt={},xt={};return gt.forEach(vt=>{vt.type==="heading_open"?bt={type:"heading",level:parseInt(vt.tag.replace("h",""),10),content:""}:vt.type==="heading_close"?(xt[bt.level]=bt.content,yt.push(bt)):vt.type==="paragraph_open"?bt={type:"paragraph",content:""}:vt.type==="paragraph_close"?bt.content.split(`
`).filter(_t=>_t.trim()!=="").forEach(_t=>{let Ct=[];for(let Et=1;Et<=Object.keys(xt).length;Et++)xt[Et]&&Ct.push(xt[Et]);yt.push({type:"line",headings:Ct,content:_t})}):vt.type==="list_item_open"?bt={type:"listItem",content:""}:vt.type==="list_item_close"?yt.push(bt):vt.type==="bullet_list_open"||vt.type==="ordered_list_open"?bt={type:vt.type==="bullet_list_open"?"bulletList":"orderedList",items:[]}:vt.type==="bullet_list_close"||vt.type==="ordered_list_close"?yt.push(bt):vt.type==="inline"&&(bt.type==="listItem"?(bt.content=vt.content,yt.length>0&&(yt[yt.length-1].type==="bulletList"||yt[yt.length-1].type==="orderedList")&&yt[yt.length-1].items.push(bt)):bt.content+=vt.content)}),yt}const pt=ht(ct);let mt=[];return Array.isArray(pt)&&pt.forEach(function(gt){gt&&gt.type=="line"&&mt.push(gt.headings.join(" ")+" "+gt.content)}),mt}return{determineTextType:et,generateFragments:tt,splitAbc:ut,splitXml:st,splitMarkdown:dt,splitWikimedia:ft,splitSentences:ot,splitParagraphs:it}}function useFileManager({creditBalance:_e,config:et,storeName:tt,token:nt,logout:rt,allowMimeTypes:it,loadData:ot,onError:st,googleFolderName:ut,forceRefresh:ft}){tt||(tt="files");var[dt,lt]=reactExports.useState([]),at=localforage.createInstance({name:tt}),ct=useUtils(),[ht,pt]=reactExports.useState("");reactExports.useRef(),reactExports.useState(null),reactExports.useState([]);const[mt,gt]=reactExports.useState(!1);reactExports.useEffect(function(){Ct()},[]);const yt=useEmbeddings(),bt=useFileSplitter();function xt(){return et&&et.embedder&&et.embedder.max_length>0?parseInt(et.embedder.max_length):"8191"}function vt(Nt){let It=null;return et&&et.embeddings&&et.embeddings.max_length>0?It=bt.generateFragments(Nt,et.embeddings.max_length):It=bt.generateFragments(Nt),console.log(It),It}async function wt(Nt){if(!(et&&et.embeddings&&et.embeddings.openai_key))throw new Exception("Invalid embed configuration. Login and buy credit or provide your own keys for embeddings in settings.");return await yt.run(Nt,et.embeddings.openai_key)}async function _t(Nt,It,Bt=5,zt=.37){if(!(et&&et.llm&&et.llm.openai_key))throw new Error("Invalid embed configuration. Login and buy credit or provide your own keys for embeddings in settings.");let Gt=await yt.run([Nt],et.llm.openai_key),Kt=[];if(Gt&&Gt[0]&&Gt[0].embedding){let rn=Gt[0].embedding;Array.isArray(It)&&It.forEach(function(Vt,an){Vt&&Array.isArray(Vt.embeddings)&&Vt.embeddings.forEach(function(Qt,Zt){if(Vt.fragments&&Vt.fragments[Zt]){let xn=ct.cosineSimilarity(rn,Qt);xn>zt&&Kt.push({similarity:xn,file:Vt.id,fragment:Vt.fragments[Zt]})}})})}function fn(rn){let Vt=null;return It.forEach(function(an){an.id===rn&&(Vt=an)}),Vt}let dn=Kt.sort((rn,Vt)=>Vt.similarity-rn.similarity).slice(0,Bt),Wt={};return dn.forEach(function(rn){Wt.hasOwnProperty(rn.file)?Wt[rn.file].matches.push(rn):(Wt[rn.file]=fn(rn.file),Wt[rn.file].matches=[rn])}),Wt=Object.values(Wt).sort(function(rn,Vt){let an=0,Qt=0;rn&&Array.isArray(rn.matches)&&rn.matches.forEach(function(vn){an+=vn.similarity}),Vt&&Array.isArray(Vt.matches)&&Vt.matches.forEach(function(vn){Qt+=vn.similarity});let Zt=rn&&Array.isArray(rn.matches)&&rn.matches.length>0?an/rn.matches.length:0,xn=rn&&Array.isArray(Vt.matches)&&Vt.matches.length>0?Qt/Vt.matches.length:0;return Zt-xn}),Wt}async function Ct(){return Pt(null).then(function(Nt){lt(Nt)})}function Et(Nt,It,Bt){let zt=[];Array.isArray(Nt)&&Nt.forEach(function(Gt){zt.push(At(Gt))}),Promise.all(zt).then(function(Gt){let Kt=Array.isArray(Bt)?Bt:[];Gt.forEach(function(fn){Gt.push(fn),Kt.push(fn.id)}),lt(Gt),It&&It(ct.uniquifyArray(Kt)),Ct().then(function(){ft()})})}async function $t(Nt){return Nt&&Nt.id&&(Nt.deleted=!0,Nt.data=null,await at.setItem(Nt.id,Nt),lt(dt.filter(function(It){return!(It&It.id&Nt.id&&Nt.id==It.id)})),Ct().then(function(){ft()})),null}async function jt(Nt){var It=Nt.name?"Really delete the file "+Nt.name:"Really delete this file?";window.confirm(It)&&$t(Nt).then(function(){})}async function Dt(Nt){return new Promise(function(It,Bt){at.getItem(Nt).then(function(zt){It(zt)}).catch(function(zt){console.log("err",zt),It({error:zt})})})}function Pt(Nt=null,It=!0){return new Promise(function(Bt,zt){var Gt=[];at.iterate(function(Kt,fn,dn){var Wt=!Kt.deleted;Nt&&Nt.trim().length>0&&Kt.name.toLowerCase().indexOf(Nt.trim())===-1&&(Wt=!1),Wt&&Kt&&(It&&!ot&&delete Kt.data,Gt.push(Kt))}).catch(function(Kt){console.log(Kt),Bt([])}).finally(function(){Bt(Gt)})})}function kt(Nt){return new Promise(function(It,Bt){Nt&&Nt.id&&Nt.name?(Nt.updatedTimestamp=new Date,at.setItem(Nt.id,Nt).then(function(zt){lt(dt.map(function(Gt){return Gt&Gt.id&Nt.id&&Nt.id==Gt.id?Nt:Gt})),Ct().then(function(){ft()}),It()}).catch(function(zt){console.log("serr",zt),It({error:zt})})):It({error:"Missing id or name"})})}function At(Nt){return gt(!0),new Promise(function(It,Bt){function zt(Gt){Gt.updatedTimestamp=new Date,at.setItem(Gt.id,Gt).then(function(Kt){lt(dt.map(function(fn){return fn&fn.id&Gt.id&&Gt.id==fn.id?Gt:fn})),gt(!1),It(Gt)})}if(Nt)if(Nt.id||(Nt.id=ct.generateRandomId(),Nt.createdTimestamp=new Date),Nt.updatedTimestamp=new Date,Nt.data){Nt.fragments=vt(Nt),Nt.chunking_strategy=bt.determineTextType(Nt.data);let Gt=Array.isArray(Nt.category)?Nt.category.join(" "):"";Array.isArray(Nt.fragments)&&wt(Nt.fragments.map(function(Kt){return Nt.name+" "+Gt+" "+Kt})).then(function(Kt){Nt.embeddings=Array.isArray(Kt)?Kt.map(function(fn){return fn.embedding}):[],zt(Nt)})}else zt(Nt);else Bt("missing file")})}function Tt(Nt){const It=Nt.trim().split("/");var Bt=!1;return Array.isArray(it)?Nt&&Nt.trim().length>0?(it.forEach(function(zt){const Gt=zt.trim().split("/");Gt.length==2&&(Gt[1]==="*"?It[0]==Gt[0]&&(Bt=!0):Nt.trim()===zt.trim()&&(Bt=!0))}),Bt):!1:!0}function St(Nt){return new Promise(function(It,Bt){if(console.log("scrape",Nt),Nt){et&&et.tools&&et.tools.proxy_url?Nt=et.tools.proxy_url+Nt:_e&&nt&&nt.access_token&&(Nt="https://m7tueuetec.execute-api.us-east-1.amazonaws.com/proxy/"+Nt);var zt=new XMLHttpRequest;zt.onload=function(Gt){if(zt.response){const Kt=new FileReader;Kt.onload=function(){It(Kt.result)},Kt.onerror=function(fn){console.log("Failed to read the response as text",fn),It(null)},Kt.readAsText(zt.response)}else It(null)},zt.onerror=function(Gt){console.log(Gt),alert("Failed to load URL "+Nt),It(null)},zt.open("GET",Nt),zt.responseType="blob",zt.send()}else It(null)})}function Rt(Nt=null,It=null){return new Promise(function(Bt,zt){var Gt=[];pt(""),navigator.clipboard.read().then(Kt=>{Kt&&(Kt.forEach(function(fn,dn){Gt.push(new Promise(function(Wt,rn){fn.types.forEach(function(Vt){fn.getType(Vt).then(function(an){Vt==="text/plain"?ct.blobToText(an).then(function(Qt){var Zt=!1;if(Qt.split(`
`).forEach(function(xn){(xn.trim().startsWith("http://")||xn.trim().startsWith("https://"))&&(Zt=!0,St(xn.trim()).then(function(vn){vn?Wt({id:ct.generateRandomId(),name:xn,type:vn.type,data:vn}):(pt("Failed to load"),Bt(null))}))}),!Zt&&Tt("text/plain")){const xn=ct.generateRandomId();Wt({id:xn,name:"pasted text "+xn,type:Vt,data:Qt})}}):Vt.indexOf("image/")===0&&Tt("image/")?ct.blobToBase64(an).then(function(Qt){const Zt=ct.generateRandomId();Wt({id:Zt,name:"pasted image "+Zt,type:Vt,data:Qt})}):Vt!=="text/html"&&Tt(Vt)&&ct.blobToText(an).then(function(Qt){var Zt=!1;if(Qt.split("/n").forEach(function(vn){(vn.trim().startsWith("http://")||vn.trim().startsWith("https://"))&&(Zt=!0,St(vn.trim()).then(function(gn){gn?Wt({id:ct.generateRandomId(),name:vn,type:gn.type,data:gn}):(pt("Failed to load"),Bt(null))}))}),!Zt&&Tt("text/plain")){const vn=ct.generateRandomId();Wt({id:vn,name:"pasted text "+vn,type:Vt,data:Qt})}const xn=ct.generateRandomId();Wt({id:xn,name:"pasted file "+xn,type:Vt,data:Qt})}),console.log(an,Vt,fn)})})}))}),Promise.all(Gt).then(function(fn){if(Array.isArray(fn)){var dn=[];fn.forEach(function(Wt){dn.push(new Promise(function(rn,Vt){At(Wt).then(function(an){rn(an)})}))}),Promise.all(dn).then(function(Wt){Bt(Et(Wt,Nt,It))})}}))})})}function Ot(Nt,It=null,Bt=null){if(Nt.target.files){var zt=[];Array.from(Nt.target.files).forEach(function(Gt){console.log(Gt),zt.push(new Promise(function(Kt,fn){ct.readFileAsText(Gt).then(function(dn){Kt({id:ct.generateRandomId(),name:Gt.name,type:Gt.type,data:dn})})}))}),Promise.all(zt).then(function(Gt){var Kt=[];Gt.forEach(function(fn){Kt.push(new Promise(function(dn,Wt){At(fn).then(function(rn){dn(rn)})}))}),Promise.all(Kt).then(function(fn){return Et(fn,It,Bt)})})}}return{files:dt,fileManager:{maxFragmentSizeFromEmbedder:xt,searchVectorFiles:_t,generateEmbeddings:wt,generateFragments:vt,setFiles:lt,load:Dt,updateFileName:kt,deleteFile:jt,save:At,scrapeUrl:St,pasteFiles:Rt,filesSelected:Ot,allowMime:Tt,addFiles:Et,refresh:Ct,allowMimeTypes:it,warning:ht,setWarning:pt,allowMimeTypes:it,isBusy:mt,setIsBusy:gt}}}/**
 * @remix-run/router v1.16.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$4(){return _extends$4=Object.assign?Object.assign.bind():function(_e){for(var et=1;et<arguments.length;et++){var tt=arguments[et];for(var nt in tt)Object.prototype.hasOwnProperty.call(tt,nt)&&(_e[nt]=tt[nt])}return _e},_extends$4.apply(this,arguments)}var Action;(function(_e){_e.Pop="POP",_e.Push="PUSH",_e.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createHashHistory(_e){_e===void 0&&(_e={});function et(rt,it){let{pathname:ot="/",search:st="",hash:ut=""}=parsePath(rt.location.hash.substr(1));return!ot.startsWith("/")&&!ot.startsWith(".")&&(ot="/"+ot),createLocation("",{pathname:ot,search:st,hash:ut},it.state&&it.state.usr||null,it.state&&it.state.key||"default")}function tt(rt,it){let ot=rt.document.querySelector("base"),st="";if(ot&&ot.getAttribute("href")){let ut=rt.location.href,ft=ut.indexOf("#");st=ft===-1?ut:ut.slice(0,ft)}return st+"#"+(typeof it=="string"?it:createPath(it))}function nt(rt,it){warning(rt.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(it)+")")}return getUrlBasedHistory(et,tt,nt,_e)}function invariant(_e,et){if(_e===!1||_e===null||typeof _e>"u")throw new Error(et)}function warning(_e,et){if(!_e){typeof console<"u"&&console.warn(et);try{throw new Error(et)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(_e,et){return{usr:_e.state,key:_e.key,idx:et}}function createLocation(_e,et,tt,nt){return tt===void 0&&(tt=null),_extends$4({pathname:typeof _e=="string"?_e:_e.pathname,search:"",hash:""},typeof et=="string"?parsePath(et):et,{state:tt,key:et&&et.key||nt||createKey()})}function createPath(_e){let{pathname:et="/",search:tt="",hash:nt=""}=_e;return tt&&tt!=="?"&&(et+=tt.charAt(0)==="?"?tt:"?"+tt),nt&&nt!=="#"&&(et+=nt.charAt(0)==="#"?nt:"#"+nt),et}function parsePath(_e){let et={};if(_e){let tt=_e.indexOf("#");tt>=0&&(et.hash=_e.substr(tt),_e=_e.substr(0,tt));let nt=_e.indexOf("?");nt>=0&&(et.search=_e.substr(nt),_e=_e.substr(0,nt)),_e&&(et.pathname=_e)}return et}function getUrlBasedHistory(_e,et,tt,nt){nt===void 0&&(nt={});let{window:rt=document.defaultView,v5Compat:it=!1}=nt,ot=rt.history,st=Action.Pop,ut=null,ft=dt();ft==null&&(ft=0,ot.replaceState(_extends$4({},ot.state,{idx:ft}),""));function dt(){return(ot.state||{idx:null}).idx}function lt(){st=Action.Pop;let mt=dt(),gt=mt==null?null:mt-ft;ft=mt,ut&&ut({action:st,location:pt.location,delta:gt})}function at(mt,gt){st=Action.Push;let yt=createLocation(pt.location,mt,gt);tt&&tt(yt,mt),ft=dt()+1;let bt=getHistoryState(yt,ft),xt=pt.createHref(yt);try{ot.pushState(bt,"",xt)}catch(vt){if(vt instanceof DOMException&&vt.name==="DataCloneError")throw vt;rt.location.assign(xt)}it&&ut&&ut({action:st,location:pt.location,delta:1})}function ct(mt,gt){st=Action.Replace;let yt=createLocation(pt.location,mt,gt);tt&&tt(yt,mt),ft=dt();let bt=getHistoryState(yt,ft),xt=pt.createHref(yt);ot.replaceState(bt,"",xt),it&&ut&&ut({action:st,location:pt.location,delta:0})}function ht(mt){let gt=rt.location.origin!=="null"?rt.location.origin:rt.location.href,yt=typeof mt=="string"?mt:createPath(mt);return yt=yt.replace(/ $/,"%20"),invariant(gt,"No window.location.(origin|href) available to create URL for href: "+yt),new URL(yt,gt)}let pt={get action(){return st},get location(){return _e(rt,ot)},listen(mt){if(ut)throw new Error("A history only accepts one active listener");return rt.addEventListener(PopStateEventType,lt),ut=mt,()=>{rt.removeEventListener(PopStateEventType,lt),ut=null}},createHref(mt){return et(rt,mt)},createURL:ht,encodeLocation(mt){let gt=ht(mt);return{pathname:gt.pathname,search:gt.search,hash:gt.hash}},push:at,replace:ct,go(mt){return ot.go(mt)}};return pt}var ResultType;(function(_e){_e.data="data",_e.deferred="deferred",_e.redirect="redirect",_e.error="error"})(ResultType||(ResultType={}));function matchRoutes(_e,et,tt){tt===void 0&&(tt="/");let nt=typeof et=="string"?parsePath(et):et,rt=stripBasename(nt.pathname||"/",tt);if(rt==null)return null;let it=flattenRoutes(_e);rankRouteBranches(it);let ot=null;for(let st=0;ot==null&&st<it.length;++st){let ut=decodePath(rt);ot=matchRouteBranch(it[st],ut)}return ot}function flattenRoutes(_e,et,tt,nt){et===void 0&&(et=[]),tt===void 0&&(tt=[]),nt===void 0&&(nt="");let rt=(it,ot,st)=>{let ut={relativePath:st===void 0?it.path||"":st,caseSensitive:it.caseSensitive===!0,childrenIndex:ot,route:it};ut.relativePath.startsWith("/")&&(invariant(ut.relativePath.startsWith(nt),'Absolute route path "'+ut.relativePath+'" nested under path '+('"'+nt+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),ut.relativePath=ut.relativePath.slice(nt.length));let ft=joinPaths([nt,ut.relativePath]),dt=tt.concat(ut);it.children&&it.children.length>0&&(invariant(it.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+ft+'".')),flattenRoutes(it.children,et,dt,ft)),!(it.path==null&&!it.index)&&et.push({path:ft,score:computeScore(ft,it.index),routesMeta:dt})};return _e.forEach((it,ot)=>{var st;if(it.path===""||!((st=it.path)!=null&&st.includes("?")))rt(it,ot);else for(let ut of explodeOptionalSegments(it.path))rt(it,ot,ut)}),et}function explodeOptionalSegments(_e){let et=_e.split("/");if(et.length===0)return[];let[tt,...nt]=et,rt=tt.endsWith("?"),it=tt.replace(/\?$/,"");if(nt.length===0)return rt?[it,""]:[it];let ot=explodeOptionalSegments(nt.join("/")),st=[];return st.push(...ot.map(ut=>ut===""?it:[it,ut].join("/"))),rt&&st.push(...ot),st.map(ut=>_e.startsWith("/")&&ut===""?"/":ut)}function rankRouteBranches(_e){_e.sort((et,tt)=>et.score!==tt.score?tt.score-et.score:compareIndexes(et.routesMeta.map(nt=>nt.childrenIndex),tt.routesMeta.map(nt=>nt.childrenIndex)))}const paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=_e=>_e==="*";function computeScore(_e,et){let tt=_e.split("/"),nt=tt.length;return tt.some(isSplat)&&(nt+=splatPenalty),et&&(nt+=indexRouteValue),tt.filter(rt=>!isSplat(rt)).reduce((rt,it)=>rt+(paramRe.test(it)?dynamicSegmentValue:it===""?emptySegmentValue:staticSegmentValue),nt)}function compareIndexes(_e,et){return _e.length===et.length&&_e.slice(0,-1).every((nt,rt)=>nt===et[rt])?_e[_e.length-1]-et[et.length-1]:0}function matchRouteBranch(_e,et){let{routesMeta:tt}=_e,nt={},rt="/",it=[];for(let ot=0;ot<tt.length;++ot){let st=tt[ot],ut=ot===tt.length-1,ft=rt==="/"?et:et.slice(rt.length)||"/",dt=matchPath({path:st.relativePath,caseSensitive:st.caseSensitive,end:ut},ft);if(!dt)return null;Object.assign(nt,dt.params);let lt=st.route;it.push({params:nt,pathname:joinPaths([rt,dt.pathname]),pathnameBase:normalizePathname(joinPaths([rt,dt.pathnameBase])),route:lt}),dt.pathnameBase!=="/"&&(rt=joinPaths([rt,dt.pathnameBase]))}return it}function matchPath(_e,et){typeof _e=="string"&&(_e={path:_e,caseSensitive:!1,end:!0});let[tt,nt]=compilePath(_e.path,_e.caseSensitive,_e.end),rt=et.match(tt);if(!rt)return null;let it=rt[0],ot=it.replace(/(.)\/+$/,"$1"),st=rt.slice(1);return{params:nt.reduce((ft,dt,lt)=>{let{paramName:at,isOptional:ct}=dt;if(at==="*"){let pt=st[lt]||"";ot=it.slice(0,it.length-pt.length).replace(/(.)\/+$/,"$1")}const ht=st[lt];return ct&&!ht?ft[at]=void 0:ft[at]=(ht||"").replace(/%2F/g,"/"),ft},{}),pathname:it,pathnameBase:ot,pattern:_e}}function compilePath(_e,et,tt){et===void 0&&(et=!1),tt===void 0&&(tt=!0),warning(_e==="*"||!_e.endsWith("*")||_e.endsWith("/*"),'Route path "'+_e+'" will be treated as if it were '+('"'+_e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+_e.replace(/\*$/,"/*")+'".'));let nt=[],rt="^"+_e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(ot,st,ut)=>(nt.push({paramName:st,isOptional:ut!=null}),ut?"/?([^\\/]+)?":"/([^\\/]+)"));return _e.endsWith("*")?(nt.push({paramName:"*"}),rt+=_e==="*"||_e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):tt?rt+="\\/*$":_e!==""&&_e!=="/"&&(rt+="(?:(?=\\/|$))"),[new RegExp(rt,et?void 0:"i"),nt]}function decodePath(_e){try{return _e.split("/").map(et=>decodeURIComponent(et).replace(/\//g,"%2F")).join("/")}catch(et){return warning(!1,'The URL path "'+_e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+et+").")),_e}}function stripBasename(_e,et){if(et==="/")return _e;if(!_e.toLowerCase().startsWith(et.toLowerCase()))return null;let tt=et.endsWith("/")?et.length-1:et.length,nt=_e.charAt(tt);return nt&&nt!=="/"?null:_e.slice(tt)||"/"}function resolvePath(_e,et){et===void 0&&(et="/");let{pathname:tt,search:nt="",hash:rt=""}=typeof _e=="string"?parsePath(_e):_e;return{pathname:tt?tt.startsWith("/")?tt:resolvePathname(tt,et):et,search:normalizeSearch(nt),hash:normalizeHash(rt)}}function resolvePathname(_e,et){let tt=et.replace(/\/+$/,"").split("/");return _e.split("/").forEach(rt=>{rt===".."?tt.length>1&&tt.pop():rt!=="."&&tt.push(rt)}),tt.length>1?tt.join("/"):"/"}function getInvalidPathError(_e,et,tt,nt){return"Cannot include a '"+_e+"' character in a manually specified "+("`to."+et+"` field ["+JSON.stringify(nt)+"].  Please separate it out to the ")+("`to."+tt+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(_e){return _e.filter((et,tt)=>tt===0||et.route.path&&et.route.path.length>0)}function getResolveToMatches(_e,et){let tt=getPathContributingMatches(_e);return et?tt.map((nt,rt)=>rt===_e.length-1?nt.pathname:nt.pathnameBase):tt.map(nt=>nt.pathnameBase)}function resolveTo(_e,et,tt,nt){nt===void 0&&(nt=!1);let rt;typeof _e=="string"?rt=parsePath(_e):(rt=_extends$4({},_e),invariant(!rt.pathname||!rt.pathname.includes("?"),getInvalidPathError("?","pathname","search",rt)),invariant(!rt.pathname||!rt.pathname.includes("#"),getInvalidPathError("#","pathname","hash",rt)),invariant(!rt.search||!rt.search.includes("#"),getInvalidPathError("#","search","hash",rt)));let it=_e===""||rt.pathname==="",ot=it?"/":rt.pathname,st;if(ot==null)st=tt;else{let lt=et.length-1;if(!nt&&ot.startsWith("..")){let at=ot.split("/");for(;at[0]==="..";)at.shift(),lt-=1;rt.pathname=at.join("/")}st=lt>=0?et[lt]:"/"}let ut=resolvePath(rt,st),ft=ot&&ot!=="/"&&ot.endsWith("/"),dt=(it||ot===".")&&tt.endsWith("/");return!ut.pathname.endsWith("/")&&(ft||dt)&&(ut.pathname+="/"),ut}const joinPaths=_e=>_e.join("/").replace(/\/\/+/g,"/"),normalizePathname=_e=>_e.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=_e=>!_e||_e==="?"?"":_e.startsWith("?")?_e:"?"+_e,normalizeHash=_e=>!_e||_e==="#"?"":_e.startsWith("#")?_e:"#"+_e;function isRouteErrorResponse(_e){return _e!=null&&typeof _e.status=="number"&&typeof _e.statusText=="string"&&typeof _e.internal=="boolean"&&"data"in _e}const validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];new Set(validRequestMethodsArr);/**
 * React Router v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(_e){for(var et=1;et<arguments.length;et++){var tt=arguments[et];for(var nt in tt)Object.prototype.hasOwnProperty.call(tt,nt)&&(_e[nt]=tt[nt])}return _e},_extends$3.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useHref(_e,et){let{relative:tt}=et===void 0?{}:et;useInRouterContext()||invariant(!1);let{basename:nt,navigator:rt}=reactExports.useContext(NavigationContext),{hash:it,pathname:ot,search:st}=useResolvedPath(_e,{relative:tt}),ut=ot;return nt!=="/"&&(ut=ot==="/"?nt:joinPaths([nt,ot])),rt.createHref({pathname:ut,search:st,hash:it})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect$1(_e){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(_e)}function useNavigate(){let{isDataRoute:_e}=reactExports.useContext(RouteContext);return _e?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant(!1);let _e=reactExports.useContext(DataRouterContext),{basename:et,future:tt,navigator:nt}=reactExports.useContext(NavigationContext),{matches:rt}=reactExports.useContext(RouteContext),{pathname:it}=useLocation(),ot=JSON.stringify(getResolveToMatches(rt,tt.v7_relativeSplatPath)),st=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>{st.current=!0}),reactExports.useCallback(function(ft,dt){if(dt===void 0&&(dt={}),!st.current)return;if(typeof ft=="number"){nt.go(ft);return}let lt=resolveTo(ft,JSON.parse(ot),it,dt.relative==="path");_e==null&&et!=="/"&&(lt.pathname=lt.pathname==="/"?et:joinPaths([et,lt.pathname])),(dt.replace?nt.replace:nt.push)(lt,dt.state,dt)},[et,nt,ot,it,_e])}function useParams(){let{matches:_e}=reactExports.useContext(RouteContext),et=_e[_e.length-1];return et?et.params:{}}function useResolvedPath(_e,et){let{relative:tt}=et===void 0?{}:et,{future:nt}=reactExports.useContext(NavigationContext),{matches:rt}=reactExports.useContext(RouteContext),{pathname:it}=useLocation(),ot=JSON.stringify(getResolveToMatches(rt,nt.v7_relativeSplatPath));return reactExports.useMemo(()=>resolveTo(_e,JSON.parse(ot),it,tt==="path"),[_e,ot,it,tt])}function useRoutes(_e,et){return useRoutesImpl(_e,et)}function useRoutesImpl(_e,et,tt,nt){useInRouterContext()||invariant(!1);let{navigator:rt}=reactExports.useContext(NavigationContext),{matches:it}=reactExports.useContext(RouteContext),ot=it[it.length-1],st=ot?ot.params:{};ot&&ot.pathname;let ut=ot?ot.pathnameBase:"/";ot&&ot.route;let ft=useLocation(),dt;if(et){var lt;let mt=typeof et=="string"?parsePath(et):et;ut==="/"||(lt=mt.pathname)!=null&&lt.startsWith(ut)||invariant(!1),dt=mt}else dt=ft;let at=dt.pathname||"/",ct=at;if(ut!=="/"){let mt=ut.replace(/^\//,"").split("/");ct="/"+at.replace(/^\//,"").split("/").slice(mt.length).join("/")}let ht=matchRoutes(_e,{pathname:ct}),pt=_renderMatches(ht&&ht.map(mt=>Object.assign({},mt,{params:Object.assign({},st,mt.params),pathname:joinPaths([ut,rt.encodeLocation?rt.encodeLocation(mt.pathname).pathname:mt.pathname]),pathnameBase:mt.pathnameBase==="/"?ut:joinPaths([ut,rt.encodeLocation?rt.encodeLocation(mt.pathnameBase).pathname:mt.pathnameBase])})),it,tt,nt);return et&&pt?reactExports.createElement(LocationContext.Provider,{value:{location:_extends$3({pathname:"/",search:"",hash:"",state:null,key:"default"},dt),navigationType:Action.Pop}},pt):pt}function DefaultErrorComponent(){let _e=useRouteError(),et=isRouteErrorResponse(_e)?_e.status+" "+_e.statusText:_e instanceof Error?_e.message:JSON.stringify(_e),tt=_e instanceof Error?_e.stack:null,rt={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},et),tt?reactExports.createElement("pre",{style:rt},tt):null,null)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor(et){super(et),this.state={location:et.location,revalidation:et.revalidation,error:et.error}}static getDerivedStateFromError(et){return{error:et}}static getDerivedStateFromProps(et,tt){return tt.location!==et.location||tt.revalidation!=="idle"&&et.revalidation==="idle"?{error:et.error,location:et.location,revalidation:et.revalidation}:{error:et.error!==void 0?et.error:tt.error,location:tt.location,revalidation:et.revalidation||tt.revalidation}}componentDidCatch(et,tt){console.error("React Router caught the following error during render",et,tt)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(_e){let{routeContext:et,match:tt,children:nt}=_e,rt=reactExports.useContext(DataRouterContext);return rt&&rt.static&&rt.staticContext&&(tt.route.errorElement||tt.route.ErrorBoundary)&&(rt.staticContext._deepestRenderedBoundaryId=tt.route.id),reactExports.createElement(RouteContext.Provider,{value:et},nt)}function _renderMatches(_e,et,tt,nt){var rt;if(et===void 0&&(et=[]),tt===void 0&&(tt=null),nt===void 0&&(nt=null),_e==null){var it;if((it=tt)!=null&&it.errors)_e=tt.matches;else return null}let ot=_e,st=(rt=tt)==null?void 0:rt.errors;if(st!=null){let dt=ot.findIndex(lt=>lt.route.id&&(st==null?void 0:st[lt.route.id])!==void 0);dt>=0||invariant(!1),ot=ot.slice(0,Math.min(ot.length,dt+1))}let ut=!1,ft=-1;if(tt&&nt&&nt.v7_partialHydration)for(let dt=0;dt<ot.length;dt++){let lt=ot[dt];if((lt.route.HydrateFallback||lt.route.hydrateFallbackElement)&&(ft=dt),lt.route.id){let{loaderData:at,errors:ct}=tt,ht=lt.route.loader&&at[lt.route.id]===void 0&&(!ct||ct[lt.route.id]===void 0);if(lt.route.lazy||ht){ut=!0,ft>=0?ot=ot.slice(0,ft+1):ot=[ot[0]];break}}}return ot.reduceRight((dt,lt,at)=>{let ct,ht=!1,pt=null,mt=null;tt&&(ct=st&&lt.route.id?st[lt.route.id]:void 0,pt=lt.route.errorElement||defaultErrorElement,ut&&(ft<0&&at===0?(ht=!0,mt=null):ft===at&&(ht=!0,mt=lt.route.hydrateFallbackElement||null)));let gt=et.concat(ot.slice(0,at+1)),yt=()=>{let bt;return ct?bt=pt:ht?bt=mt:lt.route.Component?bt=reactExports.createElement(lt.route.Component,null):lt.route.element?bt=lt.route.element:bt=dt,reactExports.createElement(RenderedRoute,{match:lt,routeContext:{outlet:dt,matches:gt,isDataRoute:tt!=null},children:bt})};return tt&&(lt.route.ErrorBoundary||lt.route.errorElement||at===0)?reactExports.createElement(RenderErrorBoundary,{location:tt.location,revalidation:tt.revalidation,component:pt,error:ct,children:yt(),routeContext:{outlet:null,matches:gt,isDataRoute:!0}}):yt()},null)}var DataRouterHook$1=function(_e){return _e.UseBlocker="useBlocker",_e.UseRevalidator="useRevalidator",_e.UseNavigateStable="useNavigate",_e}(DataRouterHook$1||{}),DataRouterStateHook$1=function(_e){return _e.UseBlocker="useBlocker",_e.UseLoaderData="useLoaderData",_e.UseActionData="useActionData",_e.UseRouteError="useRouteError",_e.UseNavigation="useNavigation",_e.UseRouteLoaderData="useRouteLoaderData",_e.UseMatches="useMatches",_e.UseRevalidator="useRevalidator",_e.UseNavigateStable="useNavigate",_e.UseRouteId="useRouteId",_e}(DataRouterStateHook$1||{});function useDataRouterContext(_e){let et=reactExports.useContext(DataRouterContext);return et||invariant(!1),et}function useDataRouterState(_e){let et=reactExports.useContext(DataRouterStateContext);return et||invariant(!1),et}function useRouteContext(_e){let et=reactExports.useContext(RouteContext);return et||invariant(!1),et}function useCurrentRouteId(_e){let et=useRouteContext(),tt=et.matches[et.matches.length-1];return tt.route.id||invariant(!1),tt.route.id}function useRouteError(){var _e;let et=reactExports.useContext(RouteErrorContext),tt=useDataRouterState(DataRouterStateHook$1.UseRouteError),nt=useCurrentRouteId(DataRouterStateHook$1.UseRouteError);return et!==void 0?et:(_e=tt.errors)==null?void 0:_e[nt]}function useNavigateStable(){let{router:_e}=useDataRouterContext(DataRouterHook$1.UseNavigateStable),et=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),tt=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>{tt.current=!0}),reactExports.useCallback(function(rt,it){it===void 0&&(it={}),tt.current&&(typeof rt=="number"?_e.navigate(rt):_e.navigate(rt,_extends$3({fromRouteId:et},it)))},[_e,et])}function Route(_e){invariant(!1)}function Router(_e){let{basename:et="/",children:tt=null,location:nt,navigationType:rt=Action.Pop,navigator:it,static:ot=!1,future:st}=_e;useInRouterContext()&&invariant(!1);let ut=et.replace(/^\/*/,"/"),ft=reactExports.useMemo(()=>({basename:ut,navigator:it,static:ot,future:_extends$3({v7_relativeSplatPath:!1},st)}),[ut,st,it,ot]);typeof nt=="string"&&(nt=parsePath(nt));let{pathname:dt="/",search:lt="",hash:at="",state:ct=null,key:ht="default"}=nt,pt=reactExports.useMemo(()=>{let mt=stripBasename(dt,ut);return mt==null?null:{location:{pathname:mt,search:lt,hash:at,state:ct,key:ht},navigationType:rt}},[ut,dt,lt,at,ct,ht,rt]);return pt==null?null:reactExports.createElement(NavigationContext.Provider,{value:ft},reactExports.createElement(LocationContext.Provider,{children:tt,value:pt}))}function Routes(_e){let{children:et,location:tt}=_e;return useRoutes(createRoutesFromChildren(et),tt)}new Promise(()=>{});function createRoutesFromChildren(_e,et){et===void 0&&(et=[]);let tt=[];return reactExports.Children.forEach(_e,(nt,rt)=>{if(!reactExports.isValidElement(nt))return;let it=[...et,rt];if(nt.type===reactExports.Fragment){tt.push.apply(tt,createRoutesFromChildren(nt.props.children,it));return}nt.type!==Route&&invariant(!1),!nt.props.index||!nt.props.children||invariant(!1);let ot={id:nt.props.id||it.join("-"),caseSensitive:nt.props.caseSensitive,element:nt.props.element,Component:nt.props.Component,index:nt.props.index,path:nt.props.path,loader:nt.props.loader,action:nt.props.action,errorElement:nt.props.errorElement,ErrorBoundary:nt.props.ErrorBoundary,hasErrorBoundary:nt.props.ErrorBoundary!=null||nt.props.errorElement!=null,shouldRevalidate:nt.props.shouldRevalidate,handle:nt.props.handle,lazy:nt.props.lazy};nt.props.children&&(ot.children=createRoutesFromChildren(nt.props.children,it)),tt.push(ot)}),tt}/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(_e){for(var et=1;et<arguments.length;et++){var tt=arguments[et];for(var nt in tt)Object.prototype.hasOwnProperty.call(tt,nt)&&(_e[nt]=tt[nt])}return _e},_extends$2.apply(this,arguments)}function _objectWithoutPropertiesLoose$1(_e,et){if(_e==null)return{};var tt={},nt=Object.keys(_e),rt,it;for(it=0;it<nt.length;it++)rt=nt[it],!(et.indexOf(rt)>=0)&&(tt[rt]=_e[rt]);return tt}function isModifiedEvent(_e){return!!(_e.metaKey||_e.altKey||_e.ctrlKey||_e.shiftKey)}function shouldProcessLinkClick(_e,et){return _e.button===0&&(!et||et==="_self")&&!isModifiedEvent(_e)}const _excluded=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],REACT_ROUTER_VERSION="6";try{window.__reactRouterVersion=REACT_ROUTER_VERSION}catch(_e){}const START_TRANSITION="startTransition",startTransitionImpl=React$1[START_TRANSITION];function HashRouter(_e){let{basename:et,children:tt,future:nt,window:rt}=_e,it=reactExports.useRef();it.current==null&&(it.current=createHashHistory({window:rt,v5Compat:!0}));let ot=it.current,[st,ut]=reactExports.useState({action:ot.action,location:ot.location}),{v7_startTransition:ft}=nt||{},dt=reactExports.useCallback(lt=>{ft&&startTransitionImpl?startTransitionImpl(()=>ut(lt)):ut(lt)},[ut,ft]);return reactExports.useLayoutEffect(()=>ot.listen(dt),[ot,dt]),reactExports.createElement(Router,{basename:et,children:tt,location:st.location,navigationType:st.action,navigator:ot,future:nt})}const isBrowser=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(function _e(et,tt){let{onClick:nt,relative:rt,reloadDocument:it,replace:ot,state:st,target:ut,to:ft,preventScrollReset:dt,unstable_viewTransition:lt}=et,at=_objectWithoutPropertiesLoose$1(et,_excluded),{basename:ct}=reactExports.useContext(NavigationContext),ht,pt=!1;if(typeof ft=="string"&&ABSOLUTE_URL_REGEX.test(ft)&&(ht=ft,isBrowser))try{let bt=new URL(window.location.href),xt=ft.startsWith("//")?new URL(bt.protocol+ft):new URL(ft),vt=stripBasename(xt.pathname,ct);xt.origin===bt.origin&&vt!=null?ft=vt+xt.search+xt.hash:pt=!0}catch{}let mt=useHref(ft,{relative:rt}),gt=useLinkClickHandler(ft,{replace:ot,state:st,target:ut,preventScrollReset:dt,relative:rt,unstable_viewTransition:lt});function yt(bt){nt&&nt(bt),bt.defaultPrevented||gt(bt)}return reactExports.createElement("a",_extends$2({},at,{href:ht||mt,onClick:pt||it?nt:yt,ref:tt,target:ut}))});var DataRouterHook;(function(_e){_e.UseScrollRestoration="useScrollRestoration",_e.UseSubmit="useSubmit",_e.UseSubmitFetcher="useSubmitFetcher",_e.UseFetcher="useFetcher",_e.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(_e){_e.UseFetcher="useFetcher",_e.UseFetchers="useFetchers",_e.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));function useLinkClickHandler(_e,et){let{target:tt,replace:nt,state:rt,preventScrollReset:it,relative:ot,unstable_viewTransition:st}=et===void 0?{}:et,ut=useNavigate(),ft=useLocation(),dt=useResolvedPath(_e,{relative:ot});return reactExports.useCallback(lt=>{if(shouldProcessLinkClick(lt,tt)){lt.preventDefault();let at=nt!==void 0?nt:createPath(ft)===createPath(dt);ut(_e,{replace:at,state:rt,preventScrollReset:it,relative:ot,unstable_viewTransition:st})}},[ft,ut,dt,nt,rt,tt,_e,it,ot,st])}function ConfirmDialog(_e){const{onConfirm:et,onCancel:tt,title:nt,message:rt,forceShow:it,setForceShow:ot}=_e,[st,ut]=reactExports.useState(!1),ft=()=>{ut(!1)},dt=reactExports.useRef();return reactExports.useEffect(function(){it&&(ut(!0),ot(!1))},[it]),jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs(Modal$2,{animation:!1,show:st,onHide:ft,children:[jsxRuntimeExports.jsx(Modal$2.Header,{closeButton:!0,children:jsxRuntimeExports.jsx(Modal$2.Title,{style:{marginRight:"2em"},children:nt||""})}),jsxRuntimeExports.jsxs(Modal$2.Body,{style:{minHeight:"10em"},children:[jsxRuntimeExports.jsx("div",{style:{clear:"both",marginBottom:"0.4em"},children:rt||""}),jsxRuntimeExports.jsx("div",{style:{clear:"both",marginTop:"1.4em"},children:jsxRuntimeExports.jsxs(Form$1,{onSubmit:et,children:[jsxRuntimeExports.jsx(Button,{autoFocus:!0,ref:dt,style:{float:"left"},onClick:function(lt){ot(!1),ut(!1),et(lt)},variant:"success",children:"OK"}),jsxRuntimeExports.jsx(Button,{style:{float:"right"},onClick:function(lt){return ot(!1),ut(!1),tt(),lt.preventDefault(),!1},variant:"danger",children:"Cancel"})]})})]})]})})}function ChatHistories({allowRestart:_e,onCancel:et,onTranscript:tt,onPartialTranscript:nt,bodyStyle:rt,exchangeRate:it,setExchangeRate:ot,updateExchangeRate:st,modelSelector:ut,creditBalance:ft,updateCreditBalance:dt,teamLlm:lt,chatHistoryRoles:at,setChatHistoryRoles:ct,chatHistoryTeams:ht,setChatHistoryTeams:pt,user:mt,token:gt,login:yt,logou:bt,doSave:xt,aiUsage:vt,submitForm:wt,stopAllPlaying:_t,stopLanguageModels:Ct,aiLlm:Et,usingOpenAiTts:$t,usingSelfHostedTts:jt,usingWebSpeechTts:Dt,usingMeSpeakTts:Pt,usingTts:kt,usingStt:At,usingOpenAiStt:Tt,usingSelfHostedStt:St,usingLocalStt:Rt,queueSpeech:Ot,getUrl:Nt,playDataUri:It,stopPlaying:Bt,isPlaying:zt,setIsPlaying:Gt,isMuted:Kt,isMutedRef:fn,mute:dn,unmute:Wt,deleteRole:rn,exportRoles:Vt,importRoles:an,init:Qt,roles:Zt,setRoles:xn,currentRole:vn,setCurrentRole:gn,newRole:Cn,utteranceQueue:kn,setUtteranceQueue:En,mergeData:sn,setMergeData:On,lastLlmTrigger:Tn,autoStartMicrophone:bn,setAutoStartMicrophone:Dn,autoStopMicrophone:Nn,setAutoStopMicrophone:wn,refreshHash:qn,setRefreshHash:or,forceRefresh:tr,hasRequiredConfig:cr,isSpeaking:rr,setIsSpeaking:Vn,isWaiting:Jt,startWaiting:pn,stopWaiting:$n,userMessage:jn,userMessageRef:Fn,setUserMessage:Ln,isReady:Xn,setIsReady:ar,config:Qn,setConfig:Yt,llmEnabled:hn,setLlmEnabled:mn,icons:yn,configRef:qt,utils:Sn,newChat:Bn,addUserMessage:Zn,addAssistantMessage:Hn,setLastAssistantMessage:sr,setLastUserMessage:nr,getLastUserMessage:dr,chatHistoryId:zn,chatHistoryIdRef:mr,setChatHistoryId:$r,chatHistories:lr,setChatHistories:wr,currentChatHistory:gr,revertChatHistory:Kn,deleteChatHistory:jr,playSpeech:Pr,duplicateChatHistory:Lr,configIn:Un,chatHistoriesRef:en,getLastAssistantChatIndex:Mn,getLastAssistantMessage:Wn,categories:pr,setCategories:Sr,teams:kr,setTeams:_r,currentTeam:vr,setCurrentTeam:ur,currentTeamRef:Er,deleteTeam:Cr,configManager:Dr,runtimes:zr,duplicateRole:Hr,accordionSelectedKey:Or,setAccordionSelectedKey:Vr,categoryFilter:Nr,setCategoryFilter:Lt,fileManager:Xt,files:Ht,exportDocument:on,availableModels:ln}){reactExports.useRef(),reactExports.useState();const[tn,An]=reactExports.useState(""),[Rn,_n]=reactExports.useState(!1),Mt=reactExports.useRef(),Ft=gr()&&gr().length>0?Sn.generateRandomId():null;return jsxRuntimeExports.jsxs("div",{style:{paddingLeft:"0.5em"},children:[jsxRuntimeExports.jsx(ConfirmDialog,{forceShow:Rn,setForceShow:_n,title:"Delete Chat History",message:"Do you really want to delete this chat history ?",onCancel:function(){_n(!1)},onConfirm:function(){jr(Mt.current),_n(!1)}}),jsxRuntimeExports.jsx(Button,{style:{float:"right",marginTop:"0.4em",marginRight:"0.2em"},variant:"danger",onClick:function(){window.confirm("Really delete all chat history?")&&wr({})},children:yn.bin}),jsxRuntimeExports.jsx(Link,{to:"/chat/"+Ft,style:{float:"right",marginTop:"0.2em",marginRight:"2em"},children:jsxRuntimeExports.jsx(Button,{onClick:Ct,disabled:!Ft,style:{float:"left",marginTop:"0.2em",marginLeft:"0.2em"},variant:"primary",children:yn.newchat})}),jsxRuntimeExports.jsx("h3",{children:"Chat History"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx(Form$1.Control,{style:{marginBottom:"1em"},type:"text",value:tn,placeholder:"Search",onChange:Ut=>{An(Ut.target.value)}}),jsxRuntimeExports.jsx(ListGroup$1,{children:en.current&&Object.keys(en.current).filter(function(Ut){let cn=en.current[Ut];return tn?tn&&cn&&cn[0]&&cn[0].content&&cn[0].content.toLowerCase().indexOf(tn.toLowerCase())!==-1?cn&&cn.length>0:!1:cn&&cn.length>0}).map(function(Ut,cn){let In=en.current[Ut];return jsxRuntimeExports.jsxs(ListGroup$1.Item,{children:[jsxRuntimeExports.jsx(Link,{to:"/chat/"+Ut,children:jsxRuntimeExports.jsx(Button,{variant:"outline-primary",style:{textAlign:"left",width:"70%"},children:In&&In[0]&&In[0].content&&In[0].content.split?In[0].content.split(" ").slice(0,20).join(" "):""})}),jsxRuntimeExports.jsx(Button,{style:{float:"right"},variant:"danger",onClick:function(){Mt.current=Ut,_n(!0)},children:yn.bin}),jsxRuntimeExports.jsx(Button,{style:{float:"right",marginRight:"0.5em"},variant:"warning",onClick:function(){Lr(Ut)},children:yn.filecopy})]},cn)})})]})}function useWebsocketTranscriber({onUpdate:_e,onComplete:et,onReady:tt,onStart:nt,onError:rt}){const[it,ot]=reactExports.useState(void 0),[st,ut]=reactExports.useState(!1),[ft,dt]=reactExports.useState("");let lt=reactExports.useRef(""),at=reactExports.useRef(),ct=reactExports.useRef(!1);function ht(){return at.current&&at.current.readyState==1}function pt(){return new Promise(function(xt,vt){if(ht(at.current)&&xt(at.current),!ct.current)try{ct.current=!0;let wt=new WebSocket(lt.current);wt.onopen=()=>{tt&&tt(),xt(wt)},wt.onclose=()=>{},wt.onmessage=_t=>{mt(_t)},wt.onerror=function(_t){rt&&rt(_t),xt()},xt(wt)}catch(wt){console.log("error:",wt),vt()}})}function mt(xt){try{let vt=JSON.parse(xt.data);et(vt.transcription?vt.transcription:""),at&&at.close()}catch{}}function gt(xt){lt.current=xt,pt().then(function(vt){at.current=vt})}function yt(xt){pt().then(function(vt){vt.send(xt)})}function bt(xt){pt().then(function(vt){nt&&nt(),vt.send(null)})}return{init:gt,feed:yt,start:bt,output:ft,isBusy:st,transcript:it}}function useOpenAITranscriber({aiUsage:_e,onUpdate:et,onComplete:tt,onReady:nt,onStart:rt,onError:it}){const[ot,st]=reactExports.useState(""),[ut,ft]=reactExports.useState(!1),dt=reactExports.useRef("");function lt(ht){dt.current=ht,nt&&nt()}function at(ht){}function ct(ht,pt){ft(!0),rt&&rt(),console.log("START WST",ht);const mt=new FormData;mt.append("file",new File([ht],"transcribe_me.wav")),mt.append("model","whisper-1");try{fetch("https://api.openai.com/v1/audio/translations",{method:"POST",headers:{Authorization:"Bearer "+dt.current},body:mt}).then(function(gt){if(!gt.ok)throw new Error("Failed to transcribe audio");_e.logSTT({seconds:pt,key:dt.current,model:"whisper-1"}),gt.json().then(function(yt){yt&&yt.text&&tt&&(st(yt.text),tt(yt.text))})})}catch(gt){it&&it(gt),console.error("Transcription error:",gt)}ft(!1)}return{init:lt,feed:at,start:ct,isBusy:ut,transcript:ot}}function useGroqTranscriber({aiUsage:_e,onUpdate:et,onComplete:tt,onReady:nt,onStart:rt,onError:it}){const[ot,st]=reactExports.useState(""),[ut,ft]=reactExports.useState(!1),dt=reactExports.useRef("");function lt(ht){dt.current=ht,nt&&nt()}function at(ht){}function ct(ht,pt){ft(!0),rt&&rt();const mt=new FormData;mt.append("file",new File([ht],"transcribe_me.wav")),mt.append("model","whisper-large-v3");try{fetch("https://api.groq.com/openai/v1/audio/translations",{method:"POST",headers:{Authorization:"Bearer "+dt.current},body:mt}).then(function(gt){if(!gt.ok)throw new Error("Failed to transcribe audio");_e.logSTT({seconds:pt,key:dt.current,model:"whisper-1"}),gt.json().then(function(yt){yt&&yt.text&&tt&&(st(yt.text),tt(yt.text))})})}catch(gt){it&&it(gt),console.error("Transcription error:",gt)}ft(!1)}return{init:lt,feed:at,start:ct,isBusy:ut,transcript:ot}}function useSelfHostedTranscriber({url:_e,aiUsage:et,onUpdate:tt,onComplete:nt,onReady:rt,onStart:it,onError:ot}){const[st,ut]=reactExports.useState(""),[ft,dt]=reactExports.useState(!1),lt=reactExports.useRef("");function at(pt){lt.current=pt,rt&&rt()}function ct(pt){}function ht(pt,mt){dt(!0),it&&it();const gt=new FormData;gt.append("audio_file",new File([pt],"transcribe_me.wav")),gt.append("task","translate");try{fetch(_e,{method:"POST",body:gt}).then(function(yt){if(!yt.ok)throw new Error("Failed to transcribe audio");et.logSTT({seconds:mt,key:lt.current,model:"whisper-1"}),yt.text().then(function(bt){console.log("RGG",bt),bt&&nt&&(ut(bt),nt(bt))})})}catch(yt){ot&&ot(yt),console.error("Transcription error:",yt)}dt(!1)}return{init:at,feed:ct,start:ht,isBusy:ft,transcript:st}}var dist$2={};(function(_e){var et=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(pt,mt,gt,yt){yt===void 0&&(yt=gt);var bt=Object.getOwnPropertyDescriptor(mt,gt);(!bt||("get"in bt?!mt.__esModule:bt.writable||bt.configurable))&&(bt={enumerable:!0,get:function(){return mt[gt]}}),Object.defineProperty(pt,yt,bt)}:function(pt,mt,gt,yt){yt===void 0&&(yt=gt),pt[yt]=mt[gt]}),tt=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(pt,mt){Object.defineProperty(pt,"default",{enumerable:!0,value:mt})}:function(pt,mt){pt.default=mt}),nt=commonjsGlobal&&commonjsGlobal.__importStar||function(pt){if(pt&&pt.__esModule)return pt;var mt={};if(pt!=null)for(var gt in pt)gt!=="default"&&Object.prototype.hasOwnProperty.call(pt,gt)&&et(mt,pt,gt);return tt(mt,pt),mt};Object.defineProperty(_e,"__esModule",{value:!0}),_e.useMicVAD=_e.defaultReactRealTimeVADOptions=_e.utils=void 0;const rt=dist$3,it=nt(reactExports);var ot=dist$3;Object.defineProperty(_e,"utils",{enumerable:!0,get:function(){return ot.utils}});const st={startOnLoad:!0,userSpeakingThreshold:.6};_e.defaultReactRealTimeVADOptions={...rt.defaultRealTimeVADOptions,...st};const ut=Object.keys(st),ft=Object.keys(rt.defaultRealTimeVADOptions),dt=(pt,mt)=>pt.reduce((gt,yt)=>(gt[yt]=mt[yt],gt),{});function lt(pt){pt={..._e.defaultReactRealTimeVADOptions,...pt};const mt=dt(ut,pt),gt=dt(ft,pt);return[mt,gt]}function at(pt){const mt=it.default.useRef(pt);return ht(()=>{mt.current=pt}),it.default.useCallback((...gt)=>mt.current.apply(void 0,gt),[])}function ct(pt){const[mt,gt]=lt(pt),[yt,bt]=(0,it.useReducer)((It,Bt)=>Bt>mt.userSpeakingThreshold,!1),[xt,vt]=(0,it.useState)(!0),[wt,_t]=(0,it.useState)(!1),[Ct,Et]=(0,it.useState)(!1),[$t,jt]=(0,it.useState)(null);at(gt.onFrameProcessed),gt.onFrameProcessed=at(It=>{bt(It.isSpeech)});const{onSpeechEnd:Dt,onSpeechStart:Pt,onVADMisfire:kt}=gt,At=at(Dt),Tt=at(Pt),St=at(kt);gt.onSpeechEnd=At,gt.onSpeechStart=Tt,gt.onVADMisfire=St,(0,it.useEffect)(()=>{let It,Bt=!1;return(async()=>{try{if(It=await rt.MicVAD.new(gt),Bt){It.destroy();return}}catch(Gt){vt(!1),Gt instanceof Error?_t({message:Gt.message}):_t({message:Gt});return}jt(It),vt(!1),mt.startOnLoad&&(It==null||It.start(),Et(!0))})().catch(Gt=>{console.log("Well that didn't work")}),function(){It==null||It.destroy(),Bt=!0,!xt&&!wt&&Et(!1)}},[]);const Rt=()=>{!xt&&!wt&&($t==null||$t.pause(),Et(!1))},Ot=()=>{!xt&&!wt&&($t==null||$t.start(),Et(!0))};return{listening:Ct,errored:wt,loading:xt,userSpeaking:yt,pause:Rt,start:Ot,toggle:()=>{Ct?Rt():Ot()}}}_e.useMicVAD=ct;const ht=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?it.default.useLayoutEffect:it.default.useEffect})(dist$2);function useAudioRecorder({isPlaying:_e,onRecordingComplete:et,onRecordingStarted:tt,onRecordingStopped:nt,config:rt,forceRefresh:it}){const ot=reactExports.useRef(!1),st=reactExports.useRef(!1);let ut=reactExports.useRef();reactExports.useRef(!1);const ft=reactExports.useRef(!1),dt=dist$2.useMicVAD({startOnLoad:!0,onFrameProcessed:(vt,wt)=>{console.log("FFF",vt,wt)},onSpeechStart:()=>{ft.current=!0,_e.current||lt(),ot.current=!0,it()},onVADMisfire:()=>{at(),ot.current=!1,it()},onSpeechEnd:vt=>{if(at(),ot.current=!1,st.current){let wt=vt?vt.length/16e3:0,_t=new Blob([mt(vt)],{type:"audio/wav"});et(wt,_t,vt,rt)}it()}});function lt(){clearTimeout(ut.current)}function at(){clearTimeout(ut.current),ut.current=setTimeout(function(){ht()},8e3)}const ct=async vt=>{dt.loading||(st.current=!0,tt&&tt(),at(),it())},ht=()=>{st.current=!1,nt&&nt(),it()},pt=()=>{st.current?ht():ct()};function mt(vt,wt=3,_t=16e3,Ct=1,Et=32){var $t=Et/8,jt=Ct*$t,Dt=new ArrayBuffer(44+vt.length*$t),Pt=new DataView(Dt);return bt(Pt,0,"RIFF"),Pt.setUint32(4,36+vt.length*$t,!0),bt(Pt,8,"WAVE"),bt(Pt,12,"fmt "),Pt.setUint32(16,16,!0),Pt.setUint16(20,wt,!0),Pt.setUint16(22,Ct,!0),Pt.setUint32(24,_t,!0),Pt.setUint32(28,_t*jt,!0),Pt.setUint16(32,jt,!0),Pt.setUint16(34,Et,!0),bt(Pt,36,"data"),Pt.setUint32(40,vt.length*$t,!0),wt===1?yt(Pt,44,vt):gt(Pt,44,vt),Dt}function gt(vt,wt,_t){for(var Ct=0;Ct<_t.length;Ct++,wt+=4)vt.setFloat32(wt,_t[Ct],!0)}function yt(vt,wt,_t){for(var Ct=0;Ct<_t.length;Ct++,wt+=2){var Et=Math.max(-1,Math.min(1,_t[Ct]));vt.setInt16(wt,Et<0?Et*32768:Et*32767,!0)}}function bt(vt,wt,_t){for(var Ct=0;Ct<_t.length;Ct++)vt.setUint8(wt+Ct,_t.charCodeAt(Ct))}function xt(){}return{startRecording:ct,stopRecording:ht,handleToggleRecording:pt,isSpeaking:ot,isEnabled:st,isInitialised:ft,init:xt}}const useIsOnline=()=>{const[_e,et]=reactExports.useState(window.navigator.onLine);return reactExports.useEffect(()=>{const tt=()=>et(window.navigator.onLine);return window.addEventListener("online",tt),window.addEventListener("offline",tt),()=>{window.removeEventListener("online",tt),window.removeEventListener("offline",tt)}},[_e]),{error:null,isOffline:!_e,isOnline:_e}};function SpeechButton(_e){let et=!!(_e.config&&_e.config.stt&&_e.config.stt.use==="openai"&&_e.config.stt.openai_key),tt=!!(_e.config&&_e.config.stt&&_e.config.stt.use==="groq"&&_e.config.stt.groq_key),nt=!!(_e.config&&_e.config.stt&&_e.config.stt.use==="self_hosted"&&_e.config.stt.self_hosted_url),rt=!!(_e.config&&_e.config.stt&&_e.config.stt.use==="local"&&_e.config.stt.local_whisper_model),it=!!(_e.config&&_e.config.stt&&_e.config.stt.use_hotword);reactExports.useEffect(function(){_e.autoStartMicrophone&&(ut.startRecording(),_e.setAutoStartMicrophone(!1))},[_e.autoStartMicrophone]),reactExports.useEffect(function(){_e.autoStopMicrophone&&(ut.stopRecording(),_e.setAutoStopMicrophone(!1))},[_e.autoStopMicrophone]);const ot=useIcons();let st=useIsOnline(),ut=useAudioRecorder({forceRefresh:_e.forceRefresh,config:_e.config,isPlaying:_e.isPlaying,onRecordingComplete:function(vt,wt,_t,Ct){console.log("REC COMPLETE",vt,wt,_t,Ct,typeof Ct);let Et=!!(Ct&&Ct.stt&&Ct.stt.use==="openai"&&Ct.stt.openai_key),$t=!!(Ct&&Ct.stt&&Ct.stt.use==="self_hosted"&&Ct.stt.self_hosted_url),jt=!!(_e.config&&_e.config.stt&&_e.config.stt.use==="groq"&&_e.config.stt.groq_key);$t?at.start(wt):Et?dt.start(wt,vt):jt&&lt.start(wt,vt)},onRecordingStarted:function(){console.log("REC Start")},onRecordingStopped:function(){console.log("REC Stop")},onReady:function(){console.log("REC Ready"),_e.forceRefresh()},onDataAvailable:function(vt){console.log("DATAAVAIL",vt)}}),ft=useWebsocketTranscriber({onReady:function(vt){},onUpdate:function(vt){_e.onPartialTranscript&&_e.onPartialTranscript(vt)},onComplete:function(vt){vt.trim()==="stop"||vt.trim()==="cancel"?(ut.stopRecording(),_e.onCancel&&_e.onCancel()):(_e.onTranscript&&_e.onTranscript(vt),_e.stopWaiting())},onStart:function(){_e.startWaiting()},onError:function(vt){_e.stopWaiting()}}),dt=useOpenAITranscriber({aiUsage:_e.aiUsage,onReady:function(vt){},onUpdate:function(vt){_e.onPartialTranscript&&_e.onPartialTranscript(vt)},onComplete:function(vt){vt.trim()==="stop"||vt.trim()==="cancel"?(ut.stopRecording(),_e.onCancel&&_e.onCancel()):(_e.onTranscript&&_e.onTranscript(vt),_e.stopWaiting())},onStart:function(){_e.startWaiting()},onError:function(vt){_e.stopWaiting()}}),lt=useGroqTranscriber({aiUsage:_e.aiUsage,onReady:function(vt){},onUpdate:function(vt){_e.onPartialTranscript&&_e.onPartialTranscript(vt)},onComplete:function(vt){vt.trim()==="stop"||vt.trim()==="cancel"?(ut.stopRecording(),_e.onCancel&&_e.onCancel()):(_e.onTranscript&&_e.onTranscript(vt),_e.stopWaiting())},onStart:function(){_e.startWaiting()},onError:function(vt){_e.stopWaiting()}}),at=useSelfHostedTranscriber({url:_e.config&&_e.config.stt&&_e.config.stt.self_hosted_url,aiUsage:_e.aiUsage,onReady:function(vt){},onUpdate:function(vt){_e.onPartialTranscript&&_e.onPartialTranscript(vt)},onComplete:function(vt){vt.trim()==="stop"||vt.trim()==="cancel"?(ut.stopRecording(),_e.onCancel&&_e.onCancel()):(_e.onTranscript&&_e.onTranscript(vt),_e.stopWaiting())},onStart:function(){_e.startWaiting()},onError:function(vt){_e.stopWaiting()}});reactExports.useEffect(function(){},[]),reactExports.useEffect(function(){let vt=_e.config&&_e.config.stt&&_e.config.stt.use==="local"&&_e.config.stt.local_whisper_model,wt=!!(_e.config&&_e.config.stt&&_e.config.stt.use==="openai"&&_e.config.stt.openai_key),_t=!!(_e.config&&_e.config.stt&&_e.config.stt.use==="groq"&&_e.config.stt.groq_key),Ct=!!(_e.config&&_e.config.stt&&_e.config.stt.use==="self_hosted"&&_e.config.stt.self_hosted_url);vt||(Ct?at.init():wt?dt.init(_e.config.stt.openai_key):_t&&lt.init(_e.config.stt.groq_key))},[JSON.stringify(_e.config)]),reactExports.useEffect(function(){_e.config&&_e.config.stt&&_e.config.stt.use_hotword},[_e.config&&_e.config.stt&&_e.config.stt.use_hotword]);let ct=(rt||et||nt||tt)&&st.isOnline;const ht={borderRadius:"35px",color:"black",backgroundColor:"#dc3545",border:"2px solid "+(ut.isSpeaking?"pink":"darkred")},pt={borderRadius:"35px",color:"black",backgroundColor:"#e0acb1",border:"2px solid "+(ut.isSpeaking?"pink":"darkred")},mt={borderRadius:"35px",color:"black",backgroundColor:"#198754",border:"2px solid "+(ut.isSpeaking?"lightgreen":"darkgreen")},gt={borderRadius:"35px",color:"black",backgroundColor:"#0b5ed7",border:"2px solid "+(ut.isSpeaking?"lightblue":"darkblue")},yt={borderRadius:"35px",color:"black",backgroundColor:"grey",border:"2px solid "+(ut.isSpeaking?"lightgrey":"darkgrey")};let bt,xt=ut.handleToggleRecording;return!et&&!nt&&!rt&&!tt?(bt=yt,ft.isBusy||dt.isBusy.current||lt.isBusy.current?xt=function(){ut.stopRecording()}:xt=function(){}):(ut.isEnabled.current?_e.isPlaying.current?bt=pt:bt=ht:ct?bt=mt:bt=gt,it&&(bt.color="white")),jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(Button,{style:bt,onClick:xt,children:ft.isBusy||dt.isBusy||lt.isBusy?ot["loader-line"]:ut.isEnabled.current?ot["mic-off-fill"]:ot["mic-fill"]})})}let linkStyle={textDecoration:"none",marginLeft:"2.2em"};function Menu({setAutoStopMicrophone:_e,autoStopMicrophone:et,stopLanguageModels:tt,isOnlineRef:nt,simplifiedChat:rt,bodyStyle:it,creditBalance:ot,refreshHash:st,token:ut,logout:ft,user:dt,login:lt,utils:at,usingStt:ct,usingTts:ht,isSpeaking:pt,isMuted:mt,mute:gt,stopAllPlaying:yt,icons:bt,unmute:xt,stopPlaying:vt,lastLlmTrigger:wt,config:_t,aiUsage:Ct,forceRefresh:Et,autoStartMicrophone:$t,setAutoStartMicrophone:jt,isPlaying:Dt,allowRestart:Pt,isWaiting:kt,startWaiting:At,stopWaiting:Tt,onCancel:St,isReady:Rt,setIsReady:Ot,onTranscript:Nt,onPartialTranscript:It,setUserMessage:Bt}){const zt=useLocation(),{hash:Gt,pathname:Kt,search:fn}=zt;return jsxRuntimeExports.jsx(Container,{style:{backgroundColor:"purple"},fluid:!0,children:jsxRuntimeExports.jsxs(Navbar$1,{style:{backgroundColor:"purple",justifyContent:"flex-start"},fixed:"top",expand:"xl",className:"navbar-dark",children:[jsxRuntimeExports.jsx(Link,{style:{color:"white",textDecoration:"none",marginLeft:"0.5em"},to:"/",children:bt.teamlarge}),jsxRuntimeExports.jsx("span",{children:jsxRuntimeExports.jsx(Navbar$1.Toggle,{"aria-controls":"basic-navbar-nav"})}),jsxRuntimeExports.jsxs(Navbar$1.Collapse,{id:"basic-navbar-nav",children:[jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsxs(Nav$1,{className:"me-auto",children:[jsxRuntimeExports.jsx(Navbar$1.Text,{children:jsxRuntimeExports.jsxs(Link,{style:Object.assign({border:"2px dashed rgb(222, 212, 249)",padding:"0.4em",borderRadius:"20px"},linkStyle),to:"/chat",children:[bt.chat," Chat Now"]})}),jsxRuntimeExports.jsxs(Navbar$1.Text,{children:[jsxRuntimeExports.jsxs(Link,{style:linkStyle,to:"/menu",children:[bt.history," History"]})," "]}),jsxRuntimeExports.jsxs(Navbar$1.Text,{children:[jsxRuntimeExports.jsxs(Link,{style:linkStyle,to:"/roles",children:[bt.teamlarge," Personas and Teams"]})," "]}),jsxRuntimeExports.jsxs(Navbar$1.Text,{children:[jsxRuntimeExports.jsxs(Link,{style:linkStyle,to:"/files",children:[bt.filecopy," Files"]})," "]}),jsxRuntimeExports.jsx(Navbar$1.Text,{children:jsxRuntimeExports.jsxs(Link,{style:linkStyle,to:"/settings",children:[bt.settings," Settings"]})}),jsxRuntimeExports.jsx("span",{style:{marginLeft:"1.8em"},children:jsxRuntimeExports.jsxs(NavDropdown$1,{title:jsxRuntimeExports.jsxs("span",{children:[bt.question," Help"]}),id:"basic-nav-dropdown",children:[jsxRuntimeExports.jsx(NavDropdown$1.Item,{children:jsxRuntimeExports.jsx(Link,{style:{color:"black",textDecoration:"none"},to:"/help",children:"User Guide"})}),jsxRuntimeExports.jsx(NavDropdown$1.Item,{target:"_new",href:"https://github.com/syntithenai/talktoateam/issues",children:"Support"}),jsxRuntimeExports.jsx(NavDropdown$1.Item,{children:jsxRuntimeExports.jsx(Link,{style:{color:"black",textDecoration:"none"},to:"/pricing",children:"Pricing"})}),jsxRuntimeExports.jsx(NavDropdown$1.Item,{children:jsxRuntimeExports.jsx(Link,{style:{color:"black",textDecoration:"none"},to:"/terms",children:"Terms And Conditions"})}),jsxRuntimeExports.jsx(NavDropdown$1.Item,{children:jsxRuntimeExports.jsx(Link,{style:{color:"black",textDecoration:"none"},to:"/payment",children:"Buy Credit"})}),jsxRuntimeExports.jsx(NavDropdown$1.Item,{children:jsxRuntimeExports.jsx(Link,{style:{color:"black",textDecoration:"none"},to:"/roadmap",children:"Road Map"})}),dt&&dt.email&&dt.email==="syntithenai@gmail.com"&&jsxRuntimeExports.jsx(NavDropdown$1.Item,{children:jsxRuntimeExports.jsx(Link,{style:{color:"black",textDecoration:"none"},to:"/admin",children:"Admin"})})]})})]})]}),jsxRuntimeExports.jsxs(Navbar$1.Brand,{style:{position:"absolute",top:2,right:-4},children:[ut&&ut.access_token&&jsxRuntimeExports.jsx(Link,{style:{textDecoration:"none"},to:"/transactions",children:jsxRuntimeExports.jsxs("span",{style:{fontSize:"0.8em",color:"rgb(222 212 249)",marginTop:"0.7em",marginRight:"1em"},children:[" ",jsxRuntimeExports.jsxs("b",{children:["$",ot>0&&ut&&ut.access_token?parseFloat(ot).toFixed(2):0]})]})}),jsxRuntimeExports.jsxs("span",{style:{marginTop:"0.3em",marginLeft:"0.2em",marginRight:"0.1em"},children:[nt.current&&ut&&ut.access_token&&jsxRuntimeExports.jsxs(Button,{onClick:function(){ft()},variant:"danger",children:[!(dt&&dt.picture)&&bt.user_logout," ",dt&&dt.picture&&jsxRuntimeExports.jsx("img",{height:"28",width:"28",onError:function(dn){dn.target.src="/user-line.png"},src:ut&&ut.access_token?dt.picture+"?access_token="+ut.access_token+"&not-from-cache-please":"/clear.gif"})]}),nt.current&&!(ut&&ut.access_token)&&jsxRuntimeExports.jsx(Button,{onClick:function(){lt()},variant:"success",children:bt.user}),!nt.current&&jsxRuntimeExports.jsx(Button,{variant:"secondary",children:"Offline"})]}),jsxRuntimeExports.jsxs("span",{style:{marginTop:"0.2em",marginRight:"0.2em"},children:[!rt&&ht&&Kt.startsWith("/chat")&&jsxRuntimeExports.jsxs("span",{style:{marginLeft:"0.5em"},children:[!rt&&!pt&&!mt&&jsxRuntimeExports.jsx("button",{style:{marginRight:"0.2em",color:"black"},className:"btn  btn-success",id:"muteButton",onClick:function(){gt(),yt()},title:"Mute",children:bt["volume-vibrate-fill"]}),!rt&&!pt&&mt&&jsxRuntimeExports.jsx("button",{style:{marginRight:"0.2em",color:"black"},className:"btn btn-secondary",id:"unmuteButton",onClick:xt,title:"UnMute",children:bt["volume-off-vibrate-fill"]}),!rt&&pt&&jsxRuntimeExports.jsx("button",{style:{marginRight:"0.2em",color:"black"},className:"btn btn-success",id:"playingButton",onClick:vt,title:"Stop Playing",children:bt.speak})]}),jsxRuntimeExports.jsx("span",{style:{marginLeft:"0.5em",visibility:ct&&Kt.startsWith("/chat")?"visible":"hidden"},children:jsxRuntimeExports.jsx(SpeechButton,{lastLlmTrigger:wt,config:_t,aiUsage:Ct,forceRefresh:Et,stopLanguageModels:tt,autoStartMicrophone:$t,setAutoStartMicrophone:jt,autoStopMicrophone:et,setAutoStopMicrophone:_e,isPlaying:Dt,allowRestart:!0,isWaiting:kt,startWaiting:At,stopWaiting:Tt,onCancel:St,isReady:Rt,setIsReady:Ot,onTranscript:Nt,onPartialTranscript:function(dn){Bt(dn)}})})]})]})]})})}function Footer({icons:_e}){jsxRuntimeExports.Fragment,_e.github}function ChatHistoryPage(_e){const{isOnlineRef:et,allowRestart:tt,onCancel:nt,onPartialTranscript:rt,bodyStyle:it,exchangeRate:ot,setExchangeRate:st,updateExchangeRate:ut,modelSelector:ft,creditBalance:dt,updateCreditBalance:lt,teamLlm:at,chatHistoryRoles:ct,setChatHistoryRoles:ht,chatHistoryTeams:pt,setChatHistoryTeams:mt,user:gt,token:yt,login:bt,logout:xt,refresh:vt,doSave:wt,aiUsage:_t,submitForm:Ct,stopAllPlaying:Et,stopLanguageModels:$t,aiLlm:jt,usingOpenAiTts:Dt,usingSelfHostedTts:Pt,usingWebSpeechTts:kt,usingMeSpeakTts:At,usingTts:Tt,usingStt:St,usingOpenAiStt:Rt,usingSelfHostedStt:Ot,usingLocalStt:Nt,queueSpeech:It,getUrl:Bt,playDataUri:zt,stopPlaying:Gt,isPlaying:Kt,setIsPlaying:fn,isMuted:dn,isMutedRef:Wt,mute:rn,unmute:Vt,deleteRole:an,exportRoles:Qt,importRoles:Zt,init:xn,roles:vn,setRoles:gn,currentRole:Cn,setCurrentRole:kn,newRole:En,utteranceQueue:sn,setUtteranceQueue:On,mergeData:Tn,setMergeData:bn,lastLlmTrigger:Dn,autoStartMicrophone:Nn,setAutoStartMicrophone:wn,autoStopMicrophone:qn,setAutoStopMicrophone:or,refreshHash:tr,setRefreshHash:cr,forceRefresh:rr,hasRequiredConfig:Vn,isSpeaking:Jt,setIsSpeaking:pn,isWaiting:$n,startWaiting:jn,stopWaiting:Fn,userMessage:Ln,userMessageRef:Xn,setUserMessage:ar,isReady:Qn,setIsReady:Yt,config:hn,setConfig:mn,llmEnabled:yn,setLlmEnabled:qt,icons:Sn,configRef:Bn,utils:Zn,newChat:Hn,addUserMessage:sr,addAssistantMessage:nr,setLastAssistantMessage:dr,setLastUserMessage:zn,getLastUserMessage:mr,chatHistoryId:$r,chatHistoryIdRef:lr,setChatHistoryId:wr,chatHistories:gr,setChatHistories:Kn,currentChatHistory:jr,revertChatHistory:Pr,deleteChatHistory:Lr,playSpeech:Un,duplicateChatHistory:en,configIn:Mn,chatHistoriesRef:Wn,getLastAssistantChatIndex:pr,getLastAssistantMessage:Sr,categories:kr,setCategories:_r,teams:vr,setTeams:ur,currentTeam:Er,setCurrentTeam:Cr,currentTeamRef:Dr,deleteTeam:zr,configManager:Hr,runtimes:Or,duplicateRole:Vr,accordionSelectedKey:Nr,setAccordionSelectedKey:Lt,categoryFilter:Xt,setCategoryFilter:Ht,fileManager:on,files:ln,exportDocument:tn,availableModels:An}=_e;function Rn(_n){}return Zn.summariseConfig(hn),reactExports.useEffect(function(){document.documentElement.scrollTop=0,document.body.scrollTop=0},[]),jsxRuntimeExports.jsxs("div",{className:"App",id:tr,children:[jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Menu,{isOnlineRef:et,bodyStyle:it,creditBalance:dt,refreshHash:tr,token:yt,logout:xt,user:gt,login:bt,utils:Zn,usingStt:St,usingTts:Tt,isSpeaking:Jt,isMuted:dn,mute:rn,stopAllPlaying:Et,icons:Sn,unmute:Vt,stopPlaying:Gt,lastLlmTrigger:Dn,config:hn,aiUsage:_t,forceRefresh:rr,autoStartMicrophone:Nn,setAutoStartMicrophone:wn,isPlaying:Kt,allowRestart:tt,isWaiting:$n,startWaiting:jn,stopWaiting:Fn,onCancel:nt,isReady:Qn,setIsReady:Yt,onTranscript:Rn,onPartialTranscript:rt,setUserMessage:ar}),jsxRuntimeExports.jsx("div",{id:"body",style:it,children:jsxRuntimeExports.jsx(Row,{style:{textAlign:"left",marginTop:"0.5em",marginBottom:"1.5em"},children:jsxRuntimeExports.jsx(Col,{children:jsxRuntimeExports.jsx(ChatHistories,{..._e})})})})]}),jsxRuntimeExports.jsx(Footer,{icons:Sn})]})}function ErrorWarningModal({errorMessage:_e,setErrorMessage:et,icons:tt}){function nt(){et("")}return jsxRuntimeExports.jsxs(Modal$2,{className:"fullwidthmodal",show:!0,onHide:nt,children:[jsxRuntimeExports.jsx(Modal$2.Header,{closeButton:!0,children:jsxRuntimeExports.jsx(Modal$2.Title,{children:"Error"})}),jsxRuntimeExports.jsx(Modal$2.Body,{children:_e}),jsxRuntimeExports.jsx(Modal$2.Footer,{children:jsxRuntimeExports.jsxs(Row,{children:[jsxRuntimeExports.jsx(Col,{children:jsxRuntimeExports.jsx(Link,{to:"/settings",onClick:nt,children:jsxRuntimeExports.jsx(Button,{style:{minWidth:"6em"},children:"Settings"})})}),jsxRuntimeExports.jsx(Col,{children:jsxRuntimeExports.jsx(Link,{to:"/payment",onClick:nt,children:jsxRuntimeExports.jsx(Button,{variant:"success",style:{minWidth:"9em"},children:"Buy Credit"})})}),jsxRuntimeExports.jsx(Col,{children:jsxRuntimeExports.jsx(Button,{variant:"danger",onClick:nt,style:{minWidth:"6em"},children:"Close"})})]})})]})}const TTSConfigForm=({configIn:_e,setConfig:et,forceRefresh:tt})=>{const[nt,rt]=reactExports.useState({});reactExports.useEffect(function(){rt(_e)},[JSON.stringify(_e)]),useWebSpeechTts({}),useMeSpeakTts({});const it=st=>(st.preventDefault(),!1);function ot(st,ut){let ft=nt||{};ft.tts||(ft.tts={}),ft.tts[st]=ut,et(ft),tt()}return jsxRuntimeExports.jsx(Form$1,{onSubmit:it,children:jsxRuntimeExports.jsxs("div",{className:"border p-3 mb-3",children:[jsxRuntimeExports.jsx("h5",{children:"Text To Speech"}),jsxRuntimeExports.jsxs(Row,{className:"mb-3",children:[jsxRuntimeExports.jsxs(Form$1.Group,{as:Col,controlId:"openaiKey",children:[jsxRuntimeExports.jsx(FormCheck$1,{style:{display:"inline",marginRight:"0.2em"},type:"checkbox",checked:nt&&nt.tts&&nt.tts.use==="openai",onChange:st=>{ot("use",nt&&nt.tts&&nt.tts.use==="openai"?"":"openai")}}),jsxRuntimeExports.jsx(Form$1.Label,{children:"OpenAI API Key"}),jsxRuntimeExports.jsx(Form$1.Control,{type:"text",value:nt&&nt.tts&&nt.tts.openai_key,onChange:st=>{ot("openai_key",st.target.value),ot("use","openai")}})]}),jsxRuntimeExports.jsxs(Form$1.Group,{controlId:"ttsUrl",style:{marginTop:"0.2em"},children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Self Hosted URL"}),jsxRuntimeExports.jsx(FormCheck$1,{style:{display:"inline",marginRight:"0.2em"},type:"checkbox",checked:nt&&nt.tts&&nt.tts.use==="self_hosted",onChange:st=>{ot("use",nt&&nt.tts&&nt.tts.use==="self_hosted"?"":"self_hosted")}}),jsxRuntimeExports.jsx(Form$1.Text,{children:jsxRuntimeExports.jsx("span",{style:{display:"block",marginLeft:"3em",fontStyle:"italic",fontSize:"0.7em"},children:"See https://github.com/syntithenai/coqui-tts-ssl"})}),jsxRuntimeExports.jsx(Form$1.Control,{type:"text",value:nt&&nt.tts&&nt.tts.self_hosted_url,onChange:st=>{ot("self_hosted_url",st.target.value),ot("use","self_hosted")}})]})]})]})})},STTConfigForm=({configIn:_e,setConfig:et,forceRefresh:tt})=>{const[nt,rt]=reactExports.useState({});reactExports.useEffect(function(){rt(_e)},[JSON.stringify(_e)]);const it=st=>(st.preventDefault(),!1);function ot(st,ut){let ft=nt||{};ft||(ft={}),ft.stt||(ft.stt={}),ft.stt[st]=ut,et(ft),tt()}return jsxRuntimeExports.jsx(Form$1,{onSubmit:it,children:jsxRuntimeExports.jsxs("div",{className:"border p-3 mb-3",children:[jsxRuntimeExports.jsx("h5",{children:"Speech To Text"}),jsxRuntimeExports.jsxs(Row,{className:"mb-3",children:[jsxRuntimeExports.jsxs(Form$1.Group,{as:Col,controlId:"openaiKey",children:[jsxRuntimeExports.jsx(FormCheck$1,{style:{display:"inline",marginRight:"0.2em"},type:"checkbox",checked:!!(nt&&nt.stt&&nt.stt.use==="openai"),onChange:st=>{ot("use",nt&&nt.stt&&nt.stt.use==="openai"?"":"openai")}}),jsxRuntimeExports.jsx(Form$1.Label,{children:"OpenAI API Key"}),jsxRuntimeExports.jsx(Form$1.Control,{type:"text",value:nt&&nt.stt&&nt.stt.openai_key?nt.stt.openai_key:"",onChange:st=>{ot("openai_key",st.target.value),ot("use","openai")}})]}),jsxRuntimeExports.jsxs(Form$1.Group,{controlId:"sttUrl",style:{marginTop:"0.2em"},children:[jsxRuntimeExports.jsx(FormCheck$1,{style:{display:"inline",marginRight:"0.2em"},type:"checkbox",checked:!!(nt&&nt.stt&&nt.stt.use==="self_hosted"),onChange:st=>{ot("use",nt&&nt.stt&&nt.stt.use==="self_hosted"?"":"self_hosted")}}),jsxRuntimeExports.jsx(Form$1.Label,{children:"Self Hosted URL"}),jsxRuntimeExports.jsx(Form$1.Text,{children:"See https://github.com/syntithenai/whisper-websocket-streaming"}),jsxRuntimeExports.jsx(Form$1.Control,{type:"text",value:nt&&nt.stt&&nt.stt.self_hosted_url?nt.stt.self_hosted_url:"",onChange:st=>{ot("self_hosted_url",st.target.value),ot("use","self_hosted")}})]})]})]})})},LLMConfigForm=({login:_e,user:et,creditBalance:tt,icons:nt,aiUsage:rt,configIn:it,setConfig:ot,forceRefresh:st,useLlm:ut})=>{const[ft,dt]=reactExports.useState({});reactExports.useEffect(function(){dt(it)},[JSON.stringify(it)]);function lt(at,ct){let ht=ft||{};ht.llm||(ht.llm={}),ht.llm[at]=ct,ot(ht),st()}return jsxRuntimeExports.jsxs(Form$1,{onSubmit:function(at){return at.preventDefault(),!1},children:[jsxRuntimeExports.jsx("h5",{children:"Language Model"}),jsxRuntimeExports.jsxs("div",{className:"border p-3 mb-3",children:[jsxRuntimeExports.jsx(Link,{style:{float:"right",marginRight:"1em",marginTop:"1em"},to:"/payment",children:jsxRuntimeExports.jsx(Button,{variant:"success",size:"lg",children:"Buy Credit"})}),jsxRuntimeExports.jsx("h5",{children:"Your Plan"}),!et&&jsxRuntimeExports.jsxs(Form$1.Text,{children:["Buy credit for quick and easy access to a range of providers and other services through our endpoints.",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx(Button,{variant:"success",onClick:_e,children:"Login"})," to see your credit."]}),et&&jsxRuntimeExports.jsxs(Row,{className:"mb-3",children:[jsxRuntimeExports.jsxs("span",{style:{fontWeight:"bold",marginBottom:"1em"},children:["Balance: $",parseFloat(tt).toFixed(2)]}),tt>0&&jsxRuntimeExports.jsxs("div",{children:["You have access to a wide range of language models from providers OpenAI, Groqcloud, TogetherAI and DeepInfra. Allocate your preferred models, then set the preferred model for various ",jsxRuntimeExports.jsx("i",{children:"Personas "})," in your ",jsxRuntimeExports.jsx("i",{children:"Teams"}),"  to enable workflows encompassing a range of providers."]})]})]}),jsxRuntimeExports.jsxs("div",{className:"border p-3 mb-3",children:[jsxRuntimeExports.jsx("h5",{children:"Bring Your Own Keys"}),jsxRuntimeExports.jsx(Form$1.Text,{children:"Providers that support CORS can be used directly from your web browser. Enter your keys here to save money by skipping our proxy."}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx(Form$1.Text,{children:"Checkout the tools section to configure your own URLs for websearch and code execution services."}),jsxRuntimeExports.jsx("div",{style:{color:"red",fontWeight:"bold",fontSize:"0.6em",marginTop:"1.5em"},children:"Warning! API Keys are stored in browser local storage on this computer."}),jsxRuntimeExports.jsx("div",{style:{color:"red",fontWeight:"bold",fontSize:"0.6em",marginBottom:"1em",marginTop:"1em"},children:"Warning! If you login with Google, API Keys are stored in a private document in your Google Drive to enable sync between devices."}),jsxRuntimeExports.jsx(Row,{className:"mb-3",children:jsxRuntimeExports.jsxs(Form$1.Group,{as:Col,controlId:"openaiKey",children:[jsxRuntimeExports.jsxs(Form$1.Label,{children:[nt.openai," OpenAI API Key"]}),jsxRuntimeExports.jsx(Form$1.Text,{children:jsxRuntimeExports.jsxs("span",{style:{display:"block",marginLeft:"3em",fontStyle:"italic",fontSize:"0.7em"},children:["See ",jsxRuntimeExports.jsx("a",{target:"_new",href:"https://platform.openai.com/api-keys",children:"https://platform.openai.com/api-keys"})]})}),jsxRuntimeExports.jsx(Form$1.Control,{type:"text",value:ft&&ft.llm&&ft.llm.openai_key,onChange:at=>{lt("openai_key",at.target.value)}}),jsxRuntimeExports.jsxs(Form$1.Label,{style:{marginTop:"1em"},children:[jsxRuntimeExports.jsx("img",{src:"/grokcloud.ico",style:{height:"24px",width:"24px"}})," GroqCloud API Key"]}),jsxRuntimeExports.jsx(Form$1.Text,{children:jsxRuntimeExports.jsxs("span",{style:{display:"block",marginLeft:"3em",fontStyle:"italic",fontSize:"0.7em"},children:["See ",jsxRuntimeExports.jsx("a",{target:"_new",href:"https://console.groq.com/keys",children:"https://console.groq.com/keys"})]})}),jsxRuntimeExports.jsx(Form$1.Control,{type:"text",value:ft&&ft.llm&&ft.llm.groqcloud_key,onChange:at=>{lt("groqcloud_key",at.target.value)}})]})})]}),jsxRuntimeExports.jsxs("div",{className:"border p-3 mb-3",children:[jsxRuntimeExports.jsx("h5",{children:"Self Hosted"}),jsxRuntimeExports.jsx(Form$1.Text,{children:"Work with any Language Model Server that hosts an OpenAI compatible chat endpoint."}),jsxRuntimeExports.jsxs(Form$1.Group,{controlId:"llmUrl",children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Custom URL"}),jsxRuntimeExports.jsx(Form$1.Control,{type:"text",value:ft&&ft.llm&&ft.llm.self_hosted_url,onChange:at=>{lt("self_hosted_url",at.target.value)}}),jsxRuntimeExports.jsx(Form$1.Label,{children:"Custom URL Key"}),jsxRuntimeExports.jsx(Form$1.Control,{type:"text",value:ft&&ft.llm&&ft.llm.self_hosted_key,onChange:at=>{lt("self_hosted_key",at.target.value)}}),jsxRuntimeExports.jsx(Form$1.Label,{children:"Custom Models"}),jsxRuntimeExports.jsx(Form$1.Control,{type:"text",placeholder:"eg testLLM-8B,codeCUSTOM-joel-2B",value:ft&&ft.llm&&ft.llm.self_hosted_models,onChange:at=>{lt("self_hosted_models",at.target.value)}})]})]})]})},ToolsConfigForm=({configIn:_e,setConfig:et,forceRefresh:tt})=>{const[nt,rt]=reactExports.useState({});reactExports.useEffect(function(){rt(_e)},[JSON.stringify(_e)]);const it=st=>(st.preventDefault(),!1);function ot(st,ut){let ft=nt||{};ft||(ft={}),ft.tools||(ft.tools={}),ft.tools[st]=ut,et(ft),tt()}return jsxRuntimeExports.jsx(Form$1,{onSubmit:it,children:jsxRuntimeExports.jsxs("div",{className:"border p-3 mb-3",children:[jsxRuntimeExports.jsx("h5",{children:"Tools"}),jsxRuntimeExports.jsxs(Row,{className:"mb-3",children:[jsxRuntimeExports.jsxs(Form$1.Group,{style:{marginTop:"1.5em"},as:Col,controlId:"openaiKey",children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Tavily Web Search URL"}),jsxRuntimeExports.jsx(Form$1.Control,{type:"text",value:nt&&nt.tools&&nt.tools.tavily_url?nt.tools.tavily_url:"",onChange:st=>{ot("tavily_url",st.target.value)}}),jsxRuntimeExports.jsx(Form$1.Label,{children:"Tavily Web Search API Key"}),jsxRuntimeExports.jsx(Form$1.Text,{children:jsxRuntimeExports.jsxs("span",{style:{display:"block",marginLeft:"3em",fontStyle:"italic",fontSize:"0.7em"},children:["See ",jsxRuntimeExports.jsx("a",{href:"https://app.tavily.com/",target:"new",children:"https://app.tavily.com/"})]})}),jsxRuntimeExports.jsx(Form$1.Control,{type:"text",value:nt&&nt.tools&&nt.tools.tavily_key?nt.tools.tavily_key:"",onChange:st=>{ot("tavily_key",st.target.value)}})]}),jsxRuntimeExports.jsxs(Form$1.Group,{style:{marginTop:"1.5em"},as:Col,controlId:"openaiKey",children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"CORS Proxy URL"}),jsxRuntimeExports.jsx(Form$1.Control,{type:"text",value:nt&&nt.tools&&nt.tools.cors_url?nt.tools.cors_url:"",onChange:st=>{ot("cors_url",st.target.value)}}),jsxRuntimeExports.jsx(Form$1.Label,{children:"CORS Proxy Key"}),jsxRuntimeExports.jsx(Form$1.Text,{children:jsxRuntimeExports.jsxs("span",{style:{display:"block",marginLeft:"3em",fontStyle:"italic",fontSize:"0.7em"},children:["See ",jsxRuntimeExports.jsx("a",{href:"http://proxy.cors.sh/",target:"new",children:"http://proxy.cors.sh/"})]})}),jsxRuntimeExports.jsx(Form$1.Control,{type:"text",value:nt&&nt.tools&&nt.tools.cors_key?nt.tools.cors_key:"",onChange:st=>{ot("cors_key",st.target.value)}})]}),jsxRuntimeExports.jsxs(Form$1.Group,{style:{marginTop:"1.5em"},as:Col,controlId:"openaiKey",children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Piston Code Runner URL"}),jsxRuntimeExports.jsx(Form$1.Text,{children:jsxRuntimeExports.jsxs("span",{style:{display:"block",marginLeft:"3em",fontStyle:"italic",fontSize:"0.7em"},children:["See ",jsxRuntimeExports.jsx("a",{href:"https://github.com/engineer-man/piston",target:"new",children:"https://github.com/engineer-man/piston"})]})}),jsxRuntimeExports.jsx(Form$1.Control,{type:"text",value:nt&&nt.tools&&nt.tools.piston_url?nt.tools.piston_url:"https://emkc.org/api/v2/piston",onChange:st=>{ot("piston_url",st.target.value)}}),jsxRuntimeExports.jsx(Form$1.Label,{children:"Piston Code Runner Key"}),jsxRuntimeExports.jsx(Form$1.Control,{type:"text",value:nt&&nt.tools&&nt.tools.piston_key?nt.tools.piston_key:"",onChange:st=>{ot("piston_key",st.target.value)}})]})]})]})})};function ModelSelector({defaultOptions:_e,onChange:et,value:tt,forceRefresh:nt}){reactExports.useState(!1);const[rt,it]=reactExports.useState([]),[ot,st]=reactExports.useState("");function ut(dt){console.log("sel model",dt),st(""),it(_e),et(dt.provider+" "+dt.model)}function ft(dt){let lt=dt.target.value;st(lt);var at=_e&&Array.isArray(_e)?_e:[];lt&&lt.length>0&&(at=at.filter(function(ct){return!!(!lt||lt.length===0||ot&&ct&&(ct.model&&ct.model.toLowerCase().indexOf(ot.toLowerCase())!==-1||ct.provider&&ct.provider.toLowerCase().indexOf(ot.toLowerCase())!==-1))})),it(at)}return reactExports.useEffect(function(){var dt=_e&&Array.isArray(_e)?_e:[];it(dt)},[]),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{style:{width:"100%"},children:jsxRuntimeExports.jsx("input",{type:"search",value:ot,onChange:ft})}),jsxRuntimeExports.jsx("div",{style:{position:"relative",top:"0px",zIndex:10,width:"100%"},children:jsxRuntimeExports.jsx(ListGroup$1,{style:{zIndex:"20",clear:"both",width:"100%"},children:rt.map(function(dt,lt){return jsxRuntimeExports.jsxs(ListGroup$1.Item,{className:lt%2===0?"even":"odd",onClick:function(at){ut(dt)},children:[jsxRuntimeExports.jsxs("div",{style:{marginBottom:"0.4em"},children:[jsxRuntimeExports.jsx("b",{children:dt.provider})," ",dt.model]}),jsxRuntimeExports.jsxs("div",{children:[dt.parameters&&jsxRuntimeExports.jsxs(Button,{style:{marginLeft:"0.5em"},variant:"secondary",children:[dt.parameters,"B Parameters"]}),dt.context_length&&jsxRuntimeExports.jsxs(Button,{style:{marginLeft:"0.5em"},variant:"secondary",children:[parseInt(dt.context_length)/1024,"k Context"]}),jsxRuntimeExports.jsxs(Button,{style:{marginLeft:"0.5em"},variant:"outline-success",children:["$In/Out ",dt.price_in,"/",dt.price_out]})]})]},lt)})})})]})}function ModelSelectorModal({defaultOptions:_e,onChange:et,value:tt,icons:nt}){const[rt,it]=reactExports.useState(!1),ot=()=>{it(!1)},st=()=>it(!0);function ut(ft){et(ft),ot()}return rt?jsxRuntimeExports.jsx("span",{style:{float:"right"},children:jsxRuntimeExports.jsxs(Modal$2,{className:"fullwidthmodal",show:rt,onHide:ot,children:[jsxRuntimeExports.jsx(Modal$2.Header,{closeButton:!0,children:jsxRuntimeExports.jsx(Modal$2.Title,{children:"Select Model"})}),jsxRuntimeExports.jsx(Modal$2.Body,{style:{minHeight:"800px"},children:jsxRuntimeExports.jsx(ModelSelector,{onChange:ut,value:tt,defaultOptions:_e})}),jsxRuntimeExports.jsx(Modal$2.Footer,{style:{minHeight:"800px",verticalAlign:"top"}})]})}):jsxRuntimeExports.jsxs(Button,{style:{maxWidth:"30em",float:"left"},size:"sm",variant:"secondary",onClick:st,children:[jsxRuntimeExports.jsx("span",{style:{float:"left"},children:nt.brain}),jsxRuntimeExports.jsxs("span",{children:[" ",tt]})]})}function PreferredModelsConfigForm({availableModels:_e,modelSelector:et,creditBalance:tt,icons:nt,token:rt,aiUsage:it,configIn:ot,setConfig:st,forceRefresh:ut,useLlm:ft}){const[dt,lt]=reactExports.useState({});reactExports.useEffect(function(){lt(ot)},[JSON.stringify(ot)]);function at(pt,mt){let gt=dt||{};gt.llm||(gt.llm={}),gt.llm[pt]=mt,st(gt),ut()}let ct={float:"left",maxWidth:"10em"},ht={border:"1px lightblue",marginBottom:"0.5em"};return jsxRuntimeExports.jsx(Form$1,{onSubmit:function(pt){return pt.preventDefault(),!1},children:jsxRuntimeExports.jsxs("div",{className:"border p-3 mb-3",children:[jsxRuntimeExports.jsx("h3",{children:"Preferred Models"}),jsxRuntimeExports.jsxs(Row,{className:"mb-3",children:[jsxRuntimeExports.jsxs(Form$1.Group,{style:ht,as:Row,controlId:"openaiKey",children:[jsxRuntimeExports.jsx(Form$1.Label,{style:ct,children:"Basic"}),jsxRuntimeExports.jsx(ModelSelectorModal,{icons:nt,defaultOptions:_e,value:dt&&dt.llm&&dt.llm.basic_model&&et.lookupModel(dt.llm.basic_model)?dt.llm.basic_model:et.getModelKey("basic"),onChange:function(pt){at("basic_model",pt)}})]}),jsxRuntimeExports.jsxs(Form$1.Group,{style:ht,as:Row,controlId:"openaiKey",children:[jsxRuntimeExports.jsx(Form$1.Label,{style:ct,children:"Small"}),jsxRuntimeExports.jsx(ModelSelectorModal,{icons:nt,defaultOptions:_e,value:dt&&dt.llm&&dt.llm.small_model&&et.lookupModel(dt.llm.small_model)?dt.llm.small_model:et.getModelKey("small"),onChange:function(pt){at("small_model",pt)}})]}),jsxRuntimeExports.jsxs(Form$1.Group,{style:ht,as:Row,controlId:"openaiKey",children:[jsxRuntimeExports.jsx(Form$1.Label,{style:ct,children:"Medium"}),jsxRuntimeExports.jsx(ModelSelectorModal,{icons:nt,defaultOptions:_e,value:dt&&dt.llm&&dt.llm.medium_model&&et.lookupModel(dt.llm.medium_model)?dt.llm.medium_model:et.getModelKey("medium"),onChange:function(pt){at("medium_model",pt)}})]}),jsxRuntimeExports.jsxs(Form$1.Group,{style:ht,as:Row,controlId:"openaiKey",children:[jsxRuntimeExports.jsx(Form$1.Label,{style:ct,children:"Large"}),jsxRuntimeExports.jsx(ModelSelectorModal,{icons:nt,defaultOptions:_e,value:dt&&dt.llm&&dt.llm.large_model&&et.lookupModel(dt.llm.large_model)?dt.llm.large_model:et.getModelKey("large"),onChange:function(pt){at("large_model",pt)}})]}),jsxRuntimeExports.jsxs(Form$1.Group,{style:ht,as:Row,controlId:"openaiKey",children:[jsxRuntimeExports.jsx(Form$1.Label,{style:ct,children:"Advanced"}),jsxRuntimeExports.jsx(ModelSelectorModal,{icons:nt,defaultOptions:_e,value:dt&&dt.llm&&dt.llm.advanced_model&&et.lookupModel(dt.llm.advanced_model)?dt.llm.advanced_model:et.getModelKey("advanced"),onChange:function(pt){at("advanced_model",pt)}})]}),jsxRuntimeExports.jsx(Form$1.Group,{style:ht,as:Row,controlId:"openaiKey",children:jsxRuntimeExports.jsx("hr",{})}),jsxRuntimeExports.jsxs(Form$1.Group,{style:ht,as:Row,controlId:"openaiKey",children:[jsxRuntimeExports.jsx(Form$1.Label,{style:ct,children:"Instruct"}),jsxRuntimeExports.jsx(ModelSelectorModal,{icons:nt,defaultOptions:_e,value:dt&&dt.llm&&dt.llm.instruct_model&&et.lookupModel(dt.llm.instruct_model)?dt.llm.instruct_model:et.getModelKey("instruct"),onChange:function(pt){at("instruct_model",pt)}})]}),jsxRuntimeExports.jsxs(Form$1.Group,{style:ht,as:Row,controlId:"openaiKey",children:[jsxRuntimeExports.jsx(Form$1.Label,{style:ct,children:"Code"}),jsxRuntimeExports.jsx(ModelSelectorModal,{icons:nt,defaultOptions:_e,value:dt&&dt.llm&&dt.llm.code_model&&et.lookupModel(dt.llm.code_model)?dt.llm.code_model:et.getModelKey("code"),onChange:function(pt){at("code_model",pt)}})]})]})]})})}function EmbeddingsConfigForm({configIn:_e,setConfig:et,forceRefresh:tt}){const[nt,rt]=reactExports.useState({});reactExports.useEffect(function(){rt(_e)},[JSON.stringify(_e)]);const it=st=>(st.preventDefault(),!1);function ot(st,ut){let ft=nt||{};ft||(ft={}),ft.embeddings||(ft.embeddings={}),ft.embeddings[st]=ut,et(ft),tt()}return jsxRuntimeExports.jsx(Form$1,{onSubmit:it,children:jsxRuntimeExports.jsxs("div",{className:"border p-3 mb-3",children:[jsxRuntimeExports.jsx("h5",{children:"Embeddings"}),jsxRuntimeExports.jsxs(Row,{className:"mb-3",children:[jsxRuntimeExports.jsxs(Form$1.Group,{as:Row,controlId:"openaiKey",children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Max Fragment Length (tokens)"}),jsxRuntimeExports.jsx(Form$1.Control,{type:"text",value:nt&&nt.embeddings&&nt.embeddings.max_length?nt.embeddings.max_length:"8191",onChange:st=>{ot("max_length",st.target.value)}})]}),jsxRuntimeExports.jsx("hr",{style:{marginTop:"1em",marginBottom:"1em"}}),jsxRuntimeExports.jsxs(Form$1.Group,{as:Col,controlId:"openaiKey",children:[jsxRuntimeExports.jsx(FormCheck$1,{style:{display:"inline",marginRight:"0.2em"},type:"checkbox",checked:!!(nt&&nt.embeddings&&nt.embeddings.use==="openai"),onChange:st=>{ot("use",nt&&nt.embeddings&&nt.embeddings.use==="openai"?"":"openai")}}),jsxRuntimeExports.jsx(Form$1.Label,{children:"OpenAI API Key"}),jsxRuntimeExports.jsx(Form$1.Control,{type:"text",value:nt&&nt.embeddings&&nt.embeddings.openai_key?nt.embeddings.openai_key:"",onChange:st=>{ot("openai_key",st.target.value),ot("use","openai")}}),jsxRuntimeExports.jsx(Form$1.Label,{children:"OpenAI Embedding Model"}),jsxRuntimeExports.jsxs(Form$1.Select,{value:nt&&nt.embeddings&&nt.embeddings.openai_model?nt.embeddings.openai_model:"",onChange:st=>{ot("openai_model",st.target.value),ot("use","openai")},children:[jsxRuntimeExports.jsx("option",{children:"text-embedding-3-small"}),jsxRuntimeExports.jsx("option",{children:"text-embedding-3-large"}),jsxRuntimeExports.jsx("option",{children:"text-embedding-ada-002"})]})]}),jsxRuntimeExports.jsx("hr",{style:{marginTop:"1em",marginBottom:"1em"}}),jsxRuntimeExports.jsxs(Form$1.Group,{controlId:"sttUrl",style:{marginTop:"0.2em"},children:[jsxRuntimeExports.jsx(FormCheck$1,{style:{display:"inline",marginRight:"0.2em"},type:"checkbox",checked:!!(nt&&nt.embeddings&&nt.embeddings.use==="self_hosted"),onChange:st=>{ot("use",nt&&nt.embeddings&&nt.embeddings.use==="self_hosted"?"":"self_hosted")}}),jsxRuntimeExports.jsx(Form$1.Label,{children:"Self Hosted URL"}),jsxRuntimeExports.jsx(Form$1.Text,{}),jsxRuntimeExports.jsx(Form$1.Control,{type:"text",value:nt&&nt.embeddings&&nt.embeddings.self_hosted_url?nt.embeddings.self_hosted_url:"",onChange:st=>{ot("self_hosted_url",st.target.value),ot("use","self_hosted")}}),jsxRuntimeExports.jsx(Form$1.Label,{children:"Self Hosted Key"}),jsxRuntimeExports.jsx(Form$1.Text,{}),jsxRuntimeExports.jsx(Form$1.Control,{type:"text",value:nt&&nt.embeddings&&nt.embeddings.self_hosted_key?nt.embeddings.self_hosted_key:"",onChange:st=>{ot("self_hosted_key",st.target.value),ot("use","self_hosted")}})]})]})]})})}function SettingsPage({isOnlineRef:_e,allowRestart:et,onCancel:tt,onTranscript:nt,onPartialTranscript:rt,bodyStyle:it,exchangeRate:ot,setExchangeRate:st,updateExchangeRate:ut,modelSelector:ft,creditBalance:dt,updateCreditBalance:lt,teamLlm:at,chatHistoryRoles:ct,setChatHistoryRoles:ht,chatHistoryTeams:pt,setChatHistoryTeams:mt,user:gt,token:yt,login:bt,logout:xt,refresh:vt,doSave:wt,aiUsage:_t,submitForm:Ct,stopAllPlaying:Et,stopLanguageModels:$t,aiLlm:jt,usingOpenAiTts:Dt,usingSelfHostedTts:Pt,usingWebSpeechTts:kt,usingMeSpeakTts:At,usingTts:Tt,usingStt:St,usingOpenAiStt:Rt,usingSelfHostedStt:Ot,usingLocalStt:Nt,queueSpeech:It,getUrl:Bt,playDataUri:zt,stopPlaying:Gt,isPlaying:Kt,setIsPlaying:fn,isMuted:dn,isMutedRef:Wt,mute:rn,unmute:Vt,deleteRole:an,exportRoles:Qt,importRoles:Zt,init:xn,roles:vn,setRoles:gn,currentRole:Cn,setCurrentRole:kn,newRole:En,utteranceQueue:sn,setUtteranceQueue:On,mergeData:Tn,setMergeData:bn,lastLlmTrigger:Dn,autoStartMicrophone:Nn,setAutoStartMicrophone:wn,autoStopMicrophone:qn,setAutoStopMicrophone:or,refreshHash:tr,setRefreshHash:cr,forceRefresh:rr,hasRequiredConfig:Vn,isSpeaking:Jt,setIsSpeaking:pn,isWaiting:$n,startWaiting:jn,stopWaiting:Fn,userMessage:Ln,userMessageRef:Xn,setUserMessage:ar,isReady:Qn,setIsReady:Yt,config:hn,setConfig:mn,llmEnabled:yn,setLlmEnabled:qt,icons:Sn,configRef:Bn,utils:Zn,newChat:Hn,addUserMessage:sr,addAssistantMessage:nr,setLastAssistantMessage:dr,setLastUserMessage:zn,getLastUserMessage:mr,chatHistoryId:$r,chatHistoryIdRef:lr,setChatHistoryId:wr,chatHistories:gr,setChatHistories:Kn,currentChatHistory:jr,revertChatHistory:Pr,deleteChatHistory:Lr,playSpeech:Un,duplicateChatHistory:en,configIn:Mn,chatHistoriesRef:Wn,getLastAssistantChatIndex:pr,getLastAssistantMessage:Sr,categories:kr,setCategories:_r,teams:vr,setTeams:ur,currentTeam:Er,setCurrentTeam:Cr,currentTeamRef:Dr,deleteTeam:zr,configManager:Hr,runtimes:Or,duplicateRole:Vr,accordionSelectedKey:Nr,setAccordionSelectedKey:Lt,categoryFilter:Xt,setCategoryFilter:Ht,fileManager:on,files:ln,exportDocument:tn,availableModels:An}){const{openAiBillable:Rn,useLlm:_n}=Zn.summariseConfig(hn);return jsxRuntimeExports.jsxs("div",{className:"App",style:{textAlign:"left"},id:tr,children:[jsxRuntimeExports.jsx(Menu,{isOnlineRef:_e,bodyStyle:it,creditBalance:dt,refreshHash:tr,token:yt,logout:xt,user:gt,login:bt,utils:Zn,usingStt:St,usingTts:Tt,isSpeaking:Jt,isMuted:dn,mute:rn,stopAllPlaying:Et,icons:Sn,unmute:Vt,stopPlaying:Gt,lastLlmTrigger:Dn,config:hn,aiUsage:_t,forceRefresh:rr,autoStartMicrophone:Nn,setAutoStartMicrophone:wn,isPlaying:Kt,allowRestart:et,isWaiting:$n,startWaiting:jn,stopWaiting:Fn,onCancel:tt,isReady:Qn,setIsReady:Yt,onTranscript:nt,onPartialTranscript:rt,setUserMessage:ar}),jsxRuntimeExports.jsx("div",{id:"body",style:it,children:jsxRuntimeExports.jsxs(Tabs,{defaultActiveKey:"llm",id:"configtabs",className:"mb-3",children:[jsxRuntimeExports.jsx(Tab$1,{eventKey:"llm",title:"Provider Keys",children:jsxRuntimeExports.jsx(LLMConfigForm,{user:gt,login:bt,creditBalance:dt,icons:Sn,aiUsage:_t,configIn:hn,setConfig:mn,forceRefresh:rr,useLlm:_n})}),jsxRuntimeExports.jsx(Tab$1,{eventKey:"models",title:"Preferred Models",children:jsxRuntimeExports.jsx(PreferredModelsConfigForm,{availableModels:An,creditBalance:dt,modelSelector:ft,token:yt,aiUsage:_t,configIn:hn,setConfig:mn,forceRefresh:rr,icons:Sn})}),jsxRuntimeExports.jsx(Tab$1,{eventKey:"tools",title:"Tools",children:jsxRuntimeExports.jsx(ToolsConfigForm,{configIn:hn,setConfig:mn,forceRefresh:rr})}),jsxRuntimeExports.jsx(Tab$1,{eventKey:"embeddings",title:"Embeddings",children:jsxRuntimeExports.jsx(EmbeddingsConfigForm,{configIn:hn,setConfig:mn,forceRefresh:rr})}),jsxRuntimeExports.jsx(Tab$1,{eventKey:"stt",title:"Speech To Text",children:jsxRuntimeExports.jsx(STTConfigForm,{configIn:hn,setConfig:mn,forceRefresh:rr})}),jsxRuntimeExports.jsx(Tab$1,{eventKey:"tts",title:"Text To Speech",children:jsxRuntimeExports.jsx(TTSConfigForm,{configIn:hn,setConfig:mn,forceRefresh:rr})})]})}),jsxRuntimeExports.jsx(Footer,{icons:Sn})]})}function SelectSampleModal(_e){const{setUserMessage:et,samples:tt}=_e,[nt,rt]=reactExports.useState(!1),it=useIcons(),ot=()=>{rt(!1)},st=()=>rt(!0);return reactExports.useRef(),tt&&tt.length>0?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Button,{onClick:st,variant:"outline-primary",children:it.palette}),jsxRuntimeExports.jsxs(Modal$2,{show:nt,onHide:ot,children:[jsxRuntimeExports.jsx(Modal$2.Header,{closeButton:!0,children:jsxRuntimeExports.jsx(Modal$2.Title,{style:{marginRight:"2em"},children:"Select a Sample"})}),jsxRuntimeExports.jsx(Modal$2.Body,{style:{minHeight:"50em"},children:jsxRuntimeExports.jsx(ListGroup$1,{style:{clear:"both"},children:tt.map(function(ut,ft){return jsxRuntimeExports.jsx(ListGroup$1.Item,{onClick:function(){et(ut),ot()},children:ut},ft)})})})]})]}):null}function dedent(_e){for(var et=[],tt=1;tt<arguments.length;tt++)et[tt-1]=arguments[tt];var nt=Array.from(typeof _e=="string"?[_e]:_e);nt[nt.length-1]=nt[nt.length-1].replace(/\r?\n([\t ]*)$/,"");var rt=nt.reduce(function(st,ut){var ft=ut.match(/\n([\t ]+|(?!\s).)/g);return ft?st.concat(ft.map(function(dt){var lt,at;return(at=(lt=dt.match(/[\t ]/g))===null||lt===void 0?void 0:lt.length)!==null&&at!==void 0?at:0})):st},[]);if(rt.length){var it=new RegExp(`
[	 ]{`+Math.min.apply(Math,rt)+"}","g");nt=nt.map(function(st){return st.replace(it,`
`)})}nt[0]=nt[0].replace(/^\r?\n/,"");var ot=nt[0];return et.forEach(function(st,ut){var ft=ot.match(/(?:^|\n)( *)$/),dt=ft?ft[1]:"",lt=st;typeof st=="string"&&st.includes(`
`)&&(lt=String(st).split(`
`).map(function(at,ct){return ct===0?at:""+dt+at}).join(`
`)),ot+=lt+nt[ut+1]}),ot}const scriptRel="modulepreload",assetsURL=function(_e){return"/"+_e},seen={},__vitePreload=function _e(et,tt,nt){let rt=Promise.resolve();if(tt&&tt.length>0){document.getElementsByTagName("link");const it=document.querySelector("meta[property=csp-nonce]"),ot=(it==null?void 0:it.nonce)||(it==null?void 0:it.getAttribute("nonce"));rt=Promise.all(tt.map(st=>{if(st=assetsURL(st),st in seen)return;seen[st]=!0;const ut=st.endsWith(".css"),ft=ut?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${st}"]${ft}`))return;const dt=document.createElement("link");if(dt.rel=ut?"stylesheet":scriptRel,ut||(dt.as="script",dt.crossOrigin=""),dt.href=st,ot&&dt.setAttribute("nonce",ot),document.head.appendChild(dt),ut)return new Promise((lt,at)=>{dt.addEventListener("load",lt),dt.addEventListener("error",()=>at(new Error(`Unable to preload CSS for ${st}`)))})}))}return rt.then(()=>et()).catch(it=>{const ot=new Event("vite:preloadError",{cancelable:!0});if(ot.payload=it,window.dispatchEvent(ot),!ot.defaultPrevented)throw it})};var dayjs_min={exports:{}};(function(_e,et){(function(tt,nt){_e.exports=nt()})(commonjsGlobal,function(){var tt=1e3,nt=6e4,rt=36e5,it="millisecond",ot="second",st="minute",ut="hour",ft="day",dt="week",lt="month",at="quarter",ct="year",ht="date",pt="Invalid Date",mt=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,gt=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,yt={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(kt){var At=["th","st","nd","rd"],Tt=kt%100;return"["+kt+(At[(Tt-20)%10]||At[Tt]||At[0])+"]"}},bt=function(kt,At,Tt){var St=String(kt);return!St||St.length>=At?kt:""+Array(At+1-St.length).join(Tt)+kt},xt={s:bt,z:function(kt){var At=-kt.utcOffset(),Tt=Math.abs(At),St=Math.floor(Tt/60),Rt=Tt%60;return(At<=0?"+":"-")+bt(St,2,"0")+":"+bt(Rt,2,"0")},m:function kt(At,Tt){if(At.date()<Tt.date())return-kt(Tt,At);var St=12*(Tt.year()-At.year())+(Tt.month()-At.month()),Rt=At.clone().add(St,lt),Ot=Tt-Rt<0,Nt=At.clone().add(St+(Ot?-1:1),lt);return+(-(St+(Tt-Rt)/(Ot?Rt-Nt:Nt-Rt))||0)},a:function(kt){return kt<0?Math.ceil(kt)||0:Math.floor(kt)},p:function(kt){return{M:lt,y:ct,w:dt,d:ft,D:ht,h:ut,m:st,s:ot,ms:it,Q:at}[kt]||String(kt||"").toLowerCase().replace(/s$/,"")},u:function(kt){return kt===void 0}},vt="en",wt={};wt[vt]=yt;var _t="$isDayjsObject",Ct=function(kt){return kt instanceof Dt||!(!kt||!kt[_t])},Et=function kt(At,Tt,St){var Rt;if(!At)return vt;if(typeof At=="string"){var Ot=At.toLowerCase();wt[Ot]&&(Rt=Ot),Tt&&(wt[Ot]=Tt,Rt=Ot);var Nt=At.split("-");if(!Rt&&Nt.length>1)return kt(Nt[0])}else{var It=At.name;wt[It]=At,Rt=It}return!St&&Rt&&(vt=Rt),Rt||!St&&vt},$t=function(kt,At){if(Ct(kt))return kt.clone();var Tt=typeof At=="object"?At:{};return Tt.date=kt,Tt.args=arguments,new Dt(Tt)},jt=xt;jt.l=Et,jt.i=Ct,jt.w=function(kt,At){return $t(kt,{locale:At.$L,utc:At.$u,x:At.$x,$offset:At.$offset})};var Dt=function(){function kt(Tt){this.$L=Et(Tt.locale,null,!0),this.parse(Tt),this.$x=this.$x||Tt.x||{},this[_t]=!0}var At=kt.prototype;return At.parse=function(Tt){this.$d=function(St){var Rt=St.date,Ot=St.utc;if(Rt===null)return new Date(NaN);if(jt.u(Rt))return new Date;if(Rt instanceof Date)return new Date(Rt);if(typeof Rt=="string"&&!/Z$/i.test(Rt)){var Nt=Rt.match(mt);if(Nt){var It=Nt[2]-1||0,Bt=(Nt[7]||"0").substring(0,3);return Ot?new Date(Date.UTC(Nt[1],It,Nt[3]||1,Nt[4]||0,Nt[5]||0,Nt[6]||0,Bt)):new Date(Nt[1],It,Nt[3]||1,Nt[4]||0,Nt[5]||0,Nt[6]||0,Bt)}}return new Date(Rt)}(Tt),this.init()},At.init=function(){var Tt=this.$d;this.$y=Tt.getFullYear(),this.$M=Tt.getMonth(),this.$D=Tt.getDate(),this.$W=Tt.getDay(),this.$H=Tt.getHours(),this.$m=Tt.getMinutes(),this.$s=Tt.getSeconds(),this.$ms=Tt.getMilliseconds()},At.$utils=function(){return jt},At.isValid=function(){return this.$d.toString()!==pt},At.isSame=function(Tt,St){var Rt=$t(Tt);return this.startOf(St)<=Rt&&Rt<=this.endOf(St)},At.isAfter=function(Tt,St){return $t(Tt)<this.startOf(St)},At.isBefore=function(Tt,St){return this.endOf(St)<$t(Tt)},At.$g=function(Tt,St,Rt){return jt.u(Tt)?this[St]:this.set(Rt,Tt)},At.unix=function(){return Math.floor(this.valueOf()/1e3)},At.valueOf=function(){return this.$d.getTime()},At.startOf=function(Tt,St){var Rt=this,Ot=!!jt.u(St)||St,Nt=jt.p(Tt),It=function(rn,Vt){var an=jt.w(Rt.$u?Date.UTC(Rt.$y,Vt,rn):new Date(Rt.$y,Vt,rn),Rt);return Ot?an:an.endOf(ft)},Bt=function(rn,Vt){return jt.w(Rt.toDate()[rn].apply(Rt.toDate("s"),(Ot?[0,0,0,0]:[23,59,59,999]).slice(Vt)),Rt)},zt=this.$W,Gt=this.$M,Kt=this.$D,fn="set"+(this.$u?"UTC":"");switch(Nt){case ct:return Ot?It(1,0):It(31,11);case lt:return Ot?It(1,Gt):It(0,Gt+1);case dt:var dn=this.$locale().weekStart||0,Wt=(zt<dn?zt+7:zt)-dn;return It(Ot?Kt-Wt:Kt+(6-Wt),Gt);case ft:case ht:return Bt(fn+"Hours",0);case ut:return Bt(fn+"Minutes",1);case st:return Bt(fn+"Seconds",2);case ot:return Bt(fn+"Milliseconds",3);default:return this.clone()}},At.endOf=function(Tt){return this.startOf(Tt,!1)},At.$set=function(Tt,St){var Rt,Ot=jt.p(Tt),Nt="set"+(this.$u?"UTC":""),It=(Rt={},Rt[ft]=Nt+"Date",Rt[ht]=Nt+"Date",Rt[lt]=Nt+"Month",Rt[ct]=Nt+"FullYear",Rt[ut]=Nt+"Hours",Rt[st]=Nt+"Minutes",Rt[ot]=Nt+"Seconds",Rt[it]=Nt+"Milliseconds",Rt)[Ot],Bt=Ot===ft?this.$D+(St-this.$W):St;if(Ot===lt||Ot===ct){var zt=this.clone().set(ht,1);zt.$d[It](Bt),zt.init(),this.$d=zt.set(ht,Math.min(this.$D,zt.daysInMonth())).$d}else It&&this.$d[It](Bt);return this.init(),this},At.set=function(Tt,St){return this.clone().$set(Tt,St)},At.get=function(Tt){return this[jt.p(Tt)]()},At.add=function(Tt,St){var Rt,Ot=this;Tt=Number(Tt);var Nt=jt.p(St),It=function(Gt){var Kt=$t(Ot);return jt.w(Kt.date(Kt.date()+Math.round(Gt*Tt)),Ot)};if(Nt===lt)return this.set(lt,this.$M+Tt);if(Nt===ct)return this.set(ct,this.$y+Tt);if(Nt===ft)return It(1);if(Nt===dt)return It(7);var Bt=(Rt={},Rt[st]=nt,Rt[ut]=rt,Rt[ot]=tt,Rt)[Nt]||1,zt=this.$d.getTime()+Tt*Bt;return jt.w(zt,this)},At.subtract=function(Tt,St){return this.add(-1*Tt,St)},At.format=function(Tt){var St=this,Rt=this.$locale();if(!this.isValid())return Rt.invalidDate||pt;var Ot=Tt||"YYYY-MM-DDTHH:mm:ssZ",Nt=jt.z(this),It=this.$H,Bt=this.$m,zt=this.$M,Gt=Rt.weekdays,Kt=Rt.months,fn=Rt.meridiem,dn=function(Vt,an,Qt,Zt){return Vt&&(Vt[an]||Vt(St,Ot))||Qt[an].slice(0,Zt)},Wt=function(Vt){return jt.s(It%12||12,Vt,"0")},rn=fn||function(Vt,an,Qt){var Zt=Vt<12?"AM":"PM";return Qt?Zt.toLowerCase():Zt};return Ot.replace(gt,function(Vt,an){return an||function(Qt){switch(Qt){case"YY":return String(St.$y).slice(-2);case"YYYY":return jt.s(St.$y,4,"0");case"M":return zt+1;case"MM":return jt.s(zt+1,2,"0");case"MMM":return dn(Rt.monthsShort,zt,Kt,3);case"MMMM":return dn(Kt,zt);case"D":return St.$D;case"DD":return jt.s(St.$D,2,"0");case"d":return String(St.$W);case"dd":return dn(Rt.weekdaysMin,St.$W,Gt,2);case"ddd":return dn(Rt.weekdaysShort,St.$W,Gt,3);case"dddd":return Gt[St.$W];case"H":return String(It);case"HH":return jt.s(It,2,"0");case"h":return Wt(1);case"hh":return Wt(2);case"a":return rn(It,Bt,!0);case"A":return rn(It,Bt,!1);case"m":return String(Bt);case"mm":return jt.s(Bt,2,"0");case"s":return String(St.$s);case"ss":return jt.s(St.$s,2,"0");case"SSS":return jt.s(St.$ms,3,"0");case"Z":return Nt}return null}(Vt)||Nt.replace(":","")})},At.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},At.diff=function(Tt,St,Rt){var Ot,Nt=this,It=jt.p(St),Bt=$t(Tt),zt=(Bt.utcOffset()-this.utcOffset())*nt,Gt=this-Bt,Kt=function(){return jt.m(Nt,Bt)};switch(It){case ct:Ot=Kt()/12;break;case lt:Ot=Kt();break;case at:Ot=Kt()/3;break;case dt:Ot=(Gt-zt)/6048e5;break;case ft:Ot=(Gt-zt)/864e5;break;case ut:Ot=Gt/rt;break;case st:Ot=Gt/nt;break;case ot:Ot=Gt/tt;break;default:Ot=Gt}return Rt?Ot:jt.a(Ot)},At.daysInMonth=function(){return this.endOf(lt).$D},At.$locale=function(){return wt[this.$L]},At.locale=function(Tt,St){if(!Tt)return this.$L;var Rt=this.clone(),Ot=Et(Tt,St,!0);return Ot&&(Rt.$L=Ot),Rt},At.clone=function(){return jt.w(this.$d,this)},At.toDate=function(){return new Date(this.valueOf())},At.toJSON=function(){return this.isValid()?this.toISOString():null},At.toISOString=function(){return this.$d.toISOString()},At.toString=function(){return this.$d.toUTCString()},kt}(),Pt=Dt.prototype;return $t.prototype=Pt,[["$ms",it],["$s",ot],["$m",st],["$H",ut],["$W",ft],["$M",lt],["$y",ct],["$D",ht]].forEach(function(kt){Pt[kt[1]]=function(At){return this.$g(At,kt[0],kt[1])}}),$t.extend=function(kt,At){return kt.$i||(kt(At,Dt,$t),kt.$i=!0),$t},$t.locale=Et,$t.isDayjs=Ct,$t.unix=function(kt){return $t(1e3*kt)},$t.en=wt[vt],$t.Ls=wt,$t.p={},$t})})(dayjs_min);var dayjs_minExports=dayjs_min.exports;const dayjs=getDefaultExportFromCjs(dayjs_minExports);var dist$1={};(function(_e){Object.defineProperty(_e,"__esModule",{value:!0}),_e.sanitizeUrl=_e.BLANK_URL=void 0;var et=/^([^\w]*)(javascript|data|vbscript)/im,tt=/&#(\w+)(^\w|;)?/g,nt=/&(newline|tab);/gi,rt=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,it=/^.+(:|&colon;)/gim,ot=[".","/"];_e.BLANK_URL="about:blank";function st(dt){return ot.indexOf(dt[0])>-1}function ut(dt){var lt=dt.replace(rt,"");return lt.replace(tt,function(at,ct){return String.fromCharCode(ct)})}function ft(dt){if(!dt)return _e.BLANK_URL;var lt=ut(dt).replace(nt,"").replace(rt,"").trim();if(!lt)return _e.BLANK_URL;if(st(lt))return lt;var at=lt.match(it);if(!at)return lt;var ct=at[0];return et.test(ct)?_e.BLANK_URL:lt}_e.sanitizeUrl=ft})(dist$1);var noop$1={value:()=>{}};function dispatch(){for(var _e=0,et=arguments.length,tt={},nt;_e<et;++_e){if(!(nt=arguments[_e]+"")||nt in tt||/[\s.]/.test(nt))throw new Error("illegal type: "+nt);tt[nt]=[]}return new Dispatch(tt)}function Dispatch(_e){this._=_e}function parseTypenames$1(_e,et){return _e.trim().split(/^|\s+/).map(function(tt){var nt="",rt=tt.indexOf(".");if(rt>=0&&(nt=tt.slice(rt+1),tt=tt.slice(0,rt)),tt&&!et.hasOwnProperty(tt))throw new Error("unknown type: "+tt);return{type:tt,name:nt}})}Dispatch.prototype=dispatch.prototype={constructor:Dispatch,on:function(_e,et){var tt=this._,nt=parseTypenames$1(_e+"",tt),rt,it=-1,ot=nt.length;if(arguments.length<2){for(;++it<ot;)if((rt=(_e=nt[it]).type)&&(rt=get$1(tt[rt],_e.name)))return rt;return}if(et!=null&&typeof et!="function")throw new Error("invalid callback: "+et);for(;++it<ot;)if(rt=(_e=nt[it]).type)tt[rt]=set$3(tt[rt],_e.name,et);else if(et==null)for(rt in tt)tt[rt]=set$3(tt[rt],_e.name,null);return this},copy:function(){var _e={},et=this._;for(var tt in et)_e[tt]=et[tt].slice();return new Dispatch(_e)},call:function(_e,et){if((rt=arguments.length-2)>0)for(var tt=new Array(rt),nt=0,rt,it;nt<rt;++nt)tt[nt]=arguments[nt+2];if(!this._.hasOwnProperty(_e))throw new Error("unknown type: "+_e);for(it=this._[_e],nt=0,rt=it.length;nt<rt;++nt)it[nt].value.apply(et,tt)},apply:function(_e,et,tt){if(!this._.hasOwnProperty(_e))throw new Error("unknown type: "+_e);for(var nt=this._[_e],rt=0,it=nt.length;rt<it;++rt)nt[rt].value.apply(et,tt)}};function get$1(_e,et){for(var tt=0,nt=_e.length,rt;tt<nt;++tt)if((rt=_e[tt]).name===et)return rt.value}function set$3(_e,et,tt){for(var nt=0,rt=_e.length;nt<rt;++nt)if(_e[nt].name===et){_e[nt]=noop$1,_e=_e.slice(0,nt).concat(_e.slice(nt+1));break}return tt!=null&&_e.push({name:et,value:tt}),_e}var xhtml="http://www.w3.org/1999/xhtml";const namespaces={svg:"http://www.w3.org/2000/svg",xhtml,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function namespace(_e){var et=_e+="",tt=et.indexOf(":");return tt>=0&&(et=_e.slice(0,tt))!=="xmlns"&&(_e=_e.slice(tt+1)),namespaces.hasOwnProperty(et)?{space:namespaces[et],local:_e}:_e}function creatorInherit(_e){return function(){var et=this.ownerDocument,tt=this.namespaceURI;return tt===xhtml&&et.documentElement.namespaceURI===xhtml?et.createElement(_e):et.createElementNS(tt,_e)}}function creatorFixed(_e){return function(){return this.ownerDocument.createElementNS(_e.space,_e.local)}}function creator(_e){var et=namespace(_e);return(et.local?creatorFixed:creatorInherit)(et)}function none(){}function selector(_e){return _e==null?none:function(){return this.querySelector(_e)}}function selection_select(_e){typeof _e!="function"&&(_e=selector(_e));for(var et=this._groups,tt=et.length,nt=new Array(tt),rt=0;rt<tt;++rt)for(var it=et[rt],ot=it.length,st=nt[rt]=new Array(ot),ut,ft,dt=0;dt<ot;++dt)(ut=it[dt])&&(ft=_e.call(ut,ut.__data__,dt,it))&&("__data__"in ut&&(ft.__data__=ut.__data__),st[dt]=ft);return new Selection$1(nt,this._parents)}function array(_e){return _e==null?[]:Array.isArray(_e)?_e:Array.from(_e)}function empty(){return[]}function selectorAll(_e){return _e==null?empty:function(){return this.querySelectorAll(_e)}}function arrayAll(_e){return function(){return array(_e.apply(this,arguments))}}function selection_selectAll(_e){typeof _e=="function"?_e=arrayAll(_e):_e=selectorAll(_e);for(var et=this._groups,tt=et.length,nt=[],rt=[],it=0;it<tt;++it)for(var ot=et[it],st=ot.length,ut,ft=0;ft<st;++ft)(ut=ot[ft])&&(nt.push(_e.call(ut,ut.__data__,ft,ot)),rt.push(ut));return new Selection$1(nt,rt)}function matcher(_e){return function(){return this.matches(_e)}}function childMatcher(_e){return function(et){return et.matches(_e)}}var find=Array.prototype.find;function childFind(_e){return function(){return find.call(this.children,_e)}}function childFirst(){return this.firstElementChild}function selection_selectChild(_e){return this.select(_e==null?childFirst:childFind(typeof _e=="function"?_e:childMatcher(_e)))}var filter=Array.prototype.filter;function children(){return Array.from(this.children)}function childrenFilter(_e){return function(){return filter.call(this.children,_e)}}function selection_selectChildren(_e){return this.selectAll(_e==null?children:childrenFilter(typeof _e=="function"?_e:childMatcher(_e)))}function selection_filter(_e){typeof _e!="function"&&(_e=matcher(_e));for(var et=this._groups,tt=et.length,nt=new Array(tt),rt=0;rt<tt;++rt)for(var it=et[rt],ot=it.length,st=nt[rt]=[],ut,ft=0;ft<ot;++ft)(ut=it[ft])&&_e.call(ut,ut.__data__,ft,it)&&st.push(ut);return new Selection$1(nt,this._parents)}function sparse(_e){return new Array(_e.length)}function selection_enter(){return new Selection$1(this._enter||this._groups.map(sparse),this._parents)}function EnterNode(_e,et){this.ownerDocument=_e.ownerDocument,this.namespaceURI=_e.namespaceURI,this._next=null,this._parent=_e,this.__data__=et}EnterNode.prototype={constructor:EnterNode,appendChild:function(_e){return this._parent.insertBefore(_e,this._next)},insertBefore:function(_e,et){return this._parent.insertBefore(_e,et)},querySelector:function(_e){return this._parent.querySelector(_e)},querySelectorAll:function(_e){return this._parent.querySelectorAll(_e)}};function constant$2(_e){return function(){return _e}}function bindIndex(_e,et,tt,nt,rt,it){for(var ot=0,st,ut=et.length,ft=it.length;ot<ft;++ot)(st=et[ot])?(st.__data__=it[ot],nt[ot]=st):tt[ot]=new EnterNode(_e,it[ot]);for(;ot<ut;++ot)(st=et[ot])&&(rt[ot]=st)}function bindKey(_e,et,tt,nt,rt,it,ot){var st,ut,ft=new Map,dt=et.length,lt=it.length,at=new Array(dt),ct;for(st=0;st<dt;++st)(ut=et[st])&&(at[st]=ct=ot.call(ut,ut.__data__,st,et)+"",ft.has(ct)?rt[st]=ut:ft.set(ct,ut));for(st=0;st<lt;++st)ct=ot.call(_e,it[st],st,it)+"",(ut=ft.get(ct))?(nt[st]=ut,ut.__data__=it[st],ft.delete(ct)):tt[st]=new EnterNode(_e,it[st]);for(st=0;st<dt;++st)(ut=et[st])&&ft.get(at[st])===ut&&(rt[st]=ut)}function datum(_e){return _e.__data__}function selection_data(_e,et){if(!arguments.length)return Array.from(this,datum);var tt=et?bindKey:bindIndex,nt=this._parents,rt=this._groups;typeof _e!="function"&&(_e=constant$2(_e));for(var it=rt.length,ot=new Array(it),st=new Array(it),ut=new Array(it),ft=0;ft<it;++ft){var dt=nt[ft],lt=rt[ft],at=lt.length,ct=arraylike(_e.call(dt,dt&&dt.__data__,ft,nt)),ht=ct.length,pt=st[ft]=new Array(ht),mt=ot[ft]=new Array(ht),gt=ut[ft]=new Array(at);tt(dt,lt,pt,mt,gt,ct,et);for(var yt=0,bt=0,xt,vt;yt<ht;++yt)if(xt=pt[yt]){for(yt>=bt&&(bt=yt+1);!(vt=mt[bt])&&++bt<ht;);xt._next=vt||null}}return ot=new Selection$1(ot,nt),ot._enter=st,ot._exit=ut,ot}function arraylike(_e){return typeof _e=="object"&&"length"in _e?_e:Array.from(_e)}function selection_exit(){return new Selection$1(this._exit||this._groups.map(sparse),this._parents)}function selection_join(_e,et,tt){var nt=this.enter(),rt=this,it=this.exit();return typeof _e=="function"?(nt=_e(nt),nt&&(nt=nt.selection())):nt=nt.append(_e+""),et!=null&&(rt=et(rt),rt&&(rt=rt.selection())),tt==null?it.remove():tt(it),nt&&rt?nt.merge(rt).order():rt}function selection_merge(_e){for(var et=_e.selection?_e.selection():_e,tt=this._groups,nt=et._groups,rt=tt.length,it=nt.length,ot=Math.min(rt,it),st=new Array(rt),ut=0;ut<ot;++ut)for(var ft=tt[ut],dt=nt[ut],lt=ft.length,at=st[ut]=new Array(lt),ct,ht=0;ht<lt;++ht)(ct=ft[ht]||dt[ht])&&(at[ht]=ct);for(;ut<rt;++ut)st[ut]=tt[ut];return new Selection$1(st,this._parents)}function selection_order(){for(var _e=this._groups,et=-1,tt=_e.length;++et<tt;)for(var nt=_e[et],rt=nt.length-1,it=nt[rt],ot;--rt>=0;)(ot=nt[rt])&&(it&&ot.compareDocumentPosition(it)^4&&it.parentNode.insertBefore(ot,it),it=ot);return this}function selection_sort(_e){_e||(_e=ascending);function et(lt,at){return lt&&at?_e(lt.__data__,at.__data__):!lt-!at}for(var tt=this._groups,nt=tt.length,rt=new Array(nt),it=0;it<nt;++it){for(var ot=tt[it],st=ot.length,ut=rt[it]=new Array(st),ft,dt=0;dt<st;++dt)(ft=ot[dt])&&(ut[dt]=ft);ut.sort(et)}return new Selection$1(rt,this._parents).order()}function ascending(_e,et){return _e<et?-1:_e>et?1:_e>=et?0:NaN}function selection_call(){var _e=arguments[0];return arguments[0]=this,_e.apply(null,arguments),this}function selection_nodes(){return Array.from(this)}function selection_node(){for(var _e=this._groups,et=0,tt=_e.length;et<tt;++et)for(var nt=_e[et],rt=0,it=nt.length;rt<it;++rt){var ot=nt[rt];if(ot)return ot}return null}function selection_size(){let _e=0;for(const et of this)++_e;return _e}function selection_empty(){return!this.node()}function selection_each(_e){for(var et=this._groups,tt=0,nt=et.length;tt<nt;++tt)for(var rt=et[tt],it=0,ot=rt.length,st;it<ot;++it)(st=rt[it])&&_e.call(st,st.__data__,it,rt);return this}function attrRemove$1(_e){return function(){this.removeAttribute(_e)}}function attrRemoveNS$1(_e){return function(){this.removeAttributeNS(_e.space,_e.local)}}function attrConstant$1(_e,et){return function(){this.setAttribute(_e,et)}}function attrConstantNS$1(_e,et){return function(){this.setAttributeNS(_e.space,_e.local,et)}}function attrFunction$1(_e,et){return function(){var tt=et.apply(this,arguments);tt==null?this.removeAttribute(_e):this.setAttribute(_e,tt)}}function attrFunctionNS$1(_e,et){return function(){var tt=et.apply(this,arguments);tt==null?this.removeAttributeNS(_e.space,_e.local):this.setAttributeNS(_e.space,_e.local,tt)}}function selection_attr(_e,et){var tt=namespace(_e);if(arguments.length<2){var nt=this.node();return tt.local?nt.getAttributeNS(tt.space,tt.local):nt.getAttribute(tt)}return this.each((et==null?tt.local?attrRemoveNS$1:attrRemove$1:typeof et=="function"?tt.local?attrFunctionNS$1:attrFunction$1:tt.local?attrConstantNS$1:attrConstant$1)(tt,et))}function defaultView(_e){return _e.ownerDocument&&_e.ownerDocument.defaultView||_e.document&&_e||_e.defaultView}function styleRemove$1(_e){return function(){this.style.removeProperty(_e)}}function styleConstant$1(_e,et,tt){return function(){this.style.setProperty(_e,et,tt)}}function styleFunction$1(_e,et,tt){return function(){var nt=et.apply(this,arguments);nt==null?this.style.removeProperty(_e):this.style.setProperty(_e,nt,tt)}}function selection_style(_e,et,tt){return arguments.length>1?this.each((et==null?styleRemove$1:typeof et=="function"?styleFunction$1:styleConstant$1)(_e,et,tt??"")):styleValue(this.node(),_e)}function styleValue(_e,et){return _e.style.getPropertyValue(et)||defaultView(_e).getComputedStyle(_e,null).getPropertyValue(et)}function propertyRemove(_e){return function(){delete this[_e]}}function propertyConstant(_e,et){return function(){this[_e]=et}}function propertyFunction(_e,et){return function(){var tt=et.apply(this,arguments);tt==null?delete this[_e]:this[_e]=tt}}function selection_property(_e,et){return arguments.length>1?this.each((et==null?propertyRemove:typeof et=="function"?propertyFunction:propertyConstant)(_e,et)):this.node()[_e]}function classArray(_e){return _e.trim().split(/^|\s+/)}function classList(_e){return _e.classList||new ClassList(_e)}function ClassList(_e){this._node=_e,this._names=classArray(_e.getAttribute("class")||"")}ClassList.prototype={add:function(_e){var et=this._names.indexOf(_e);et<0&&(this._names.push(_e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(_e){var et=this._names.indexOf(_e);et>=0&&(this._names.splice(et,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(_e){return this._names.indexOf(_e)>=0}};function classedAdd(_e,et){for(var tt=classList(_e),nt=-1,rt=et.length;++nt<rt;)tt.add(et[nt])}function classedRemove(_e,et){for(var tt=classList(_e),nt=-1,rt=et.length;++nt<rt;)tt.remove(et[nt])}function classedTrue(_e){return function(){classedAdd(this,_e)}}function classedFalse(_e){return function(){classedRemove(this,_e)}}function classedFunction(_e,et){return function(){(et.apply(this,arguments)?classedAdd:classedRemove)(this,_e)}}function selection_classed(_e,et){var tt=classArray(_e+"");if(arguments.length<2){for(var nt=classList(this.node()),rt=-1,it=tt.length;++rt<it;)if(!nt.contains(tt[rt]))return!1;return!0}return this.each((typeof et=="function"?classedFunction:et?classedTrue:classedFalse)(tt,et))}function textRemove(){this.textContent=""}function textConstant$1(_e){return function(){this.textContent=_e}}function textFunction$1(_e){return function(){var et=_e.apply(this,arguments);this.textContent=et??""}}function selection_text(_e){return arguments.length?this.each(_e==null?textRemove:(typeof _e=="function"?textFunction$1:textConstant$1)(_e)):this.node().textContent}function htmlRemove(){this.innerHTML=""}function htmlConstant(_e){return function(){this.innerHTML=_e}}function htmlFunction(_e){return function(){var et=_e.apply(this,arguments);this.innerHTML=et??""}}function selection_html(_e){return arguments.length?this.each(_e==null?htmlRemove:(typeof _e=="function"?htmlFunction:htmlConstant)(_e)):this.node().innerHTML}function raise(){this.nextSibling&&this.parentNode.appendChild(this)}function selection_raise(){return this.each(raise)}function lower(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function selection_lower(){return this.each(lower)}function selection_append(_e){var et=typeof _e=="function"?_e:creator(_e);return this.select(function(){return this.appendChild(et.apply(this,arguments))})}function constantNull(){return null}function selection_insert(_e,et){var tt=typeof _e=="function"?_e:creator(_e),nt=et==null?constantNull:typeof et=="function"?et:selector(et);return this.select(function(){return this.insertBefore(tt.apply(this,arguments),nt.apply(this,arguments)||null)})}function remove(){var _e=this.parentNode;_e&&_e.removeChild(this)}function selection_remove(){return this.each(remove)}function selection_cloneShallow(){var _e=this.cloneNode(!1),et=this.parentNode;return et?et.insertBefore(_e,this.nextSibling):_e}function selection_cloneDeep(){var _e=this.cloneNode(!0),et=this.parentNode;return et?et.insertBefore(_e,this.nextSibling):_e}function selection_clone(_e){return this.select(_e?selection_cloneDeep:selection_cloneShallow)}function selection_datum(_e){return arguments.length?this.property("__data__",_e):this.node().__data__}function contextListener(_e){return function(et){_e.call(this,et,this.__data__)}}function parseTypenames(_e){return _e.trim().split(/^|\s+/).map(function(et){var tt="",nt=et.indexOf(".");return nt>=0&&(tt=et.slice(nt+1),et=et.slice(0,nt)),{type:et,name:tt}})}function onRemove(_e){return function(){var et=this.__on;if(et){for(var tt=0,nt=-1,rt=et.length,it;tt<rt;++tt)it=et[tt],(!_e.type||it.type===_e.type)&&it.name===_e.name?this.removeEventListener(it.type,it.listener,it.options):et[++nt]=it;++nt?et.length=nt:delete this.__on}}}function onAdd(_e,et,tt){return function(){var nt=this.__on,rt,it=contextListener(et);if(nt){for(var ot=0,st=nt.length;ot<st;++ot)if((rt=nt[ot]).type===_e.type&&rt.name===_e.name){this.removeEventListener(rt.type,rt.listener,rt.options),this.addEventListener(rt.type,rt.listener=it,rt.options=tt),rt.value=et;return}}this.addEventListener(_e.type,it,tt),rt={type:_e.type,name:_e.name,value:et,listener:it,options:tt},nt?nt.push(rt):this.__on=[rt]}}function selection_on(_e,et,tt){var nt=parseTypenames(_e+""),rt,it=nt.length,ot;if(arguments.length<2){var st=this.node().__on;if(st){for(var ut=0,ft=st.length,dt;ut<ft;++ut)for(rt=0,dt=st[ut];rt<it;++rt)if((ot=nt[rt]).type===dt.type&&ot.name===dt.name)return dt.value}return}for(st=et?onAdd:onRemove,rt=0;rt<it;++rt)this.each(st(nt[rt],et,tt));return this}function dispatchEvent(_e,et,tt){var nt=defaultView(_e),rt=nt.CustomEvent;typeof rt=="function"?rt=new rt(et,tt):(rt=nt.document.createEvent("Event"),tt?(rt.initEvent(et,tt.bubbles,tt.cancelable),rt.detail=tt.detail):rt.initEvent(et,!1,!1)),_e.dispatchEvent(rt)}function dispatchConstant(_e,et){return function(){return dispatchEvent(this,_e,et)}}function dispatchFunction(_e,et){return function(){return dispatchEvent(this,_e,et.apply(this,arguments))}}function selection_dispatch(_e,et){return this.each((typeof et=="function"?dispatchFunction:dispatchConstant)(_e,et))}function*selection_iterator(){for(var _e=this._groups,et=0,tt=_e.length;et<tt;++et)for(var nt=_e[et],rt=0,it=nt.length,ot;rt<it;++rt)(ot=nt[rt])&&(yield ot)}var root$1=[null];function Selection$1(_e,et){this._groups=_e,this._parents=et}function selection$1(){return new Selection$1([[document.documentElement]],root$1)}function selection_selection(){return this}Selection$1.prototype=selection$1.prototype={constructor:Selection$1,select:selection_select,selectAll:selection_selectAll,selectChild:selection_selectChild,selectChildren:selection_selectChildren,filter:selection_filter,data:selection_data,enter:selection_enter,exit:selection_exit,join:selection_join,merge:selection_merge,selection:selection_selection,order:selection_order,sort:selection_sort,call:selection_call,nodes:selection_nodes,node:selection_node,size:selection_size,empty:selection_empty,each:selection_each,attr:selection_attr,style:selection_style,property:selection_property,classed:selection_classed,text:selection_text,html:selection_html,raise:selection_raise,lower:selection_lower,append:selection_append,insert:selection_insert,remove:selection_remove,clone:selection_clone,datum:selection_datum,on:selection_on,dispatch:selection_dispatch,[Symbol.iterator]:selection_iterator};function select(_e){return typeof _e=="string"?new Selection$1([[document.querySelector(_e)]],[document.documentElement]):new Selection$1([[_e]],root$1)}function define(_e,et,tt){_e.prototype=et.prototype=tt,tt.constructor=_e}function extend$1(_e,et){var tt=Object.create(_e.prototype);for(var nt in et)tt[nt]=et[nt];return tt}function Color$1(){}var darker=.7,brighter=1/darker,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp(`^rgb\\(${reI},${reI},${reI}\\)$`),reRgbPercent=new RegExp(`^rgb\\(${reP},${reP},${reP}\\)$`),reRgbaInteger=new RegExp(`^rgba\\(${reI},${reI},${reI},${reN}\\)$`),reRgbaPercent=new RegExp(`^rgba\\(${reP},${reP},${reP},${reN}\\)$`),reHslPercent=new RegExp(`^hsl\\(${reN},${reP},${reP}\\)$`),reHslaPercent=new RegExp(`^hsla\\(${reN},${reP},${reP},${reN}\\)$`),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};define(Color$1,color,{copy(_e){return Object.assign(new this.constructor,this,_e)},displayable(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHex8:color_formatHex8,formatHsl:color_formatHsl,formatRgb:color_formatRgb,toString:color_formatRgb});function color_formatHex(){return this.rgb().formatHex()}function color_formatHex8(){return this.rgb().formatHex8()}function color_formatHsl(){return hslConvert(this).formatHsl()}function color_formatRgb(){return this.rgb().formatRgb()}function color(_e){var et,tt;return _e=(_e+"").trim().toLowerCase(),(et=reHex.exec(_e))?(tt=et[1].length,et=parseInt(et[1],16),tt===6?rgbn(et):tt===3?new Rgb(et>>8&15|et>>4&240,et>>4&15|et&240,(et&15)<<4|et&15,1):tt===8?rgba$1(et>>24&255,et>>16&255,et>>8&255,(et&255)/255):tt===4?rgba$1(et>>12&15|et>>8&240,et>>8&15|et>>4&240,et>>4&15|et&240,((et&15)<<4|et&15)/255):null):(et=reRgbInteger.exec(_e))?new Rgb(et[1],et[2],et[3],1):(et=reRgbPercent.exec(_e))?new Rgb(et[1]*255/100,et[2]*255/100,et[3]*255/100,1):(et=reRgbaInteger.exec(_e))?rgba$1(et[1],et[2],et[3],et[4]):(et=reRgbaPercent.exec(_e))?rgba$1(et[1]*255/100,et[2]*255/100,et[3]*255/100,et[4]):(et=reHslPercent.exec(_e))?hsla(et[1],et[2]/100,et[3]/100,1):(et=reHslaPercent.exec(_e))?hsla(et[1],et[2]/100,et[3]/100,et[4]):named.hasOwnProperty(_e)?rgbn(named[_e]):_e==="transparent"?new Rgb(NaN,NaN,NaN,0):null}function rgbn(_e){return new Rgb(_e>>16&255,_e>>8&255,_e&255,1)}function rgba$1(_e,et,tt,nt){return nt<=0&&(_e=et=tt=NaN),new Rgb(_e,et,tt,nt)}function rgbConvert(_e){return _e instanceof Color$1||(_e=color(_e)),_e?(_e=_e.rgb(),new Rgb(_e.r,_e.g,_e.b,_e.opacity)):new Rgb}function rgb(_e,et,tt,nt){return arguments.length===1?rgbConvert(_e):new Rgb(_e,et,tt,nt??1)}function Rgb(_e,et,tt,nt){this.r=+_e,this.g=+et,this.b=+tt,this.opacity=+nt}define(Rgb,rgb,extend$1(Color$1,{brighter(_e){return _e=_e==null?brighter:Math.pow(brighter,_e),new Rgb(this.r*_e,this.g*_e,this.b*_e,this.opacity)},darker(_e){return _e=_e==null?darker:Math.pow(darker,_e),new Rgb(this.r*_e,this.g*_e,this.b*_e,this.opacity)},rgb(){return this},clamp(){return new Rgb(clampi(this.r),clampi(this.g),clampi(this.b),clampa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatHex8:rgb_formatHex8,formatRgb:rgb_formatRgb,toString:rgb_formatRgb}));function rgb_formatHex(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}`}function rgb_formatHex8(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity)?1:this.opacity)*255)}`}function rgb_formatRgb(){const _e=clampa(this.opacity);return`${_e===1?"rgb(":"rgba("}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${_e===1?")":`, ${_e})`}`}function clampa(_e){return isNaN(_e)?1:Math.max(0,Math.min(1,_e))}function clampi(_e){return Math.max(0,Math.min(255,Math.round(_e)||0))}function hex(_e){return _e=clampi(_e),(_e<16?"0":"")+_e.toString(16)}function hsla(_e,et,tt,nt){return nt<=0?_e=et=tt=NaN:tt<=0||tt>=1?_e=et=NaN:et<=0&&(_e=NaN),new Hsl(_e,et,tt,nt)}function hslConvert(_e){if(_e instanceof Hsl)return new Hsl(_e.h,_e.s,_e.l,_e.opacity);if(_e instanceof Color$1||(_e=color(_e)),!_e)return new Hsl;if(_e instanceof Hsl)return _e;_e=_e.rgb();var et=_e.r/255,tt=_e.g/255,nt=_e.b/255,rt=Math.min(et,tt,nt),it=Math.max(et,tt,nt),ot=NaN,st=it-rt,ut=(it+rt)/2;return st?(et===it?ot=(tt-nt)/st+(tt<nt)*6:tt===it?ot=(nt-et)/st+2:ot=(et-tt)/st+4,st/=ut<.5?it+rt:2-it-rt,ot*=60):st=ut>0&&ut<1?0:ot,new Hsl(ot,st,ut,_e.opacity)}function hsl(_e,et,tt,nt){return arguments.length===1?hslConvert(_e):new Hsl(_e,et,tt,nt??1)}function Hsl(_e,et,tt,nt){this.h=+_e,this.s=+et,this.l=+tt,this.opacity=+nt}define(Hsl,hsl,extend$1(Color$1,{brighter(_e){return _e=_e==null?brighter:Math.pow(brighter,_e),new Hsl(this.h,this.s,this.l*_e,this.opacity)},darker(_e){return _e=_e==null?darker:Math.pow(darker,_e),new Hsl(this.h,this.s,this.l*_e,this.opacity)},rgb(){var _e=this.h%360+(this.h<0)*360,et=isNaN(_e)||isNaN(this.s)?0:this.s,tt=this.l,nt=tt+(tt<.5?tt:1-tt)*et,rt=2*tt-nt;return new Rgb(hsl2rgb(_e>=240?_e-240:_e+120,rt,nt),hsl2rgb(_e,rt,nt),hsl2rgb(_e<120?_e+240:_e-120,rt,nt),this.opacity)},clamp(){return new Hsl(clamph(this.h),clampt(this.s),clampt(this.l),clampa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const _e=clampa(this.opacity);return`${_e===1?"hsl(":"hsla("}${clamph(this.h)}, ${clampt(this.s)*100}%, ${clampt(this.l)*100}%${_e===1?")":`, ${_e})`}`}}));function clamph(_e){return _e=(_e||0)%360,_e<0?_e+360:_e}function clampt(_e){return Math.max(0,Math.min(1,_e||0))}function hsl2rgb(_e,et,tt){return(_e<60?et+(tt-et)*_e/60:_e<180?tt:_e<240?et+(tt-et)*(240-_e)/60:et)*255}const constant$1=_e=>()=>_e;function linear(_e,et){return function(tt){return _e+tt*et}}function exponential(_e,et,tt){return _e=Math.pow(_e,tt),et=Math.pow(et,tt)-_e,tt=1/tt,function(nt){return Math.pow(_e+nt*et,tt)}}function hue(_e,et){var tt=et-_e;return tt?linear(_e,tt>180||tt<-180?tt-360*Math.round(tt/360):tt):constant$1(isNaN(_e)?et:_e)}function gamma(_e){return(_e=+_e)==1?nogamma:function(et,tt){return tt-et?exponential(et,tt,_e):constant$1(isNaN(et)?tt:et)}}function nogamma(_e,et){var tt=et-_e;return tt?linear(_e,tt):constant$1(isNaN(_e)?et:_e)}const interpolateRgb=function _e(et){var tt=gamma(et);function nt(rt,it){var ot=tt((rt=rgb(rt)).r,(it=rgb(it)).r),st=tt(rt.g,it.g),ut=tt(rt.b,it.b),ft=nogamma(rt.opacity,it.opacity);return function(dt){return rt.r=ot(dt),rt.g=st(dt),rt.b=ut(dt),rt.opacity=ft(dt),rt+""}}return nt.gamma=_e,nt}(1);function interpolateNumber(_e,et){return _e=+_e,et=+et,function(tt){return _e*(1-tt)+et*tt}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function zero(_e){return function(){return _e}}function one(_e){return function(et){return _e(et)+""}}function interpolateString(_e,et){var tt=reA.lastIndex=reB.lastIndex=0,nt,rt,it,ot=-1,st=[],ut=[];for(_e=_e+"",et=et+"";(nt=reA.exec(_e))&&(rt=reB.exec(et));)(it=rt.index)>tt&&(it=et.slice(tt,it),st[ot]?st[ot]+=it:st[++ot]=it),(nt=nt[0])===(rt=rt[0])?st[ot]?st[ot]+=rt:st[++ot]=rt:(st[++ot]=null,ut.push({i:ot,x:interpolateNumber(nt,rt)})),tt=reB.lastIndex;return tt<et.length&&(it=et.slice(tt),st[ot]?st[ot]+=it:st[++ot]=it),st.length<2?ut[0]?one(ut[0].x):zero(et):(et=ut.length,function(ft){for(var dt=0,lt;dt<et;++dt)st[(lt=ut[dt]).i]=lt.x(ft);return st.join("")})}var degrees=180/Math.PI,identity$1={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function decompose(_e,et,tt,nt,rt,it){var ot,st,ut;return(ot=Math.sqrt(_e*_e+et*et))&&(_e/=ot,et/=ot),(ut=_e*tt+et*nt)&&(tt-=_e*ut,nt-=et*ut),(st=Math.sqrt(tt*tt+nt*nt))&&(tt/=st,nt/=st,ut/=st),_e*nt<et*tt&&(_e=-_e,et=-et,ut=-ut,ot=-ot),{translateX:rt,translateY:it,rotate:Math.atan2(et,_e)*degrees,skewX:Math.atan(ut)*degrees,scaleX:ot,scaleY:st}}var svgNode;function parseCss(_e){const et=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(_e+"");return et.isIdentity?identity$1:decompose(et.a,et.b,et.c,et.d,et.e,et.f)}function parseSvg(_e){return _e==null||(svgNode||(svgNode=document.createElementNS("http://www.w3.org/2000/svg","g")),svgNode.setAttribute("transform",_e),!(_e=svgNode.transform.baseVal.consolidate()))?identity$1:(_e=_e.matrix,decompose(_e.a,_e.b,_e.c,_e.d,_e.e,_e.f))}function interpolateTransform(_e,et,tt,nt){function rt(ft){return ft.length?ft.pop()+" ":""}function it(ft,dt,lt,at,ct,ht){if(ft!==lt||dt!==at){var pt=ct.push("translate(",null,et,null,tt);ht.push({i:pt-4,x:interpolateNumber(ft,lt)},{i:pt-2,x:interpolateNumber(dt,at)})}else(lt||at)&&ct.push("translate("+lt+et+at+tt)}function ot(ft,dt,lt,at){ft!==dt?(ft-dt>180?dt+=360:dt-ft>180&&(ft+=360),at.push({i:lt.push(rt(lt)+"rotate(",null,nt)-2,x:interpolateNumber(ft,dt)})):dt&&lt.push(rt(lt)+"rotate("+dt+nt)}function st(ft,dt,lt,at){ft!==dt?at.push({i:lt.push(rt(lt)+"skewX(",null,nt)-2,x:interpolateNumber(ft,dt)}):dt&&lt.push(rt(lt)+"skewX("+dt+nt)}function ut(ft,dt,lt,at,ct,ht){if(ft!==lt||dt!==at){var pt=ct.push(rt(ct)+"scale(",null,",",null,")");ht.push({i:pt-4,x:interpolateNumber(ft,lt)},{i:pt-2,x:interpolateNumber(dt,at)})}else(lt!==1||at!==1)&&ct.push(rt(ct)+"scale("+lt+","+at+")")}return function(ft,dt){var lt=[],at=[];return ft=_e(ft),dt=_e(dt),it(ft.translateX,ft.translateY,dt.translateX,dt.translateY,lt,at),ot(ft.rotate,dt.rotate,lt,at),st(ft.skewX,dt.skewX,lt,at),ut(ft.scaleX,ft.scaleY,dt.scaleX,dt.scaleY,lt,at),ft=dt=null,function(ct){for(var ht=-1,pt=at.length,mt;++ht<pt;)lt[(mt=at[ht]).i]=mt.x(ct);return lt.join("")}}}var interpolateTransformCss=interpolateTransform(parseCss,"px, ","px)","deg)"),interpolateTransformSvg=interpolateTransform(parseSvg,", ",")",")"),frame=0,timeout$1=0,interval=0,pokeDelay=1e3,taskHead,taskTail,clockLast=0,clockNow=0,clockSkew=0,clock=typeof performance=="object"&&performance.now?performance:Date,setFrame=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(_e){setTimeout(_e,17)};function now(){return clockNow||(setFrame(clearNow),clockNow=clock.now()+clockSkew)}function clearNow(){clockNow=0}function Timer(){this._call=this._time=this._next=null}Timer.prototype=timer.prototype={constructor:Timer,restart:function(_e,et,tt){if(typeof _e!="function")throw new TypeError("callback is not a function");tt=(tt==null?now():+tt)+(et==null?0:+et),!this._next&&taskTail!==this&&(taskTail?taskTail._next=this:taskHead=this,taskTail=this),this._call=_e,this._time=tt,sleep()},stop:function(){this._call&&(this._call=null,this._time=1/0,sleep())}};function timer(_e,et,tt){var nt=new Timer;return nt.restart(_e,et,tt),nt}function timerFlush(){now(),++frame;for(var _e=taskHead,et;_e;)(et=clockNow-_e._time)>=0&&_e._call.call(void 0,et),_e=_e._next;--frame}function wake(){clockNow=(clockLast=clock.now())+clockSkew,frame=timeout$1=0;try{timerFlush()}finally{frame=0,nap(),clockNow=0}}function poke(){var _e=clock.now(),et=_e-clockLast;et>pokeDelay&&(clockSkew-=et,clockLast=_e)}function nap(){for(var _e,et=taskHead,tt,nt=1/0;et;)et._call?(nt>et._time&&(nt=et._time),_e=et,et=et._next):(tt=et._next,et._next=null,et=_e?_e._next=tt:taskHead=tt);taskTail=_e,sleep(nt)}function sleep(_e){if(!frame){timeout$1&&(timeout$1=clearTimeout(timeout$1));var et=_e-clockNow;et>24?(_e<1/0&&(timeout$1=setTimeout(wake,_e-clock.now()-clockSkew)),interval&&(interval=clearInterval(interval))):(interval||(clockLast=clock.now(),interval=setInterval(poke,pokeDelay)),frame=1,setFrame(wake))}}function timeout(_e,et,tt){var nt=new Timer;return et=et==null?0:+et,nt.restart(rt=>{nt.stop(),_e(rt+et)},et,tt),nt}var emptyOn=dispatch("start","end","cancel","interrupt"),emptyTween=[],CREATED=0,SCHEDULED=1,STARTING=2,STARTED=3,RUNNING=4,ENDING=5,ENDED=6;function schedule(_e,et,tt,nt,rt,it){var ot=_e.__transition;if(!ot)_e.__transition={};else if(tt in ot)return;create$2(_e,tt,{name:et,index:nt,group:rt,on:emptyOn,tween:emptyTween,time:it.time,delay:it.delay,duration:it.duration,ease:it.ease,timer:null,state:CREATED})}function init$1(_e,et){var tt=get(_e,et);if(tt.state>CREATED)throw new Error("too late; already scheduled");return tt}function set$2(_e,et){var tt=get(_e,et);if(tt.state>STARTED)throw new Error("too late; already running");return tt}function get(_e,et){var tt=_e.__transition;if(!tt||!(tt=tt[et]))throw new Error("transition not found");return tt}function create$2(_e,et,tt){var nt=_e.__transition,rt;nt[et]=tt,tt.timer=timer(it,0,tt.time);function it(ft){tt.state=SCHEDULED,tt.timer.restart(ot,tt.delay,tt.time),tt.delay<=ft&&ot(ft-tt.delay)}function ot(ft){var dt,lt,at,ct;if(tt.state!==SCHEDULED)return ut();for(dt in nt)if(ct=nt[dt],ct.name===tt.name){if(ct.state===STARTED)return timeout(ot);ct.state===RUNNING?(ct.state=ENDED,ct.timer.stop(),ct.on.call("interrupt",_e,_e.__data__,ct.index,ct.group),delete nt[dt]):+dt<et&&(ct.state=ENDED,ct.timer.stop(),ct.on.call("cancel",_e,_e.__data__,ct.index,ct.group),delete nt[dt])}if(timeout(function(){tt.state===STARTED&&(tt.state=RUNNING,tt.timer.restart(st,tt.delay,tt.time),st(ft))}),tt.state=STARTING,tt.on.call("start",_e,_e.__data__,tt.index,tt.group),tt.state===STARTING){for(tt.state=STARTED,rt=new Array(at=tt.tween.length),dt=0,lt=-1;dt<at;++dt)(ct=tt.tween[dt].value.call(_e,_e.__data__,tt.index,tt.group))&&(rt[++lt]=ct);rt.length=lt+1}}function st(ft){for(var dt=ft<tt.duration?tt.ease.call(null,ft/tt.duration):(tt.timer.restart(ut),tt.state=ENDING,1),lt=-1,at=rt.length;++lt<at;)rt[lt].call(_e,dt);tt.state===ENDING&&(tt.on.call("end",_e,_e.__data__,tt.index,tt.group),ut())}function ut(){tt.state=ENDED,tt.timer.stop(),delete nt[et];for(var ft in nt)return;delete _e.__transition}}function interrupt(_e,et){var tt=_e.__transition,nt,rt,it=!0,ot;if(tt){et=et==null?null:et+"";for(ot in tt){if((nt=tt[ot]).name!==et){it=!1;continue}rt=nt.state>STARTING&&nt.state<ENDING,nt.state=ENDED,nt.timer.stop(),nt.on.call(rt?"interrupt":"cancel",_e,_e.__data__,nt.index,nt.group),delete tt[ot]}it&&delete _e.__transition}}function selection_interrupt(_e){return this.each(function(){interrupt(this,_e)})}function tweenRemove(_e,et){var tt,nt;return function(){var rt=set$2(this,_e),it=rt.tween;if(it!==tt){nt=tt=it;for(var ot=0,st=nt.length;ot<st;++ot)if(nt[ot].name===et){nt=nt.slice(),nt.splice(ot,1);break}}rt.tween=nt}}function tweenFunction(_e,et,tt){var nt,rt;if(typeof tt!="function")throw new Error;return function(){var it=set$2(this,_e),ot=it.tween;if(ot!==nt){rt=(nt=ot).slice();for(var st={name:et,value:tt},ut=0,ft=rt.length;ut<ft;++ut)if(rt[ut].name===et){rt[ut]=st;break}ut===ft&&rt.push(st)}it.tween=rt}}function transition_tween(_e,et){var tt=this._id;if(_e+="",arguments.length<2){for(var nt=get(this.node(),tt).tween,rt=0,it=nt.length,ot;rt<it;++rt)if((ot=nt[rt]).name===_e)return ot.value;return null}return this.each((et==null?tweenRemove:tweenFunction)(tt,_e,et))}function tweenValue(_e,et,tt){var nt=_e._id;return _e.each(function(){var rt=set$2(this,nt);(rt.value||(rt.value={}))[et]=tt.apply(this,arguments)}),function(rt){return get(rt,nt).value[et]}}function interpolate(_e,et){var tt;return(typeof et=="number"?interpolateNumber:et instanceof color?interpolateRgb:(tt=color(et))?(et=tt,interpolateRgb):interpolateString)(_e,et)}function attrRemove(_e){return function(){this.removeAttribute(_e)}}function attrRemoveNS(_e){return function(){this.removeAttributeNS(_e.space,_e.local)}}function attrConstant(_e,et,tt){var nt,rt=tt+"",it;return function(){var ot=this.getAttribute(_e);return ot===rt?null:ot===nt?it:it=et(nt=ot,tt)}}function attrConstantNS(_e,et,tt){var nt,rt=tt+"",it;return function(){var ot=this.getAttributeNS(_e.space,_e.local);return ot===rt?null:ot===nt?it:it=et(nt=ot,tt)}}function attrFunction(_e,et,tt){var nt,rt,it;return function(){var ot,st=tt(this),ut;return st==null?void this.removeAttribute(_e):(ot=this.getAttribute(_e),ut=st+"",ot===ut?null:ot===nt&&ut===rt?it:(rt=ut,it=et(nt=ot,st)))}}function attrFunctionNS(_e,et,tt){var nt,rt,it;return function(){var ot,st=tt(this),ut;return st==null?void this.removeAttributeNS(_e.space,_e.local):(ot=this.getAttributeNS(_e.space,_e.local),ut=st+"",ot===ut?null:ot===nt&&ut===rt?it:(rt=ut,it=et(nt=ot,st)))}}function transition_attr(_e,et){var tt=namespace(_e),nt=tt==="transform"?interpolateTransformSvg:interpolate;return this.attrTween(_e,typeof et=="function"?(tt.local?attrFunctionNS:attrFunction)(tt,nt,tweenValue(this,"attr."+_e,et)):et==null?(tt.local?attrRemoveNS:attrRemove)(tt):(tt.local?attrConstantNS:attrConstant)(tt,nt,et))}function attrInterpolate(_e,et){return function(tt){this.setAttribute(_e,et.call(this,tt))}}function attrInterpolateNS(_e,et){return function(tt){this.setAttributeNS(_e.space,_e.local,et.call(this,tt))}}function attrTweenNS(_e,et){var tt,nt;function rt(){var it=et.apply(this,arguments);return it!==nt&&(tt=(nt=it)&&attrInterpolateNS(_e,it)),tt}return rt._value=et,rt}function attrTween(_e,et){var tt,nt;function rt(){var it=et.apply(this,arguments);return it!==nt&&(tt=(nt=it)&&attrInterpolate(_e,it)),tt}return rt._value=et,rt}function transition_attrTween(_e,et){var tt="attr."+_e;if(arguments.length<2)return(tt=this.tween(tt))&&tt._value;if(et==null)return this.tween(tt,null);if(typeof et!="function")throw new Error;var nt=namespace(_e);return this.tween(tt,(nt.local?attrTweenNS:attrTween)(nt,et))}function delayFunction(_e,et){return function(){init$1(this,_e).delay=+et.apply(this,arguments)}}function delayConstant(_e,et){return et=+et,function(){init$1(this,_e).delay=et}}function transition_delay(_e){var et=this._id;return arguments.length?this.each((typeof _e=="function"?delayFunction:delayConstant)(et,_e)):get(this.node(),et).delay}function durationFunction(_e,et){return function(){set$2(this,_e).duration=+et.apply(this,arguments)}}function durationConstant(_e,et){return et=+et,function(){set$2(this,_e).duration=et}}function transition_duration(_e){var et=this._id;return arguments.length?this.each((typeof _e=="function"?durationFunction:durationConstant)(et,_e)):get(this.node(),et).duration}function easeConstant(_e,et){if(typeof et!="function")throw new Error;return function(){set$2(this,_e).ease=et}}function transition_ease(_e){var et=this._id;return arguments.length?this.each(easeConstant(et,_e)):get(this.node(),et).ease}function easeVarying(_e,et){return function(){var tt=et.apply(this,arguments);if(typeof tt!="function")throw new Error;set$2(this,_e).ease=tt}}function transition_easeVarying(_e){if(typeof _e!="function")throw new Error;return this.each(easeVarying(this._id,_e))}function transition_filter(_e){typeof _e!="function"&&(_e=matcher(_e));for(var et=this._groups,tt=et.length,nt=new Array(tt),rt=0;rt<tt;++rt)for(var it=et[rt],ot=it.length,st=nt[rt]=[],ut,ft=0;ft<ot;++ft)(ut=it[ft])&&_e.call(ut,ut.__data__,ft,it)&&st.push(ut);return new Transition(nt,this._parents,this._name,this._id)}function transition_merge(_e){if(_e._id!==this._id)throw new Error;for(var et=this._groups,tt=_e._groups,nt=et.length,rt=tt.length,it=Math.min(nt,rt),ot=new Array(nt),st=0;st<it;++st)for(var ut=et[st],ft=tt[st],dt=ut.length,lt=ot[st]=new Array(dt),at,ct=0;ct<dt;++ct)(at=ut[ct]||ft[ct])&&(lt[ct]=at);for(;st<nt;++st)ot[st]=et[st];return new Transition(ot,this._parents,this._name,this._id)}function start(_e){return(_e+"").trim().split(/^|\s+/).every(function(et){var tt=et.indexOf(".");return tt>=0&&(et=et.slice(0,tt)),!et||et==="start"})}function onFunction(_e,et,tt){var nt,rt,it=start(et)?init$1:set$2;return function(){var ot=it(this,_e),st=ot.on;st!==nt&&(rt=(nt=st).copy()).on(et,tt),ot.on=rt}}function transition_on(_e,et){var tt=this._id;return arguments.length<2?get(this.node(),tt).on.on(_e):this.each(onFunction(tt,_e,et))}function removeFunction(_e){return function(){var et=this.parentNode;for(var tt in this.__transition)if(+tt!==_e)return;et&&et.removeChild(this)}}function transition_remove(){return this.on("end.remove",removeFunction(this._id))}function transition_select(_e){var et=this._name,tt=this._id;typeof _e!="function"&&(_e=selector(_e));for(var nt=this._groups,rt=nt.length,it=new Array(rt),ot=0;ot<rt;++ot)for(var st=nt[ot],ut=st.length,ft=it[ot]=new Array(ut),dt,lt,at=0;at<ut;++at)(dt=st[at])&&(lt=_e.call(dt,dt.__data__,at,st))&&("__data__"in dt&&(lt.__data__=dt.__data__),ft[at]=lt,schedule(ft[at],et,tt,at,ft,get(dt,tt)));return new Transition(it,this._parents,et,tt)}function transition_selectAll(_e){var et=this._name,tt=this._id;typeof _e!="function"&&(_e=selectorAll(_e));for(var nt=this._groups,rt=nt.length,it=[],ot=[],st=0;st<rt;++st)for(var ut=nt[st],ft=ut.length,dt,lt=0;lt<ft;++lt)if(dt=ut[lt]){for(var at=_e.call(dt,dt.__data__,lt,ut),ct,ht=get(dt,tt),pt=0,mt=at.length;pt<mt;++pt)(ct=at[pt])&&schedule(ct,et,tt,pt,at,ht);it.push(at),ot.push(dt)}return new Transition(it,ot,et,tt)}var Selection=selection$1.prototype.constructor;function transition_selection(){return new Selection(this._groups,this._parents)}function styleNull(_e,et){var tt,nt,rt;return function(){var it=styleValue(this,_e),ot=(this.style.removeProperty(_e),styleValue(this,_e));return it===ot?null:it===tt&&ot===nt?rt:rt=et(tt=it,nt=ot)}}function styleRemove(_e){return function(){this.style.removeProperty(_e)}}function styleConstant(_e,et,tt){var nt,rt=tt+"",it;return function(){var ot=styleValue(this,_e);return ot===rt?null:ot===nt?it:it=et(nt=ot,tt)}}function styleFunction(_e,et,tt){var nt,rt,it;return function(){var ot=styleValue(this,_e),st=tt(this),ut=st+"";return st==null&&(ut=st=(this.style.removeProperty(_e),styleValue(this,_e))),ot===ut?null:ot===nt&&ut===rt?it:(rt=ut,it=et(nt=ot,st))}}function styleMaybeRemove(_e,et){var tt,nt,rt,it="style."+et,ot="end."+it,st;return function(){var ut=set$2(this,_e),ft=ut.on,dt=ut.value[it]==null?st||(st=styleRemove(et)):void 0;(ft!==tt||rt!==dt)&&(nt=(tt=ft).copy()).on(ot,rt=dt),ut.on=nt}}function transition_style(_e,et,tt){var nt=(_e+="")=="transform"?interpolateTransformCss:interpolate;return et==null?this.styleTween(_e,styleNull(_e,nt)).on("end.style."+_e,styleRemove(_e)):typeof et=="function"?this.styleTween(_e,styleFunction(_e,nt,tweenValue(this,"style."+_e,et))).each(styleMaybeRemove(this._id,_e)):this.styleTween(_e,styleConstant(_e,nt,et),tt).on("end.style."+_e,null)}function styleInterpolate(_e,et,tt){return function(nt){this.style.setProperty(_e,et.call(this,nt),tt)}}function styleTween(_e,et,tt){var nt,rt;function it(){var ot=et.apply(this,arguments);return ot!==rt&&(nt=(rt=ot)&&styleInterpolate(_e,ot,tt)),nt}return it._value=et,it}function transition_styleTween(_e,et,tt){var nt="style."+(_e+="");if(arguments.length<2)return(nt=this.tween(nt))&&nt._value;if(et==null)return this.tween(nt,null);if(typeof et!="function")throw new Error;return this.tween(nt,styleTween(_e,et,tt??""))}function textConstant(_e){return function(){this.textContent=_e}}function textFunction(_e){return function(){var et=_e(this);this.textContent=et??""}}function transition_text(_e){return this.tween("text",typeof _e=="function"?textFunction(tweenValue(this,"text",_e)):textConstant(_e==null?"":_e+""))}function textInterpolate(_e){return function(et){this.textContent=_e.call(this,et)}}function textTween(_e){var et,tt;function nt(){var rt=_e.apply(this,arguments);return rt!==tt&&(et=(tt=rt)&&textInterpolate(rt)),et}return nt._value=_e,nt}function transition_textTween(_e){var et="text";if(arguments.length<1)return(et=this.tween(et))&&et._value;if(_e==null)return this.tween(et,null);if(typeof _e!="function")throw new Error;return this.tween(et,textTween(_e))}function transition_transition(){for(var _e=this._name,et=this._id,tt=newId(),nt=this._groups,rt=nt.length,it=0;it<rt;++it)for(var ot=nt[it],st=ot.length,ut,ft=0;ft<st;++ft)if(ut=ot[ft]){var dt=get(ut,et);schedule(ut,_e,tt,ft,ot,{time:dt.time+dt.delay+dt.duration,delay:0,duration:dt.duration,ease:dt.ease})}return new Transition(nt,this._parents,_e,tt)}function transition_end(){var _e,et,tt=this,nt=tt._id,rt=tt.size();return new Promise(function(it,ot){var st={value:ot},ut={value:function(){--rt===0&&it()}};tt.each(function(){var ft=set$2(this,nt),dt=ft.on;dt!==_e&&(et=(_e=dt).copy(),et._.cancel.push(st),et._.interrupt.push(st),et._.end.push(ut)),ft.on=et}),rt===0&&it()})}var id$m=0;function Transition(_e,et,tt,nt){this._groups=_e,this._parents=et,this._name=tt,this._id=nt}function newId(){return++id$m}var selection_prototype=selection$1.prototype;Transition.prototype={constructor:Transition,select:transition_select,selectAll:transition_selectAll,selectChild:selection_prototype.selectChild,selectChildren:selection_prototype.selectChildren,filter:transition_filter,merge:transition_merge,selection:transition_selection,transition:transition_transition,call:selection_prototype.call,nodes:selection_prototype.nodes,node:selection_prototype.node,size:selection_prototype.size,empty:selection_prototype.empty,each:selection_prototype.each,on:transition_on,attr:transition_attr,attrTween:transition_attrTween,style:transition_style,styleTween:transition_styleTween,text:transition_text,textTween:transition_textTween,remove:transition_remove,tween:transition_tween,delay:transition_delay,duration:transition_duration,ease:transition_ease,easeVarying:transition_easeVarying,end:transition_end,[Symbol.iterator]:selection_prototype[Symbol.iterator]};function cubicInOut(_e){return((_e*=2)<=1?_e*_e*_e:(_e-=2)*_e*_e+2)/2}var defaultTiming={time:null,delay:0,duration:250,ease:cubicInOut};function inherit(_e,et){for(var tt;!(tt=_e.__transition)||!(tt=tt[et]);)if(!(_e=_e.parentNode))throw new Error(`transition ${et} not found`);return tt}function selection_transition(_e){var et,tt;_e instanceof Transition?(et=_e._id,_e=_e._name):(et=newId(),(tt=defaultTiming).time=now(),_e=_e==null?null:_e+"");for(var nt=this._groups,rt=nt.length,it=0;it<rt;++it)for(var ot=nt[it],st=ot.length,ut,ft=0;ft<st;++ft)(ut=ot[ft])&&schedule(ut,_e,et,ft,ot,tt||inherit(ut,et));return new Transition(nt,this._parents,_e,et)}selection$1.prototype.interrupt=selection_interrupt;selection$1.prototype.transition=selection_transition;const abs$1=Math.abs,atan2=Math.atan2,cos=Math.cos,max$2=Math.max,min$2=Math.min,sin=Math.sin,sqrt=Math.sqrt,epsilon=1e-12,pi=Math.PI,halfPi=pi/2,tau=2*pi;function acos(_e){return _e>1?0:_e<-1?pi:Math.acos(_e)}function asin(_e){return _e>=1?halfPi:_e<=-1?-halfPi:Math.asin(_e)}function Linear(_e){this._context=_e}Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(_e,et){switch(_e=+_e,et=+et,this._point){case 0:this._point=1,this._line?this._context.lineTo(_e,et):this._context.moveTo(_e,et);break;case 1:this._point=2;default:this._context.lineTo(_e,et);break}}};function curveLinear(_e){return new Linear(_e)}class Bump{constructor(et,tt){this._context=et,this._x=tt}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(et,tt){switch(et=+et,tt=+tt,this._point){case 0:{this._point=1,this._line?this._context.lineTo(et,tt):this._context.moveTo(et,tt);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+et)/2,this._y0,this._x0,tt,et,tt):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+tt)/2,et,this._y0,et,tt);break}}this._x0=et,this._y0=tt}}function bumpX(_e){return new Bump(_e,!0)}function bumpY(_e){return new Bump(_e,!1)}function noop(){}function point$3(_e,et,tt){_e._context.bezierCurveTo((2*_e._x0+_e._x1)/3,(2*_e._y0+_e._y1)/3,(_e._x0+2*_e._x1)/3,(_e._y0+2*_e._y1)/3,(_e._x0+4*_e._x1+et)/6,(_e._y0+4*_e._y1+tt)/6)}function Basis(_e){this._context=_e}Basis.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:point$3(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(_e,et){switch(_e=+_e,et=+et,this._point){case 0:this._point=1,this._line?this._context.lineTo(_e,et):this._context.moveTo(_e,et);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:point$3(this,_e,et);break}this._x0=this._x1,this._x1=_e,this._y0=this._y1,this._y1=et}};function curveBasis(_e){return new Basis(_e)}function BasisClosed(_e){this._context=_e}BasisClosed.prototype={areaStart:noop,areaEnd:noop,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(_e,et){switch(_e=+_e,et=+et,this._point){case 0:this._point=1,this._x2=_e,this._y2=et;break;case 1:this._point=2,this._x3=_e,this._y3=et;break;case 2:this._point=3,this._x4=_e,this._y4=et,this._context.moveTo((this._x0+4*this._x1+_e)/6,(this._y0+4*this._y1+et)/6);break;default:point$3(this,_e,et);break}this._x0=this._x1,this._x1=_e,this._y0=this._y1,this._y1=et}};function curveBasisClosed(_e){return new BasisClosed(_e)}function BasisOpen(_e){this._context=_e}BasisOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(_e,et){switch(_e=+_e,et=+et,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var tt=(this._x0+4*this._x1+_e)/6,nt=(this._y0+4*this._y1+et)/6;this._line?this._context.lineTo(tt,nt):this._context.moveTo(tt,nt);break;case 3:this._point=4;default:point$3(this,_e,et);break}this._x0=this._x1,this._x1=_e,this._y0=this._y1,this._y1=et}};function curveBasisOpen(_e){return new BasisOpen(_e)}function Bundle(_e,et){this._basis=new Basis(_e),this._beta=et}Bundle.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var _e=this._x,et=this._y,tt=_e.length-1;if(tt>0)for(var nt=_e[0],rt=et[0],it=_e[tt]-nt,ot=et[tt]-rt,st=-1,ut;++st<=tt;)ut=st/tt,this._basis.point(this._beta*_e[st]+(1-this._beta)*(nt+ut*it),this._beta*et[st]+(1-this._beta)*(rt+ut*ot));this._x=this._y=null,this._basis.lineEnd()},point:function(_e,et){this._x.push(+_e),this._y.push(+et)}};const curveBundle=function _e(et){function tt(nt){return et===1?new Basis(nt):new Bundle(nt,et)}return tt.beta=function(nt){return _e(+nt)},tt}(.85);function point$2(_e,et,tt){_e._context.bezierCurveTo(_e._x1+_e._k*(_e._x2-_e._x0),_e._y1+_e._k*(_e._y2-_e._y0),_e._x2+_e._k*(_e._x1-et),_e._y2+_e._k*(_e._y1-tt),_e._x2,_e._y2)}function Cardinal(_e,et){this._context=_e,this._k=(1-et)/6}Cardinal.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:point$2(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(_e,et){switch(_e=+_e,et=+et,this._point){case 0:this._point=1,this._line?this._context.lineTo(_e,et):this._context.moveTo(_e,et);break;case 1:this._point=2,this._x1=_e,this._y1=et;break;case 2:this._point=3;default:point$2(this,_e,et);break}this._x0=this._x1,this._x1=this._x2,this._x2=_e,this._y0=this._y1,this._y1=this._y2,this._y2=et}};const curveCardinal=function _e(et){function tt(nt){return new Cardinal(nt,et)}return tt.tension=function(nt){return _e(+nt)},tt}(0);function CardinalClosed(_e,et){this._context=_e,this._k=(1-et)/6}CardinalClosed.prototype={areaStart:noop,areaEnd:noop,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(_e,et){switch(_e=+_e,et=+et,this._point){case 0:this._point=1,this._x3=_e,this._y3=et;break;case 1:this._point=2,this._context.moveTo(this._x4=_e,this._y4=et);break;case 2:this._point=3,this._x5=_e,this._y5=et;break;default:point$2(this,_e,et);break}this._x0=this._x1,this._x1=this._x2,this._x2=_e,this._y0=this._y1,this._y1=this._y2,this._y2=et}};const curveCardinalClosed=function _e(et){function tt(nt){return new CardinalClosed(nt,et)}return tt.tension=function(nt){return _e(+nt)},tt}(0);function CardinalOpen(_e,et){this._context=_e,this._k=(1-et)/6}CardinalOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(_e,et){switch(_e=+_e,et=+et,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:point$2(this,_e,et);break}this._x0=this._x1,this._x1=this._x2,this._x2=_e,this._y0=this._y1,this._y1=this._y2,this._y2=et}};const curveCardinalOpen=function _e(et){function tt(nt){return new CardinalOpen(nt,et)}return tt.tension=function(nt){return _e(+nt)},tt}(0);function point$1(_e,et,tt){var nt=_e._x1,rt=_e._y1,it=_e._x2,ot=_e._y2;if(_e._l01_a>epsilon){var st=2*_e._l01_2a+3*_e._l01_a*_e._l12_a+_e._l12_2a,ut=3*_e._l01_a*(_e._l01_a+_e._l12_a);nt=(nt*st-_e._x0*_e._l12_2a+_e._x2*_e._l01_2a)/ut,rt=(rt*st-_e._y0*_e._l12_2a+_e._y2*_e._l01_2a)/ut}if(_e._l23_a>epsilon){var ft=2*_e._l23_2a+3*_e._l23_a*_e._l12_a+_e._l12_2a,dt=3*_e._l23_a*(_e._l23_a+_e._l12_a);it=(it*ft+_e._x1*_e._l23_2a-et*_e._l12_2a)/dt,ot=(ot*ft+_e._y1*_e._l23_2a-tt*_e._l12_2a)/dt}_e._context.bezierCurveTo(nt,rt,it,ot,_e._x2,_e._y2)}function CatmullRom(_e,et){this._context=_e,this._alpha=et}CatmullRom.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(_e,et){if(_e=+_e,et=+et,this._point){var tt=this._x2-_e,nt=this._y2-et;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(tt*tt+nt*nt,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(_e,et):this._context.moveTo(_e,et);break;case 1:this._point=2;break;case 2:this._point=3;default:point$1(this,_e,et);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=_e,this._y0=this._y1,this._y1=this._y2,this._y2=et}};const curveCatmullRom=function _e(et){function tt(nt){return et?new CatmullRom(nt,et):new Cardinal(nt,0)}return tt.alpha=function(nt){return _e(+nt)},tt}(.5);function CatmullRomClosed(_e,et){this._context=_e,this._alpha=et}CatmullRomClosed.prototype={areaStart:noop,areaEnd:noop,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(_e,et){if(_e=+_e,et=+et,this._point){var tt=this._x2-_e,nt=this._y2-et;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(tt*tt+nt*nt,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=_e,this._y3=et;break;case 1:this._point=2,this._context.moveTo(this._x4=_e,this._y4=et);break;case 2:this._point=3,this._x5=_e,this._y5=et;break;default:point$1(this,_e,et);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=_e,this._y0=this._y1,this._y1=this._y2,this._y2=et}};const curveCatmullRomClosed=function _e(et){function tt(nt){return et?new CatmullRomClosed(nt,et):new CardinalClosed(nt,0)}return tt.alpha=function(nt){return _e(+nt)},tt}(.5);function CatmullRomOpen(_e,et){this._context=_e,this._alpha=et}CatmullRomOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(_e,et){if(_e=+_e,et=+et,this._point){var tt=this._x2-_e,nt=this._y2-et;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(tt*tt+nt*nt,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:point$1(this,_e,et);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=_e,this._y0=this._y1,this._y1=this._y2,this._y2=et}};const curveCatmullRomOpen=function _e(et){function tt(nt){return et?new CatmullRomOpen(nt,et):new CardinalOpen(nt,0)}return tt.alpha=function(nt){return _e(+nt)},tt}(.5);function LinearClosed(_e){this._context=_e}LinearClosed.prototype={areaStart:noop,areaEnd:noop,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(_e,et){_e=+_e,et=+et,this._point?this._context.lineTo(_e,et):(this._point=1,this._context.moveTo(_e,et))}};function curveLinearClosed(_e){return new LinearClosed(_e)}function sign(_e){return _e<0?-1:1}function slope3(_e,et,tt){var nt=_e._x1-_e._x0,rt=et-_e._x1,it=(_e._y1-_e._y0)/(nt||rt<0&&-0),ot=(tt-_e._y1)/(rt||nt<0&&-0),st=(it*rt+ot*nt)/(nt+rt);return(sign(it)+sign(ot))*Math.min(Math.abs(it),Math.abs(ot),.5*Math.abs(st))||0}function slope2(_e,et){var tt=_e._x1-_e._x0;return tt?(3*(_e._y1-_e._y0)/tt-et)/2:et}function point(_e,et,tt){var nt=_e._x0,rt=_e._y0,it=_e._x1,ot=_e._y1,st=(it-nt)/3;_e._context.bezierCurveTo(nt+st,rt+st*et,it-st,ot-st*tt,it,ot)}function MonotoneX(_e){this._context=_e}MonotoneX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:point(this,this._t0,slope2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(_e,et){var tt=NaN;if(_e=+_e,et=+et,!(_e===this._x1&&et===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(_e,et):this._context.moveTo(_e,et);break;case 1:this._point=2;break;case 2:this._point=3,point(this,slope2(this,tt=slope3(this,_e,et)),tt);break;default:point(this,this._t0,tt=slope3(this,_e,et));break}this._x0=this._x1,this._x1=_e,this._y0=this._y1,this._y1=et,this._t0=tt}}};function MonotoneY(_e){this._context=new ReflectContext(_e)}(MonotoneY.prototype=Object.create(MonotoneX.prototype)).point=function(_e,et){MonotoneX.prototype.point.call(this,et,_e)};function ReflectContext(_e){this._context=_e}ReflectContext.prototype={moveTo:function(_e,et){this._context.moveTo(et,_e)},closePath:function(){this._context.closePath()},lineTo:function(_e,et){this._context.lineTo(et,_e)},bezierCurveTo:function(_e,et,tt,nt,rt,it){this._context.bezierCurveTo(et,_e,nt,tt,it,rt)}};function monotoneX(_e){return new MonotoneX(_e)}function monotoneY(_e){return new MonotoneY(_e)}function Natural(_e){this._context=_e}Natural.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var _e=this._x,et=this._y,tt=_e.length;if(tt)if(this._line?this._context.lineTo(_e[0],et[0]):this._context.moveTo(_e[0],et[0]),tt===2)this._context.lineTo(_e[1],et[1]);else for(var nt=controlPoints(_e),rt=controlPoints(et),it=0,ot=1;ot<tt;++it,++ot)this._context.bezierCurveTo(nt[0][it],rt[0][it],nt[1][it],rt[1][it],_e[ot],et[ot]);(this._line||this._line!==0&&tt===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(_e,et){this._x.push(+_e),this._y.push(+et)}};function controlPoints(_e){var et,tt=_e.length-1,nt,rt=new Array(tt),it=new Array(tt),ot=new Array(tt);for(rt[0]=0,it[0]=2,ot[0]=_e[0]+2*_e[1],et=1;et<tt-1;++et)rt[et]=1,it[et]=4,ot[et]=4*_e[et]+2*_e[et+1];for(rt[tt-1]=2,it[tt-1]=7,ot[tt-1]=8*_e[tt-1]+_e[tt],et=1;et<tt;++et)nt=rt[et]/it[et-1],it[et]-=nt,ot[et]-=nt*ot[et-1];for(rt[tt-1]=ot[tt-1]/it[tt-1],et=tt-2;et>=0;--et)rt[et]=(ot[et]-rt[et+1])/it[et];for(it[tt-1]=(_e[tt]+rt[tt-1])/2,et=0;et<tt-1;++et)it[et]=2*_e[et+1]-rt[et+1];return[rt,it]}function curveNatural(_e){return new Natural(_e)}function Step(_e,et){this._context=_e,this._t=et}Step.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(_e,et){switch(_e=+_e,et=+et,this._point){case 0:this._point=1,this._line?this._context.lineTo(_e,et):this._context.moveTo(_e,et);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,et),this._context.lineTo(_e,et);else{var tt=this._x*(1-this._t)+_e*this._t;this._context.lineTo(tt,this._y),this._context.lineTo(tt,et)}break}}this._x=_e,this._y=et}};function curveStep(_e){return new Step(_e,.5)}function stepBefore(_e){return new Step(_e,0)}function stepAfter(_e){return new Step(_e,1)}function Transform(_e,et,tt){this.k=_e,this.x=et,this.y=tt}Transform.prototype={constructor:Transform,scale:function(_e){return _e===1?this:new Transform(this.k*_e,this.x,this.y)},translate:function(_e,et){return _e===0&et===0?this:new Transform(this.k,this.x+this.k*_e,this.y+this.k*et)},apply:function(_e){return[_e[0]*this.k+this.x,_e[1]*this.k+this.y]},applyX:function(_e){return _e*this.k+this.x},applyY:function(_e){return _e*this.k+this.y},invert:function(_e){return[(_e[0]-this.x)/this.k,(_e[1]-this.y)/this.k]},invertX:function(_e){return(_e-this.x)/this.k},invertY:function(_e){return(_e-this.y)/this.k},rescaleX:function(_e){return _e.copy().domain(_e.range().map(this.invertX,this).map(_e.invert,_e))},rescaleY:function(_e){return _e.copy().domain(_e.range().map(this.invertY,this).map(_e.invert,_e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Transform.prototype;/*! @license DOMPurify 3.1.5 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.1.5/LICENSE */const{entries,setPrototypeOf,isFrozen,getPrototypeOf,getOwnPropertyDescriptor}=Object;let{freeze,seal,create:create$1}=Object,{apply:apply$1,construct}=typeof Reflect<"u"&&Reflect;freeze||(freeze=function(et){return et});seal||(seal=function(et){return et});apply$1||(apply$1=function(et,tt,nt){return et.apply(tt,nt)});construct||(construct=function(et,tt){return new et(...tt)});const arrayForEach=unapply(Array.prototype.forEach),arrayPop=unapply(Array.prototype.pop),arrayPush=unapply(Array.prototype.push),stringToLowerCase=unapply(String.prototype.toLowerCase),stringToString=unapply(String.prototype.toString),stringMatch=unapply(String.prototype.match),stringReplace=unapply(String.prototype.replace),stringIndexOf=unapply(String.prototype.indexOf),stringTrim=unapply(String.prototype.trim),objectHasOwnProperty=unapply(Object.prototype.hasOwnProperty),regExpTest=unapply(RegExp.prototype.test),typeErrorCreate=unconstruct(TypeError);function unapply(_e){return function(et){for(var tt=arguments.length,nt=new Array(tt>1?tt-1:0),rt=1;rt<tt;rt++)nt[rt-1]=arguments[rt];return apply$1(_e,et,nt)}}function unconstruct(_e){return function(){for(var et=arguments.length,tt=new Array(et),nt=0;nt<et;nt++)tt[nt]=arguments[nt];return construct(_e,tt)}}function addToSet(_e,et){let tt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:stringToLowerCase;setPrototypeOf&&setPrototypeOf(_e,null);let nt=et.length;for(;nt--;){let rt=et[nt];if(typeof rt=="string"){const it=tt(rt);it!==rt&&(isFrozen(et)||(et[nt]=it),rt=it)}_e[rt]=!0}return _e}function cleanArray(_e){for(let et=0;et<_e.length;et++)objectHasOwnProperty(_e,et)||(_e[et]=null);return _e}function clone$1(_e){const et=create$1(null);for(const[tt,nt]of entries(_e))objectHasOwnProperty(_e,tt)&&(Array.isArray(nt)?et[tt]=cleanArray(nt):nt&&typeof nt=="object"&&nt.constructor===Object?et[tt]=clone$1(nt):et[tt]=nt);return et}function lookupGetter(_e,et){for(;_e!==null;){const nt=getOwnPropertyDescriptor(_e,et);if(nt){if(nt.get)return unapply(nt.get);if(typeof nt.value=="function")return unapply(nt.value)}_e=getPrototypeOf(_e)}function tt(){return null}return tt}const html$1=freeze(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),svg$1$1=freeze(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),svgFilters=freeze(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),svgDisallowed=freeze(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),mathMl$1=freeze(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),mathMlDisallowed=freeze(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),text$1=freeze(["#text"]),html$2=freeze(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),svg$6=freeze(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),mathMl=freeze(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),xml=freeze(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),MUSTACHE_EXPR=seal(/\{\{[\w\W]*|[\w\W]*\}\}/gm),ERB_EXPR=seal(/<%[\w\W]*|[\w\W]*%>/gm),TMPLIT_EXPR=seal(/\${[\w\W]*}/gm),DATA_ATTR=seal(/^data-[\-\w.\u00B7-\uFFFF]/),ARIA_ATTR=seal(/^aria-[\-\w]+$/),IS_ALLOWED_URI=seal(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),IS_SCRIPT_OR_DATA=seal(/^(?:\w+script|data):/i),ATTR_WHITESPACE=seal(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),DOCTYPE_NAME=seal(/^html$/i),CUSTOM_ELEMENT=seal(/^[a-z][.\w]*(-[.\w]+)+$/i);var EXPRESSIONS=Object.freeze({__proto__:null,MUSTACHE_EXPR,ERB_EXPR,TMPLIT_EXPR,DATA_ATTR,ARIA_ATTR,IS_ALLOWED_URI,IS_SCRIPT_OR_DATA,ATTR_WHITESPACE,DOCTYPE_NAME,CUSTOM_ELEMENT});const NODE_TYPE={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},getGlobal=function _e(){return typeof window>"u"?null:window},_createTrustedTypesPolicy=function _e(et,tt){if(typeof et!="object"||typeof et.createPolicy!="function")return null;let nt=null;const rt="data-tt-policy-suffix";tt&&tt.hasAttribute(rt)&&(nt=tt.getAttribute(rt));const it="dompurify"+(nt?"#"+nt:"");try{return et.createPolicy(it,{createHTML(ot){return ot},createScriptURL(ot){return ot}})}catch{return console.warn("TrustedTypes policy "+it+" could not be created."),null}};function createDOMPurify(){let _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:getGlobal();const et=Un=>createDOMPurify(Un);if(et.version="3.1.5",et.removed=[],!_e||!_e.document||_e.document.nodeType!==NODE_TYPE.document)return et.isSupported=!1,et;let{document:tt}=_e;const nt=tt,rt=nt.currentScript,{DocumentFragment:it,HTMLTemplateElement:ot,Node:st,Element:ut,NodeFilter:ft,NamedNodeMap:dt=_e.NamedNodeMap||_e.MozNamedAttrMap,HTMLFormElement:lt,DOMParser:at,trustedTypes:ct}=_e,ht=ut.prototype,pt=lookupGetter(ht,"cloneNode"),mt=lookupGetter(ht,"nextSibling"),gt=lookupGetter(ht,"childNodes"),yt=lookupGetter(ht,"parentNode");if(typeof ot=="function"){const Un=tt.createElement("template");Un.content&&Un.content.ownerDocument&&(tt=Un.content.ownerDocument)}let bt,xt="";const{implementation:vt,createNodeIterator:wt,createDocumentFragment:_t,getElementsByTagName:Ct}=tt,{importNode:Et}=nt;let $t={};et.isSupported=typeof entries=="function"&&typeof yt=="function"&&vt&&vt.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:jt,ERB_EXPR:Dt,TMPLIT_EXPR:Pt,DATA_ATTR:kt,ARIA_ATTR:At,IS_SCRIPT_OR_DATA:Tt,ATTR_WHITESPACE:St,CUSTOM_ELEMENT:Rt}=EXPRESSIONS;let{IS_ALLOWED_URI:Ot}=EXPRESSIONS,Nt=null;const It=addToSet({},[...html$1,...svg$1$1,...svgFilters,...mathMl$1,...text$1]);let Bt=null;const zt=addToSet({},[...html$2,...svg$6,...mathMl,...xml]);let Gt=Object.seal(create$1(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Kt=null,fn=null,dn=!0,Wt=!0,rn=!1,Vt=!0,an=!1,Qt=!0,Zt=!1,xn=!1,vn=!1,gn=!1,Cn=!1,kn=!1,En=!0,sn=!1;const On="user-content-";let Tn=!0,bn=!1,Dn={},Nn=null;const wn=addToSet({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let qn=null;const or=addToSet({},["audio","video","img","source","image","track"]);let tr=null;const cr=addToSet({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),rr="http://www.w3.org/1998/Math/MathML",Vn="http://www.w3.org/2000/svg",Jt="http://www.w3.org/1999/xhtml";let pn=Jt,$n=!1,jn=null;const Fn=addToSet({},[rr,Vn,Jt],stringToString);let Ln=null;const Xn=["application/xhtml+xml","text/html"],ar="text/html";let Qn=null,Yt=null;const hn=tt.createElement("form"),mn=function(en){return en instanceof RegExp||en instanceof Function},yn=function(){let en=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Yt&&Yt===en)){if((!en||typeof en!="object")&&(en={}),en=clone$1(en),Ln=Xn.indexOf(en.PARSER_MEDIA_TYPE)===-1?ar:en.PARSER_MEDIA_TYPE,Qn=Ln==="application/xhtml+xml"?stringToString:stringToLowerCase,Nt=objectHasOwnProperty(en,"ALLOWED_TAGS")?addToSet({},en.ALLOWED_TAGS,Qn):It,Bt=objectHasOwnProperty(en,"ALLOWED_ATTR")?addToSet({},en.ALLOWED_ATTR,Qn):zt,jn=objectHasOwnProperty(en,"ALLOWED_NAMESPACES")?addToSet({},en.ALLOWED_NAMESPACES,stringToString):Fn,tr=objectHasOwnProperty(en,"ADD_URI_SAFE_ATTR")?addToSet(clone$1(cr),en.ADD_URI_SAFE_ATTR,Qn):cr,qn=objectHasOwnProperty(en,"ADD_DATA_URI_TAGS")?addToSet(clone$1(or),en.ADD_DATA_URI_TAGS,Qn):or,Nn=objectHasOwnProperty(en,"FORBID_CONTENTS")?addToSet({},en.FORBID_CONTENTS,Qn):wn,Kt=objectHasOwnProperty(en,"FORBID_TAGS")?addToSet({},en.FORBID_TAGS,Qn):{},fn=objectHasOwnProperty(en,"FORBID_ATTR")?addToSet({},en.FORBID_ATTR,Qn):{},Dn=objectHasOwnProperty(en,"USE_PROFILES")?en.USE_PROFILES:!1,dn=en.ALLOW_ARIA_ATTR!==!1,Wt=en.ALLOW_DATA_ATTR!==!1,rn=en.ALLOW_UNKNOWN_PROTOCOLS||!1,Vt=en.ALLOW_SELF_CLOSE_IN_ATTR!==!1,an=en.SAFE_FOR_TEMPLATES||!1,Qt=en.SAFE_FOR_XML!==!1,Zt=en.WHOLE_DOCUMENT||!1,gn=en.RETURN_DOM||!1,Cn=en.RETURN_DOM_FRAGMENT||!1,kn=en.RETURN_TRUSTED_TYPE||!1,vn=en.FORCE_BODY||!1,En=en.SANITIZE_DOM!==!1,sn=en.SANITIZE_NAMED_PROPS||!1,Tn=en.KEEP_CONTENT!==!1,bn=en.IN_PLACE||!1,Ot=en.ALLOWED_URI_REGEXP||IS_ALLOWED_URI,pn=en.NAMESPACE||Jt,Gt=en.CUSTOM_ELEMENT_HANDLING||{},en.CUSTOM_ELEMENT_HANDLING&&mn(en.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Gt.tagNameCheck=en.CUSTOM_ELEMENT_HANDLING.tagNameCheck),en.CUSTOM_ELEMENT_HANDLING&&mn(en.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Gt.attributeNameCheck=en.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),en.CUSTOM_ELEMENT_HANDLING&&typeof en.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Gt.allowCustomizedBuiltInElements=en.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),an&&(Wt=!1),Cn&&(gn=!0),Dn&&(Nt=addToSet({},text$1),Bt=[],Dn.html===!0&&(addToSet(Nt,html$1),addToSet(Bt,html$2)),Dn.svg===!0&&(addToSet(Nt,svg$1$1),addToSet(Bt,svg$6),addToSet(Bt,xml)),Dn.svgFilters===!0&&(addToSet(Nt,svgFilters),addToSet(Bt,svg$6),addToSet(Bt,xml)),Dn.mathMl===!0&&(addToSet(Nt,mathMl$1),addToSet(Bt,mathMl),addToSet(Bt,xml))),en.ADD_TAGS&&(Nt===It&&(Nt=clone$1(Nt)),addToSet(Nt,en.ADD_TAGS,Qn)),en.ADD_ATTR&&(Bt===zt&&(Bt=clone$1(Bt)),addToSet(Bt,en.ADD_ATTR,Qn)),en.ADD_URI_SAFE_ATTR&&addToSet(tr,en.ADD_URI_SAFE_ATTR,Qn),en.FORBID_CONTENTS&&(Nn===wn&&(Nn=clone$1(Nn)),addToSet(Nn,en.FORBID_CONTENTS,Qn)),Tn&&(Nt["#text"]=!0),Zt&&addToSet(Nt,["html","head","body"]),Nt.table&&(addToSet(Nt,["tbody"]),delete Kt.tbody),en.TRUSTED_TYPES_POLICY){if(typeof en.TRUSTED_TYPES_POLICY.createHTML!="function")throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof en.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');bt=en.TRUSTED_TYPES_POLICY,xt=bt.createHTML("")}else bt===void 0&&(bt=_createTrustedTypesPolicy(ct,rt)),bt!==null&&typeof xt=="string"&&(xt=bt.createHTML(""));freeze&&freeze(en),Yt=en}},qt=addToSet({},["mi","mo","mn","ms","mtext"]),Sn=addToSet({},["foreignobject","annotation-xml"]),Bn=addToSet({},["title","style","font","a","script"]),Zn=addToSet({},[...svg$1$1,...svgFilters,...svgDisallowed]),Hn=addToSet({},[...mathMl$1,...mathMlDisallowed]),sr=function(en){let Mn=yt(en);(!Mn||!Mn.tagName)&&(Mn={namespaceURI:pn,tagName:"template"});const Wn=stringToLowerCase(en.tagName),pr=stringToLowerCase(Mn.tagName);return jn[en.namespaceURI]?en.namespaceURI===Vn?Mn.namespaceURI===Jt?Wn==="svg":Mn.namespaceURI===rr?Wn==="svg"&&(pr==="annotation-xml"||qt[pr]):!!Zn[Wn]:en.namespaceURI===rr?Mn.namespaceURI===Jt?Wn==="math":Mn.namespaceURI===Vn?Wn==="math"&&Sn[pr]:!!Hn[Wn]:en.namespaceURI===Jt?Mn.namespaceURI===Vn&&!Sn[pr]||Mn.namespaceURI===rr&&!qt[pr]?!1:!Hn[Wn]&&(Bn[Wn]||!Zn[Wn]):!!(Ln==="application/xhtml+xml"&&jn[en.namespaceURI]):!1},nr=function(en){arrayPush(et.removed,{element:en});try{en.parentNode.removeChild(en)}catch{en.remove()}},dr=function(en,Mn){try{arrayPush(et.removed,{attribute:Mn.getAttributeNode(en),from:Mn})}catch{arrayPush(et.removed,{attribute:null,from:Mn})}if(Mn.removeAttribute(en),en==="is"&&!Bt[en])if(gn||Cn)try{nr(Mn)}catch{}else try{Mn.setAttribute(en,"")}catch{}},zn=function(en){let Mn=null,Wn=null;if(vn)en="<remove></remove>"+en;else{const kr=stringMatch(en,/^[\r\n\t ]+/);Wn=kr&&kr[0]}Ln==="application/xhtml+xml"&&pn===Jt&&(en='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+en+"</body></html>");const pr=bt?bt.createHTML(en):en;if(pn===Jt)try{Mn=new at().parseFromString(pr,Ln)}catch{}if(!Mn||!Mn.documentElement){Mn=vt.createDocument(pn,"template",null);try{Mn.documentElement.innerHTML=$n?xt:pr}catch{}}const Sr=Mn.body||Mn.documentElement;return en&&Wn&&Sr.insertBefore(tt.createTextNode(Wn),Sr.childNodes[0]||null),pn===Jt?Ct.call(Mn,Zt?"html":"body")[0]:Zt?Mn.documentElement:Sr},mr=function(en){return wt.call(en.ownerDocument||en,en,ft.SHOW_ELEMENT|ft.SHOW_COMMENT|ft.SHOW_TEXT|ft.SHOW_PROCESSING_INSTRUCTION|ft.SHOW_CDATA_SECTION,null)},$r=function(en){return en instanceof lt&&(typeof en.nodeName!="string"||typeof en.textContent!="string"||typeof en.removeChild!="function"||!(en.attributes instanceof dt)||typeof en.removeAttribute!="function"||typeof en.setAttribute!="function"||typeof en.namespaceURI!="string"||typeof en.insertBefore!="function"||typeof en.hasChildNodes!="function")},lr=function(en){return typeof st=="function"&&en instanceof st},wr=function(en,Mn,Wn){$t[en]&&arrayForEach($t[en],pr=>{pr.call(et,Mn,Wn,Yt)})},gr=function(en){let Mn=null;if(wr("beforeSanitizeElements",en,null),$r(en))return nr(en),!0;const Wn=Qn(en.nodeName);if(wr("uponSanitizeElement",en,{tagName:Wn,allowedTags:Nt}),en.hasChildNodes()&&!lr(en.firstElementChild)&&regExpTest(/<[/\w]/g,en.innerHTML)&&regExpTest(/<[/\w]/g,en.textContent)||en.nodeType===NODE_TYPE.progressingInstruction||Qt&&en.nodeType===NODE_TYPE.comment&&regExpTest(/<[/\w]/g,en.data))return nr(en),!0;if(!Nt[Wn]||Kt[Wn]){if(!Kt[Wn]&&jr(Wn)&&(Gt.tagNameCheck instanceof RegExp&&regExpTest(Gt.tagNameCheck,Wn)||Gt.tagNameCheck instanceof Function&&Gt.tagNameCheck(Wn)))return!1;if(Tn&&!Nn[Wn]){const pr=yt(en)||en.parentNode,Sr=gt(en)||en.childNodes;if(Sr&&pr){const kr=Sr.length;for(let _r=kr-1;_r>=0;--_r){const vr=pt(Sr[_r],!0);vr.__removalCount=(en.__removalCount||0)+1,pr.insertBefore(vr,mt(en))}}}return nr(en),!0}return en instanceof ut&&!sr(en)||(Wn==="noscript"||Wn==="noembed"||Wn==="noframes")&&regExpTest(/<\/no(script|embed|frames)/i,en.innerHTML)?(nr(en),!0):(an&&en.nodeType===NODE_TYPE.text&&(Mn=en.textContent,arrayForEach([jt,Dt,Pt],pr=>{Mn=stringReplace(Mn,pr," ")}),en.textContent!==Mn&&(arrayPush(et.removed,{element:en.cloneNode()}),en.textContent=Mn)),wr("afterSanitizeElements",en,null),!1)},Kn=function(en,Mn,Wn){if(En&&(Mn==="id"||Mn==="name")&&(Wn in tt||Wn in hn))return!1;if(!(Wt&&!fn[Mn]&&regExpTest(kt,Mn))){if(!(dn&&regExpTest(At,Mn))){if(!Bt[Mn]||fn[Mn]){if(!(jr(en)&&(Gt.tagNameCheck instanceof RegExp&&regExpTest(Gt.tagNameCheck,en)||Gt.tagNameCheck instanceof Function&&Gt.tagNameCheck(en))&&(Gt.attributeNameCheck instanceof RegExp&&regExpTest(Gt.attributeNameCheck,Mn)||Gt.attributeNameCheck instanceof Function&&Gt.attributeNameCheck(Mn))||Mn==="is"&&Gt.allowCustomizedBuiltInElements&&(Gt.tagNameCheck instanceof RegExp&&regExpTest(Gt.tagNameCheck,Wn)||Gt.tagNameCheck instanceof Function&&Gt.tagNameCheck(Wn))))return!1}else if(!tr[Mn]){if(!regExpTest(Ot,stringReplace(Wn,St,""))){if(!((Mn==="src"||Mn==="xlink:href"||Mn==="href")&&en!=="script"&&stringIndexOf(Wn,"data:")===0&&qn[en])){if(!(rn&&!regExpTest(Tt,stringReplace(Wn,St,"")))){if(Wn)return!1}}}}}}return!0},jr=function(en){return en!=="annotation-xml"&&stringMatch(en,Rt)},Pr=function(en){wr("beforeSanitizeAttributes",en,null);const{attributes:Mn}=en;if(!Mn)return;const Wn={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Bt};let pr=Mn.length;for(;pr--;){const Sr=Mn[pr],{name:kr,namespaceURI:_r,value:vr}=Sr,ur=Qn(kr);let Er=kr==="value"?vr:stringTrim(vr);if(Wn.attrName=ur,Wn.attrValue=Er,Wn.keepAttr=!0,Wn.forceKeepAttr=void 0,wr("uponSanitizeAttribute",en,Wn),Er=Wn.attrValue,Wn.forceKeepAttr||(dr(kr,en),!Wn.keepAttr))continue;if(!Vt&&regExpTest(/\/>/i,Er)){dr(kr,en);continue}if(Qt&&regExpTest(/((--!?|])>)|<\/(style|title)/i,Er)){dr(kr,en);continue}an&&arrayForEach([jt,Dt,Pt],Dr=>{Er=stringReplace(Er,Dr," ")});const Cr=Qn(en.nodeName);if(Kn(Cr,ur,Er)){if(sn&&(ur==="id"||ur==="name")&&(dr(kr,en),Er=On+Er),bt&&typeof ct=="object"&&typeof ct.getAttributeType=="function"&&!_r)switch(ct.getAttributeType(Cr,ur)){case"TrustedHTML":{Er=bt.createHTML(Er);break}case"TrustedScriptURL":{Er=bt.createScriptURL(Er);break}}try{_r?en.setAttributeNS(_r,kr,Er):en.setAttribute(kr,Er),$r(en)?nr(en):arrayPop(et.removed)}catch{}}}wr("afterSanitizeAttributes",en,null)},Lr=function Un(en){let Mn=null;const Wn=mr(en);for(wr("beforeSanitizeShadowDOM",en,null);Mn=Wn.nextNode();)wr("uponSanitizeShadowNode",Mn,null),!gr(Mn)&&(Mn.content instanceof it&&Un(Mn.content),Pr(Mn));wr("afterSanitizeShadowDOM",en,null)};return et.sanitize=function(Un){let en=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Mn=null,Wn=null,pr=null,Sr=null;if($n=!Un,$n&&(Un="<!-->"),typeof Un!="string"&&!lr(Un))if(typeof Un.toString=="function"){if(Un=Un.toString(),typeof Un!="string")throw typeErrorCreate("dirty is not a string, aborting")}else throw typeErrorCreate("toString is not a function");if(!et.isSupported)return Un;if(xn||yn(en),et.removed=[],typeof Un=="string"&&(bn=!1),bn){if(Un.nodeName){const vr=Qn(Un.nodeName);if(!Nt[vr]||Kt[vr])throw typeErrorCreate("root node is forbidden and cannot be sanitized in-place")}}else if(Un instanceof st)Mn=zn("<!---->"),Wn=Mn.ownerDocument.importNode(Un,!0),Wn.nodeType===NODE_TYPE.element&&Wn.nodeName==="BODY"||Wn.nodeName==="HTML"?Mn=Wn:Mn.appendChild(Wn);else{if(!gn&&!an&&!Zt&&Un.indexOf("<")===-1)return bt&&kn?bt.createHTML(Un):Un;if(Mn=zn(Un),!Mn)return gn?null:kn?xt:""}Mn&&vn&&nr(Mn.firstChild);const kr=mr(bn?Un:Mn);for(;pr=kr.nextNode();)gr(pr)||(pr.content instanceof it&&Lr(pr.content),Pr(pr));if(bn)return Un;if(gn){if(Cn)for(Sr=_t.call(Mn.ownerDocument);Mn.firstChild;)Sr.appendChild(Mn.firstChild);else Sr=Mn;return(Bt.shadowroot||Bt.shadowrootmode)&&(Sr=Et.call(nt,Sr,!0)),Sr}let _r=Zt?Mn.outerHTML:Mn.innerHTML;return Zt&&Nt["!doctype"]&&Mn.ownerDocument&&Mn.ownerDocument.doctype&&Mn.ownerDocument.doctype.name&&regExpTest(DOCTYPE_NAME,Mn.ownerDocument.doctype.name)&&(_r="<!DOCTYPE "+Mn.ownerDocument.doctype.name+`>
`+_r),an&&arrayForEach([jt,Dt,Pt],vr=>{_r=stringReplace(_r,vr," ")}),bt&&kn?bt.createHTML(_r):_r},et.setConfig=function(){let Un=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};yn(Un),xn=!0},et.clearConfig=function(){Yt=null,xn=!1},et.isValidAttribute=function(Un,en,Mn){Yt||yn({});const Wn=Qn(Un),pr=Qn(en);return Kn(Wn,pr,Mn)},et.addHook=function(Un,en){typeof en=="function"&&($t[Un]=$t[Un]||[],arrayPush($t[Un],en))},et.removeHook=function(Un){if($t[Un])return arrayPop($t[Un])},et.removeHooks=function(Un){$t[Un]&&($t[Un]=[])},et.removeAllHooks=function(){$t={}},et}var purify=createDOMPurify();const Channel={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:_e=>_e>=255?255:_e<0?0:_e,g:_e=>_e>=255?255:_e<0?0:_e,b:_e=>_e>=255?255:_e<0?0:_e,h:_e=>_e%360,s:_e=>_e>=100?100:_e<0?0:_e,l:_e=>_e>=100?100:_e<0?0:_e,a:_e=>_e>=1?1:_e<0?0:_e},toLinear:_e=>{const et=_e/255;return _e>.03928?Math.pow((et+.055)/1.055,2.4):et/12.92},hue2rgb:(_e,et,tt)=>(tt<0&&(tt+=1),tt>1&&(tt-=1),tt<1/6?_e+(et-_e)*6*tt:tt<1/2?et:tt<2/3?_e+(et-_e)*(2/3-tt)*6:_e),hsl2rgb:({h:_e,s:et,l:tt},nt)=>{if(!et)return tt*2.55;_e/=360,et/=100,tt/=100;const rt=tt<.5?tt*(1+et):tt+et-tt*et,it=2*tt-rt;switch(nt){case"r":return Channel.hue2rgb(it,rt,_e+1/3)*255;case"g":return Channel.hue2rgb(it,rt,_e)*255;case"b":return Channel.hue2rgb(it,rt,_e-1/3)*255}},rgb2hsl:({r:_e,g:et,b:tt},nt)=>{_e/=255,et/=255,tt/=255;const rt=Math.max(_e,et,tt),it=Math.min(_e,et,tt),ot=(rt+it)/2;if(nt==="l")return ot*100;if(rt===it)return 0;const st=rt-it,ut=ot>.5?st/(2-rt-it):st/(rt+it);if(nt==="s")return ut*100;switch(rt){case _e:return((et-tt)/st+(et<tt?6:0))*60;case et:return((tt-_e)/st+2)*60;case tt:return((_e-et)/st+4)*60;default:return-1}}},Lang={clamp:(_e,et,tt)=>et>tt?Math.min(et,Math.max(tt,_e)):Math.min(tt,Math.max(et,_e)),round:_e=>Math.round(_e*1e10)/1e10},Unit={dec2hex:_e=>{const et=Math.round(_e).toString(16);return et.length>1?et:`0${et}`}},Utils={channel:Channel,lang:Lang,unit:Unit},DEC2HEX={};for(let _e=0;_e<=255;_e++)DEC2HEX[_e]=Utils.unit.dec2hex(_e);const TYPE={ALL:0,RGB:1,HSL:2};class Type{constructor(){this.type=TYPE.ALL}get(){return this.type}set(et){if(this.type&&this.type!==et)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=et}reset(){this.type=TYPE.ALL}is(et){return this.type===et}}class Channels{constructor(et,tt){this.color=tt,this.changed=!1,this.data=et,this.type=new Type}set(et,tt){return this.color=tt,this.changed=!1,this.data=et,this.type.type=TYPE.ALL,this}_ensureHSL(){const et=this.data,{h:tt,s:nt,l:rt}=et;tt===void 0&&(et.h=Utils.channel.rgb2hsl(et,"h")),nt===void 0&&(et.s=Utils.channel.rgb2hsl(et,"s")),rt===void 0&&(et.l=Utils.channel.rgb2hsl(et,"l"))}_ensureRGB(){const et=this.data,{r:tt,g:nt,b:rt}=et;tt===void 0&&(et.r=Utils.channel.hsl2rgb(et,"r")),nt===void 0&&(et.g=Utils.channel.hsl2rgb(et,"g")),rt===void 0&&(et.b=Utils.channel.hsl2rgb(et,"b"))}get r(){const et=this.data,tt=et.r;return!this.type.is(TYPE.HSL)&&tt!==void 0?tt:(this._ensureHSL(),Utils.channel.hsl2rgb(et,"r"))}get g(){const et=this.data,tt=et.g;return!this.type.is(TYPE.HSL)&&tt!==void 0?tt:(this._ensureHSL(),Utils.channel.hsl2rgb(et,"g"))}get b(){const et=this.data,tt=et.b;return!this.type.is(TYPE.HSL)&&tt!==void 0?tt:(this._ensureHSL(),Utils.channel.hsl2rgb(et,"b"))}get h(){const et=this.data,tt=et.h;return!this.type.is(TYPE.RGB)&&tt!==void 0?tt:(this._ensureRGB(),Utils.channel.rgb2hsl(et,"h"))}get s(){const et=this.data,tt=et.s;return!this.type.is(TYPE.RGB)&&tt!==void 0?tt:(this._ensureRGB(),Utils.channel.rgb2hsl(et,"s"))}get l(){const et=this.data,tt=et.l;return!this.type.is(TYPE.RGB)&&tt!==void 0?tt:(this._ensureRGB(),Utils.channel.rgb2hsl(et,"l"))}get a(){return this.data.a}set r(et){this.type.set(TYPE.RGB),this.changed=!0,this.data.r=et}set g(et){this.type.set(TYPE.RGB),this.changed=!0,this.data.g=et}set b(et){this.type.set(TYPE.RGB),this.changed=!0,this.data.b=et}set h(et){this.type.set(TYPE.HSL),this.changed=!0,this.data.h=et}set s(et){this.type.set(TYPE.HSL),this.changed=!0,this.data.s=et}set l(et){this.type.set(TYPE.HSL),this.changed=!0,this.data.l=et}set a(et){this.changed=!0,this.data.a=et}}const channels=new Channels({r:0,g:0,b:0,a:0},"transparent"),Hex={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:_e=>{if(_e.charCodeAt(0)!==35)return;const et=_e.match(Hex.re);if(!et)return;const tt=et[1],nt=parseInt(tt,16),rt=tt.length,it=rt%4===0,ot=rt>4,st=ot?1:17,ut=ot?8:4,ft=it?0:-1,dt=ot?255:15;return channels.set({r:(nt>>ut*(ft+3)&dt)*st,g:(nt>>ut*(ft+2)&dt)*st,b:(nt>>ut*(ft+1)&dt)*st,a:it?(nt&dt)*st/255:1},_e)},stringify:_e=>{const{r:et,g:tt,b:nt,a:rt}=_e;return rt<1?`#${DEC2HEX[Math.round(et)]}${DEC2HEX[Math.round(tt)]}${DEC2HEX[Math.round(nt)]}${DEC2HEX[Math.round(rt*255)]}`:`#${DEC2HEX[Math.round(et)]}${DEC2HEX[Math.round(tt)]}${DEC2HEX[Math.round(nt)]}`}},HSL={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:_e=>{const et=_e.match(HSL.hueRe);if(et){const[,tt,nt]=et;switch(nt){case"grad":return Utils.channel.clamp.h(parseFloat(tt)*.9);case"rad":return Utils.channel.clamp.h(parseFloat(tt)*180/Math.PI);case"turn":return Utils.channel.clamp.h(parseFloat(tt)*360)}}return Utils.channel.clamp.h(parseFloat(_e))},parse:_e=>{const et=_e.charCodeAt(0);if(et!==104&&et!==72)return;const tt=_e.match(HSL.re);if(!tt)return;const[,nt,rt,it,ot,st]=tt;return channels.set({h:HSL._hue2deg(nt),s:Utils.channel.clamp.s(parseFloat(rt)),l:Utils.channel.clamp.l(parseFloat(it)),a:ot?Utils.channel.clamp.a(st?parseFloat(ot)/100:parseFloat(ot)):1},_e)},stringify:_e=>{const{h:et,s:tt,l:nt,a:rt}=_e;return rt<1?`hsla(${Utils.lang.round(et)}, ${Utils.lang.round(tt)}%, ${Utils.lang.round(nt)}%, ${rt})`:`hsl(${Utils.lang.round(et)}, ${Utils.lang.round(tt)}%, ${Utils.lang.round(nt)}%)`}},Keyword={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:_e=>{_e=_e.toLowerCase();const et=Keyword.colors[_e];if(et)return Hex.parse(et)},stringify:_e=>{const et=Hex.stringify(_e);for(const tt in Keyword.colors)if(Keyword.colors[tt]===et)return tt}},RGB={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:_e=>{const et=_e.charCodeAt(0);if(et!==114&&et!==82)return;const tt=_e.match(RGB.re);if(!tt)return;const[,nt,rt,it,ot,st,ut,ft,dt]=tt;return channels.set({r:Utils.channel.clamp.r(rt?parseFloat(nt)*2.55:parseFloat(nt)),g:Utils.channel.clamp.g(ot?parseFloat(it)*2.55:parseFloat(it)),b:Utils.channel.clamp.b(ut?parseFloat(st)*2.55:parseFloat(st)),a:ft?Utils.channel.clamp.a(dt?parseFloat(ft)/100:parseFloat(ft)):1},_e)},stringify:_e=>{const{r:et,g:tt,b:nt,a:rt}=_e;return rt<1?`rgba(${Utils.lang.round(et)}, ${Utils.lang.round(tt)}, ${Utils.lang.round(nt)}, ${Utils.lang.round(rt)})`:`rgb(${Utils.lang.round(et)}, ${Utils.lang.round(tt)}, ${Utils.lang.round(nt)})`}},Color={format:{keyword:Keyword,hex:Hex,rgb:RGB,rgba:RGB,hsl:HSL,hsla:HSL},parse:_e=>{if(typeof _e!="string")return _e;const et=Hex.parse(_e)||RGB.parse(_e)||HSL.parse(_e)||Keyword.parse(_e);if(et)return et;throw new Error(`Unsupported color format: "${_e}"`)},stringify:_e=>!_e.changed&&_e.color?_e.color:_e.type.is(TYPE.HSL)||_e.data.r===void 0?HSL.stringify(_e):_e.a<1||!Number.isInteger(_e.r)||!Number.isInteger(_e.g)||!Number.isInteger(_e.b)?RGB.stringify(_e):Hex.stringify(_e)},change=(_e,et)=>{const tt=Color.parse(_e);for(const nt in et)tt[nt]=Utils.channel.clamp[nt](et[nt]);return Color.stringify(tt)},rgba=(_e,et,tt=0,nt=1)=>{if(typeof _e!="number")return change(_e,{a:et});const rt=channels.set({r:Utils.channel.clamp.r(_e),g:Utils.channel.clamp.g(et),b:Utils.channel.clamp.b(tt),a:Utils.channel.clamp.a(nt)});return Color.stringify(rt)},luminance=_e=>{const{r:et,g:tt,b:nt}=Color.parse(_e),rt=.2126*Utils.channel.toLinear(et)+.7152*Utils.channel.toLinear(tt)+.0722*Utils.channel.toLinear(nt);return Utils.lang.round(rt)},isLight=_e=>luminance(_e)>=.5,isDark=_e=>!isLight(_e),adjustChannel=(_e,et,tt)=>{const nt=Color.parse(_e),rt=nt[et],it=Utils.channel.clamp[et](rt+tt);return rt!==it&&(nt[et]=it),Color.stringify(nt)},lighten=(_e,et)=>adjustChannel(_e,"l",et),darken=(_e,et)=>adjustChannel(_e,"l",-et),adjust=(_e,et)=>{const tt=Color.parse(_e),nt={};for(const rt in et)et[rt]&&(nt[rt]=tt[rt]+et[rt]);return change(_e,nt)},mix=(_e,et,tt=50)=>{const{r:nt,g:rt,b:it,a:ot}=Color.parse(_e),{r:st,g:ut,b:ft,a:dt}=Color.parse(et),lt=tt/100,at=lt*2-1,ct=ot-dt,pt=((at*ct===-1?at:(at+ct)/(1+at*ct))+1)/2,mt=1-pt,gt=nt*pt+st*mt,yt=rt*pt+ut*mt,bt=it*pt+ft*mt,xt=ot*lt+dt*(1-lt);return rgba(gt,yt,bt,xt)},invert=(_e,et=100)=>{const tt=Color.parse(_e);return tt.r=255-tt.r,tt.g=255-tt.g,tt.b=255-tt.b,mix(tt,_e,et)};var freeGlobal=typeof global=="object"&&global&&global.Object===Object&&global,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),Symbol$1=root.Symbol,objectProto$c=Object.prototype,hasOwnProperty$a=objectProto$c.hasOwnProperty,nativeObjectToString$1=objectProto$c.toString,symToStringTag$1=Symbol$1?Symbol$1.toStringTag:void 0;function getRawTag(_e){var et=hasOwnProperty$a.call(_e,symToStringTag$1),tt=_e[symToStringTag$1];try{_e[symToStringTag$1]=void 0;var nt=!0}catch{}var rt=nativeObjectToString$1.call(_e);return nt&&(et?_e[symToStringTag$1]=tt:delete _e[symToStringTag$1]),rt}var objectProto$b=Object.prototype,nativeObjectToString=objectProto$b.toString;function objectToString(_e){return nativeObjectToString.call(_e)}var nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$1?Symbol$1.toStringTag:void 0;function baseGetTag(_e){return _e==null?_e===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(_e)?getRawTag(_e):objectToString(_e)}function isObject$2(_e){var et=typeof _e;return _e!=null&&(et=="object"||et=="function")}var asyncTag="[object AsyncFunction]",funcTag$1="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction$1(_e){if(!isObject$2(_e))return!1;var et=baseGetTag(_e);return et==funcTag$1||et==genTag||et==asyncTag||et==proxyTag}var coreJsData=root["__core-js_shared__"],maskSrcKey=function(){var _e=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return _e?"Symbol(src)_1."+_e:""}();function isMasked(_e){return!!maskSrcKey&&maskSrcKey in _e}var funcProto$2=Function.prototype,funcToString$2=funcProto$2.toString;function toSource(_e){if(_e!=null){try{return funcToString$2.call(_e)}catch{}try{return _e+""}catch{}}return""}var reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto$1=Function.prototype,objectProto$a=Object.prototype,funcToString$1=funcProto$1.toString,hasOwnProperty$9=objectProto$a.hasOwnProperty,reIsNative=RegExp("^"+funcToString$1.call(hasOwnProperty$9).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative(_e){if(!isObject$2(_e)||isMasked(_e))return!1;var et=isFunction$1(_e)?reIsNative:reIsHostCtor;return et.test(toSource(_e))}function getValue(_e,et){return _e==null?void 0:_e[et]}function getNative(_e,et){var tt=getValue(_e,et);return baseIsNative(tt)?tt:void 0}var nativeCreate=getNative(Object,"create");function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{},this.size=0}function hashDelete(_e){var et=this.has(_e)&&delete this.__data__[_e];return this.size-=et?1:0,et}var HASH_UNDEFINED$1="__lodash_hash_undefined__",objectProto$9=Object.prototype,hasOwnProperty$8=objectProto$9.hasOwnProperty;function hashGet(_e){var et=this.__data__;if(nativeCreate){var tt=et[_e];return tt===HASH_UNDEFINED$1?void 0:tt}return hasOwnProperty$8.call(et,_e)?et[_e]:void 0}var objectProto$8=Object.prototype,hasOwnProperty$7=objectProto$8.hasOwnProperty;function hashHas(_e){var et=this.__data__;return nativeCreate?et[_e]!==void 0:hasOwnProperty$7.call(et,_e)}var HASH_UNDEFINED="__lodash_hash_undefined__";function hashSet(_e,et){var tt=this.__data__;return this.size+=this.has(_e)?0:1,tt[_e]=nativeCreate&&et===void 0?HASH_UNDEFINED:et,this}function Hash(_e){var et=-1,tt=_e==null?0:_e.length;for(this.clear();++et<tt;){var nt=_e[et];this.set(nt[0],nt[1])}}Hash.prototype.clear=hashClear;Hash.prototype.delete=hashDelete;Hash.prototype.get=hashGet;Hash.prototype.has=hashHas;Hash.prototype.set=hashSet;function listCacheClear(){this.__data__=[],this.size=0}function eq(_e,et){return _e===et||_e!==_e&&et!==et}function assocIndexOf(_e,et){for(var tt=_e.length;tt--;)if(eq(_e[tt][0],et))return tt;return-1}var arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete(_e){var et=this.__data__,tt=assocIndexOf(et,_e);if(tt<0)return!1;var nt=et.length-1;return tt==nt?et.pop():splice.call(et,tt,1),--this.size,!0}function listCacheGet(_e){var et=this.__data__,tt=assocIndexOf(et,_e);return tt<0?void 0:et[tt][1]}function listCacheHas(_e){return assocIndexOf(this.__data__,_e)>-1}function listCacheSet(_e,et){var tt=this.__data__,nt=assocIndexOf(tt,_e);return nt<0?(++this.size,tt.push([_e,et])):tt[nt][1]=et,this}function ListCache(_e){var et=-1,tt=_e==null?0:_e.length;for(this.clear();++et<tt;){var nt=_e[et];this.set(nt[0],nt[1])}}ListCache.prototype.clear=listCacheClear;ListCache.prototype.delete=listCacheDelete;ListCache.prototype.get=listCacheGet;ListCache.prototype.has=listCacheHas;ListCache.prototype.set=listCacheSet;var Map$1=getNative(root,"Map");function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(Map$1||ListCache),string:new Hash}}function isKeyable(_e){var et=typeof _e;return et=="string"||et=="number"||et=="symbol"||et=="boolean"?_e!=="__proto__":_e===null}function getMapData(_e,et){var tt=_e.__data__;return isKeyable(et)?tt[typeof et=="string"?"string":"hash"]:tt.map}function mapCacheDelete(_e){var et=getMapData(this,_e).delete(_e);return this.size-=et?1:0,et}function mapCacheGet(_e){return getMapData(this,_e).get(_e)}function mapCacheHas(_e){return getMapData(this,_e).has(_e)}function mapCacheSet(_e,et){var tt=getMapData(this,_e),nt=tt.size;return tt.set(_e,et),this.size+=tt.size==nt?0:1,this}function MapCache(_e){var et=-1,tt=_e==null?0:_e.length;for(this.clear();++et<tt;){var nt=_e[et];this.set(nt[0],nt[1])}}MapCache.prototype.clear=mapCacheClear;MapCache.prototype.delete=mapCacheDelete;MapCache.prototype.get=mapCacheGet;MapCache.prototype.has=mapCacheHas;MapCache.prototype.set=mapCacheSet;var FUNC_ERROR_TEXT="Expected a function";function memoize(_e,et){if(typeof _e!="function"||et!=null&&typeof et!="function")throw new TypeError(FUNC_ERROR_TEXT);var tt=function(){var nt=arguments,rt=et?et.apply(this,nt):nt[0],it=tt.cache;if(it.has(rt))return it.get(rt);var ot=_e.apply(this,nt);return tt.cache=it.set(rt,ot)||it,ot};return tt.cache=new(memoize.Cache||MapCache),tt}memoize.Cache=MapCache;function stackClear(){this.__data__=new ListCache,this.size=0}function stackDelete(_e){var et=this.__data__,tt=et.delete(_e);return this.size=et.size,tt}function stackGet(_e){return this.__data__.get(_e)}function stackHas(_e){return this.__data__.has(_e)}var LARGE_ARRAY_SIZE=200;function stackSet(_e,et){var tt=this.__data__;if(tt instanceof ListCache){var nt=tt.__data__;if(!Map$1||nt.length<LARGE_ARRAY_SIZE-1)return nt.push([_e,et]),this.size=++tt.size,this;tt=this.__data__=new MapCache(nt)}return tt.set(_e,et),this.size=tt.size,this}function Stack(_e){var et=this.__data__=new ListCache(_e);this.size=et.size}Stack.prototype.clear=stackClear;Stack.prototype.delete=stackDelete;Stack.prototype.get=stackGet;Stack.prototype.has=stackHas;Stack.prototype.set=stackSet;var defineProperty=function(){try{var _e=getNative(Object,"defineProperty");return _e({},"",{}),_e}catch{}}();function baseAssignValue(_e,et,tt){et=="__proto__"&&defineProperty?defineProperty(_e,et,{configurable:!0,enumerable:!0,value:tt,writable:!0}):_e[et]=tt}function assignMergeValue(_e,et,tt){(tt!==void 0&&!eq(_e[et],tt)||tt===void 0&&!(et in _e))&&baseAssignValue(_e,et,tt)}function createBaseFor(_e){return function(et,tt,nt){for(var rt=-1,it=Object(et),ot=nt(et),st=ot.length;st--;){var ut=ot[++rt];if(tt(it[ut],ut,it)===!1)break}return et}}var baseFor=createBaseFor(),freeExports$2=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$2=freeExports$2&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$2=freeModule$2&&freeModule$2.exports===freeExports$2,Buffer$2=moduleExports$2?root.Buffer:void 0,allocUnsafe=Buffer$2?Buffer$2.allocUnsafe:void 0;function cloneBuffer(_e,et){if(et)return _e.slice();var tt=_e.length,nt=allocUnsafe?allocUnsafe(tt):new _e.constructor(tt);return _e.copy(nt),nt}var Uint8Array$1=root.Uint8Array;function cloneArrayBuffer(_e){var et=new _e.constructor(_e.byteLength);return new Uint8Array$1(et).set(new Uint8Array$1(_e)),et}function cloneTypedArray(_e,et){var tt=et?cloneArrayBuffer(_e.buffer):_e.buffer;return new _e.constructor(tt,_e.byteOffset,_e.length)}function copyArray(_e,et){var tt=-1,nt=_e.length;for(et||(et=Array(nt));++tt<nt;)et[tt]=_e[tt];return et}var objectCreate=Object.create,baseCreate=function(){function _e(){}return function(et){if(!isObject$2(et))return{};if(objectCreate)return objectCreate(et);_e.prototype=et;var tt=new _e;return _e.prototype=void 0,tt}}();function overArg(_e,et){return function(tt){return _e(et(tt))}}var getPrototype=overArg(Object.getPrototypeOf,Object),objectProto$7=Object.prototype;function isPrototype(_e){var et=_e&&_e.constructor,tt=typeof et=="function"&&et.prototype||objectProto$7;return _e===tt}function initCloneObject(_e){return typeof _e.constructor=="function"&&!isPrototype(_e)?baseCreate(getPrototype(_e)):{}}function isObjectLike(_e){return _e!=null&&typeof _e=="object"}var argsTag$1="[object Arguments]";function baseIsArguments(_e){return isObjectLike(_e)&&baseGetTag(_e)==argsTag$1}var objectProto$6=Object.prototype,hasOwnProperty$6=objectProto$6.hasOwnProperty,propertyIsEnumerable=objectProto$6.propertyIsEnumerable,isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(_e){return isObjectLike(_e)&&hasOwnProperty$6.call(_e,"callee")&&!propertyIsEnumerable.call(_e,"callee")},isArray=Array.isArray,MAX_SAFE_INTEGER$1=9007199254740991;function isLength(_e){return typeof _e=="number"&&_e>-1&&_e%1==0&&_e<=MAX_SAFE_INTEGER$1}function isArrayLike(_e){return _e!=null&&isLength(_e.length)&&!isFunction$1(_e)}function isArrayLikeObject(_e){return isObjectLike(_e)&&isArrayLike(_e)}function stubFalse(){return!1}var freeExports$1=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$1=freeExports$1&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$1=freeModule$1&&freeModule$1.exports===freeExports$1,Buffer$1=moduleExports$1?root.Buffer:void 0,nativeIsBuffer=Buffer$1?Buffer$1.isBuffer:void 0,isBuffer=nativeIsBuffer||stubFalse,objectTag$2="[object Object]",funcProto=Function.prototype,objectProto$5=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$5=objectProto$5.hasOwnProperty,objectCtorString=funcToString.call(Object);function isPlainObject(_e){if(!isObjectLike(_e)||baseGetTag(_e)!=objectTag$2)return!1;var et=getPrototype(_e);if(et===null)return!0;var tt=hasOwnProperty$5.call(et,"constructor")&&et.constructor;return typeof tt=="function"&&tt instanceof tt&&funcToString.call(tt)==objectCtorString}var argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",mapTag$2="[object Map]",numberTag="[object Number]",objectTag$1="[object Object]",regexpTag="[object RegExp]",setTag$2="[object Set]",stringTag="[object String]",weakMapTag$1="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag$1="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0;typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag$1]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag$2]=typedArrayTags[numberTag]=typedArrayTags[objectTag$1]=typedArrayTags[regexpTag]=typedArrayTags[setTag$2]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag$1]=!1;function baseIsTypedArray(_e){return isObjectLike(_e)&&isLength(_e.length)&&!!typedArrayTags[baseGetTag(_e)]}function baseUnary(_e){return function(et){return _e(et)}}var freeExports=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,freeProcess=moduleExports&&freeGlobal.process,nodeUtil=function(){try{var _e=freeModule&&freeModule.require&&freeModule.require("util").types;return _e||freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch{}}(),nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray;function safeGet(_e,et){if(!(et==="constructor"&&typeof _e[et]=="function")&&et!="__proto__")return _e[et]}var objectProto$4=Object.prototype,hasOwnProperty$4=objectProto$4.hasOwnProperty;function assignValue(_e,et,tt){var nt=_e[et];(!(hasOwnProperty$4.call(_e,et)&&eq(nt,tt))||tt===void 0&&!(et in _e))&&baseAssignValue(_e,et,tt)}function copyObject(_e,et,tt,nt){var rt=!tt;tt||(tt={});for(var it=-1,ot=et.length;++it<ot;){var st=et[it],ut=void 0;ut===void 0&&(ut=_e[st]),rt?baseAssignValue(tt,st,ut):assignValue(tt,st,ut)}return tt}function baseTimes(_e,et){for(var tt=-1,nt=Array(_e);++tt<_e;)nt[tt]=et(tt);return nt}var MAX_SAFE_INTEGER=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex(_e,et){var tt=typeof _e;return et=et??MAX_SAFE_INTEGER,!!et&&(tt=="number"||tt!="symbol"&&reIsUint.test(_e))&&_e>-1&&_e%1==0&&_e<et}var objectProto$3=Object.prototype,hasOwnProperty$3=objectProto$3.hasOwnProperty;function arrayLikeKeys(_e,et){var tt=isArray(_e),nt=!tt&&isArguments(_e),rt=!tt&&!nt&&isBuffer(_e),it=!tt&&!nt&&!rt&&isTypedArray(_e),ot=tt||nt||rt||it,st=ot?baseTimes(_e.length,String):[],ut=st.length;for(var ft in _e)(et||hasOwnProperty$3.call(_e,ft))&&!(ot&&(ft=="length"||rt&&(ft=="offset"||ft=="parent")||it&&(ft=="buffer"||ft=="byteLength"||ft=="byteOffset")||isIndex(ft,ut)))&&st.push(ft);return st}function nativeKeysIn(_e){var et=[];if(_e!=null)for(var tt in Object(_e))et.push(tt);return et}var objectProto$2=Object.prototype,hasOwnProperty$2=objectProto$2.hasOwnProperty;function baseKeysIn(_e){if(!isObject$2(_e))return nativeKeysIn(_e);var et=isPrototype(_e),tt=[];for(var nt in _e)nt=="constructor"&&(et||!hasOwnProperty$2.call(_e,nt))||tt.push(nt);return tt}function keysIn(_e){return isArrayLike(_e)?arrayLikeKeys(_e,!0):baseKeysIn(_e)}function toPlainObject(_e){return copyObject(_e,keysIn(_e))}function baseMergeDeep(_e,et,tt,nt,rt,it,ot){var st=safeGet(_e,tt),ut=safeGet(et,tt),ft=ot.get(ut);if(ft){assignMergeValue(_e,tt,ft);return}var dt=it?it(st,ut,tt+"",_e,et,ot):void 0,lt=dt===void 0;if(lt){var at=isArray(ut),ct=!at&&isBuffer(ut),ht=!at&&!ct&&isTypedArray(ut);dt=ut,at||ct||ht?isArray(st)?dt=st:isArrayLikeObject(st)?dt=copyArray(st):ct?(lt=!1,dt=cloneBuffer(ut,!0)):ht?(lt=!1,dt=cloneTypedArray(ut,!0)):dt=[]:isPlainObject(ut)||isArguments(ut)?(dt=st,isArguments(st)?dt=toPlainObject(st):(!isObject$2(st)||isFunction$1(st))&&(dt=initCloneObject(ut))):lt=!1}lt&&(ot.set(ut,dt),rt(dt,ut,nt,it,ot),ot.delete(ut)),assignMergeValue(_e,tt,dt)}function baseMerge(_e,et,tt,nt,rt){_e!==et&&baseFor(et,function(it,ot){if(rt||(rt=new Stack),isObject$2(it))baseMergeDeep(_e,et,ot,tt,baseMerge,nt,rt);else{var st=nt?nt(safeGet(_e,ot),it,ot+"",_e,et,rt):void 0;st===void 0&&(st=it),assignMergeValue(_e,ot,st)}},keysIn)}function identity(_e){return _e}function apply(_e,et,tt){switch(tt.length){case 0:return _e.call(et);case 1:return _e.call(et,tt[0]);case 2:return _e.call(et,tt[0],tt[1]);case 3:return _e.call(et,tt[0],tt[1],tt[2])}return _e.apply(et,tt)}var nativeMax=Math.max;function overRest(_e,et,tt){return et=nativeMax(et===void 0?_e.length-1:et,0),function(){for(var nt=arguments,rt=-1,it=nativeMax(nt.length-et,0),ot=Array(it);++rt<it;)ot[rt]=nt[et+rt];rt=-1;for(var st=Array(et+1);++rt<et;)st[rt]=nt[rt];return st[et]=tt(ot),apply(_e,this,st)}}function constant(_e){return function(){return _e}}var baseSetToString=defineProperty?function(_e,et){return defineProperty(_e,"toString",{configurable:!0,enumerable:!1,value:constant(et),writable:!0})}:identity,HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;function shortOut(_e){var et=0,tt=0;return function(){var nt=nativeNow(),rt=HOT_SPAN-(nt-tt);if(tt=nt,rt>0){if(++et>=HOT_COUNT)return arguments[0]}else et=0;return _e.apply(void 0,arguments)}}var setToString=shortOut(baseSetToString);function baseRest(_e,et){return setToString(overRest(_e,et,identity),_e+"")}function isIterateeCall(_e,et,tt){if(!isObject$2(tt))return!1;var nt=typeof et;return(nt=="number"?isArrayLike(tt)&&isIndex(et,tt.length):nt=="string"&&et in tt)?eq(tt[et],_e):!1}function createAssigner(_e){return baseRest(function(et,tt){var nt=-1,rt=tt.length,it=rt>1?tt[rt-1]:void 0,ot=rt>2?tt[2]:void 0;for(it=_e.length>3&&typeof it=="function"?(rt--,it):void 0,ot&&isIterateeCall(tt[0],tt[1],ot)&&(it=rt<3?void 0:it,rt=1),et=Object(et);++nt<rt;){var st=tt[nt];st&&_e(et,st,nt,it)}return et})}var merge$1=createAssigner(function(_e,et,tt){baseMerge(_e,et,tt)}),COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",LAYER="@layer",abs=Math.abs,from=String.fromCharCode;function trim(_e){return _e.trim()}function replace(_e,et,tt){return _e.replace(et,tt)}function indexof(_e,et,tt){return _e.indexOf(et,tt)}function charat(_e,et){return _e.charCodeAt(et)|0}function substr(_e,et,tt){return _e.slice(et,tt)}function strlen(_e){return _e.length}function sizeof(_e){return _e.length}function append(_e,et){return et.push(_e),_e}var line=1,column=1,length=0,position=0,character=0,characters="";function node(_e,et,tt,nt,rt,it,ot,st){return{value:_e,root:et,parent:tt,type:nt,props:rt,children:it,line,column,length:ot,return:"",siblings:st}}function char(){return character}function prev(){return character=position>0?charat(characters,--position):0,column--,character===10&&(column=1,line--),character}function next(){return character=position<length?charat(characters,position++):0,column++,character===10&&(column=1,line++),character}function peek(){return charat(characters,position)}function caret$1(){return position}function slice(_e,et){return substr(characters,_e,et)}function token(_e){switch(_e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(_e){return line=column=1,length=strlen(characters=_e),position=0,[]}function dealloc(_e){return characters="",_e}function delimit(_e){return trim(slice(position-1,delimiter(_e===91?_e+2:_e===40?_e+1:_e)))}function whitespace(_e){for(;(character=peek())&&character<33;)next();return token(_e)>2||token(character)>3?"":" "}function escaping(_e,et){for(;--et&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice(_e,caret$1()+(et<6&&peek()==32&&next()==32))}function delimiter(_e){for(;next();)switch(character){case _e:return position;case 34:case 39:_e!==34&&_e!==39&&delimiter(character);break;case 40:_e===41&&delimiter(_e);break;case 92:next();break}return position}function commenter(_e,et){for(;next()&&_e+character!==57;)if(_e+character===84&&peek()===47)break;return"/*"+slice(et,position-1)+"*"+from(_e===47?_e:next())}function identifier(_e){for(;!token(peek());)next();return slice(_e,position)}function compile(_e){return dealloc(parse$3("",null,null,null,[""],_e=alloc(_e),0,[0],_e))}function parse$3(_e,et,tt,nt,rt,it,ot,st,ut){for(var ft=0,dt=0,lt=ot,at=0,ct=0,ht=0,pt=1,mt=1,gt=1,yt=0,bt="",xt=rt,vt=it,wt=nt,_t=bt;mt;)switch(ht=yt,yt=next()){case 40:if(ht!=108&&charat(_t,lt-1)==58){indexof(_t+=replace(delimit(yt),"&","&\f"),"&\f",abs(ft?st[ft-1]:0))!=-1&&(gt=-1);break}case 34:case 39:case 91:_t+=delimit(yt);break;case 9:case 10:case 13:case 32:_t+=whitespace(ht);break;case 92:_t+=escaping(caret$1()-1,7);continue;case 47:switch(peek()){case 42:case 47:append(comment(commenter(next(),caret$1()),et,tt,ut),ut);break;default:_t+="/"}break;case 123*pt:st[ft++]=strlen(_t)*gt;case 125*pt:case 59:case 0:switch(yt){case 0:case 125:mt=0;case 59+dt:gt==-1&&(_t=replace(_t,/\f/g,"")),ct>0&&strlen(_t)-lt&&append(ct>32?declaration(_t+";",nt,tt,lt-1,ut):declaration(replace(_t," ","")+";",nt,tt,lt-2,ut),ut);break;case 59:_t+=";";default:if(append(wt=ruleset(_t,et,tt,ft,dt,rt,st,bt,xt=[],vt=[],lt,it),it),yt===123)if(dt===0)parse$3(_t,et,wt,wt,xt,it,lt,st,vt);else switch(at===99&&charat(_t,3)===110?100:at){case 100:case 108:case 109:case 115:parse$3(_e,wt,wt,nt&&append(ruleset(_e,wt,wt,0,0,rt,st,bt,rt,xt=[],lt,vt),vt),rt,vt,lt,st,nt?xt:vt);break;default:parse$3(_t,wt,wt,wt,[""],vt,0,st,vt)}}ft=dt=ct=0,pt=gt=1,bt=_t="",lt=ot;break;case 58:lt=1+strlen(_t),ct=ht;default:if(pt<1){if(yt==123)--pt;else if(yt==125&&pt++==0&&prev()==125)continue}switch(_t+=from(yt),yt*pt){case 38:gt=dt>0?1:(_t+="\f",-1);break;case 44:st[ft++]=(strlen(_t)-1)*gt,gt=1;break;case 64:peek()===45&&(_t+=delimit(next())),at=peek(),dt=lt=strlen(bt=_t+=identifier(caret$1())),yt++;break;case 45:ht===45&&strlen(_t)==2&&(pt=0)}}return it}function ruleset(_e,et,tt,nt,rt,it,ot,st,ut,ft,dt,lt){for(var at=rt-1,ct=rt===0?it:[""],ht=sizeof(ct),pt=0,mt=0,gt=0;pt<nt;++pt)for(var yt=0,bt=substr(_e,at+1,at=abs(mt=ot[pt])),xt=_e;yt<ht;++yt)(xt=trim(mt>0?ct[yt]+" "+bt:replace(bt,/&\f/g,ct[yt])))&&(ut[gt++]=xt);return node(_e,et,tt,rt===0?RULESET:st,ut,ft,dt,lt)}function comment(_e,et,tt,nt){return node(_e,et,tt,COMMENT,from(char()),substr(_e,2,-2),0,nt)}function declaration(_e,et,tt,nt,rt){return node(_e,et,tt,DECLARATION,substr(_e,0,nt),substr(_e,nt+1,-1),nt,rt)}function serialize(_e,et){for(var tt="",nt=0;nt<_e.length;nt++)tt+=et(_e[nt],nt,_e,et)||"";return tt}function stringify(_e,et,tt,nt){switch(_e.type){case LAYER:if(_e.children.length)break;case IMPORT:case DECLARATION:return _e.return=_e.return||_e.value;case COMMENT:return"";case KEYFRAMES:return _e.return=_e.value+"{"+serialize(_e.children,nt)+"}";case RULESET:if(!strlen(_e.value=_e.props.join(",")))return""}return strlen(tt=serialize(_e.children,nt))?_e.return=_e.value+"{"+tt+"}":""}var nativeKeys=overArg(Object.keys,Object),objectProto$1=Object.prototype,hasOwnProperty$1=objectProto$1.hasOwnProperty;function baseKeys(_e){if(!isPrototype(_e))return nativeKeys(_e);var et=[];for(var tt in Object(_e))hasOwnProperty$1.call(_e,tt)&&tt!="constructor"&&et.push(tt);return et}var DataView$1=getNative(root,"DataView"),Promise$1=getNative(root,"Promise"),Set$1=getNative(root,"Set"),WeakMap$1=getNative(root,"WeakMap"),mapTag$1="[object Map]",objectTag="[object Object]",promiseTag="[object Promise]",setTag$1="[object Set]",weakMapTag="[object WeakMap]",dataViewTag="[object DataView]",dataViewCtorString=toSource(DataView$1),mapCtorString=toSource(Map$1),promiseCtorString=toSource(Promise$1),setCtorString=toSource(Set$1),weakMapCtorString=toSource(WeakMap$1),getTag=baseGetTag;(DataView$1&&getTag(new DataView$1(new ArrayBuffer(1)))!=dataViewTag||Map$1&&getTag(new Map$1)!=mapTag$1||Promise$1&&getTag(Promise$1.resolve())!=promiseTag||Set$1&&getTag(new Set$1)!=setTag$1||WeakMap$1&&getTag(new WeakMap$1)!=weakMapTag)&&(getTag=function(_e){var et=baseGetTag(_e),tt=et==objectTag?_e.constructor:void 0,nt=tt?toSource(tt):"";if(nt)switch(nt){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag$1;case promiseCtorString:return promiseTag;case setCtorString:return setTag$1;case weakMapCtorString:return weakMapTag}return et});var mapTag="[object Map]",setTag="[object Set]",objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;function isEmpty(_e){if(_e==null)return!0;if(isArrayLike(_e)&&(isArray(_e)||typeof _e=="string"||typeof _e.splice=="function"||isBuffer(_e)||isTypedArray(_e)||isArguments(_e)))return!_e.length;var et=getTag(_e);if(et==mapTag||et==setTag)return!_e.size;if(isPrototype(_e))return!baseKeys(_e).length;for(var tt in _e)if(hasOwnProperty.call(_e,tt))return!1;return!0}const LEVELS={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},log$1={trace:(..._e)=>{},debug:(..._e)=>{},info:(..._e)=>{},warn:(..._e)=>{},error:(..._e)=>{},fatal:(..._e)=>{}},setLogLevel$1=function(_e="fatal"){let et=LEVELS.fatal;typeof _e=="string"?(_e=_e.toLowerCase(),_e in LEVELS&&(et=LEVELS[_e])):typeof _e=="number"&&(et=_e),log$1.trace=()=>{},log$1.debug=()=>{},log$1.info=()=>{},log$1.warn=()=>{},log$1.error=()=>{},log$1.fatal=()=>{},et<=LEVELS.fatal&&(log$1.fatal=console.error?console.error.bind(console,format$1("FATAL"),"color: orange"):console.log.bind(console,"\x1B[35m",format$1("FATAL"))),et<=LEVELS.error&&(log$1.error=console.error?console.error.bind(console,format$1("ERROR"),"color: orange"):console.log.bind(console,"\x1B[31m",format$1("ERROR"))),et<=LEVELS.warn&&(log$1.warn=console.warn?console.warn.bind(console,format$1("WARN"),"color: orange"):console.log.bind(console,"\x1B[33m",format$1("WARN"))),et<=LEVELS.info&&(log$1.info=console.info?console.info.bind(console,format$1("INFO"),"color: lightblue"):console.log.bind(console,"\x1B[34m",format$1("INFO"))),et<=LEVELS.debug&&(log$1.debug=console.debug?console.debug.bind(console,format$1("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",format$1("DEBUG"))),et<=LEVELS.trace&&(log$1.trace=console.debug?console.debug.bind(console,format$1("TRACE"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",format$1("TRACE")))},format$1=_e=>`%c${dayjs().format("ss.SSS")} : ${_e} : `,lineBreakRegex=/<br\s*\/?>/gi,getRows=_e=>_e?breakToPlaceholder(_e).replace(/\\n/g,"#br#").split("#br#"):[""],setupDompurifyHooksIfNotSetup=(()=>{let _e=!1;return()=>{_e||(setupDompurifyHooks(),_e=!0)}})();function setupDompurifyHooks(){const _e="data-temp-href-target";purify.addHook("beforeSanitizeAttributes",et=>{et.tagName==="A"&&et.hasAttribute("target")&&et.setAttribute(_e,et.getAttribute("target")||"")}),purify.addHook("afterSanitizeAttributes",et=>{et.tagName==="A"&&et.hasAttribute(_e)&&(et.setAttribute("target",et.getAttribute(_e)||""),et.removeAttribute(_e),et.getAttribute("target")==="_blank"&&et.setAttribute("rel","noopener"))})}const removeScript=_e=>(setupDompurifyHooksIfNotSetup(),purify.sanitize(_e)),sanitizeMore=(_e,et)=>{var tt;if(((tt=et.flowchart)==null?void 0:tt.htmlLabels)!==!1){const nt=et.securityLevel;nt==="antiscript"||nt==="strict"?_e=removeScript(_e):nt!=="loose"&&(_e=breakToPlaceholder(_e),_e=_e.replace(/</g,"&lt;").replace(/>/g,"&gt;"),_e=_e.replace(/=/g,"&equals;"),_e=placeholderToBreak(_e))}return _e},sanitizeText$2=(_e,et)=>_e&&(et.dompurifyConfig?_e=purify.sanitize(sanitizeMore(_e,et),et.dompurifyConfig).toString():_e=purify.sanitize(sanitizeMore(_e,et),{FORBID_TAGS:["style"]}).toString(),_e),sanitizeTextOrArray=(_e,et)=>typeof _e=="string"?sanitizeText$2(_e,et):_e.flat().map(tt=>sanitizeText$2(tt,et)),hasBreaks=_e=>lineBreakRegex.test(_e),splitBreaks=_e=>_e.split(lineBreakRegex),placeholderToBreak=_e=>_e.replace(/#br#/g,"<br/>"),breakToPlaceholder=_e=>_e.replace(lineBreakRegex,"#br#"),getUrl=_e=>{let et="";return _e&&(et=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,et=et.replaceAll(/\(/g,"\\("),et=et.replaceAll(/\)/g,"\\)")),et},evaluate$1=_e=>!(_e===!1||["false","null","0"].includes(String(_e).trim().toLowerCase())),getMax=function(..._e){const et=_e.filter(tt=>!isNaN(tt));return Math.max(...et)},getMin=function(..._e){const et=_e.filter(tt=>!isNaN(tt));return Math.min(...et)},parseGenericTypes=function(_e){const et=_e.split(/(,)/),tt=[];for(let nt=0;nt<et.length;nt++){let rt=et[nt];if(rt===","&&nt>0&&nt+1<et.length){const it=et[nt-1],ot=et[nt+1];shouldCombineSets(it,ot)&&(rt=it+","+ot,nt++,tt.pop())}tt.push(processSet(rt))}return tt.join("")},countOccurrence=(_e,et)=>Math.max(0,_e.split(et).length-1),shouldCombineSets=(_e,et)=>{const tt=countOccurrence(_e,"~"),nt=countOccurrence(et,"~");return tt===1&&nt===1},processSet=_e=>{const et=countOccurrence(_e,"~");let tt=!1;if(et<=1)return _e;et%2!==0&&_e.startsWith("~")&&(_e=_e.substring(1),tt=!0);const nt=[..._e];let rt=nt.indexOf("~"),it=nt.lastIndexOf("~");for(;rt!==-1&&it!==-1&&rt!==it;)nt[rt]="<",nt[it]=">",rt=nt.indexOf("~"),it=nt.lastIndexOf("~");return tt&&nt.unshift("~"),nt.join("")},isMathMLSupported=()=>window.MathMLElement!==void 0,katexRegex=/\$\$(.*)\$\$/g,hasKatex=_e=>{var et;return(((et=_e.match(katexRegex))==null?void 0:et.length)??0)>0},calculateMathMLDimensions=async(_e,et)=>{_e=await renderKatex(_e,et);const tt=document.createElement("div");tt.innerHTML=_e,tt.id="katex-temp",tt.style.visibility="hidden",tt.style.position="absolute",tt.style.top="0";const nt=document.querySelector("body");nt==null||nt.insertAdjacentElement("beforeend",tt);const rt={width:tt.clientWidth,height:tt.clientHeight};return tt.remove(),rt},renderKatex=async(_e,et)=>{if(!hasKatex(_e))return _e;if(!isMathMLSupported()&&!et.legacyMathML)return _e.replace(katexRegex,"MathML is unsupported in this environment.");const{default:tt}=await __vitePreload(()=>import("./katex-rPiVaalG.js"),[]);return _e.split(lineBreakRegex).map(nt=>hasKatex(nt)?`
            <div style="display: flex; align-items: center; justify-content: center; white-space: nowrap;">
              ${nt}
            </div>
          `:`<div>${nt}</div>`).join("").replace(katexRegex,(nt,rt)=>tt.renderToString(rt,{throwOnError:!0,displayMode:!0,output:isMathMLSupported()?"mathml":"htmlAndMathml"}).replace(/\n/g," ").replace(/<annotation.*<\/annotation>/g,""))},common$1={getRows,sanitizeText:sanitizeText$2,sanitizeTextOrArray,hasBreaks,splitBreaks,lineBreakRegex,removeScript,getUrl,evaluate:evaluate$1,getMax,getMin},mkBorder=(_e,et)=>et?adjust(_e,{s:-40,l:10}):adjust(_e,{s:-40,l:-10}),oldAttributeBackgroundColorOdd="#ffffff",oldAttributeBackgroundColorEven="#f2f2f2";let Theme$4=class{constructor(){this.background="#f4f4f4",this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){var et,tt,nt,rt,it,ot,st,ut,ft,dt,lt;if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||adjust(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||adjust(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||mkBorder(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||mkBorder(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||mkBorder(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||mkBorder(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||invert(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||invert(this.tertiaryColor),this.lineColor=this.lineColor||invert(this.background),this.arrowheadColor=this.arrowheadColor||invert(this.background),this.textColor=this.textColor||this.primaryTextColor,this.border2=this.border2||this.tertiaryBorderColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?darken(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||"grey",this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||darken(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||invert(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||lighten(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||adjust(this.primaryColor,{h:30}),this.cScale4=this.cScale4||adjust(this.primaryColor,{h:60}),this.cScale5=this.cScale5||adjust(this.primaryColor,{h:90}),this.cScale6=this.cScale6||adjust(this.primaryColor,{h:120}),this.cScale7=this.cScale7||adjust(this.primaryColor,{h:150}),this.cScale8=this.cScale8||adjust(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||adjust(this.primaryColor,{h:270}),this.cScale10=this.cScale10||adjust(this.primaryColor,{h:300}),this.cScale11=this.cScale11||adjust(this.primaryColor,{h:330}),this.darkMode)for(let ct=0;ct<this.THEME_COLOR_LIMIT;ct++)this["cScale"+ct]=darken(this["cScale"+ct],75);else for(let ct=0;ct<this.THEME_COLOR_LIMIT;ct++)this["cScale"+ct]=darken(this["cScale"+ct],25);for(let ct=0;ct<this.THEME_COLOR_LIMIT;ct++)this["cScaleInv"+ct]=this["cScaleInv"+ct]||invert(this["cScale"+ct]);for(let ct=0;ct<this.THEME_COLOR_LIMIT;ct++)this.darkMode?this["cScalePeer"+ct]=this["cScalePeer"+ct]||lighten(this["cScale"+ct],10):this["cScalePeer"+ct]=this["cScalePeer"+ct]||darken(this["cScale"+ct],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let ct=0;ct<this.THEME_COLOR_LIMIT;ct++)this["cScaleLabel"+ct]=this["cScaleLabel"+ct]||this.scaleLabelColor;const at=this.darkMode?-4:-1;for(let ct=0;ct<5;ct++)this["surface"+ct]=this["surface"+ct]||adjust(this.mainBkg,{h:180,s:-15,l:at*(5+ct*3)}),this["surfacePeer"+ct]=this["surfacePeer"+ct]||adjust(this.mainBkg,{h:180,s:-15,l:at*(8+ct*3)});this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||adjust(this.primaryColor,{h:64}),this.fillType3=this.fillType3||adjust(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||adjust(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||adjust(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||adjust(this.primaryColor,{h:128}),this.fillType7=this.fillType7||adjust(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||adjust(this.primaryColor,{l:-10}),this.pie5=this.pie5||adjust(this.secondaryColor,{l:-10}),this.pie6=this.pie6||adjust(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||adjust(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||adjust(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||adjust(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||adjust(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||adjust(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||adjust(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||adjust(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||adjust(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||adjust(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||adjust(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||adjust(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||adjust(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||isDark(this.quadrant1Fill)?lighten(this.quadrant1Fill):darken(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((et=this.xyChart)==null?void 0:et.backgroundColor)||this.background,titleColor:((tt=this.xyChart)==null?void 0:tt.titleColor)||this.primaryTextColor,xAxisTitleColor:((nt=this.xyChart)==null?void 0:nt.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((rt=this.xyChart)==null?void 0:rt.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((it=this.xyChart)==null?void 0:it.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((ot=this.xyChart)==null?void 0:ot.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((st=this.xyChart)==null?void 0:st.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((ut=this.xyChart)==null?void 0:ut.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((ft=this.xyChart)==null?void 0:ft.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((dt=this.xyChart)==null?void 0:dt.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((lt=this.xyChart)==null?void 0:lt.plotColorPalette)||"#FFF4DD,#FFD8B1,#FFA07A,#ECEFF1,#D6DBDF,#C3E0A8,#FFB6A4,#FFD74D,#738FA7,#FFFFF0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?darken(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||adjust(this.primaryColor,{h:-30}),this.git4=this.git4||adjust(this.primaryColor,{h:-60}),this.git5=this.git5||adjust(this.primaryColor,{h:-90}),this.git6=this.git6||adjust(this.primaryColor,{h:60}),this.git7=this.git7||adjust(this.primaryColor,{h:120}),this.darkMode?(this.git0=lighten(this.git0,25),this.git1=lighten(this.git1,25),this.git2=lighten(this.git2,25),this.git3=lighten(this.git3,25),this.git4=lighten(this.git4,25),this.git5=lighten(this.git5,25),this.git6=lighten(this.git6,25),this.git7=lighten(this.git7,25)):(this.git0=darken(this.git0,25),this.git1=darken(this.git1,25),this.git2=darken(this.git2,25),this.git3=darken(this.git3,25),this.git4=darken(this.git4,25),this.git5=darken(this.git5,25),this.git6=darken(this.git6,25),this.git7=darken(this.git7,25)),this.gitInv0=this.gitInv0||invert(this.git0),this.gitInv1=this.gitInv1||invert(this.git1),this.gitInv2=this.gitInv2||invert(this.git2),this.gitInv3=this.gitInv3||invert(this.git3),this.gitInv4=this.gitInv4||invert(this.git4),this.gitInv5=this.gitInv5||invert(this.git5),this.gitInv6=this.gitInv6||invert(this.git6),this.gitInv7=this.gitInv7||invert(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||oldAttributeBackgroundColorOdd,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||oldAttributeBackgroundColorEven}calculate(et){if(typeof et!="object"){this.updateColors();return}const tt=Object.keys(et);tt.forEach(nt=>{this[nt]=et[nt]}),this.updateColors(),tt.forEach(nt=>{this[nt]=et[nt]})}};const getThemeVariables$4=_e=>{const et=new Theme$4;return et.calculate(_e),et};let Theme$3=class{constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=lighten(this.primaryColor,16),this.tertiaryColor=adjust(this.primaryColor,{h:-160}),this.primaryBorderColor=invert(this.background),this.secondaryBorderColor=mkBorder(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=mkBorder(this.tertiaryColor,this.darkMode),this.primaryTextColor=invert(this.primaryColor),this.secondaryTextColor=invert(this.secondaryColor),this.tertiaryTextColor=invert(this.tertiaryColor),this.lineColor=invert(this.background),this.textColor=invert(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=lighten(invert("#323D47"),10),this.lineColor="calculated",this.border1="#81B1DB",this.border2=rgba(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=darken("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.excludeBkgColor=darken(this.sectionBkgColor,10),this.taskBorderColor=rgba(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=rgba(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){var et,tt,nt,rt,it,ot,st,ut,ft,dt,lt;this.secondBkg=lighten(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=lighten(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.mainContrastColor,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=lighten(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=adjust(this.primaryColor,{h:64}),this.fillType3=adjust(this.secondaryColor,{h:64}),this.fillType4=adjust(this.primaryColor,{h:-64}),this.fillType5=adjust(this.secondaryColor,{h:-64}),this.fillType6=adjust(this.primaryColor,{h:128}),this.fillType7=adjust(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||adjust(this.primaryColor,{h:30}),this.cScale4=this.cScale4||adjust(this.primaryColor,{h:60}),this.cScale5=this.cScale5||adjust(this.primaryColor,{h:90}),this.cScale6=this.cScale6||adjust(this.primaryColor,{h:120}),this.cScale7=this.cScale7||adjust(this.primaryColor,{h:150}),this.cScale8=this.cScale8||adjust(this.primaryColor,{h:210}),this.cScale9=this.cScale9||adjust(this.primaryColor,{h:270}),this.cScale10=this.cScale10||adjust(this.primaryColor,{h:300}),this.cScale11=this.cScale11||adjust(this.primaryColor,{h:330});for(let at=0;at<this.THEME_COLOR_LIMIT;at++)this["cScaleInv"+at]=this["cScaleInv"+at]||invert(this["cScale"+at]);for(let at=0;at<this.THEME_COLOR_LIMIT;at++)this["cScalePeer"+at]=this["cScalePeer"+at]||lighten(this["cScale"+at],10);for(let at=0;at<5;at++)this["surface"+at]=this["surface"+at]||adjust(this.mainBkg,{h:30,s:-30,l:-(-10+at*4)}),this["surfacePeer"+at]=this["surfacePeer"+at]||adjust(this.mainBkg,{h:30,s:-30,l:-(-7+at*4)});this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let at=0;at<this.THEME_COLOR_LIMIT;at++)this["cScaleLabel"+at]=this["cScaleLabel"+at]||this.scaleLabelColor;for(let at=0;at<this.THEME_COLOR_LIMIT;at++)this["pie"+at]=this["cScale"+at];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||adjust(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||adjust(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||adjust(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||adjust(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||adjust(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||adjust(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||isDark(this.quadrant1Fill)?lighten(this.quadrant1Fill):darken(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((et=this.xyChart)==null?void 0:et.backgroundColor)||this.background,titleColor:((tt=this.xyChart)==null?void 0:tt.titleColor)||this.primaryTextColor,xAxisTitleColor:((nt=this.xyChart)==null?void 0:nt.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((rt=this.xyChart)==null?void 0:rt.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((it=this.xyChart)==null?void 0:it.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((ot=this.xyChart)==null?void 0:ot.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((st=this.xyChart)==null?void 0:st.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((ut=this.xyChart)==null?void 0:ut.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((ft=this.xyChart)==null?void 0:ft.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((dt=this.xyChart)==null?void 0:dt.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((lt=this.xyChart)==null?void 0:lt.plotColorPalette)||"#3498db,#2ecc71,#e74c3c,#f1c40f,#bdc3c7,#ffffff,#34495e,#9b59b6,#1abc9c,#e67e22"},this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?darken(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=lighten(this.secondaryColor,20),this.git1=lighten(this.pie2||this.secondaryColor,20),this.git2=lighten(this.pie3||this.tertiaryColor,20),this.git3=lighten(this.pie4||adjust(this.primaryColor,{h:-30}),20),this.git4=lighten(this.pie5||adjust(this.primaryColor,{h:-60}),20),this.git5=lighten(this.pie6||adjust(this.primaryColor,{h:-90}),10),this.git6=lighten(this.pie7||adjust(this.primaryColor,{h:60}),10),this.git7=lighten(this.pie8||adjust(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||invert(this.git0),this.gitInv1=this.gitInv1||invert(this.git1),this.gitInv2=this.gitInv2||invert(this.git2),this.gitInv3=this.gitInv3||invert(this.git3),this.gitInv4=this.gitInv4||invert(this.git4),this.gitInv5=this.gitInv5||invert(this.git5),this.gitInv6=this.gitInv6||invert(this.git6),this.gitInv7=this.gitInv7||invert(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||invert(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||invert(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||lighten(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||lighten(this.background,2)}calculate(et){if(typeof et!="object"){this.updateColors();return}const tt=Object.keys(et);tt.forEach(nt=>{this[nt]=et[nt]}),this.updateColors(),tt.forEach(nt=>{this[nt]=et[nt]})}};const getThemeVariables$3=_e=>{const et=new Theme$3;return et.calculate(_e),et};let Theme$2=class{constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=adjust(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=adjust(this.primaryColor,{h:-160}),this.primaryBorderColor=mkBorder(this.primaryColor,this.darkMode),this.secondaryBorderColor=mkBorder(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=mkBorder(this.tertiaryColor,this.darkMode),this.primaryTextColor=invert(this.primaryColor),this.secondaryTextColor=invert(this.secondaryColor),this.tertiaryTextColor=invert(this.tertiaryColor),this.lineColor=invert(this.background),this.textColor=invert(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#e8e8e8",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="grey",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.sectionBkgColor=rgba(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){var et,tt,nt,rt,it,ot,st,ut,ft,dt,lt;this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||adjust(this.primaryColor,{h:30}),this.cScale4=this.cScale4||adjust(this.primaryColor,{h:60}),this.cScale5=this.cScale5||adjust(this.primaryColor,{h:90}),this.cScale6=this.cScale6||adjust(this.primaryColor,{h:120}),this.cScale7=this.cScale7||adjust(this.primaryColor,{h:150}),this.cScale8=this.cScale8||adjust(this.primaryColor,{h:210}),this.cScale9=this.cScale9||adjust(this.primaryColor,{h:270}),this.cScale10=this.cScale10||adjust(this.primaryColor,{h:300}),this.cScale11=this.cScale11||adjust(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||darken(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||darken(this.tertiaryColor,40);for(let at=0;at<this.THEME_COLOR_LIMIT;at++)this["cScale"+at]=darken(this["cScale"+at],10),this["cScalePeer"+at]=this["cScalePeer"+at]||darken(this["cScale"+at],25);for(let at=0;at<this.THEME_COLOR_LIMIT;at++)this["cScaleInv"+at]=this["cScaleInv"+at]||adjust(this["cScale"+at],{h:180});for(let at=0;at<5;at++)this["surface"+at]=this["surface"+at]||adjust(this.mainBkg,{h:30,l:-(5+at*5)}),this["surfacePeer"+at]=this["surfacePeer"+at]||adjust(this.mainBkg,{h:30,l:-(7+at*5)});if(this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,this.labelTextColor!=="calculated"){this.cScaleLabel0=this.cScaleLabel0||invert(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||invert(this.labelTextColor);for(let at=0;at<this.THEME_COLOR_LIMIT;at++)this["cScaleLabel"+at]=this["cScaleLabel"+at]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=lighten(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=adjust(this.primaryColor,{h:64}),this.fillType3=adjust(this.secondaryColor,{h:64}),this.fillType4=adjust(this.primaryColor,{h:-64}),this.fillType5=adjust(this.secondaryColor,{h:-64}),this.fillType6=adjust(this.primaryColor,{h:128}),this.fillType7=adjust(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||adjust(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||adjust(this.primaryColor,{l:-10}),this.pie5=this.pie5||adjust(this.secondaryColor,{l:-30}),this.pie6=this.pie6||adjust(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||adjust(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||adjust(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||adjust(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||adjust(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||adjust(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||adjust(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||adjust(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||adjust(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||adjust(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||adjust(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||adjust(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||adjust(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||isDark(this.quadrant1Fill)?lighten(this.quadrant1Fill):darken(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((et=this.xyChart)==null?void 0:et.backgroundColor)||this.background,titleColor:((tt=this.xyChart)==null?void 0:tt.titleColor)||this.primaryTextColor,xAxisTitleColor:((nt=this.xyChart)==null?void 0:nt.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((rt=this.xyChart)==null?void 0:rt.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((it=this.xyChart)==null?void 0:it.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((ot=this.xyChart)==null?void 0:ot.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((st=this.xyChart)==null?void 0:st.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((ut=this.xyChart)==null?void 0:ut.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((ft=this.xyChart)==null?void 0:ft.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((dt=this.xyChart)==null?void 0:dt.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((lt=this.xyChart)==null?void 0:lt.plotColorPalette)||"#ECECFF,#8493A6,#FFC3A0,#DCDDE1,#B8E994,#D1A36F,#C3CDE6,#FFB6C1,#496078,#F8F3E3"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||adjust(this.primaryColor,{h:-30}),this.git4=this.git4||adjust(this.primaryColor,{h:-60}),this.git5=this.git5||adjust(this.primaryColor,{h:-90}),this.git6=this.git6||adjust(this.primaryColor,{h:60}),this.git7=this.git7||adjust(this.primaryColor,{h:120}),this.darkMode?(this.git0=lighten(this.git0,25),this.git1=lighten(this.git1,25),this.git2=lighten(this.git2,25),this.git3=lighten(this.git3,25),this.git4=lighten(this.git4,25),this.git5=lighten(this.git5,25),this.git6=lighten(this.git6,25),this.git7=lighten(this.git7,25)):(this.git0=darken(this.git0,25),this.git1=darken(this.git1,25),this.git2=darken(this.git2,25),this.git3=darken(this.git3,25),this.git4=darken(this.git4,25),this.git5=darken(this.git5,25),this.git6=darken(this.git6,25),this.git7=darken(this.git7,25)),this.gitInv0=this.gitInv0||darken(invert(this.git0),25),this.gitInv1=this.gitInv1||invert(this.git1),this.gitInv2=this.gitInv2||invert(this.git2),this.gitInv3=this.gitInv3||invert(this.git3),this.gitInv4=this.gitInv4||invert(this.git4),this.gitInv5=this.gitInv5||invert(this.git5),this.gitInv6=this.gitInv6||invert(this.git6),this.gitInv7=this.gitInv7||invert(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||invert(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||invert(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||oldAttributeBackgroundColorOdd,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||oldAttributeBackgroundColorEven}calculate(et){if(typeof et!="object"){this.updateColors();return}const tt=Object.keys(et);tt.forEach(nt=>{this[nt]=et[nt]}),this.updateColors(),tt.forEach(nt=>{this[nt]=et[nt]})}};const getThemeVariables$2=_e=>{const et=new Theme$2;return et.calculate(_e),et};let Theme$1=class{constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=lighten("#cde498",10),this.primaryBorderColor=mkBorder(this.primaryColor,this.darkMode),this.secondaryBorderColor=mkBorder(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=mkBorder(this.tertiaryColor,this.darkMode),this.primaryTextColor=invert(this.primaryColor),this.secondaryTextColor=invert(this.secondaryColor),this.tertiaryTextColor=invert(this.primaryColor),this.lineColor=invert(this.background),this.textColor=invert(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="grey",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){var et,tt,nt,rt,it,ot,st,ut,ft,dt,lt;this.actorBorder=darken(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||adjust(this.primaryColor,{h:30}),this.cScale4=this.cScale4||adjust(this.primaryColor,{h:60}),this.cScale5=this.cScale5||adjust(this.primaryColor,{h:90}),this.cScale6=this.cScale6||adjust(this.primaryColor,{h:120}),this.cScale7=this.cScale7||adjust(this.primaryColor,{h:150}),this.cScale8=this.cScale8||adjust(this.primaryColor,{h:210}),this.cScale9=this.cScale9||adjust(this.primaryColor,{h:270}),this.cScale10=this.cScale10||adjust(this.primaryColor,{h:300}),this.cScale11=this.cScale11||adjust(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||darken(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||darken(this.tertiaryColor,40);for(let at=0;at<this.THEME_COLOR_LIMIT;at++)this["cScale"+at]=darken(this["cScale"+at],10),this["cScalePeer"+at]=this["cScalePeer"+at]||darken(this["cScale"+at],25);for(let at=0;at<this.THEME_COLOR_LIMIT;at++)this["cScaleInv"+at]=this["cScaleInv"+at]||adjust(this["cScale"+at],{h:180});this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let at=0;at<this.THEME_COLOR_LIMIT;at++)this["cScaleLabel"+at]=this["cScaleLabel"+at]||this.scaleLabelColor;for(let at=0;at<5;at++)this["surface"+at]=this["surface"+at]||adjust(this.mainBkg,{h:30,s:-30,l:-(5+at*5)}),this["surfacePeer"+at]=this["surfacePeer"+at]||adjust(this.mainBkg,{h:30,s:-30,l:-(8+at*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=adjust(this.primaryColor,{h:64}),this.fillType3=adjust(this.secondaryColor,{h:64}),this.fillType4=adjust(this.primaryColor,{h:-64}),this.fillType5=adjust(this.secondaryColor,{h:-64}),this.fillType6=adjust(this.primaryColor,{h:128}),this.fillType7=adjust(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||adjust(this.primaryColor,{l:-30}),this.pie5=this.pie5||adjust(this.secondaryColor,{l:-30}),this.pie6=this.pie6||adjust(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||adjust(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||adjust(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||adjust(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||adjust(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||adjust(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||adjust(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||adjust(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||adjust(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||adjust(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||adjust(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||adjust(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||adjust(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||isDark(this.quadrant1Fill)?lighten(this.quadrant1Fill):darken(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((et=this.xyChart)==null?void 0:et.backgroundColor)||this.background,titleColor:((tt=this.xyChart)==null?void 0:tt.titleColor)||this.primaryTextColor,xAxisTitleColor:((nt=this.xyChart)==null?void 0:nt.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((rt=this.xyChart)==null?void 0:rt.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((it=this.xyChart)==null?void 0:it.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((ot=this.xyChart)==null?void 0:ot.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((st=this.xyChart)==null?void 0:st.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((ut=this.xyChart)==null?void 0:ut.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((ft=this.xyChart)==null?void 0:ft.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((dt=this.xyChart)==null?void 0:dt.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((lt=this.xyChart)==null?void 0:lt.plotColorPalette)||"#CDE498,#FF6B6B,#A0D2DB,#D7BDE2,#F0F0F0,#FFC3A0,#7FD8BE,#FF9A8B,#FAF3E0,#FFF176"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||adjust(this.primaryColor,{h:-30}),this.git4=this.git4||adjust(this.primaryColor,{h:-60}),this.git5=this.git5||adjust(this.primaryColor,{h:-90}),this.git6=this.git6||adjust(this.primaryColor,{h:60}),this.git7=this.git7||adjust(this.primaryColor,{h:120}),this.darkMode?(this.git0=lighten(this.git0,25),this.git1=lighten(this.git1,25),this.git2=lighten(this.git2,25),this.git3=lighten(this.git3,25),this.git4=lighten(this.git4,25),this.git5=lighten(this.git5,25),this.git6=lighten(this.git6,25),this.git7=lighten(this.git7,25)):(this.git0=darken(this.git0,25),this.git1=darken(this.git1,25),this.git2=darken(this.git2,25),this.git3=darken(this.git3,25),this.git4=darken(this.git4,25),this.git5=darken(this.git5,25),this.git6=darken(this.git6,25),this.git7=darken(this.git7,25)),this.gitInv0=this.gitInv0||invert(this.git0),this.gitInv1=this.gitInv1||invert(this.git1),this.gitInv2=this.gitInv2||invert(this.git2),this.gitInv3=this.gitInv3||invert(this.git3),this.gitInv4=this.gitInv4||invert(this.git4),this.gitInv5=this.gitInv5||invert(this.git5),this.gitInv6=this.gitInv6||invert(this.git6),this.gitInv7=this.gitInv7||invert(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||invert(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||invert(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||oldAttributeBackgroundColorOdd,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||oldAttributeBackgroundColorEven}calculate(et){if(typeof et!="object"){this.updateColors();return}const tt=Object.keys(et);tt.forEach(nt=>{this[nt]=et[nt]}),this.updateColors(),tt.forEach(nt=>{this[nt]=et[nt]})}};const getThemeVariables$1=_e=>{const et=new Theme$1;return et.calculate(_e),et};class Theme5{constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=lighten(this.contrast,55),this.background="#ffffff",this.tertiaryColor=adjust(this.primaryColor,{h:-160}),this.primaryBorderColor=mkBorder(this.primaryColor,this.darkMode),this.secondaryBorderColor=mkBorder(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=mkBorder(this.tertiaryColor,this.darkMode),this.primaryTextColor=invert(this.primaryColor),this.secondaryTextColor=invert(this.secondaryColor),this.tertiaryTextColor=invert(this.tertiaryColor),this.lineColor=invert(this.background),this.textColor=invert(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){var et,tt,nt,rt,it,ot,st,ut,ft,dt,lt;this.secondBkg=lighten(this.contrast,55),this.border2=this.contrast,this.actorBorder=lighten(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.lineColor,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let at=0;at<this.THEME_COLOR_LIMIT;at++)this["cScaleInv"+at]=this["cScaleInv"+at]||invert(this["cScale"+at]);for(let at=0;at<this.THEME_COLOR_LIMIT;at++)this.darkMode?this["cScalePeer"+at]=this["cScalePeer"+at]||lighten(this["cScale"+at],10):this["cScalePeer"+at]=this["cScalePeer"+at]||darken(this["cScale"+at],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let at=0;at<this.THEME_COLOR_LIMIT;at++)this["cScaleLabel"+at]=this["cScaleLabel"+at]||this.scaleLabelColor;for(let at=0;at<5;at++)this["surface"+at]=this["surface"+at]||adjust(this.mainBkg,{l:-(5+at*5)}),this["surfacePeer"+at]=this["surfacePeer"+at]||adjust(this.mainBkg,{l:-(8+at*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.sectionBkgColor=lighten(this.contrast,30),this.sectionBkgColor2=lighten(this.contrast,30),this.taskBorderColor=darken(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=lighten(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=darken(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=adjust(this.primaryColor,{h:64}),this.fillType3=adjust(this.secondaryColor,{h:64}),this.fillType4=adjust(this.primaryColor,{h:-64}),this.fillType5=adjust(this.secondaryColor,{h:-64}),this.fillType6=adjust(this.primaryColor,{h:128}),this.fillType7=adjust(this.secondaryColor,{h:128});for(let at=0;at<this.THEME_COLOR_LIMIT;at++)this["pie"+at]=this["cScale"+at];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||adjust(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||adjust(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||adjust(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||adjust(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||adjust(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||adjust(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||isDark(this.quadrant1Fill)?lighten(this.quadrant1Fill):darken(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((et=this.xyChart)==null?void 0:et.backgroundColor)||this.background,titleColor:((tt=this.xyChart)==null?void 0:tt.titleColor)||this.primaryTextColor,xAxisTitleColor:((nt=this.xyChart)==null?void 0:nt.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((rt=this.xyChart)==null?void 0:rt.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((it=this.xyChart)==null?void 0:it.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((ot=this.xyChart)==null?void 0:ot.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((st=this.xyChart)==null?void 0:st.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((ut=this.xyChart)==null?void 0:ut.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((ft=this.xyChart)==null?void 0:ft.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((dt=this.xyChart)==null?void 0:dt.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((lt=this.xyChart)==null?void 0:lt.plotColorPalette)||"#EEE,#6BB8E4,#8ACB88,#C7ACD6,#E8DCC2,#FFB2A8,#FFF380,#7E8D91,#FFD8B1,#FAF3E0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=darken(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||adjust(this.primaryColor,{h:-30}),this.git4=this.pie5||adjust(this.primaryColor,{h:-60}),this.git5=this.pie6||adjust(this.primaryColor,{h:-90}),this.git6=this.pie7||adjust(this.primaryColor,{h:60}),this.git7=this.pie8||adjust(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||invert(this.git0),this.gitInv1=this.gitInv1||invert(this.git1),this.gitInv2=this.gitInv2||invert(this.git2),this.gitInv3=this.gitInv3||invert(this.git3),this.gitInv4=this.gitInv4||invert(this.git4),this.gitInv5=this.gitInv5||invert(this.git5),this.gitInv6=this.gitInv6||invert(this.git6),this.gitInv7=this.gitInv7||invert(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||oldAttributeBackgroundColorOdd,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||oldAttributeBackgroundColorEven}calculate(et){if(typeof et!="object"){this.updateColors();return}const tt=Object.keys(et);tt.forEach(nt=>{this[nt]=et[nt]}),this.updateColors(),tt.forEach(nt=>{this[nt]=et[nt]})}}const getThemeVariables=_e=>{const et=new Theme5;return et.calculate(_e),et},theme={base:{getThemeVariables:getThemeVariables$4},dark:{getThemeVariables:getThemeVariables$3},default:{getThemeVariables:getThemeVariables$2},forest:{getThemeVariables:getThemeVariables$1},neutral:{getThemeVariables}},defaultConfigJson={flowchart:{useMaxWidth:!0,titleTopMargin:25,subGraphTitleMargin:{top:0,bottom:0},diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,defaultRenderer:"dagre-wrapper",wrappingWidth:200},sequence:{useMaxWidth:!0,hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20},gantt:{useMaxWidth:!0,titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",topAxis:!1,displayMode:"",weekday:"sunday"},journey:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"]},class:{useMaxWidth:!0,titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,defaultRenderer:"dagre-wrapper",htmlLabels:!1},state:{useMaxWidth:!0,titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,defaultRenderer:"dagre-wrapper"},er:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,stroke:"gray",fill:"honeydew",fontSize:12},pie:{useMaxWidth:!0,textPosition:.75},quadrantChart:{useMaxWidth:!0,chartWidth:500,chartHeight:500,titleFontSize:20,titlePadding:10,quadrantPadding:5,xAxisLabelPadding:5,yAxisLabelPadding:5,xAxisLabelFontSize:16,yAxisLabelFontSize:16,quadrantLabelFontSize:16,quadrantTextTopPadding:5,pointTextPadding:5,pointLabelFontSize:12,pointRadius:5,xAxisPosition:"top",yAxisPosition:"left",quadrantInternalBorderStrokeWidth:1,quadrantExternalBorderStrokeWidth:2},xyChart:{useMaxWidth:!0,width:700,height:500,titleFontSize:20,titlePadding:10,showTitle:!0,xAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},yAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},chartOrientation:"vertical",plotReservedSpacePercent:50},requirement:{useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200},timeline:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],disableMulticolor:!1},gitGraph:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0,parallelCommits:!1,arrowMarkerAbsolute:!1},c4:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},sankey:{useMaxWidth:!0,width:600,height:400,linkColor:"gradient",nodeAlignment:"justify",showValues:!0,prefix:"",suffix:""},block:{useMaxWidth:!0,padding:8},theme:"default",maxTextSize:5e4,maxEdges:500,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize","maxEdges"],legacyMathML:!1,deterministicIds:!1,fontSize:16},config={...defaultConfigJson,deterministicIDSeed:void 0,themeCSS:void 0,themeVariables:theme.default.getThemeVariables(),sequence:{...defaultConfigJson.sequence,messageFont:function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},noteFont:function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},actorFont:function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}}},gantt:{...defaultConfigJson.gantt,tickInterval:void 0,useWidth:void 0},c4:{...defaultConfigJson.c4,useWidth:void 0,personFont:function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},external_personFont:function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},systemFont:function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},external_systemFont:function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},system_dbFont:function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},external_system_dbFont:function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},system_queueFont:function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},external_system_queueFont:function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},containerFont:function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},external_containerFont:function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},container_dbFont:function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},external_container_dbFont:function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},container_queueFont:function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},external_container_queueFont:function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},componentFont:function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},external_componentFont:function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},component_dbFont:function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},external_component_dbFont:function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},component_queueFont:function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},external_component_queueFont:function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},boundaryFont:function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},messageFont:function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}}},pie:{...defaultConfigJson.pie,useWidth:984},xyChart:{...defaultConfigJson.xyChart,useWidth:void 0},requirement:{...defaultConfigJson.requirement,useWidth:void 0},gitGraph:{...defaultConfigJson.gitGraph,useMaxWidth:!1},sankey:{...defaultConfigJson.sankey,useMaxWidth:!1}},keyify=(_e,et="")=>Object.keys(_e).reduce((tt,nt)=>Array.isArray(_e[nt])?tt:typeof _e[nt]=="object"&&_e[nt]!==null?[...tt,et+nt,...keyify(_e[nt],"")]:[...tt,et+nt],[]),configKeys=new Set(keyify(config,"")),defaultConfig$2=config,sanitizeDirective=_e=>{if(log$1.debug("sanitizeDirective called with",_e),!(typeof _e!="object"||_e==null)){if(Array.isArray(_e)){_e.forEach(et=>sanitizeDirective(et));return}for(const et of Object.keys(_e)){if(log$1.debug("Checking key",et),et.startsWith("__")||et.includes("proto")||et.includes("constr")||!configKeys.has(et)||_e[et]==null){log$1.debug("sanitize deleting key: ",et),delete _e[et];continue}if(typeof _e[et]=="object"){log$1.debug("sanitizing object",et),sanitizeDirective(_e[et]);continue}const tt=["themeCSS","fontFamily","altFontFamily"];for(const nt of tt)et.includes(nt)&&(log$1.debug("sanitizing css option",et),_e[et]=sanitizeCss(_e[et]))}if(_e.themeVariables)for(const et of Object.keys(_e.themeVariables)){const tt=_e.themeVariables[et];tt!=null&&tt.match&&!tt.match(/^[\d "#%(),.;A-Za-z]+$/)&&(_e.themeVariables[et]="")}log$1.debug("After sanitization",_e)}},sanitizeCss=_e=>{let et=0,tt=0;for(const nt of _e){if(et<tt)return"{ /* ERROR: Unbalanced CSS */ }";nt==="{"?et++:nt==="}"&&tt++}return et!==tt?"{ /* ERROR: Unbalanced CSS */ }":_e},frontMatterRegex=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s,directiveRegex=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,anyCommentRegex=/\s*%%.*\n/gm;class UnknownDiagramError extends Error{constructor(et){super(et),this.name="UnknownDiagramError"}}const detectors={},detectType=function(_e,et){_e=_e.replace(frontMatterRegex,"").replace(directiveRegex,"").replace(anyCommentRegex,`
`);for(const[tt,{detector:nt}]of Object.entries(detectors))if(nt(_e,et))return tt;throw new UnknownDiagramError(`No diagram type detected matching given configuration for text: ${_e}`)},registerLazyLoadedDiagrams=(..._e)=>{for(const{id:et,detector:tt,loader:nt}of _e)addDetector(et,tt,nt)},addDetector=(_e,et,tt)=>{detectors[_e]?log$1.error(`Detector with key ${_e} already exists`):detectors[_e]={detector:et,loader:tt},log$1.debug(`Detector with key ${_e} added${tt?" with loader":""}`)},getDiagramLoader=_e=>detectors[_e].loader,assignWithDepth=(_e,et,{depth:tt=2,clobber:nt=!1}={})=>{const rt={depth:tt,clobber:nt};return Array.isArray(et)&&!Array.isArray(_e)?(et.forEach(it=>assignWithDepth(_e,it,rt)),_e):Array.isArray(et)&&Array.isArray(_e)?(et.forEach(it=>{_e.includes(it)||_e.push(it)}),_e):_e===void 0||tt<=0?_e!=null&&typeof _e=="object"&&typeof et=="object"?Object.assign(_e,et):et:(et!==void 0&&typeof _e=="object"&&typeof et=="object"&&Object.keys(et).forEach(it=>{typeof et[it]=="object"&&(_e[it]===void 0||typeof _e[it]=="object")?(_e[it]===void 0&&(_e[it]=Array.isArray(et[it])?[]:{}),_e[it]=assignWithDepth(_e[it],et[it],{depth:tt-1,clobber:nt})):(nt||typeof _e[it]!="object"&&typeof et[it]!="object")&&(_e[it]=et[it])}),_e)},assignWithDepth$1=assignWithDepth,ZERO_WIDTH_SPACE="",d3CurveTypes={curveBasis,curveBasisClosed,curveBasisOpen,curveBumpX:bumpX,curveBumpY:bumpY,curveBundle,curveCardinalClosed,curveCardinalOpen,curveCardinal,curveCatmullRomClosed,curveCatmullRomOpen,curveCatmullRom,curveLinear,curveLinearClosed,curveMonotoneX:monotoneX,curveMonotoneY:monotoneY,curveNatural,curveStep,curveStepAfter:stepAfter,curveStepBefore:stepBefore},directiveWithoutOpen=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,detectInit=function(_e,et){const tt=detectDirective(_e,/(?:init\b)|(?:initialize\b)/);let nt={};if(Array.isArray(tt)){const ot=tt.map(st=>st.args);sanitizeDirective(ot),nt=assignWithDepth$1(nt,[...ot])}else nt=tt.args;if(!nt)return;let rt=detectType(_e,et);const it="config";return nt[it]!==void 0&&(rt==="flowchart-v2"&&(rt="flowchart"),nt[rt]=nt[it],delete nt[it]),nt},detectDirective=function(_e,et=null){try{const tt=new RegExp(`[%]{2}(?![{]${directiveWithoutOpen.source})(?=[}][%]{2}).*
`,"ig");_e=_e.trim().replace(tt,"").replace(/'/gm,'"'),log$1.debug(`Detecting diagram directive${et!==null?" type:"+et:""} based on the text:${_e}`);let nt;const rt=[];for(;(nt=directiveRegex.exec(_e))!==null;)if(nt.index===directiveRegex.lastIndex&&directiveRegex.lastIndex++,nt&&!et||et&&nt[1]&&nt[1].match(et)||et&&nt[2]&&nt[2].match(et)){const it=nt[1]?nt[1]:nt[2],ot=nt[3]?nt[3].trim():nt[4]?JSON.parse(nt[4].trim()):null;rt.push({type:it,args:ot})}return rt.length===0?{type:_e,args:null}:rt.length===1?rt[0]:rt}catch(tt){return log$1.error(`ERROR: ${tt.message} - Unable to parse directive type: '${et}' based on the text: '${_e}'`),{type:void 0,args:null}}},removeDirectives=function(_e){return _e.replace(directiveRegex,"")},isSubstringInArray=function(_e,et){for(const[tt,nt]of et.entries())if(nt.match(_e))return tt;return-1};function interpolateToCurve(_e,et){if(!_e)return et;const tt=`curve${_e.charAt(0).toUpperCase()+_e.slice(1)}`;return d3CurveTypes[tt]??et}function formatUrl(_e,et){const tt=_e.trim();if(tt)return et.securityLevel!=="loose"?dist$1.sanitizeUrl(tt):tt}const runFunc=(_e,...et)=>{const tt=_e.split("."),nt=tt.length-1,rt=tt[nt];let it=window;for(let ot=0;ot<nt;ot++)if(it=it[tt[ot]],!it){log$1.error(`Function name: ${_e} not found in window`);return}it[rt](...et)};function distance(_e,et){return!_e||!et?0:Math.sqrt(Math.pow(et.x-_e.x,2)+Math.pow(et.y-_e.y,2))}function traverseEdge(_e){let et,tt=0;_e.forEach(rt=>{tt+=distance(rt,et),et=rt});const nt=tt/2;return calculatePoint(_e,nt)}function calcLabelPosition(_e){return _e.length===1?_e[0]:traverseEdge(_e)}const roundNumber$b=(_e,et=2)=>{const tt=Math.pow(10,et);return Math.round(_e*tt)/tt},calculatePoint=(_e,et)=>{let tt,nt=et;for(const rt of _e){if(tt){const it=distance(rt,tt);if(it<nt)nt-=it;else{const ot=nt/it;if(ot<=0)return tt;if(ot>=1)return{x:rt.x,y:rt.y};if(ot>0&&ot<1)return{x:roundNumber$b((1-ot)*tt.x+ot*rt.x,5),y:roundNumber$b((1-ot)*tt.y+ot*rt.y,5)}}}tt=rt}throw new Error("Could not find a suitable point for the given distance")},calcCardinalityPosition=(_e,et,tt)=>{log$1.info(`our points ${JSON.stringify(et)}`),et[0]!==tt&&(et=et.reverse());const rt=calculatePoint(et,25),it=_e?10:5,ot=Math.atan2(et[0].y-rt.y,et[0].x-rt.x),st={x:0,y:0};return st.x=Math.sin(ot)*it+(et[0].x+rt.x)/2,st.y=-Math.cos(ot)*it+(et[0].y+rt.y)/2,st};function calcTerminalLabelPosition(_e,et,tt){const nt=structuredClone(tt);log$1.info("our points",nt),et!=="start_left"&&et!=="start_right"&&nt.reverse();const rt=25+_e,it=calculatePoint(nt,rt),ot=10+_e*.5,st=Math.atan2(nt[0].y-it.y,nt[0].x-it.x),ut={x:0,y:0};return et==="start_left"?(ut.x=Math.sin(st+Math.PI)*ot+(nt[0].x+it.x)/2,ut.y=-Math.cos(st+Math.PI)*ot+(nt[0].y+it.y)/2):et==="end_right"?(ut.x=Math.sin(st-Math.PI)*ot+(nt[0].x+it.x)/2-5,ut.y=-Math.cos(st-Math.PI)*ot+(nt[0].y+it.y)/2-5):et==="end_left"?(ut.x=Math.sin(st)*ot+(nt[0].x+it.x)/2-5,ut.y=-Math.cos(st)*ot+(nt[0].y+it.y)/2-5):(ut.x=Math.sin(st)*ot+(nt[0].x+it.x)/2,ut.y=-Math.cos(st)*ot+(nt[0].y+it.y)/2),ut}function getStylesFromArray(_e){let et="",tt="";for(const nt of _e)nt!==void 0&&(nt.startsWith("color:")||nt.startsWith("text-align:")?tt=tt+nt+";":et=et+nt+";");return{style:et,labelStyle:tt}}let cnt=0;const generateId=()=>(cnt++,"id-"+Math.random().toString(36).substr(2,12)+"-"+cnt);function makeRandomHex(_e){let et="";const tt="0123456789abcdef",nt=tt.length;for(let rt=0;rt<_e;rt++)et+=tt.charAt(Math.floor(Math.random()*nt));return et}const random=_e=>makeRandomHex(_e.length),getTextObj=function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0,text:""}},drawSimpleText=function(_e,et){const tt=et.text.replace(common$1.lineBreakRegex," "),[,nt]=parseFontSize(et.fontSize),rt=_e.append("text");rt.attr("x",et.x),rt.attr("y",et.y),rt.style("text-anchor",et.anchor),rt.style("font-family",et.fontFamily),rt.style("font-size",nt),rt.style("font-weight",et.fontWeight),rt.attr("fill",et.fill),et.class!==void 0&&rt.attr("class",et.class);const it=rt.append("tspan");return it.attr("x",et.x+et.textMargin*2),it.attr("fill",et.fill),it.text(tt),rt},wrapLabel=memoize((_e,et,tt)=>{if(!_e||(tt=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},tt),common$1.lineBreakRegex.test(_e)))return _e;const nt=_e.split(" "),rt=[];let it="";return nt.forEach((ot,st)=>{const ut=calculateTextWidth(`${ot} `,tt),ft=calculateTextWidth(it,tt);if(ut>et){const{hyphenatedStrings:at,remainingWord:ct}=breakString(ot,et,"-",tt);rt.push(it,...at),it=ct}else ft+ut>=et?(rt.push(it),it=ot):it=[it,ot].filter(Boolean).join(" ");st+1===nt.length&&rt.push(it)}),rt.filter(ot=>ot!=="").join(tt.joinWith)},(_e,et,tt)=>`${_e}${et}${tt.fontSize}${tt.fontWeight}${tt.fontFamily}${tt.joinWith}`),breakString=memoize((_e,et,tt="-",nt)=>{nt=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},nt);const rt=[..._e],it=[];let ot="";return rt.forEach((st,ut)=>{const ft=`${ot}${st}`;if(calculateTextWidth(ft,nt)>=et){const lt=ut+1,at=rt.length===lt,ct=`${ft}${tt}`;it.push(at?ft:ct),ot=""}else ot=ft}),{hyphenatedStrings:it,remainingWord:ot}},(_e,et,tt="-",nt)=>`${_e}${et}${tt}${nt.fontSize}${nt.fontWeight}${nt.fontFamily}`);function calculateTextHeight(_e,et){return calculateTextDimensions(_e,et).height}function calculateTextWidth(_e,et){return calculateTextDimensions(_e,et).width}const calculateTextDimensions=memoize((_e,et)=>{const{fontSize:tt=12,fontFamily:nt="Arial",fontWeight:rt=400}=et;if(!_e)return{width:0,height:0};const[,it]=parseFontSize(tt),ot=["sans-serif",nt],st=_e.split(common$1.lineBreakRegex),ut=[],ft=select("body");if(!ft.remove)return{width:0,height:0,lineHeight:0};const dt=ft.append("svg");for(const at of ot){let ct=0;const ht={width:0,height:0,lineHeight:0};for(const pt of st){const mt=getTextObj();mt.text=pt||ZERO_WIDTH_SPACE;const gt=drawSimpleText(dt,mt).style("font-size",it).style("font-weight",rt).style("font-family",at),yt=(gt._groups||gt)[0][0].getBBox();if(yt.width===0&&yt.height===0)throw new Error("svg element not in render tree");ht.width=Math.round(Math.max(ht.width,yt.width)),ct=Math.round(yt.height),ht.height+=ct,ht.lineHeight=Math.round(Math.max(ht.lineHeight,ct))}ut.push(ht)}dt.remove();const lt=isNaN(ut[1].height)||isNaN(ut[1].width)||isNaN(ut[1].lineHeight)||ut[0].height>ut[1].height&&ut[0].width>ut[1].width&&ut[0].lineHeight>ut[1].lineHeight?0:1;return ut[lt]},(_e,et)=>`${_e}${et.fontSize}${et.fontWeight}${et.fontFamily}`);class InitIDGenerator{constructor(et=!1,tt){this.count=0,this.count=tt?tt.length:0,this.next=et?()=>this.count++:()=>Date.now()}}let decoder;const entityDecode=function(_e){return decoder=decoder||document.createElement("div"),_e=escape(_e).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),decoder.innerHTML=_e,unescape(decoder.textContent)};function isDetailedError(_e){return"str"in _e}const insertTitle=(_e,et,tt,nt)=>{var rt;if(!nt)return;const it=(rt=_e.node())==null?void 0:rt.getBBox();it&&_e.append("text").text(nt).attr("x",it.x+it.width/2).attr("y",-tt).attr("class",et)},parseFontSize=_e=>{if(typeof _e=="number")return[_e,_e+"px"];const et=parseInt(_e??"",10);return Number.isNaN(et)?[void 0,void 0]:_e===String(et)?[et,_e+"px"]:[et,_e]};function cleanAndMerge(_e,et){return merge$1({},_e,et)}const utils={assignWithDepth:assignWithDepth$1,wrapLabel,calculateTextHeight,calculateTextWidth,calculateTextDimensions,cleanAndMerge,detectInit,detectDirective,isSubstringInArray,interpolateToCurve,calcLabelPosition,calcCardinalityPosition,calcTerminalLabelPosition,formatUrl,getStylesFromArray,generateId,random,runFunc,entityDecode,insertTitle,parseFontSize,InitIDGenerator},encodeEntities=function(_e){let et=_e;return et=et.replace(/style.*:\S*#.*;/g,function(tt){return tt.substring(0,tt.length-1)}),et=et.replace(/classDef.*:\S*#.*;/g,function(tt){return tt.substring(0,tt.length-1)}),et=et.replace(/#\w+;/g,function(tt){const nt=tt.substring(1,tt.length-1);return/^\+?\d+$/.test(nt)?""+nt+"":""+nt+""}),et},decodeEntities=function(_e){return _e.replace(//g,"&#").replace(//g,"&").replace(//g,";")},version$2="10.9.1",defaultConfig$1=Object.freeze(defaultConfig$2);let siteConfig=assignWithDepth$1({},defaultConfig$1),configFromInitialize,directives=[],currentConfig=assignWithDepth$1({},defaultConfig$1);const updateCurrentConfig=(_e,et)=>{let tt=assignWithDepth$1({},_e),nt={};for(const rt of et)sanitize(rt),nt=assignWithDepth$1(nt,rt);if(tt=assignWithDepth$1(tt,nt),nt.theme&&nt.theme in theme){const rt=assignWithDepth$1({},configFromInitialize),it=assignWithDepth$1(rt.themeVariables||{},nt.themeVariables);tt.theme&&tt.theme in theme&&(tt.themeVariables=theme[tt.theme].getThemeVariables(it))}return currentConfig=tt,checkConfig(currentConfig),currentConfig},setSiteConfig=_e=>(siteConfig=assignWithDepth$1({},defaultConfig$1),siteConfig=assignWithDepth$1(siteConfig,_e),_e.theme&&theme[_e.theme]&&(siteConfig.themeVariables=theme[_e.theme].getThemeVariables(_e.themeVariables)),updateCurrentConfig(siteConfig,directives),siteConfig),saveConfigFromInitialize=_e=>{configFromInitialize=assignWithDepth$1({},_e)},updateSiteConfig=_e=>(siteConfig=assignWithDepth$1(siteConfig,_e),updateCurrentConfig(siteConfig,directives),siteConfig),getSiteConfig=()=>assignWithDepth$1({},siteConfig),setConfig$1=_e=>(checkConfig(_e),assignWithDepth$1(currentConfig,_e),getConfig$1()),getConfig$1=()=>assignWithDepth$1({},currentConfig),sanitize=_e=>{_e&&(["secure",...siteConfig.secure??[]].forEach(et=>{Object.hasOwn(_e,et)&&(log$1.debug(`Denied attempt to modify a secure key ${et}`,_e[et]),delete _e[et])}),Object.keys(_e).forEach(et=>{et.startsWith("__")&&delete _e[et]}),Object.keys(_e).forEach(et=>{typeof _e[et]=="string"&&(_e[et].includes("<")||_e[et].includes(">")||_e[et].includes("url(data:"))&&delete _e[et],typeof _e[et]=="object"&&sanitize(_e[et])}))},addDirective=_e=>{sanitizeDirective(_e),_e.fontFamily&&(!_e.themeVariables||!_e.themeVariables.fontFamily)&&(_e.themeVariables={fontFamily:_e.fontFamily}),directives.push(_e),updateCurrentConfig(siteConfig,directives)},reset=(_e=siteConfig)=>{directives=[],updateCurrentConfig(_e,directives)},ConfigWarning={LAZY_LOAD_DEPRECATED:"The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead."},issuedWarnings={},issueWarning=_e=>{issuedWarnings[_e]||(log$1.warn(ConfigWarning[_e]),issuedWarnings[_e]=!0)},checkConfig=_e=>{_e&&(_e.lazyLoadedDiagrams||_e.loadExternalDiagramsAtStartup)&&issueWarning("LAZY_LOAD_DEPRECATED")},id$l="c4",detector$l=_e=>/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(_e),loader$m=async()=>{const{diagram:_e}=await __vitePreload(()=>import("./c4Diagram-ae766693-BDDR3rco.js"),__vite__mapDeps([0,1]));return{id:id$l,diagram:_e}},plugin$j={id:id$l,detector:detector$l,loader:loader$m},c4=plugin$j,id$k="flowchart",detector$k=(_e,et)=>{var tt,nt;return((tt=et==null?void 0:et.flowchart)==null?void 0:tt.defaultRenderer)==="dagre-wrapper"||((nt=et==null?void 0:et.flowchart)==null?void 0:nt.defaultRenderer)==="elk"?!1:/^\s*graph/.test(_e)},loader$l=async()=>{const{diagram:_e}=await __vitePreload(()=>import("./flowDiagram-b222e15a-DJ4e6Ldn.js"),__vite__mapDeps([2,3,4,5,6,7,8,9,10,11,12,13,14]));return{id:id$k,diagram:_e}},plugin$i={id:id$k,detector:detector$k,loader:loader$l},flowchart=plugin$i,id$j="flowchart-v2",detector$j=(_e,et)=>{var tt,nt,rt;return((tt=et==null?void 0:et.flowchart)==null?void 0:tt.defaultRenderer)==="dagre-d3"||((nt=et==null?void 0:et.flowchart)==null?void 0:nt.defaultRenderer)==="elk"?!1:/^\s*graph/.test(_e)&&((rt=et==null?void 0:et.flowchart)==null?void 0:rt.defaultRenderer)==="dagre-wrapper"?!0:/^\s*flowchart/.test(_e)},loader$k=async()=>{const{diagram:_e}=await __vitePreload(()=>import("./flowDiagram-v2-13329dc7-VtLDETdr.js"),__vite__mapDeps([15,3,6,4,7,5,8,9,10,11,12,13,14]));return{id:id$j,diagram:_e}},plugin$h={id:id$j,detector:detector$j,loader:loader$k},flowchartV2=plugin$h,id$i="er",detector$i=_e=>/^\s*erDiagram/.test(_e),loader$j=async()=>{const{diagram:_e}=await __vitePreload(()=>import("./erDiagram-09d1c15f-D8_uJb52.js"),__vite__mapDeps([16,4,5,11,12,13]));return{id:id$i,diagram:_e}},plugin$g={id:id$i,detector:detector$i,loader:loader$j},er=plugin$g,id$h="gitGraph",detector$h=_e=>/^\s*gitGraph/.test(_e),loader$i=async()=>{const{diagram:_e}=await __vitePreload(()=>import("./gitGraphDiagram-942e62fe-D4zk9dMO.js"),[]);return{id:id$h,diagram:_e}},plugin$f={id:id$h,detector:detector$h,loader:loader$i},git=plugin$f,id$g="gantt",detector$g=_e=>/^\s*gantt/.test(_e),loader$h=async()=>{const{diagram:_e}=await __vitePreload(()=>import("./ganttDiagram-b62c793e-DfUL_aZU.js"),__vite__mapDeps([17,18,19]));return{id:id$g,diagram:_e}},plugin$e={id:id$g,detector:detector$g,loader:loader$h},gantt=plugin$e,id$f="info",detector$f=_e=>/^\s*info/.test(_e),loader$g=async()=>{const{diagram:_e}=await __vitePreload(()=>import("./infoDiagram-94cd232f-gc8IMnO_.js"),[]);return{id:id$f,diagram:_e}},info={id:id$f,detector:detector$f,loader:loader$g},id$e="pie",detector$e=_e=>/^\s*pie/.test(_e),loader$f=async()=>{const{diagram:_e}=await __vitePreload(()=>import("./pieDiagram-bb1d19e5-DsVM8v8o.js"),__vite__mapDeps([20,21,13,22,19,12]));return{id:id$e,diagram:_e}},pie={id:id$e,detector:detector$e,loader:loader$f},id$d="quadrantChart",detector$d=_e=>/^\s*quadrantChart/.test(_e),loader$e=async()=>{const{diagram:_e}=await __vitePreload(()=>import("./quadrantDiagram-c759a472-cdoKcoSO.js"),__vite__mapDeps([23,18,19]));return{id:id$d,diagram:_e}},plugin$d={id:id$d,detector:detector$d,loader:loader$e},quadrantChart=plugin$d,id$c="xychart",detector$c=_e=>/^\s*xychart-beta/.test(_e),loader$d=async()=>{const{diagram:_e}=await __vitePreload(()=>import("./xychartDiagram-f11f50a6-yvZ2I2qC.js"),__vite__mapDeps([24,10,19,22,18,11,12,13]));return{id:id$c,diagram:_e}},plugin$c={id:id$c,detector:detector$c,loader:loader$d},xychart=plugin$c,id$b="requirement",detector$b=_e=>/^\s*requirement(Diagram)?/.test(_e),loader$c=async()=>{const{diagram:_e}=await __vitePreload(()=>import("./requirementDiagram-87253d64-BLou0ryA.js"),__vite__mapDeps([25,4,5,11,12,13]));return{id:id$b,diagram:_e}},plugin$b={id:id$b,detector:detector$b,loader:loader$c},requirement=plugin$b,id$a="sequence",detector$a=_e=>/^\s*sequenceDiagram/.test(_e),loader$b=async()=>{const{diagram:_e}=await __vitePreload(()=>import("./sequenceDiagram-6894f283-Di1CqbYC.js"),__vite__mapDeps([26,1]));return{id:id$a,diagram:_e}},plugin$a={id:id$a,detector:detector$a,loader:loader$b},sequence$3=plugin$a,id$9="class",detector$9=(_e,et)=>{var tt;return((tt=et==null?void 0:et.class)==null?void 0:tt.defaultRenderer)==="dagre-wrapper"?!1:/^\s*classDiagram/.test(_e)},loader$a=async()=>{const{diagram:_e}=await __vitePreload(()=>import("./classDiagram-fb54d2a0-CQMWkkQi.js"),__vite__mapDeps([27,28,4,5,11,12,13]));return{id:id$9,diagram:_e}},plugin$9={id:id$9,detector:detector$9,loader:loader$a},classDiagram=plugin$9,id$8="classDiagram",detector$8=(_e,et)=>{var tt;return/^\s*classDiagram/.test(_e)&&((tt=et==null?void 0:et.class)==null?void 0:tt.defaultRenderer)==="dagre-wrapper"?!0:/^\s*classDiagram-v2/.test(_e)},loader$9=async()=>{const{diagram:_e}=await __vitePreload(()=>import("./classDiagram-v2-a2b738ad-tGl87ywk.js"),__vite__mapDeps([29,28,4,7,5,8,9,10,11,12,13]));return{id:id$8,diagram:_e}},plugin$8={id:id$8,detector:detector$8,loader:loader$9},classDiagramV2=plugin$8,id$7="state",detector$7=(_e,et)=>{var tt;return((tt=et==null?void 0:et.state)==null?void 0:tt.defaultRenderer)==="dagre-wrapper"?!1:/^\s*stateDiagram/.test(_e)},loader$8=async()=>{const{diagram:_e}=await __vitePreload(()=>import("./stateDiagram-5dee940d-CbjHujSA.js"),__vite__mapDeps([30,31,4,5,11,12,13]));return{id:id$7,diagram:_e}},plugin$7={id:id$7,detector:detector$7,loader:loader$8},state=plugin$7,id$6="stateDiagram",detector$6=(_e,et)=>{var tt;return!!(/^\s*stateDiagram-v2/.test(_e)||/^\s*stateDiagram/.test(_e)&&((tt=et==null?void 0:et.state)==null?void 0:tt.defaultRenderer)==="dagre-wrapper")},loader$7=async()=>{const{diagram:_e}=await __vitePreload(()=>import("./stateDiagram-v2-1992cada-BfRK7THm.js"),__vite__mapDeps([32,31,4,7,5,8,9,10,11,12,13]));return{id:id$6,diagram:_e}},plugin$6={id:id$6,detector:detector$6,loader:loader$7},stateV2=plugin$6,id$5="journey",detector$5=_e=>/^\s*journey/.test(_e),loader$6=async()=>{const{diagram:_e}=await __vitePreload(()=>import("./journeyDiagram-6625b456-1SfXKlSR.js"),__vite__mapDeps([33,1,21,13]));return{id:id$5,diagram:_e}},plugin$5={id:id$5,detector:detector$5,loader:loader$6},journey=plugin$5,d3Attrs=function(_e,et){for(let tt of et)_e.attr(tt[0],tt[1])},calculateSvgSizeAttrs=function(_e,et,tt){let nt=new Map;return tt?(nt.set("width","100%"),nt.set("style",`max-width: ${et}px;`)):(nt.set("height",_e),nt.set("width",et)),nt},configureSvgSize=function(_e,et,tt,nt){const rt=calculateSvgSizeAttrs(et,tt,nt);d3Attrs(_e,rt)},setupGraphViewbox$1=function(_e,et,tt,nt){const rt=et.node().getBBox(),it=rt.width,ot=rt.height;log$1.info(`SVG bounds: ${it}x${ot}`,rt);let st=0,ut=0;log$1.info(`Graph bounds: ${st}x${ut}`,_e),st=it+tt*2,ut=ot+tt*2,log$1.info(`Calculated bounds: ${st}x${ut}`),configureSvgSize(et,ut,st,nt);const ft=`${rt.x-tt} ${rt.y-tt} ${rt.width+2*tt} ${rt.height+2*tt}`;et.attr("viewBox",ft)},themes={},getStyles=(_e,et,tt)=>{let nt="";return _e in themes&&themes[_e]?nt=themes[_e](tt):log$1.warn(`No theme found for ${_e}`),` & {
    font-family: ${tt.fontFamily};
    font-size: ${tt.fontSize};
    fill: ${tt.textColor}
  }

  /* Classes common for multiple diagrams */

  & .error-icon {
    fill: ${tt.errorBkgColor};
  }
  & .error-text {
    fill: ${tt.errorTextColor};
    stroke: ${tt.errorTextColor};
  }

  & .edge-thickness-normal {
    stroke-width: 2px;
  }
  & .edge-thickness-thick {
    stroke-width: 3.5px
  }
  & .edge-pattern-solid {
    stroke-dasharray: 0;
  }

  & .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  & .marker {
    fill: ${tt.lineColor};
    stroke: ${tt.lineColor};
  }
  & .marker.cross {
    stroke: ${tt.lineColor};
  }

  & svg {
    font-family: ${tt.fontFamily};
    font-size: ${tt.fontSize};
  }

  ${nt}

  ${et}
`},addStylesForDiagram=(_e,et)=>{et!==void 0&&(themes[_e]=et)},getStyles$1=getStyles;let accTitle="",diagramTitle="",accDescription="";const sanitizeText$1=_e=>sanitizeText$2(_e,getConfig$1()),clear=()=>{accTitle="",accDescription="",diagramTitle=""},setAccTitle=_e=>{accTitle=sanitizeText$1(_e).replace(/^\s+/g,"")},getAccTitle=()=>accTitle,setAccDescription=_e=>{accDescription=sanitizeText$1(_e).replace(/\n\s+/g,`
`)},getAccDescription=()=>accDescription,setDiagramTitle=_e=>{diagramTitle=sanitizeText$1(_e)},getDiagramTitle=()=>diagramTitle,commonDb=Object.freeze(Object.defineProperty({__proto__:null,clear,getAccDescription,getAccTitle,getDiagramTitle,setAccDescription,setAccTitle,setDiagramTitle},Symbol.toStringTag,{value:"Module"})),log=log$1,setLogLevel=setLogLevel$1,getConfig=getConfig$1,setConfig=setConfig$1,defaultConfig=defaultConfig$1,sanitizeText=_e=>sanitizeText$2(_e,getConfig()),setupGraphViewbox=setupGraphViewbox$1,getCommonDb=()=>commonDb,diagrams={},registerDiagram=(_e,et,tt)=>{var nt;if(diagrams[_e])throw new Error(`Diagram ${_e} already registered.`);diagrams[_e]=et,tt&&addDetector(_e,tt),addStylesForDiagram(_e,et.styles),(nt=et.injectUtils)==null||nt.call(et,log,setLogLevel,getConfig,sanitizeText,setupGraphViewbox,getCommonDb(),()=>{})},getDiagram=_e=>{if(_e in diagrams)return diagrams[_e];throw new DiagramNotFoundError(_e)};class DiagramNotFoundError extends Error{constructor(et){super(`Diagram ${et} not found.`)}}const selectSvgElement=_e=>{var et;const{securityLevel:tt}=getConfig();let nt=select("body");if(tt==="sandbox"){const ot=((et=select(`#i${_e}`).node())==null?void 0:et.contentDocument)??document;nt=select(ot.body)}return nt.select(`#${_e}`)},draw$4=(_e,et,tt)=>{log$1.debug(`rendering svg for syntax error
`);const nt=selectSvgElement(et),rt=nt.append("g");nt.attr("viewBox","0 0 2412 512"),configureSvgSize(nt,100,512,!0),rt.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),rt.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),rt.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),rt.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),rt.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),rt.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),rt.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in text"),rt.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text(`mermaid version ${tt}`)},renderer$1={draw:draw$4},errorRenderer=renderer$1,diagram={db:{},renderer:renderer$1,parser:{parser:{yy:{}},parse:()=>{}}},errorDiagram=diagram,id$4="flowchart-elk",detector$4=(_e,et)=>{var tt;return!!(/^\s*flowchart-elk/.test(_e)||/^\s*flowchart|graph/.test(_e)&&((tt=et==null?void 0:et.flowchart)==null?void 0:tt.defaultRenderer)==="elk")},loader$5=async()=>{const{diagram:_e}=await __vitePreload(()=>import("./flowchart-elk-definition-ae0efee6-B7TJys5M.js"),__vite__mapDeps([34,3,9,10,11,12,13]));return{id:id$4,diagram:_e}},plugin$4={id:id$4,detector:detector$4,loader:loader$5},flowchartElk=plugin$4,id$3="timeline",detector$3=_e=>/^\s*timeline/.test(_e),loader$4=async()=>{const{diagram:_e}=await __vitePreload(()=>import("./timeline-definition-bf702344-BwSrtHDL.js"),__vite__mapDeps([35,21,13]));return{id:id$3,diagram:_e}},plugin$3={id:id$3,detector:detector$3,loader:loader$4},timeline=plugin$3,id$2="mindmap",detector$2=_e=>/^\s*mindmap/.test(_e),loader$3=async()=>{const{diagram:_e}=await __vitePreload(()=>import("./mindmap-definition-307c710a-DJocX8z9.js"),__vite__mapDeps([36,10]));return{id:id$2,diagram:_e}},plugin$2={id:id$2,detector:detector$2,loader:loader$3},mindmap=plugin$2,id$1="sankey",detector$1=_e=>/^\s*sankey-beta/.test(_e),loader$2=async()=>{const{diagram:_e}=await __vitePreload(()=>import("./sankeyDiagram-707fac0f-CTP5har4.js"),__vite__mapDeps([37,22,19,38]));return{id:id$1,diagram:_e}},plugin$1={id:id$1,detector:detector$1,loader:loader$2},sankey=plugin$1,id="block",detector=_e=>/^\s*block-beta/.test(_e),loader$1=async()=>{const{diagram:_e}=await __vitePreload(()=>import("./blockDiagram-9f4a6865-BvxRpQS7.js"),__vite__mapDeps([39,8,4,9,10,11,12,13,22,19,14,38]));return{id,diagram:_e}},plugin={id,detector,loader:loader$1},block$1=plugin;let hasLoadedDiagrams=!1;const addDiagrams=()=>{hasLoadedDiagrams||(hasLoadedDiagrams=!0,registerDiagram("error",errorDiagram,_e=>_e.toLowerCase().trim()==="error"),registerDiagram("---",{db:{clear:()=>{}},styles:{},renderer:{draw:()=>{}},parser:{parser:{yy:{}},parse:()=>{throw new Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks")}},init:()=>null},_e=>_e.toLowerCase().trimStart().startsWith("---")),registerLazyLoadedDiagrams(c4,classDiagramV2,classDiagram,er,gantt,info,pie,requirement,sequence$3,flowchartElk,flowchartV2,flowchart,mindmap,timeline,git,stateV2,state,journey,quadrantChart,sankey,xychart,block$1))};class Diagram{constructor(et,tt={}){this.text=et,this.metadata=tt,this.type="graph",this.text=encodeEntities(et),this.text+=`
`;const nt=getConfig$1();try{this.type=detectType(et,nt)}catch(it){this.type="error",this.detectError=it}const rt=getDiagram(this.type);log$1.debug("Type "+this.type),this.db=rt.db,this.renderer=rt.renderer,this.parser=rt.parser,this.parser.parser.yy=this.db,this.init=rt.init,this.parse()}parse(){var et,tt,nt,rt,it;if(this.detectError)throw this.detectError;(tt=(et=this.db).clear)==null||tt.call(et);const ot=getConfig$1();(nt=this.init)==null||nt.call(this,ot),this.metadata.title&&((it=(rt=this.db).setDiagramTitle)==null||it.call(rt,this.metadata.title)),this.parser.parse(this.text)}async render(et,tt){await this.renderer.draw(this.text,et,tt,this)}getParser(){return this.parser}getType(){return this.type}}const getDiagramFromText$1=async(_e,et={})=>{const tt=detectType(_e,getConfig$1());try{getDiagram(tt)}catch{const rt=getDiagramLoader(tt);if(!rt)throw new UnknownDiagramError(`Diagram ${tt} not found.`);const{id:it,diagram:ot}=await rt();registerDiagram(it,ot)}return new Diagram(_e,et)};let interactionFunctions=[];const attachFunctions=()=>{interactionFunctions.forEach(_e=>{_e()}),interactionFunctions=[]},SVG_ROLE="graphics-document document";function setA11yDiagramInfo(_e,et){_e.attr("role",SVG_ROLE),et!==""&&_e.attr("aria-roledescription",et)}function addSVGa11yTitleDescription(_e,et,tt,nt){if(_e.insert!==void 0){if(tt){const rt=`chart-desc-${nt}`;_e.attr("aria-describedby",rt),_e.insert("desc",":first-child").attr("id",rt).text(tt)}if(et){const rt=`chart-title-${nt}`;_e.attr("aria-labelledby",rt),_e.insert("title",":first-child").attr("id",rt).text(et)}}}const cleanupComments=_e=>_e.replace(/^\s*%%(?!{)[^\n]+\n?/gm,"").trimStart();/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function isNothing(_e){return typeof _e>"u"||_e===null}function isObject$1(_e){return typeof _e=="object"&&_e!==null}function toArray(_e){return Array.isArray(_e)?_e:isNothing(_e)?[]:[_e]}function extend(_e,et){var tt,nt,rt,it;if(et)for(it=Object.keys(et),tt=0,nt=it.length;tt<nt;tt+=1)rt=it[tt],_e[rt]=et[rt];return _e}function repeat(_e,et){var tt="",nt;for(nt=0;nt<et;nt+=1)tt+=_e;return tt}function isNegativeZero(_e){return _e===0&&Number.NEGATIVE_INFINITY===1/_e}var isNothing_1=isNothing,isObject_1=isObject$1,toArray_1=toArray,repeat_1=repeat,isNegativeZero_1=isNegativeZero,extend_1=extend,common={isNothing:isNothing_1,isObject:isObject_1,toArray:toArray_1,repeat:repeat_1,isNegativeZero:isNegativeZero_1,extend:extend_1};function formatError(_e,et){var tt="",nt=_e.reason||"(unknown reason)";return _e.mark?(_e.mark.name&&(tt+='in "'+_e.mark.name+'" '),tt+="("+(_e.mark.line+1)+":"+(_e.mark.column+1)+")",!et&&_e.mark.snippet&&(tt+=`

`+_e.mark.snippet),nt+" "+tt):nt}function YAMLException$1(_e,et){Error.call(this),this.name="YAMLException",this.reason=_e,this.mark=et,this.message=formatError(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}YAMLException$1.prototype=Object.create(Error.prototype);YAMLException$1.prototype.constructor=YAMLException$1;YAMLException$1.prototype.toString=function _e(et){return this.name+": "+formatError(this,et)};var exception=YAMLException$1;function getLine(_e,et,tt,nt,rt){var it="",ot="",st=Math.floor(rt/2)-1;return nt-et>st&&(it=" ... ",et=nt-st+it.length),tt-nt>st&&(ot=" ...",tt=nt+st-ot.length),{str:it+_e.slice(et,tt).replace(/\t/g,"")+ot,pos:nt-et+it.length}}function padStart(_e,et){return common.repeat(" ",et-_e.length)+_e}function makeSnippet(_e,et){if(et=Object.create(et||null),!_e.buffer)return null;et.maxLength||(et.maxLength=79),typeof et.indent!="number"&&(et.indent=1),typeof et.linesBefore!="number"&&(et.linesBefore=3),typeof et.linesAfter!="number"&&(et.linesAfter=2);for(var tt=/\r?\n|\r|\0/g,nt=[0],rt=[],it,ot=-1;it=tt.exec(_e.buffer);)rt.push(it.index),nt.push(it.index+it[0].length),_e.position<=it.index&&ot<0&&(ot=nt.length-2);ot<0&&(ot=nt.length-1);var st="",ut,ft,dt=Math.min(_e.line+et.linesAfter,rt.length).toString().length,lt=et.maxLength-(et.indent+dt+3);for(ut=1;ut<=et.linesBefore&&!(ot-ut<0);ut++)ft=getLine(_e.buffer,nt[ot-ut],rt[ot-ut],_e.position-(nt[ot]-nt[ot-ut]),lt),st=common.repeat(" ",et.indent)+padStart((_e.line-ut+1).toString(),dt)+" | "+ft.str+`
`+st;for(ft=getLine(_e.buffer,nt[ot],rt[ot],_e.position,lt),st+=common.repeat(" ",et.indent)+padStart((_e.line+1).toString(),dt)+" | "+ft.str+`
`,st+=common.repeat("-",et.indent+dt+3+ft.pos)+`^
`,ut=1;ut<=et.linesAfter&&!(ot+ut>=rt.length);ut++)ft=getLine(_e.buffer,nt[ot+ut],rt[ot+ut],_e.position-(nt[ot]-nt[ot+ut]),lt),st+=common.repeat(" ",et.indent)+padStart((_e.line+ut+1).toString(),dt)+" | "+ft.str+`
`;return st.replace(/\n$/,"")}var snippet=makeSnippet,TYPE_CONSTRUCTOR_OPTIONS=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],YAML_NODE_KINDS=["scalar","sequence","mapping"];function compileStyleAliases(_e){var et={};return _e!==null&&Object.keys(_e).forEach(function(tt){_e[tt].forEach(function(nt){et[String(nt)]=tt})}),et}function Type$1(_e,et){if(et=et||{},Object.keys(et).forEach(function(tt){if(TYPE_CONSTRUCTOR_OPTIONS.indexOf(tt)===-1)throw new exception('Unknown option "'+tt+'" is met in definition of "'+_e+'" YAML type.')}),this.options=et,this.tag=_e,this.kind=et.kind||null,this.resolve=et.resolve||function(){return!0},this.construct=et.construct||function(tt){return tt},this.instanceOf=et.instanceOf||null,this.predicate=et.predicate||null,this.represent=et.represent||null,this.representName=et.representName||null,this.defaultStyle=et.defaultStyle||null,this.multi=et.multi||!1,this.styleAliases=compileStyleAliases(et.styleAliases||null),YAML_NODE_KINDS.indexOf(this.kind)===-1)throw new exception('Unknown kind "'+this.kind+'" is specified for "'+_e+'" YAML type.')}var type=Type$1;function compileList(_e,et){var tt=[];return _e[et].forEach(function(nt){var rt=tt.length;tt.forEach(function(it,ot){it.tag===nt.tag&&it.kind===nt.kind&&it.multi===nt.multi&&(rt=ot)}),tt[rt]=nt}),tt}function compileMap(){var _e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},et,tt;function nt(rt){rt.multi?(_e.multi[rt.kind].push(rt),_e.multi.fallback.push(rt)):_e[rt.kind][rt.tag]=_e.fallback[rt.tag]=rt}for(et=0,tt=arguments.length;et<tt;et+=1)arguments[et].forEach(nt);return _e}function Schema$1(_e){return this.extend(_e)}Schema$1.prototype.extend=function _e(et){var tt=[],nt=[];if(et instanceof type)nt.push(et);else if(Array.isArray(et))nt=nt.concat(et);else if(et&&(Array.isArray(et.implicit)||Array.isArray(et.explicit)))et.implicit&&(tt=tt.concat(et.implicit)),et.explicit&&(nt=nt.concat(et.explicit));else throw new exception("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");tt.forEach(function(it){if(!(it instanceof type))throw new exception("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(it.loadKind&&it.loadKind!=="scalar")throw new exception("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(it.multi)throw new exception("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),nt.forEach(function(it){if(!(it instanceof type))throw new exception("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var rt=Object.create(Schema$1.prototype);return rt.implicit=(this.implicit||[]).concat(tt),rt.explicit=(this.explicit||[]).concat(nt),rt.compiledImplicit=compileList(rt,"implicit"),rt.compiledExplicit=compileList(rt,"explicit"),rt.compiledTypeMap=compileMap(rt.compiledImplicit,rt.compiledExplicit),rt};var schema=Schema$1,str=new type("tag:yaml.org,2002:str",{kind:"scalar",construct:function(_e){return _e!==null?_e:""}}),seq=new type("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(_e){return _e!==null?_e:[]}}),map=new type("tag:yaml.org,2002:map",{kind:"mapping",construct:function(_e){return _e!==null?_e:{}}}),failsafe=new schema({explicit:[str,seq,map]});function resolveYamlNull(_e){if(_e===null)return!0;var et=_e.length;return et===1&&_e==="~"||et===4&&(_e==="null"||_e==="Null"||_e==="NULL")}function constructYamlNull(){return null}function isNull(_e){return _e===null}var _null=new type("tag:yaml.org,2002:null",{kind:"scalar",resolve:resolveYamlNull,construct:constructYamlNull,predicate:isNull,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function resolveYamlBoolean(_e){if(_e===null)return!1;var et=_e.length;return et===4&&(_e==="true"||_e==="True"||_e==="TRUE")||et===5&&(_e==="false"||_e==="False"||_e==="FALSE")}function constructYamlBoolean(_e){return _e==="true"||_e==="True"||_e==="TRUE"}function isBoolean(_e){return Object.prototype.toString.call(_e)==="[object Boolean]"}var bool=new type("tag:yaml.org,2002:bool",{kind:"scalar",resolve:resolveYamlBoolean,construct:constructYamlBoolean,predicate:isBoolean,represent:{lowercase:function(_e){return _e?"true":"false"},uppercase:function(_e){return _e?"TRUE":"FALSE"},camelcase:function(_e){return _e?"True":"False"}},defaultStyle:"lowercase"});function isHexCode(_e){return 48<=_e&&_e<=57||65<=_e&&_e<=70||97<=_e&&_e<=102}function isOctCode(_e){return 48<=_e&&_e<=55}function isDecCode(_e){return 48<=_e&&_e<=57}function resolveYamlInteger(_e){if(_e===null)return!1;var et=_e.length,tt=0,nt=!1,rt;if(!et)return!1;if(rt=_e[tt],(rt==="-"||rt==="+")&&(rt=_e[++tt]),rt==="0"){if(tt+1===et)return!0;if(rt=_e[++tt],rt==="b"){for(tt++;tt<et;tt++)if(rt=_e[tt],rt!=="_"){if(rt!=="0"&&rt!=="1")return!1;nt=!0}return nt&&rt!=="_"}if(rt==="x"){for(tt++;tt<et;tt++)if(rt=_e[tt],rt!=="_"){if(!isHexCode(_e.charCodeAt(tt)))return!1;nt=!0}return nt&&rt!=="_"}if(rt==="o"){for(tt++;tt<et;tt++)if(rt=_e[tt],rt!=="_"){if(!isOctCode(_e.charCodeAt(tt)))return!1;nt=!0}return nt&&rt!=="_"}}if(rt==="_")return!1;for(;tt<et;tt++)if(rt=_e[tt],rt!=="_"){if(!isDecCode(_e.charCodeAt(tt)))return!1;nt=!0}return!(!nt||rt==="_")}function constructYamlInteger(_e){var et=_e,tt=1,nt;if(et.indexOf("_")!==-1&&(et=et.replace(/_/g,"")),nt=et[0],(nt==="-"||nt==="+")&&(nt==="-"&&(tt=-1),et=et.slice(1),nt=et[0]),et==="0")return 0;if(nt==="0"){if(et[1]==="b")return tt*parseInt(et.slice(2),2);if(et[1]==="x")return tt*parseInt(et.slice(2),16);if(et[1]==="o")return tt*parseInt(et.slice(2),8)}return tt*parseInt(et,10)}function isInteger(_e){return Object.prototype.toString.call(_e)==="[object Number]"&&_e%1===0&&!common.isNegativeZero(_e)}var int=new type("tag:yaml.org,2002:int",{kind:"scalar",resolve:resolveYamlInteger,construct:constructYamlInteger,predicate:isInteger,represent:{binary:function(_e){return _e>=0?"0b"+_e.toString(2):"-0b"+_e.toString(2).slice(1)},octal:function(_e){return _e>=0?"0o"+_e.toString(8):"-0o"+_e.toString(8).slice(1)},decimal:function(_e){return _e.toString(10)},hexadecimal:function(_e){return _e>=0?"0x"+_e.toString(16).toUpperCase():"-0x"+_e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),YAML_FLOAT_PATTERN=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function resolveYamlFloat(_e){return!(_e===null||!YAML_FLOAT_PATTERN.test(_e)||_e[_e.length-1]==="_")}function constructYamlFloat(_e){var et,tt;return et=_e.replace(/_/g,"").toLowerCase(),tt=et[0]==="-"?-1:1,"+-".indexOf(et[0])>=0&&(et=et.slice(1)),et===".inf"?tt===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:et===".nan"?NaN:tt*parseFloat(et,10)}var SCIENTIFIC_WITHOUT_DOT=/^[-+]?[0-9]+e/;function representYamlFloat(_e,et){var tt;if(isNaN(_e))switch(et){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===_e)switch(et){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===_e)switch(et){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(common.isNegativeZero(_e))return"-0.0";return tt=_e.toString(10),SCIENTIFIC_WITHOUT_DOT.test(tt)?tt.replace("e",".e"):tt}function isFloat(_e){return Object.prototype.toString.call(_e)==="[object Number]"&&(_e%1!==0||common.isNegativeZero(_e))}var float=new type("tag:yaml.org,2002:float",{kind:"scalar",resolve:resolveYamlFloat,construct:constructYamlFloat,predicate:isFloat,represent:representYamlFloat,defaultStyle:"lowercase"}),json=failsafe.extend({implicit:[_null,bool,int,float]}),core=json,YAML_DATE_REGEXP=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),YAML_TIMESTAMP_REGEXP=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function resolveYamlTimestamp(_e){return _e===null?!1:YAML_DATE_REGEXP.exec(_e)!==null||YAML_TIMESTAMP_REGEXP.exec(_e)!==null}function constructYamlTimestamp(_e){var et,tt,nt,rt,it,ot,st,ut=0,ft=null,dt,lt,at;if(et=YAML_DATE_REGEXP.exec(_e),et===null&&(et=YAML_TIMESTAMP_REGEXP.exec(_e)),et===null)throw new Error("Date resolve error");if(tt=+et[1],nt=+et[2]-1,rt=+et[3],!et[4])return new Date(Date.UTC(tt,nt,rt));if(it=+et[4],ot=+et[5],st=+et[6],et[7]){for(ut=et[7].slice(0,3);ut.length<3;)ut+="0";ut=+ut}return et[9]&&(dt=+et[10],lt=+(et[11]||0),ft=(dt*60+lt)*6e4,et[9]==="-"&&(ft=-ft)),at=new Date(Date.UTC(tt,nt,rt,it,ot,st,ut)),ft&&at.setTime(at.getTime()-ft),at}function representYamlTimestamp(_e){return _e.toISOString()}var timestamp=new type("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:resolveYamlTimestamp,construct:constructYamlTimestamp,instanceOf:Date,represent:representYamlTimestamp});function resolveYamlMerge(_e){return _e==="<<"||_e===null}var merge=new type("tag:yaml.org,2002:merge",{kind:"scalar",resolve:resolveYamlMerge}),BASE64_MAP=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function resolveYamlBinary(_e){if(_e===null)return!1;var et,tt,nt=0,rt=_e.length,it=BASE64_MAP;for(tt=0;tt<rt;tt++)if(et=it.indexOf(_e.charAt(tt)),!(et>64)){if(et<0)return!1;nt+=6}return nt%8===0}function constructYamlBinary(_e){var et,tt,nt=_e.replace(/[\r\n=]/g,""),rt=nt.length,it=BASE64_MAP,ot=0,st=[];for(et=0;et<rt;et++)et%4===0&&et&&(st.push(ot>>16&255),st.push(ot>>8&255),st.push(ot&255)),ot=ot<<6|it.indexOf(nt.charAt(et));return tt=rt%4*6,tt===0?(st.push(ot>>16&255),st.push(ot>>8&255),st.push(ot&255)):tt===18?(st.push(ot>>10&255),st.push(ot>>2&255)):tt===12&&st.push(ot>>4&255),new Uint8Array(st)}function representYamlBinary(_e){var et="",tt=0,nt,rt,it=_e.length,ot=BASE64_MAP;for(nt=0;nt<it;nt++)nt%3===0&&nt&&(et+=ot[tt>>18&63],et+=ot[tt>>12&63],et+=ot[tt>>6&63],et+=ot[tt&63]),tt=(tt<<8)+_e[nt];return rt=it%3,rt===0?(et+=ot[tt>>18&63],et+=ot[tt>>12&63],et+=ot[tt>>6&63],et+=ot[tt&63]):rt===2?(et+=ot[tt>>10&63],et+=ot[tt>>4&63],et+=ot[tt<<2&63],et+=ot[64]):rt===1&&(et+=ot[tt>>2&63],et+=ot[tt<<4&63],et+=ot[64],et+=ot[64]),et}function isBinary(_e){return Object.prototype.toString.call(_e)==="[object Uint8Array]"}var binary=new type("tag:yaml.org,2002:binary",{kind:"scalar",resolve:resolveYamlBinary,construct:constructYamlBinary,predicate:isBinary,represent:representYamlBinary}),_hasOwnProperty$3=Object.prototype.hasOwnProperty,_toString$2=Object.prototype.toString;function resolveYamlOmap(_e){if(_e===null)return!0;var et=[],tt,nt,rt,it,ot,st=_e;for(tt=0,nt=st.length;tt<nt;tt+=1){if(rt=st[tt],ot=!1,_toString$2.call(rt)!=="[object Object]")return!1;for(it in rt)if(_hasOwnProperty$3.call(rt,it))if(!ot)ot=!0;else return!1;if(!ot)return!1;if(et.indexOf(it)===-1)et.push(it);else return!1}return!0}function constructYamlOmap(_e){return _e!==null?_e:[]}var omap=new type("tag:yaml.org,2002:omap",{kind:"sequence",resolve:resolveYamlOmap,construct:constructYamlOmap}),_toString$1=Object.prototype.toString;function resolveYamlPairs(_e){if(_e===null)return!0;var et,tt,nt,rt,it,ot=_e;for(it=new Array(ot.length),et=0,tt=ot.length;et<tt;et+=1){if(nt=ot[et],_toString$1.call(nt)!=="[object Object]"||(rt=Object.keys(nt),rt.length!==1))return!1;it[et]=[rt[0],nt[rt[0]]]}return!0}function constructYamlPairs(_e){if(_e===null)return[];var et,tt,nt,rt,it,ot=_e;for(it=new Array(ot.length),et=0,tt=ot.length;et<tt;et+=1)nt=ot[et],rt=Object.keys(nt),it[et]=[rt[0],nt[rt[0]]];return it}var pairs=new type("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:resolveYamlPairs,construct:constructYamlPairs}),_hasOwnProperty$2=Object.prototype.hasOwnProperty;function resolveYamlSet(_e){if(_e===null)return!0;var et,tt=_e;for(et in tt)if(_hasOwnProperty$2.call(tt,et)&&tt[et]!==null)return!1;return!0}function constructYamlSet(_e){return _e!==null?_e:{}}var set$1=new type("tag:yaml.org,2002:set",{kind:"mapping",resolve:resolveYamlSet,construct:constructYamlSet}),_default$1=core.extend({implicit:[timestamp,merge],explicit:[binary,omap,pairs,set$1]}),_hasOwnProperty$1=Object.prototype.hasOwnProperty,CONTEXT_FLOW_IN=1,CONTEXT_FLOW_OUT=2,CONTEXT_BLOCK_IN=3,CONTEXT_BLOCK_OUT=4,CHOMPING_CLIP=1,CHOMPING_STRIP=2,CHOMPING_KEEP=3,PATTERN_NON_PRINTABLE=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,PATTERN_NON_ASCII_LINE_BREAKS=/[\x85\u2028\u2029]/,PATTERN_FLOW_INDICATORS=/[,\[\]\{\}]/,PATTERN_TAG_HANDLE=/^(?:!|!!|![a-z\-]+!)$/i,PATTERN_TAG_URI=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function _class(_e){return Object.prototype.toString.call(_e)}function is_EOL(_e){return _e===10||_e===13}function is_WHITE_SPACE(_e){return _e===9||_e===32}function is_WS_OR_EOL(_e){return _e===9||_e===32||_e===10||_e===13}function is_FLOW_INDICATOR(_e){return _e===44||_e===91||_e===93||_e===123||_e===125}function fromHexCode(_e){var et;return 48<=_e&&_e<=57?_e-48:(et=_e|32,97<=et&&et<=102?et-97+10:-1)}function escapedHexLen(_e){return _e===120?2:_e===117?4:_e===85?8:0}function fromDecimalCode(_e){return 48<=_e&&_e<=57?_e-48:-1}function simpleEscapeSequence(_e){return _e===48?"\0":_e===97?"\x07":_e===98?"\b":_e===116||_e===9?"	":_e===110?`
`:_e===118?"\v":_e===102?"\f":_e===114?"\r":_e===101?"\x1B":_e===32?" ":_e===34?'"':_e===47?"/":_e===92?"\\":_e===78?"":_e===95?"":_e===76?"\u2028":_e===80?"\u2029":""}function charFromCodepoint(_e){return _e<=65535?String.fromCharCode(_e):String.fromCharCode((_e-65536>>10)+55296,(_e-65536&1023)+56320)}var simpleEscapeCheck=new Array(256),simpleEscapeMap=new Array(256);for(var i$1=0;i$1<256;i$1++)simpleEscapeCheck[i$1]=simpleEscapeSequence(i$1)?1:0,simpleEscapeMap[i$1]=simpleEscapeSequence(i$1);function State$1(_e,et){this.input=_e,this.filename=et.filename||null,this.schema=et.schema||_default$1,this.onWarning=et.onWarning||null,this.legacy=et.legacy||!1,this.json=et.json||!1,this.listener=et.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=_e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function generateError(_e,et){var tt={name:_e.filename,buffer:_e.input.slice(0,-1),position:_e.position,line:_e.line,column:_e.position-_e.lineStart};return tt.snippet=snippet(tt),new exception(et,tt)}function throwError(_e,et){throw generateError(_e,et)}function throwWarning(_e,et){_e.onWarning&&_e.onWarning.call(null,generateError(_e,et))}var directiveHandlers={YAML:function _e(et,tt,nt){var rt,it,ot;et.version!==null&&throwError(et,"duplication of %YAML directive"),nt.length!==1&&throwError(et,"YAML directive accepts exactly one argument"),rt=/^([0-9]+)\.([0-9]+)$/.exec(nt[0]),rt===null&&throwError(et,"ill-formed argument of the YAML directive"),it=parseInt(rt[1],10),ot=parseInt(rt[2],10),it!==1&&throwError(et,"unacceptable YAML version of the document"),et.version=nt[0],et.checkLineBreaks=ot<2,ot!==1&&ot!==2&&throwWarning(et,"unsupported YAML version of the document")},TAG:function _e(et,tt,nt){var rt,it;nt.length!==2&&throwError(et,"TAG directive accepts exactly two arguments"),rt=nt[0],it=nt[1],PATTERN_TAG_HANDLE.test(rt)||throwError(et,"ill-formed tag handle (first argument) of the TAG directive"),_hasOwnProperty$1.call(et.tagMap,rt)&&throwError(et,'there is a previously declared suffix for "'+rt+'" tag handle'),PATTERN_TAG_URI.test(it)||throwError(et,"ill-formed tag prefix (second argument) of the TAG directive");try{it=decodeURIComponent(it)}catch{throwError(et,"tag prefix is malformed: "+it)}et.tagMap[rt]=it}};function captureSegment(_e,et,tt,nt){var rt,it,ot,st;if(et<tt){if(st=_e.input.slice(et,tt),nt)for(rt=0,it=st.length;rt<it;rt+=1)ot=st.charCodeAt(rt),ot===9||32<=ot&&ot<=1114111||throwError(_e,"expected valid JSON character");else PATTERN_NON_PRINTABLE.test(st)&&throwError(_e,"the stream contains non-printable characters");_e.result+=st}}function mergeMappings(_e,et,tt,nt){var rt,it,ot,st;for(common.isObject(tt)||throwError(_e,"cannot merge mappings; the provided source object is unacceptable"),rt=Object.keys(tt),ot=0,st=rt.length;ot<st;ot+=1)it=rt[ot],_hasOwnProperty$1.call(et,it)||(et[it]=tt[it],nt[it]=!0)}function storeMappingPair(_e,et,tt,nt,rt,it,ot,st,ut){var ft,dt;if(Array.isArray(rt))for(rt=Array.prototype.slice.call(rt),ft=0,dt=rt.length;ft<dt;ft+=1)Array.isArray(rt[ft])&&throwError(_e,"nested arrays are not supported inside keys"),typeof rt=="object"&&_class(rt[ft])==="[object Object]"&&(rt[ft]="[object Object]");if(typeof rt=="object"&&_class(rt)==="[object Object]"&&(rt="[object Object]"),rt=String(rt),et===null&&(et={}),nt==="tag:yaml.org,2002:merge")if(Array.isArray(it))for(ft=0,dt=it.length;ft<dt;ft+=1)mergeMappings(_e,et,it[ft],tt);else mergeMappings(_e,et,it,tt);else!_e.json&&!_hasOwnProperty$1.call(tt,rt)&&_hasOwnProperty$1.call(et,rt)&&(_e.line=ot||_e.line,_e.lineStart=st||_e.lineStart,_e.position=ut||_e.position,throwError(_e,"duplicated mapping key")),rt==="__proto__"?Object.defineProperty(et,rt,{configurable:!0,enumerable:!0,writable:!0,value:it}):et[rt]=it,delete tt[rt];return et}function readLineBreak(_e){var et;et=_e.input.charCodeAt(_e.position),et===10?_e.position++:et===13?(_e.position++,_e.input.charCodeAt(_e.position)===10&&_e.position++):throwError(_e,"a line break is expected"),_e.line+=1,_e.lineStart=_e.position,_e.firstTabInLine=-1}function skipSeparationSpace(_e,et,tt){for(var nt=0,rt=_e.input.charCodeAt(_e.position);rt!==0;){for(;is_WHITE_SPACE(rt);)rt===9&&_e.firstTabInLine===-1&&(_e.firstTabInLine=_e.position),rt=_e.input.charCodeAt(++_e.position);if(et&&rt===35)do rt=_e.input.charCodeAt(++_e.position);while(rt!==10&&rt!==13&&rt!==0);if(is_EOL(rt))for(readLineBreak(_e),rt=_e.input.charCodeAt(_e.position),nt++,_e.lineIndent=0;rt===32;)_e.lineIndent++,rt=_e.input.charCodeAt(++_e.position);else break}return tt!==-1&&nt!==0&&_e.lineIndent<tt&&throwWarning(_e,"deficient indentation"),nt}function testDocumentSeparator(_e){var et=_e.position,tt;return tt=_e.input.charCodeAt(et),!!((tt===45||tt===46)&&tt===_e.input.charCodeAt(et+1)&&tt===_e.input.charCodeAt(et+2)&&(et+=3,tt=_e.input.charCodeAt(et),tt===0||is_WS_OR_EOL(tt)))}function writeFoldedLines(_e,et){et===1?_e.result+=" ":et>1&&(_e.result+=common.repeat(`
`,et-1))}function readPlainScalar(_e,et,tt){var nt,rt,it,ot,st,ut,ft,dt,lt=_e.kind,at=_e.result,ct;if(ct=_e.input.charCodeAt(_e.position),is_WS_OR_EOL(ct)||is_FLOW_INDICATOR(ct)||ct===35||ct===38||ct===42||ct===33||ct===124||ct===62||ct===39||ct===34||ct===37||ct===64||ct===96||(ct===63||ct===45)&&(rt=_e.input.charCodeAt(_e.position+1),is_WS_OR_EOL(rt)||tt&&is_FLOW_INDICATOR(rt)))return!1;for(_e.kind="scalar",_e.result="",it=ot=_e.position,st=!1;ct!==0;){if(ct===58){if(rt=_e.input.charCodeAt(_e.position+1),is_WS_OR_EOL(rt)||tt&&is_FLOW_INDICATOR(rt))break}else if(ct===35){if(nt=_e.input.charCodeAt(_e.position-1),is_WS_OR_EOL(nt))break}else{if(_e.position===_e.lineStart&&testDocumentSeparator(_e)||tt&&is_FLOW_INDICATOR(ct))break;if(is_EOL(ct))if(ut=_e.line,ft=_e.lineStart,dt=_e.lineIndent,skipSeparationSpace(_e,!1,-1),_e.lineIndent>=et){st=!0,ct=_e.input.charCodeAt(_e.position);continue}else{_e.position=ot,_e.line=ut,_e.lineStart=ft,_e.lineIndent=dt;break}}st&&(captureSegment(_e,it,ot,!1),writeFoldedLines(_e,_e.line-ut),it=ot=_e.position,st=!1),is_WHITE_SPACE(ct)||(ot=_e.position+1),ct=_e.input.charCodeAt(++_e.position)}return captureSegment(_e,it,ot,!1),_e.result?!0:(_e.kind=lt,_e.result=at,!1)}function readSingleQuotedScalar(_e,et){var tt,nt,rt;if(tt=_e.input.charCodeAt(_e.position),tt!==39)return!1;for(_e.kind="scalar",_e.result="",_e.position++,nt=rt=_e.position;(tt=_e.input.charCodeAt(_e.position))!==0;)if(tt===39)if(captureSegment(_e,nt,_e.position,!0),tt=_e.input.charCodeAt(++_e.position),tt===39)nt=_e.position,_e.position++,rt=_e.position;else return!0;else is_EOL(tt)?(captureSegment(_e,nt,rt,!0),writeFoldedLines(_e,skipSeparationSpace(_e,!1,et)),nt=rt=_e.position):_e.position===_e.lineStart&&testDocumentSeparator(_e)?throwError(_e,"unexpected end of the document within a single quoted scalar"):(_e.position++,rt=_e.position);throwError(_e,"unexpected end of the stream within a single quoted scalar")}function readDoubleQuotedScalar(_e,et){var tt,nt,rt,it,ot,st;if(st=_e.input.charCodeAt(_e.position),st!==34)return!1;for(_e.kind="scalar",_e.result="",_e.position++,tt=nt=_e.position;(st=_e.input.charCodeAt(_e.position))!==0;){if(st===34)return captureSegment(_e,tt,_e.position,!0),_e.position++,!0;if(st===92){if(captureSegment(_e,tt,_e.position,!0),st=_e.input.charCodeAt(++_e.position),is_EOL(st))skipSeparationSpace(_e,!1,et);else if(st<256&&simpleEscapeCheck[st])_e.result+=simpleEscapeMap[st],_e.position++;else if((ot=escapedHexLen(st))>0){for(rt=ot,it=0;rt>0;rt--)st=_e.input.charCodeAt(++_e.position),(ot=fromHexCode(st))>=0?it=(it<<4)+ot:throwError(_e,"expected hexadecimal character");_e.result+=charFromCodepoint(it),_e.position++}else throwError(_e,"unknown escape sequence");tt=nt=_e.position}else is_EOL(st)?(captureSegment(_e,tt,nt,!0),writeFoldedLines(_e,skipSeparationSpace(_e,!1,et)),tt=nt=_e.position):_e.position===_e.lineStart&&testDocumentSeparator(_e)?throwError(_e,"unexpected end of the document within a double quoted scalar"):(_e.position++,nt=_e.position)}throwError(_e,"unexpected end of the stream within a double quoted scalar")}function readFlowCollection(_e,et){var tt=!0,nt,rt,it,ot=_e.tag,st,ut=_e.anchor,ft,dt,lt,at,ct,ht=Object.create(null),pt,mt,gt,yt;if(yt=_e.input.charCodeAt(_e.position),yt===91)dt=93,ct=!1,st=[];else if(yt===123)dt=125,ct=!0,st={};else return!1;for(_e.anchor!==null&&(_e.anchorMap[_e.anchor]=st),yt=_e.input.charCodeAt(++_e.position);yt!==0;){if(skipSeparationSpace(_e,!0,et),yt=_e.input.charCodeAt(_e.position),yt===dt)return _e.position++,_e.tag=ot,_e.anchor=ut,_e.kind=ct?"mapping":"sequence",_e.result=st,!0;tt?yt===44&&throwError(_e,"expected the node content, but found ','"):throwError(_e,"missed comma between flow collection entries"),mt=pt=gt=null,lt=at=!1,yt===63&&(ft=_e.input.charCodeAt(_e.position+1),is_WS_OR_EOL(ft)&&(lt=at=!0,_e.position++,skipSeparationSpace(_e,!0,et))),nt=_e.line,rt=_e.lineStart,it=_e.position,composeNode(_e,et,CONTEXT_FLOW_IN,!1,!0),mt=_e.tag,pt=_e.result,skipSeparationSpace(_e,!0,et),yt=_e.input.charCodeAt(_e.position),(at||_e.line===nt)&&yt===58&&(lt=!0,yt=_e.input.charCodeAt(++_e.position),skipSeparationSpace(_e,!0,et),composeNode(_e,et,CONTEXT_FLOW_IN,!1,!0),gt=_e.result),ct?storeMappingPair(_e,st,ht,mt,pt,gt,nt,rt,it):lt?st.push(storeMappingPair(_e,null,ht,mt,pt,gt,nt,rt,it)):st.push(pt),skipSeparationSpace(_e,!0,et),yt=_e.input.charCodeAt(_e.position),yt===44?(tt=!0,yt=_e.input.charCodeAt(++_e.position)):tt=!1}throwError(_e,"unexpected end of the stream within a flow collection")}function readBlockScalar(_e,et){var tt,nt,rt=CHOMPING_CLIP,it=!1,ot=!1,st=et,ut=0,ft=!1,dt,lt;if(lt=_e.input.charCodeAt(_e.position),lt===124)nt=!1;else if(lt===62)nt=!0;else return!1;for(_e.kind="scalar",_e.result="";lt!==0;)if(lt=_e.input.charCodeAt(++_e.position),lt===43||lt===45)CHOMPING_CLIP===rt?rt=lt===43?CHOMPING_KEEP:CHOMPING_STRIP:throwError(_e,"repeat of a chomping mode identifier");else if((dt=fromDecimalCode(lt))>=0)dt===0?throwError(_e,"bad explicit indentation width of a block scalar; it cannot be less than one"):ot?throwError(_e,"repeat of an indentation width identifier"):(st=et+dt-1,ot=!0);else break;if(is_WHITE_SPACE(lt)){do lt=_e.input.charCodeAt(++_e.position);while(is_WHITE_SPACE(lt));if(lt===35)do lt=_e.input.charCodeAt(++_e.position);while(!is_EOL(lt)&&lt!==0)}for(;lt!==0;){for(readLineBreak(_e),_e.lineIndent=0,lt=_e.input.charCodeAt(_e.position);(!ot||_e.lineIndent<st)&&lt===32;)_e.lineIndent++,lt=_e.input.charCodeAt(++_e.position);if(!ot&&_e.lineIndent>st&&(st=_e.lineIndent),is_EOL(lt)){ut++;continue}if(_e.lineIndent<st){rt===CHOMPING_KEEP?_e.result+=common.repeat(`
`,it?1+ut:ut):rt===CHOMPING_CLIP&&it&&(_e.result+=`
`);break}for(nt?is_WHITE_SPACE(lt)?(ft=!0,_e.result+=common.repeat(`
`,it?1+ut:ut)):ft?(ft=!1,_e.result+=common.repeat(`
`,ut+1)):ut===0?it&&(_e.result+=" "):_e.result+=common.repeat(`
`,ut):_e.result+=common.repeat(`
`,it?1+ut:ut),it=!0,ot=!0,ut=0,tt=_e.position;!is_EOL(lt)&&lt!==0;)lt=_e.input.charCodeAt(++_e.position);captureSegment(_e,tt,_e.position,!1)}return!0}function readBlockSequence(_e,et){var tt,nt=_e.tag,rt=_e.anchor,it=[],ot,st=!1,ut;if(_e.firstTabInLine!==-1)return!1;for(_e.anchor!==null&&(_e.anchorMap[_e.anchor]=it),ut=_e.input.charCodeAt(_e.position);ut!==0&&(_e.firstTabInLine!==-1&&(_e.position=_e.firstTabInLine,throwError(_e,"tab characters must not be used in indentation")),!(ut!==45||(ot=_e.input.charCodeAt(_e.position+1),!is_WS_OR_EOL(ot))));){if(st=!0,_e.position++,skipSeparationSpace(_e,!0,-1)&&_e.lineIndent<=et){it.push(null),ut=_e.input.charCodeAt(_e.position);continue}if(tt=_e.line,composeNode(_e,et,CONTEXT_BLOCK_IN,!1,!0),it.push(_e.result),skipSeparationSpace(_e,!0,-1),ut=_e.input.charCodeAt(_e.position),(_e.line===tt||_e.lineIndent>et)&&ut!==0)throwError(_e,"bad indentation of a sequence entry");else if(_e.lineIndent<et)break}return st?(_e.tag=nt,_e.anchor=rt,_e.kind="sequence",_e.result=it,!0):!1}function readBlockMapping(_e,et,tt){var nt,rt,it,ot,st,ut,ft=_e.tag,dt=_e.anchor,lt={},at=Object.create(null),ct=null,ht=null,pt=null,mt=!1,gt=!1,yt;if(_e.firstTabInLine!==-1)return!1;for(_e.anchor!==null&&(_e.anchorMap[_e.anchor]=lt),yt=_e.input.charCodeAt(_e.position);yt!==0;){if(!mt&&_e.firstTabInLine!==-1&&(_e.position=_e.firstTabInLine,throwError(_e,"tab characters must not be used in indentation")),nt=_e.input.charCodeAt(_e.position+1),it=_e.line,(yt===63||yt===58)&&is_WS_OR_EOL(nt))yt===63?(mt&&(storeMappingPair(_e,lt,at,ct,ht,null,ot,st,ut),ct=ht=pt=null),gt=!0,mt=!0,rt=!0):mt?(mt=!1,rt=!0):throwError(_e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),_e.position+=1,yt=nt;else{if(ot=_e.line,st=_e.lineStart,ut=_e.position,!composeNode(_e,tt,CONTEXT_FLOW_OUT,!1,!0))break;if(_e.line===it){for(yt=_e.input.charCodeAt(_e.position);is_WHITE_SPACE(yt);)yt=_e.input.charCodeAt(++_e.position);if(yt===58)yt=_e.input.charCodeAt(++_e.position),is_WS_OR_EOL(yt)||throwError(_e,"a whitespace character is expected after the key-value separator within a block mapping"),mt&&(storeMappingPair(_e,lt,at,ct,ht,null,ot,st,ut),ct=ht=pt=null),gt=!0,mt=!1,rt=!1,ct=_e.tag,ht=_e.result;else if(gt)throwError(_e,"can not read an implicit mapping pair; a colon is missed");else return _e.tag=ft,_e.anchor=dt,!0}else if(gt)throwError(_e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return _e.tag=ft,_e.anchor=dt,!0}if((_e.line===it||_e.lineIndent>et)&&(mt&&(ot=_e.line,st=_e.lineStart,ut=_e.position),composeNode(_e,et,CONTEXT_BLOCK_OUT,!0,rt)&&(mt?ht=_e.result:pt=_e.result),mt||(storeMappingPair(_e,lt,at,ct,ht,pt,ot,st,ut),ct=ht=pt=null),skipSeparationSpace(_e,!0,-1),yt=_e.input.charCodeAt(_e.position)),(_e.line===it||_e.lineIndent>et)&&yt!==0)throwError(_e,"bad indentation of a mapping entry");else if(_e.lineIndent<et)break}return mt&&storeMappingPair(_e,lt,at,ct,ht,null,ot,st,ut),gt&&(_e.tag=ft,_e.anchor=dt,_e.kind="mapping",_e.result=lt),gt}function readTagProperty(_e){var et,tt=!1,nt=!1,rt,it,ot;if(ot=_e.input.charCodeAt(_e.position),ot!==33)return!1;if(_e.tag!==null&&throwError(_e,"duplication of a tag property"),ot=_e.input.charCodeAt(++_e.position),ot===60?(tt=!0,ot=_e.input.charCodeAt(++_e.position)):ot===33?(nt=!0,rt="!!",ot=_e.input.charCodeAt(++_e.position)):rt="!",et=_e.position,tt){do ot=_e.input.charCodeAt(++_e.position);while(ot!==0&&ot!==62);_e.position<_e.length?(it=_e.input.slice(et,_e.position),ot=_e.input.charCodeAt(++_e.position)):throwError(_e,"unexpected end of the stream within a verbatim tag")}else{for(;ot!==0&&!is_WS_OR_EOL(ot);)ot===33&&(nt?throwError(_e,"tag suffix cannot contain exclamation marks"):(rt=_e.input.slice(et-1,_e.position+1),PATTERN_TAG_HANDLE.test(rt)||throwError(_e,"named tag handle cannot contain such characters"),nt=!0,et=_e.position+1)),ot=_e.input.charCodeAt(++_e.position);it=_e.input.slice(et,_e.position),PATTERN_FLOW_INDICATORS.test(it)&&throwError(_e,"tag suffix cannot contain flow indicator characters")}it&&!PATTERN_TAG_URI.test(it)&&throwError(_e,"tag name cannot contain such characters: "+it);try{it=decodeURIComponent(it)}catch{throwError(_e,"tag name is malformed: "+it)}return tt?_e.tag=it:_hasOwnProperty$1.call(_e.tagMap,rt)?_e.tag=_e.tagMap[rt]+it:rt==="!"?_e.tag="!"+it:rt==="!!"?_e.tag="tag:yaml.org,2002:"+it:throwError(_e,'undeclared tag handle "'+rt+'"'),!0}function readAnchorProperty(_e){var et,tt;if(tt=_e.input.charCodeAt(_e.position),tt!==38)return!1;for(_e.anchor!==null&&throwError(_e,"duplication of an anchor property"),tt=_e.input.charCodeAt(++_e.position),et=_e.position;tt!==0&&!is_WS_OR_EOL(tt)&&!is_FLOW_INDICATOR(tt);)tt=_e.input.charCodeAt(++_e.position);return _e.position===et&&throwError(_e,"name of an anchor node must contain at least one character"),_e.anchor=_e.input.slice(et,_e.position),!0}function readAlias(_e){var et,tt,nt;if(nt=_e.input.charCodeAt(_e.position),nt!==42)return!1;for(nt=_e.input.charCodeAt(++_e.position),et=_e.position;nt!==0&&!is_WS_OR_EOL(nt)&&!is_FLOW_INDICATOR(nt);)nt=_e.input.charCodeAt(++_e.position);return _e.position===et&&throwError(_e,"name of an alias node must contain at least one character"),tt=_e.input.slice(et,_e.position),_hasOwnProperty$1.call(_e.anchorMap,tt)||throwError(_e,'unidentified alias "'+tt+'"'),_e.result=_e.anchorMap[tt],skipSeparationSpace(_e,!0,-1),!0}function composeNode(_e,et,tt,nt,rt){var it,ot,st,ut=1,ft=!1,dt=!1,lt,at,ct,ht,pt,mt;if(_e.listener!==null&&_e.listener("open",_e),_e.tag=null,_e.anchor=null,_e.kind=null,_e.result=null,it=ot=st=CONTEXT_BLOCK_OUT===tt||CONTEXT_BLOCK_IN===tt,nt&&skipSeparationSpace(_e,!0,-1)&&(ft=!0,_e.lineIndent>et?ut=1:_e.lineIndent===et?ut=0:_e.lineIndent<et&&(ut=-1)),ut===1)for(;readTagProperty(_e)||readAnchorProperty(_e);)skipSeparationSpace(_e,!0,-1)?(ft=!0,st=it,_e.lineIndent>et?ut=1:_e.lineIndent===et?ut=0:_e.lineIndent<et&&(ut=-1)):st=!1;if(st&&(st=ft||rt),(ut===1||CONTEXT_BLOCK_OUT===tt)&&(CONTEXT_FLOW_IN===tt||CONTEXT_FLOW_OUT===tt?pt=et:pt=et+1,mt=_e.position-_e.lineStart,ut===1?st&&(readBlockSequence(_e,mt)||readBlockMapping(_e,mt,pt))||readFlowCollection(_e,pt)?dt=!0:(ot&&readBlockScalar(_e,pt)||readSingleQuotedScalar(_e,pt)||readDoubleQuotedScalar(_e,pt)?dt=!0:readAlias(_e)?(dt=!0,(_e.tag!==null||_e.anchor!==null)&&throwError(_e,"alias node should not have any properties")):readPlainScalar(_e,pt,CONTEXT_FLOW_IN===tt)&&(dt=!0,_e.tag===null&&(_e.tag="?")),_e.anchor!==null&&(_e.anchorMap[_e.anchor]=_e.result)):ut===0&&(dt=st&&readBlockSequence(_e,mt))),_e.tag===null)_e.anchor!==null&&(_e.anchorMap[_e.anchor]=_e.result);else if(_e.tag==="?"){for(_e.result!==null&&_e.kind!=="scalar"&&throwError(_e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+_e.kind+'"'),lt=0,at=_e.implicitTypes.length;lt<at;lt+=1)if(ht=_e.implicitTypes[lt],ht.resolve(_e.result)){_e.result=ht.construct(_e.result),_e.tag=ht.tag,_e.anchor!==null&&(_e.anchorMap[_e.anchor]=_e.result);break}}else if(_e.tag!=="!"){if(_hasOwnProperty$1.call(_e.typeMap[_e.kind||"fallback"],_e.tag))ht=_e.typeMap[_e.kind||"fallback"][_e.tag];else for(ht=null,ct=_e.typeMap.multi[_e.kind||"fallback"],lt=0,at=ct.length;lt<at;lt+=1)if(_e.tag.slice(0,ct[lt].tag.length)===ct[lt].tag){ht=ct[lt];break}ht||throwError(_e,"unknown tag !<"+_e.tag+">"),_e.result!==null&&ht.kind!==_e.kind&&throwError(_e,"unacceptable node kind for !<"+_e.tag+'> tag; it should be "'+ht.kind+'", not "'+_e.kind+'"'),ht.resolve(_e.result,_e.tag)?(_e.result=ht.construct(_e.result,_e.tag),_e.anchor!==null&&(_e.anchorMap[_e.anchor]=_e.result)):throwError(_e,"cannot resolve a node with !<"+_e.tag+"> explicit tag")}return _e.listener!==null&&_e.listener("close",_e),_e.tag!==null||_e.anchor!==null||dt}function readDocument(_e){var et=_e.position,tt,nt,rt,it=!1,ot;for(_e.version=null,_e.checkLineBreaks=_e.legacy,_e.tagMap=Object.create(null),_e.anchorMap=Object.create(null);(ot=_e.input.charCodeAt(_e.position))!==0&&(skipSeparationSpace(_e,!0,-1),ot=_e.input.charCodeAt(_e.position),!(_e.lineIndent>0||ot!==37));){for(it=!0,ot=_e.input.charCodeAt(++_e.position),tt=_e.position;ot!==0&&!is_WS_OR_EOL(ot);)ot=_e.input.charCodeAt(++_e.position);for(nt=_e.input.slice(tt,_e.position),rt=[],nt.length<1&&throwError(_e,"directive name must not be less than one character in length");ot!==0;){for(;is_WHITE_SPACE(ot);)ot=_e.input.charCodeAt(++_e.position);if(ot===35){do ot=_e.input.charCodeAt(++_e.position);while(ot!==0&&!is_EOL(ot));break}if(is_EOL(ot))break;for(tt=_e.position;ot!==0&&!is_WS_OR_EOL(ot);)ot=_e.input.charCodeAt(++_e.position);rt.push(_e.input.slice(tt,_e.position))}ot!==0&&readLineBreak(_e),_hasOwnProperty$1.call(directiveHandlers,nt)?directiveHandlers[nt](_e,nt,rt):throwWarning(_e,'unknown document directive "'+nt+'"')}if(skipSeparationSpace(_e,!0,-1),_e.lineIndent===0&&_e.input.charCodeAt(_e.position)===45&&_e.input.charCodeAt(_e.position+1)===45&&_e.input.charCodeAt(_e.position+2)===45?(_e.position+=3,skipSeparationSpace(_e,!0,-1)):it&&throwError(_e,"directives end mark is expected"),composeNode(_e,_e.lineIndent-1,CONTEXT_BLOCK_OUT,!1,!0),skipSeparationSpace(_e,!0,-1),_e.checkLineBreaks&&PATTERN_NON_ASCII_LINE_BREAKS.test(_e.input.slice(et,_e.position))&&throwWarning(_e,"non-ASCII line breaks are interpreted as content"),_e.documents.push(_e.result),_e.position===_e.lineStart&&testDocumentSeparator(_e)){_e.input.charCodeAt(_e.position)===46&&(_e.position+=3,skipSeparationSpace(_e,!0,-1));return}if(_e.position<_e.length-1)throwError(_e,"end of the stream or a document separator is expected");else return}function loadDocuments(_e,et){_e=String(_e),et=et||{},_e.length!==0&&(_e.charCodeAt(_e.length-1)!==10&&_e.charCodeAt(_e.length-1)!==13&&(_e+=`
`),_e.charCodeAt(0)===65279&&(_e=_e.slice(1)));var tt=new State$1(_e,et),nt=_e.indexOf("\0");for(nt!==-1&&(tt.position=nt,throwError(tt,"null byte is not allowed in input")),tt.input+="\0";tt.input.charCodeAt(tt.position)===32;)tt.lineIndent+=1,tt.position+=1;for(;tt.position<tt.length-1;)readDocument(tt);return tt.documents}function loadAll$1(_e,et,tt){et!==null&&typeof et=="object"&&typeof tt>"u"&&(tt=et,et=null);var nt=loadDocuments(_e,tt);if(typeof et!="function")return nt;for(var rt=0,it=nt.length;rt<it;rt+=1)et(nt[rt])}function load$1(_e,et){var tt=loadDocuments(_e,et);if(tt.length!==0){if(tt.length===1)return tt[0];throw new exception("expected a single document in the stream, but found more")}}var loadAll_1=loadAll$1,load_1=load$1,loader={loadAll:loadAll_1,load:load_1},JSON_SCHEMA=json,load=loader.load;function extractFrontMatter(_e){const et=_e.match(frontMatterRegex);if(!et)return{text:_e,metadata:{}};let tt=load(et[1],{schema:JSON_SCHEMA})??{};tt=typeof tt=="object"&&!Array.isArray(tt)?tt:{};const nt={};return tt.displayMode&&(nt.displayMode=tt.displayMode.toString()),tt.title&&(nt.title=tt.title.toString()),tt.config&&(nt.config=tt.config),{text:_e.slice(et[0].length),metadata:nt}}const cleanupText=_e=>_e.replace(/\r\n?/g,`
`).replace(/<(\w+)([^>]*)>/g,(et,tt,nt)=>"<"+tt+nt.replace(/="([^"]*)"/g,"='$1'")+">"),processFrontmatter=_e=>{const{text:et,metadata:tt}=extractFrontMatter(_e),{displayMode:nt,title:rt,config:it={}}=tt;return nt&&(it.gantt||(it.gantt={}),it.gantt.displayMode=nt),{title:rt,config:it,text:et}},processDirectives=_e=>{const et=utils.detectInit(_e)??{},tt=utils.detectDirective(_e,"wrap");return Array.isArray(tt)?et.wrap=tt.some(({type:nt})=>{}):(tt==null?void 0:tt.type)==="wrap"&&(et.wrap=!0),{text:removeDirectives(_e),directive:et}};function preprocessDiagram(_e){const et=cleanupText(_e),tt=processFrontmatter(et),nt=processDirectives(tt.text),rt=cleanAndMerge(tt.config,nt.directive);return _e=cleanupComments(nt.text),{code:_e,title:tt.title,config:rt}}const MAX_TEXTLENGTH=5e4,MAX_TEXTLENGTH_EXCEEDED_MSG="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa",SECURITY_LVL_SANDBOX="sandbox",SECURITY_LVL_LOOSE="loose",XMLNS_SVG_STD="http://www.w3.org/2000/svg",XMLNS_XLINK_STD="http://www.w3.org/1999/xlink",XMLNS_XHTML_STD="http://www.w3.org/1999/xhtml",IFRAME_WIDTH="100%",IFRAME_HEIGHT="100%",IFRAME_STYLES="border:0;margin:0;",IFRAME_BODY_STYLE="margin:0",IFRAME_SANDBOX_OPTS="allow-top-navigation-by-user-activation allow-popups",IFRAME_NOT_SUPPORTED_MSG='The "iframe" tag is not supported by your browser.',DOMPURIFY_TAGS=["foreignobject"],DOMPURIFY_ATTR=["dominant-baseline"];function processAndSetConfigs(_e){const et=preprocessDiagram(_e);return reset(),addDirective(et.config??{}),et}async function parse$1(_e,et){addDiagrams(),_e=processAndSetConfigs(_e).code;try{await getDiagramFromText(_e)}catch(tt){if(et!=null&&et.suppressErrors)return!1;throw tt}return!0}const cssImportantStyles=(_e,et,tt=[])=>`
.${_e} ${et} { ${tt.join(" !important; ")} !important; }`,createCssStyles=(_e,et={})=>{var tt;let nt="";if(_e.themeCSS!==void 0&&(nt+=`
${_e.themeCSS}`),_e.fontFamily!==void 0&&(nt+=`
:root { --mermaid-font-family: ${_e.fontFamily}}`),_e.altFontFamily!==void 0&&(nt+=`
:root { --mermaid-alt-font-family: ${_e.altFontFamily}}`),!isEmpty(et)){const st=_e.htmlLabels||((tt=_e.flowchart)==null?void 0:tt.htmlLabels)?["> *","span"]:["rect","polygon","ellipse","circle","path"];for(const ut in et){const ft=et[ut];isEmpty(ft.styles)||st.forEach(dt=>{nt+=cssImportantStyles(ft.id,dt,ft.styles)}),isEmpty(ft.textStyles)||(nt+=cssImportantStyles(ft.id,"tspan",ft.textStyles))}}return nt},createUserStyles=(_e,et,tt,nt)=>{const rt=createCssStyles(_e,tt),it=getStyles$1(et,rt,_e.themeVariables);return serialize(compile(`${nt}{${it}}`),stringify)},cleanUpSvgCode=(_e="",et,tt)=>{let nt=_e;return!tt&&!et&&(nt=nt.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g,'marker-end="url(#')),nt=decodeEntities(nt),nt=nt.replace(/<br>/g,"<br/>"),nt},putIntoIFrame=(_e="",et)=>{var tt,nt;const rt=(nt=(tt=et==null?void 0:et.viewBox)==null?void 0:tt.baseVal)!=null&&nt.height?et.viewBox.baseVal.height+"px":IFRAME_HEIGHT,it=btoa('<body style="'+IFRAME_BODY_STYLE+'">'+_e+"</body>");return`<iframe style="width:${IFRAME_WIDTH};height:${rt};${IFRAME_STYLES}" src="data:text/html;base64,${it}" sandbox="${IFRAME_SANDBOX_OPTS}">
  ${IFRAME_NOT_SUPPORTED_MSG}
</iframe>`},appendDivSvgG=(_e,et,tt,nt,rt)=>{const it=_e.append("div");it.attr("id",tt),nt&&it.attr("style",nt);const ot=it.append("svg").attr("id",et).attr("width","100%").attr("xmlns",XMLNS_SVG_STD);return rt&&ot.attr("xmlns:xlink",rt),ot.append("g"),_e};function sandboxedIframe(_e,et){return _e.append("iframe").attr("id",et).attr("style","width: 100%; height: 100%;").attr("sandbox","")}const removeExistingElements=(_e,et,tt,nt)=>{var rt,it,ot;(rt=_e.getElementById(et))==null||rt.remove(),(it=_e.getElementById(tt))==null||it.remove(),(ot=_e.getElementById(nt))==null||ot.remove()},render$1=async function(_e,et,tt){var nt,rt,it,ot,st,ut;addDiagrams();const ft=processAndSetConfigs(et);et=ft.code;const dt=getConfig$1();log$1.debug(dt),et.length>((dt==null?void 0:dt.maxTextSize)??MAX_TEXTLENGTH)&&(et=MAX_TEXTLENGTH_EXCEEDED_MSG);const lt="#"+_e,at="i"+_e,ct="#"+at,ht="d"+_e,pt="#"+ht;let mt=select("body");const gt=dt.securityLevel===SECURITY_LVL_SANDBOX,yt=dt.securityLevel===SECURITY_LVL_LOOSE,bt=dt.fontFamily;if(tt!==void 0){if(tt&&(tt.innerHTML=""),gt){const Ot=sandboxedIframe(select(tt),at);mt=select(Ot.nodes()[0].contentDocument.body),mt.node().style.margin=0}else mt=select(tt);appendDivSvgG(mt,_e,ht,`font-family: ${bt}`,XMLNS_XLINK_STD)}else{if(removeExistingElements(document,_e,ht,at),gt){const Ot=sandboxedIframe(select("body"),at);mt=select(Ot.nodes()[0].contentDocument.body),mt.node().style.margin=0}else mt=select("body");appendDivSvgG(mt,_e,ht)}let xt,vt;try{xt=await getDiagramFromText(et,{title:ft.title})}catch(Ot){xt=new Diagram("error"),vt=Ot}const wt=mt.select(pt).node(),_t=xt.type,Ct=wt.firstChild,Et=Ct.firstChild,$t=(rt=(nt=xt.renderer).getClasses)==null?void 0:rt.call(nt,et,xt),jt=createUserStyles(dt,_t,$t,lt),Dt=document.createElement("style");Dt.innerHTML=jt,Ct.insertBefore(Dt,Et);try{await xt.renderer.draw(et,_e,version$2,xt)}catch(Ot){throw errorRenderer.draw(et,_e,version$2),Ot}const Pt=mt.select(`${pt} svg`),kt=(ot=(it=xt.db).getAccTitle)==null?void 0:ot.call(it),At=(ut=(st=xt.db).getAccDescription)==null?void 0:ut.call(st);addA11yInfo(_t,Pt,kt,At),mt.select(`[id="${_e}"]`).selectAll("foreignobject > *").attr("xmlns",XMLNS_XHTML_STD);let Tt=mt.select(pt).node().innerHTML;if(log$1.debug("config.arrowMarkerAbsolute",dt.arrowMarkerAbsolute),Tt=cleanUpSvgCode(Tt,gt,evaluate$1(dt.arrowMarkerAbsolute)),gt){const Ot=mt.select(pt+" svg").node();Tt=putIntoIFrame(Tt,Ot)}else yt||(Tt=purify.sanitize(Tt,{ADD_TAGS:DOMPURIFY_TAGS,ADD_ATTR:DOMPURIFY_ATTR}));if(attachFunctions(),vt)throw vt;const Rt=select(gt?ct:pt).node();return Rt&&"remove"in Rt&&Rt.remove(),{svg:Tt,bindFunctions:xt.db.bindFunctions}};function initialize$1(_e={}){var et;_e!=null&&_e.fontFamily&&!((et=_e.themeVariables)!=null&&et.fontFamily)&&(_e.themeVariables||(_e.themeVariables={}),_e.themeVariables.fontFamily=_e.fontFamily),saveConfigFromInitialize(_e),_e!=null&&_e.theme&&_e.theme in theme?_e.themeVariables=theme[_e.theme].getThemeVariables(_e.themeVariables):_e&&(_e.themeVariables=theme.default.getThemeVariables(_e.themeVariables));const tt=typeof _e=="object"?setSiteConfig(_e):getSiteConfig();setLogLevel$1(tt.logLevel),addDiagrams()}const getDiagramFromText=(_e,et={})=>{const{code:tt}=preprocessDiagram(_e);return getDiagramFromText$1(tt,et)};function addA11yInfo(_e,et,tt,nt){setA11yDiagramInfo(et,_e),addSVGa11yTitleDescription(et,tt,nt,et.attr("id"))}const mermaidAPI=Object.freeze({render:render$1,parse:parse$1,getDiagramFromText,initialize:initialize$1,getConfig:getConfig$1,setConfig:setConfig$1,getSiteConfig,updateSiteConfig,reset:()=>{reset()},globalReset:()=>{reset(defaultConfig$1)},defaultConfig:defaultConfig$1});setLogLevel$1(getConfig$1().logLevel);reset(getConfig$1());const loadRegisteredDiagrams=async()=>{log$1.debug("Loading registered diagrams");const et=(await Promise.allSettled(Object.entries(detectors).map(async([tt,{detector:nt,loader:rt}])=>{if(rt)try{getDiagram(tt)}catch{try{const{diagram:ot,id:st}=await rt();registerDiagram(st,ot,nt)}catch(ot){throw log$1.error(`Failed to load external diagram with key ${tt}. Removing from detectors.`),delete detectors[tt],ot}}}))).filter(tt=>tt.status==="rejected");if(et.length>0){log$1.error(`Failed to load ${et.length} external diagrams`);for(const tt of et)log$1.error(tt);throw new Error(`Failed to load ${et.length} external diagrams`)}},handleError=(_e,et,tt)=>{log$1.warn(_e),isDetailedError(_e)?(tt&&tt(_e.str,_e.hash),et.push({..._e,message:_e.str,error:_e})):(tt&&tt(_e),_e instanceof Error&&et.push({str:_e.message,message:_e.message,hash:_e.name,error:_e}))},run=async function(_e={querySelector:".mermaid"}){try{await runThrowsErrors(_e)}catch(et){if(isDetailedError(et)&&log$1.error(et.str),mermaid.parseError&&mermaid.parseError(et),!_e.suppressErrors)throw log$1.error("Use the suppressErrors option to suppress these errors"),et}},runThrowsErrors=async function({postRenderCallback:_e,querySelector:et,nodes:tt}={querySelector:".mermaid"}){const nt=mermaidAPI.getConfig();log$1.debug(`${_e?"":"No "}Callback function found`);let rt;if(tt)rt=tt;else if(et)rt=document.querySelectorAll(et);else throw new Error("Nodes and querySelector are both undefined");log$1.debug(`Found ${rt.length} diagrams`),(nt==null?void 0:nt.startOnLoad)!==void 0&&(log$1.debug("Start On Load: "+(nt==null?void 0:nt.startOnLoad)),mermaidAPI.updateSiteConfig({startOnLoad:nt==null?void 0:nt.startOnLoad}));const it=new utils.InitIDGenerator(nt.deterministicIds,nt.deterministicIDSeed);let ot;const st=[];for(const ut of Array.from(rt)){log$1.info("Rendering diagram: "+ut.id);/*! Check if previously processed */if(ut.getAttribute("data-processed"))continue;ut.setAttribute("data-processed","true");const ft=`mermaid-${it.next()}`;ot=ut.innerHTML,ot=dedent(utils.entityDecode(ot)).trim().replace(/<br\s*\/?>/gi,"<br/>");const dt=utils.detectInit(ot);dt&&log$1.debug("Detected early reinit: ",dt);try{const{svg:lt,bindFunctions:at}=await render(ft,ot,ut);ut.innerHTML=lt,_e&&await _e(ft),at&&at(ut)}catch(lt){handleError(lt,st,mermaid.parseError)}}if(st.length>0)throw st[0]},initialize=function(_e){mermaidAPI.initialize(_e)},init=async function(_e,et,tt){log$1.warn("mermaid.init is deprecated. Please use run instead."),_e&&initialize(_e);const nt={postRenderCallback:tt,querySelector:".mermaid"};typeof et=="string"?nt.querySelector=et:et&&(et instanceof HTMLElement?nt.nodes=[et]:nt.nodes=et),await run(nt)},registerExternalDiagrams=async(_e,{lazyLoad:et=!0}={})=>{registerLazyLoadedDiagrams(..._e),et===!1&&await loadRegisteredDiagrams()},contentLoaded=function(){if(mermaid.startOnLoad){const{startOnLoad:_e}=mermaidAPI.getConfig();_e&&mermaid.run().catch(et=>log$1.error("Mermaid failed to initialize",et))}};if(typeof document<"u"){/*!
 * Wait for document loaded before starting the execution
 */window.addEventListener("load",contentLoaded,!1)}const setParseErrorHandler=function(_e){mermaid.parseError=_e},executionQueue=[];let executionQueueRunning=!1;const executeQueue=async()=>{if(!executionQueueRunning){for(executionQueueRunning=!0;executionQueue.length>0;){const _e=executionQueue.shift();if(_e)try{await _e()}catch(et){log$1.error("Error executing queue",et)}}executionQueueRunning=!1}},parse$2=async(_e,et)=>new Promise((tt,nt)=>{const rt=()=>new Promise((it,ot)=>{mermaidAPI.parse(_e,et).then(st=>{it(st),tt(st)},st=>{var ut;log$1.error("Error parsing",st),(ut=mermaid.parseError)==null||ut.call(mermaid,st),ot(st),nt(st)})});executionQueue.push(rt),executeQueue().catch(nt)}),render=(_e,et,tt)=>new Promise((nt,rt)=>{const it=()=>new Promise((ot,st)=>{mermaidAPI.render(_e,et,tt).then(ut=>{ot(ut),nt(ut)},ut=>{var ft;log$1.error("Error parsing",ut),(ft=mermaid.parseError)==null||ft.call(mermaid,ut),st(ut),rt(ut)})});executionQueue.push(it),executeQueue().catch(rt)}),mermaid={startOnLoad:!0,mermaidAPI,parse:parse$2,render,init,run,registerExternalDiagrams,initialize,parseError:void 0,contentLoaded,setParseErrorHandler,detectType};function MermaidViewer({count:_e,chart:et,forceRefresh:tt,elementId:nt,submitForm:rt,icons:it}){const[ot,st]=reactExports.useState(""),ut=reactExports.useRef("");function ft(lt){ut.current=lt}reactExports.useRef();async function dt(){return new Promise(function(lt,at){if(et)try{mermaid.parse(et).catch(function(ct){st(ct.message),ft(null),lt()}).then(function(){mermaid.render(nt,et).then(function(ct){ft(ct.svg),st(null),tt(),lt()}).catch(function(ct){st(ct.message),ft(null),lt()})})}catch(ct){st(ct.message),ft(null),lt()}else lt()})}return reactExports.useEffect(function(){st(null),mermaid.initialize({startOnLoad:!1}),dt()},[]),reactExports.useEffect(function(){dt()},[et]),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[_e,ot&&jsxRuntimeExports.jsxs("div",{style:{color:"red"},className:"error",children:[jsxRuntimeExports.jsx("pre",{style:{color:"red"},children:ot}),jsxRuntimeExports.jsx("pre",{children:et})]}),jsxRuntimeExports.jsx("div",{dangerouslySetInnerHTML:{__html:ut.current}})]})}var version$1="6.3.0",version_1=version$1,TimingCallbacks$2=function(_e,et){var tt=this;if(et||(et={}),tt.qpm=et.qpm?parseInt(et.qpm,10):null,!tt.qpm){var nt=_e.metaText?_e.metaText.tempo:null;tt.qpm=_e.getBpm(nt)}tt.extraMeasuresAtBeginning=et.extraMeasuresAtBeginning?parseInt(et.extraMeasuresAtBeginning,10):0,tt.beatCallback=et.beatCallback,tt.eventCallback=et.eventCallback,tt.lineEndCallback=et.lineEndCallback,tt.lineEndAnticipation=et.lineEndAnticipation?parseInt(et.lineEndAnticipation,10):0,tt.beatSubdivisions=et.beatSubdivisions?parseInt(et.beatSubdivisions,10):1,tt.joggerTimer=null,tt.replaceTarget=function(it){tt.noteTimings=it.setTiming(tt.qpm,tt.extraMeasuresAtBeginning),it.noteTimings.length===0&&(tt.noteTimings=it.setTiming(0,0)),tt.lineEndCallback&&(tt.lineEndTimings=getLineEndTimings(it.noteTimings,tt.lineEndAnticipation)),tt.startTime=null,tt.currentBeat=0,tt.currentEvent=0,tt.currentLine=0,tt.currentTime=0,tt.isPaused=!1,tt.isRunning=!1,tt.pausedPercent=null,tt.justUnpaused=!1,tt.newSeekPercent=0,tt.lastTimestamp=0,tt.noteTimings.length!==0&&(tt.millisecondsPerBeat=1e3/(tt.qpm/60)/tt.beatSubdivisions,tt.lastMoment=tt.noteTimings[tt.noteTimings.length-1].milliseconds,tt.totalBeats=Math.round(tt.lastMoment/tt.millisecondsPerBeat))},tt.replaceTarget(_e),tt.doTiming=function(it){if(tt.lastTimestamp!==it&&(tt.lastTimestamp=it,tt.startTime||(tt.startTime=it),!tt.isPaused&&tt.isRunning)){for(tt.currentTime=it-tt.startTime,tt.currentTime+=16;tt.noteTimings.length>tt.currentEvent&&tt.noteTimings[tt.currentEvent].milliseconds<tt.currentTime;){if(tt.eventCallback&&tt.noteTimings[tt.currentEvent].type==="event"){var ot=tt.startTime;tt.eventCallback(tt.noteTimings[tt.currentEvent]),ot!==tt.startTime&&(tt.currentTime=it-tt.startTime)}tt.currentEvent++}if(tt.lineEndCallback&&tt.lineEndTimings.length>tt.currentLine&&tt.lineEndTimings[tt.currentLine].milliseconds<tt.currentTime&&tt.currentEvent<tt.noteTimings.length){var st=tt.noteTimings[tt.currentEvent].milliseconds===tt.currentTime?tt.noteTimings[tt.currentEvent]:tt.noteTimings[tt.currentEvent-1];tt.lineEndCallback(tt.lineEndTimings[tt.currentLine],st,{line:tt.currentLine,endTimings:tt.lineEndTimings,currentTime:tt.currentTime}),tt.currentLine++}if(tt.currentTime<tt.lastMoment){if(requestAnimationFrame(tt.doTiming),tt.currentBeat*tt.millisecondsPerBeat<tt.currentTime){var ut=tt.doBeatCallback(it);ut!==null&&(tt.currentTime=ut)}}else if(tt.currentBeat<=tt.totalBeats&&tt.beatCallback){var ft=tt.doBeatCallback(it);ft!==null&&(tt.currentTime=ft),requestAnimationFrame(tt.doTiming)}if(tt.currentTime>=tt.lastMoment)if(tt.eventCallback){var dt=tt.eventCallback(null);tt.shouldStop(dt).then(function(lt){lt&&tt.stop()})}else tt.stop()}},tt.shouldStop=function(it){return new Promise(function(ot){if(!it)return ot(!0);if(it==="continue")return ot(!1);it.then&&it.then(function(st){ot(st!=="continue")})})},tt.doBeatCallback=function(it){if(tt.beatCallback){for(var ot=tt.currentEvent;ot<tt.noteTimings.length&&tt.noteTimings[ot].left===null;)ot++;var st,ut;if(ot<tt.noteTimings.length){for(st=tt.noteTimings[ot].milliseconds,ot=Math.max(0,tt.currentEvent-1);ot>=0&&tt.noteTimings[ot].left===null;)ot--;ut=tt.noteTimings[ot]}var ft={},dt={};if(ut){ft.top=ut.top,ft.height=ut.height;var lt=Math.max(0,it-tt.startTime-ut.milliseconds),at=st-ut.milliseconds,ct=ut.endX-ut.left,ht=at?lt*ct/at:0;ft.left=ut.left+ht,tt.currentEvent===0&&ut.milliseconds>it-tt.startTime&&(ft.left=void 0),dt={timestamp:it,startTime:tt.startTime,ev:ut,endMs:st,offMs:lt,offPx:ht,gapMs:at,gapPx:ct}}else dt={timestamp:it,startTime:tt.startTime};var pt=tt.startTime;if(tt.beatCallback(tt.currentBeat/tt.beatSubdivisions,tt.totalBeats/tt.beatSubdivisions,tt.lastMoment,ft,dt),pt!==tt.startTime)return it-tt.startTime;tt.currentBeat++}return null};var rt=60;tt.animationJogger=function(){tt.isRunning&&(tt.doTiming(performance.now()),tt.joggerTimer=setTimeout(tt.animationJogger,rt))},tt.start=function(it,ot){if(tt.isRunning=!0,tt.isPaused&&(tt.isPaused=!1,it===void 0&&(tt.justUnpaused=!0)),it)tt.setProgress(it,ot);else if(it===0)tt.reset();else if(tt.pausedPercent!==null){var st=performance.now();tt.currentTime=tt.lastMoment*tt.pausedPercent,tt.startTime=st-tt.currentTime,tt.pausedPercent=null,tt.reportNext=!0}requestAnimationFrame(tt.doTiming),tt.joggerTimer=setTimeout(tt.animationJogger,rt)},tt.pause=function(){tt.isPaused=!0;var it=performance.now();tt.pausedPercent=(it-tt.startTime)/tt.lastMoment,tt.isRunning=!1,tt.joggerTimer&&(clearTimeout(tt.joggerTimer),tt.joggerTimer=null)},tt.currentMillisecond=function(){return tt.currentTime},tt.reset=function(){tt.currentBeat=0,tt.currentEvent=0,tt.currentLine=0,tt.startTime=null,tt.pausedPercent=null},tt.stop=function(){tt.pause(),tt.reset()},tt.setProgress=function(it,ot){var st;switch(ot){case"seconds":tt.currentTime=it*1e3,tt.currentTime<0&&(tt.currentTime=0),tt.currentTime>tt.lastMoment&&(tt.currentTime=tt.lastMoment),st=tt.currentTime/tt.lastMoment;break;case"beats":tt.currentTime=it*tt.millisecondsPerBeat*tt.beatSubdivisions,tt.currentTime<0&&(tt.currentTime=0),tt.currentTime>tt.lastMoment&&(tt.currentTime=tt.lastMoment),st=tt.currentTime/tt.lastMoment;break;default:st=it,st<0&&(st=0),st>1&&(st=1),tt.currentTime=tt.lastMoment*st;break}tt.isRunning||(tt.pausedPercent=st);var ut=performance.now();for(tt.startTime=ut-tt.currentTime,tt.currentEvent,tt.currentEvent=0;tt.noteTimings.length>tt.currentEvent&&tt.noteTimings[tt.currentEvent].milliseconds<tt.currentTime;)tt.currentEvent++;if(tt.lineEndCallback)for(tt.currentLine=0;tt.lineEndTimings.length>tt.currentLine&&tt.lineEndTimings[tt.currentLine].milliseconds+tt.lineEndAnticipation<tt.currentTime;)tt.currentLine++;var ft=tt.currentBeat;tt.currentBeat=Math.floor(tt.currentTime/tt.millisecondsPerBeat),tt.beatCallback&&ft!==tt.currentBeat&&tt.doBeatCallback(tt.startTime+tt.currentTime),tt.eventCallback&&tt.currentEvent>=0&&tt.noteTimings[tt.currentEvent].type==="event"&&tt.eventCallback(tt.noteTimings[tt.currentEvent]),tt.lineEndCallback&&tt.lineEndCallback(tt.lineEndTimings[tt.currentLine],tt.noteTimings[tt.currentEvent],{line:tt.currentLine,endTimings:tt.lineEndTimings}),tt.joggerTimer=setTimeout(tt.animationJogger,rt)}};function getLineEndTimings(_e,et){for(var tt=[],nt=null,rt=0;rt<_e.length;rt++){var it=_e[rt];it.type!=="end"&&it.top!==nt&&(tt.push({measureNumber:it.measureNumber,milliseconds:it.milliseconds-et,top:it.top,bottom:it.top+it.height}),nt=it.top)}return tt}var abc_timing_callbacks=TimingCallbacks$2,TimingCallbacks$1=abc_timing_callbacks,animation$1={};(function(){var _e,et;animation$1.startAnimation=function(tt,nt,rt){_e&&(_e.stop(),_e=void 0),rt.showCursor&&(et=tt.querySelector(".abcjs-cursor"),et||(et=document.createElement("DIV"),et.className="abcjs-cursor cursor",et.style.position="absolute",tt.appendChild(et),tt.style.position="relative"));function it(at){for(var ct=0;ct<at.length;ct++){var ht=at[ct];ht.classList.contains("abcjs-bar")||(ht.style.display="none")}}var ot;function st(at){if(ot){var ct=tt.querySelectorAll(ot);it(ct)}ot=at}function ut(at){var ct=tt.querySelectorAll(at);it(ct)}function ft(at){rt.hideCurrentMeasure?ut(at):rt.hideFinishedMeasures&&st(at)}function dt(at){return".abcjs-l"+at.line+".abcjs-m"+at.measureNumber}function lt(at){if(at){if(at.measureStart){var ct=dt(at);ct&&ft(ct)}et&&(et.style.left=at.left+"px",et.style.top=at.top+"px",et.style.width=at.width+"px",et.style.height=at.height+"px")}else _e.stop(),_e=void 0}_e=new TimingCallbacks$1(nt,{qpm:rt.bpm,eventCallback:lt}),_e.start()},animation$1.pauseAnimation=function(tt){_e&&(tt?_e.pause():_e.start())},animation$1.stopAnimation=function(){_e&&(_e.stop(),_e=void 0)}})();var abc_animation=animation$1,parseCommon$e={};parseCommon$e.clone=function(_e){var et={};for(var tt in _e)_e.hasOwnProperty(tt)&&(et[tt]=_e[tt]);return et};parseCommon$e.cloneArray=function(_e){for(var et=[],tt=0;tt<_e.length;tt++)et.push(parseCommon$e.clone(_e[tt]));return et};parseCommon$e.cloneHashOfHash=function(_e){var et={};for(var tt in _e)_e.hasOwnProperty(tt)&&(et[tt]=parseCommon$e.clone(_e[tt]));return et};parseCommon$e.cloneHashOfArrayOfHash=function(_e){var et={};for(var tt in _e)_e.hasOwnProperty(tt)&&(et[tt]=parseCommon$e.cloneArray(_e[tt]));return et};parseCommon$e.strip=function(_e){return _e.replace(/^\s+/,"").replace(/\s+$/,"")};parseCommon$e.startsWith=function(_e,et){return _e.indexOf(et)===0};parseCommon$e.endsWith=function(_e,et){var tt=_e.length-et.length;return tt>=0&&_e.lastIndexOf(et)===tt};parseCommon$e.last=function(_e){return _e.length===0?null:_e[_e.length-1]};var abc_common=parseCommon$e,parseCommon$d=abc_common,parseDirective$3={};(function(){var _e,et,tt,nt,rt;parseDirective$3.initialize=function(Tt,St,Rt,Ot,Nt){_e=Tt,et=St,tt=Rt,nt=Ot,rt=Nt,it()};function it(){tt.annotationfont={face:"Helvetica",size:12,weight:"normal",style:"normal",decoration:"none"},tt.gchordfont={face:"Helvetica",size:12,weight:"normal",style:"normal",decoration:"none"},tt.historyfont={face:'"Times New Roman"',size:16,weight:"normal",style:"normal",decoration:"none"},tt.infofont={face:'"Times New Roman"',size:14,weight:"normal",style:"italic",decoration:"none"},tt.measurefont={face:'"Times New Roman"',size:14,weight:"normal",style:"italic",decoration:"none"},tt.partsfont={face:'"Times New Roman"',size:15,weight:"normal",style:"normal",decoration:"none"},tt.repeatfont={face:'"Times New Roman"',size:13,weight:"normal",style:"normal",decoration:"none"},tt.textfont={face:'"Times New Roman"',size:16,weight:"normal",style:"normal",decoration:"none"},tt.tripletfont={face:"Times",size:11,weight:"normal",style:"italic",decoration:"none"},tt.vocalfont={face:'"Times New Roman"',size:13,weight:"bold",style:"normal",decoration:"none"},tt.wordsfont={face:'"Times New Roman"',size:16,weight:"normal",style:"normal",decoration:"none"},nt.formatting.composerfont={face:'"Times New Roman"',size:14,weight:"normal",style:"italic",decoration:"none"},nt.formatting.subtitlefont={face:'"Times New Roman"',size:16,weight:"normal",style:"normal",decoration:"none"},nt.formatting.tempofont={face:'"Times New Roman"',size:15,weight:"bold",style:"normal",decoration:"none"},nt.formatting.titlefont={face:'"Times New Roman"',size:20,weight:"normal",style:"normal",decoration:"none"},nt.formatting.footerfont={face:'"Times New Roman"',size:12,weight:"normal",style:"normal",decoration:"none"},nt.formatting.headerfont={face:'"Times New Roman"',size:12,weight:"normal",style:"normal",decoration:"none"},nt.formatting.voicefont={face:'"Times New Roman"',size:13,weight:"bold",style:"normal",decoration:"none"},nt.formatting.tablabelfont={face:'"Trebuchet MS"',size:16,weight:"normal",style:"normal",decoration:"none"},nt.formatting.tabnumberfont={face:'"Arial"',size:11,weight:"normal",style:"normal",decoration:"none"},nt.formatting.tabgracefont={face:'"Arial"',size:8,weight:"normal",style:"normal",decoration:"none"},nt.formatting.annotationfont=tt.annotationfont,nt.formatting.gchordfont=tt.gchordfont,nt.formatting.historyfont=tt.historyfont,nt.formatting.infofont=tt.infofont,nt.formatting.measurefont=tt.measurefont,nt.formatting.partsfont=tt.partsfont,nt.formatting.repeatfont=tt.repeatfont,nt.formatting.textfont=tt.textfont,nt.formatting.tripletfont=tt.tripletfont,nt.formatting.vocalfont=tt.vocalfont,nt.formatting.wordsfont=tt.wordsfont}var ot={gchordfont:!0,measurefont:!0,partsfont:!0,annotationfont:!0,composerfont:!0,historyfont:!0,infofont:!0,subtitlefont:!0,textfont:!0,titlefont:!0,voicefont:!0},st=function(Tt){switch(Tt){case"Arial-Italic":return{face:"Arial",weight:"normal",style:"italic",decoration:"none"};case"Arial-Bold":return{face:"Arial",weight:"bold",style:"normal",decoration:"none"};case"Bookman-Demi":return{face:"Bookman,serif",weight:"bold",style:"normal",decoration:"none"};case"Bookman-DemiItalic":return{face:"Bookman,serif",weight:"bold",style:"italic",decoration:"none"};case"Bookman-Light":return{face:"Bookman,serif",weight:"normal",style:"normal",decoration:"none"};case"Bookman-LightItalic":return{face:"Bookman,serif",weight:"normal",style:"italic",decoration:"none"};case"Courier":return{face:'"Courier New"',weight:"normal",style:"normal",decoration:"none"};case"Courier-Oblique":return{face:'"Courier New"',weight:"normal",style:"italic",decoration:"none"};case"Courier-Bold":return{face:'"Courier New"',weight:"bold",style:"normal",decoration:"none"};case"Courier-BoldOblique":return{face:'"Courier New"',weight:"bold",style:"italic",decoration:"none"};case"AvantGarde-Book":return{face:"AvantGarde,Arial",weight:"normal",style:"normal",decoration:"none"};case"AvantGarde-BookOblique":return{face:"AvantGarde,Arial",weight:"normal",style:"italic",decoration:"none"};case"AvantGarde-Demi":case"Avant-Garde-Demi":return{face:"AvantGarde,Arial",weight:"bold",style:"normal",decoration:"none"};case"AvantGarde-DemiOblique":return{face:"AvantGarde,Arial",weight:"bold",style:"italic",decoration:"none"};case"Helvetica-Oblique":return{face:"Helvetica",weight:"normal",style:"italic",decoration:"none"};case"Helvetica-Bold":return{face:"Helvetica",weight:"bold",style:"normal",decoration:"none"};case"Helvetica-BoldOblique":return{face:"Helvetica",weight:"bold",style:"italic",decoration:"none"};case"Helvetica-Narrow":return{face:'"Helvetica Narrow",Helvetica',weight:"normal",style:"normal",decoration:"none"};case"Helvetica-Narrow-Oblique":return{face:'"Helvetica Narrow",Helvetica',weight:"normal",style:"italic",decoration:"none"};case"Helvetica-Narrow-Bold":return{face:'"Helvetica Narrow",Helvetica',weight:"bold",style:"normal",decoration:"none"};case"Helvetica-Narrow-BoldOblique":return{face:'"Helvetica Narrow",Helvetica',weight:"bold",style:"italic",decoration:"none"};case"Palatino-Roman":return{face:"Palatino",weight:"normal",style:"normal",decoration:"none"};case"Palatino-Italic":return{face:"Palatino",weight:"normal",style:"italic",decoration:"none"};case"Palatino-Bold":return{face:"Palatino",weight:"bold",style:"normal",decoration:"none"};case"Palatino-BoldItalic":return{face:"Palatino",weight:"bold",style:"italic",decoration:"none"};case"NewCenturySchlbk-Roman":return{face:'"New Century",serif',weight:"normal",style:"normal",decoration:"none"};case"NewCenturySchlbk-Italic":return{face:'"New Century",serif',weight:"normal",style:"italic",decoration:"none"};case"NewCenturySchlbk-Bold":return{face:'"New Century",serif',weight:"bold",style:"normal",decoration:"none"};case"NewCenturySchlbk-BoldItalic":return{face:'"New Century",serif',weight:"bold",style:"italic",decoration:"none"};case"Times":case"Times-Roman":case"Times-Narrow":case"Times-Courier":case"Times-New-Roman":return{face:'"Times New Roman"',weight:"normal",style:"normal",decoration:"none"};case"Times-Italic":case"Times-Italics":return{face:'"Times New Roman"',weight:"normal",style:"italic",decoration:"none"};case"Times-Bold":return{face:'"Times New Roman"',weight:"bold",style:"normal",decoration:"none"};case"Times-BoldItalic":return{face:'"Times New Roman"',weight:"bold",style:"italic",decoration:"none"};case"ZapfChancery-MediumItalic":return{face:'"Zapf Chancery",cursive,serif',weight:"normal",style:"normal",decoration:"none"};default:return null}},ut=function(Tt,St,Rt,Ot,Nt){function It(){var xn=parseInt(Tt[0].token);return Tt.shift(),St?Tt.length===0?{face:St.face,weight:St.weight,style:St.style,decoration:St.decoration,size:xn}:Tt.length===1&&Tt[0].token==="box"&&ot[Nt]?{face:St.face,weight:St.weight,style:St.style,decoration:St.decoration,size:xn,box:!0}:(et("Extra parameters in font definition.",Rt,Ot),{face:St.face,weight:St.weight,style:St.style,decoration:St.decoration,size:xn}):(et("Can't set just the size of the font since there is no default value.",Rt,Ot),{face:'"Times New Roman"',weight:"normal",style:"normal",decoration:"none",size:xn})}if(Tt[0].token==="*"){if(Tt.shift(),Tt[0].type==="number")return It();et("Expected font size number after *.",Rt,Ot)}if(Tt[0].type==="number")return It();for(var Bt=[],zt,Gt="normal",Kt="normal",fn="none",dn=!1,Wt="face",rn=!1;Tt.length;){var Vt=Tt.shift(),an=Vt.token.toLowerCase();switch(Wt){case"face":rn||an!=="utf"&&Vt.type!=="number"&&an!=="bold"&&an!=="italic"&&an!=="underline"&&an!=="box"?Bt.length>0&&Vt.token==="-"?(rn=!0,Bt[Bt.length-1]=Bt[Bt.length-1]+Vt.token):rn?(rn=!1,Bt[Bt.length-1]=Bt[Bt.length-1]+Vt.token):Bt.push(Vt.token):Vt.type==="number"?(zt?et("Font size specified twice in font definition.",Rt,Ot):zt=Vt.token,Wt="modifier"):an==="bold"?Gt="bold":an==="italic"?Kt="italic":an==="underline"?fn="underline":an==="box"?(ot[Nt]?dn=!0:et(`This font style doesn't support "box"`,Rt,Ot),Wt="finished"):an==="utf"?(Vt=Tt.shift(),Wt="size"):et("Unknown parameter "+Vt.token+" in font definition.",Rt,Ot);break;case"size":Vt.type==="number"?zt?et("Font size specified twice in font definition.",Rt,Ot):zt=Vt.token:et("Expected font size in font definition.",Rt,Ot),Wt="modifier";break;case"modifier":an==="bold"?Gt="bold":an==="italic"?Kt="italic":an==="underline"?fn="underline":an==="box"?(ot[Nt]?dn=!0:et(`This font style doesn't support "box"`,Rt,Ot),Wt="finished"):et("Unknown parameter "+Vt.token+" in font definition.",Rt,Ot);break;case"finished":et('Extra characters found after "box" in font definition.',Rt,Ot);break}}zt===void 0?St?zt=St.size:(et("Must specify the size of the font since there is no default value.",Rt,Ot),zt=12):zt=parseFloat(zt),Bt=Bt.join(" "),Bt===""&&(St?Bt=St.face:(et("Must specify the name of the font since there is no default value.",Rt,Ot),Bt="sans-serif"));var Qt=st(Bt),Zt={};return Qt?(Zt.face=Qt.face,Zt.weight=Qt.weight,Zt.style=Qt.style,Zt.decoration=Qt.decoration,Zt.size=zt,dn&&(Zt.box=!0),Zt):(Zt.face=Bt,Zt.weight=Gt,Zt.style=Kt,Zt.decoration=fn,Zt.size=zt,dn&&(Zt.box=!0),Zt)},ft=function(Tt,St,Rt){return St.length===0?'Directive "'+Tt+'" requires a font as a parameter.':(tt[Tt]=ut(St,tt[Tt],Rt,0,Tt),tt.is_in_header&&(nt.formatting[Tt]=tt[Tt]),null)},dt=function(Tt,St,Rt){return St.length===0?'Directive "'+Tt+'" requires a font as a parameter.':(nt.formatting[Tt]=ut(St,nt.formatting[Tt],Rt,0,Tt),null)},lt=function(Tt,St){var Rt="";St.forEach(function(Nt){Rt+=Nt.token});var Ot=parseFloat(Rt);if(isNaN(Ot)||Ot===0)return'Directive "'+Tt+'" requires a number as a parameter.';nt.formatting.scale=Ot},at=["acoustic-bass-drum","bass-drum-1","side-stick","acoustic-snare","hand-clap","electric-snare","low-floor-tom","closed-hi-hat","high-floor-tom","pedal-hi-hat","low-tom","open-hi-hat","low-mid-tom","hi-mid-tom","crash-cymbal-1","high-tom","ride-cymbal-1","chinese-cymbal","ride-bell","tambourine","splash-cymbal","cowbell","crash-cymbal-2","vibraslap","ride-cymbal-2","hi-bongo","low-bongo","mute-hi-conga","open-hi-conga","low-conga","high-timbale","low-timbale","high-agogo","low-agogo","cabasa","maracas","short-whistle","long-whistle","short-guiro","long-guiro","claves","hi-wood-block","low-wood-block","mute-cuica","open-cuica","mute-triangle","open-triangle"],ct=function(Tt){var St=Tt.split(/\s+/);if(St.length!==2&&St.length!==3)return{error:'Expected parameters "abc-note", "drum-sound", and optionally "note-head"'};var Rt=St[0],Ot=parseInt(St[1],10);if((isNaN(Ot)||Ot<35||Ot>81)&&St[1]&&(Ot=at.indexOf(St[1].toLowerCase())+35),isNaN(Ot)||Ot<35||Ot>81)return{error:'Expected drum name, received "'+St[1]+'"'};var Nt={sound:Ot};return St.length===3&&(Nt.noteHead=St[2]),{key:Rt,value:Nt}},ht=function(Tt,St){var Rt=_e.getMeasurement(St);return Rt.used===0||St.length!==0?{error:'Directive "'+Tt+'" requires a measurement as a parameter.'}:Rt.value},pt=function(Tt,St){var Rt=_e.getMeasurement(St);return Rt.used===0||St.length!==0?'Directive "'+Tt+'" requires a measurement as a parameter.':(nt.formatting[Tt]=Rt.value,null)},mt=function(Tt,St,Rt,Ot,Nt){if(Rt.length!==1||Rt[0].type!=="number")return'Directive "'+St+'" requires a number as a parameter.';var It=Rt[0].intt;return Ot!==void 0&&It<Ot?'Directive "'+St+'" requires a number greater than or equal to '+Ot+" as a parameter.":Nt!==void 0&&It>Nt?'Directive "'+St+'" requires a number less than or equal to '+Nt+" as a parameter.":(tt[Tt]=It,null)},gt=function(Tt,St,Rt){if(Rt.length===1&&(Rt[0].token==="true"||Rt[0].token==="false"))return tt[Tt]=Rt[0].token==="true",null;var Ot=mt(Tt,St,Rt,0,1);return Ot!==null?Ot:(tt[Tt]=tt[Tt]===1,null)},yt=function(Tt,St,Rt,Ot){if(Rt.length!==1)return'Directive "'+St+'" requires one of [ '+Ot.join(", ")+" ] as a parameter.";for(var Nt=Rt[0].token,It=!1,Bt=0;!It&&Bt<Ot.length;Bt++)Ot[Bt]===Nt&&(It=!0);return It?(tt[Tt]=Nt,null):'Directive "'+St+'" requires one of [ '+Ot.join(", ")+" ] as a parameter."},bt=["nobarlines","barlines","beataccents","nobeataccents","droneon","droneoff","drumon","drumoff","fermatafixed","fermataproportional","gchordon","gchordoff","controlcombo","temperamentnormal","noportamento"],xt=["gchord","ptstress","beatstring"],vt=["bassvol","chordvol","bassprog","chordprog","c","channel","beatmod","deltaloudness","drumbars","gracedivider","makechordchannels","randomchordattack","chordattack","stressmodel","transpose","rtranspose","vol","volinc"],wt=["program"],_t=["ratio","snt","bendvelocity","pitchbend","control","temperamentlinear"],Ct=["beat"],Et=["drone"],$t=["portamento"],jt=["expand","grace","trim"],Dt=["drum","chordname"],Pt=function(Tt,St,Rt){var Ot=Tt.shift().token,Nt=[];if(bt.indexOf(Ot)>=0)Tt.length!==0&&et("Unexpected parameter in MIDI "+Ot,Rt,0);else if(xt.indexOf(Ot)>=0)Tt.length!==1?et("Expected one parameter in MIDI "+Ot,Rt,0):Nt.push(Tt[0].token);else if(vt.indexOf(Ot)>=0)Tt.length!==1?et("Expected one parameter in MIDI "+Ot,Rt,0):Tt[0].type!=="number"?et("Expected one integer parameter in MIDI "+Ot,Rt,0):Nt.push(Tt[0].intt);else if(wt.indexOf(Ot)>=0)Tt.length!==1&&Tt.length!==2?et("Expected one or two parameters in MIDI "+Ot,Rt,0):Tt[0].type!=="number"||Tt.length===2&&Tt[1].type!=="number"?et("Expected integer parameter in MIDI "+Ot,Rt,0):(Nt.push(Tt[0].intt),Tt.length===2&&Nt.push(Tt[1].intt));else if(_t.indexOf(Ot)>=0)Tt.length!==2?et("Expected two parameters in MIDI "+Ot,Rt,0):Tt[0].type!=="number"||Tt[1].type!=="number"?et("Expected two integer parameters in MIDI "+Ot,Rt,0):(Nt.push(Tt[0].intt),Nt.push(Tt[1].intt));else if($t.indexOf(Ot)>=0)Tt.length!==2?et("Expected two parameters in MIDI "+Ot,Rt,0):Tt[0].type!=="alpha"||Tt[1].type!=="number"?et("Expected one string and one integer parameters in MIDI "+Ot,Rt,0):(Nt.push(Tt[0].token),Nt.push(Tt[1].intt));else if(Ot==="drummap")Tt.length===2&&Tt[0].type==="alpha"&&Tt[1].type==="number"?(St.formatting||(St.formatting={}),St.formatting.midi||(St.formatting.midi={}),St.formatting.midi.drummap||(St.formatting.midi.drummap={}),St.formatting.midi.drummap[Tt[0].token]=Tt[1].intt,Nt=St.formatting.midi.drummap):Tt.length===3&&Tt[0].type==="punct"&&Tt[1].type==="alpha"&&Tt[2].type==="number"?(St.formatting||(St.formatting={}),St.formatting.midi||(St.formatting.midi={}),St.formatting.midi.drummap||(St.formatting.midi.drummap={}),St.formatting.midi.drummap[Tt[0].token+Tt[1].token]=Tt[2].intt,Nt=St.formatting.midi.drummap):et("Expected one note name and one integer parameter in MIDI "+Ot,Rt,0);else if(jt.indexOf(Ot)>=0)Tt.length!==3||Tt[0].type!=="number"||Tt[1].token!=="/"||Tt[2].type!=="number"?et("Expected fraction parameter in MIDI "+Ot,Rt,0):(Nt.push(Tt[0].intt),Nt.push(Tt[2].intt));else if(Ct.indexOf(Ot)>=0)Tt.length!==4?et("Expected four parameters in MIDI "+Ot,Rt,0):Tt[0].type!=="number"||Tt[1].type!=="number"||Tt[2].type!=="number"||Tt[3].type!=="number"?et("Expected four integer parameters in MIDI "+Ot,Rt,0):(Nt.push(Tt[0].intt),Nt.push(Tt[1].intt),Nt.push(Tt[2].intt),Nt.push(Tt[3].intt));else if(Et.indexOf(Ot)>=0)Tt.length!==5?et("Expected five parameters in MIDI "+Ot,Rt,0):Tt[0].type!=="number"||Tt[1].type!=="number"||Tt[2].type!=="number"||Tt[3].type!=="number"||Tt[4].type!=="number"?et("Expected five integer parameters in MIDI "+Ot,Rt,0):(Nt.push(Tt[0].intt),Nt.push(Tt[1].intt),Nt.push(Tt[2].intt),Nt.push(Tt[3].intt),Nt.push(Tt[4].intt));else if(wt.indexOf(Ot)>=0)Tt.length!==1||Tt.length!==4?et("Expected one or two parameters in MIDI "+Ot,Rt,0):Tt[0].type!=="number"?et("Expected integer parameter in MIDI "+Ot,Rt,0):Tt.length===4?(Tt[1].token!=="octave"&&et("Expected octave parameter in MIDI "+Ot,Rt,0),Tt[2].token!=="="&&et("Expected octave parameter in MIDI "+Ot,Rt,0),Tt[3].type!=="number"&&et("Expected integer parameter for octave in MIDI "+Ot,Rt,0)):(Nt.push(Tt[0].intt),Tt.length===4&&Nt.push(Tt[3].intt));else if(Dt.indexOf(Ot)>=0)if(Tt.length<2)et("Expected string parameter and at least one integer parameter in MIDI "+Ot,Rt,0);else if(Tt[0].type!=="alpha")et("Expected string parameter and at least one integer parameter in MIDI "+Ot,Rt,0);else{var It=Tt.shift();for(Nt.push(It.token);Tt.length>0;)It=Tt.shift(),It.type!=="number"&&et("Expected integer parameter in MIDI "+Ot,Rt,0),Nt.push(It.intt)}rt.hasBeginMusic()?rt.appendElement("midi",-1,-1,{cmd:Ot,params:Nt}):(St.formatting.midi===void 0&&(St.formatting.midi={}),St.formatting.midi[Ot]=Nt)};parseDirective$3.parseFontChangeLine=function(Tt){Tt=Tt.replace(/\$\$/g,"");var St=Tt.split("$");if(St.length>1&&tt.setfont){var Rt=[];St[0]!==""&&Rt.push({text:St[0]});for(var Ot=1;Ot<St.length;Ot++)if(St[Ot][0]==="0")Rt.push({text:St[Ot].substring(1).replace(/\x03/g,"$$")});else{var Nt=parseInt(St[Ot][0],10);tt.setfont[Nt]?Rt.push({font:tt.setfont[Nt],text:St[Ot].substring(1).replace(/\x03/g,"$$")}):Rt[Rt.length-1].text+="$"+St[Ot].replace(/\x03/g,"$$")}return Rt}return Tt.replace(/\x03/g,"$$")};var kt=["auto","above","below","hidden"];parseDirective$3.addDirective=function(Tt){var St=_e.tokenize(Tt,0,Tt.length);if(St.length===0||St[0].type!=="alpha")return null;var Rt=Tt.substring(Tt.indexOf(St[0].token)+St[0].token.length);Rt=_e.stripComment(Rt);var Ot=St.shift().token.toLowerCase(),Nt="",It;switch(Ot){case"bagpipes":nt.formatting.bagpipes=!0;break;case"flatbeams":nt.formatting.flatbeams=!0;break;case"jazzchords":nt.formatting.jazzchords=!0;break;case"accentAbove":nt.formatting.accentAbove=!0;break;case"germanAlphabet":nt.formatting.germanAlphabet=!0;break;case"landscape":tt.landscape=!0;break;case"papersize":tt.papersize=Rt;break;case"graceslurs":if(St.length!==1)return"Directive graceslurs requires one parameter: 0 or 1";if(St[0].token==="0"||St[0].token==="false")nt.formatting.graceSlurs=!1;else if(St[0].token==="1"||St[0].token==="true")nt.formatting.graceSlurs=!0;else return"Directive graceslurs requires one parameter: 0 or 1 (received "+St[0].token+")";break;case"lineThickness":var Bt=At(St);if(Bt.value!==void 0&&(nt.formatting.lineThickness=Bt.value),Bt.error)return Bt.error;break;case"stretchlast":var zt=At(St);if(zt.value!==void 0&&(nt.formatting.stretchlast=zt.value),zt.error)return zt.error;break;case"titlecaps":tt.titlecaps=!0;break;case"titleleft":nt.formatting.titleleft=!0;break;case"measurebox":nt.formatting.measurebox=!0;break;case"vocal":return yt("vocalPosition",Ot,St,kt);case"dynamic":return yt("dynamicPosition",Ot,St,kt);case"gchord":return yt("chordPosition",Ot,St,kt);case"ornament":return yt("ornamentPosition",Ot,St,kt);case"volume":return yt("volumePosition",Ot,St,kt);case"botmargin":case"botspace":case"composerspace":case"indent":case"leftmargin":case"linesep":case"musicspace":case"partsspace":case"pageheight":case"pagewidth":case"rightmargin":case"staffsep":case"staffwidth":case"subtitlespace":case"sysstaffsep":case"systemsep":case"textspace":case"titlespace":case"topmargin":case"topspace":case"vocalspace":case"wordsspace":return pt(Ot,St);case"voicescale":if(St.length!==1||St[0].type!=="number")return"voicescale requires one float as a parameter";var Gt=St.shift();return tt.currentVoice&&(tt.currentVoice.scale=Gt.floatt,rt.changeVoiceScale(tt.currentVoice.scale)),null;case"voicecolor":if(St.length!==1)return"voicecolor requires one string as a parameter";var Kt=St.shift();return tt.currentVoice&&(tt.currentVoice.color=Kt.token,rt.changeVoiceColor(tt.currentVoice.color)),null;case"vskip":var fn=Math.round(ht(Ot,St));return fn.error?fn.error:(rt.addSpacing(fn),null);case"scale":lt(Ot,St);break;case"sep":if(St.length===0)rt.addSeparator(14,14,85,{startChar:tt.iChar,endChar:tt.iChar+5});else{var dn=_e.getMeasurement(St);if(dn.used===0)return'Directive "'+Ot+'" requires 3 numbers: space above, space below, length of line';var Wt=dn.value;if(dn=_e.getMeasurement(St),dn.used===0)return'Directive "'+Ot+'" requires 3 numbers: space above, space below, length of line';var rn=dn.value;if(dn=_e.getMeasurement(St),dn.used===0||St.length!==0)return'Directive "'+Ot+'" requires 3 numbers: space above, space below, length of line';var Vt=dn.value;rt.addSeparator(Wt,rn,Vt,{startChar:tt.iChar,endChar:tt.iChar+Rt.length})}break;case"barsperstaff":if(Nt=mt("barsperstaff",Ot,St),Nt!==null)return Nt;break;case"staffnonote":if(St.length!==1)return"Directive staffnonote requires one parameter: 0 or 1";if(St[0].token==="0")tt.staffnonote=!0;else if(St[0].token==="1")tt.staffnonote=!1;else return"Directive staffnonote requires one parameter: 0 or 1 (received "+St[0].token+")";break;case"printtempo":if(Nt=gt("printTempo",Ot,St),Nt!==null)return Nt;break;case"partsbox":if(Nt=gt("partsBox",Ot,St),Nt!==null)return Nt;tt.partsfont.box=tt.partsBox;break;case"freegchord":if(Nt=gt("freegchord",Ot,St),Nt!==null)return Nt;break;case"measurenb":case"barnumbers":if(Nt=mt("barNumbers",Ot,St),Nt!==null)return Nt;break;case"setbarnb":if(St.length!==1||St[0].type!=="number")return"Directive setbarnb requires a number as a parameter.";tt.currBarNumber=rt.setBarNumberImmediate(St[0].intt);break;case"begintext":var an="";for(It=_e.nextLine();It&&It.indexOf("%%endtext")!==0;)parseCommon$d.startsWith(It,"%%")?an+=It.substring(2)+`
`:an+=It+`
`,It=_e.nextLine();rt.addText(an,{startChar:tt.iChar,endChar:tt.iChar+an.length+7});break;case"continueall":tt.continueall=!0;break;case"beginps":for(It=_e.nextLine();It&&It.indexOf("%%endps")!==0;)_e.nextLine();et("Postscript ignored",Tt,0);break;case"deco":Rt.length>0&&tt.ignoredDecorations.push(Rt.substring(0,Rt.indexOf(" "))),et("Decoration redefinition ignored",Tt,0);break;case"text":var Qt=_e.translateString(Rt);rt.addText(parseDirective$3.parseFontChangeLine(Qt),{startChar:tt.iChar,endChar:tt.iChar+Rt.length+7});break;case"center":var Zt=_e.translateString(Rt);rt.addCentered(parseDirective$3.parseFontChangeLine(Zt));break;case"font":break;case"setfont":var xn=_e.tokenize(Rt,0,Rt.length);if(xn.length>=4&&xn[0].token==="-"&&xn[1].type==="number"){var vn=parseInt(xn[1].token);vn>=1&&vn<=9&&(tt.setfont||(tt.setfont=[]),xn.shift(),xn.shift(),tt.setfont[vn]=ut(xn,tt.setfont[vn],Tt,0,"setfont"))}break;case"gchordfont":case"partsfont":case"tripletfont":case"vocalfont":case"textfont":case"annotationfont":case"historyfont":case"infofont":case"measurefont":case"repeatfont":case"wordsfont":return ft(Ot,St,Tt);case"composerfont":case"subtitlefont":case"tempofont":case"titlefont":case"voicefont":case"footerfont":case"headerfont":return dt(Ot,St,Tt);case"barlabelfont":case"barnumberfont":case"barnumfont":return ft("measurefont",St,Tt);case"staves":case"score":tt.score_is_present=!0;for(var gn=function(Xn,ar,Qn,Yt,hn){(ar||tt.staves.length===0)&&tt.staves.push({index:tt.staves.length,numVoices:0});var mn=parseCommon$d.last(tt.staves);Qn!==void 0&&mn.bracket===void 0&&(mn.bracket=Qn),Yt!==void 0&&mn.brace===void 0&&(mn.brace=Yt),hn&&(mn.connectBarLines="end"),tt.voices[Xn]===void 0&&(tt.voices[Xn]={staffNum:mn.index,index:mn.numVoices},mn.numVoices++)},Cn=!1,kn=!1,En=!1,sn=!1,On=!1,Tn=!1,bn=!1,Dn,Nn=function(){if(bn=!0,Dn){var Xn="start";Dn.staffNum>0&&(tt.staves[Dn.staffNum-1].connectBarLines==="start"||tt.staves[Dn.staffNum-1].connectBarLines==="continue")&&(Xn="continue"),tt.staves[Dn.staffNum].connectBarLines=Xn}};St.length;){var wn=St.shift();switch(wn.token){case"(":Cn?et("Can't nest parenthesis in %%score",Tt,wn.start):(Cn=!0,sn=!0);break;case")":!Cn||sn?et("Unexpected close parenthesis in %%score",Tt,wn.start):Cn=!1;break;case"[":kn?et("Can't nest brackets in %%score",Tt,wn.start):(kn=!0,On=!0);break;case"]":!kn||On?et("Unexpected close bracket in %%score",Tt,wn.start):(kn=!1,tt.staves[Dn.staffNum].bracket="end");break;case"{":En?et("Can't nest braces in %%score",Tt,wn.start):(En=!0,Tn=!0);break;case"}":!En||Tn?et("Unexpected close brace in %%score",Tt,wn.start):(En=!1,tt.staves[Dn.staffNum].brace="end");break;case"|":Nn();break;default:for(var qn="";(wn.type==="alpha"||wn.type==="number")&&(qn+=wn.token,wn.continueId);)wn=St.shift();var or=!Cn||sn,tr=On?"start":kn?"continue":void 0,cr=Tn?"start":En?"continue":void 0;gn(qn,or,tr,cr,bn),sn=!1,On=!1,Tn=!1,bn=!1,Dn=tt.voices[qn],Ot==="staves"&&Nn();break}}break;case"newpage":var rr=_e.getInt(Rt);rt.addNewPage(rr.digits===0?-1:rr.value);break;case"abc":var Vn=Rt.split(" ");switch(Vn[0]){case"-copyright":case"-creator":case"-edited-by":case"-version":case"-charset":var Jt=Vn.shift();rt.addMetaText(Ot+Jt,Vn.join(" "),{startChar:tt.iChar,endChar:tt.iChar+Rt.length+5});break;default:return"Unknown directive: "+Ot+Vn[0]}break;case"header":case"footer":var pn=_e.getMeat(Rt,0,Rt.length);pn=Rt.substring(pn.start,pn.end),pn[0]==='"'&&pn[pn.length-1]==='"'&&(pn=pn.substring(1,pn.length-1));var $n=pn.split("	"),jn={};$n.length===1?jn={left:"",center:$n[0],right:""}:$n.length===2?jn={left:$n[0],center:$n[1],right:""}:jn={left:$n[0],center:$n[1],right:$n[2]},$n.length>3&&et("Too many tabs in "+Ot+": "+$n.length+" found.",Rt,0),rt.addMetaTextObj(Ot,jn,{startChar:tt.iChar,endChar:tt.iChar+Tt.length});break;case"midi":var Fn=_e.tokenize(Rt,0,Rt.length,!0);Fn.length>0&&Fn[0].token==="="&&Fn.shift(),Fn.length===0?et("Expected midi command",Rt,0):Pt(Fn,nt,Rt);break;case"percmap":var Ln=ct(Rt);Ln.error?et(Ln.error,Tt,8):(nt.formatting.percmap||(nt.formatting.percmap={}),nt.formatting.percmap[Ln.key]=Ln.value);break;case"map":case"playtempo":case"auquality":case"continuous":case"nobarcheck":nt.formatting[Ot]=Rt;break;default:return"Unknown directive: "+Ot}return null},parseDirective$3.globalFormatting=function(Tt){for(var St in Tt)if(Tt.hasOwnProperty(St)){var Rt=""+Tt[St],Ot=_e.tokenize(Rt,0,Rt.length),Nt;switch(St){case"titlefont":case"gchordfont":case"composerfont":case"footerfont":case"headerfont":case"historyfont":case"infofont":case"measurefont":case"partsfont":case"repeatfont":case"subtitlefont":case"tempofont":case"textfont":case"voicefont":case"tripletfont":case"vocalfont":case"wordsfont":case"annotationfont":case"tablabelfont":case"tabnumberfont":case"tabgracefont":ft(St,Ot,Rt);break;case"scale":lt(St,Ot);break;case"partsbox":Nt=gt("partsBox",St,Ot),Nt!==null&&et(Nt),tt.partsfont.box=tt.partsBox;break;case"freegchord":Nt=gt("freegchord",St,Ot),Nt!==null&&et(Nt);break;case"fontboxpadding":(Ot.length!==1||Ot[0].type!=="number")&&et('Directive "'+St+'" requires a number as a parameter.'),nt.formatting.fontboxpadding=Ot[0].floatt;break;case"stretchlast":var It=At(Ot);if(It.value!==void 0&&(nt.formatting.stretchlast=It.value),It.error)return It.error;break;default:et("Formatting directive unrecognized: ",St,0)}}};function At(Tt){if(Tt.length===0)return{value:1};if(Tt.length===1)if(Tt[0].type==="number"){if(Tt[0].floatt>=0||Tt[0].floatt<=1)return{value:Tt[0].floatt}}else{if(Tt[0].token==="false")return{value:0};if(Tt[0].token==="true")return{value:1}}return{error:"Directive stretchlast requires zero or one parameter: false, true, or number between 0 and 1 (received "+Tt[0].token+")"}}})();var abc_parse_directive=parseDirective$3,allNotes$1={};const allPitches=["C,,,","D,,,","E,,,","F,,,","G,,,","A,,,","B,,,","C,,","D,,","E,,","F,,","G,,","A,,","B,,","C,","D,","E,","F,","G,","A,","B,","C","D","E","F","G","A","B","c","d","e","f","g","a","b","c'","d'","e'","f'","g'","a'","b'","c''","d''","e''","f''","g''","a''","b''","c'''","d'''","e'''","f'''","g'''","a'''","b'''"];allNotes$1.pitchIndex=function(_e){return allPitches.indexOf(_e)};allNotes$1.noteName=function(_e){return allPitches[_e]};var allNotes_1=allNotes$1,sharpChords=["C","C","D","D","E","F","F","G","G","A","A","B"],flatChords=["C","D","D","E","E","F","G","G","A","A","B","B"],sharpChordsFree=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],flatChordsFree=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"];function transposeChordName$2(_e,et,tt,nt){if(!et||et%12===0)return _e;for(;et<0;)et+=12;et>11&&(et=et%12);var rt=_e.match(/^([A-G][b#]?)([^\/]+)?\/?([A-G][b#]?)?(.+)?/);if(!rt)return _e;var it=rt[1],ot=rt[2],st=rt[3],ut=rt[4],ft=sharpChords.indexOf(it);if(ft<0&&(ft=flatChords.indexOf(it)),ft<0&&(ft=sharpChordsFree.indexOf(it)),ft<0&&(ft=flatChordsFree.indexOf(it)),ft<0)return _e;if(ft+=et,ft=ft%12,tt?nt?_e=flatChordsFree[ft]:_e=flatChords[ft]:nt?_e=sharpChordsFree[ft]:_e=sharpChords[ft],ot&&(_e+=ot),st){var ft=sharpChords.indexOf(st);ft<0&&(ft=flatChords.indexOf(st)),ft<0&&(ft=sharpChordsFree.indexOf(st)),ft<0&&(ft=flatChordsFree.indexOf(st)),_e+="/",ft>=0?(ft+=et,ft=ft%12,tt?nt?_e+=flatChordsFree[ft]:_e+=flatChords[ft]:nt?_e+=sharpChordsFree[ft]:_e+=sharpChords[ft]):_e+=st}return ut&&(_e+=ut),_e}var transposeChord=transposeChordName$2,keys$1={C:{modes:["CMaj","Amin","Am","GMix","DDor","EPhr","FLyd","BLoc"],stepsFromC:0},Db:{modes:["DbMaj","Bbmin","Bbm","AbMix","EbDor","FPhr","GbLyd","CLoc"],stepsFromC:1},D:{modes:["DMaj","Bmin","Bm","AMix","EDor","F#Phr","GLyd","C#Loc"],stepsFromC:2},Eb:{modes:["EbMaj","Cmin","Cm","BbMix","FDor","GPhr","AbLyd","DLoc"],stepsFromC:3},E:{modes:["EMaj","C#min","C#m","BMix","F#Dor","G#Phr","ALyd","D#Loc"],stepsFromC:4},F:{modes:["FMaj","Dmin","Dm","CMix","GDor","APhr","BbLyd","ELoc"],stepsFromC:5},Gb:{modes:["GbMaj","Ebmin","Ebm","DbMix","AbDor","BbPhr","CbLyd","FLoc"],stepsFromC:6},G:{modes:["GMaj","Emin","Em","DMix","ADor","BPhr","CLyd","F#Loc"],stepsFromC:7},Ab:{modes:["AbMaj","Fmin","Fm","EbMix","BbDor","CPhr","DbLyd","GLoc"],stepsFromC:8},A:{modes:["AMaj","F#min","F#m","EMix","BDor","C#Phr","DLyd","G#Loc"],stepsFromC:9},Bb:{modes:["BbMaj","Gmin","Gm","FMix","CDor","DPhr","EbLyd","ALoc"],stepsFromC:10},B:{modes:["BMaj","G#min","G#m","F#Mix","C#Dor","D#Phr","ELyd","A#Loc"],stepsFromC:11},"C#":{modes:["C#Maj","A#min","A#m","G#Mix","D#Dor","E#Phr","F#Lyd","B#Loc"],stepsFromC:1},"F#":{modes:["F#Maj","D#min","D#m","C#Mix","G#Dor","A#Phr","BLyd","E#Loc"],stepsFromC:6},Cb:{modes:["CbMaj","Abmin","Abm","GbMix","DbDor","EbPhr","FbLyd","BbLoc"],stepsFromC:11}},keyReverse=null;function createKeyReverse(){keyReverse={};for(var _e=Object.keys(keys$1),et=0;et<_e.length;et++){var tt=keys$1[_e[et]];keyReverse[_e[et].toLowerCase()]=_e[et];for(var nt=0;nt<tt.modes.length;nt++){var rt=tt.modes[nt].toLowerCase();keyReverse[rt]=_e[et]}}}function relativeMajor$2(_e){keyReverse||createKeyReverse();var et=_e.toLowerCase().match(/([a-g][b#]?)(maj|min|mix|dor|phr|lyd|loc|m)?/);if(!et||!et[2])return _e;et=et[1]+et[2];var tt=keyReverse[et];return tt||_e}function relativeMode$1(_e,et){var tt=keys$1[_e];if(!tt||et==="")return _e;var nt=et.toLowerCase().match(/^(maj|min|mix|dor|phr|lyd|loc|m)/);if(!nt)return _e;for(var rt=nt[1],it=0;it<tt.modes.length;it++){var ot=tt.modes[it],st=ot.toLowerCase().indexOf(rt);if(st!==-1&&st===ot.length-rt.length)return ot.substring(0,ot.length-rt.length)}return _e}function transposeKey$1(_e,et){var tt=keys$1[_e];if(!tt)return _e;for(;et<0;)et+=12;for(var nt=(tt.stepsFromC+et)%12,rt=0;rt<Object.keys(keys$1).length;rt++){var it=Object.keys(keys$1)[rt];if(keys$1[it].stepsFromC===nt)return it}return _e}var relativeMajor_1={relativeMajor:relativeMajor$2,relativeMode:relativeMode$1,transposeKey:transposeKey$1},{relativeMajor:relativeMajor$1}=relativeMajor_1,key1sharp={acc:"sharp",note:"f"},key2sharp={acc:"sharp",note:"c"},key3sharp={acc:"sharp",note:"g"},key4sharp={acc:"sharp",note:"d"},key5sharp={acc:"sharp",note:"A"},key6sharp={acc:"sharp",note:"e"},key7sharp={acc:"sharp",note:"B"},key1flat={acc:"flat",note:"B"},key2flat={acc:"flat",note:"e"},key3flat={acc:"flat",note:"A"},key4flat={acc:"flat",note:"d"},key5flat={acc:"flat",note:"G"},key6flat={acc:"flat",note:"c"},key7flat={acc:"flat",note:"F"},keys={"C#":[key1sharp,key2sharp,key3sharp,key4sharp,key5sharp,key6sharp,key7sharp],"F#":[key1sharp,key2sharp,key3sharp,key4sharp,key5sharp,key6sharp],B:[key1sharp,key2sharp,key3sharp,key4sharp,key5sharp],E:[key1sharp,key2sharp,key3sharp,key4sharp],A:[key1sharp,key2sharp,key3sharp],D:[key1sharp,key2sharp],G:[key1sharp],C:[],F:[key1flat],Bb:[key1flat,key2flat],Eb:[key1flat,key2flat,key3flat],Cm:[key1flat,key2flat,key3flat],Ab:[key1flat,key2flat,key3flat,key4flat],Db:[key1flat,key2flat,key3flat,key4flat,key5flat],Gb:[key1flat,key2flat,key3flat,key4flat,key5flat,key6flat],Cb:[key1flat,key2flat,key3flat,key4flat,key5flat,key6flat,key7flat],"A#":[key1flat,key2flat],"B#":[],"D#":[key1flat,key2flat,key3flat],"E#":[key1flat],"G#":[key1flat,key2flat,key3flat,key4flat],none:[]};function keyAccidentals$2(_e){var et=keys[relativeMajor$1(_e)];return et?JSON.parse(JSON.stringify(et)):null}var keyAccidentals_1=keyAccidentals$2,allNotes=allNotes_1,transposeChordName$1=transposeChord,keyAccidentals$1=keyAccidentals_1,transpose$3={},keyIndex={C:0,"C#":1,Db:1,D:2,"D#":3,Eb:3,E:4,F:5,"F#":6,Gb:6,G:7,"G#":8,Ab:8,A:9,"A#":10,Bb:10,B:11},newKey=["C","Db","D","Eb","E","F","F#","G","Ab","A","Bb","B"],newKeyMinor=["C","C#","D","D#","E","F","F#","G","G#","A","Bb","B"];transpose$3.keySignature=function(_e,et,tt,nt,rt){if(_e.clef.type==="perc"||_e.clef.type==="none")return{accidentals:keyAccidentals$1(et),root:tt,acc:nt};rt||(rt=0),_e.localTransposeVerticalMovement=0,_e.localTransposePreferFlats=!1;var it=keyAccidentals$1(et);if(!it)return _e.key;if(_e.localTranspose=(_e.globalTranspose?_e.globalTranspose:0)+rt,!_e.localTranspose)return{accidentals:it,root:tt,acc:nt};if(_e.globalTransposeOrigKeySig=it,_e.localTranspose%12===0)return _e.localTransposeVerticalMovement=_e.localTranspose/12*7,{accidentals:it,root:tt,acc:nt};var ot=et[0];et[1]==="b"||et[1]==="#"?(ot+=et[1],et=et.substr(2)):et=et.substr(1);var st=keyIndex[ot],ut=st!==void 0;ut||(st=0,ot="C",et="");for(var ft=st+_e.localTranspose;ft<0;)ft+=12;ft>11&&(ft=ft%12);var dt=et[0]==="m"?newKeyMinor[ft]:newKey[ft],lt=dt+et,at=keyAccidentals$1(lt);at.length>0&&at[0].acc==="flat"&&(_e.localTransposePreferFlats=!0);var ct=lt.charCodeAt(0)-ot.charCodeAt(0);return _e.localTranspose>0?(ct<0||ct===0&&(ot[1]==="#"||lt[1]==="b"))&&(ct+=7):_e.localTranspose<0&&(ct>0||ct===0&&(ot[1]==="b"||lt[1]==="#"))&&(ct-=7),_e.localTranspose>0?_e.localTransposeVerticalMovement=ct+Math.floor(_e.localTranspose/12)*7:_e.localTransposeVerticalMovement=ct+Math.ceil(_e.localTranspose/12)*7,ut?{accidentals:at,root:dt[0],acc:dt.length>1?dt[1]:""}:{accidentals:[],root:tt,acc:nt}};transpose$3.chordName=function(_e,et){return transposeChordName$1(et,_e.localTranspose,_e.localTransposePreferFlats,_e.freegchord)};var pitchToLetter=["c","d","e","f","g","a","b"];function accidentalChange(_e,et,tt,nt,rt){for(var it=pitchToLetter[(_e+49)%7],ot=0,st=0;st<nt.length;st++)nt[st].note.toLowerCase()===it&&(ot=accidentals$1[nt[st].acc]);for(var ut=accidentals$1[tt],ft=ut-ot,dt=pitchToLetter[(et+49)%7],lt=0,at=0;at<rt.accidentals.length;at++)rt.accidentals[at].note.toLowerCase()===dt&&(lt=accidentals$1[rt.accidentals[at].acc]);var ct=ft+lt;return ct<-2&&(et--,ct+=dt==="c"||dt==="f"?1:2),ct>2&&(et++,ct-=dt==="b"||dt==="e"?1:2),[et,ct]}var accidentals$1={dblflat:-2,flat:-1,natural:0,sharp:1,dblsharp:2},accidentals2={"-2":"dblflat","-1":"flat",0:"natural",1:"sharp",2:"dblsharp"},accidentals3={"-2":"__","-1":"_",0:"=",1:"^",2:"^^"};transpose$3.note=function(_e,et){if(!(!_e.localTranspose||_e.clef.type==="perc")){var tt=et.pitch;if(_e.localTransposeVerticalMovement&&(et.pitch=et.pitch+_e.localTransposeVerticalMovement,et.name)){var nt=et.accidental?et.name.substring(1):et.name,rt=et.accidental?et.name[0]:"",it=allNotes.pitchIndex(nt);et.name=rt+allNotes.noteName(it+_e.localTransposeVerticalMovement)}if(et.accidental){var ot=accidentalChange(tt,et.pitch,et.accidental,_e.globalTransposeOrigKeySig,_e.targetKey);et.pitch=ot[0],et.accidental=accidentals2[ot[1]],et.name&&(et.name=accidentals3[ot[1]]+et.name.replace(/[_^=]/g,""))}}};var abc_transpose=transpose$3,parseCommon$c=abc_common,parseDirective$2=abc_parse_directive,transpose$2=abc_transpose,parseKeyVoice$3={};(function(){var _e,et,tt,nt;parseKeyVoice$3.initialize=function(dt,lt,at,ct,ht){_e=dt,et=lt,tt=at,nt=ht},parseKeyVoice$3.standardKey=function(dt,lt,at,ct){return transpose$2.keySignature(tt,dt,lt,at,ct)};var rt={treble:{clef:"treble",pitch:4,mid:0},"treble+8":{clef:"treble+8",pitch:4,mid:0},"treble-8":{clef:"treble-8",pitch:4,mid:0},"treble^8":{clef:"treble+8",pitch:4,mid:0},treble_8:{clef:"treble-8",pitch:4,mid:0},treble1:{clef:"treble",pitch:2,mid:2},treble2:{clef:"treble",pitch:4,mid:0},treble3:{clef:"treble",pitch:6,mid:-2},treble4:{clef:"treble",pitch:8,mid:-4},treble5:{clef:"treble",pitch:10,mid:-6},perc:{clef:"perc",pitch:6,mid:0},none:{clef:"none",mid:0},bass:{clef:"bass",pitch:8,mid:-12},"bass+8":{clef:"bass+8",pitch:8,mid:-12},"bass-8":{clef:"bass-8",pitch:8,mid:-12},"bass^8":{clef:"bass+8",pitch:8,mid:-12},bass_8:{clef:"bass-8",pitch:8,mid:-12},"bass+16":{clef:"bass",pitch:8,mid:-12},"bass-16":{clef:"bass",pitch:8,mid:-12},"bass^16":{clef:"bass",pitch:8,mid:-12},bass_16:{clef:"bass",pitch:8,mid:-12},bass1:{clef:"bass",pitch:2,mid:-6},bass2:{clef:"bass",pitch:4,mid:-8},bass3:{clef:"bass",pitch:6,mid:-10},bass4:{clef:"bass",pitch:8,mid:-12},bass5:{clef:"bass",pitch:10,mid:-14},tenor:{clef:"alto",pitch:8,mid:-8},tenor1:{clef:"alto",pitch:2,mid:-2},tenor2:{clef:"alto",pitch:4,mid:-4},tenor3:{clef:"alto",pitch:6,mid:-6},tenor4:{clef:"alto",pitch:8,mid:-8},tenor5:{clef:"alto",pitch:10,mid:-10},alto:{clef:"alto",pitch:6,mid:-6},alto1:{clef:"alto",pitch:2,mid:-2},alto2:{clef:"alto",pitch:4,mid:-4},alto3:{clef:"alto",pitch:6,mid:-6},alto4:{clef:"alto",pitch:8,mid:-8},alto5:{clef:"alto",pitch:10,mid:-10},"alto+8":{clef:"alto+8",pitch:6,mid:-6},"alto-8":{clef:"alto-8",pitch:6,mid:-6},"alto^8":{clef:"alto+8",pitch:6,mid:-6},alto_8:{clef:"alto-8",pitch:6,mid:-6}},it=function(dt,lt){var at=rt[dt],ct=at?at.mid:0;return ct+lt};parseKeyVoice$3.fixClef=function(dt){var lt=rt[dt.type];lt&&(dt.clefPos=lt.pitch,dt.type=lt.clef)},parseKeyVoice$3.deepCopyKey=function(dt){var lt={accidentals:[],root:dt.root,acc:dt.acc,mode:dt.mode};return dt.accidentals.forEach(function(at){lt.accidentals.push(parseCommon$c.clone(at))}),lt};var ot={A:5,B:6,C:0,D:1,E:2,F:3,G:4,a:12,b:13,c:7,d:8,e:9,f:10,g:11};parseKeyVoice$3.addPosToKey=function(dt,lt){var at=dt.verticalPos;lt.accidentals.forEach(function(ct){var ht=ot[ct.note];ht=ht-at,ct.verticalPos=ht}),lt.impliedNaturals&&lt.impliedNaturals.forEach(function(ct){var ht=ot[ct.note];ht=ht-at,ct.verticalPos=ht}),at<-10?(lt.accidentals.forEach(function(ct){ct.verticalPos-=7,(ct.verticalPos>=11||ct.verticalPos===10&&ct.acc==="flat")&&(ct.verticalPos-=7),ct.note==="A"&&ct.acc==="sharp"&&(ct.verticalPos-=7),(ct.note==="G"||ct.note==="F")&&ct.acc==="flat"&&(ct.verticalPos-=7)}),lt.impliedNaturals&&lt.impliedNaturals.forEach(function(ct){ct.verticalPos-=7,(ct.verticalPos>=11||ct.verticalPos===10&&ct.acc==="flat")&&(ct.verticalPos-=7),ct.note==="A"&&ct.acc==="sharp"&&(ct.verticalPos-=7),(ct.note==="G"||ct.note==="F")&&ct.acc==="flat"&&(ct.verticalPos-=7)})):at<-4?(lt.accidentals.forEach(function(ct){ct.verticalPos-=7,at===-8&&(ct.note==="f"||ct.note==="g")&&ct.acc==="sharp"&&(ct.verticalPos-=7)}),lt.impliedNaturals&&lt.impliedNaturals.forEach(function(ct){ct.verticalPos-=7,at===-8&&(ct.note==="f"||ct.note==="g")&&ct.acc==="sharp"&&(ct.verticalPos-=7)})):at>=7&&(lt.accidentals.forEach(function(ct){ct.verticalPos+=7}),lt.impliedNaturals&&lt.impliedNaturals.forEach(function(ct){ct.verticalPos+=7}))},parseKeyVoice$3.fixKey=function(dt,lt){var at=parseCommon$c.clone(lt);return parseKeyVoice$3.addPosToKey(dt,at),at};var st=function(dt){var lt=0,at=dt[lt++];(at==="^"||at==="_")&&(at=dt[lt++]);var ct=ot[at];for(ct===void 0&&(ct=6);lt<dt.length;lt++)if(dt[lt]===",")ct-=7;else if(dt[lt]==="'")ct+=7;else break;return{mid:ct-6,str:dt.substring(lt)}},ut=function(dt){for(var lt=0;lt<dt.length;lt++)dt[lt].note==="b"?dt[lt].note="B":dt[lt].note==="a"?dt[lt].note="A":dt[lt].note==="F"?dt[lt].note="f":dt[lt].note==="E"?dt[lt].note="e":dt[lt].note==="D"?dt[lt].note="d":dt[lt].note==="C"?dt[lt].note="c":dt[lt].note==="G"&&dt[lt].acc==="sharp"?dt[lt].note="g":dt[lt].note==="g"&&dt[lt].acc==="flat"&&(dt[lt].note="G")};parseKeyVoice$3.parseKey=function(dt,lt){dt.length===0&&(dt="none");var at=_e.tokenize(dt,0,dt.length),ct={};if(at.length===0)return et("Must pass in key signature.",dt,0),ct;switch(at[0].token){case"HP":parseDirective$2.addDirective("bagpipes"),tt.key={root:"HP",accidentals:[],acc:"",mode:""},ct.foundKey=!0,at.shift();break;case"Hp":parseDirective$2.addDirective("bagpipes"),tt.key={root:"Hp",accidentals:[{acc:"natural",note:"g"},{acc:"sharp",note:"f"},{acc:"sharp",note:"c"}],acc:"",mode:""},ct.foundKey=!0,at.shift();break;case"none":tt.key={root:"none",accidentals:[],acc:"",mode:""},ct.foundKey=!0,at.shift();break;default:var ht=_e.getKeyPitch(at[0].token);if(ht.len>0){ct.foundKey=!0;var pt="",mt="";at[0].token.length>1?at[0].token=at[0].token.substring(1):at.shift();var gt=ht.token;if(at.length>0){var yt=_e.getSharpFlat(at[0].token);if(yt.len>0&&(at[0].token.length>1?at[0].token=at[0].token.substring(1):at.shift(),gt+=yt.token,pt=yt.token),at.length>0){var bt=_e.getMode(at[0].token);bt.len>0&&(at.shift(),gt+=bt.token,mt=bt.token)}if(parseKeyVoice$3.standardKey(gt,ht.token,pt,0)===void 0)return et("Unsupported key signature: "+gt,dt,0),ct}var xt=parseKeyVoice$3.deepCopyKey(tt.key),vt=!lt&&tt.globalTranspose?-tt.globalTranspose:0,wt;if(lt&&(wt=tt.globalTransposeOrigKeySig),tt.key=parseKeyVoice$3.deepCopyKey(parseKeyVoice$3.standardKey(gt,ht.token,pt,vt)),lt&&(tt.globalTransposeOrigKeySig=wt),tt.key.mode=mt,xt){for(var _t,Ct=0;Ct<tt.key.accidentals.length;Ct++)for(_t=0;_t<xt.accidentals.length;_t++)xt.accidentals[_t].note&&tt.key.accidentals[Ct].note.toLowerCase()===xt.accidentals[_t].note.toLowerCase()&&(xt.accidentals[_t].note=null);for(_t=0;_t<xt.accidentals.length;_t++)xt.accidentals[_t].note&&(tt.key.impliedNaturals||(tt.key.impliedNaturals=[]),tt.key.impliedNaturals.push({acc:"natural",note:xt.accidentals[_t].note}))}}break}if(at.length===0||(at[0].token==="exp"&&at.shift(),at.length===0)||(at[0].token==="oct"&&at.shift(),at.length===0))return ct;var Et=_e.getKeyAccidentals2(at);if(Et.warn&&et(Et.warn,dt,0),Et.accs){ct.foundKey||(ct.foundKey=!0,tt.key={root:"none",acc:"",mode:"",accidentals:[]}),ut(Et.accs);for(var $t=0;$t<Et.accs.length;$t++){for(var jt=!1,Dt=0;Dt<tt.key.accidentals.length&&!jt;Dt++)tt.key.accidentals[Dt].note===Et.accs[$t].note&&(jt=!0,tt.key.accidentals[Dt].acc!==Et.accs[$t].acc&&(tt.key.accidentals[Dt].acc=Et.accs[$t].acc,tt.key.explicitAccidentals||(tt.key.explicitAccidentals=[]),tt.key.explicitAccidentals.push(Et.accs[$t])));if(!jt&&(tt.key.explicitAccidentals||(tt.key.explicitAccidentals=[]),tt.key.explicitAccidentals.push(Et.accs[$t]),tt.key.accidentals.push(Et.accs[$t]),tt.key.impliedNaturals))for(var Pt=0;Pt<tt.key.impliedNaturals.length;Pt++)tt.key.impliedNaturals[Pt].note===Et.accs[$t].note&&tt.key.impliedNaturals.splice(Pt,1)}}for(var kt;at.length>0;)switch(at[0].token){case"m":case"middle":if(at.shift(),at.length===0)return et("Expected = after middle",dt,0),ct;if(kt=at.shift(),kt.token!=="="){et("Expected = after middle",dt,kt.start);break}if(at.length===0)return et("Expected parameter after middle=",dt,0),ct;var At=_e.getPitchFromTokens(at);At.warn&&et(At.warn,dt,0),At.position&&(tt.clef.verticalPos=At.position-6);break;case"transpose":if(at.shift(),at.length===0)return et("Expected = after transpose",dt,0),ct;if(kt=at.shift(),kt.token!=="="){et("Expected = after transpose",dt,kt.start);break}if(at.length===0)return et("Expected parameter after transpose=",dt,0),ct;if(at[0].type!=="number"){et("Expected number after transpose",dt,at[0].start);break}tt.clef.transpose=at[0].intt,at.shift();break;case"stafflines":if(at.shift(),at.length===0)return et("Expected = after stafflines",dt,0),ct;if(kt=at.shift(),kt.token!=="="){et("Expected = after stafflines",dt,kt.start);break}if(at.length===0)return et("Expected parameter after stafflines=",dt,0),ct;if(at[0].type!=="number"){et("Expected number after stafflines",dt,at[0].start);break}tt.clef.stafflines=at[0].intt,at.shift();break;case"staffscale":if(at.shift(),at.length===0)return et("Expected = after staffscale",dt,0),ct;if(kt=at.shift(),kt.token!=="="){et("Expected = after staffscale",dt,kt.start);break}if(at.length===0)return et("Expected parameter after staffscale=",dt,0),ct;if(at[0].type!=="number"){et("Expected number after staffscale",dt,at[0].start);break}tt.clef.staffscale=at[0].floatt,at.shift();break;case"octave":if(at.shift(),at.length===0)return et("Expected = after octave",dt,0),ct;if(kt=at.shift(),kt.token!=="="){et("Expected = after octave",dt,kt.start);break}if(at.length===0)return et("Expected parameter after octave=",dt,0),ct;if(at[0].type!=="number"){et("Expected number after octave",dt,at[0].start);break}tt.octave=at[0].intt,at.shift();break;case"style":if(at.shift(),at.length===0)return et("Expected = after style",dt,0),ct;if(kt=at.shift(),kt.token!=="="){et("Expected = after style",dt,kt.start);break}if(at.length===0)return et("Expected parameter after style=",dt,0),ct;switch(at[0].token){case"normal":case"harmonic":case"rhythm":case"x":case"triangle":tt.style=at[0].token,at.shift();break;default:et("error parsing style element: "+at[0].token,dt,at[0].start);break}break;case"clef":if(at.shift(),at.length===0)return et("Expected = after clef",dt,0),ct;if(kt=at.shift(),kt.token!=="="){et("Expected = after clef",dt,kt.start);break}if(at.length===0)return et("Expected parameter after clef=",dt,0),ct;case"treble":case"bass":case"alto":case"tenor":case"perc":case"none":var Tt=at.shift();switch(Tt.token){case"treble":case"tenor":case"alto":case"bass":case"perc":case"none":break;case"C":Tt.token="alto";break;case"F":Tt.token="bass";break;case"G":Tt.token="treble";break;case"c":Tt.token="alto";break;case"f":Tt.token="bass";break;case"g":Tt.token="treble";break;default:et("Expected clef name. Found "+Tt.token,dt,Tt.start);break}at.length>0&&at[0].type==="number"&&(Tt.token+=at[0].token,at.shift()),at.length>1&&(at[0].token==="-"||at[0].token==="+"||at[0].token==="^"||at[0].token==="_")&&at[1].token==="8"&&(Tt.token+=at[0].token+at[1].token,at.shift(),at.shift()),tt.clef={type:Tt.token,verticalPos:it(Tt.token,0)},tt.currentVoice&&tt.currentVoice.transpose!==void 0&&(tt.clef.transpose=tt.currentVoice.transpose),ct.foundClef=!0;break;default:et("Unknown parameter: "+at[0].token,dt,at[0].start),at.shift()}return ct};var ft=function(dt){tt.currentVoice=tt.voices[dt],nt.setCurrentVoice(tt.currentVoice.staffNum,tt.currentVoice.index)};parseKeyVoice$3.parseVoice=function(dt,lt,at){var ct=_e.getMeat(dt,lt,at),ht=ct.start,pt=ct.end,mt=_e.getToken(dt,ht,pt);if(mt.length===0){et("Expected a voice id",dt,ht);return}var gt=!1;tt.voices[mt]===void 0&&(tt.voices[mt]={},gt=!0,tt.score_is_present&&et("Can't have an unknown V: id when the %score directive is present",dt,ht)),ht+=mt.length,ht+=_e.eatWhiteSpace(dt,ht);for(var yt={startStaff:gt},bt=function(At){var Tt=_e.getVoiceToken(dt,ht,pt);Tt.warn!==void 0?et("Expected value for "+At+" in voice: "+Tt.warn,dt,ht):Tt.err!==void 0?et("Expected value for "+At+" in voice: "+Tt.err,dt,ht):Tt.token.length===0&&dt[ht]!=='"'?et("Expected value for "+At+" in voice",dt,ht):yt[At]=Tt.token,ht+=Tt.len},xt=function(At,Tt,St){var Rt=_e.getVoiceToken(dt,ht,pt);Rt.warn!==void 0?et("Expected value for "+Tt+" in voice: "+Rt.warn,dt,ht):Rt.err!==void 0?et("Expected value for "+Tt+" in voice: "+Rt.err,dt,ht):Rt.token.length===0&&dt[ht]!=='"'?et("Expected value for "+Tt+" in voice",dt,ht):(Rt.token=parseFloat(Rt.token),tt.voices[At][Tt]=Rt.token),ht+=Rt.len},vt=function(At,Tt){var St=_e.getVoiceToken(dt,ht,pt);if(St.warn!==void 0)et("Expected value for "+At+" in voice: "+St.warn,dt,ht);else if(St.err!==void 0)et("Expected value for "+At+" in voice: "+St.err,dt,ht);else if(St.token.length===0&&dt[ht]!=='"')et("Expected value for "+At+" in voice",dt,ht);else return St.token;ht+=St.len},wt=function(At,Tt){var St={_B:2,_E:9,_b:-10,_e:-3},Rt=_e.getVoiceToken(dt,ht,pt);if(Rt.warn!==void 0)et("Expected one of (_B, _E, _b, _e) for "+Tt+" in voice: "+Rt.warn,dt,ht);else if(Rt.token.length===0&&dt[ht]!=='"')et("Expected one of (_B, _E, _b, _e) for "+Tt+" in voice",dt,ht);else{var Ot=St[Rt.token];Ot?tt.voices[At][Tt]=Ot:et("Expected one of (_B, _E, _b, _e) for "+Tt+" in voice",dt,ht)}ht+=Rt.len};ht<pt;){var _t=_e.getVoiceToken(dt,ht,pt);if(ht+=_t.len,_t.warn)et("Error parsing voice: "+_t.warn,dt,ht);else{var Ct=null;switch(_t.token){case"clef":case"cl":bt("clef");var Et=0;yt.clef!==void 0&&(yt.clef=yt.clef.replace(/[',]/g,""),yt.clef.indexOf("+16")!==-1&&(Et+=14,yt.clef=yt.clef.replace("+16","")),yt.verticalPos=it(yt.clef,Et));break;case"treble":case"bass":case"tenor":case"alto":case"perc":case"none":case"treble'":case"bass'":case"tenor'":case"alto'":case"none'":case"treble''":case"bass''":case"tenor''":case"alto''":case"none''":case"treble,":case"bass,":case"tenor,":case"alto,":case"none,":case"treble,,":case"bass,,":case"tenor,,":case"alto,,":case"none,,":var $t=0;yt.clef=_t.token.replace(/[',]/g,""),yt.verticalPos=it(yt.clef,$t),tt.voices[mt].clef=_t.token;break;case"staves":case"stave":case"stv":bt("staves");break;case"brace":case"brc":bt("brace");break;case"bracket":case"brk":bt("bracket");break;case"name":case"nm":bt("name");break;case"subname":case"sname":case"snm":bt("subname");break;case"merge":yt.startStaff=!1;break;case"stem":case"stems":Ct=_e.getVoiceToken(dt,ht,pt),Ct.warn!==void 0?et("Expected value for stems in voice: "+Ct.warn,dt,ht):Ct.err!==void 0?et("Expected value for stems in voice: "+Ct.err,dt,ht):Ct.token==="up"||Ct.token==="down"?tt.voices[mt].stem=Ct.token:et("Expected up or down for voice stem",dt,ht),ht+=Ct.len;break;case"up":case"down":tt.voices[mt].stem=_t.token;break;case"middle":case"m":bt("verticalPos"),yt.verticalPos=st(yt.verticalPos).mid;break;case"gchords":case"gch":tt.voices[mt].suppressChords=!0,Ct=_e.getVoiceToken(dt,ht,pt),Ct.token==="0"&&(ht=ht+Ct.len);break;case"space":case"spc":bt("spacing");break;case"scale":xt(mt,"scale");break;case"score":wt(mt,"scoreTranspose");break;case"transpose":xt(mt,"transpose");break;case"stafflines":xt(mt,"stafflines");break;case"staffscale":xt(mt,"staffscale");break;case"octave":xt(mt,"octave");break;case"volume":xt(mt,"volume");break;case"cue":var jt=vt("cue");jt==="on"?tt.voices[mt].scale=.6:tt.voices[mt].scale=1;break;case"style":Ct=_e.getVoiceToken(dt,ht,pt),Ct.warn!==void 0?et("Expected value for style in voice: "+Ct.warn,dt,ht):Ct.err!==void 0?et("Expected value for style in voice: "+Ct.err,dt,ht):Ct.token==="normal"||Ct.token==="harmonic"||Ct.token==="rhythm"||Ct.token==="x"||Ct.token==="triangle"?tt.voices[mt].style=Ct.token:et("Expected one of [normal, harmonic, rhythm, x, triangle] for voice style",dt,ht),ht+=Ct.len;break}}ht+=_e.eatWhiteSpace(dt,ht)}if((yt.startStaff||tt.staves.length===0)&&(tt.staves.push({index:tt.staves.length,meter:tt.origMeter}),tt.score_is_present||(tt.staves[tt.staves.length-1].numVoices=0)),tt.voices[mt].staffNum===void 0){tt.voices[mt].staffNum=tt.staves.length-1;var Dt=0;for(var Pt in tt.voices)tt.voices.hasOwnProperty(Pt)&&tt.voices[Pt].staffNum===tt.voices[mt].staffNum&&Dt++;tt.voices[mt].index=Dt-1}var kt=tt.staves[tt.voices[mt].staffNum];tt.score_is_present||kt.numVoices++,yt.clef&&(kt.clef={type:yt.clef,verticalPos:yt.verticalPos}),yt.spacing&&(kt.spacing_below_offset=yt.spacing),yt.verticalPos&&(kt.verticalPos=yt.verticalPos),yt.name&&(kt.name?kt.name.push(yt.name):kt.name=[yt.name]),yt.subname&&(kt.subname?kt.subname.push(yt.subname):kt.subname=[yt.subname]),ft(mt)}})();var abc_parse_key_voice=parseKeyVoice$3,parseCommon$b=abc_common,parseDirective$1=abc_parse_directive,parseKeyVoice$2=abc_parse_key_voice,ParseHeader$1=function(_e,et,tt,nt,rt){this.reset=function(st,ut,ft,dt){parseKeyVoice$2.initialize(st,ut,ft,dt,rt),parseDirective$1.initialize(st,ut,ft,dt,rt)},this.reset(_e,et,tt,nt),this.setTitle=function(st,ut){tt.hasMainTitle?rt.addSubtitle(st,{startChar:tt.iChar,endChar:tt.iChar+ut+2}):(rt.addMetaText("title",st,{startChar:tt.iChar,endChar:tt.iChar+ut+2}),tt.hasMainTitle=!0)},this.setMeter=function(st){if(st=_e.stripComment(st),st==="C")return tt.havent_set_length===!0&&(tt.default_length=.125,tt.havent_set_length=!1),{type:"common_time"};if(st==="C|")return tt.havent_set_length===!0&&(tt.default_length=.125,tt.havent_set_length=!1),{type:"cut_time"};if(st==="o")return tt.havent_set_length===!0&&(tt.default_length=.125,tt.havent_set_length=!1),{type:"tempus_perfectum"};if(st==="c")return tt.havent_set_length===!0&&(tt.default_length=.125,tt.havent_set_length=!1),{type:"tempus_imperfectum"};if(st==="o.")return tt.havent_set_length===!0&&(tt.default_length=.125,tt.havent_set_length=!1),{type:"tempus_perfectum_prolatio"};if(st==="c.")return tt.havent_set_length===!0&&(tt.default_length=.125,tt.havent_set_length=!1),{type:"tempus_imperfectum_prolatio"};if(st.length===0||st.toLowerCase()==="none")return tt.havent_set_length===!0&&(tt.default_length=.125,tt.havent_set_length=!1),null;var ut=_e.tokenize(st,0,st.length);try{var ft=function(){var pt={value:0,num:""},mt=ut.shift();for(mt.token==="("&&(mt=ut.shift());;){if(mt.type!=="number")throw"Expected top number of meter";if(pt.value+=parseInt(mt.token),pt.num+=mt.token,ut.length===0||ut[0].token==="/")return pt;if(mt=ut.shift(),mt.token===")"){if(ut.length===0||ut[0].token==="/")return pt;throw"Unexpected paren in meter"}if(mt.token!=="."&&mt.token!=="+"||(pt.num+=mt.token,ut.length===0))throw"Expected top number of meter";mt=ut.shift()}return pt},dt=function(){var pt=ft();if(ut.length===0)return pt;var mt=ut.shift();if(mt.token!=="/")throw"Expected slash in meter";if(mt=ut.shift(),mt.type!=="number")throw"Expected bottom number of meter";return pt.den=mt.token,pt.value=pt.value/parseInt(pt.den),pt};if(ut.length===0)throw"Expected meter definition in M: line";for(var lt={type:"specified",value:[]},at=0;;){var ct=dt();at+=ct.value;var ht={num:ct.num};if(ct.den!==void 0&&(ht.den=ct.den),lt.value.push(ht),ut.length===0)break}return tt.havent_set_length===!0&&(tt.default_length=at<.75?.0625:.125,tt.havent_set_length=!1),lt}catch(pt){et(pt,st,0)}return null},this.calcTempo=function(st){var ut=.25;tt.meter&&tt.meter.type==="specified"?ut=1/parseInt(tt.meter.value[0].den):tt.origMeter&&tt.origMeter.type==="specified"&&(ut=1/parseInt(tt.origMeter.value[0].den));for(var ft=0;ft<st.duration;ft++)st.duration[ft]=ut*st.duration[ft];return st},this.resolveTempo=function(){tt.tempo&&(this.calcTempo(tt.tempo),nt.metaText.tempo=tt.tempo,delete tt.tempo)},this.addUserDefinition=function(st,ut,ft){var dt=st.indexOf("=",ut);if(dt===-1){et("Need an = in a macro definition",st,ut);return}var lt=parseCommon$b.strip(st.substring(ut,dt)),at=parseCommon$b.strip(st.substring(dt+1));if(lt.length!==1){et("Macro definitions can only be one character",st,ut);return}var ct="HIJKLMNOPQRSTUVWXYhijklmnopqrstuvw~";if(ct.indexOf(lt)===-1){et("Macro definitions must be H-Y, h-w, or tilde",st,ut);return}if(at.length===0){et("Missing macro definition",st,ut);return}tt.macros===void 0&&(tt.macros={}),tt.macros[lt]=at},this.setDefaultLength=function(st,ut,ft){var dt=st.substring(ut,ft).replace(/ /g,""),lt=dt.split("/");if(lt.length===2){var at=parseInt(lt[0]),ct=parseInt(lt[1]);ct>0&&(tt.default_length=at/ct,tt.havent_set_length=!1)}else lt.length===1&&lt[0]==="1"&&(tt.default_length=1,tt.havent_set_length=!1)};var it={larghissimo:20,adagissimo:24,sostenuto:28,grave:32,largo:40,lento:50,larghetto:60,adagio:68,adagietto:74,andante:80,andantino:88,"marcia moderato":84,"andante moderato":100,moderato:112,allegretto:116,"allegro moderato":120,allegro:126,animato:132,agitato:140,veloce:148,"mosso vivo":156,vivace:164,vivacissimo:172,allegrissimo:176,presto:184,prestissimo:210};this.setTempo=function(st,ut,ft,dt){try{var lt=_e.tokenize(st,ut,ft);if(lt.length===0)throw"Missing parameter in Q: field";var at={startChar:dt+ut-2,endChar:dt+ft},ct=!0,ht=lt.shift();if(ht.type==="quote"&&(at.preString=ht.token,ht=lt.shift(),lt.length===0))return it[at.preString.toLowerCase()]&&(at.bpm=it[at.preString.toLowerCase()],at.suppressBpm=!0),{type:"immediate",tempo:at};if(ht.type==="alpha"&&ht.token==="C"){if(lt.length===0)throw"Missing tempo after C in Q: field";if(ht=lt.shift(),ht.type==="punct"&&ht.token==="="){if(lt.length===0)throw"Missing tempo after = in Q: field";if(ht=lt.shift(),ht.type!=="number")throw"Expected number after = in Q: field";at.duration=[1],at.bpm=parseInt(ht.token)}else if(ht.type==="number"){if(at.duration=[parseInt(ht.token)],lt.length===0)throw"Missing = after duration in Q: field";if(ht=lt.shift(),ht.type!=="punct"||ht.token!=="=")throw"Expected = after duration in Q: field";if(lt.length===0)throw"Missing tempo after = in Q: field";if(ht=lt.shift(),ht.type!=="number")throw"Expected number after = in Q: field";at.bpm=parseInt(ht.token)}else throw"Expected number or equal after C in Q: field"}else if(ht.type==="number"){var pt=parseInt(ht.token);if(lt.length===0||lt[0].type==="quote")at.duration=[1],at.bpm=pt;else{if(ct=!1,ht=lt.shift(),ht.type!=="punct"&&ht.token!=="/"||(ht=lt.shift(),ht.type!=="number"))throw"Expected fraction in Q: field";var mt=parseInt(ht.token);for(at.duration=[pt/mt];lt.length>0&&lt[0].token!=="="&&lt[0].type!=="quote";){if(ht=lt.shift(),ht.type!=="number"||(pt=parseInt(ht.token),ht=lt.shift(),ht.type!=="punct"&&ht.token!=="/")||(ht=lt.shift(),ht.type!=="number"))throw"Expected fraction in Q: field";mt=parseInt(ht.token),at.duration.push(pt/mt)}if(ht=lt.shift(),ht.type!=="punct"&&ht.token!=="=")throw"Expected = in Q: field";if(ht=lt.shift(),ht.type!=="number")throw"Expected tempo in Q: field";at.bpm=parseInt(ht.token)}}else throw"Unknown value in Q: field";if(lt.length!==0&&(ht=lt.shift(),ht.type==="quote"&&(at.postString=ht.token,ht=lt.shift()),lt.length!==0))throw"Unexpected string at end of Q: field";return tt.printTempo===!1&&(at.suppress=!0),{type:ct?"delaySet":"immediate",tempo:at}}catch(gt){return et(gt,st,ut),{type:"none"}}},this.letter_to_inline_header=function(st,ut,ft){var dt=_e.eatWhiteSpace(st,ut);if(ut+=dt,st.length>=ut+5&&st[ut]==="["&&st[ut+2]===":"){var lt=st.indexOf("]",ut),at=tt.iChar+ut,ct=tt.iChar+lt+1;switch(st.substring(ut,ut+3)){case"[I:":var ht=parseDirective$1.addDirective(st.substring(ut+3,lt));return ht&&et(ht,st,ut),[lt-ut+1+dt];case"[M:":var pt=this.setMeter(st.substring(ut+3,lt));return rt.hasBeginMusic()&&pt?rt.appendStartingElement("meter",at,ct,pt):tt.meter=pt,[lt-ut+1+dt];case"[K:":var mt=parseKeyVoice$2.parseKey(st.substring(ut+3,lt),!0);return mt.foundClef&&rt.hasBeginMusic()&&rt.appendStartingElement("clef",at,ct,tt.clef),mt.foundKey&&rt.hasBeginMusic()&&rt.appendStartingElement("key",at,ct,parseKeyVoice$2.fixKey(tt.clef,tt.key)),[lt-ut+1+dt];case"[P:":var gt=parseDirective$1.parseFontChangeLine(st.substring(ut+3,lt));return ft||nt.lines.length<=nt.lineNum?tt.partForNextLine={title:gt,startChar:at,endChar:ct}:rt.appendElement("part",at,ct,{title:gt}),[lt-ut+1+dt];case"[L:":return this.setDefaultLength(st,ut+3,lt),[lt-ut+1+dt];case"[Q:":if(lt>0){var yt=this.setTempo(st,ut+3,lt,tt.iChar);return yt.type==="delaySet"?rt.hasBeginMusic()?rt.appendElement("tempo",at,ct,this.calcTempo(yt.tempo)):tt.tempoForNextLine=["tempo",at,ct,this.calcTempo(yt.tempo)]:yt.type==="immediate"&&(!ft&&rt.hasBeginMusic()?rt.appendElement("tempo",at,ct,yt.tempo):tt.tempoForNextLine=["tempo",at,ct,yt.tempo]),[lt-ut+1+dt,st[ut+1],st.substring(ut+3,lt)]}break;case"[V:":if(lt>0)return parseKeyVoice$2.parseVoice(st,ut+3,lt),[lt-ut+1+dt,st[ut+1],st.substring(ut+3,lt)];break;case"[r:":return[lt-ut+1+dt]}}return[0]},this.letter_to_body_header=function(st,ut){if(st.length>=ut+3)switch(st.substring(ut,ut+2)){case"I:":var ft=parseDirective$1.addDirective(st.substring(ut+2));return ft&&et(ft,st,ut),[st.length];case"M:":var dt=this.setMeter(st.substring(ut+2));return rt.hasBeginMusic()&&dt&&rt.appendStartingElement("meter",tt.iChar+ut,tt.iChar+st.length,dt),[st.length];case"K:":var lt=parseKeyVoice$2.parseKey(st.substring(ut+2),rt.hasBeginMusic());return lt.foundClef&&rt.hasBeginMusic()&&rt.appendStartingElement("clef",tt.iChar+ut,tt.iChar+st.length,tt.clef),lt.foundKey&&rt.hasBeginMusic()&&rt.appendStartingElement("key",tt.iChar+ut,tt.iChar+st.length,parseKeyVoice$2.fixKey(tt.clef,tt.key)),[st.length];case"P:":return rt.hasBeginMusic()&&rt.appendElement("part",tt.iChar+ut,tt.iChar+st.length,{title:st.substring(ut+2)}),[st.length];case"L:":return this.setDefaultLength(st,ut+2,st.length),[st.length];case"Q:":var at=st.indexOf("",ut+2);at===-1&&(at=st.length);var ct=this.setTempo(st,ut+2,at,tt.iChar);return ct.type==="delaySet"?rt.appendElement("tempo",tt.iChar+ut,tt.iChar+st.length,this.calcTempo(ct.tempo)):ct.type==="immediate"&&rt.appendElement("tempo",tt.iChar+ut,tt.iChar+st.length,ct.tempo),[at,st[ut],parseCommon$b.strip(st.substring(ut+2))];case"V:":return parseKeyVoice$2.parseVoice(st,ut+2,st.length),[st.length,st[ut],parseCommon$b.strip(st.substring(ut+2))]}return[0]};var ot={A:"author",B:"book",C:"composer",D:"discography",F:"url",G:"group",I:"instruction",N:"notes",O:"origin",R:"rhythm",S:"source",W:"unalignedWords",Z:"transcription"};this.parseHeader=function(st){var ut=ot[st[0]],ft=st.length-2,dt=_e.translateString(_e.stripComment(st.substring(2)));if(ut==="unalignedWords"||ut==="notes")rt.addMetaTextArray(ut,parseDirective$1.parseFontChangeLine(dt),{startChar:tt.iChar,endChar:tt.iChar+st.length});else if(ut!==void 0)rt.addMetaText(ut,parseDirective$1.parseFontChangeLine(dt),{startChar:tt.iChar,endChar:tt.iChar+st.length});else{var lt=tt.iChar,at=lt+st.length;switch(st[0]){case"H":for(rt.addMetaTextArray("history",parseDirective$1.parseFontChangeLine(dt),{startChar:tt.iChar,endChar:tt.iChar+st.length}),st=_e.peekLine();st&&st[1]!==":";)_e.nextLine(),rt.addMetaTextArray("history",parseDirective$1.parseFontChangeLine(_e.translateString(_e.stripComment(st))),{startChar:tt.iChar,endChar:tt.iChar+st.length}),st=_e.peekLine();break;case"K":this.resolveTempo();var ct=parseKeyVoice$2.parseKey(st.substring(2),!1);!tt.is_in_header&&rt.hasBeginMusic()&&(ct.foundClef&&rt.appendStartingElement("clef",lt,at,tt.clef),ct.foundKey&&rt.appendStartingElement("key",lt,at,parseKeyVoice$2.fixKey(tt.clef,tt.key))),tt.is_in_header=!1;break;case"L":this.setDefaultLength(st,2,st.length);break;case"M":tt.origMeter=tt.meter=this.setMeter(st.substring(2));break;case"P":tt.is_in_header?rt.addMetaText("partOrder",parseDirective$1.parseFontChangeLine(dt),{startChar:tt.iChar,endChar:tt.iChar+st.length}):tt.partForNextLine={title:dt,startChar:lt,endChar:at};break;case"Q":var ht=this.setTempo(st,2,st.length,tt.iChar);ht.type==="delaySet"?tt.tempo=ht.tempo:ht.type==="immediate"&&(nt.metaText.tempo?tt.tempoForNextLine=["tempo",lt,at,ht.tempo]:nt.metaText.tempo=ht.tempo);break;case"T":tt.titlecaps&&(dt=dt.toUpperCase()),this.setTitle(parseDirective$1.parseFontChangeLine(_e.theReverser(dt)),ft);break;case"U":this.addUserDefinition(st,2,st.length);break;case"V":if(parseKeyVoice$2.parseVoice(st,2,st.length),!tt.is_in_header)return{newline:!0};break;case"s":return{symbols:!0};case"w":return{words:!0};case"X":break;case"E":case"m":et("Ignored header",st,0);break;default:return{regular:!0}}}return{}}},abc_parse_header=ParseHeader$1,abc_parse_settings={};abc_parse_settings.legalAccents=["trill","lowermordent","uppermordent","mordent","pralltriller","accent","fermata","invertedfermata","tenuto","0","1","2","3","4","5","+","wedge","open","thumb","snap","turn","roll","breath","shortphrase","mediumphrase","longphrase","segno","coda","D.S.","D.C.","fine","beambr1","beambr2","slide","marcato","upbow","downbow","/","//","///","////","trem1","trem2","trem3","trem4","turnx","invertedturn","invertedturnx","trill(","trill)","arpeggio","xstem","mark","umarcato","style=normal","style=harmonic","style=rhythm","style=x","style=triangle","D.C.alcoda","D.C.alfine","D.S.alcoda","D.S.alfine","editorial","courtesy"];abc_parse_settings.volumeDecorations=["p","pp","f","ff","mf","mp","ppp","pppp","fff","ffff","sfz"];abc_parse_settings.dynamicDecorations=["crescendo(","crescendo)","diminuendo(","diminuendo)","glissando(","glissando)","~(","~)"];abc_parse_settings.accentPseudonyms=[["<","accent"],[">","accent"],["tr","trill"],["plus","+"],["emphasis","accent"],["^","umarcato"],["marcato","umarcato"]];abc_parse_settings.accentDynamicPseudonyms=[["<(","crescendo("],["<)","crescendo)"],[">(","diminuendo("],[">)","diminuendo)"]];abc_parse_settings.nonDecorations="ABCDEFGabcdefgxyzZ[]|^_{";abc_parse_settings.durations=[.5,.75,.875,.9375,.96875,.984375,.25,.375,.4375,.46875,.484375,.4921875,.125,.1875,.21875,.234375,.2421875,.24609375,.0625,.09375,.109375,.1171875,.12109375,.123046875,.03125,.046875,.0546875,.05859375,.060546875,.0615234375,.015625,.0234375,.02734375,.029296875,.0302734375,.03076171875];abc_parse_settings.pitches={A:5,B:6,C:0,D:1,E:2,F:3,G:4,a:12,b:13,c:7,d:8,e:9,f:10,g:11};abc_parse_settings.rests={x:"invisible",X:"invisible-multimeasure",y:"spacer",z:"rest",Z:"multimeasure"};abc_parse_settings.accMap={dblflat:"__",flat:"_",natural:"=",sharp:"^",dblsharp:"^^",quarterflat:"_/",quartersharp:"^/"};abc_parse_settings.tripletQ={2:3,3:2,4:3,5:2,6:2,7:2,8:3,9:2};var parseCommon$a=abc_common,parseKeyVoice$1=abc_parse_key_voice,transpose$1=abc_transpose,tokenizer,warn,multilineVars,tune,tuneBuilder$1,header,{legalAccents,volumeDecorations,dynamicDecorations,accentPseudonyms,accentDynamicPseudonyms,nonDecorations,durations,pitches,rests,accMap,tripletQ}=abc_parse_settings,MusicParser=function(_e,et,tt,nt,rt,it){tokenizer=_e,warn=et,multilineVars=tt,tune=nt,tuneBuilder$1=rt,header=it,this.lineContinuation=!1},isInTie=function(_e,et,tt){if(_e.inTie[et]===void 0)return!1;var nt=_e.currentVoice?_e.currentVoice.staffNum*100+_e.currentVoice.index:0;return!!(_e.inTie[et][nt]&&(tt.pitches!==void 0||tt.rest.type!=="spacer"))},el={};MusicParser.prototype.parseMusic=function(_e){header.resolveTempo(),multilineVars.is_in_header=!1;for(var et=0,tt=multilineVars.iChar;tokenizer.isWhiteSpace(_e[et])&&et<_e.length;)et++;if(!(et===_e.length||_e[et]==="%")){var nt=multilineVars.start_new_line;multilineVars.continueall===void 0?multilineVars.start_new_line=!0:multilineVars.start_new_line=!1;var rt=0,it=header.letter_to_body_header(_e,et);it[0]>0&&(et+=it[0],it[1]==="V"&&this.startNewLine());for(var ot=0;et<_e.length;){var st=et;if(_e[et]==="%")break;var ut=header.letter_to_inline_header(_e,et,nt);if(ut[0]>0)et+=ut[0],ut[1]==="V"&&(nt=!0);else{(!tuneBuilder$1.hasBeginMusic()||nt&&!this.lineContinuation)&&(this.startNewLine(),nt=!1);for(var ft;;)if(ft=tokenizer.eatWhiteSpace(_e,et),ft>0&&(et+=ft),et>0&&_e[et-1]===""&&(ft=header.letter_to_body_header(_e,et),ft[0]>0&&(ft[1]==="V"&&this.startNewLine(),et=ft[0],multilineVars.start_new_line=!1)),ft=letter_to_spacer(_e,et),ft[0]>0&&(et+=ft[0]),ft=letter_to_chord(_e,et),ft[0]>0){el.chord||(el.chord=[]);var dt=tokenizer.translateString(ft[1]);dt=dt.replace(/;/g,`
`);for(var lt=!1,at=0;at<el.chord.length;at++)el.chord[at].position===ft[2]&&(lt=!0,el.chord[at].name+=`
`+dt);lt===!1&&(ft[2]===null&&ft[3]?el.chord.push({name:dt,rel_position:ft[3]}):el.chord.push({name:dt,position:ft[2]})),et+=ft[0];var ct=tokenizer.skipWhiteSpace(_e.substring(et));ct>0&&(el.force_end_beam_last=!0),et+=ct}else if(nonDecorations.indexOf(_e[et])===-1?ft=letter_to_accent(_e,et):ft=[0],ft[0]>0)ft[1]===null?et+1<_e.length&&this.startNewLine():ft[1].length>0&&(ft[1].indexOf("style=")===0?el.style=ft[1].substr(6):(el.decoration===void 0&&(el.decoration=[]),ft[1]==="beambr1"?el.beambr=1:ft[1]==="beambr2"?el.beambr=2:el.decoration.push(ft[1]))),et+=ft[0];else if(ft=letter_to_grace(_e,et),ft[0]>0)el.gracenotes=ft[1],et+=ft[0];else break;if(ft=letter_to_bar(_e,et),ft[0]>0){ot=0,el.gracenotes!==void 0&&(el.rest={type:"spacer"},el.duration=.125,multilineVars.addFormattingOptions(el,tune.formatting,"note"),tuneBuilder$1.appendElement("note",tt+et,tt+et+ft[0],el),multilineVars.measureNotEmpty=!0,el={});var ht={type:ft[1]};if(ht.type.length===0)warn("Unknown bar type",_e,et);else{if(multilineVars.inEnding&&ht.type!=="bar_thin"&&(ht.endEnding=!0,multilineVars.inEnding=!1),ft[2]&&(ht.startEnding=ft[2],multilineVars.inEnding&&(ht.endEnding=!0),multilineVars.inEnding=!0,ft[1]==="bar_right_repeat"?multilineVars.restoreStartEndingHoldOvers():multilineVars.duplicateStartEndingHoldOvers()),el.decoration!==void 0&&(ht.decoration=el.decoration),el.chord!==void 0&&(ht.chord=el.chord),ht.startEnding&&multilineVars.barFirstEndingNum===void 0?multilineVars.barFirstEndingNum=multilineVars.currBarNumber:ht.startEnding&&ht.endEnding&&multilineVars.barFirstEndingNum?multilineVars.currBarNumber=multilineVars.barFirstEndingNum:ht.endEnding&&(multilineVars.barFirstEndingNum=void 0),ht.type!=="bar_invisible"&&multilineVars.measureNotEmpty){var pt=multilineVars.currentVoice===void 0||multilineVars.currentVoice.staffNum===0&&multilineVars.currentVoice.index===0;pt&&(multilineVars.currBarNumber++,multilineVars.barNumbers&&multilineVars.currBarNumber%multilineVars.barNumbers===0&&(ht.barNumber=multilineVars.currBarNumber))}multilineVars.addFormattingOptions(el,tune.formatting,"bar"),tuneBuilder$1.appendElement("bar",tt+st,tt+et+ft[0],ht),multilineVars.measureNotEmpty=!1,el={}}et+=ft[0]}else if(_e[et]==="&")ft=letter_to_overlay(_e,et),ft[0]>0&&(tuneBuilder$1.appendElement("overlay",tt,tt+1,{}),et+=1,ot++);else{if(ft=letter_to_open_slurs_and_triplets(_e,et),ft.consumed>0&&(ft.startSlur!==void 0&&(el.startSlur=ft.startSlur),ft.dottedSlur&&(el.dottedSlur=!0),ft.triplet!==void 0&&(rt>0?warn("Can't nest triplets",_e,et):(el.startTriplet=ft.triplet,el.tripletMultiplier=ft.tripletQ/ft.triplet,el.tripletR=ft.num_notes,rt=ft.num_notes===void 0?ft.triplet:ft.num_notes)),et+=ft.consumed),_e[et]==="["){et++;for(var mt=null,gt=!1,yt=!1;!yt;){var bt=letter_to_accent(_e,et);bt[0]>0&&(et+=bt[0]);var xt=getCoreNote(_e,et,{},!1);if(xt!==null&&xt.pitch!==void 0)bt[0]>0&&bt[1].indexOf("style=")!==0&&(el.decoration===void 0&&(el.decoration=[]),el.decoration.push(bt[1])),xt.end_beam&&(el.end_beam=!0,delete xt.end_beam),el.pitches===void 0?(el.duration=xt.duration,el.pitches=[xt]):el.pitches.push(xt),delete xt.duration,bt[0]>0&&bt[1].indexOf("style=")===0&&(el.pitches[el.pitches.length-1].style=bt[1].substr(6)),multilineVars.inTieChord[el.pitches.length]&&(xt.endTie=!0,multilineVars.inTieChord[el.pitches.length]=void 0),xt.startTie&&(multilineVars.inTieChord[el.pitches.length]=!0),et=xt.endChar,delete xt.endChar;else if(_e[et]===" ")warn("Spaces are not allowed in chords",_e,et),et++;else{if(et<_e.length&&_e[et]==="]"){et++,multilineVars.next_note_duration!==0&&(el.duration=el.duration*multilineVars.next_note_duration,multilineVars.next_note_duration=0),isInTie(multilineVars,ot,el)&&(el.pitches.forEach(function(jt){jt.endTie=!0}),setIsInTie(multilineVars,ot,!1)),rt>0&&!(el.rest&&el.rest.type==="spacer")&&(rt--,rt===0&&(el.endTriplet=!0));for(var vt=!1;et<_e.length&&!vt;){switch(_e[et]){case" ":case"	":addEndBeam(el);break;case")":el.endSlur===void 0?el.endSlur=1:el.endSlur++;break;case"-":el.pitches.forEach(function(jt){jt.startTie={}}),setIsInTie(multilineVars,ot,!0);break;case">":case"<":var wt=getBrokenRhythm(_e,et);et+=wt[0]-1,multilineVars.next_note_duration=wt[2],mt?mt=mt*wt[1]:mt=wt[1];break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"/":var _t=tokenizer.getFraction(_e,et);mt=_t.value,et=_t.index;var Ct=_e[et];Ct===" "&&(gt=!0),Ct==="-"||Ct===")"||Ct===" "||Ct==="<"||Ct===">"?et--:vt=!0;break;default:vt=!0;break}vt||et++}}else warn("Expected ']' to end the chords",_e,et);el.pitches!==void 0&&(mt!==null&&(el.duration=el.duration*mt,gt&&addEndBeam(el)),multilineVars.addFormattingOptions(el,tune.formatting,"note"),tuneBuilder$1.appendElement("note",tt+st,tt+et,el),multilineVars.measureNotEmpty=!0,el={}),yt=!0}}}else{var Et={},$t=getCoreNote(_e,et,Et,!0);Et.endTie!==void 0&&setIsInTie(multilineVars,ot,!0),$t!==null&&($t.pitch!==void 0?(el.pitches=[{}],$t.accidental!==void 0&&(el.pitches[0].accidental=$t.accidental),el.pitches[0].pitch=$t.pitch,el.pitches[0].name=$t.name,($t.midipitch||$t.midipitch===0)&&(el.pitches[0].midipitch=$t.midipitch),$t.endSlur!==void 0&&(el.pitches[0].endSlur=$t.endSlur),$t.endTie!==void 0&&(el.pitches[0].endTie=$t.endTie),$t.startSlur!==void 0&&(el.pitches[0].startSlur=$t.startSlur),el.startSlur!==void 0&&(el.pitches[0].startSlur=el.startSlur),el.dottedSlur!==void 0&&(el.pitches[0].dottedSlur=!0),$t.startTie!==void 0&&(el.pitches[0].startTie=$t.startTie),el.startTie!==void 0&&(el.pitches[0].startTie=el.startTie)):(el.rest=$t.rest,$t.endSlur!==void 0&&(el.endSlur=$t.endSlur),$t.endTie!==void 0&&(el.rest.endTie=$t.endTie),$t.startSlur!==void 0&&(el.startSlur=$t.startSlur),$t.startTie!==void 0&&(el.rest.startTie=$t.startTie),el.startTie!==void 0&&(el.rest.startTie=el.startTie)),$t.chord!==void 0&&(el.chord=$t.chord),$t.duration!==void 0&&(el.duration=$t.duration),$t.decoration!==void 0&&(el.decoration=$t.decoration),$t.graceNotes!==void 0&&(el.graceNotes=$t.graceNotes),delete el.startSlur,delete el.dottedSlur,isInTie(multilineVars,ot,el)&&(el.pitches!==void 0?el.pitches[0].endTie=!0:el.rest.type!=="spacer"&&(el.rest.endTie=!0),setIsInTie(multilineVars,ot,!1)),($t.startTie||el.startTie)&&setIsInTie(multilineVars,ot,!0),et=$t.endChar,rt>0&&!($t.rest&&$t.rest.type==="spacer")&&(rt--,rt===0&&(el.endTriplet=!0)),$t.end_beam&&addEndBeam(el),el.rest&&el.rest.type==="rest"&&el.duration===1&&durationOfMeasure(multilineVars)<=1&&(el.rest.type="whole",el.duration=durationOfMeasure(multilineVars)),el.duration<1&&durations.indexOf(el.duration)===-1&&el.duration!==0&&(!el.rest||el.rest.type!=="spacer")&&warn("Duration not representable: "+_e.substring(st,et),_e,et),multilineVars.addFormattingOptions(el,tune.formatting,"note"),tuneBuilder$1.appendElement("note",tt+st,tt+et,el),multilineVars.measureNotEmpty=!0,el={})}et===st&&(_e[et]!==" "&&_e[et]!=="`"&&warn("Unknown character ignored",_e,et),et++)}}}this.lineContinuation=_e.indexOf("")>=0||it[0]>0,this.lineContinuation||(el={})}};var setIsInTie=function(_e,et,tt){var nt=_e.currentVoice?_e.currentVoice.staffNum*100+_e.currentVoice.index:0;_e.inTie[et]===void 0&&(_e.inTie[et]=[]),_e.inTie[et][nt]=tt},letter_to_chord=function(_e,et){if(_e[et]==='"'){var tt=tokenizer.getBrackettedSubstring(_e,et,5);if(tt[2]||warn("Missing the closing quote while parsing the chord symbol",_e,et),tt[0]>0&&tt[1].length>0&&tt[1][0]==="^")tt[1]=tt[1].substring(1),tt[2]="above";else if(tt[0]>0&&tt[1].length>0&&tt[1][0]==="_")tt[1]=tt[1].substring(1),tt[2]="below";else if(tt[0]>0&&tt[1].length>0&&tt[1][0]==="<")tt[1]=tt[1].substring(1),tt[2]="left";else if(tt[0]>0&&tt[1].length>0&&tt[1][0]===">")tt[1]=tt[1].substring(1),tt[2]="right";else if(tt[0]>0&&tt[1].length>0&&tt[1][0]==="@"){tt[1]=tt[1].substring(1);var nt=tokenizer.getFloat(tt[1]);nt.digits===0&&warn("Missing first position in absolutely positioned annotation.",_e,et),tt[1]=tt[1].substring(nt.digits),tt[1][0]!==","&&warn("Missing comma absolutely positioned annotation.",_e,et),tt[1]=tt[1].substring(1);var rt=tokenizer.getFloat(tt[1]);rt.digits===0&&warn("Missing second position in absolutely positioned annotation.",_e,et),tt[1]=tt[1].substring(rt.digits);var it=tokenizer.skipWhiteSpace(tt[1]);tt[1]=tt[1].substring(it),tt[2]=null,tt[3]={x:nt.value,y:rt.value}}else multilineVars.freegchord!==!0&&(tt[1]=tt[1].replace(/([ABCDEFG0-9])b/g,"$1"),tt[1]=tt[1].replace(/([ABCDEFG0-9])#/g,"$1"),tt[1]=tt[1].replace(/^([ABCDEFG])([]?)o([^A-Za-z])/g,"$1$2$3"),tt[1]=tt[1].replace(/^([ABCDEFG])([]?)o$/g,"$1$2"),tt[1]=tt[1].replace(/^([ABCDEFG])([]?)0([^A-Za-z])/g,"$1$2$3"),tt[1]=tt[1].replace(/^([ABCDEFG])([]?)\^([^A-Za-z])/g,"$1$2$3")),tt[2]="default",tt[1]=transpose$1.chordName(multilineVars,tt[1]);return tt}return[0,""]},letter_to_grace=function(_e,et){if(_e[et]==="{"){var tt=tokenizer.getBrackettedSubstring(_e,et,1,"}");tt[2]||warn("Missing the closing '}' while parsing grace note",_e,et),_e[et+tt[0]]===")"&&(tt[0]++,tt[1]+=")");for(var nt=[],rt=0,it=!1;rt<tt[1].length;){var ot=!1;tt[1][rt]==="/"&&(ot=!0,rt++);var st=getCoreNote(tt[1],rt,{},!1);st!==null?(st.duration=st.duration/(multilineVars.default_length*8),ot&&(st.acciaccatura=!0),nt.push(st),it&&(st.endTie=!0,it=!1),st.startTie&&(it=!0),rt=st.endChar,delete st.endChar,st.end_beam&&(st.endBeam=!0,delete st.end_beam)):(tt[1][rt]===" "?nt.length>0&&(nt[nt.length-1].endBeam=!0):warn("Unknown character '"+tt[1][rt]+"' while parsing grace note",_e,et),rt++)}if(nt.length)return[tt[0],nt]}return[0]};function letter_to_overlay(_e,et){if(_e[et]==="&"){for(var tt=et;_e[et]&&_e[et]!==":"&&_e[et]!=="|";)et++;return[et-tt,_e.substring(tt+1,et)]}return[0]}function durationOfMeasure(_e){var et=_e.origMeter;return!et||et.type!=="specified"||!et.value||et.value.length===0?1:parseInt(et.value[0].num,10)/parseInt(et.value[0].den,10)}var letter_to_accent=function(_e,et){var tt=multilineVars.macros[_e[et]];if(tt!==void 0)return(tt[0]==="!"||tt[0]==="+")&&(tt=tt.substring(1)),(tt[tt.length-1]==="!"||tt[tt.length-1]==="+")&&(tt=tt.substring(0,tt.length-1)),legalAccents.includes(tt)?[1,tt]:volumeDecorations.includes(tt)?(multilineVars.volumePosition==="hidden"&&(tt=""),[1,tt]):dynamicDecorations.includes(tt)?(multilineVars.dynamicPosition==="hidden"&&(tt=""),[1,tt]):(multilineVars.ignoredDecorations.includes(tt)||warn("Unknown macro: "+tt,_e,et),[1,""]);switch(_e[et]){case".":if(_e[et+1]==="("||_e[et+1]==="-")break;return[1,"staccato"];case"u":return[1,"upbow"];case"v":return[1,"downbow"];case"~":return[1,"irishroll"];case"!":case"+":var nt=tokenizer.getBrackettedSubstring(_e,et,5);if(nt[1].length>1&&(nt[1][0]==="^"||nt[1][0]==="_")&&(nt[1]=nt[1].substring(1)),legalAccents.includes(nt[1]))return nt;if(volumeDecorations.includes(nt[1]))return multilineVars.volumePosition==="hidden"&&(nt[1]=""),nt;if(dynamicDecorations.includes(nt[1]))return multilineVars.dynamicPosition==="hidden"&&(nt[1]=""),nt;var rt=accentPseudonyms.findIndex(function(it){return nt[1]===it[0]});return rt>=0?(nt[1]=accentPseudonyms[rt][1],nt):(rt=accentDynamicPseudonyms.findIndex(function(it){return nt[1]===it[0]}),rt>=0?(nt[1]=accentDynamicPseudonyms[rt][1],multilineVars.dynamicPosition==="hidden"&&(nt[1]=""),nt):_e[et]==="!"&&(nt[0]===1||_e[et+nt[0]-1]!=="!")?[1,null]:(warn("Unknown decoration: "+nt[1],_e,et),nt[1]="",nt));case"H":return[1,"fermata"];case"J":return[1,"slide"];case"L":return[1,"accent"];case"M":return[1,"mordent"];case"O":return[1,"coda"];case"P":return[1,"pralltriller"];case"R":return[1,"roll"];case"S":return[1,"segno"];case"T":return[1,"trill"]}return[0,0]},letter_to_spacer=function(_e,et){for(var tt=et;tokenizer.isWhiteSpace(_e[et]);)et++;return[et-tt]},letter_to_bar=function(_e,et){var tt=tokenizer.getBarLine(_e,et);if(tt.len===0)return[0,""];if(tt.warn)return warn(tt.warn,_e,et),[tt.len,""];for(var nt=0;nt<_e.length&&_e[et+tt.len+nt]===" ";nt++);var rt=tt.len;if(_e[et+tt.len+nt]==="["&&(tt.len+=nt+1),_e[et+tt.len]==='"'&&_e[et+tt.len-1]==="["){var it=tokenizer.getBrackettedSubstring(_e,et+tt.len,5);return[tt.len+it[0],tt.token,it[1]]}var ot=tokenizer.getTokenOf(_e.substring(et+tt.len),"1234567890-,");return ot.len===0||ot.token[0]==="-"?[rt,tt.token]:[tt.len+ot.len,tt.token,ot.token]},letter_to_open_slurs_and_triplets=function(_e,et){var tt={},nt=et;for(_e[et]==="."&&_e[et+1]==="("&&(tt.dottedSlur=!0,et++);_e[et]==="("||tokenizer.isWhiteSpace(_e[et]);)_e[et]==="("&&(et+1<_e.length&&_e[et+1]>="2"&&_e[et+1]<="9"?(tt.triplet!==void 0?warn("Can't nest triplets",_e,et):(tt.triplet=_e[et+1]-"0",tt.tripletQ=tripletQ[tt.triplet],tt.num_notes=tt.triplet,et+2<_e.length&&_e[et+2]===":"&&(et+3<_e.length&&_e[et+3]===":"?et+4<_e.length&&_e[et+4]>="1"&&_e[et+4]<="9"?(tt.num_notes=_e[et+4]-"0",et+=3):warn("expected number after the two colons after the triplet to mark the duration",_e,et):et+3<_e.length&&_e[et+3]>="1"&&_e[et+3]<="9"?(tt.tripletQ=_e[et+3]-"0",et+4<_e.length&&_e[et+4]===":"?et+5<_e.length&&_e[et+5]>="1"&&_e[et+5]<="9"&&(tt.num_notes=_e[et+5]-"0",et+=4):et+=2):warn("expected number after the triplet to mark the duration",_e,et))),et++):tt.startSlur===void 0?tt.startSlur=1:tt.startSlur++),et++;return tt.consumed=et-nt,tt};MusicParser.prototype.startNewLine=function(){var _e={startChar:-1,endChar:-1};multilineVars.partForNextLine.title&&(_e.part=multilineVars.partForNextLine),_e.clef=multilineVars.currentVoice&&multilineVars.staves[multilineVars.currentVoice.staffNum].clef!==void 0?parseCommon$a.clone(multilineVars.staves[multilineVars.currentVoice.staffNum].clef):parseCommon$a.clone(multilineVars.clef);var et=multilineVars.currentVoice?multilineVars.currentVoice.scoreTranspose:0;if(_e.key=parseKeyVoice$1.standardKey(multilineVars.key.root+multilineVars.key.acc+multilineVars.key.mode,multilineVars.key.root,multilineVars.key.acc,et),_e.key.mode=multilineVars.key.mode,multilineVars.key.impliedNaturals&&(_e.key.impliedNaturals=multilineVars.key.impliedNaturals),multilineVars.key.explicitAccidentals)for(var tt=0;tt<multilineVars.key.explicitAccidentals.length;tt++){for(var nt=!1,rt=0;rt<_e.key.accidentals.length;rt++)_e.key.accidentals[rt].note===multilineVars.key.explicitAccidentals[tt].note&&(_e.key.accidentals[rt].acc=multilineVars.key.explicitAccidentals[tt].acc,nt=!0);nt||_e.key.accidentals.push(multilineVars.key.explicitAccidentals[tt])}if(multilineVars.targetKey=_e.key,_e.key.explicitAccidentals&&delete _e.key.explicitAccidentals,parseKeyVoice$1.addPosToKey(_e.clef,_e.key),multilineVars.meter!==null?(multilineVars.currentVoice?(multilineVars.staves.forEach(function(st){st.meter=multilineVars.meter}),_e.meter=multilineVars.staves[multilineVars.currentVoice.staffNum].meter,multilineVars.staves[multilineVars.currentVoice.staffNum].meter=null):_e.meter=multilineVars.meter,multilineVars.meter=null):multilineVars.currentVoice&&multilineVars.staves[multilineVars.currentVoice.staffNum].meter&&(_e.meter=multilineVars.staves[multilineVars.currentVoice.staffNum].meter,multilineVars.staves[multilineVars.currentVoice.staffNum].meter=null),multilineVars.currentVoice&&multilineVars.currentVoice.name&&(_e.name=multilineVars.currentVoice.name),multilineVars.vocalfont&&(_e.vocalfont=multilineVars.vocalfont),multilineVars.tripletfont&&(_e.tripletfont=multilineVars.tripletfont),multilineVars.gchordfont&&(_e.gchordfont=multilineVars.gchordfont),multilineVars.style&&(_e.style=multilineVars.style),multilineVars.currentVoice){var it=multilineVars.staves[multilineVars.currentVoice.staffNum];it.brace&&(_e.brace=it.brace),it.bracket&&(_e.bracket=it.bracket),it.connectBarLines&&(_e.connectBarLines=it.connectBarLines),it.name&&(_e.name=it.name[multilineVars.currentVoice.index]),it.subname&&(_e.subname=it.subname[multilineVars.currentVoice.index]),multilineVars.currentVoice.stem&&(_e.stem=multilineVars.currentVoice.stem),multilineVars.currentVoice.stafflines&&(_e.stafflines=multilineVars.currentVoice.stafflines),multilineVars.currentVoice.staffscale&&(_e.staffscale=multilineVars.currentVoice.staffscale),multilineVars.currentVoice.scale&&(_e.scale=multilineVars.currentVoice.scale),multilineVars.currentVoice.color&&(_e.color=multilineVars.currentVoice.color),multilineVars.currentVoice.style&&(_e.style=multilineVars.currentVoice.style),multilineVars.currentVoice.transpose&&(_e.clef.transpose=multilineVars.currentVoice.transpose)}var ot=multilineVars.currentVoice===void 0||multilineVars.currentVoice.staffNum===0&&multilineVars.currentVoice.index===0;multilineVars.barNumbers===0&&ot&&multilineVars.currBarNumber!==1&&(_e.barNumber=multilineVars.currBarNumber),tuneBuilder$1.startNewLine(_e),multilineVars.key.impliedNaturals&&delete multilineVars.key.impliedNaturals,multilineVars.partForNextLine={},multilineVars.tempoForNextLine.length===4&&tuneBuilder$1.appendElement(multilineVars.tempoForNextLine[0],multilineVars.tempoForNextLine[1],multilineVars.tempoForNextLine[2],multilineVars.tempoForNextLine[3]),multilineVars.tempoForNextLine=[]};var addEndBeam=function(_e){return _e.duration!==void 0&&_e.duration<.25&&(_e.end_beam=!0),_e},getCoreNote=function(_e,et,tt,nt){var rt=function(at){return at==="octave"||at==="duration"||at==="Zduration"||at==="broken_rhythm"||at==="end_slur"},it;_e[et]==="."&&_e[et+1]==="-"&&(it=!0,et++);for(var ot="startSlur",st=!1;;){switch(_e[et]){case"(":if(ot==="startSlur")tt.startSlur===void 0?tt.startSlur=1:tt.startSlur++;else return rt(ot)?(tt.endChar=et,tt):null;break;case")":if(rt(ot))tt.endSlur===void 0?tt.endSlur=1:tt.endSlur++;else return null;break;case"^":if(ot==="startSlur")tt.accidental="sharp",ot="sharp2";else if(ot==="sharp2")tt.accidental="dblsharp",ot="pitch";else return rt(ot)?(tt.endChar=et,tt):null;break;case"_":if(ot==="startSlur")tt.accidental="flat",ot="flat2";else if(ot==="flat2")tt.accidental="dblflat",ot="pitch";else return rt(ot)?(tt.endChar=et,tt):null;break;case"=":if(ot==="startSlur")tt.accidental="natural",ot="pitch";else return rt(ot)?(tt.endChar=et,tt):null;break;case"A":case"B":case"C":case"D":case"E":case"F":case"G":case"a":case"b":case"c":case"d":case"e":case"f":case"g":if(ot==="startSlur"||ot==="sharp2"||ot==="flat2"||ot==="pitch"){if(tt.pitch=pitches[_e[et]],tt.pitch+=7*(multilineVars.currentVoice&&multilineVars.currentVoice.octave!==void 0?multilineVars.currentVoice.octave:multilineVars.octave),tt.name=_e[et],tt.accidental&&(tt.name=accMap[tt.accidental]+tt.name),transpose$1.note(multilineVars,tt),ot="octave",nt&&multilineVars.next_note_duration!==0?(tt.duration=multilineVars.default_length*multilineVars.next_note_duration,multilineVars.next_note_duration=0,st=!0):tt.duration=multilineVars.default_length,multilineVars.clef&&multilineVars.clef.type==="perc"||multilineVars.currentVoice&&multilineVars.currentVoice.clef==="perc"){var ut=_e[et];tt.accidental&&(ut=accMap[tt.accidental]+ut),tune.formatting&&tune.formatting.midi&&tune.formatting.midi.drummap&&(tt.midipitch=tune.formatting.midi.drummap[ut])}}else return rt(ot)?(tt.endChar=et,tt):null;break;case",":if(ot==="octave")tt.pitch-=7,tt.name+=",";else return rt(ot)?(tt.endChar=et,tt):null;break;case"'":if(ot==="octave")tt.pitch+=7,tt.name+="'";else return rt(ot)?(tt.endChar=et,tt):null;break;case"x":case"X":case"y":case"z":case"Z":if(ot==="startSlur")tt.rest={type:rests[_e[et]]},delete tt.accidental,delete tt.startSlur,delete tt.startTie,delete tt.endSlur,delete tt.endTie,delete tt.end_beam,delete tt.grace_notes,tt.rest.type.indexOf("multimeasure")>=0?(tt.duration=tune.getBarLength(),tt.rest.text=1,ot="Zduration"):(nt&&multilineVars.next_note_duration!==0?(tt.duration=multilineVars.default_length*multilineVars.next_note_duration,multilineVars.next_note_duration=0,st=!0):tt.duration=multilineVars.default_length,ot="duration");else return rt(ot)?(tt.endChar=et,tt):null;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"0":case"/":if(ot==="octave"||ot==="duration"){var ft=tokenizer.getFraction(_e,et);for(tt.duration=tt.duration*ft.value,tt.endChar=ft.index;ft.index<_e.length&&(tokenizer.isWhiteSpace(_e[ft.index])||_e[ft.index]==="-");)_e[ft.index]==="-"?tt.startTie={}:tt=addEndBeam(tt),ft.index++;et=ft.index-1,ot="broken_rhythm"}else if(ot==="sharp2")tt.accidental="quartersharp",ot="pitch";else if(ot==="flat2")tt.accidental="quarterflat",ot="pitch";else if(ot==="Zduration"){var dt=tokenizer.getNumber(_e,et);return tt.duration=dt.num*tune.getBarLength(),tt.rest.text=dt.num,tt.endChar=dt.index,tt}else return null;break;case"-":if(ot==="startSlur")tuneBuilder$1.addTieToLastNote(it),tt.endTie=!0;else if(ot==="octave"||ot==="duration"||ot==="end_slur")if(tt.startTie={},!st&&nt)ot="broken_rhythm";else return tokenizer.isWhiteSpace(_e[et+1])&&addEndBeam(tt),tt.endChar=et+1,tt;else return ot==="broken_rhythm"?(tt.endChar=et,tt):null;break;case" ":case"	":if(rt(ot)){tt.end_beam=!0,it=!1;do _e[et]==="."&&_e[et+1]==="-"&&(it=!0,et++),_e[et]==="-"&&(tt.startTie={},it&&(tt.startTie.style="dotted")),et++;while(et<_e.length&&(tokenizer.isWhiteSpace(_e[et])||_e[et]==="-")||_e[et]==="."&&_e[et+1]==="-");if(tt.endChar=et,!st&&nt&&(_e[et]==="<"||_e[et]===">"))et--,ot="broken_rhythm";else return tt}else return null;break;case">":case"<":if(rt(ot))if(nt){var lt=getBrokenRhythm(_e,et);et+=lt[0]-1,multilineVars.next_note_duration=lt[2],tt.duration=lt[1]*tt.duration,ot="end_slur"}else return tt.endChar=et,tt;else return null;break;default:return rt(ot)?(tt.endChar=et,tt):null}if(et++,et===_e.length)return rt(ot)?(tt.endChar=et,tt):null}return null},getBrokenRhythm=function(_e,et){switch(_e[et]){case">":return et<_e.length-2&&_e[et+1]===">"&&_e[et+2]===">"?[3,1.875,.125]:et<_e.length-1&&_e[et+1]===">"?[2,1.75,.25]:[1,1.5,.5];case"<":return et<_e.length-2&&_e[et+1]==="<"&&_e[et+2]==="<"?[3,.125,1.875]:et<_e.length-1&&_e[et+1]==="<"?[2,.25,1.75]:[1,.5,1.5]}return null},abc_parse_music=MusicParser,parseCommon$9=abc_common,Tokenizer$1=function(_e,et){this.lineIndex=0,this.lines=_e,this.multilineVars=et,this.skipWhiteSpace=function(lt){for(var at=0;at<lt.length;at++)if(!this.isWhiteSpace(lt[at]))return at;return lt.length};var tt=function(lt,at){return at>=lt.length};this.eatWhiteSpace=function(lt,at){for(var ct=at;ct<lt.length;ct++)if(!this.isWhiteSpace(lt[ct]))return ct-at;return ct-at},this.getKeyPitch=function(lt){var at=this.skipWhiteSpace(lt);if(tt(lt,at))return{len:0};switch(lt[at]){case"A":return{len:at+1,token:"A"};case"B":return{len:at+1,token:"B"};case"C":return{len:at+1,token:"C"};case"D":return{len:at+1,token:"D"};case"E":return{len:at+1,token:"E"};case"F":return{len:at+1,token:"F"};case"G":return{len:at+1,token:"G"}}return{len:0}},this.getSharpFlat=function(lt){if(lt==="bass")return{len:0};switch(lt[0]){case"#":return{len:1,token:"#"};case"b":return{len:1,token:"b"}}return{len:0}},this.getMode=function(lt){var at=function(pt,mt){for(;mt<pt.length&&(pt[mt]>="a"&&pt[mt]<="z"||pt[mt]>="A"&&pt[mt]<="Z");)mt++;return mt},ct=this.skipWhiteSpace(lt);if(tt(lt,ct))return{len:0};var ht=lt.substring(ct,ct+3).toLowerCase();switch((ht.length>1&&ht[1]===" "||ht[1]==="^"||ht[1]==="_"||ht[1]==="=")&&(ht=ht[0]),ht){case"mix":return{len:at(lt,ct),token:"Mix"};case"dor":return{len:at(lt,ct),token:"Dor"};case"phr":return{len:at(lt,ct),token:"Phr"};case"lyd":return{len:at(lt,ct),token:"Lyd"};case"loc":return{len:at(lt,ct),token:"Loc"};case"aeo":return{len:at(lt,ct),token:"m"};case"maj":return{len:at(lt,ct),token:""};case"ion":return{len:at(lt,ct),token:""};case"min":return{len:at(lt,ct),token:"m"};case"m":return{len:at(lt,ct),token:"m"}}return{len:0}},this.getClef=function(lt,at){var ct=lt,ht=this.skipWhiteSpace(lt);if(tt(lt,ht))return{len:0};var pt=!1,mt=lt.substring(ht);if(parseCommon$9.startsWith(mt,"clef=")&&(pt=!0,mt=mt.substring(5),ht+=5),mt.length===0&&pt)return{len:ht+5,warn:"No clef specified: "+ct};var gt=this.skipWhiteSpace(mt);if(tt(mt,gt))return{len:0};gt>0&&(ht+=gt,mt=mt.substring(gt));var yt=null;if(parseCommon$9.startsWith(mt,"treble"))yt="treble";else if(parseCommon$9.startsWith(mt,"bass3"))yt="bass3";else if(parseCommon$9.startsWith(mt,"bass"))yt="bass";else if(parseCommon$9.startsWith(mt,"tenor"))yt="tenor";else if(parseCommon$9.startsWith(mt,"alto2"))yt="alto2";else if(parseCommon$9.startsWith(mt,"alto1"))yt="alto1";else if(parseCommon$9.startsWith(mt,"alto"))yt="alto";else if(!at&&pt&&parseCommon$9.startsWith(mt,"none"))yt="none";else if(parseCommon$9.startsWith(mt,"perc"))yt="perc";else if(!at&&pt&&parseCommon$9.startsWith(mt,"C"))yt="tenor";else if(!at&&pt&&parseCommon$9.startsWith(mt,"F"))yt="bass";else if(!at&&pt&&parseCommon$9.startsWith(mt,"G"))yt="treble";else return{len:ht+5,warn:"Unknown clef specified: "+ct};return mt=mt.substring(yt.length),gt=this.isMatch(mt,"+8"),gt>0?yt+="+8":(gt=this.isMatch(mt,"-8"),gt>0&&(yt+="-8")),{len:ht+yt.length,token:yt,explicit:pt}},this.getBarLine=function(lt,at){switch(lt[at]){case"]":switch(++at,lt[at]){case"|":return{len:2,token:"bar_thick_thin"};case"[":return++at,lt[at]>="1"&&lt[at]<="9"||lt[at]==='"'?{len:2,token:"bar_invisible"}:{len:1,warn:"Unknown bar symbol"};default:return{len:1,token:"bar_invisible"}}case":":switch(++at,lt[at]){case":":return{len:2,token:"bar_dbl_repeat"};case"|":switch(++at,lt[at]){case"]":switch(++at,lt[at]){case"|":return++at,lt[at]===":"?{len:5,token:"bar_dbl_repeat"}:{len:3,token:"bar_right_repeat"};default:return{len:3,token:"bar_right_repeat"}}case"|":return++at,lt[at]===":"?{len:4,token:"bar_dbl_repeat"}:{len:3,token:"bar_right_repeat"};default:return{len:2,token:"bar_right_repeat"}}default:return{len:1,warn:"Unknown bar symbol"}}case"[":if(++at,lt[at]==="|")switch(++at,lt[at]){case":":return{len:3,token:"bar_left_repeat"};case"]":return{len:3,token:"bar_invisible"};default:return{len:2,token:"bar_thick_thin"}}else return lt[at]>="1"&&lt[at]<="9"||lt[at]==='"'?{len:1,token:"bar_invisible"}:{len:0};case"|":switch(++at,lt[at]){case"]":return{len:2,token:"bar_thin_thick"};case"|":return++at,lt[at]===":"?{len:3,token:"bar_left_repeat"}:{len:2,token:"bar_thin_thin"};case":":for(var ct=0;lt[at+ct]===":";)ct++;return{len:1+ct,token:"bar_left_repeat"};default:return{len:1,token:"bar_thin"}}}return{len:0}},this.getTokenOf=function(lt,at){for(var ct=0;ct<lt.length;ct++)if(at.indexOf(lt[ct])<0)return{len:ct,token:lt.substring(0,ct)};return{len:ct,token:lt}},this.getToken=function(lt,at,ct){for(var ht=at;ht<ct&&!this.isWhiteSpace(lt[ht]);)ht++;return lt.substring(at,ht)},this.isMatch=function(lt,at){var ct=this.skipWhiteSpace(lt);return tt(lt,ct)?0:parseCommon$9.startsWith(lt.substring(ct),at)?ct+at.length:0},this.getPitchFromTokens=function(lt){var at={},ct={A:5,B:6,C:0,D:1,E:2,F:3,G:4,a:12,b:13,c:7,d:8,e:9,f:10,g:11};if(at.position=ct[lt[0].token],at.position===void 0)return{warn:"Pitch expected. Found: "+lt[0].token};for(lt.shift();lt.length;)switch(lt[0].token){case",":at.position-=7,lt.shift();break;case"'":at.position+=7,lt.shift();break;default:return at}return at},this.getKeyAccidentals2=function(lt){for(var at;lt.length>0;){var ct;if(lt[0].token==="^"){if(ct="sharp",lt.shift(),lt.length===0)return{accs:at,warn:"Expected note name after "+ct};switch(lt[0].token){case"^":ct="dblsharp",lt.shift();break;case"/":ct="quartersharp",lt.shift();break}}else if(lt[0].token==="=")ct="natural",lt.shift();else if(lt[0].token==="_"){if(ct="flat",lt.shift(),lt.length===0)return{accs:at,warn:"Expected note name after "+ct};switch(lt[0].token){case"_":ct="dblflat",lt.shift();break;case"/":ct="quarterflat",lt.shift();break}}else return{accs:at};if(lt.length===0)return{accs:at,warn:"Expected note name after "+ct};switch(lt[0].token[0]){case"a":case"b":case"c":case"d":case"e":case"f":case"g":case"A":case"B":case"C":case"D":case"E":case"F":case"G":at===void 0&&(at=[]),at.push({acc:ct,note:lt[0].token[0]}),lt[0].token.length===1?lt.shift():lt[0].token=lt[0].token.substring(1);break;default:return{accs:at,warn:"Expected note name after "+ct+" Found: "+lt[0].token}}}return{accs:at}},this.getKeyAccidental=function(lt){var at={"^":"sharp","^^":"dblsharp","=":"natural",_:"flat",__:"dblflat","_/":"quarterflat","^/":"quartersharp"},ct=this.skipWhiteSpace(lt);if(tt(lt,ct))return{len:0};var ht=null;switch(lt[ct]){case"^":case"_":case"=":ht=lt[ct];break;default:return{len:0}}if(ct++,tt(lt,ct))return{len:1,warn:"Expected note name after accidental"};switch(lt[ct]){case"a":case"b":case"c":case"d":case"e":case"f":case"g":case"A":case"B":case"C":case"D":case"E":case"F":case"G":return{len:ct+1,token:{acc:at[ht],note:lt[ct]}};case"^":case"_":case"/":if(ht+=lt[ct],ct++,tt(lt,ct))return{len:2,warn:"Expected note name after accidental"};switch(lt[ct]){case"a":case"b":case"c":case"d":case"e":case"f":case"g":case"A":case"B":case"C":case"D":case"E":case"F":case"G":return{len:ct+1,token:{acc:at[ht],note:lt[ct]}};default:return{len:2,warn:"Expected note name after accidental"}}break;default:return{len:1,warn:"Expected note name after accidental"}}},this.isWhiteSpace=function(lt){return lt===" "||lt==="	"||lt===""},this.getMeat=function(lt,at,ct){var ht=lt.indexOf("%",at);for(ht>=0&&ht<ct&&(ct=ht);at<ct&&(lt[at]===" "||lt[at]==="	"||lt[at]==="");)at++;for(;at<ct&&(lt[ct-1]===" "||lt[ct-1]==="	"||lt[ct-1]==="");)ct--;return{start:at,end:ct}};var nt=function(lt){return lt>="A"&&lt<="Z"||lt>="a"&&lt<="z"},rt=function(lt){return lt>="0"&&lt<="9"};this.tokenize=function(lt,at,ct,ht){var pt=this.getMeat(lt,at,ct);at=pt.start,ct=pt.end;for(var mt=[],gt;at<ct;){if(lt[at]==='"'){for(gt=at+1;gt<ct&&lt[gt]!=='"';)gt++;mt.push({type:"quote",token:lt.substring(at+1,gt),start:at+1,end:gt}),gt++}else if(nt(lt[at])){if(gt=at+1,ht)for(;gt<ct&&!this.isWhiteSpace(lt[gt]);)gt++;else for(;gt<ct&&nt(lt[gt]);)gt++;mt.push({type:"alpha",token:lt.substring(at,gt),continueId:rt(lt[gt]),start:at,end:gt}),at=gt+1}else if(lt[at]==="."&&rt(lt[gt+1])){gt=at+1;for(var yt=null,bt=null;gt<ct&&rt(lt[gt]);)gt++;bt=parseFloat(lt.substring(at,gt)),mt.push({type:"number",token:lt.substring(at,gt),intt:yt,floatt:bt,continueId:nt(lt[gt]),start:at,end:gt}),at=gt+1}else if(rt(lt[at])||lt[at]==="-"&&rt(lt[gt+1])){gt=at+1;for(var xt=null,vt=null;gt<ct&&rt(lt[gt]);)gt++;if(lt[gt]==="."&&rt(lt[gt+1]))for(gt++;gt<ct&&rt(lt[gt]);)gt++;else xt=parseInt(lt.substring(at,gt));vt=parseFloat(lt.substring(at,gt)),mt.push({type:"number",token:lt.substring(at,gt),intt:xt,floatt:vt,continueId:nt(lt[gt]),start:at,end:gt}),at=gt+1}else lt[at]===" "||lt[at]==="	"||mt.push({type:"punct",token:lt[at],start:at,end:at+1}),gt=at+1;at=gt}return mt},this.getVoiceToken=function(lt,at,ct){for(var ht=at;ht<ct&&this.isWhiteSpace(lt[ht])||lt[ht]==="=";)ht++;if(lt[ht]==='"'){var pt=lt.indexOf('"',ht+1);return pt===-1||pt>=ct?{len:1,err:"Missing close quote"}:{len:pt-at+1,token:this.translateString(lt.substring(ht+1,pt))}}else{for(var mt=ht;mt<ct&&!this.isWhiteSpace(lt[mt])&&lt[mt]!=="=";)mt++;return{len:mt-at+1,token:lt.substring(ht,mt)}}};var it={"`a":"","'a":"","^a":"","~a":"",'"a':"",oa:"",aa:"","=a":"",ua:"",";a":"","`e":"","'e":"","^e":"",'"e':"","=e":"",ue:"",";e":"",".e":"","`i":"","'i":"","^i":"",'"i':"","=i":"",ui:"",";i":"","`o":"","'o":"","^o":"","~o":"",'"o':"","=o":"",uo:"","/o":"","`u":"","'u":"","^u":"","~u":"",'"u':"",ou:"","=u":"",uu:"",";u":"","`A":"","'A":"","^A":"","~A":"",'"A':"",oA:"",AA:"","=A":"",uA:"",";A":"","`E":"","'E":"","^E":"",'"E':"","=E":"",uE:"",";E":"",".E":"","`I":"","'I":"","^I":"","~I":"",'"I':"","=I":"",uI:"",";I":"",".I":"","`O":"","'O":"","^O":"","~O":"",'"O':"","=O":"",uO:"","/O":"","`U":"","'U":"","^U":"","~U":"",'"U':"",oU:"","=U":"",uU:"",";U":"",ae:"",AE:"",oe:"",OE:"",ss:"","'c":"","^c":"",uc:"",cc:"",".c":"",cC:"","'C":"","^C":"",uC:"",".C":"","~N":"","~n":"","=s":"",vs:"",DH:"",dh:"",HO:"",Ho:"",HU:"",Hu:"","'Y":"","'y":"","^Y":"","^y":"",'"Y':"",'"y':"",vS:"",vZ:"",vz:""},ot={"#":"",b:"","=":""},st={201:"",202:"",203:"",241:"",242:"",252:"a",262:"2",272:"o",302:"",312:"",322:"",332:"",342:"",352:"",362:"",372:"",243:"",253:"",263:"3",273:"",303:"",313:"",323:"",333:"",343:"",353:"",363:"",373:"",244:"",254:"",264:"  ",274:"14",304:"",314:"",324:"",334:"",344:"",354:"",364:"",374:"",245:"",255:"-",265:"",275:"12",305:"",315:"",325:"",335:"",345:"",355:"",365:"",375:"",246:"",256:"",266:"",276:"34",306:"",316:"",326:"",336:"",346:"",356:"",366:"",376:"",247:"",257:" ",267:"",277:"",307:"",317:"",327:"",337:"",347:"",357:"",367:"",377:"",250:" ",260:"",270:" ",300:"",310:"",320:"",330:"",340:"",350:"",360:"",370:"",251:"",261:"",271:"1",301:"",311:"",321:"",331:"",341:"",351:"",361:"",371:""};this.translateString=function(lt){var at=lt.split("\\");if(at.length===1)return lt;var ct=null;return at.forEach(function(ht){if(ct===null)ct=ht;else{var pt=it[ht.substring(0,2)];pt!==void 0?ct+=pt+ht.substring(2):(pt=st[ht.substring(0,3)],pt!==void 0?ct+=pt+ht.substring(3):(pt=ot[ht.substring(0,1)],pt!==void 0?ct+=pt+ht.substring(1):ct+="\\"+ht))}}),ct},this.getNumber=function(lt,at){for(var ct=0;at<lt.length;)switch(lt[at]){case"0":ct=ct*10,at++;break;case"1":ct=ct*10+1,at++;break;case"2":ct=ct*10+2,at++;break;case"3":ct=ct*10+3,at++;break;case"4":ct=ct*10+4,at++;break;case"5":ct=ct*10+5,at++;break;case"6":ct=ct*10+6,at++;break;case"7":ct=ct*10+7,at++;break;case"8":ct=ct*10+8,at++;break;case"9":ct=ct*10+9,at++;break;default:return{num:ct,index:at}}return{num:ct,index:at}},this.getFraction=function(lt,at){var ct=1,ht=1;if(lt[at]!=="/"){var pt=this.getNumber(lt,at);ct=pt.num,at=pt.index}if(lt[at]==="/")if(at++,lt[at]==="/"){for(var mt=.5;lt[at++]==="/";)mt=mt/2;return{value:ct*mt,index:at-1}}else{var gt=at,yt=this.getNumber(lt,at);yt.num===0&&gt===at&&(yt.num=2),yt.num!==0&&(ht=yt.num),at=yt.index}return{value:ct/ht,index:at}};function ut(lt){const ct=/^(\d+)\./.exec(lt);return ct?ct[1]:null}var ft=[{match:/,\s*[Tt]he$/,replace:"The "},{match:/,\s*[Aa]$/,replace:"A "},{match:/,\s*[Aa]n$/,replace:"An "}];this.theReverser=function(lt){for(var at=0;at<ft.length;at++){var ct=ft[at],ht=lt.match(ct.match);if(ht){var pt=ut(lt);pt&&(lt=lt.replace(pt+".",""),lt=lt.trim());var mt=ht[0].length,gt=ct.replace+lt.substring(0,lt.length-mt);return pt&&(gt=pt+". "+gt),gt}}return lt},this.stripComment=function(lt){var at=lt.indexOf("%");return at>=0?parseCommon$9.strip(lt.substring(0,at)):parseCommon$9.strip(lt)},this.getInt=function(lt){var at=parseInt(lt);if(isNaN(at))return{digits:0};var ct=""+at,ht=lt.indexOf(ct);return{value:at,digits:ht+ct.length}},this.getFloat=function(lt){var at=parseFloat(lt);if(isNaN(at))return{digits:0};var ct=""+at,ht=lt.indexOf(ct);return{value:at,digits:ht+ct.length}},this.getMeasurement=function(lt){if(lt.length===0)return{used:0};var at=1,ct="";if(lt[0].token==="-")lt.shift(),ct="-",at++;else if(lt[0].type!=="number")return{used:0};if(ct+=lt.shift().token,lt.length===0)return{used:1,value:parseInt(ct)};var ht=lt.shift();if(ht.token==="."){if(at++,lt.length===0)return{used:at,value:parseInt(ct)};if(lt[0].type==="number"&&(ht=lt.shift(),ct=ct+"."+ht.token,at++,lt.length===0))return{used:at,value:parseFloat(ct)};ht=lt.shift()}switch(ht.token){case"pt":return{used:at+1,value:parseFloat(ct)};case"px":return{used:at+1,value:parseFloat(ct)};case"cm":return{used:at+1,value:parseFloat(ct)/2.54*72};case"in":return{used:at+1,value:parseFloat(ct)*72};default:return lt.unshift(ht),{used:at,value:parseFloat(ct)}}};var dt=function(lt){return lt=lt.replace(/\\n/g,`
`),lt=lt.replace(/\\"/g,'"'),lt};this.getBrackettedSubstring=function(lt,at,ct,ht){for(var pt=ht||lt[at],mt=at+1,gt=!1;mt<lt.length&&(gt||lt[mt]!==pt);)gt=lt[mt]==="\\",++mt;return lt[mt]===pt?[mt-at+1,dt(lt.substring(at+1,mt)),!0]:(mt=at+ct,mt>lt.length-1&&(mt=lt.length-1),[mt-at+1,dt(lt.substring(at+1,mt)),!1])}};Tokenizer$1.prototype.peekLine=function(){return this.lines[this.lineIndex]};Tokenizer$1.prototype.nextLine=function(){if(this.lineIndex>0&&(this.multilineVars.iChar+=this.lines[this.lineIndex-1].length+1),this.lineIndex<this.lines.length){var _e=this.lines[this.lineIndex];return this.lineIndex++,_e}return null};var abc_tokenizer=Tokenizer$1;function wrapLines(_e,et,tt){if(!(!et||_e.lines.length===0)){var nt=_e.deline({lineBreaks:!1}),rt=findLineBreaks(nt,et);_e.lines=addLineBreaks(nt,rt,tt),_e.lineBreaks=rt}}function addLineBreaks(_e,et,tt){for(var nt=[],rt=[],it=[],ot=1,st=0;st<et.length;st++){var ut=et[st];if(_e[ut.ogLine].staff){var ft=_e[ut.ogLine].staff[ut.staff];if(nt[ut.line]||(nt[ut.line]={staff:[]}),!nt[ut.line].staff[ut.staff]){nt[ut.line].staff[ut.staff]={voices:[]},tt!==void 0&&ut.staff===0&&ut.line>0&&(nt[ut.line].staff[ut.staff].barNumber=ot);for(var dt=Object.keys(ft),lt=0;lt<dt.length;lt++){var at=dt[lt]==="voices";dt[lt]==="meter"&&ut.line!==0&&(at=!0),at||(nt[ut.line].staff[ut.staff][dt[lt]]=ft[dt[lt]])}rt[ut.staff]&&(nt[ut.line].staff[ut.staff].key=rt[ut.staff])}nt[ut.line].staff[ut.staff].voices[ut.voice]||(nt[ut.line].staff[ut.staff].voices[ut.voice]=[]),nt[ut.line].staff[ut.staff].voices[ut.voice]=_e[ut.ogLine].staff[ut.staff].voices[ut.voice].slice(ut.start,ut.end+1),it[ut.staff*10+ut.voice]&&nt[ut.line].staff[ut.staff].voices[ut.voice].unshift({el_type:"stem",direction:it[ut.staff*10+ut.voice].direction});for(var ct=nt[ut.line].staff[ut.staff].voices[ut.voice],ht=ct.length-1;ht>=0;ht--)if(ct[ht].el_type==="key"){rt[ut.staff]={root:ct[ht].root,acc:ct[ht].acc,mode:ct[ht].mode,accidentals:ct[ht].accidentals.filter(function(mt){return mt.acc!=="natural"})};break}for(ht=ct.length-1;ht>=0;ht--)if(ct[ht].el_type==="stem"){it[ut.staff*10+ut.voice]={direction:ct[ht].direction};break}if(tt!==void 0&&ut.staff===0&&ut.voice===0)for(ht=0;ht<ct.length;ht++)ct[ht].el_type==="bar"&&(ot++,ht===ct.length-1?delete ct[ht].barNumber:ct[ht].barNumber=ot)}else nt[ut.line]=_e[ut.ogLine]}for(var pt=0;pt<nt.length;pt++)nt[pt].staff&&(nt[pt].staff=nt[pt].staff.filter(function(mt){return mt!=null}));return nt}function findLineBreaks(_e,et){for(var tt=[],nt=0,rt=0,it=0,ot=0;ot<_e.length;ot++){var st=_e[ot];if(st.staff){var ut=rt,ft=et[nt];nt++;for(var dt=0;dt<st.staff.length;dt++)for(var lt=st.staff[dt],at=0;at<lt.voices.length;at++){it=ut;for(var ct=0,ht=0,pt=lt.voices[at],mt=0,gt=0;gt<pt.length;gt++){var yt=pt[gt];yt.el_type==="bar"&&(ft[ht]===ct&&(tt.push({ogLine:ot,line:it,staff:dt,voice:at,start:mt,end:gt}),mt=gt+1,it++,rt=Math.max(rt,it),ht++),ct++)}tt.push({ogLine:ot,line:it,staff:dt,voice:at,start:mt,end:pt.length}),it++,rt=Math.max(rt,it)}}else tt.push({ogLine:ot,line:it}),it++,rt=Math.max(rt,it)}return tt}function freeFormLineBreaks(_e,et){for(var tt=[],nt=[],rt=0,it=0;it<_e.length;it++){var ot=_e[it],st=rt+ot;if(st<et)rt=st;else{var ut=et-rt,ft=st-et;ut<ft&&rt>0?(tt.push(it-1),nt.push(Math.round(rt-ot)),rt=ot):it<_e.length-1&&(tt.push(it),nt.push(Math.round(rt)),rt=0)}}return nt.push(Math.round(rt)),{lineBreaks:tt,totals:nt}}function clone(_e){for(var et=[],tt=0;tt<_e.length;tt++)et.push(_e[tt]);return et}function oneTry(_e,et,tt,nt,rt,it,ot,st,ut,ft,dt){for(var lt=ft;lt<_e.length;lt++){var at=_e[lt];tt+=at,nt+=at;var ct=Math.abs(tt-et[st]),ht=Math.abs(ct-it)<et[0]/10;if(ht)if(ct<it){var pt=clone(rt),mt=clone(ut);mt.push(lt-1),pt.push(nt-at),dt.push({accumulator:tt,lineAccumulator:at,lineWidths:pt,lastVariance:Math.abs(tt-et[st+1]),highestVariance:Math.max(ot,it),currLine:st+1,lineBreaks:mt,startIndex:lt+1})}else ct>it&&lt<_e.length-1&&(pt=clone(rt),mt=clone(ut),dt.push({accumulator:tt,lineAccumulator:nt,lineWidths:pt,lastVariance:ct,highestVariance:Math.max(ot,ct),currLine:st,lineBreaks:mt,startIndex:lt+1}));ct>it?(ut.push(lt-1),st++,ot=Math.max(ot,it),it=Math.abs(tt-et[st]),rt.push(nt-at),nt=at):it=ct}rt.push(nt)}function optimizeLineWidths(_e,et,tt,nt){for(var rt=Math.ceil(_e.total/et),it=Math.floor(_e.total/rt),ot=[],st=0;st<rt;st++)ot.push(it*(st+1));var ut=[];ut.push({accumulator:0,lineAccumulator:0,lineWidths:[],lastVariance:999999,highestVariance:0,currLine:0,lineBreaks:[],startIndex:0});for(var ft=0;ft<ut.length;)oneTry(_e.measureWidths,ot,ut[ft].accumulator,ut[ft].lineAccumulator,ut[ft].lineWidths,ut[ft].lastVariance,ut[ft].highestVariance,ut[ft].currLine,ut[ft].lineBreaks,ut[ft].startIndex,ut),ft++;for(st=0;st<ut.length;st++){var dt=ut[st];dt.variances=[],dt.aveVariance=0;for(var lt=0;lt<dt.lineWidths.length;lt++){var at=dt.lineWidths[lt];dt.variances.push(at-ot[0]),dt.aveVariance+=Math.abs(at-ot[0])}dt.aveVariance=dt.aveVariance/dt.lineWidths.length,nt.attempts.push({type:"optimizeLineWidths",lineBreaks:dt.lineBreaks,variances:dt.variances,aveVariance:dt.aveVariance,widths:_e.measureWidths})}var ct=9999999,ht=-1;for(st=0;st<ut.length;st++)dt=ut[st],dt.aveVariance<ct&&(ct=dt.aveVariance,ht=st);return{failed:!1,lineBreaks:ut[ht].lineBreaks,variance:ut[ht].highestVariance}}function fixedMeasureLineBreaks(_e,et,tt){for(var nt=[],rt=[],it=0,ot=!1,st=0;st<_e.length;st++)it+=_e[st],it>et&&(ot=!0),st%tt===tt-1&&(st!==_e.length-1&&nt.push(st),rt.push(Math.round(it)),it=0);return{failed:ot,totals:rt,lineBreaks:nt}}function getRevisedTuneParams(_e,et,tt){var nt={lineBreaks:_e,staffwidth:et};for(var rt in tt)tt.hasOwnProperty(rt)&&rt!=="wrap"&&rt!=="staffwidth"&&(nt[rt]=tt[rt]);return{revisedParams:nt}}function calcLineWraps(_e,et,tt){if(et.length===0||tt.staffwidth<et[0].left)return{reParse:!1,explanation:"Staff width is narrower than the margin",revisedParams:tt};var nt=tt.scale?Math.max(tt.scale,.1):1,rt=tt.wrap.minSpacing?Math.max(parseFloat(tt.wrap.minSpacing),1):1,it=tt.wrap.minSpacingLimit?Math.max(parseFloat(tt.wrap.minSpacingLimit),1):rt-.1,ot=tt.wrap.maxSpacing?Math.max(parseFloat(tt.wrap.maxSpacing),1):void 0;tt.wrap.lastLineLimit&&!ot&&(ot=Math.max(parseFloat(tt.wrap.lastLineLimit),1));for(var st=tt.wrap.preferredMeasuresPerLine?Math.max(parseInt(tt.wrap.preferredMeasuresPerLine,10),0):void 0,ut=[],ft=[],dt=0;dt<et.length;dt++){var lt=et[dt],at=tt.staffwidth-lt.left,ct=at/rt/nt,ht=at/ot/nt,pt=at/it/nt,mt={widths:lt,lineBreakPoint:ct,minLineSize:ht,attempts:[],staffWidth:tt.staffwidth,minWidth:Math.round(pt)},gt=null;if(st){var yt=fixedMeasureLineBreaks(lt.measureWidths,ct,st);mt.attempts.push({type:"Fixed Measures Per Line",preferredMeasuresPerLine:st,lineBreaks:yt.lineBreaks,failed:yt.failed,totals:yt.totals}),yt.failed||(gt=yt.lineBreaks)}if(!gt){var bt=freeFormLineBreaks(lt.measureWidths,ct);mt.attempts.push({type:"Free Form",lineBreaks:bt.lineBreaks,totals:bt.totals}),gt=bt.lineBreaks,gt.length>0&&lt.measureWidths.length<25&&(bt=optimizeLineWidths(lt,ct,gt,mt),mt.attempts.push({type:"Optimize",failed:bt.failed,reason:bt.reason,lineBreaks:bt.lineBreaks,totals:bt.totals}),bt.failed||(gt=bt.lineBreaks))}ut.push(gt),ft.push(mt)}var xt=tt.staffwidth,vt=getRevisedTuneParams(ut,xt,tt);return vt.explanation=ft,vt.reParse=!0,vt}var wrap_lines={wrapLines,calcLineWraps},spacing$e={};spacing$e.FONTEM=360;spacing$e.FONTSIZE=30;spacing$e.STEP=spacing$e.FONTSIZE*93/720;spacing$e.SPACE=10;spacing$e.TOPNOTE=15;spacing$e.STAVEHEIGHT=100;spacing$e.INDENT=50;var spacing_1=spacing$e,sequence$2,parseCommon$8=abc_common;(function(){var _e=1,et=128;sequence$2=function(ct,ht){ht=ht||{};var pt,mt=ht.program||0,gt=ht.midiTranspose||0;ct.visualTranspose&&(gt-=ct.visualTranspose);var yt=ht.channel||0,bt=!1,xt=ht.drum||"",vt=ht.drumBars||1,wt=ht.drumIntro||0,_t=xt!=="",Ct=[],Et=50;mt=parseInt(mt,10),gt=parseInt(gt,10),yt=parseInt(yt,10),yt===10&&(mt=et),xt=xt.split(" "),vt=parseInt(vt,10),wt=parseInt(wt,10);var $t=ct.formatting.bagpipes;$t&&(mt=71);var jt=[];if(ct.formatting.midi){var Dt=ct.formatting.midi;Dt.program&&Dt.program.length>0&&(mt=Dt.program[0],Dt.program.length>1&&(mt=Dt.program[1],yt=Dt.program[0]),bt=!0),Dt.transpose&&(gt=Dt.transpose[0]),Dt.channel&&(yt=Dt.channel[0],bt=!0),Dt.drum&&(xt=Dt.drum),Dt.drumbars&&(vt=Dt.drumbars[0]),Dt.drumon&&(_t=!0),yt===10&&(mt=et),Dt.beat&&jt.push({el_type:"beat",beats:Dt.beat}),Dt.nobeataccents&&jt.push({el_type:"beataccents",value:!1})}ht.qpm?pt=parseInt(ht.qpm,10):ct.metaText.tempo?pt=st(ct.metaText.tempo,ct.getBeatLength()):ht.defaultQpm?pt=ht.defaultQpm:pt=180;var Pt=[];$t&&Pt.push({el_type:"bagpipes"}),Pt.push({el_type:"instrument",program:mt}),yt&&Pt.push({el_type:"channel",channel:yt}),gt&&Pt.push({el_type:"transpose",transpose:gt}),Pt.push({el_type:"tempo",qpm:pt});for(var kt=0;kt<jt.length;kt++)Pt.push(jt[kt]);var At=[],Tt=[],St=[],Rt=[0],Ot={};Ot[0]={el_type:"tempo",qpm:pt,timing:0};for(var Nt,It=[],Bt=[],zt=!1,Gt=ct.lines,Kt=0;Kt<Gt.length;Kt++){var fn=Gt[Kt];if(fn.staff){let $n=function(jn){var Fn={pppp:[15,10,5,1],ppp:[30,20,10,1],pp:[45,35,20,1],p:[60,50,35,1],mp:[75,65,50,1],mf:[90,80,65,1],f:[105,95,80,1],ff:[120,110,95,1],fff:[127,125,110,1],ffff:[127,125,110,1]},Ln;if(jn.decoration)if(jn.decoration.indexOf("pppp")>=0?Ln="pppp":jn.decoration.indexOf("ppp")>=0?Ln="ppp":jn.decoration.indexOf("pp")>=0?Ln="pp":jn.decoration.indexOf("p")>=0?Ln="p":jn.decoration.indexOf("mp")>=0?Ln="mp":jn.decoration.indexOf("mf")>=0?Ln="mf":jn.decoration.indexOf("f")>=0?Ln="f":jn.decoration.indexOf("ff")>=0?Ln="ff":jn.decoration.indexOf("fff")>=0?Ln="fff":jn.decoration.indexOf("ffff")>=0&&(Ln="ffff"),Ln&&(Nt=Fn[Ln].slice(0),At[Wt].push({el_type:"beat",beats:Nt.slice(0)}),Tt[an]=!1,St[an]=!1),jn.decoration.indexOf("crescendo(")>=0){var Xn=tt(Qt,En,"crescendo)"),ar=Math.min(127,Nt[0]+Et),Qn=nt(Qt,En+Xn+1,Object.keys(Fn));Qn&&(ar=Fn[Qn][0]),Xn>0?Tt[an]=Math.floor((ar-Nt[0])/Xn):Tt[an]=!1,St[an]=!1}else if(jn.decoration.indexOf("crescendo)")>=0)Tt[an]=!1;else if(jn.decoration.indexOf("diminuendo(")>=0){var Yt=tt(Qt,En,"diminuendo)"),hn=Math.max(15,Nt[0]-Et),mn=nt(Qt,En+Yt+1,Object.keys(Fn));mn&&(hn=Fn[mn][0]),Tt[an]=!1,Yt>0?St[an]=Math.floor((hn-Nt[0])/Yt):St[an]=!1}else jn.decoration.indexOf("diminuendo)")>=0&&(St[an]=!1)};for(var dn=fn.staff,Wt=0,rn=0;rn<dn.length;rn++){var Vt=dn[rn];if(!(Vt.clef&&Vt.clef.type==="TAB"))for(var an=0;an<Vt.voices.length;an++){var Qt=Vt.voices[an];if(!At[Wt]){At[Wt]=[].concat(JSON.parse(JSON.stringify(Pt)));var Zt=ot(fn.staff,Wt);Zt&&At[Wt].unshift({el_type:"name",trackName:Zt})}if(gt&&Vt.clef.type==="perc"&&At[Wt].push({el_type:"transpose",transpose:0}),Vt.clef&&Vt.clef.type==="perc"&&!bt)for(var xn=0;xn<At[Wt].length;xn++)At[Wt][xn].el_type==="instrument"&&(At[Wt][xn].program=et);else Vt.key&&dt(At[Wt],Vt.key);Vt.meter&&lt(At[Wt],Vt.meter),!zt&&_t&&(At[Wt].push({el_type:"drum",params:{pattern:xt,bars:vt,on:_t,intro:wt}}),zt=!0),Vt.clef&&Vt.clef.type!=="perc"&&Vt.clef.transpose&&(Vt.clef.el_type="clef",At[Wt].push({el_type:"transpose",transpose:Vt.clef.transpose})),Vt.clef&&Vt.clef.type&&(Vt.clef.type.indexOf("-8")>=0?At[Wt].push({el_type:"transpose",transpose:-12}):Vt.clef.type.indexOf("+8")>=0&&At[Wt].push({el_type:"transpose",transpose:12})),ct.formatting.midi&&ct.formatting.midi.drumoff&&(At[Wt].push({el_type:"bar"}),At[Wt].push({el_type:"drum",params:{pattern:"",on:!1}}));var vn=0,gn=0,Cn=0,kn=0;Nt=[105,95,85,1];for(var En=0;En<Qt.length;En++){var sn=Qt[En];switch(sn.el_type){case"note":if(Tt[an]&&(Nt[0]+=Tt[an],Nt[1]+=Tt[an],Nt[2]+=Tt[an],At[Wt].push({el_type:"beat",beats:Nt.slice(0)})),St[an]&&(Nt[0]+=St[an],Nt[1]+=St[an],Nt[2]+=St[an],At[Wt].push({el_type:"beat",beats:Nt.slice(0)})),$n(sn),!sn.rest||sn.rest.type!=="spacer"){var On={elem:sn,el_type:"note",timing:Rt[Wt]};if(sn.style?On.style=sn.style:Ct[Wt]&&(On.style=Ct[Wt]),On.duration=sn.duration===0?.25:sn.duration,sn.startTriplet){if(gn=sn.tripletMultiplier,Cn=sn.startTriplet*gn*sn.duration,sn.startTriplet!==sn.tripletR&&En+sn.tripletR<=Qt.length){for(var Tn=0,bn=En;bn<En+sn.tripletR;bn++)Tn+=Qt[bn].duration;Cn=gn*Tn}On.duration=On.duration*gn,On.duration=Math.round(On.duration*1e6)/1e6,kn=On.duration}else gn&&(sn.endTriplet?(gn=0,On.duration=Math.round((Cn-kn)*1e6)/1e6):(On.duration=On.duration*gn,On.duration=Math.round(On.duration*1e6)/1e6,kn+=On.duration));sn.rest&&(On.rest=sn.rest),sn.decoration&&(On.decoration=sn.decoration.slice(0)),sn.pitches&&(On.pitches=parseCommon$8.cloneArray(sn.pitches)),sn.gracenotes&&(On.gracenotes=parseCommon$8.cloneArray(sn.gracenotes)),sn.chord&&(On.chord=parseCommon$8.cloneArray(sn.chord)),At[Wt].push(On),sn.style==="rhythm"&&it(At),vn++,Rt[Wt]+=On.duration}break;case"key":case"keySignature":dt(At[Wt],sn);break;case"meter":lt(At[Wt],sn);break;case"clef":sn.transpose&&At[Wt].push({el_type:"transpose",transpose:sn.transpose}),sn.type&&(sn.type.indexOf("-8")>=0?At[Wt].push({el_type:"transpose",transpose:-12}):sn.type.indexOf("+8")>=0&&At[Wt].push({el_type:"transpose",transpose:12}));break;case"tempo":pt=st(sn,ct.getBeatLength()),At[Wt].push({el_type:"tempo",qpm:pt,timing:Rt[Wt]}),Ot[""+Rt[Wt]]={el_type:"tempo",qpm:pt,timing:Rt[Wt]};break;case"bar":vn>0&&At[Wt].push({el_type:"bar"}),$n(sn),vn=0;var Dn=sn.type==="bar_right_repeat"||sn.type==="bar_dbl_repeat",Nn=sn.startEnding==="1",wn=sn.type==="bar_left_repeat"||sn.type==="bar_dbl_repeat"||sn.type==="bar_right_repeat";if(Dn){var qn=It[Wt];qn||(qn=0);var or=Bt[Wt];or||(or=At[Wt].length);for(var tr=qn;tr<or;tr++){var cr=parseCommon$8.clone(At[Wt][tr]);cr.pitches&&(cr.pitches=parseCommon$8.cloneArray(cr.pitches)),At[Wt].push(cr)}Bt[Wt]=void 0,It[Wt]=void 0}Nn&&(Bt[Wt]=At[Wt].length),wn&&(It[Wt]=At[Wt].length);break;case"style":Ct[Wt]=sn.head;break;case"timeSignature":At[Wt].push(ut(sn));break;case"part":break;case"stem":case"scale":case"break":case"font":break;case"midi":var rr=!1;switch(sn.cmd){case"drumon":_t=!0,rr=!0;break;case"drumoff":_t=!1,rr=!0;break;case"drum":xt=sn.params,rr=!0;break;case"drumbars":vt=sn.params[0],rr=!0;break;case"drummap":break;case"channel":sn.params[0]===10&&At[Wt].push({el_type:"instrument",program:et});break;case"program":at(At[Wt],{el_type:"instrument",program:sn.params[0]}),bt=!0;break;case"transpose":At[Wt].push({el_type:"transpose",transpose:sn.params[0]});break;case"gchordoff":At[Wt].push({el_type:"gchord",tacet:!0});break;case"gchordon":At[Wt].push({el_type:"gchord",tacet:!1});break;case"beat":At[Wt].push({el_type:"beat",beats:sn.params});break;case"nobeataccents":At[Wt].push({el_type:"beataccents",value:!1});break;case"beataccents":At[Wt].push({el_type:"beataccents",value:!0});break;case"vol":At[Wt].push({el_type:"vol",volume:sn.params[0]});break;case"volinc":At[Wt].push({el_type:"volinc",volume:sn.params[0]});break;default:console.log("MIDI seq: midi cmd not handled: ",sn.cmd,sn)}rr&&(At[0].push({el_type:"drum",params:{pattern:xt,bars:vt,intro:wt,on:_t}}),zt=!0);break;default:console.log("MIDI: element type "+sn.el_type+" not handled.")}}Wt++,Rt[Wt]||(Rt[Wt]=0)}}}}if(rt(At,Ot),wt)for(var Vn=ct.getPickupLength(),Jt=0;Jt<At.length;Jt++){for(var pn=0;At[Jt][pn].el_type!=="note"&&At[Jt].length>pn;)pn++;if(At[Jt].length>pn)for(var bn=0;bn<wt;bn++)Vn===0||bn<wt-1?At[Jt].splice(pn,0,{el_type:"note",rest:{type:"rest"},duration:_e},{el_type:"bar"}):At[Jt].splice(pn,0,{el_type:"note",rest:{type:"rest"},duration:_e-Vn})}return At.length>0&&At[0].length>0&&(At[0][0].pickupLength=ct.getPickupLength()),At};function tt(ct,ht,pt){for(var mt=0,gt=ht+1;gt<ct.length;gt++)if(ct[gt].el_type==="note"&&mt++,ct[gt].decoration&&ct[gt].decoration.indexOf(pt)>=0)return mt;return mt}function nt(ct,ht,pt){for(var mt=Math.min(ct.length,ht+3),gt=ht;gt<mt;gt++)if(ct[gt].el_type==="note"&&ct[gt].decoration){for(var yt=0;yt<ct[gt].decoration.length;yt++)if(pt.indexOf(ct[gt].decoration[yt])>=0)return ct[gt].decoration[yt]}return null}function rt(ct,ht){if(!(!ht||ht.length===0))for(var pt=Object.keys(ht),mt=0;mt<ct.length;mt++)for(var gt=ct[mt],yt=ht[0]?ht[0].qpm:0,bt=0;bt<gt.length;bt++){var xt=gt[bt];xt.el_type==="tempo"&&(yt=xt.qpm),pt.indexOf(""+xt.timing)>=0&&yt!==ht[""+xt.timing].qpm&&(yt=ht[""+xt.timing].qpm,xt.el_type==="tempo"?(xt.qpm=ht[""+xt.timing].qpm,bt++):(ct[mt].splice(bt,0,{el_type:"tempo",qpm:ht[""+xt.timing].qpm,timing:xt.timing}),bt+=2))}}function it(ct){for(var ht=0;ht<ct.length;ht++)for(var pt=ct[ht],mt=pt.length-1;mt>=0&&pt[mt].el_type!=="bar";)pt[mt].noChordVoice=!0,mt--}function ot(ct,ht){if(!(!ct||ct.length<=ht||!ct[ht].title))return ct[ht].title.join(" ")}function st(ct,ht){var pt=.25;ct.duration&&(pt=ct.duration[0]);var mt=60;return ct.bpm&&(mt=ct.bpm),pt*mt/ht}function ut(ct){var ht;switch(ct.type){case"common_time":ht={el_type:"meter",num:4,den:4};break;case"cut_time":ht={el_type:"meter",num:2,den:2};break;case"specified":ht={el_type:"meter",num:ct.value[0].num,den:ct.value[0].den};break;default:ht={el_type:"meter"}}return _e=ht.num/ht.den,ht}function ft(ct){for(var ht=[],pt=0;pt<ct.length;pt++)ct[pt].acc!=="natural"&&ht.push(ct[pt]);return ht}function dt(ct,ht){var pt;ht.root==="HP"?pt={el_type:"key",accidentals:[{acc:"natural",note:"g"},{acc:"sharp",note:"f"},{acc:"sharp",note:"c"}]}:pt={el_type:"key",accidentals:ft(ht.accidentals)},at(ct,pt)}function lt(ct,ht){var pt=ut(ht);at(ct,pt)}function at(ct,ht){for(var pt=ct.length-1;pt>=0;pt--)if(ct[pt].el_type===ht.el_type){JSON.stringify(ct[pt])!==JSON.stringify(ht)&&ct.push(ht);return}ct.push(ht)}})();var abc_midi_sequencer=sequence$2,pitchMap={f0:"_C",n0:"=C",s0:"^C",x0:"C",f1:"_D",n1:"=D",s1:"^D",x1:"D",f2:"_E",n2:"=E",s2:"^E",x2:"E",f3:"_F",n3:"=F",s3:"^F",x3:"F",f4:"_G",n4:"=G",s4:"^G",x4:"G",f5:"_A",n5:"=A",s5:"^A",x5:"A",f6:"_B",n6:"=B",s6:"^B",x6:"B",f7:"_c",n7:"=c",s7:"^c",x7:"c",f8:"_d",n8:"=d",s8:"^d",x8:"d",f9:"_e",n9:"=e",s9:"^e",x9:"e",f10:"_f",n10:"=f",s10:"^f",x10:"f",f11:"_g",n11:"=g",s11:"^g",x11:"g",f12:"_a",n12:"=a",s12:"^a",x12:"a",f13:"_b",n13:"=b",s13:"^b",x13:"b",f14:"_c'",n14:"=c'",s14:"^c'",x14:"c'",f15:"_d'",n15:"=d'",s15:"^d'",x15:"d'",f16:"_e'",n16:"=e'",s16:"^e'",x16:"e'"};function pitchesToPerc$2(_e){var et=(_e.accidental?_e.accidental[0]:"x")+_e.verticalPos;return pitchMap[et]}var pitchesToPerc_1=pitchesToPerc$2,flatten$1,parseCommon$7=abc_common,pitchesToPerc$1=pitchesToPerc_1;(function(){var _e,et,tt,nt,rt,it=1,ot,st,ut,ft,dt,lt={num:4,den:4},at,ct,ht,pt,mt=0,gt=0,yt=128,bt=64,xt=48,vt,wt,_t,Ct,Et=!1,$t=!1,jt=!0,Dt=105,Pt=95,kt=85,At=.25,Tt,St,Rt=0,Ot,Nt={},It,Bt=0,zt,Gt=0,Kt=-.001,fn=.4;flatten$1=function(Yt,hn,mn,yn){hn||(hn={}),yn||(yn={}),_e=[],et=[0,0,0,0,0,0,0],nt=[],rt=hn.qpm,it=1,ot=void 0,st=void 0,ut=void 0,ft=void 0,dt=0,zt=mn,lt={num:4,den:4},at=[],ct=!1,pt=Yt.length,ht=!1,vt=[],mt=yn.bassprog&&yn.bassprog.length===1?yn.bassprog[0]:0,gt=yn.chordprog&&yn.chordprog.length===1?yn.chordprog[0]:0,bt=yn.bassvol&&yn.bassvol.length===1?yn.bassvol[0]:64,xt=yn.chordvol&&yn.chordvol.length===1?yn.chordvol[0]:48,wt=void 0,_t=void 0,Et=!!hn.chordsOff,$t=!1,jt=!0,Dt=105,Pt=95,kt=85,At=.25,Tt=void 0,St=void 0,Rt=0,Ot=[],Nt={},It=1,Yt.length>0&&Yt[0].length>0&&(Bt=Yt[0][0].pickupLength),an(Yt,hn);for(var qt=0;qt<Yt.length;qt++){tt=0;var Sn=Yt[qt];ut=[{cmd:"program",channel:qt,instrument:ot}],ft=void 0,Ct=0;var Bn=!1;(hn.voicesOff===!0||hn.voicesOff&&hn.voicesOff.length&&hn.voicesOff.indexOf(qt)>=0)&&(Bn=!0);for(var Zn=0;Zn<Sn.length;Zn++){var Hn=Sn[Zn];switch(Hn.el_type){case"name":ft={cmd:"text",type:"name",text:Hn.trackName};break;case"note":var sr=sn(Hn,Bn);sr&&(ct=qt);break;case"key":et=Dn(Hn);break;case"meter":lt=Hn,At=Qt(lt),Xn();break;case"tempo":rt?it=Hn.qpm?rt/Hn.qpm:1:rt=Hn.qpm;break;case"transpose":tt=Hn.transpose;break;case"bar":at.length>0&&(ct===!1||qt===ct)&&(Fn(Ct,rn(Hn.time)),vt=[]),_e=[],qt===0&&ar(Yt.length+1),$t=!1,_t=wt,Ct=rn(Hn.time);break;case"bagpipes":break;case"instrument":if(ot===void 0&&(ot=Hn.program),st=Hn.program,ut.length>0&&ut[ut.length-1].cmd==="program")ut[ut.length-1].instrument=Hn.program;else{var nr;for(nr=ut.length-1;nr>=0&&ut[nr].cmd!=="program";nr--);(nr<0||ut[nr].instrument!==Hn.program)&&ut.push({cmd:"program",channel:0,instrument:Hn.program})}break;case"channel":dn(Hn.channel);break;case"drum":Nt=Ln(Hn.params),Xn();break;case"gchord":hn.chordsOff||(Et=Hn.tacet);break;case"beat":Dt=Hn.beats[0],Pt=Hn.beats[1],kt=Hn.beats[2];break;case"vol":Tt=Hn.volume;break;case"volinc":St=Hn.volume;break;case"beataccents":jt=Hn.value;break;default:console.log("MIDI creation. Unknown el_type: "+Hn.el_type+`
`);break}}ut[0].instrument===void 0&&(ut[0].instrument=ot||0),ft&&ut.unshift(ft),nt.push(ut),Wt()||(ht=!0),Ot.length>0}return hn.detuneOctave&&Qn(nt,parseInt(hn.detuneOctave,10)),Wt()||nt.push(at),Ot.length>0&&nt.push(Ot),{tempo:rt,instrument:ot,tracks:nt,totalDuration:dt}};function dn(Yt){for(var hn=ut.length-1;hn>=0;hn--)if(ut[hn].cmd==="program"){ut[hn].channel=Yt;return}}function Wt(){for(var Yt=!0,hn=0;hn<at.length&&Yt;hn++)at[hn].cmd==="note"&&(Yt=!1);return Yt}function rn(Yt){return Yt/1e6}function Vt(Yt){return Math.round(Yt*it*1e6)/1e6}function an(Yt,hn){for(var mn=0;mn<Yt.length;mn++){for(var yn=Yt[mn],qt={},Sn=hn.qpm,Bn=0,Zn=1,Hn=0;Hn<yn.length;Hn++){var sr=yn[Hn];if(sr.el_type==="tempo"){Sn?Zn=sr.qpm?Sn/sr.qpm:1:Sn=sr.qpm;continue}sr.time=Bn;var nr=sr.duration?sr.duration:0;if(Bn+=Math.round(nr*Zn*1e6),sr.pitches){for(var dr=0;dr<sr.pitches.length;dr++){var zn=sr.pitches[dr];if(zn){if(zn.duration=sr.duration,zn.startTie)qt[zn.pitch]===void 0?qt[zn.pitch]={el:Hn,pitch:dr}:(yn[qt[zn.pitch].el].pitches[qt[zn.pitch].pitch].duration+=zn.duration,sr.pitches[dr]=null);else if(zn.endTie){var mr=qt[zn.pitch];if(mr){var $r=zn.duration;delete yn[mr.el].pitches[mr.pitch].startTie,yn[mr.el].pitches[mr.pitch].duration+=$r,sr.pitches[dr]=null,delete qt[zn.pitch]}else delete zn.endTie}}}delete sr.duration}}for(var lr in qt)if(qt.hasOwnProperty(lr)){var wr=qt[lr];delete yn[wr.el].pitches[wr.pitch].startTie}}}function Qt(Yt){switch(parseInt(Yt.den,10)){case 2:return .5;case 4:return .25;case 8:return Yt.num%3===0?.375:.125;case 16:return .125}return .25}var Zt=["break","(break)","no chord","n.c.","tacet"];function xn(Yt){if(Et)return"break";if(ht||!Yt.chord||Yt.chord.length===0)return null;for(var hn=0;hn<Yt.chord.length;hn++){var mn=Yt.chord[hn];if(mn.position==="default")return mn.name;if(Zt.indexOf(mn.name.toLowerCase())>=0)return"break"}return null}function vn(Yt,hn,mn){var yn=mn-Yt;return yn/hn}function gn(Yt,hn){if(hn)return 0;var mn;if(Tt)mn=Tt,Tt=void 0;else if(!jt)mn=Pt;else if(Bt>Yt)mn=kt;else{lt.num/lt.den;var yn=vn(Ct,Qt(lt),Yt);yn===0?mn=Dt:parseInt(yn,10)===yn?mn=Pt:mn=kt}return St&&(mn+=St,St=void 0),mn<0&&(mn=0),mn>127&&(mn=127),hn?0:mn}function Cn(Yt){var hn=!1,mn=xn(Yt);if(mn){var yn=rr(mn);if(yn){at.length===0&&(hn=!0,at.push({cmd:"program",channel:pt,instrument:gt})),wt=yn;var qt=vn(Ct,Qt(lt),rn(Yt.time));vt.push({chord:wt,beat:qt,start:rn(Yt.time)})}}return hn}function kn(Yt,hn){var mn={};if(Yt.decoration)for(var yn=0;yn<Yt.decoration.length;yn++)Yt.decoration[yn]==="staccato"?mn.thisBreakBetweenNotes="staccato":Yt.decoration[yn]==="tenuto"?mn.thisBreakBetweenNotes="tenuto":Yt.decoration[yn]==="accent"?mn.velocity=Math.min(127,hn*1.5):Yt.decoration[yn]==="trill"?mn.noteModification="trill":Yt.decoration[yn]==="lowermordent"?mn.noteModification="lowermordent":Yt.decoration[yn]==="uppermordent"||Yt.decoration[yn]==="mordent"?mn.noteModification="mordent":Yt.decoration[yn]==="turn"?mn.noteModification="turn":Yt.decoration[yn]==="roll"&&(mn.noteModification="roll");return mn}function En(Yt,hn){var mn=hn.start,yn=hn.duration,qt=Vt(1/32);switch(Yt){case"trill":for(var Sn=1;yn>0;)ut.push({cmd:"note",pitch:hn.pitch+Sn,volume:hn.volume,start:mn,duration:qt,gap:0,instrument:st,style:"decoration"}),Sn=Sn===1?0:1,yn-=qt,mn+=qt;break;case"mordent":ut.push({cmd:"note",pitch:hn.pitch,volume:hn.volume,start:mn,duration:qt,gap:0,instrument:st,style:"decoration"}),yn-=qt,mn+=qt,ut.push({cmd:"note",pitch:hn.pitch+1,volume:hn.volume,start:mn,duration:qt,gap:0,instrument:st,style:"decoration"}),yn-=qt,mn+=qt,ut.push({cmd:"note",pitch:hn.pitch,volume:hn.volume,start:mn,duration:yn,gap:0,instrument:st});break;case"lowermordent":ut.push({cmd:"note",pitch:hn.pitch,volume:hn.volume,start:mn,duration:qt,gap:0,instrument:st,style:"decoration"}),yn-=qt,mn+=qt,ut.push({cmd:"note",pitch:hn.pitch-1,volume:hn.volume,start:mn,duration:qt,gap:0,instrument:st,style:"decoration"}),yn-=qt,mn+=qt,ut.push({cmd:"note",pitch:hn.pitch,volume:hn.volume,start:mn,duration:yn,gap:0,instrument:st});break;case"turn":qt=hn.duration/5,ut.push({cmd:"note",pitch:hn.pitch,volume:hn.volume,start:mn,duration:qt,gap:0,instrument:st,style:"decoration"}),ut.push({cmd:"note",pitch:hn.pitch+1,volume:hn.volume,start:mn+qt,duration:qt,gap:0,instrument:st,style:"decoration"}),ut.push({cmd:"note",pitch:hn.pitch,volume:hn.volume,start:mn+qt*2,duration:qt,gap:0,instrument:st,style:"decoration"}),ut.push({cmd:"note",pitch:hn.pitch+1,volume:hn.volume,start:mn+qt*3,duration:qt,gap:0,instrument:st,style:"decoration"}),ut.push({cmd:"note",pitch:hn.pitch,volume:hn.volume,start:mn+qt*4,duration:qt,gap:0,instrument:st});break;case"roll":for(;yn>0;)ut.push({cmd:"note",pitch:hn.pitch,volume:hn.volume,start:mn,duration:qt,gap:0,instrument:st,style:"decoration"}),yn-=qt*2,mn+=qt*2;break}}function sn(Yt,hn){ut.length;var mn=gn(rn(Yt.time),hn),yn=Cn(Yt),qt;if(Yt.gracenotes&&Yt.pitches&&Yt.pitches.length>0&&Yt.pitches[0]&&(qt=Nn(Yt.gracenotes,Yt.pitches[0].duration),Yt.elem&&(Yt.elem.midiGraceNotePitches=wn(qt,rn(Yt.time),mn*2/3,st))),Yt.elem){var Sn=rn(Yt.time),Bn=Sn/At/rt*60*1e3;if(Yt.elem.currentTrackMilliseconds===void 0)Yt.elem.currentTrackMilliseconds=Bn,Yt.elem.currentTrackWholeNotes=Sn;else if(Yt.elem.currentTrackMilliseconds.length===void 0)Yt.elem.currentTrackMilliseconds!==Bn&&(Yt.elem.currentTrackMilliseconds=[Yt.elem.currentTrackMilliseconds,Bn],Yt.elem.currentTrackWholeNotes=[Yt.elem.currentTrackWholeNotes,Sn]);else{for(var Zn=!1,Hn=0;Hn<Yt.elem.currentTrackMilliseconds.length;Hn++)Yt.elem.currentTrackMilliseconds[Hn]===Bn&&(Zn=!0);Zn||(Yt.elem.currentTrackMilliseconds.push(Bn),Yt.elem.currentTrackWholeNotes.push(Sn))}}if(Yt.pitches){var sr="",nr=kn(Yt,mn);nr.thisBreakBetweenNotes&&(sr=nr.thisBreakBetweenNotes),nr.velocity&&(mn=nr.velocity);var dr=Yt.pitches;if(Yt.style==="rhythm"&&($t=!0,wt&&wt.chick)){dr=[];for(var zn=0;zn<wt.chick.length;zn++){var mr=parseCommon$7.clone(Yt.pitches[0]);mr.actualPitch=wt.chick[zn],dr.push(mr)}}Yt.elem&&(Yt.elem.midiPitches=[]);for(var $r=0;$r<dr.length;$r++){var lr=dr[$r];if(lr){lr.startSlur&&(Rt+=lr.startSlur.length),lr.endSlur&&(Rt-=lr.endSlur.length);var wr=lr.actualPitch?lr.actualPitch:bn(lr);if(st===yt&&zt){var gr=pitchesToPerc$1(lr);gr&&zt[gr]&&(wr=zt[gr].sound)}var Kn={cmd:"note",pitch:wr,volume:mn,start:rn(Yt.time),duration:Vt(lr.duration),instrument:st,startChar:Yt.elem.startChar,endChar:Yt.elem.endChar};if(Kn=qn(Kn),Yt.gracenotes&&(Kn.duration=Kn.duration/2,Kn.start=Kn.start+Kn.duration),Yt.elem&&Yt.elem.midiPitches.push(Kn),nr.noteModification)En(nr.noteModification,Kn);else{switch(Rt>0?Kn.endType="tenuto":sr&&(Kn.endType=sr),Kn.endType){case"tenuto":Kn.gap=Kt;break;case"staccato":var jr=Kn.duration*fn;Kn.gap=rt/60*jr;break;default:Kn.gap=Gt;break}ut.push(Kn)}}}ut.length-1}var Pr=On(Yt);return dt=Math.max(dt,rn(Yt.time)+Vt(Pr)),yn}function On(Yt){return Yt.pitches&&Yt.pitches.length>0&&Yt.pitches[0]?Yt.pitches[0].duration:Yt.elem?Yt.elem.duration:Yt.duration}var Tn=[0,2,4,5,7,9,11];function bn(Yt){if(Yt.midipitch!==void 0)return Yt.midipitch;var hn=Yt.pitch;if(Yt.accidental)switch(Yt.accidental){case"sharp":_e[hn]=1;break;case"flat":_e[hn]=-1;break;case"natural":_e[hn]=0;break;case"dblsharp":_e[hn]=2;break;case"dblflat":_e[hn]=-2;break;case"quartersharp":_e[hn]=.25;break;case"quarterflat":_e[hn]=-.25;break}var mn=or(hn)*12+Tn[tr(hn)]+60;return _e[hn]!==void 0?mn+=_e[hn]:mn+=et[tr(hn)],mn+=tt,mn}function Dn(Yt){var hn=[0,0,0,0,0,0,0];if(!Yt.accidentals)return hn;for(var mn=0;mn<Yt.accidentals.length;mn++){var yn=Yt.accidentals[mn],qt;switch(yn.acc){case"flat":qt=-1;break;case"quarterflat":qt=-.25;break;case"sharp":qt=1;break;case"quartersharp":qt=.25;break;default:qt=0;break}var Sn=yn.note.toLowerCase(),Bn=tr(Sn.charCodeAt(0)-99);hn[Bn]+=qt}return hn}function Nn(Yt,hn){for(var mn=0,yn=[],qt,Sn=0;Sn<Yt.length;Sn++)qt=Yt[Sn],mn+=qt.duration;var Bn=hn/2/mn;for(Sn=0;Sn<Yt.length;Sn++){qt=Yt[Sn];var Zn=bn(qt);if(st===yt&&zt){var Hn=pitchesToPerc$1(qt);Hn&&zt[Hn]&&(Zn=zt[Hn].sound)}var sr={pitch:Zn,duration:qt.duration*Bn};sr=qn(sr),yn.push(sr)}return yn}function wn(Yt,hn,mn,yn){var qt=[];mn=Math.round(mn);for(var Sn=0;Sn<Yt.length;Sn++){var Bn=Yt[Sn];ut.push({cmd:"note",pitch:Bn.pitch,volume:mn,start:hn,duration:Bn.duration,gap:0,instrument:yn,style:"grace"}),qt.push({pitch:Bn.pitch,durationInMeasures:Bn.duration,volume:mn,instrument:yn}),hn+=Bn.duration}return qt}function qn(Yt){var hn=""+Yt.pitch;return hn.indexOf(".75")>=0?(Yt.pitch=Math.round(Yt.pitch),Yt.cents=-50):hn.indexOf(".25")>=0&&(Yt.pitch=Math.round(Yt.pitch),Yt.cents=50),Yt}function or(Yt){return Math.floor(Yt/7)}function tr(Yt){return Yt=Yt%7,Yt<0&&(Yt+=7),Yt}var cr={A:33,B:35,C:36,D:38,E:40,F:41,G:43};function rr(Yt){if(Yt.length!==0){if(Yt==="break")return{chick:[]};var hn=Yt.substring(0,1);if(hn==="("){if(Yt=Yt.substring(1,Yt.length-2),Yt.length===0)return;hn=Yt.substring(0,1)}var mn=cr[hn];if(mn){for(var yn=tt;yn<-8;)yn+=12;for(;yn>8;)yn-=12;mn+=yn;var qt=mn-5,Sn;Yt.length===1&&(Sn=Jt(mn,""));var Bn=Yt.substring(1),Zn=Bn.substring(0,1);Zn==="b"||Zn===""?(mn--,qt--,Bn=Bn.substring(1)):(Zn==="#"||Zn==="")&&(mn++,qt++,Bn=Bn.substring(1));var Hn=Bn.split("/");if(Sn=Jt(mn,Hn[0]),Sn.length>=3){var sr=Sn[2]-Sn[0];qt=qt+sr-7}if(Hn.length===2){var nr=cr[Hn[1].substring(0,1)];if(nr){var dr=Hn[1].substring(1),zn={"#":1,"":1,b:-1,"":-1}[dr]||0;mn=cr[Hn[1].substring(0,1)]+zn+yn,qt=mn}}return{boom:mn,boom2:qt,chick:Sn}}}}var Vn={dim:[0,3,6],"":[0,3,6],"":[0,3,6],dim7:[0,3,6,9],"7":[0,3,6,9],"7":[0,3,6,9],7:[0,3,6,10],"m7(b5)":[0,3,6,10],m7b5:[0,3,6,10],"m75":[0,3,6,10],"-7(b5)":[0,3,6,10],"-7b5":[0,3,6,10],"7b5":[0,4,6,10],"7(b5)":[0,4,6,10],"75":[0,4,6,10],"7(b9,b5)":[0,4,6,10,13],"7b9,b5":[0,4,6,10,13],"7(#9,b5)":[0,4,6,10,15],"7#9b5":[0,4,6,10,15],"maj7(b5)":[0,4,6,11],maj7b5:[0,4,6,11],"13(b5)":[0,4,6,10,14,21],"13b5":[0,4,6,10,14,21],m:[0,3,7],"-":[0,3,7],m6:[0,3,7,9],"-6":[0,3,7,9],m7:[0,3,7,10],"-7":[0,3,7,10],"-(b6)":[0,3,7,8],"-b6":[0,3,7,8],"-6/9":[0,3,7,9,14],"-7(b9)":[0,3,7,10,13],"-7b9":[0,3,7,10,13],"-maj7":[0,3,7,11],"-9+7":[0,3,7,11,13],"-11":[0,3,7,11,14,17],m11:[0,3,7,11,14,17],"-maj9":[0,3,7,11,14],"-9":[0,3,7,11,14],mM9:[0,3,7,11,14],M:[0,4,7],6:[0,4,7,9],"6/9":[0,4,7,9,14],"6add9":[0,4,7,9,14],69:[0,4,7,9,14],7:[0,4,7,10],9:[0,4,7,10,14],11:[0,7,10,14,17],13:[0,4,7,10,14,21],"7b9":[0,4,7,10,13],"79":[0,4,7,10,13],"7(b9)":[0,4,7,10,13],"7(#9)":[0,4,7,10,15],"7#9":[0,4,7,10,15],"(13)":[0,4,7,10,14,21],"7(9,13)":[0,4,7,10,14,21],"7(#9,b13)":[0,4,7,10,15,20],"7(#11)":[0,4,7,10,14,18],"7#11":[0,4,7,10,14,18],"7(b13)":[0,4,7,10,20],"7b13":[0,4,7,10,20],"9(#11)":[0,4,7,10,14,18],"9#11":[0,4,7,10,14,18],"13(#11)":[0,4,7,10,18,21],"13#11":[0,4,7,10,18,21],maj7:[0,4,7,11],"7":[0,4,7,11],7:[0,4,7,11],maj9:[0,4,7,11,14],"maj7(9)":[0,4,7,11,14],"maj7(11)":[0,4,7,11,17],"maj7(#11)":[0,4,7,11,18],"maj7(13)":[0,4,7,14,21],"maj7(9,13)":[0,4,7,11,14,21],"7sus4":[0,5,7,10],m7sus4:[0,3,7,10,17],sus4:[0,5,7],sus2:[0,2,7],"7sus2":[0,2,7,10],"9sus4":[0,5,7,10,14],"13sus4":[0,5,7,10,14,21],aug7:[0,4,8,10],"+7":[0,4,8,10],"+":[0,4,8],"7#5":[0,4,8,10],"75":[0,4,8,10],"7+5":[0,4,8,10],"9#5":[0,4,8,10,14],"95":[0,4,8,10,14],"9+5":[0,4,8,10,14],"-7(#5)":[0,3,8,10],"-7#5":[0,3,8,10],"7(#5)":[0,4,8,10],"7(b9,#5)":[0,4,8,10,13],"7b9#5":[0,4,8,10,13],"maj7(#5)":[0,4,8,11],"maj7#5":[0,4,8,11],"maj7(#5,#11)":[0,4,8,11,18],"maj7#5#11":[0,4,8,11,18],"9(#5)":[0,4,8,10,14],"13(#5)":[0,4,8,10,14,21],"13#5":[0,4,8,10,14,21]};function Jt(Yt,hn){var mn=Vn[hn];mn||(hn.slice(0,2).toLowerCase()==="ma"||hn[0]==="M"?mn=Vn.M:hn[0]==="m"||hn[0]==="-"?mn=Vn.m:mn=Vn.M),Yt+=12;for(var yn=[],qt=0;qt<mn.length;qt++)yn.push(Yt+mn[qt]);return yn}function pn(Yt,hn,mn,yn,qt){Yt!==void 0&&at.push({cmd:"note",pitch:Yt,volume:mn,start:Ct+yn*Vt(hn),duration:Vt(qt),gap:0,instrument:mt})}function $n(Yt,hn,mn,yn,qt){for(var Sn=0;Sn<Yt.length;Sn++)at.push({cmd:"note",pitch:Yt[Sn],volume:mn,start:Ct+yn*Vt(hn),duration:Vt(qt),gap:0,instrument:gt})}var jn={"2/2":["boom","chick"],"2/4":["boom","chick"],"3/4":["boom","chick","chick"],"4/4":["boom","chick","boom2","chick"],"5/4":["boom","chick","chick","boom2","chick"],"6/8":["boom","","chick","boom2","","chick"],"9/8":["boom","","chick","boom2","","chick","boom2","","chick"],"12/8":["boom","","chick","boom2","","chick","boom","","chick","boom2","","chick"]};function Fn(Yt,hn){var mn=lt.num,yn=lt.den,qt=1/yn,Sn=qt/2,Bn=jn[mn+"/"+yn],Zn=parseInt(mn,10)/parseInt(yn,10),Hn=Zn-(hn-Yt)/it;if(Math.abs(Hn)<1e-5&&(Hn=!1),!Bn||Hn){Bn=[];for(var sr=(hn-Yt)/it/qt,nr=0;nr<sr;nr++)Bn.push("chick")}if(vt.length===0&&vt.push({beat:0,chord:wt}),vt[0].beat!==0&&wt&&_t&&vt.unshift({beat:0,chord:_t}),vt.length===1){for(var dr=vt[0].beat;dr<Bn.length;dr++)if(!$t)switch(Bn[dr]){case"boom":pn(vt[0].chord.boom,qt,bt,dr,Sn);break;case"boom2":pn(vt[0].chord.boom2,qt,bt,dr,Sn);break;case"chick":$n(vt[0].chord.chick,qt,xt,dr,Sn);break}return}for(var zn=qt===.125?3:1,mr={},$r=0;$r<vt.length;$r++){var lr=vt[$r],wr=Math.round(lr.beat*zn);mr[""+wr]=lr}for(var gr=0;gr<Bn.length;gr++){var Kn;mr[""+gr]&&(Kn=mr[""+gr]);var jr;if(!$t&&Kn)switch(Bn[gr]){case"boom":mr[""+(gr+1)]?$n(Kn.chord.chick,qt,xt,gr,Sn):(pn(Kn.chord.boom,qt,bt,gr,Sn),jr=Kn.chord.boom);break;case"boom2":mr[""+(gr+1)]?$n(Kn.chord.chick,qt,xt,gr,Sn):jr===Kn.chord.boom?(pn(Kn.chord.boom2,qt,bt,gr,Sn),jr=void 0):(pn(Kn.chord.boom,qt,bt,gr,Sn),jr=Kn.chord.boom);break;case"chick":$n(Kn.chord.chick,qt,xt,gr,Sn);break;case"":mr[""+gr]&&$n(Kn.chord.chick,qt,xt,gr,Sn);break}}}function Ln(Yt){if(Yt.pattern.length===0||Yt.on===!1)return{on:!1};for(var hn=Yt.pattern[0],mn=[],yn="",qt=0,Sn=0;Sn<hn.length;Sn++)if(hn[Sn]==="d"&&qt++,hn[Sn]==="d"||hn[Sn]==="z")yn.length!==0?(mn.push(yn),yn=hn[Sn]):yn=yn+hn[Sn];else{if(yn.length===0)return{on:!1};yn=yn+hn[Sn]}if(yn.length!==0&&mn.push(yn),Yt.pattern.length!==qt*2+1)return{on:!1};for(var Bn={on:!0,bars:Yt.bars,pattern:[]},Zn=Qt(lt),Hn=0,sr=0;sr<mn.length;sr++){yn=mn[sr];for(var nr=1,dr=!1,zn=0,mr=1;mr<yn.length;mr++)switch(yn[mr]){case"/":zn!==0&&(nr*=zn),zn=0,dr=!0;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":zn=zn*10+yn[mr];break;default:return{on:!1}}dr?(zn===0&&(zn=2),nr/=zn):zn&&(nr*=zn),yn[0]==="d"?(Bn.pattern.push({len:nr*Zn,pitch:Yt.pattern[1+Hn],velocity:Yt.pattern[1+Hn+qt]}),Hn++):Bn.pattern.push({len:nr*Zn,pitch:null})}return It=Yt.bars?Yt.bars:1,Bn}function Xn(){if(!(!Nt||!Nt.pattern)){for(var Yt=Nt,hn=0,mn=lt.num/lt.den,yn=0;yn<Yt.pattern.length;yn++)hn+=Yt.pattern[yn].len;var qt=hn/It/mn;for(yn=0;yn<Yt.pattern.length;yn++)Yt.pattern[yn].len=Yt.pattern[yn].len/qt;Nt=Yt}}function ar(Yt){if(!(Ot.length===0&&!Nt.on)){var hn=lt.num/lt.den;if(Ot.length===0){if(dt<hn)return;Ot.push({cmd:"program",channel:Yt,instrument:yt})}if(Nt.on)for(var mn=Ct,yn=0;yn<Nt.pattern.length;yn++){var qt=Vt(Nt.pattern[yn].len);Nt.pattern[yn].pitch&&Ot.push({cmd:"note",pitch:Nt.pattern[yn].pitch,volume:Nt.pattern[yn].velocity,start:mn,duration:qt,gap:0,instrument:yt}),mn+=qt}}}function Qn(Yt,hn){for(var mn={},yn=0;yn<Yt.length;yn++)for(var qt=0;qt<Yt[yn].length;qt++){var Sn=Yt[yn][qt];Sn.cmd==="note"&&(mn[Sn.start]===void 0&&(mn[Sn.start]=[]),mn[Sn.start].push({track:yn,event:qt,pitch:Sn.pitch}))}var Bn=Object.keys(mn);for(yn=0;yn<Bn.length;yn++){var Zn=mn[Bn[yn]];if(Zn.length>1){Zn=Zn.sort(function(zn,mr){return zn.pitch-mr.pitch});var Hn=Zn[Zn.length-1],sr=Hn.pitch%12,nr=!1;for(qt=0;!nr&&qt<Zn.length-1;qt++)Zn[qt].pitch%12===sr&&(nr=!0);if(nr){var dr=Yt[Hn.track][Hn.event];dr.cents||(dr.cents=0),dr.cents+=hn}}}}})();var abc_midi_flattener=flatten$1;function delineTune$1(_e,et){et||(et={});for(var tt=!!et.lineBreaks,nt=[],rt=!1,it=[],ot=[],st=[],ut=[],ft=[],dt=[],lt=[],at=0;at<_e.length;at++){var ct=_e[at];if(ct.staff){if(rt&&!ct.vskip)for(var ht=nt[nt.length-1],pt=0;pt<ht.staff.length;pt++){var mt=ct.staff[pt],gt=ht.staff[pt];if(mt&&(objEqual(mt.meter,it[pt])||(addMeterToVoices(mt.meter,mt.voices),it[pt]=mt.meter,delete mt.meter),objEqual(mt.key,ot[pt])||(addKeyToVoices(mt.key,mt.voices),ot[pt]=mt.key,delete mt.key),mt.title&&(gt.abbrevTitle=mt.title),objEqual(mt.clef,st[pt])||(addClefToVoices(mt.clef,mt.voices),st[pt]=mt.clef,delete mt.clef),objEqual(mt.vocalfont,ut[pt])||(addFontToVoices(mt.vocalfont,mt.voices,"vocalfont"),ut[pt]=mt.vocalfont,delete mt.vocalfont),objEqual(mt.gchordfont,ft[pt])||(addFontToVoices(mt.gchordfont,mt.voices,"gchordfont"),ft[pt]=mt.gchordfont,delete mt.gchordfont),objEqual(mt.tripletfont,dt[pt])||(addFontToVoices(mt.tripletfont,mt.voices,"tripletfont"),dt[pt]=mt.tripletfont,delete mt.tripletfont),objEqual(mt.annotationfont,lt[pt])||(addFontToVoices(mt.annotationfont,mt.voices,"annotationfont"),lt[pt]=mt.annotationfont,delete mt.annotationfont)),mt)for(var yt=0;yt<gt.voices.length;yt++){var bt=gt.voices[yt],xt=mt.voices[yt];tt&&bt.push({el_type:"break"}),xt&&(gt.voices[yt]=bt.concat(xt))}}else{for(var vt=0;vt<ct.staff.length;vt++)ot[vt]=ct.staff[vt].key,it[vt]=ct.staff[vt].meter,st[vt]=ct.staff[vt].clef;nt.push(cloneLine(ct))}rt=!0}else rt=!1,nt.push(ct)}return nt}function replacer(_e,et){return _e==="abselem"?"abselem":et}function addMeterToVoices(_e,et){_e.el_type="meter",_e.startChar=-1,_e.endChar=-1;for(var tt=0;tt<et.length;tt++)et[tt].unshift(_e)}function addKeyToVoices(_e,et){_e.el_type="key",_e.startChar=-1,_e.endChar=-1;for(var tt=0;tt<et.length;tt++)et[tt].unshift(_e)}function addClefToVoices(_e,et){_e.el_type="clef",_e.startChar=-1,_e.endChar=-1;for(var tt=0;tt<et.length;tt++)et[tt].unshift(_e)}function addFontToVoices(_e,et,tt){_e.el_type="font",_e.type=tt,_e.startChar=-1,_e.endChar=-1;for(var nt=0;nt<et.length;nt++)et[nt].unshift(_e)}function objEqual(_e,et){if(!_e)return!0;var tt=JSON.stringify(_e,replacer),nt=JSON.stringify(et,replacer);return tt===nt}function cloneLine(_e){for(var et={},tt=Object.keys(_e),nt=0;nt<tt.length;nt++)if(tt[nt]!=="staff")et[tt[nt]]=_e[tt[nt]];else{et.staff=[];for(var rt=0;rt<_e.staff.length;rt++){for(var it={},ot=Object.keys(_e.staff[rt]),st=0;st<ot.length;st++)if(ot[st]!=="voices")it[ot[st]]=_e.staff[rt][ot[st]];else{it.voices=[];for(var ut=0;ut<_e.staff[rt].voices.length;ut++)it.voices.push([].concat(_e.staff[rt].voices[ut]))}et.staff.push(it)}}return et}var delineTune_1=delineTune$1,parseCommon$6=abc_common,spacing$d=spacing_1,sequence$1=abc_midi_sequencer,flatten=abc_midi_flattener,delineTune=delineTune_1,Tune$1=function(){this.reset=function(){this.version="1.1.0",this.media="screen",this.metaText={},this.metaTextInfo={},this.formatting={},this.lines=[],this.staffNum=0,this.voiceNum=0,this.lineNum=0,this.runningFonts={},delete this.visualTranspose},this.reset();function _e(ot,st,ut,ft){for(var dt=0;dt<ft.length;dt++)ot[ut][ft[dt]]=st[ut][ft[dt]]}this.copyTopInfo=function(ot){var st=["tempo","title","header","rhythm","origin","composer","author","partOrder"];_e(this,ot,"metaText",st),_e(this,ot,"metaTextInfo",st)},this.copyBottomInfo=function(ot){var st=["unalignedWords","book","source","discography","notes","transcription","history","abc-copyright","abc-creator","abc-edited-by","footer"];_e(this,ot,"metaText",st),_e(this,ot,"metaTextInfo",st)},this.getBeatLength=function(){var ot=this.getMeterFraction(),st=1;return(ot.num===6||ot.num===9||ot.num===12||ot.num===3&&ot.den===8)&&(st=3),st/ot.den};function et(ot,st){for(var ut=0,ft=0;ft<ot.length;ft++)if(ot[ft].staff)for(var dt=0;dt<ot[ft].staff.length;dt++)for(var lt=0;lt<ot[ft].staff[dt].voices.length;lt++)for(var at=ot[ft].staff[dt].voices[lt],ct=1,ht=0;ht<at.length;ht++){var pt=at[ht].rest&&at[ht].rest.type==="spacer";if(at[ht].startTriplet&&(ct=at[ht].tripletMultiplier),at[ht].duration&&!pt&&at[ht].el_type!=="tempo"&&(ut+=at[ht].duration*ct),at[ht].endTriplet&&(ct=1),ut>=st&&(ut-=st),at[ht].el_type==="bar")return ut}return ut}this.getPickupLength=function(){var ot=this.getBarLength(),st=et(this.lines,ot);return st<1e-8||ot-st<1e-8?0:st},this.getBarLength=function(){var ot=this.getMeterFraction();return ot.num/ot.den},this.getTotalTime=function(){return this.totalTime},this.getTotalBeats=function(){return this.totalBeats},this.millisecondsPerMeasure=function(ot){var st;if(ot)st=ot;else{var ut=this.metaText?this.metaText.tempo:null;st=this.getBpm(ut)}st<=0&&(st=1);var ft=this.getBeatsPerMeasure(),dt=ft/st;return dt*6e4},this.getBeatsPerMeasure=function(){var ot=this.getBeatLength(),st=this.getBarLength();return st/ot},this.getMeter=function(){for(var ot=0;ot<this.lines.length;ot++){var st=this.lines[ot];if(st.staff)for(var ut=0;ut<st.staff.length;ut++){var ft=st.staff[ut].meter;if(ft)return ft}}return{type:"common_time"}},this.getMeterFraction=function(){var ot=this.getMeter(),st=4,ut=4;return ot&&(ot.type==="specified"?(st=parseInt(ot.value[0].num,10),ut=parseInt(ot.value[0].den,10)):ot.type==="cut_time"?(st=2,ut=2):ot.type==="common_time"&&(st=4,ut=4)),this.meter={num:st,den:ut},this.meter},this.getKeySignature=function(){for(var ot=0;ot<this.lines.length;ot++){var st=this.lines[ot];if(st.staff){for(var ut=0;ut<st.staff.length;ut++)if(st.staff[ut].key)return st.staff[ut].key}}return{}},this.getElementFromChar=function(ot){for(var st=0;st<this.lines.length;st++){var ut=this.lines[st];if(ut.staff)for(var ft=0;ft<ut.staff.length;ft++)for(var dt=ut.staff[ft],lt=0;lt<dt.voices.length;lt++)for(var at=dt.voices[lt],ct=0;ct<at.length;ct++){var ht=at[ct];if(ht.startChar&&ht.endChar&&ht.startChar<=ot&&ht.endChar>ot)return ht}}return null};function tt(ot){for(var st,ut,ft,dt,lt=ot.length-1;lt>=0;lt--){var at=ot[lt];at.type==="bar"?(at.top=ft,at.nextTop=st,st=ft,at.bottom=dt,at.nextBottom=ut,ut=dt):at.type==="event"&&(ft=at.top,dt=at.top+at.height)}}function nt(ot){var st=[];for(var ut in ot)ot.hasOwnProperty(ut)&&st.push(ot[ut]);return st=st.sort(function(ft,dt){var lt=ft.milliseconds-dt.milliseconds;return lt!==0?lt:ft.type==="bar"?-1:1}),st}this.addElementToEvents=function(ot,st,ut,ft,dt,lt,at,ct,ht,pt){if(st.hint)return{isTiedState:void 0,duration:0};var mt=st.durationClass?st.durationClass:st.duration;if(st.abcelem.rest&&st.abcelem.rest.type==="spacer"&&(mt=0),mt>0){for(var gt=[],yt=0;yt<st.elemset.length;yt++)st.elemset[yt]!==null&&gt.push(st.elemset[yt]);var bt=st.startTie;if(ht!==void 0)ot["event"+ht].elements.push(gt),pt&&(ot["event"+ut]||(ot["event"+ut]={type:"event",milliseconds:ut,line:lt,measureNumber:at,top:ft,height:dt,left:null,width:0,elements:[],startChar:null,endChar:null,startCharArray:[],endCharArray:[]}),ot["event"+ut].measureStart=!0,pt=!1),bt||(ht=void 0);else{if(!ot["event"+ut])ot["event"+ut]={type:"event",milliseconds:ut,line:lt,measureNumber:at,top:ft,height:dt,left:st.x,width:st.w,elements:[gt],startChar:st.abcelem.startChar,endChar:st.abcelem.endChar,startCharArray:[st.abcelem.startChar],endCharArray:[st.abcelem.endChar],midiPitches:st.abcelem.midiPitches?parseCommon$6.cloneArray(st.abcelem.midiPitches):[]},st.abcelem.midiGraceNotePitches&&(ot["event"+ut].midiGraceNotePitches=parseCommon$6.cloneArray(st.abcelem.midiGraceNotePitches));else{if(ot["event"+ut].left?ot["event"+ut].left=Math.min(ot["event"+ut].left,st.x):ot["event"+ut].left=st.x,ot["event"+ut].elements.push(gt),ot["event"+ut].startCharArray.push(st.abcelem.startChar),ot["event"+ut].endCharArray.push(st.abcelem.endChar),ot["event"+ut].startChar===null&&(ot["event"+ut].startChar=st.abcelem.startChar),ot["event"+ut].endChar===null&&(ot["event"+ut].endChar=st.abcelem.endChar),st.abcelem.midiPitches&&st.abcelem.midiPitches.length){ot["event"+ut].midiPitches||(ot["event"+ut].midiPitches=[]);for(var yt=0;yt<st.abcelem.midiPitches.length;yt++)ot["event"+ut].midiPitches.push(st.abcelem.midiPitches[yt])}if(st.abcelem.midiGraceNotePitches&&st.abcelem.midiGraceNotePitches.length){ot["event"+ut].midiGraceNotePitches||(ot["event"+ut].midiGraceNotePitches=[]);for(var xt=0;xt<st.abcelem.midiGraceNotePitches.length;xt++)ot["event"+ut].midiGraceNotePitches.push(st.abcelem.midiGraceNotePitches[xt])}}pt&&(ot["event"+ut].measureStart=!0,pt=!1),bt&&(ht=ut)}}return{isTiedState:ht,duration:mt/ct,nextIsBar:pt||st.type==="bar"}},this.makeVoicesArray=function(){for(var ot=[],st=[],ut={},ft=0;ft<this.engraver.staffgroups.length;ft++){var dt=this.engraver.staffgroups[ft];if(dt&&dt.staffs&&dt.staffs.length>0){var lt=dt.staffs[0],at=lt.absoluteY,ct=at-lt.top*spacing$d.STEP,ht=dt.staffs[dt.staffs.length-1];at=ht.absoluteY;for(var pt=at-ht.bottom*spacing$d.STEP,mt=pt-ct,gt=dt.voices,yt=0;yt<gt.length;yt++)if(!(gt[yt].staff&&gt[yt].staff.isTabStaff)){var bt=!1;ot[yt]||(ot[yt]=[]),st[yt]===void 0&&(st[yt]=0);for(var xt=gt[yt].children,vt=0;vt<xt.length;vt++)xt[vt].type==="tempo"&&(ut[st[yt]]=this.getBpm(xt[vt].abcelem)),ot[yt].push({top:ct,height:mt,line:dt.line,measureNumber:st[yt],elem:xt[vt]}),xt[vt].type==="bar"&&bt&&st[yt]++,(xt[vt].type==="note"||xt[vt].type==="rest")&&(bt=!0)}}}return this.tempoLocations=ut,ot},this.setupEvents=function(ot,st,ut,ft){ft||(ft=1);for(var dt=[],lt={},at=ot,ct,ht=!0,pt=this.makeVoicesArray(),mt=0,gt=0;gt<pt.length;gt++){var yt=at,bt=Math.round(yt*1e3),xt=0,vt=-1,wt=pt[gt],_t=ut;st=this.getBeatLength()*_t/60;for(var Ct=-1,Et=0;Et<wt.length;Et++){var $t=wt[Et].measureNumber;Ct!==$t&&this.tempoLocations[$t]&&(_t=this.tempoLocations[$t],st=ft*this.getBeatLength()*_t/60,Ct=$t);var jt=wt[Et].elem,Dt=this.addElementToEvents(lt,jt,bt,wt[Et].top,wt[Et].height,wt[Et].line,wt[Et].measureNumber,st,ct,ht);ct=Dt.isTiedState,ht=Dt.nextIsBar,yt+=Dt.duration;var Pt;if(jt.duration>0&&lt["event"+bt]&&(Pt="event"+bt),bt=Math.round(yt*1e3),jt.type==="bar"){var kt=jt.abcelem.type,At=kt==="bar_right_repeat"||kt==="bar_dbl_repeat",Tt=jt.abcelem.startEnding==="1",St=kt==="bar_left_repeat"||kt==="bar_dbl_repeat"||kt==="bar_right_repeat";if(At){Et>0&&(lt[Pt].endX=jt.x),vt===-1&&(vt=Et);var Rt=0;Ct=-1;for(var Ot=xt;Ot<vt;Ot++){$t=wt[Ot].measureNumber,Ct!==$t&&this.tempoLocations[$t]&&(_t=this.tempoLocations[$t],st=ft*this.getBeatLength()*_t/60,Ct=$t);var Nt=wt[Ot].elem;Dt=this.addElementToEvents(lt,Nt,bt,wt[Ot].top,wt[Ot].height,wt[Ot].line,wt[Ot].measureNumber,st,ct,ht),ct=Dt.isTiedState,ht=Dt.nextIsBar,yt+=Dt.duration,Rt=bt,bt=Math.round(yt*1e3)}lt["event"+Rt]&&(lt["event"+Rt].endX=wt[vt].elem.x),ht=!0,vt=-1}Tt&&(vt=Et),St&&(xt=Et)}}mt=Math.max(mt,bt)}return dt=nt(lt),tt(dt),it(this.lines,dt),dt.push({type:"end",milliseconds:mt}),this.addUsefulCallbackInfo(dt,_t*ft),dt},this.addUsefulCallbackInfo=function(ot,st){for(var ut=this.millisecondsPerMeasure(st),ft=0;ft<ot.length;ft++){var dt=ot[ft];dt.millisecondsPerMeasure=ut}};function rt(ot,st){for(;st<ot.length&&ot[st].left===null;)st++;return ot[st]}function it(ot,st){if(!(st.length<1)){for(var ut=0;ut<st.length-1;ut++){var ft=st[ut],dt=rt(st,ut+1);if(ft.left!==null){var lt=dt&&ft.top===dt.top?dt.left:ot[ft.line].staffGroup.w;ft.endX!==void 0?lt>ft.left&&(ft.endX=Math.min(ft.endX,lt)):ft.endX=lt}}var at=st[st.length-1];at.endX=ot[at.line].staffGroup.w}}this.getBpm=function(ot){var st;if(ot){st=ot.bpm;var ut=this.getBeatLength(),ft=ot.duration&&ot.duration.length>0?ot.duration[0]:ut;st=st*ft/ut}if(!st){st=180;var dt=this.getMeterFraction();dt&&dt.num!==3&&dt.num%3===0&&(st=120)}return st},this.setTiming=function(ot,st){if(st=st||0,!this.engraver||!this.engraver.staffgroups)return console.log("setTiming cannot be called before the tune is drawn."),this.noteTimings=[],this.noteTimings;var ut=this.metaText?this.metaText.tempo:null,ft=this.getBpm(ut),dt=1;ot?ut&&(dt=ot/ft):ot=ft;var lt=this.getBeatLength(),at=ot/60,ct=this.getBarLength(),ht=ct/lt*st/at;ht&&(ht-=this.getPickupLength()/lt/at);var pt=lt*at;return this.noteTimings=this.setupEvents(ht,pt,ot,dt),this.noteTimings.length>0?(this.totalTime=this.noteTimings[this.noteTimings.length-1].milliseconds/1e3,this.totalBeats=this.totalTime*at):(this.totalTime=void 0,this.totalBeats=void 0),this.noteTimings},this.setUpAudio=function(ot){ot||(ot={});var st=sequence$1(this,ot);return flatten(st,ot,this.formatting.percmap,this.formatting.midi)},this.deline=function(ot){return delineTune(this.lines,ot)}},abc_tune=Tune$1,parseKeyVoice=abc_parse_key_voice,parseCommon$5=abc_common,TuneBuilder$1=function(_e){var et=this;this.setVisualTranspose=function(rt){rt&&(_e.visualTranspose=rt)},this.resolveOverlays=function(){for(var rt=!1,it=[],ot=0;ot<_e.lines.length;ot++){var st=_e.lines[ot];if(st.staff)for(var ut=0;ut<st.staff.length;ut++){for(var ft=st.staff[ut],dt=[],lt=0;lt<ft.voices.length;lt++){var at=ft.voices[lt];dt.push({hasOverlay:!1,voice:[],snip:[]}),it[ot]=0;for(var ct=0,ht=!1,pt=-1,mt=0;mt<at.length;mt++){var gt=at[mt];if(gt.el_type==="overlay"&&!ht){rt=!0,ht=!0,pt=mt,dt[lt].hasOverlay=!0;for(var yt=0;yt<ot;yt++)it[yt]&&_e.lines[yt].staff&&ft.voices.length>=_e.lines[yt].staff[0].voices.length&&_e.lines[yt].staff[0].voices.push([{el_type:"note",duration:it[yt],rest:{type:"invisible"},startChar:gt.startChar,endChar:gt.endChar}])}else gt.el_type==="bar"?(ht?(ht=!1,dt[lt].snip.push({start:pt,len:mt-pt}),dt[lt].voice.push(gt)):(ct>0&&dt[lt].voice.push({el_type:"note",duration:ct,rest:{type:"invisible"},startChar:gt.startChar,endChar:gt.endChar}),dt[lt].voice.push(gt)),ct=0):gt.el_type==="note"?ht?dt[lt].voice.push(gt):(ct+=gt.duration,it[ot]+=gt.duration):(gt.el_type==="scale"||gt.el_type==="stem"||gt.el_type==="overlay"||gt.el_type==="style"||gt.el_type==="transpose"||gt.el_type==="color")&&dt[lt].voice.push(gt)}dt[lt].hasOverlay&&dt[lt].snip.length===0&&dt[lt].snip.push({start:pt,len:at.length-pt})}for(lt=0;lt<dt.length;lt++){var bt=dt[lt];if(bt.hasOverlay){bt.voice.splice(0,0,{el_type:"stem",direction:"down"}),ft.voices.push(bt.voice);for(var xt=bt.snip.length-1;xt>=0;xt--){var vt=bt.snip[xt];ft.voices[lt].splice(vt.start,vt.len),ft.voices[lt].splice(vt.start+1,0,{el_type:"stem",direction:"auto"});var wt=tt(ft.voices[lt],vt.start);ft.voices[lt].splice(wt,0,{el_type:"stem",direction:"up"})}for(xt=0;xt<ft.voices[ft.voices.length-1].length;xt++){ft.voices[ft.voices.length-1][xt]=parseCommon$5.clone(ft.voices[ft.voices.length-1][xt]);var _t=ft.voices[ft.voices.length-1][xt];_t.el_type==="bar"&&_t.startEnding&&delete _t.startEnding,_t.el_type==="bar"&&_t.endEnding&&delete _t.endEnding}}}}}return rt};function tt(rt,it){for(var ot=it-1;ot>0&&rt[ot].el_type!=="bar";ot--);return ot}function nt(rt){for(var it=!0,ot=0;ot<rt.length;ot++){var st=rt[ot];if(st.staff){for(var ut=0;ut<st.staff.length;ut++){var ft=st.staff[ut];if(ft.title){for(var dt=!1,lt=0;lt<ft.title.length;lt++)ft.title[lt]?(ft.title[lt]=it?ft.title[lt].name:ft.title[lt].subname,ft.title[lt]?dt=!0:ft.title[lt]=""):ft.title[lt]="";dt||delete ft.title}}it=!1}}}this.cleanUp=function(rt,it,ot){this.closeLine(),delete _e.runningFonts,simplifyMetaText(_e),_e.metaText.tempo&&_e.metaText.tempo.bpm&&!_e.metaText.tempo.duration&&(_e.metaText.tempo.duration=[_e.getBeatLength()]);var st=!1,ut,ft,dt;for(ut=0;ut<_e.lines.length;ut++)if(_e.lines[ut].staff!==void 0){var lt=!1;for(ft=0;ft<_e.lines[ut].staff.length;ft++)if(_e.lines[ut].staff[ft]===void 0)st=!0,_e.lines[ut].staff[ft]=null;else for(dt=0;dt<_e.lines[ut].staff[ft].voices.length;dt++)_e.lines[ut].staff[ft].voices[dt]===void 0?_e.lines[ut].staff[ft].voices[dt]=[]:this.containsNotes(_e.lines[ut].staff[ft].voices[dt])&&(lt=!0);lt||(_e.lines[ut]=null,st=!0)}if(st&&(_e.lines=_e.lines.filter(function(vt){return!!vt}),_e.lines.forEach(function(vt){vt.staff&&(vt.staff=vt.staff.filter(function(wt){return!!wt}))})),rt)for(;pt(_e.lines,rt););if(it){for(st=!1,ut=0;ut<_e.lines.length;ut++)if(_e.lines[ut].staff!==void 0)for(ft=0;ft<_e.lines[ut].staff.length;ft++){var at=!1;for(dt=0;dt<_e.lines[ut].staff[ft].voices.length;dt++)this.containsNotesStrict(_e.lines[ut].staff[ft].voices[dt])&&(at=!0);at||(st=!0,_e.lines[ut].staff[ft]=null)}st&&_e.lines.forEach(function(vt){vt.staff&&(vt.staff=vt.staff.filter(function(wt){return!!wt}))})}for(nt(_e.lines),ut=0;ut<_e.lines.length;ut++)if(_e.lines[ut].staff)for(ft=0;ft<_e.lines[ut].staff.length;ft++)delete _e.lines[ut].staff[ft].workingClef;for(;this.resolveOverlays(););function ct(vt,wt,_t){ot[wt]||(ot[wt]=[]),ot[wt][_t]||(ot[wt][_t]=[]);for(var Ct,Et=function(It,Bt,zt){if(ot[wt][_t][zt]===void 0){for(Ct=0;Ct<ot[wt][_t].length;Ct++)if(ot[wt][_t][Ct]!==void 0){zt=Ct;break}if(ot[wt][_t][zt]===void 0){var Gt=zt*100+1;It.endSlur.forEach(function(dn){Gt===dn&&--Gt}),ot[wt][_t][zt]=[Gt]}}for(var Kt,fn=0;fn<Bt;fn++)Kt=ot[wt][_t][zt].pop(),It.endSlur.push(Kt);return ot[wt][_t][zt].length===0&&delete ot[wt][_t][zt],Kt},$t=function(It,Bt,zt,Gt){It.startSlur=[],ot[wt][_t][zt]===void 0&&(ot[wt][_t][zt]=[]);for(var Kt=zt*100+1,fn=0;fn<Bt;fn++)Gt&&(Gt.forEach(function(dn){Kt===dn&&++Kt}),Gt.forEach(function(dn){Kt===dn&&++Kt}),Gt.forEach(function(dn){Kt===dn&&++Kt})),ot[wt][_t][zt].forEach(function(dn){Kt===dn&&++Kt}),ot[wt][_t][zt].forEach(function(dn){Kt===dn&&++Kt}),ot[wt][_t][zt].push(Kt),It.startSlur.push({label:Kt}),It.dottedSlur&&(It.startSlur[It.startSlur.length-1].style="dotted",delete It.dottedSlur),Kt++},jt=0;jt<vt.length;jt++){var Dt=vt[jt];if(Dt.el_type==="note"){if(Dt.gracenotes)for(var Pt=0;Pt<Dt.gracenotes.length;Pt++){if(Dt.gracenotes[Pt].endSlur){var kt=Dt.gracenotes[Pt].endSlur;Dt.gracenotes[Pt].endSlur=[];for(var At=0;At<kt;At++)Et(Dt.gracenotes[Pt],1,20)}Dt.gracenotes[Pt].startSlur&&(Ct=Dt.gracenotes[Pt].startSlur,$t(Dt.gracenotes[Pt],Ct,20))}if(Dt.endSlur&&(Ct=Dt.endSlur,Dt.endSlur=[],Et(Dt,Ct,0)),Dt.startSlur&&(Ct=Dt.startSlur,$t(Dt,Ct,0)),Dt.pitches){for(var Tt=[],St=0;St<Dt.pitches.length;St++)if(Dt.pitches[St].endSlur){var Rt=Dt.pitches[St].endSlur;Dt.pitches[St].endSlur=[];for(var Ot=0;Ot<Rt;Ot++){var Nt=Et(Dt.pitches[St],1,St+1);Tt.push(Nt)}}for(St=0;St<Dt.pitches.length;St++)Dt.pitches[St].startSlur&&(Ct=Dt.pitches[St].startSlur,$t(Dt.pitches[St],Ct,St+1,Tt));Dt.gracenotes&&Dt.pitches[0].endSlur&&Dt.pitches[0].endSlur[0]===100&&Dt.pitches[0].startSlur&&(Dt.gracenotes[0].endSlur?Dt.gracenotes[0].endSlur.push(Dt.pitches[0].startSlur[0].label):Dt.gracenotes[0].endSlur=[Dt.pitches[0].startSlur[0].label],Dt.pitches[0].endSlur.length===1?delete Dt.pitches[0].endSlur:Dt.pitches[0].endSlur[0]===100?Dt.pitches[0].endSlur.shift():Dt.pitches[0].endSlur[Dt.pitches[0].endSlur.length-1]===100&&Dt.pitches[0].endSlur.pop(),ot[wt][_t][1].length===1?delete ot[wt][_t][1]:ot[wt][_t][1].pop())}}}}function ht(vt){parseKeyVoice.fixClef(vt)}function pt(vt,wt){for(ut=0;ut<vt.length;ut++)if(vt[ut].staff!==void 0)for(ft=0;ft<vt[ut].staff.length;ft++){var _t=[];for(dt=0;dt<vt[ut].staff[ft].voices.length;dt++)for(var Ct=vt[ut].staff[ft].voices[dt],Et=0,$t=0;$t<Ct.length;$t++)if(Ct[$t].el_type==="bar"){if(Et++,Et>=wt&&$t<Ct.length-1){var jt=mt(vt,ut);if(!jt){var Dt=JSON.parse(JSON.stringify(vt[ut]));vt.push(parseCommon$5.clone(Dt)),jt=vt[vt.length-1];for(var Pt=0;Pt<jt.staff.length;Pt++)for(var kt=0;kt<jt.staff[Pt].voices.length;kt++)jt.staff[Pt].voices[kt]=[]}var At=$t+1,Tt=vt[ut].staff[ft].voices[dt].slice(At);return vt[ut].staff[ft].voices[dt]=vt[ut].staff[ft].voices[dt].slice(0,At),jt.staff[ft].voices[dt]=_t.concat(Tt.concat(jt.staff[ft].voices[dt])),!0}}else Ct[$t].duration||_t.push(Ct[$t])}return!1}function mt(vt,wt){for(wt++;vt.length>wt;){if(vt[wt].staff)return vt[wt];wt++}return null}for(_e.lineNum=0;_e.lineNum<_e.lines.length;_e.lineNum++){var gt=_e.lines[_e.lineNum].staff;if(gt)for(_e.staffNum=0;_e.staffNum<gt.length;_e.staffNum++)for(gt[_e.staffNum].clef&&ht(gt[_e.staffNum].clef),_e.voiceNum=0;_e.voiceNum<gt[_e.staffNum].voices.length;_e.voiceNum++){var yt=gt[_e.staffNum].voices[_e.voiceNum];ct(yt,_e.staffNum,_e.voiceNum);for(var bt=0;bt<yt.length;bt++)yt[bt].el_type==="clef"&&ht(yt[bt]);if(yt.length>0&&yt[yt.length-1].barNumber){var xt=mt(_e.lines,_e.lineNum);xt&&(xt.staff[0].barNumber=yt[yt.length-1].barNumber),delete yt[yt.length-1].barNumber}}}return delete _e.staffNum,delete _e.voiceNum,delete _e.lineNum,delete _e.potentialStartBeam,delete _e.potentialEndBeam,delete _e.vskipPending,ot},_e.reset(),this.getLastNote=function(){if(_e.lines[_e.lineNum]&&_e.lines[_e.lineNum].staff&&_e.lines[_e.lineNum].staff[_e.staffNum]&&_e.lines[_e.lineNum].staff[_e.staffNum].voices[_e.voiceNum])for(var rt=_e.lines[_e.lineNum].staff[_e.staffNum].voices[_e.voiceNum].length-1;rt>=0;rt--){var it=_e.lines[_e.lineNum].staff[_e.staffNum].voices[_e.voiceNum][rt];if(it.el_type==="note")return it}return null},this.addTieToLastNote=function(rt){var it=this.getLastNote();return it&&it.pitches&&it.pitches.length>0?(it.pitches[0].startTie={},rt&&(it.pitches[0].startTie.style="dotted"),!0):!1},this.getDuration=function(rt){return rt.duration?rt.duration:0},this.closeLine=function(){_e.potentialStartBeam&&_e.potentialEndBeam&&(_e.potentialStartBeam.startBeam=!0,_e.potentialEndBeam.endBeam=!0),delete _e.potentialStartBeam,delete _e.potentialEndBeam},this.appendElement=function(rt,it,ot,st){var ut=_e,ft=function(ct){var ht=ut.lines[ut.lineNum].staff[ut.staffNum];if(ht){if(ct.pitches!==void 0){var pt=ht.workingClef.verticalPos;ct.pitches.forEach(function(gt){gt.verticalPos=gt.pitch-pt})}if(ct.gracenotes!==void 0){var mt=ht.workingClef.verticalPos;ct.gracenotes.forEach(function(gt){gt.verticalPos=gt.pitch-mt})}ht.voices[ut.voiceNum].push(ct)}};st.el_type=rt,it!==null&&(st.startChar=it),ot!==null&&(st.endChar=ot);var dt=function(){ut.potentialStartBeam.startBeam=!0,st.endBeam=!0,delete ut.potentialStartBeam,delete ut.potentialEndBeam},lt=function(){ut.potentialStartBeam!==void 0&&ut.potentialEndBeam!==void 0&&(ut.potentialStartBeam.startBeam=!0,ut.potentialEndBeam.endBeam=!0),delete ut.potentialStartBeam,delete ut.potentialEndBeam};if(rt==="note"){var at=et.getDuration(st);at>=.25||st.force_end_beam_last&&ut.potentialStartBeam!==void 0?lt():st.end_beam&&ut.potentialStartBeam!==void 0?st.rest===void 0?dt():lt():st.rest===void 0&&(ut.potentialStartBeam===void 0?st.end_beam||(ut.potentialStartBeam=st,delete ut.potentialEndBeam):ut.potentialEndBeam=st)}else lt();delete st.end_beam,delete st.force_end_beam_last,ft(st)},this.appendStartingElement=function(rt,it,ot,st){this.closeLine();var ut;rt==="key"&&(ut=st.impliedNaturals,delete st.impliedNaturals,delete st.explicitAccidentals);var ft=parseCommon$5.clone(st);if(_e.lines[_e.lineNum]&&_e.lines[_e.lineNum].staff){_e.lines[_e.lineNum].staff.length<=_e.staffNum&&(_e.lines[_e.lineNum].staff[_e.staffNum]={},_e.lines[_e.lineNum].staff[_e.staffNum].clef=parseCommon$5.clone(_e.lines[_e.lineNum].staff[0].clef),_e.lines[_e.lineNum].staff[_e.staffNum].key=parseCommon$5.clone(_e.lines[_e.lineNum].staff[0].key),_e.lines[_e.lineNum].staff[0].meter&&(_e.lines[_e.lineNum].staff[_e.staffNum].meter=parseCommon$5.clone(_e.lines[_e.lineNum].staff[0].meter)),_e.lines[_e.lineNum].staff[_e.staffNum].workingClef=parseCommon$5.clone(_e.lines[_e.lineNum].staff[0].workingClef),_e.lines[_e.lineNum].staff[_e.staffNum].voices=[[]]),rt==="clef"&&(_e.lines[_e.lineNum].staff[_e.staffNum].workingClef=ft);for(var dt=_e.lines[_e.lineNum].staff[_e.staffNum].voices[_e.voiceNum],lt=0;lt<dt.length;lt++){if(dt[lt].el_type==="note"||dt[lt].el_type==="bar"){ft.el_type=rt,ft.startChar=it,ft.endChar=ot,ut&&(ft.accidentals=ut.concat(ft.accidentals)),dt.push(ft);return}if(dt[lt].el_type===rt){ft.el_type=rt,ft.startChar=it,ft.endChar=ot,ut&&(ft.accidentals=ut.concat(ft.accidentals)),dt[lt]=ft;return}}_e.lines[_e.lineNum].staff[_e.staffNum][rt]=st}},this.pushLine=function(rt){_e.vskipPending&&(rt.vskip=_e.vskipPending,delete _e.vskipPending),_e.lines.push(rt)},this.addSubtitle=function(rt,it){this.pushLine({subtitle:{text:rt,startChar:it.startChar,endChar:it.endChar}})},this.addSpacing=function(rt){_e.vskipPending=rt},this.addNewPage=function(rt){this.pushLine({newpage:rt})},this.addSeparator=function(rt,it,ot,st){this.pushLine({separator:{spaceAbove:Math.round(rt),spaceBelow:Math.round(it),lineLength:Math.round(ot),startChar:st.startChar,endChar:st.endChar}})},this.addText=function(rt,it){this.pushLine({text:{text:rt,startChar:it.startChar,endChar:it.endChar}})},this.addCentered=function(rt){this.pushLine({text:[{text:rt,center:!0}]})},this.containsNotes=function(rt){for(var it=0;it<rt.length;it++)if(rt[it].el_type==="note"||rt[it].el_type==="bar")return!0;return!1},this.containsNotesStrict=function(rt){for(var it=0;it<rt.length;it++)if(rt[it].el_type==="note"&&(rt[it].rest===void 0||rt[it].chord!==void 0))return!0;return!1},this.changeVoiceScale=function(rt){et.appendElement("scale",null,null,{size:rt})},this.changeVoiceColor=function(rt){et.appendElement("color",null,null,{color:rt})},this.startNewLine=function(rt){var it=_e;this.closeLine();var ot=function(ft){var dt=it.lines[it.lineNum].staff[it.staffNum];if(dt.voices[it.voiceNum]=[],dt.title||(dt.title=[]),dt.title[it.voiceNum]={name:ft.name,subname:ft.subname},ft.style&&et.appendElement("style",null,null,{head:ft.style}),ft.stem)et.appendElement("stem",null,null,{direction:ft.stem});else if(it.voiceNum>0){if(dt.voices[0]!==void 0){for(var lt=!1,at=0;at<dt.voices[0].length;at++)dt.voices[0].el_type==="stem"&&(lt=!0);if(!lt){var ct={el_type:"stem",direction:"up"};dt.voices[0].splice(0,0,ct)}}et.appendElement("stem",null,null,{direction:"down"})}ft.scale&&et.appendElement("scale",null,null,{size:ft.scale}),ft.color&&et.appendElement("color",null,null,{color:ft.color})},st=function(ft){ft.key&&ft.key.impliedNaturals&&(ft.key.accidentals=ft.key.accidentals.concat(ft.key.impliedNaturals),delete ft.key.impliedNaturals),it.lines[it.lineNum].staff[it.staffNum]={voices:[],clef:ft.clef,key:ft.key,workingClef:ft.clef},ft.stafflines!==void 0&&(it.lines[it.lineNum].staff[it.staffNum].clef.stafflines=ft.stafflines,it.lines[it.lineNum].staff[it.staffNum].workingClef.stafflines=ft.stafflines),ft.staffscale&&(it.lines[it.lineNum].staff[it.staffNum].staffscale=ft.staffscale),ft.annotationfont&&et.setLineFont("annotationfont",ft.annotationfont),ft.gchordfont&&et.setLineFont("gchordfont",ft.gchordfont),ft.tripletfont&&et.setLineFont("tripletfont",ft.tripletfont),ft.vocalfont&&et.setLineFont("vocalfont",ft.vocalfont),ft.bracket&&(it.lines[it.lineNum].staff[it.staffNum].bracket=ft.bracket),ft.brace&&(it.lines[it.lineNum].staff[it.staffNum].brace=ft.brace),ft.connectBarLines&&(it.lines[it.lineNum].staff[it.staffNum].connectBarLines=ft.connectBarLines),ft.barNumber&&(it.lines[it.lineNum].staff[it.staffNum].barNumber=ft.barNumber),ot(ft),ft.part&&et.appendElement("part",ft.part.startChar,ft.part.endChar,{title:ft.part.title}),ft.meter!==void 0&&(it.lines[it.lineNum].staff[it.staffNum].meter=ft.meter),it.vskipPending&&(it.lines[it.lineNum].vskip=it.vskipPending,delete it.vskipPending)},ut=function(ft){it.lines[it.lineNum]={staff:[]},st(ft)};_e.lines[_e.lineNum]===void 0?ut(rt):_e.lines[_e.lineNum].staff===void 0?(_e.lineNum++,this.startNewLine(rt)):_e.lines[_e.lineNum].staff[_e.staffNum]===void 0?st(rt):_e.lines[_e.lineNum].staff[_e.staffNum].voices[_e.voiceNum]===void 0?ot(rt):this.containsNotes(_e.lines[_e.lineNum].staff[_e.staffNum].voices[_e.voiceNum])?(_e.lineNum++,this.startNewLine(rt)):rt.part&&et.appendElement("part",rt.part.startChar,rt.part.endChar,{title:rt.part.title})},this.setRunningFont=function(rt,it){_e.runningFonts[rt]=it},this.setLineFont=function(rt,it){if(_e.runningFonts[rt]){for(var ot=!1,st=Object.keys(it),ut=0;ut<st.length;ut++)_e.runningFonts[rt][st[ut]]!==it[st[ut]]&&(ot=!0);ot&&(_e.lines[_e.lineNum].staff[_e.staffNum][rt]=it)}_e.runningFonts[rt]=it},this.setBarNumberImmediate=function(rt){var it=this.getCurrentVoice();if(it&&it.length>0){var ot=it[it.length-1];if(ot.el_type==="bar")ot.barNumber!==void 0&&(ot.barNumber=rt);else return rt-1}return rt},this.hasBeginMusic=function(){for(var rt=0;rt<_e.lines.length;rt++)if(_e.lines[rt].staff)return!0;return!1},this.isFirstLine=function(rt){for(var it=rt-1;it>=0;it--)if(_e.lines[it].staff!==void 0)return!1;return!0},this.getCurrentVoice=function(){var rt=_e.lines[_e.lineNum];if(!rt)return null;var it=rt.staff[_e.staffNum];return it&&it.voices[_e.voiceNum]!==void 0?it.voices[_e.voiceNum]:null},this.setCurrentVoice=function(rt,it){_e.staffNum=rt,_e.voiceNum=it;for(var ot=0;ot<_e.lines.length;ot++)if(_e.lines[ot].staff&&(_e.lines[ot].staff[rt]===void 0||_e.lines[ot].staff[rt].voices[it]===void 0||!this.containsNotes(_e.lines[ot].staff[rt].voices[it]))){_e.lineNum=ot;return}_e.lineNum=ot},this.addMetaText=function(rt,it,ot){_e.metaText[rt]===void 0?(_e.metaText[rt]=it,_e.metaTextInfo[rt]=ot):(typeof _e.metaText[rt]=="string"&&typeof it=="string"?_e.metaText[rt]+=`
`+it:(_e.metaText[rt]==="string"&&(_e.metaText[rt]=[{text:_e.metaText[rt]}]),typeof it=="string"&&(it=[{text:it}]),_e.metaText[rt]=_e.metaText[rt].concat(it)),_e.metaTextInfo[rt].endChar=ot.endChar)},this.addMetaTextArray=function(rt,it,ot){_e.metaText[rt]===void 0?(_e.metaText[rt]=[it],_e.metaTextInfo[rt]=ot):(_e.metaText[rt].push(it),_e.metaTextInfo[rt].endChar=ot.endChar)},this.addMetaTextObj=function(rt,it,ot){_e.metaText[rt]=it,_e.metaTextInfo[rt]=ot}};function isArrayOfStrings(_e){if(!_e||typeof _e=="string")return!1;for(var et=0;et<_e.length;et++)if(typeof _e[et]!="string")return!1;return!0}function simplifyMetaText(_e){isArrayOfStrings(_e.metaText.notes)&&(_e.metaText.notes=_e.metaText.notes.join(`
`)),isArrayOfStrings(_e.metaText.history)&&(_e.metaText.history=_e.metaText.history.join(`
`))}var tuneBuilder=TuneBuilder$1,parseCommon$4=abc_common,parseDirective=abc_parse_directive,ParseHeader=abc_parse_header,ParseMusic=abc_parse_music,Tokenizer=abc_tokenizer,wrap$1=wrap_lines,Tune=abc_tune,TuneBuilder=tuneBuilder,Parse$2=function(){var _e=new Tune,et=new TuneBuilder(_e),tt,nt="",rt="";this.getTune=function(){var xt={formatting:_e.formatting,lines:_e.lines,media:_e.media,metaText:_e.metaText,metaTextInfo:_e.metaTextInfo,version:_e.version,addElementToEvents:_e.addElementToEvents,addUsefulCallbackInfo:_e.addUsefulCallbackInfo,getTotalTime:_e.getTotalTime,getTotalBeats:_e.getTotalBeats,getBarLength:_e.getBarLength,getBeatLength:_e.getBeatLength,getBeatsPerMeasure:_e.getBeatsPerMeasure,getBpm:_e.getBpm,getMeter:_e.getMeter,getMeterFraction:_e.getMeterFraction,getPickupLength:_e.getPickupLength,getKeySignature:_e.getKeySignature,getElementFromChar:_e.getElementFromChar,makeVoicesArray:_e.makeVoicesArray,millisecondsPerMeasure:_e.millisecondsPerMeasure,setupEvents:_e.setupEvents,setTiming:_e.setTiming,setUpAudio:_e.setUpAudio,deline:_e.deline};return _e.lineBreaks&&(xt.lineBreaks=_e.lineBreaks),_e.visualTranspose&&(xt.visualTranspose=_e.visualTranspose),xt};function it(xt,vt,wt){xt.positioning||(xt.positioning={}),xt.positioning[vt]=wt}function ot(xt,vt,wt){xt.fonts||(xt.fonts={}),xt.fonts[vt]=wt}var st={reset:function(){for(var xt in this)this.hasOwnProperty(xt)&&typeof this[xt]!="function"&&delete this[xt];this.iChar=0,this.key={accidentals:[],root:"none",acc:"",mode:""},this.meter=null,this.origMeter=null,this.hasMainTitle=!1,this.default_length=.125,this.clef={type:"treble",verticalPos:0},this.octave=0,this.next_note_duration=0,this.start_new_line=!0,this.is_in_header=!0,this.partForNextLine={},this.tempoForNextLine=[],this.havent_set_length=!0,this.voices={},this.staves=[],this.macros={},this.currBarNumber=1,this.barCounter={},this.ignoredDecorations=[],this.score_is_present=!1,this.inEnding=!1,this.inTie=[],this.inTieChord={},this.vocalPosition="auto",this.dynamicPosition="auto",this.chordPosition="auto",this.ornamentPosition="auto",this.volumePosition="auto",this.openSlurs=[],this.freegchord=!1,this.endingHoldOver={}},differentFont:function(xt,vt){return this[xt].decoration!==vt[xt].decoration||this[xt].face!==vt[xt].face||this[xt].size!==vt[xt].size||this[xt].style!==vt[xt].style||this[xt].weight!==vt[xt].weight},addFormattingOptions:function(xt,vt,wt){wt==="note"?(this.vocalPosition!=="auto"&&it(xt,"vocalPosition",this.vocalPosition),this.dynamicPosition!=="auto"&&it(xt,"dynamicPosition",this.dynamicPosition),this.chordPosition!=="auto"&&it(xt,"chordPosition",this.chordPosition),this.ornamentPosition!=="auto"&&it(xt,"ornamentPosition",this.ornamentPosition),this.volumePosition!=="auto"&&it(xt,"volumePosition",this.volumePosition),this.differentFont("annotationfont",vt)&&ot(xt,"annotationfont",this.annotationfont),this.differentFont("gchordfont",vt)&&ot(xt,"gchordfont",this.gchordfont),this.differentFont("vocalfont",vt)&&ot(xt,"vocalfont",this.vocalfont),this.differentFont("tripletfont",vt)&&ot(xt,"tripletfont",this.tripletfont)):wt==="bar"&&(this.dynamicPosition!=="auto"&&it(xt,"dynamicPosition",this.dynamicPosition),this.chordPosition!=="auto"&&it(xt,"chordPosition",this.chordPosition),this.ornamentPosition!=="auto"&&it(xt,"ornamentPosition",this.ornamentPosition),this.volumePosition!=="auto"&&it(xt,"volumePosition",this.volumePosition),this.differentFont("measurefont",vt)&&ot(xt,"measurefont",this.measurefont),this.differentFont("repeatfont",vt)&&ot(xt,"repeatfont",this.repeatfont))},duplicateStartEndingHoldOvers:function(){this.endingHoldOver={inTie:[],inTieChord:{}};for(var xt=0;xt<this.inTie.length;xt++)if(this.endingHoldOver.inTie.push([]),this.inTie[xt])for(var vt=0;vt<this.inTie[xt].length;vt++)this.endingHoldOver.inTie[xt].push(this.inTie[xt][vt]);for(var wt in this.inTieChord)this.inTieChord.hasOwnProperty(wt)&&(this.endingHoldOver.inTieChord[wt]=this.inTieChord[wt])},restoreStartEndingHoldOvers:function(){if(this.endingHoldOver.inTie){this.inTie=[],this.inTieChord={};for(var xt=0;xt<this.endingHoldOver.inTie.length;xt++){this.inTie.push([]);for(var vt=0;vt<this.endingHoldOver.inTie[xt].length;vt++)this.inTie[xt].push(this.endingHoldOver.inTie[xt][vt])}for(var wt in this.endingHoldOver.inTieChord)this.endingHoldOver.inTieChord.hasOwnProperty(wt)&&(this.inTieChord[wt]=this.endingHoldOver.inTieChord[wt])}}},ut=function(xt){st.warnings||(st.warnings=[]),st.warnings.push(xt)},ft=function(xt){st.warningObjects||(st.warningObjects=[]),st.warningObjects.push(xt)},dt=function(xt){var vt=xt.replace(/\x12/g," ");return vt=vt.replace(/&/g,"&amp;"),vt=vt.replace(/</g,"&lt;"),vt.replace(/>/g,"&gt;")},lt=function(xt,vt,wt){vt||(vt=" ");var _t=vt[wt];(_t===" "||!_t)&&(_t="SPACE");var Ct=dt(vt.substring(wt-64,wt))+'<span style="text-decoration:underline;font-size:1.3em;font-weight:bold;">'+_t+"</span>"+dt(vt.substring(wt+1).substring(0,64));ut("Music Line:"+tt.lineIndex+":"+(wt+1)+": "+xt+":  "+Ct),ft({message:xt,line:vt,startChar:st.iChar+wt,column:wt})},at,ct;this.getWarnings=function(){return st.warnings},this.getWarningObjects=function(){return st.warningObjects};var ht=function(xt,vt){if(vt.indexOf("")>=0){nt+=vt;return}if(vt=nt+vt,nt="",!xt){lt("Can't add words before the first line of music",xt,0);return}vt=parseCommon$4.strip(vt),vt[vt.length-1]!=="-"&&(vt=vt+" ");for(var wt=[],_t=0,Ct=!1,Et=function(Pt){var kt=parseCommon$4.strip(vt.substring(_t,Pt));if(kt=kt.replace(/\\([-_*|~])/g,"$1"),_t=Pt+1,kt.length>0){Ct&&(kt=kt.replace(/~/g," "));var At=vt[Pt];return At!=="_"&&At!=="-"&&(At=" "),wt.push({syllable:tt.translateString(kt),divider:At}),Ct=!1,!0}return!1},$t=!1,jt=0;jt<vt.length;jt++){switch(vt[jt]){case" ":case"":Et(jt);break;case"-":!$t&&!Et(jt)&&wt.length>0&&(parseCommon$4.last(wt).divider="-",wt.push({skip:!0,to:"next"}));break;case"_":$t||(Et(jt),wt.push({skip:!0,to:"slur"}));break;case"*":$t||(Et(jt),wt.push({skip:!0,to:"next"}));break;case"|":$t||(Et(jt),wt.push({skip:!0,to:"bar"}));break;case"~":$t||(Ct=!0);break}$t=vt[jt]==="\\"}var Dt=!1;xt.forEach(function(Pt){if(wt.length!==0){if(wt[0].skip){switch(wt[0].to){case"next":Pt.el_type==="note"&&Pt.pitches!==null&&!Dt&&wt.shift();break;case"slur":Pt.el_type==="note"&&Pt.pitches!==null&&wt.shift();break;case"bar":Pt.el_type==="bar"&&wt.shift();break}Pt.el_type!=="bar"&&(Pt.lyric===void 0?Pt.lyric=[{syllable:"",divider:" "}]:Pt.lyric.push({syllable:"",divider:" "}))}else if(Pt.el_type==="note"&&Pt.rest===void 0&&!Dt){var kt=wt.shift();kt.syllable&&(kt.syllable=kt.syllable.replace(/ +/g,"")),Pt.lyric===void 0?Pt.lyric=[kt]:Pt.lyric.push(kt)}}})},pt=function(xt,vt){if(vt.indexOf("")>=0){rt+=vt;return}if(vt=rt+vt,rt="",!xt){lt("Can't add symbols before the first line of music",xt,0);return}vt=parseCommon$4.strip(vt),vt[vt.length-1]!=="-"&&(vt=vt+" ");for(var wt=[],_t=0,Ct=!1,Et=function(Dt){var Pt=parseCommon$4.strip(vt.substring(_t,Dt));if(_t=Dt+1,Pt.length>0){Ct&&(Pt=Pt.replace(/~/g," "));var kt=vt[Dt];return kt!=="_"&&kt!=="-"&&(kt=" "),wt.push({syllable:tt.translateString(Pt),divider:kt}),Ct=!1,!0}return!1},$t=0;$t<vt.length;$t++)switch(vt[$t]){case" ":case"":Et($t);break;case"-":!Et($t)&&wt.length>0&&(parseCommon$4.last(wt).divider="-",wt.push({skip:!0,to:"next"}));break;case"_":Et($t),wt.push({skip:!0,to:"slur"});break;case"*":Et($t),wt.push({skip:!0,to:"next"});break;case"|":Et($t),wt.push({skip:!0,to:"bar"});break;case"~":Ct=!0;break}var jt=!1;xt.forEach(function(Dt){if(wt.length!==0){if(wt[0].skip)switch(wt[0].to){case"next":Dt.el_type==="note"&&Dt.pitches!==null&&!jt&&wt.shift();break;case"slur":Dt.el_type==="note"&&Dt.pitches!==null&&wt.shift();break;case"bar":Dt.el_type==="bar"&&wt.shift();break}else if(Dt.el_type==="note"&&Dt.rest===void 0&&!jt){var Pt=wt.shift();Dt.lyric===void 0?Dt.lyric=[Pt]:Dt.lyric.push(Pt)}}})},mt=function(xt){if(parseCommon$4.startsWith(xt,"%%")){var vt=parseDirective.addDirective(xt.substring(2));vt&&lt(vt,xt,2);return}var wt=xt.indexOf("%");if(wt>=0&&(xt=xt.substring(0,wt)),xt=xt.replace(/\s+$/,""),xt.length!==0){if(nt){ht(et.getCurrentVoice(),xt.substring(2));return}if(rt){pt(et.getCurrentVoice(),xt.substring(2));return}if(xt.length<2||xt[1]!==":"||ct.lineContinuation){ct.parseMusic(xt);return}var _t=at.parseHeader(xt);_t.regular&&ct.parseMusic(xt),_t.newline&&ct.startNewLine(),_t.words&&ht(et.getCurrentVoice(),xt.substring(2)),_t.symbols&&pt(et.getCurrentVoice(),xt.substring(2))}};function gt(xt,vt){xt.push({el_type:"hint"});for(var wt=0;wt<vt.length;wt++){var _t=vt[wt],Ct=parseCommon$4.clone(_t);if(xt.push(Ct),_t.el_type==="bar")return}}function yt(xt,vt){for(var wt=0;wt<xt.length;wt++){var _t=xt[wt],Ct=vt[wt];if(Ct)for(var Et=0;Et<Ct.voices.length;Et++){var $t=Ct.voices[Et],jt=_t.voices[Et];jt&&gt(jt,$t)}}}function bt(){for(var xt=0;xt<_e.lines.length;xt++){var vt=_e.lines[xt].staff;if(vt){for(var wt=xt+1;wt<_e.lines.length&&_e.lines[wt].staff===void 0;)wt++;if(wt<_e.lines.length){var _t=_e.lines[wt].staff;yt(vt,_t)}}}}this.parse=function(xt,vt,wt){vt||(vt={}),wt||(wt=0),_e.reset(),xt=xt.replace(/\r\n?/g,`
`)+`
`;var _t=xt.split(`
\\`);if(_t.length>1){for(var Ct=1;Ct<_t.length;Ct++)for(;_t[Ct].length>0&&_t[Ct][0]!==`
`;)_t[Ct]=_t[Ct].substr(1),_t[Ct-1]+=" ";xt=_t.join("  ")}xt=xt.replace(/\\([ \t]*)(%.*)*\n/g,function(At,Tt,St){var Rt=St?Array(St.length+1).join(" "):"";return Tt+""+Rt+`
`});var Et=xt.split(`
`);parseCommon$4.last(Et).length===0&&Et.pop(),tt=new Tokenizer(Et,st),at=new ParseHeader(tt,lt,st,_e,et),ct=new ParseMusic(tt,lt,st,_e,et,at),vt.print&&(_e.media="print"),st.reset(),st.iChar=wt,vt.visualTranspose?(st.globalTranspose=parseInt(vt.visualTranspose),st.globalTranspose===0?st.globalTranspose=void 0:et.setVisualTranspose(vt.visualTranspose)):st.globalTranspose=void 0,vt.lineBreaks&&(st.lineBreaks=vt.lineBreaks),at.reset(tt,lt,st,_e);try{vt.format&&parseDirective.globalFormatting(vt.format);for(var $t=tt.nextLine();$t;){if(vt.header_only&&st.is_in_header===!1||vt.stop_on_warning&&st.warnings)throw"normal_abort";var jt=st.is_in_header;mt($t),jt&&!st.is_in_header&&(et.setRunningFont("annotationfont",st.annotationfont),et.setRunningFont("gchordfont",st.gchordfont),et.setRunningFont("tripletfont",st.tripletfont),et.setRunningFont("vocalfont",st.vocalfont)),$t=tt.nextLine()}nt&&ht(et.getCurrentVoice(),""),rt&&pt(et.getCurrentVoice(),""),st.openSlurs=et.cleanUp(st.barsperstaff,st.staffnonote,st.openSlurs)}catch(At){if(At!=="normal_abort")throw At}var Dt=11*72,Pt=8.5*72;switch(st.papersize){case"legal":Dt=14*72,Pt=8.5*72;break;case"A4":Dt=11.7*72,Pt=8.3*72;break}if(st.landscape){var kt=Dt;Dt=Pt,Pt=kt}_e.formatting.pagewidth||(_e.formatting.pagewidth=Pt),_e.formatting.pageheight||(_e.formatting.pageheight=Dt),vt.hint_measures&&bt(),wrap$1.wrapLines(_e,st.lineBreaks,st.barNumbers)}},abc_parse=Parse$2,parseCommon$3=abc_common,bookParser$1=function(_e){var et="",tt=_e.match(/(\s*)/);_e=parseCommon$3.strip(_e);for(var nt=_e.split(`
X:`),rt=1;rt<nt.length;rt++)nt[rt]="X:"+nt[rt];var it=tt?tt[0].length:0,ot=[];if(nt.forEach(function(dt){ot.push({abc:dt,startPos:it}),it+=dt.length+1}),ot.length>1&&!parseCommon$3.startsWith(ot[0].abc,"X:")){var st=ot.shift(),ut=st.abc.split(`
`);ut.forEach(function(dt){parseCommon$3.startsWith(dt,"%%")&&(et+=dt+`
`)})}var ft=et;return ot.forEach(function(dt){var lt=dt.abc.indexOf(`

`);lt>0&&(dt.abc=dt.abc.substring(0,lt)),dt.pure=dt.abc,dt.abc=et+dt.abc,dt.title="";var at=dt.pure.split("T:");at.length>1&&(at=at[1].split(`
`),dt.title=parseCommon$3.strip(at[0]));var ct=dt.pure.substring(2,dt.pure.indexOf(`
`));dt.id=parseCommon$3.strip(ct)}),{header:ft,tunes:ot}},abc_parse_book=bookParser$1;function StringTablature$2(_e,et){this.numLines=_e,this.lineSpace=et,this.verticalSize=this.numLines*this.lineSpace;var tt=3;this.bar={pitch:tt,pitch2:et*_e,height:5}}StringTablature$2.prototype.bypass=function(_e){var et=_e.staffGroup.voices;return!!(et.length>0&&et[0].isPercussion)};StringTablature$2.prototype.setRelative=function(_e,et,tt){switch(_e.type){case"bar":et.pitch=this.bar.pitch,et.pitch2=this.bar.pitch2,et.height=this.height;break;case"symbol":var nt=this.bar.pitch2/2;if(_e.name=="dots.dot")return tt?(et.pitch=nt,!1):(et.pitch=nt+this.lineSpace,!0);break}return tt};var stringTablature=StringTablature$2;function TabCommon$1(_e,et,tt){this.tune=_e,this.params=tt,this.tuneNumber=et,this.inError=!1}TabCommon$1.prototype.setError=function(_e){var et=this.tune;_e&&(this.error=_e,this.inError=!0,et.warnings?et.warnings.push(_e):et.warnings=[_e])};var tabCommon=TabCommon$1,VoiceElement$3=function _e(et,tt){this.children=[],this.beams=[],this.otherchildren=[],this.w=0,this.duplicate=!1,this.voicenumber=et,this.voicetotal=tt,this.bottom=7,this.top=7,this.specialY={tempoHeightAbove:0,partHeightAbove:0,volumeHeightAbove:0,dynamicHeightAbove:0,endingHeightAbove:0,chordHeightAbove:0,lyricHeightAbove:0,lyricHeightBelow:0,chordHeightBelow:0,volumeHeightBelow:0,dynamicHeightBelow:0}};VoiceElement$3.prototype.addChild=function(_e){if(_e.type==="bar"){for(var et=!0,tt=0;et&&tt<this.children.length;tt++)this.children[tt].type.indexOf("staff-extra")<0&&this.children[tt].type!=="tempo"&&(et=!1);et||(this.beams.push("bar"),this.otherchildren.push("bar"))}this.children[this.children.length]=_e,this.setRange(_e)};VoiceElement$3.prototype.setLimit=function(_e,et){var tt=et.specialY;tt||(tt=et),tt[_e]&&(this.specialY[_e]?this.specialY[_e]=Math.max(this.specialY[_e],tt[_e]):this.specialY[_e]=tt[_e])};VoiceElement$3.prototype.adjustRange=function(_e){_e.bottom!==void 0&&(this.bottom=Math.min(this.bottom,_e.bottom)),_e.top!==void 0&&(this.top=Math.max(this.top,_e.top))};VoiceElement$3.prototype.setRange=function(_e){this.adjustRange(_e),this.setLimit("tempoHeightAbove",_e),this.setLimit("partHeightAbove",_e),this.setLimit("volumeHeightAbove",_e),this.setLimit("dynamicHeightAbove",_e),this.setLimit("endingHeightAbove",_e),this.setLimit("chordHeightAbove",_e),this.setLimit("lyricHeightAbove",_e),this.setLimit("lyricHeightBelow",_e),this.setLimit("chordHeightBelow",_e),this.setLimit("volumeHeightBelow",_e),this.setLimit("dynamicHeightBelow",_e)};VoiceElement$3.prototype.addOther=function(_e){this.otherchildren.push(_e),this.setRange(_e)};VoiceElement$3.prototype.addBeam=function(_e){this.beams.push(_e)};VoiceElement$3.prototype.setWidth=function(_e){this.w=_e};var voiceElement=VoiceElement$3,setClass$3=function(_e,et,tt,nt){if(_e)for(var rt=0;rt<_e.length;rt++){var it=_e[rt],ot=it.getAttribute("highlight");ot||(ot="fill"),it.setAttribute(ot,nt);var st=it.getAttribute("class");st||(st=""),st=st.replace(tt,""),st=st.replace(et,""),et.length>0&&(st.length>0&&st[st.length-1]!==" "&&(st+=" "),st+=et),it.setAttribute("class",st)}},setClass_1=setClass$3,setClass$2=setClass_1,highlight$2=function(_e,et){_e===void 0&&(_e="abcjs-note_selected"),et===void 0&&(et="#ff0000"),setClass$2(this.elemset,_e,"",et)},highlight_1=highlight$2,setClass$1=setClass_1,unhighlight$2=function(_e,et){_e===void 0&&(_e="abcjs-note_selected"),et===void 0&&(et="#000000"),setClass$1(this.elemset,"",_e,et)},unhighlight_1=unhighlight$2,highlight$1=highlight_1,unhighlight$1=unhighlight_1,AbsoluteElement$6=function _e(et,tt,nt,rt,it,ot){ot||(ot={}),this.tuneNumber=it,this.abcelem=et,this.duration=tt,this.durationClass=ot.durationClassOveride?ot.durationClassOveride:this.duration,this.minspacing=nt||0,this.x=0,this.children=[],this.heads=[],this.extra=[],this.extraw=0,this.w=0,this.right=[],this.invisible=!1,this.bottom=void 0,this.top=void 0,this.type=rt,this.fixed={w:0,t:void 0,b:void 0},this.specialY={tempoHeightAbove:0,partHeightAbove:0,volumeHeightAbove:0,dynamicHeightAbove:0,endingHeightAbove:0,chordHeightAbove:0,lyricHeightAbove:0,lyricHeightBelow:0,chordHeightBelow:0,volumeHeightBelow:0,dynamicHeightBelow:0}};AbsoluteElement$6.prototype.getFixedCoords=function(){return{x:this.x,w:this.fixed.w,t:this.fixed.t,b:this.fixed.b}};AbsoluteElement$6.prototype.addExtra=function(_e){this.fixed.w=Math.max(this.fixed.w,_e.dx+_e.w),this.fixed.t===void 0?this.fixed.t=_e.top:this.fixed.t=Math.max(this.fixed.t,_e.top),this.fixed.b===void 0?this.fixed.b=_e.bottom:this.fixed.b=Math.min(this.fixed.b,_e.bottom),_e.dx<this.extraw&&(this.extraw=_e.dx),this.extra[this.extra.length]=_e,this._addChild(_e)};AbsoluteElement$6.prototype.addHead=function(_e){_e.dx<this.extraw&&(this.extraw=_e.dx),this.heads[this.heads.length]=_e,this.addRight(_e)};AbsoluteElement$6.prototype.addRight=function(_e){this.fixed.w=Math.max(this.fixed.w,_e.dx+_e.w),_e.top!==void 0&&(this.fixed.t===void 0?this.fixed.t=_e.top:this.fixed.t=Math.max(this.fixed.t,_e.top)),_e.bottom!==void 0&&(this.fixed.b===void 0?this.fixed.b=_e.bottom:this.fixed.b=Math.min(this.fixed.b,_e.bottom)),_e.dx+_e.w>this.w&&(this.w=_e.dx+_e.w),this.right[this.right.length]=_e,this._addChild(_e)};AbsoluteElement$6.prototype.addFixed=function(_e){this._addChild(_e)};AbsoluteElement$6.prototype.addFixedX=function(_e){this._addChild(_e)};AbsoluteElement$6.prototype.addCentered=function(_e){var et=_e.w/2;-et<this.extraw&&(this.extraw=-et),this.extra[this.extra.length]=_e,_e.dx+et>this.w&&(this.w=_e.dx+et),this.right[this.right.length]=_e,this._addChild(_e)};AbsoluteElement$6.prototype.setLimit=function(_e,et){et[_e]&&(this.specialY[_e]?this.specialY[_e]=Math.max(this.specialY[_e],et[_e]):this.specialY[_e]=et[_e])};AbsoluteElement$6.prototype._addChild=function(_e){_e.parent=this,this.children[this.children.length]=_e,this.pushTop(_e.top),this.pushBottom(_e.bottom),this.setLimit("tempoHeightAbove",_e),this.setLimit("partHeightAbove",_e),this.setLimit("volumeHeightAbove",_e),this.setLimit("dynamicHeightAbove",_e),this.setLimit("endingHeightAbove",_e),this.setLimit("chordHeightAbove",_e),this.setLimit("lyricHeightAbove",_e),this.setLimit("lyricHeightBelow",_e),this.setLimit("chordHeightBelow",_e),this.setLimit("volumeHeightBelow",_e),this.setLimit("dynamicHeightBelow",_e)};AbsoluteElement$6.prototype.pushTop=function(_e){_e!==void 0&&(this.top===void 0?this.top=_e:this.top=Math.max(_e,this.top))};AbsoluteElement$6.prototype.pushBottom=function(_e){_e!==void 0&&(this.bottom===void 0?this.bottom=_e:this.bottom=Math.min(_e,this.bottom))};AbsoluteElement$6.prototype.setX=function(_e){this.x=_e;for(var et=0;et<this.children.length;et++)this.children[et].setX(_e)};AbsoluteElement$6.prototype.center=function(_e,et){var tt=(et.x-_e.x)/2+_e.x;this.x=tt-this.w/2;for(var nt=0;nt<this.children.length;nt++)this.children[nt].setX(this.x)};AbsoluteElement$6.prototype.setHint=function(){this.hint=!0};AbsoluteElement$6.prototype.highlight=function(_e,et){highlight$1.bind(this)(_e,et)};AbsoluteElement$6.prototype.unhighlight=function(_e,et){unhighlight$1.bind(this)(_e,et)};var absoluteElement=AbsoluteElement$6,RelativeElement$a=function _e(et,tt,nt,rt,it){switch(it=it||{},this.x=0,this.c=et,this.dx=tt,this.w=nt,this.pitch=rt,this.scalex=it.scalex||1,this.scaley=it.scaley||1,this.type=it.type||"symbol",this.pitch2=it.pitch2,this.linewidth=it.linewidth,this.klass=it.klass,this.anchor=it.anchor?it.anchor:"middle",this.top=rt,this.pitch2!==void 0&&this.pitch2>this.top&&(this.top=this.pitch2),this.bottom=rt,this.pitch2!==void 0&&this.pitch2<this.bottom&&(this.bottom=this.pitch2),it.thickness&&(this.top+=it.thickness/2,this.bottom-=it.thickness/2),it.stemHeight&&(it.stemHeight>0?this.top+=it.stemHeight:this.bottom+=it.stemHeight),it.dim&&(this.dim=it.dim),it.position&&(this.position=it.position),this.height=it.height?it.height:4,it.top&&(this.top=it.top),it.bottom&&(this.bottom=it.bottom),it.name?this.name=it.name:this.c?this.name=this.c:this.name=this.type,it.realWidth?this.realWidth=it.realWidth:this.realWidth=this.w,this.centerVertically=!1,this.type){case"debug":this.chordHeightAbove=this.height;break;case"lyric":it.position&&it.position==="below"?this.lyricHeightBelow=this.height:this.lyricHeightAbove=this.height;break;case"chord":it.position&&it.position==="below"?this.chordHeightBelow=this.height:this.chordHeightAbove=this.height;break;case"text":this.pitch===void 0?it.position&&it.position==="below"?this.chordHeightBelow=this.height:this.chordHeightAbove=this.height:this.centerVertically=!0;break;case"part":this.partHeightAbove=this.height;break}};RelativeElement$a.prototype.getChordDim=function(){if(this.type==="debug"||!this.chordHeightAbove&&!this.chordHeightBelow)return null;var _e=0,et=this.type==="chord"?this.realWidth/2:0,tt=this.x-et-_e,nt=tt+this.realWidth+_e;return{left:tt,right:nt}};RelativeElement$a.prototype.invertLane=function(_e){this.lane===void 0&&(this.lane=0),this.lane=_e-this.lane-1};RelativeElement$a.prototype.putChordInLane=function(_e){this.lane=_e,this.chordHeightAbove?this.chordHeightAbove=this.height*1.25*this.lane:this.chordHeightBelow=this.height*1.25*this.lane};RelativeElement$a.prototype.getLane=function(){return this.lane===void 0?0:this.lane};RelativeElement$a.prototype.setX=function(_e){this.x=_e+this.dx};var relativeElement=RelativeElement$a,AbsoluteElement$5=absoluteElement,RelativeElement$9=relativeElement;function isObject(_e){return _e!=null&&_e.constructor===Object}function cloneObject(_e,et){for(var tt in et)et.hasOwnProperty(tt)&&(Array.isArray(et[tt])||isObject(et[tt])||(_e[tt]=et[tt]))}function cloneAbsolute(_e){var et=new AbsoluteElement$5("",0,0,"",0);return cloneObject(et,_e),et.top=0,et.bottom=-1,_e.abcelem&&(et.abcelem={},cloneObject(et.abcelem,_e.abcelem),et.abcelem.el_type==="note"&&(et.abcelem.el_type="tabNumber")),_e.cloned=et,et}function cloneAbsoluteAndRelatives(_e,et){var tt=cloneAbsolute(_e);if(et)for(var nt=_e.children,rt=!0,it=0;it<nt.length;it++){var ot=nt[it],st=new RelativeElement$9("",0,0,0,"");cloneObject(st,ot),rt=et.tablature.setRelative(ot,st,rt),tt.children.push(st)}return tt}function buildTabAbsolute(_e,et,tt){var nt="tab.tiny",rt=7.5;_e.isTabBig&&(nt="tab.big",rt=10);var it={el_type:"tab",icon:nt,Ypos:rt};if(rt+=_e.tabSymbolOffset,!_e.hideTabSymbol){var ot=new AbsoluteElement$5(it,0,0,"symbol",0);ot.x=et;var st=new RelativeElement$9(nt,0,0,7.5,"tab");st.x=tt,ot.children.push(st),ot.abcelem.el_type=="tab"&&(st.pitch=rt)}return ot}function lyricsDim(_e){if(_e.extra)for(var et=0;et<_e.extra.length;et++){var tt=_e.extra[et];if(tt.type=="lyric")return{bottom:tt.bottom,height:tt.height}}return null}function TabAbsoluteElements$1(){this.accidentals=null}function getInitialStaffSize(_e){for(var et=0,tt=0;tt<_e.length;tt++)_e[tt].tabNameInfos||et++;return et}function buildRelativeTabNote(_e,et,tt,nt,rt){var it=nt.num;nt.note.quarter!=null&&(it=it.toString(),it+=nt.note.quarter);var ot=_e.semantics.stringToPitch(nt.str);tt.notes.push({num:it,str:nt.str,pitch:nt.note.emit()});var st={type:"tabNumber"},ut=new RelativeElement$9(it,0,0,ot+.3,st);return ut.x=et,ut.isGrace=rt,ut.isAltered=nt.note.isAltered,ut}function getXGrace(_e,et){var tt=0;if(_e.extra){for(var nt=0;nt<_e.extra.length;nt++)if(_e.extra[nt].c.indexOf("noteheads")>=0){if(tt===et)return _e.extra[nt].x+_e.extra[nt].w/2;tt++}}return-1}function graceInRest(_e){if(_e.abcelem){var et=_e.abcelem;if(et.rest)return et.gracenotes}return null}function convertToNumber(_e,et,tt){var nt=_e.semantics.notesToNumber(et,tt);if(nt.error)return _e._super.setError(nt.error),nt;if(nt.graces&&nt.notes){var rt=nt.notes.length-1;nt.notes[rt].graces=nt.graces}return nt}function buildGraceRelativesForRest(_e,et,tt,nt,rt){for(var it=0;it<nt.length;it++){var ot={el_type:"note",startChar:tt.abcelem.startChar,endChar:tt.abcelem.endChar,notes:[],grace:!0},st=getXGrace(tt,it),ut=nt[it],ft=buildRelativeTabNote(_e,st,ot,ut,!0);et.children.push(ft),rt.push(ot)}}TabAbsoluteElements$1.prototype.build=function(_e,et,tt,nt,rt,it,ot){getInitialStaffSize(et);var st=et[rt+nt],ut=et[ot],ft=null,dt=null;st.children[0].abcelem.el_type!="clef"&&it!="none"&&st.children.splice(0,0,it);for(var lt=0;lt<st.children.length;lt++){var at=st.children[lt],ct=at.x,ht=ct;switch(at.isClef&&(ut.children.push(buildTabAbsolute(_e,ct,ht)),at.abcelem.type.indexOf("-8")>=0&&(_e.semantics.strings.clefTranspose=-12),at.abcelem.type.indexOf("+8")>=0&&(_e.semantics.strings.clefTranspose=12)),at.type){case"staff-extra key-signature":this.accidentals=at.abcelem.accidentals,_e.semantics.strings.accidentals=this.accidentals;break;case"bar":_e.semantics.strings.measureAccidentals={};var pt=!1;lt===st.children.length-1&&(pt=!0);var mt=cloneAbsoluteAndRelatives(at,_e);if(mt.abcelem.barNumber){delete mt.abcelem.barNumber;for(var gt=0;gt<mt.children.length;gt++)if(mt.children[gt].type==="barNumber"){mt.children.splice(gt,1);break}}mt.abcelem.lastBar=pt,ut.children.push(mt),tt.push({el_type:at.abcelem.el_type,type:at.abcelem.type,endChar:at.abcelem.endChar,startChar:at.abcelem.startChar,abselem:mt});break;case"rest":var yt=graceInRest(at);if(yt){if(ft=convertToNumber(_e,null,yt),ft.error)return;$t={el_type:"note",startChar:at.abcelem.startChar,endChar:at.abcelem.endChar,notes:[],grace:!0},buildGraceRelativesForRest(_e,bt,at,ft.graces,tt)}break;case"note":var bt=cloneAbsolute(at);bt.x=at.heads[0].x+at.heads[0].w/2,bt.lyricDim=lyricsDim(at);var xt=at.abcelem.pitches,vt=at.abcelem.gracenotes;if(bt.type="tabNumber",ft=convertToNumber(_e,xt,vt),ft.error)return;if(ft.graces){var wt=ft.notes.length-1;ft.notes[wt].graces=ft.graces}dt={el_type:"note",startChar:at.abcelem.startChar,endChar:at.abcelem.endChar,notes:[]};for(var _t=0;_t<ft.notes.length;_t++){var Ct=ft.notes[_t];if(Ct.graces)for(var Et=0;Et<Ct.graces.length;Et++){var $t={el_type:"note",startChar:at.abcelem.startChar,endChar:at.abcelem.endChar,notes:[],grace:!0},jt=getXGrace(at,Et),Dt=Ct.graces[Et],Pt=buildRelativeTabNote(_e,jt,$t,Dt,!0);bt.children.push(Pt),tt.push($t)}var kt=buildRelativeTabNote(_e,bt.x+at.heads[_t].dx,dt,Ct,!1);bt.children.push(kt)}dt.notes.length>0&&(dt.abselem=bt,tt.push(dt),ut.children.push(bt));break}}};var tabAbsoluteElements=TabAbsoluteElements$1,VoiceElement$2=voiceElement,TabAbsoluteElements=tabAbsoluteElements,spacing$c=spacing_1;function initSpecialY(){return{tempoHeightAbove:0,partHeightAbove:0,volumeHeightAbove:0,dynamicHeightAbove:0,endingHeightAbove:0,chordHeightAbove:0,lyricHeightAbove:0,lyricHeightBelow:0,chordHeightBelow:0,volumeHeightBelow:0,dynamicHeightBelow:0}}function getLyricHeight(_e){for(var et=0,tt=0;tt<_e.children.length;tt++){var nt=_e.children[tt];nt.specialY&&nt.specialY.lyricHeightBelow>et&&(et=nt.specialY.lyricHeightBelow)}return et}function buildTabName(_e,et){var tt=_e.plugin.semantics.strings,nt=_e.renderer.controller,rt=nt.getTextSize,it=tt.tabInfos(_e.plugin),ot=tt.suppress(_e.plugin),st=!0;if(ot&&(st=!1),st){var ut=rt.calc(it,"tablabelfont","text instrumentname");return et.tabNameInfos={textSize:{height:ut.height,width:ut.width},name:it},ut.height}return 0}function TabRenderer$1(_e,et,tt,nt){this.renderer=et,this.plugin=_e,this.line=tt,this.absolutes=new TabAbsoluteElements,this.staffIndex=nt,this.tabStaff={clef:{type:"TAB"}},this.tabSize=_e.linePitch*_e.nbLines}function islastTabInStaff(_e,et){return et[_e].isTabStaff?_e===et.length-1?!0:!et[_e+1].isTabStaff:!1}function getStaffNumbers(_e){for(var et=0,tt=0;tt<_e.length;tt++)_e[tt].isTabStaff||et++;return et}function getParentStaffIndex(_e,et){for(var tt=et;tt>=0;tt--)if(!_e[tt].isTabStaff)return tt;return-1}function linkStaffAndTabs(_e){for(var et=0;et<_e.length;et++)if(_e[et].isTabStaff){var tt=getParentStaffIndex(_e,et);_e[et].hasStaff=_e[tt],_e[tt].hasTab||(_e[tt].hasTab=[]),_e[tt].hasTab.push(_e[et])}}function isMultiVoiceSingleStaff(_e,et){return getStaffNumbers(_e)===1&&et.voices.length>1}function getNextTabPos(_e,et){for(var tt=_e.staffIndex,nt=0,rt=0,it=!0,ot=0;it;){if(!et[nt])return-1;if(et[nt].isTabStaff||(ot=et[nt].voices.length),et[nt].isTabStaff){if(rt++,islastTabInStaff(nt,et)&&rt<ot)return nt+1}else if(rt=0,nt>=tt&&(nt+1==et.length||!et[nt+1].isTabStaff))return nt+1;if(nt++,nt>et.length)return-1}}function getLastStaff(_e,et){for(var tt=et;tt>=0;tt--)if(!_e[tt].isTabStaff)return _e[tt];return null}function checkVoiceKeySig(_e,et){var tt=_e[et],nt=tt.children[0].abcelem;return nt.el_type==="clef"?null:et==0?"none":_e[et-1].children[0]}TabRenderer$1.prototype.doLayout=function(){var _e=this.line.staff;if(_e){var et=_e[0];if(et&&et.clef&&et.clef.stafflines==0){this.plugin._super.setError("No tablatures when stafflines=0");return}_e.splice(_e.length,0,this.tabStaff)}var tt=this.line.staffGroup,nt=tt.voices,rt=nt[0],it=getLyricHeight(rt),ot=3,st=this.staffIndex,ut=tt.staffs[st],ft=this.tabSize+ot-ut.bottom-it;ut.isTabStaff&&(ft=ut.top);var dt={bottom:-1,isTabStaff:!0,specialY:initSpecialY(),lines:this.plugin.nbLines,linePitch:this.plugin.linePitch,dy:.15,top:ft},lt=getNextTabPos(this,tt.staffs);if(lt!==-1){dt.parentIndex=lt-1,tt.staffs.splice(lt,0,dt),tt.height+=this.tabSize+ot;var at=getLastStaff(tt.staffs,lt),ct=1;isMultiVoiceSingleStaff(tt.staffs,at)&&(ct=at.voices.length),this.tabStaff.voices=[];for(var ht=0;ht<ct;ht++){var pt=new VoiceElement$2(0,0);ht>0&&(pt.duplicate=!0);var mt=buildTabName(this,pt)/spacing$c.STEP;mt=Math.max(mt,1),tt.staffs[this.staffIndex].top+=1,tt.height+=mt,pt.staff=dt;var gt=nt.length;nt.splice(nt.length,0,pt);var yt=checkVoiceKeySig(nt,ht+this.staffIndex);this.tabStaff.voices[ht]=[],this.absolutes.build(this.plugin,nt,this.tabStaff.voices[ht],ht,this.staffIndex,yt,gt)}linkStaffAndTabs(tt.staffs)}};var tabRenderer=TabRenderer$1,accidentals={__:-2,_:-1,"_/":-.5,"=":0,"":0,"^/":.5,"^":1,"^^":2},notesInOrder=["C","-","D","-","E","F","-","G","-","A","-","B","c","-","d","-","e","f","-","g","-","a","-","b"];function noteToMidi$2(_e){var et=_e.match(/([_^\/]*)([ABCDEFGabcdefg])(,*)('*)/);if(et&&et.length===5){var tt=accidentals[et[1]],nt=notesInOrder.indexOf(et[2]),rt=et[4].length-et[3].length;return 48+nt+tt+rt*12}return 0}function midiToNote$1(_e){_e=parseInt(_e,10);var et=Math.floor(_e/12),tt=_e%12,nt=notesInOrder[tt];if(nt==="-"&&(nt="^"+notesInOrder[tt-1]),et>4)for(nt=nt.toLowerCase(),et-=5;et>0;)nt+="'",et--;else for(;et<4;)nt+=",",et++;return nt}var noteToMidi_1={noteToMidi:noteToMidi$2,midiToNote:midiToNote$1},{noteToMidi:noteToMidi$1,midiToNote}=noteToMidi_1,notes$1=["A","B","C","D","E","F","G"];function TabNote$2(_e,et){var tt=noteToMidi$1(_e);et&&(tt+=et);var nt=midiToNote(tt),rt=!1,it=!1,ot=!1,st=null,ut=null,ft=!1,dt=0;_e.startsWith("_")?(rt=!0,dt=-1,_e[1]=="/"?(rt=!1,ut="v",dt=0):_e[1]=="_"&&(ft=!0,dt-=1)):_e.startsWith("^")?(it=!0,dt=1,_e[1]=="/"?(it=!1,ut="^",dt=0):_e[1]=="^"&&(ft=!0,dt+=1)):_e.startsWith("=")&&(st=!0,dt=0),ot=rt||it||ut!=null,(ot||st)&&(ut!=null||ft?nt=_e.slice(2):nt=_e.slice(1));var lt=(nt.match(/,/g)||[]).length,at=(nt.match(/'/g)||[]).length;this.pitch=tt,this.pitchAltered=0,this.name=nt,this.acc=dt,this.isSharp=it,this.isKeySharp=!1,this.isDouble=ft,this.isAltered=ot,this.isFlat=rt,this.isKeyFlat=!1,this.natural=st,this.quarter=ut,this.isLower=this.name==this.name.toLowerCase(),this.name=this.name[0].toUpperCase(),this.hasComma=lt,this.isQuoted=at}function cloneNote(_e){var et=_e.name,tt=new TabNote$2(et);return tt.pitch=_e.pitch,tt.hasComma=_e.hasComma,tt.isLower=_e.isLower,tt.isQuoted=_e.isQuoted,tt.isSharp=_e.isSharp,tt.isKeySharp=_e.isKeySharp,tt.isFlat=_e.isFlat,tt.isKeyFlat=_e.isKeyFlat,tt}TabNote$2.prototype.sameNoteAs=function(_e){return _e.pitch===this.pitch};TabNote$2.prototype.isLowerThan=function(_e){return _e.pitch>this.pitch};TabNote$2.prototype.checkKeyAccidentals=function(_e,et){if(!(this.isAltered||this.natural)){if(et[this.name.toUpperCase()])switch(et[this.name.toUpperCase()]){case"__":this.acc=-2,this.pitchAltered=-2;return;case"_":this.acc=-1,this.pitchAltered=-1;return;case"=":this.acc=0,this.pitchAltered=0;return;case"^":this.acc=1,this.pitchAltered=1;return;case"^^":this.acc=2,this.pitchAltered=2;return}else if(_e)for(var tt=this.name,nt=0;nt<_e.length;nt++){var rt=_e[nt];tt==rt.note.toUpperCase()&&(rt.acc=="flat"&&(this.acc=-1,this.isKeyFlat=!0,this.pitchAltered=-1),rt.acc=="sharp"&&(this.acc=1,this.isKeySharp=!0,this.pitchAltered=1))}}};TabNote$2.prototype.getAccidentalEquiv=function(){var _e=cloneNote(this);return _e.isSharp||_e.isKeySharp?(_e=_e.nextNote(),_e.isFlat=!0,_e.isSharp=!1,_e.isKeySharp=!1):(_e.isFlat||_e.isKeyFlat)&&(_e=_e.prevNote(),_e.isSharp=!0,_e.isFlat=!1,_e.isKeyFlat=!1),_e};TabNote$2.prototype.nextNote=function(){var _e=midiToNote(this.pitch+1+this.pitchAltered);return new TabNote$2(_e)};TabNote$2.prototype.prevNote=function(){var _e=midiToNote(this.pitch-1+this.pitchAltered);return new TabNote$2(_e)};TabNote$2.prototype.emitNoAccidentals=function(){var _e=this.name;this.isLower&&(_e=_e.toLowerCase());for(var et=0;et<this.isQuoted;et++)_e+="'";for(var tt=0;tt<this.hasComma;tt++)_e+=",";return _e};TabNote$2.prototype.emit=function(){var _e=this.name;(this.isSharp||this.isKeySharp)&&(_e="^"+_e,this.isDouble&&(_e="^"+_e)),(this.isFlat||this.isKeyFlat)&&(_e="_"+_e,this.isDouble&&(_e="_"+_e)),this.quarter&&(this.quarter=="^"?_e="^/"+_e:_e="_/"+_e),this.natural&&(_e="="+_e);for(var et=1;et<=this.hasComma;et++)_e+=",";if(this.isLower){_e=_e.toLowerCase();for(var tt=1;tt<=this.isQuoted;tt++)_e+="'"}return _e};var tabNote={TabNote:TabNote$2,notes:notes$1},TabNote$1=tabNote,notes=TabNote$1.notes;function TabNotes$1(_e,et){this.fromN=new TabNote$1.TabNote(_e),this.toN=new TabNote$1.TabNote(et)}TabNotes$1.prototype.build=function(){var _e=this.fromN,et=this.toN;if(et.isLowerThan(_e)){var tt=_e.emit(),nt=et.emit();return{error:"Invalid string Instrument tuning : "+nt+" string lower than "+tt+" string"}}var rt=[],it=notes.indexOf(_e.name),ot=notes.indexOf(et.name);if(it==-1||ot==-1)return rt;for(var st=!1;!st;)rt.push(_e.emit()),_e=_e.nextNote(),_e.sameNoteAs(et)&&(st=!0);return rt};var tabNotes=TabNotes$1;const{noteToMidi}=noteToMidi_1;var TabNote=tabNote,TabNotes=tabNotes;function buildCapo(_e){var et=null,tt=_e.tuning;if(_e.capo>0){et=[];for(var nt=0;nt<tt.length;nt++){for(var rt=new TabNote.TabNote(tt[nt]),it=0;it<_e.capo;it++)rt=rt.nextNote();et[nt]=rt.emit()}}return et}function buildPatterns(_e){var et=[],tt=_e.tuning;_e.capo>0&&(tt=_e.capoTuning);for(var nt=tt.length-1,rt=0;rt<tt.length;rt++){var it=_e.highestNote;rt!=tt.length-1&&(it=tt[rt+1]);var ot=new TabNotes(tt[rt],it),st=ot.build();if(st.error)return st;et[nt--]=st}return et}function buildSecond(_e){var et=[];et[0]=[];for(var tt=_e.strings,nt=1;nt<tt.length;nt++)et[nt]=tt[nt-1];return et}function sameString(_e,et){for(var tt=0;tt<et.length-1;tt++){var nt=et[tt],rt=et[tt+1];if(nt.str==rt.str){if(nt.str==_e.strings.length-1){nt.num="?",rt.num="?";return}rt.num<nt.num?(rt.str++,rt=noteToNumber(_e,rt.note,rt.str,_e.secondPos,_e.strings[rt.str].length)):(nt.str++,nt=noteToNumber(_e,nt.note,nt.str,_e.secondPos,_e.strings[nt.str].length)),et[tt]=nt,et[tt+1]=rt}}return null}function handleChordNotes(_e,et){for(var tt=[],nt=0;nt<et.length;nt++)if(!et[nt].endTie){var rt=new TabNote.TabNote(et[nt].name,_e.clefTranspose);rt.checkKeyAccidentals(_e.accidentals,_e.measureAccidentals);var it=toNumber(_e,rt);tt.push(it)}return sameString(_e,tt),tt}function noteToNumber(_e,et,tt,nt,rt){var it=_e.strings;et.checkKeyAccidentals(_e.accidentals,_e.measureAccidentals),nt&&(it=nt);var ot=et.emitNoAccidentals(),st=it[tt].indexOf(ot),ut=et.acc;if(st!=-1){if(nt&&(st+=rt),(et.isFlat||et.acc==-1)&&st==0){var ft=et.getAccidentalEquiv();tt++,st=it[tt].indexOf(ft.emit()),ut=0}return{num:st+ut,str:tt,note:et}}return null}function toNumber(_e,et){if(et.isAltered||et.natural){var tt;et.isFlat?et.isDouble?tt="__":tt="_":et.isSharp?et.isDouble?tt="^^":tt="^":et.natural&&(tt="="),_e.measureAccidentals[et.name.toUpperCase()]=tt}for(var nt=_e.stringPitches.length-1;nt>=0;nt--)if(et.pitch+et.pitchAltered>=_e.stringPitches[nt]){var rt=et.pitch+et.pitchAltered-_e.stringPitches[nt];return et.quarter==="^"?rt-=.5:et.quarter==="v"&&(rt+=.5),{num:Math.round(rt),str:_e.stringPitches.length-1-nt,note:et}}return{num:"?",str:_e.stringPitches.length-1,note:et}}StringPatterns$1.prototype.stringToPitch=function(_e){var et=5.3,tt=this.strings.length-1;return et+(tt-_e)*this.linePitch};function invalidNumber(_e,et){var tt={num:"?",str:0,note:et};_e.push(tt),_e.error=et.emit()+": unexpected note for instrument"}StringPatterns$1.prototype.notesToNumber=function(_e,et){var tt,nt,rt=null,it=null;if(_e&&(it=[],_e.length>1?(it=handleChordNotes(this,_e),it.error&&(rt=it.error)):_e[0].endTie||(tt=new TabNote.TabNote(_e[0].name,this.clefTranspose),tt.checkKeyAccidentals(this.accidentals,this.measureAccidentals),nt=toNumber(this,tt),nt?it.push(nt):(invalidNumber(it,tt),rt=it.error))),rt)return it;var ot=null;if(et){ot=[];for(var st=0;st<et.length;st++)tt=new TabNote.TabNote(et[st].name,this.clefTranspose),tt.checkKeyAccidentals(this.accidentals,this.measureAccidentals),nt=toNumber(this,tt),nt?ot.push(nt):(invalidNumber(ot,tt),rt=it.error)}return{notes:it,graces:ot,error:rt}};StringPatterns$1.prototype.toString=function(){for(var _e=[],et=0;et<this.tuning.length;et++){var tt=this.tuning[et].replaceAll(",","").replaceAll("'","").toUpperCase();tt[0]==="_"?tt=tt[1]+"b ":tt[0]==="^"&&(tt=tt[1]+"# "),_e.push(tt)}return _e.join("")};StringPatterns$1.prototype.tabInfos=function(_e){var et=_e._super,tt=et.params.label;if(tt){var nt=tt.indexOf("%T"),rt="";return nt!=-1&&(rt=this.toString(),_e.capo>0&&(rt+=" capo:"+_e.capo),tt=tt.replace("%T",rt)),tt}return""};StringPatterns$1.prototype.suppress=function(_e){var et=_e._super,tt=et.params.suppress;return!!tt};function StringPatterns$1(_e){var et=_e.tuning,tt=_e.capo,nt=_e._super.params.highestNote;this.linePitch=_e.linePitch,this.highestNote="a'",nt&&(this.highestNote=nt),this.measureAccidentals={},this.capo=0,tt&&(this.capo=parseInt(tt,10)),this.transpose=_e.transpose?_e.transpose:0,this.tuning=et,this.stringPitches=[];for(var rt=0;rt<this.tuning.length;rt++){var it=noteToMidi(this.tuning[rt])+this.capo;this.stringPitches.push(it)}if(this.capo>0&&(this.capoTuning=buildCapo(this)),this.strings=buildPatterns(this),this.strings.error){_e._super.setError(this.strings.error),_e.inError=!0;return}this.secondPos=buildSecond(this)}var stringPatterns=StringPatterns$1,StringPatterns=stringPatterns;function TabStringPatterns$1(_e,et){this.tuning=_e._super.params.tuning,this.tuning||(this.tuning=et),_e.tuning=this.tuning,this.strings=new StringPatterns(_e)}TabStringPatterns$1.prototype.notesToNumber=function(_e,et){var tt=this.strings;return tt.notesToNumber(_e,et)};TabStringPatterns$1.prototype.stringToPitch=function(_e){var et=this.strings;return et.stringToPitch(_e)};var tabStringPatterns=TabStringPatterns$1,StringTablature$1=stringTablature,TabCommon=tabCommon,TabRenderer=tabRenderer,TabStringPatterns=tabStringPatterns;Plugin.prototype.init=function(_e,et,tt,nt,rt){var it=new TabCommon(_e,et,tt);this.abcTune=_e,this._super=it,this.linePitch=3,this.nbLines=rt.defaultTuning.length,this.isTabBig=rt.isTabBig,this.tabSymbolOffset=rt.tabSymbolOffset,this.capo=tt.capo,this.transpose=tt.visualTranspose,this.hideTabSymbol=tt.hideTabSymbol,this.tablature=new StringTablature$1(this.nbLines,this.linePitch);var ot=new TabStringPatterns(this,rt.defaultTuning);this.semantics=ot};Plugin.prototype.render=function(_e,et,tt){if(!this._super.inError&&!this.tablature.bypass(et)){var nt=new TabRenderer(this,_e,et,tt);nt.doLayout()}};function Plugin(){}var AbcStringTab=function(){return{name:"StringTab",tablature:Plugin}},tabString=AbcStringTab,StringTablature=tabString,pluginTab={violin:{name:"StringTab",defaultTuning:["G,","D","A","e"],isTabBig:!1,tabSymbolOffset:0},fiddle:{name:"StringTab",defaultTuning:["G,","D","A","e"],isTabBig:!1,tabSymbolOffset:0},mandolin:{name:"StringTab",defaultTuning:["G,","D","A","e"],isTabBig:!1,tabSymbolOffset:0},guitar:{name:"StringTab",defaultTuning:["E,","A,","D","G","B","e"],isTabBig:!0,tabSymbolOffset:0},fiveString:{name:"StringTab",defaultTuning:["C,","G,","D","A","e"],isTabBig:!1,tabSymbolOffset:-.95}},abcTablatures={inited:!1,plugins:{},register:function(_e){var et=_e.name,tt=_e.tablature;this.plugins[et]=tt},setError:function(_e,et){_e.warnings?_e.warning.push(et):_e.warnings=[et]},preparePlugins:function(_e,et,tt){var nt=null;if(tt.tablature){var rt=tt.tablature;nt=[];for(var it=0;it<rt.length;it++){var ot=rt[it],st=ot.instrument;if(st==null)return this.setError(_e,"tablature 'instrument' is missing"),nt;var ut=pluginTab[st],ft=null;if(ut&&(ft=this.plugins[ut.name]),ft){tt.visualTranspose!=0&&(ot.visualTranspose=tt.visualTranspose),ot.abcSrc=tt.tablature.abcSrc;var dt={classz:ft,tuneNumber:et,params:ot,instance:null,tabType:ut};nt.push(dt)}else if(st==="")nt.push(null);else return this.setError(_e,"Undefined tablature plugin: "+st),nt}}return nt},layoutTablatures:function _e(et,tt){var nt=tt.tablatures,rt=0;if(nt&&nt.length>0)for(var it=nt.length,ot=0;ot<it;++ot)nt[ot]&&nt[ot].params.firstStaffOnly&&(nt[ot].params.suppress=!1);for(var st=0;st<tt.lines.length;st++){var ut=tt.lines[st];if(ut.staff&&rt++,rt>1&&nt&&nt.length>0)for(var it=nt.length,ot=0;ot<it;++ot)nt[ot].params.firstStaffOnly&&(nt[ot].params.suppress=!0);var ft=ut.staff;if(ft){for(var dt=ft.length,lt=0;lt<ft.length;lt++)if(nt[lt]&&lt<dt){var at=nt[lt];at.instance==null&&(at.instance=new at.classz,at.instance.init(tt,at.tuneNumber,at.params,lt,at.tabType)),at.instance.render(et,ut,lt)}}}},init:function(){this.inited||(this.register(new StringTablature),this.inited=!0)}},abc_tablatures=abcTablatures,Parse$1=abc_parse,bookParser=abc_parse_book,tablatures$1=abc_tablatures,tunebook$2={};(function(){tunebook$2.numberOfTunes=function(et){var tt=et.split(`
X:`),nt=tt.length;return nt===0&&(nt=1),nt};var _e=tunebook$2.TuneBook=function(et){var tt=bookParser(et);this.header=tt.header,this.tunes=tt.tunes};_e.prototype.getTuneById=function(et){for(var tt=0;tt<this.tunes.length;tt++)if(this.tunes[tt].id===""+et)return this.tunes[tt];return null},_e.prototype.getTuneByTitle=function(et){for(var tt=0;tt<this.tunes.length;tt++)if(this.tunes[tt].title===et)return this.tunes[tt];return null},tunebook$2.parseOnly=function(et,tt){for(var nt=tunebook$2.numberOfTunes(et),rt=[],it=0;it<nt;it++)rt.push(1);function ot(){}return tunebook$2.renderEngine(ot,rt,et,tt)},tunebook$2.renderEngine=function(et,tt,nt,rt){var it=[],ot=function(pt){return pt&&!pt.propertyIsEnumerable("length")&&typeof pt=="object"&&typeof pt.length=="number"};if(!(tt===void 0||nt===void 0)){ot(tt)||(tt=[tt]),rt===void 0&&(rt={});for(var st=rt.startingTune?parseInt(rt.startingTune,10):0,ut=new _e(nt),ft=new Parse$1,dt=0;dt<tt.length;dt++){var lt=tt[dt];if(lt==="*"||typeof lt=="string"&&(lt=document.getElementById(lt)),lt)if(st>=0&&st<ut.tunes.length){ft.parse(ut.tunes[st].abc,rt,ut.tunes[st].startPos-ut.header.length);var at=ft.getTune();rt.tablature&&(tablatures$1.init(),at.tablatures=tablatures$1.preparePlugins(at,st,rt));var ct=ft.getWarnings();ct&&(at.warnings=ct);var ht=et(lt,at,dt,ut.tunes[st].abc);it.push(ht||at)}else lt.innerHTML&&(lt.innerHTML="");st++}return it}},tunebook$2.extractMeasures=function(et){for(var tt=[],nt=new _e(et),rt=0;rt<nt.tunes.length;rt++){for(var it=nt.tunes[rt],ot=it.abc.split("K:"),st=ot[1].split(`
`),ut=ot[0]+"K:"+st[0]+`
`,ft=null,dt=null,lt=null,at=[],ct=!1,ht=tunebook$2.parseOnly(it.abc)[0],pt=ht.getPickupLength()>0,mt=0;mt<ht.lines.length;mt++){var gt=ht.lines[mt];if(gt.staff)for(var yt=0;yt<1;yt++)for(var bt=gt.staff[yt],xt=0;xt<1;xt++)for(var vt=bt.voices[xt],wt=0;wt<vt.length;wt++){var _t=vt[wt];if(lt===null&&_t.startChar>=0&&(lt=_t.startChar,_t.chord===void 0?dt=ft:dt=null),_t.chord&&(ft=_t),_t.el_type==="bar"){if(ct){var Ct=it.abc.substring(lt,_t.endChar),Et={abc:Ct};ft=dt&&dt.chord&&dt.chord.length>0?dt.chord[0].name:null,ft&&(Et.lastChord=ft),_t.startEnding&&(Et.startEnding=_t.startEnding),_t.endEnding&&(Et.endEnding=_t.endEnding),at.push(Et),lt=null,ct=!1}}else _t.el_type==="note"&&(ct=!0)}}tt.push({header:ut,measures:at,hasPickup:pt})}return tt}})();var abc_tunebook=tunebook$2,keyAccidentals=keyAccidentals_1,{relativeMajor,transposeKey,relativeMode}=relativeMajor_1,transposeChordName=transposeChord,strTranspose$1;(function(){strTranspose$1=function(bt,xt,vt){if(xt==="TEST")return{keyAccidentals,relativeMajor,transposeKey,relativeMode,transposeChordName};vt=parseInt(vt,10);var wt=[],_t;for(_t=0;_t<xt.length;_t++)wt=wt.concat(_e(bt,xt[_t],vt));wt=wt.sort(function($t,jt){return jt.start-$t.start});var Ct=bt.split("");for(_t=0;_t<wt.length;_t++){var Et=wt[_t];Ct.splice(Et.start,Et.end-Et.start,Et.note)}return Ct.join("")};function _e(bt,xt,vt){var wt=[],_t=xt.getKeySignature();if(_t.root==="Hp"||_t.root==="HP")return wt;wt=wt.concat(et(bt,vt));for(var Ct=0;Ct<xt.lines.length;Ct++){var Et=xt.lines[Ct].staff;if(Et)for(var $t=0;$t<Et.length;$t++){var jt=Et[$t];jt.clef.type!=="perc"&&(wt=wt.concat(tt(bt,jt.voices,jt.key,vt)))}}return wt}function et(bt,xt){for(var vt=[],wt=bt.split("K:"),_t=wt[0].length,Ct=1;Ct<wt.length;Ct++){var Et=wt[Ct],$t=Et.match(/^( *)([A-G])([#b]?)(\w*)/);if($t){var jt=_t+2+$t[1].length,Dt=$t[2]+$t[3]+$t[4],Pt=ut({root:$t[2],acc:$t[3],mode:$t[4]},xt),kt=Pt.root+Pt.acc+Pt.mode;vt.push({start:jt,end:jt+Dt.length,note:kt})}_t+=Et.length+2}return vt}function tt(bt,xt,vt,wt){for(var _t=[],Ct=ut(vt,wt),Et=0;Et<xt.length;Et++)_t=_t.concat(it(bt,xt[Et],vt.root,nt(vt),Ct,wt));return _t}function nt(bt){for(var xt={},vt=0;vt<bt.accidentals.length;vt++){var wt=bt.accidentals[vt];wt.acc==="flat"?xt[wt.note.toUpperCase()]="_":wt.acc==="sharp"&&(xt[wt.note.toUpperCase()]="^")}return xt}function rt(bt,xt,vt){var wt=ot.indexOf(bt.root)-ot.indexOf(xt);return xt==="none"&&(wt=ot.indexOf(bt.root)),wt===0?vt>2?wt+=7:vt===-12&&(wt-=7):vt>0&&wt<0?wt+=7:vt<0&&wt>0&&(wt-=7),vt>12?wt+=7:vt<-12&&(wt-=7),wt}function it(bt,xt,vt,wt,_t,Ct){for(var Et=[],$t=rt(_t,vt,Ct),jt={},Dt={},Pt=0;Pt<xt.length;Pt++){var kt=xt[Pt];if(kt.chord)for(var At=0;At<kt.chord.length;At++){var Tt=kt.chord[At];if(Tt.position==="default"){var St=_t.accidentals.length&&_t.accidentals[0].acc==="flat",Rt=transposeChordName(Tt.name,Ct,St,!0);Rt=Rt.replace(//g,"b").replace(//g,"#"),Rt!==Tt.name&&Et.push(gt(bt,kt.startChar,kt.endChar,Rt))}}if(kt.el_type==="note"&&kt.pitches){for(var Ot=0;Ot<kt.pitches.length;Ot++){var Nt=ht(kt.pitches[Ot].name,vt,wt,jt);Nt.acc&&(jt[Nt.name.toUpperCase()]=Nt.acc);var It=ft(Nt,_t,$t,Dt);It.acc&&(Dt[It.upper]=It.acc),Et.push(pt(bt,kt.startChar,kt.endChar,It.acc+It.name,Ot))}if(kt.gracenotes)for(var Bt=0;Bt<kt.gracenotes.length;Bt++){var zt=ht(kt.gracenotes[Bt].name,vt,wt,jt);zt.acc&&(jt[zt.name.toUpperCase()]=zt.acc);var Gt=ft(zt,_t,$t,jt);Gt.acc&&(Dt[Gt.upper]=Gt.acc),Et.push(mt(bt,kt.startChar,kt.endChar,Gt.acc+Gt.name,Bt))}}else kt.el_type==="bar"?(jt={},Dt={}):kt.el_type==="keySignature"&&(vt=kt.root,wt=nt(kt),_t=ut(kt,Ct),$t=rt(_t,vt,Ct))}return Et}var ot="CDEFGAB",st=[",,,,",",,,",",,",",","","'","''","'''","''''"];function ut(bt,xt){if(bt.root==="none")return{root:transposeKey("C",xt),mode:"",acc:"",accidentals:[]};var vt=relativeMajor(bt.root+bt.acc+bt.mode),wt=transposeKey(vt,xt),_t=relativeMode(wt,bt.mode),Ct=keyAccidentals(wt);return{root:_t[0],mode:bt.mode,acc:_t.length>1?_t[1]:"",accidentals:Ct}}function ft(bt,xt,vt,wt){for(var _t=bt.pitch,Ct=ot.indexOf(bt.name),Et=ot.indexOf(xt.root),$t=(Et+_t)%7,jt=Ct+vt,Dt=bt.oct;jt>6;)Dt++,jt-=7;for(;jt<0;)Dt--,jt+=7;for(var Pt=ot[$t],kt="",At=bt.adj,Tt="=",St=0;St<xt.accidentals.length;St++)if(xt.accidentals[St].note.toLowerCase()===Pt.toLowerCase()){At=At+(xt.accidentals[St].acc==="flat"?-1:1),Tt=xt.accidentals[St].acc==="flat"?"_":"^";break}switch(At){case-2:kt="__";break;case-1:kt="_";break;case 0:kt="=";break;case 1:kt="^";break;case 2:kt="^^";break;case-3:var Rt={};return Rt.pitch=bt.pitch-1,Rt.oct=bt.oct,Rt.name=ot[ot.indexOf(bt.name)-1],Rt.name||(Rt.name="B",Rt.oct--),Rt.name==="B"||Rt.name==="E"?Rt.adj=bt.adj+1:Rt.adj=bt.adj+2,ft(Rt,xt,vt+1,wt);case 3:var Rt={};return Rt.pitch=bt.pitch+1,Rt.oct=bt.oct,Rt.name=ot[ot.indexOf(bt.name)+1],Rt.name||(Rt.name="C",Rt.oct++),Rt.name==="C"||Rt.name==="F"?Rt.adj=bt.adj-1:Rt.adj=bt.adj-2,ft(Rt,xt,vt+1,wt)}switch((wt[Pt]===kt||!wt[Pt]&&kt===Tt)&&!bt.courtesy&&(kt=""),Dt){case 0:Pt=Pt+",,,";break;case 1:Pt=Pt+",,";break;case 2:Pt=Pt+",";break;case 4:Pt=Pt.toLowerCase();break;case 5:Pt=Pt.toLowerCase()+"'";break;case 6:Pt=Pt.toLowerCase()+"''";break;case 7:Pt=Pt.toLowerCase()+"'''";break;case 8:Pt=Pt.toLowerCase()+"''''";break}return Dt>4&&(Pt=Pt.toLowerCase()),{acc:kt,name:Pt,upper:Pt.toUpperCase()}}var dt=/([_^=]*)([A-Ga-g])([,']*)/,lt=/([_^=]*[A-Ga-g][,']*)(\d*\/*\d*)([\>\<\-\)\.\s\\]*)/,at=/([_^=]*[A-Ga-g][,']*)?(\d*\/*\d*)?([\>\<\-\)]*)?/,ct=/(\s*)$/;function ht(bt,xt,vt,wt){var _t=xt==="none"?0:ot.indexOf(xt),Ct=bt.match(dt),Et=Ct[2].toUpperCase(),$t=ot.indexOf(Et)-_t;$t<0&&($t+=7);var jt=st.indexOf(Ct[3]);Et===Ct[2]&&jt--;var Dt=wt[Et]||vt[Et]||"=";return{acc:Ct[1],name:Et,pitch:$t,oct:jt,adj:yt(Ct[1],vt[Et],wt[Et]),courtesy:Ct[1]===Dt}}function pt(bt,xt,vt,wt,_t){var Ct=bt.substring(xt,vt),Et=Ct.match(new RegExp(lt.source+ct.source),"");if(Et){var $t=Et[1].length,jt=Et[2].length+Et[3].length+Et[4].length,Dt=vt-xt-$t-jt;xt+=Dt,vt-=jt}else{var Pt=/([^\[]*)/,kt=/\[/,At=/\-?](\d*\/*\d*)?([\>\<\-\)]*)/;if(Et=Ct.match(new RegExp(Pt.source+kt.source+at.source+at.source+at.source+at.source+at.source+at.source+at.source+at.source+At.source+ct.source)),Et){for(var Tt=1+Et[1].length,St=0;St<_t;St++)Et[St*3+2]&&(Tt+=Et[St*3+2].length),Et[St*3+3]&&(Tt+=Et[St*3+3].length),Et[St*3+4]&&(Tt+=Et[St*3+4].length);xt+=Tt;var Rt=Et[_t*3+2]?Et[_t*3+2].length:0;vt=xt+Rt}}return{start:xt,end:vt,note:wt}}function mt(bt,xt,vt,wt,_t){var Ct=bt.substring(xt,vt),Et=/\{/,$t=/\}/,jt=/([^\{]*)/,Dt=/(\/*)/,Pt=Ct.match(new RegExp(jt.source+Et.source+Dt.source+at.source+Dt.source+at.source+Dt.source+at.source+Dt.source+at.source+Dt.source+at.source+Dt.source+at.source+Dt.source+at.source+Dt.source+at.source+$t.source));if(Pt){for(var kt=1+Pt[1].length,At=0;At<_t;At++)Pt[At*3+2]&&(kt+=Pt[At*3+2].length),Pt[At*3+3]&&(kt+=Pt[At*3+3].length),Pt[At*3+4]&&(kt+=Pt[At*3+4].length),Pt[At*3+5]&&(kt+=Pt[At*3+5].length);Pt[_t*3+2]&&(kt+=Pt[At*3+2].length),xt+=kt;var Tt=Pt[_t*3+3]?Pt[_t*3+3].length:0;Tt+=Pt[_t*3+4]?Pt[_t*3+4].length:0,Tt+=Pt[_t*3+5]?Pt[_t*3+5].length:0,vt=xt+Tt}return{start:xt,end:vt,note:wt}}function gt(bt,xt,vt,wt){var _t=bt.substring(xt,vt).match(/([^"]+)?(".+")+/);return _t[1]&&(xt+=_t[1].length),vt=xt+_t[2].length,{start:xt+1,end:vt-1,note:wt}}function yt(bt,xt,vt){if(!bt&&vt&&(bt=vt),!bt)return 0;switch(xt){case void 0:switch(bt){case"__":return-2;case"_":return-1;case"=":return 0;case"^":return 1;case"^^":return 2;default:return 0}case"_":switch(bt){case"__":return-1;case"_":return 0;case"=":return 1;case"^":return 2;case"^^":return 3;default:return 0}case"^":switch(bt){case"__":return-3;case"_":return-2;case"=":return-1;case"^":return 0;case"^^":return 1;default:return 0}}return 0}})();var output=strTranspose$1,BeamElem$1=function _e(et,tt,nt,rt){this.type="BeamElem",this.isflat=!!nt,this.isgrace=!!(tt&&tt==="grace"),this.forceup=!!(this.isgrace||tt&&tt==="up"),this.forcedown=!!(tt&&tt==="down"),this.elems=[],this.total=0,this.average=6,this.allrests=!0,this.stemHeight=et,this.beams=[],rt&&rt.duration?(this.duration=rt.duration,rt.startTriplet&&(this.duration*=rt.tripletMultiplier),this.duration=Math.round(this.duration*1e3)/1e3):this.duration=0};BeamElem$1.prototype.setHint=function(){this.hint=!0};BeamElem$1.prototype.runningDirection=function(_e){var et=_e.averagepitch;et!==void 0&&(this.total=Math.round(this.total+et),this.count||(this.count=0),this.count++)};BeamElem$1.prototype.add=function(_e){var et=_e.abcelem.averagepitch;et!==void 0&&(_e.abcelem.rest||(this.allrests=!1),_e.beam=this,this.elems.push(_e),this.total=Math.round(this.total+et),(this.min===void 0||_e.abcelem.minpitch<this.min)&&(this.min=_e.abcelem.minpitch),(this.max===void 0||_e.abcelem.maxpitch>this.max)&&(this.max=_e.abcelem.maxpitch))};BeamElem$1.prototype.addBeam=function(_e){this.beams.push(_e)};BeamElem$1.prototype.setStemDirection=function(){if(this.average=calcAverage(this.total,this.count),this.forceup)this.stemsUp=!0;else if(this.forcedown)this.stemsUp=!1;else{var _e=6;this.stemsUp=this.average<_e}delete this.count,this.total=0};BeamElem$1.prototype.calcDir=function(){if(this.average=calcAverage(this.total,this.elems.length),this.forceup)this.stemsUp=!0;else if(this.forcedown)this.stemsUp=!1;else{var _e=6;this.stemsUp=this.average<_e}for(var et=this.stemsUp?"up":"down",tt=0;tt<this.elems.length;tt++)for(var nt=0;nt<this.elems[tt].heads.length;nt++)this.elems[tt].heads[nt].stemDir=et};function calcAverage(_e,et){return et?_e/et:0}var beamElement=BeamElem$1,BraceElem$1=function _e(et,tt){this.startVoice=et,this.type=tt};BraceElem$1.prototype.setBottomStaff=function(_e){this.endVoice=_e,this.startVoice.header&&!this.endVoice.header&&(this.header=this.startVoice.header,delete this.startVoice.header)};BraceElem$1.prototype.continuing=function(_e){this.lastContinuedVoice=_e};BraceElem$1.prototype.getWidth=function(){return 10};BraceElem$1.prototype.isStartVoice=function(_e){return!!(this.startVoice&&this.startVoice.staff&&this.startVoice.staff.voices.length>0&&this.startVoice.staff.voices[0]===_e)};var braceElement=BraceElem$1,spacing$b=spacing_1,glyphs$8={0:{d:[["M",4.83,-14.97],["c",.33,-.03,1.11,0,1.47,.06],["c",1.68,.36,2.97,1.59,3.78,3.6],["c",1.2,2.97,.81,6.96,-.9,9.27],["c",-.78,1.08,-1.71,1.71,-2.91,1.95],["c",-.45,.09,-1.32,.09,-1.77,0],["c",-.81,-.18,-1.47,-.51,-2.07,-1.02],["c",-2.34,-2.07,-3.15,-6.72,-1.74,-10.2],["c",.87,-2.16,2.28,-3.42,4.14,-3.66],["z"],["m",1.11,.87],["c",-.21,-.06,-.69,-.09,-.87,-.06],["c",-.54,.12,-.87,.42,-1.17,.99],["c",-.36,.66,-.51,1.56,-.6,3],["c",-.03,.75,-.03,4.59,0,5.31],["c",.09,1.5,.27,2.4,.6,3.06],["c",.24,.48,.57,.78,.96,.9],["c",.27,.09,.78,.09,1.05,0],["c",.39,-.12,.72,-.42,.96,-.9],["c",.33,-.66,.51,-1.56,.6,-3.06],["c",.03,-.72,.03,-4.56,0,-5.31],["c",-.09,-1.47,-.27,-2.37,-.6,-3.03],["c",-.24,-.48,-.54,-.78,-.93,-.9],["z"]],w:10.78,h:14.959},1:{d:[["M",3.3,-15.06],["c",.06,-.06,.21,-.03,.66,.15],["c",.81,.39,1.08,.39,1.83,.03],["c",.21,-.09,.39,-.15,.42,-.15],["c",.12,0,.21,.09,.27,.21],["c",.06,.12,.06,.33,.06,5.94],["c",0,3.93,0,5.85,.03,6.03],["c",.06,.36,.15,.69,.27,.96],["c",.36,.75,.93,1.17,1.68,1.26],["c",.3,.03,.39,.09,.39,.3],["c",0,.15,-.03,.18,-.09,.24],["c",-.06,.06,-.09,.06,-.48,.06],["c",-.42,0,-.69,-.03,-2.1,-.24],["c",-.9,-.15,-1.77,-.15,-2.67,0],["c",-1.41,.21,-1.68,.24,-2.1,.24],["c",-.39,0,-.42,0,-.48,-.06],["c",-.06,-.06,-.06,-.09,-.06,-.24],["c",0,-.21,.06,-.27,.36,-.3],["c",.75,-.09,1.32,-.51,1.68,-1.26],["c",.12,-.27,.21,-.6,.27,-.96],["c",.03,-.18,.03,-1.59,.03,-4.29],["c",0,-3.87,0,-4.05,-.06,-4.14],["c",-.09,-.15,-.18,-.24,-.39,-.24],["c",-.12,0,-.15,.03,-.21,.06],["c",-.03,.06,-.45,.99,-.96,2.13],["c",-.48,1.14,-.9,2.1,-.93,2.16],["c",-.06,.15,-.21,.24,-.33,.24],["c",-.24,0,-.42,-.18,-.42,-.39],["c",0,-.06,3.27,-7.62,3.33,-7.74],["z"]],w:8.94,h:15.058},2:{d:[["M",4.23,-14.97],["c",.57,-.06,1.68,0,2.34,.18],["c",.69,.18,1.5,.54,2.01,.9],["c",1.35,.96,1.95,2.25,1.77,3.81],["c",-.15,1.35,-.66,2.34,-1.68,3.15],["c",-.6,.48,-1.44,.93,-3.12,1.65],["c",-1.32,.57,-1.8,.81,-2.37,1.14],["c",-.57,.33,-.57,.33,-.24,.27],["c",.39,-.09,1.26,-.09,1.68,0],["c",.72,.15,1.41,.45,2.1,.9],["c",.99,.63,1.86,.87,2.55,.75],["c",.24,-.06,.42,-.15,.57,-.3],["c",.12,-.09,.3,-.42,.3,-.51],["c",0,-.09,.12,-.21,.24,-.24],["c",.18,-.03,.39,.12,.39,.3],["c",0,.12,-.15,.57,-.3,.87],["c",-.54,1.02,-1.56,1.74,-2.79,2.01],["c",-.42,.09,-1.23,.09,-1.62,.03],["c",-.81,-.18,-1.32,-.45,-2.01,-1.11],["c",-.45,-.45,-.63,-.57,-.96,-.69],["c",-.84,-.27,-1.89,.12,-2.25,.9],["c",-.12,.21,-.21,.54,-.21,.72],["c",0,.12,-.12,.21,-.27,.24],["c",-.15,0,-.27,-.03,-.33,-.15],["c",-.09,-.21,.09,-1.08,.33,-1.71],["c",.24,-.66,.66,-1.26,1.29,-1.89],["c",.45,-.45,.9,-.81,1.92,-1.56],["c",1.29,-.93,1.89,-1.44,2.34,-1.98],["c",.87,-1.05,1.26,-2.19,1.2,-3.63],["c",-.06,-1.29,-.39,-2.31,-.96,-2.91],["c",-.36,-.33,-.72,-.51,-1.17,-.54],["c",-.84,-.03,-1.53,.42,-1.59,1.05],["c",-.03,.33,.12,.6,.57,1.14],["c",.45,.54,.54,.87,.42,1.41],["c",-.15,.63,-.54,1.11,-1.08,1.38],["c",-.63,.33,-1.2,.33,-1.83,0],["c",-.24,-.12,-.33,-.18,-.54,-.39],["c",-.18,-.18,-.27,-.3,-.36,-.51],["c",-.24,-.45,-.27,-.84,-.21,-1.38],["c",.12,-.75,.45,-1.41,1.02,-1.98],["c",.72,-.72,1.74,-1.17,2.85,-1.32],["z"]],w:10.764,h:14.97},3:{d:[["M",3.78,-14.97],["c",.3,-.03,1.41,0,1.83,.06],["c",2.22,.3,3.51,1.32,3.72,2.91],["c",.03,.33,.03,1.26,-.03,1.65],["c",-.12,.84,-.48,1.47,-1.05,1.77],["c",-.27,.15,-.36,.24,-.45,.39],["c",-.09,.21,-.09,.36,0,.57],["c",.09,.15,.18,.24,.51,.39],["c",.75,.42,1.23,1.14,1.41,2.13],["c",.06,.42,.06,1.35,0,1.71],["c",-.18,.81,-.48,1.38,-1.02,1.95],["c",-.75,.72,-1.8,1.2,-3.18,1.38],["c",-.42,.06,-1.56,.06,-1.95,0],["c",-1.89,-.33,-3.18,-1.29,-3.51,-2.64],["c",-.03,-.12,-.03,-.33,-.03,-.6],["c",0,-.36,0,-.42,.06,-.63],["c",.12,-.3,.27,-.51,.51,-.75],["c",.24,-.24,.45,-.39,.75,-.51],["c",.21,-.06,.27,-.06,.6,-.06],["c",.33,0,.39,0,.6,.06],["c",.3,.12,.51,.27,.75,.51],["c",.36,.33,.57,.75,.6,1.2],["c",0,.21,0,.27,-.06,.42],["c",-.09,.18,-.12,.24,-.54,.54],["c",-.51,.36,-.63,.54,-.6,.87],["c",.06,.54,.54,.9,1.38,.99],["c",.36,.06,.72,.03,.96,-.06],["c",.81,-.27,1.29,-1.23,1.44,-2.79],["c",.03,-.45,.03,-1.95,-.03,-2.37],["c",-.09,-.75,-.33,-1.23,-.75,-1.44],["c",-.33,-.18,-.45,-.18,-1.98,-.18],["c",-1.35,0,-1.41,0,-1.5,-.06],["c",-.18,-.12,-.24,-.39,-.12,-.6],["c",.12,-.15,.15,-.15,1.68,-.15],["c",1.5,0,1.62,0,1.89,-.15],["c",.18,-.09,.42,-.36,.54,-.57],["c",.18,-.42,.27,-.9,.3,-1.95],["c",.03,-1.2,-.06,-1.8,-.36,-2.37],["c",-.24,-.48,-.63,-.81,-1.14,-.96],["c",-.3,-.06,-1.08,-.06,-1.38,.03],["c",-.6,.15,-.9,.42,-.96,.84],["c",-.03,.3,.06,.45,.63,.84],["c",.33,.24,.42,.39,.45,.63],["c",.03,.72,-.57,1.5,-1.32,1.65],["c",-1.05,.27,-2.1,-.57,-2.1,-1.65],["c",0,-.45,.15,-.96,.39,-1.38],["c",.12,-.21,.54,-.63,.81,-.81],["c",.57,-.42,1.38,-.69,2.25,-.81],["z"]],w:9.735,h:14.967},4:{d:[["M",8.64,-14.94],["c",.27,-.09,.42,-.12,.54,-.03],["c",.09,.06,.15,.21,.15,.3],["c",-.03,.06,-1.92,2.31,-4.23,5.04],["c",-2.31,2.73,-4.23,4.98,-4.26,5.01],["c",-.03,.06,.12,.06,2.55,.06],["l",2.61,0],["l",0,-2.37],["c",0,-2.19,.03,-2.37,.06,-2.46],["c",.03,-.06,.21,-.18,.57,-.42],["c",1.08,-.72,1.38,-1.08,1.86,-2.16],["c",.12,-.3,.24,-.54,.27,-.57],["c",.12,-.12,.39,-.06,.45,.12],["c",.06,.09,.06,.57,.06,3.96],["l",0,3.9],["l",1.08,0],["c",1.05,0,1.11,0,1.2,.06],["c",.24,.15,.24,.54,0,.69],["c",-.09,.06,-.15,.06,-1.2,.06],["l",-1.08,0],["l",0,.33],["c",0,.57,.09,1.11,.3,1.53],["c",.36,.75,.93,1.17,1.68,1.26],["c",.3,.03,.39,.09,.39,.3],["c",0,.15,-.03,.18,-.09,.24],["c",-.06,.06,-.09,.06,-.48,.06],["c",-.42,0,-.69,-.03,-2.1,-.24],["c",-.9,-.15,-1.77,-.15,-2.67,0],["c",-1.41,.21,-1.68,.24,-2.1,.24],["c",-.39,0,-.42,0,-.48,-.06],["c",-.06,-.06,-.06,-.09,-.06,-.24],["c",0,-.21,.06,-.27,.36,-.3],["c",.75,-.09,1.32,-.51,1.68,-1.26],["c",.21,-.42,.3,-.96,.3,-1.53],["l",0,-.33],["l",-2.7,0],["c",-2.91,0,-2.85,0,-3.09,-.15],["c",-.18,-.12,-.3,-.39,-.27,-.54],["c",.03,-.06,.18,-.24,.33,-.45],["c",.75,-.9,1.59,-2.07,2.13,-3.03],["c",.33,-.54,.84,-1.62,1.05,-2.16],["c",.57,-1.41,.84,-2.64,.9,-4.05],["c",.03,-.63,.06,-.72,.24,-.81],["l",.12,-.06],["l",.45,.12],["c",.66,.18,1.02,.24,1.47,.27],["c",.6,.03,1.23,-.09,2.01,-.33],["z"]],w:11.795,h:14.994},5:{d:[["M",1.02,-14.94],["c",.12,-.09,.03,-.09,1.08,.06],["c",2.49,.36,4.35,.36,6.96,-.06],["c",.57,-.09,.66,-.06,.81,.06],["c",.15,.18,.12,.24,-.15,.51],["c",-1.29,1.26,-3.24,2.04,-5.58,2.31],["c",-.6,.09,-1.2,.12,-1.71,.12],["c",-.39,0,-.45,0,-.57,.06],["c",-.09,.06,-.15,.12,-.21,.21],["l",-.06,.12],["l",0,1.65],["l",0,1.65],["l",.21,-.21],["c",.66,-.57,1.41,-.96,2.19,-1.14],["c",.33,-.06,1.41,-.06,1.95,0],["c",2.61,.36,4.02,1.74,4.26,4.14],["c",.03,.45,.03,1.08,-.03,1.44],["c",-.18,1.02,-.78,2.01,-1.59,2.7],["c",-.72,.57,-1.62,1.02,-2.49,1.2],["c",-1.38,.27,-3.03,.06,-4.2,-.54],["c",-1.08,-.54,-1.71,-1.32,-1.86,-2.28],["c",-.09,-.69,.09,-1.29,.57,-1.74],["c",.24,-.24,.45,-.39,.75,-.51],["c",.21,-.06,.27,-.06,.6,-.06],["c",.33,0,.39,0,.6,.06],["c",.3,.12,.51,.27,.75,.51],["c",.36,.33,.57,.75,.6,1.2],["c",0,.21,0,.27,-.06,.42],["c",-.09,.18,-.12,.24,-.54,.54],["c",-.18,.12,-.36,.3,-.42,.33],["c",-.36,.42,-.18,.99,.36,1.26],["c",.51,.27,1.47,.36,2.01,.27],["c",.93,-.21,1.47,-1.17,1.65,-2.91],["c",.06,-.45,.06,-1.89,0,-2.31],["c",-.15,-1.2,-.51,-2.1,-1.05,-2.55],["c",-.21,-.18,-.54,-.36,-.81,-.39],["c",-.3,-.06,-.84,-.03,-1.26,.06],["c",-.93,.18,-1.65,.6,-2.16,1.2],["c",-.15,.21,-.27,.3,-.39,.3],["c",-.15,0,-.3,-.09,-.36,-.18],["c",-.06,-.09,-.06,-.15,-.06,-3.66],["c",0,-3.39,0,-3.57,.06,-3.66],["c",.03,-.06,.09,-.15,.15,-.18],["z"]],w:10.212,h:14.997},6:{d:[["M",4.98,-14.97],["c",.36,-.03,1.2,0,1.59,.06],["c",.9,.15,1.68,.51,2.25,1.05],["c",.57,.51,.87,1.23,.84,1.98],["c",-.03,.51,-.21,.9,-.6,1.26],["c",-.24,.24,-.45,.39,-.75,.51],["c",-.21,.06,-.27,.06,-.6,.06],["c",-.33,0,-.39,0,-.6,-.06],["c",-.3,-.12,-.51,-.27,-.75,-.51],["c",-.39,-.36,-.57,-.78,-.57,-1.26],["c",0,-.27,0,-.3,.09,-.42],["c",.03,-.09,.18,-.21,.3,-.3],["c",.12,-.09,.3,-.21,.39,-.27],["c",.09,-.06,.21,-.18,.27,-.24],["c",.06,-.12,.09,-.15,.09,-.33],["c",0,-.18,-.03,-.24,-.09,-.36],["c",-.24,-.39,-.75,-.6,-1.38,-.57],["c",-.54,.03,-.9,.18,-1.23,.48],["c",-.81,.72,-1.08,2.16,-.96,5.37],["l",0,.63],["l",.3,-.12],["c",.78,-.27,1.29,-.33,2.1,-.27],["c",1.47,.12,2.49,.54,3.27,1.29],["c",.48,.51,.81,1.11,.96,1.89],["c",.06,.27,.06,.42,.06,.93],["c",0,.54,0,.69,-.06,.96],["c",-.15,.78,-.48,1.38,-.96,1.89],["c",-.54,.51,-1.17,.87,-1.98,1.08],["c",-1.14,.3,-2.4,.33,-3.24,.03],["c",-1.5,-.48,-2.64,-1.89,-3.27,-4.02],["c",-.36,-1.23,-.51,-2.82,-.42,-4.08],["c",.3,-3.66,2.28,-6.3,4.95,-6.66],["z"],["m",.66,7.41],["c",-.27,-.09,-.81,-.12,-1.08,-.06],["c",-.72,.18,-1.08,.69,-1.23,1.71],["c",-.06,.54,-.06,3,0,3.54],["c",.18,1.26,.72,1.77,1.8,1.74],["c",.39,-.03,.63,-.09,.9,-.27],["c",.66,-.42,.9,-1.32,.9,-3.24],["c",0,-2.22,-.36,-3.12,-1.29,-3.42],["z"]],w:9.956,h:14.982},7:{d:[["M",.21,-14.97],["c",.21,-.06,.45,0,.54,.15],["c",.06,.09,.06,.15,.06,.39],["c",0,.24,0,.33,.06,.42],["c",.06,.12,.21,.24,.27,.24],["c",.03,0,.12,-.12,.24,-.21],["c",.96,-1.2,2.58,-1.35,3.99,-.42],["c",.15,.12,.42,.3,.54,.45],["c",.48,.39,.81,.57,1.29,.6],["c",.69,.03,1.5,-.3,2.13,-.87],["c",.09,-.09,.27,-.3,.39,-.45],["c",.12,-.15,.24,-.27,.3,-.3],["c",.18,-.06,.39,.03,.51,.21],["c",.06,.18,.06,.24,-.27,.72],["c",-.18,.24,-.54,.78,-.78,1.17],["c",-2.37,3.54,-3.54,6.27,-3.87,9],["c",-.03,.33,-.03,.66,-.03,1.26],["c",0,.9,0,1.08,.15,1.89],["c",.06,.45,.06,.48,.03,.6],["c",-.06,.09,-.21,.21,-.3,.21],["c",-.03,0,-.27,-.06,-.54,-.15],["c",-.84,-.27,-1.11,-.3,-1.65,-.3],["c",-.57,0,-.84,.03,-1.56,.27],["c",-.6,.18,-.69,.21,-.81,.15],["c",-.12,-.06,-.21,-.18,-.21,-.3],["c",0,-.15,.6,-1.44,1.2,-2.61],["c",1.14,-2.22,2.73,-4.68,5.1,-8.01],["c",.21,-.27,.36,-.48,.33,-.48],["c",0,0,-.12,.06,-.27,.12],["c",-.54,.3,-.99,.39,-1.56,.39],["c",-.75,.03,-1.2,-.18,-1.83,-.75],["c",-.99,-.9,-1.83,-1.17,-2.31,-.72],["c",-.18,.15,-.36,.51,-.45,.84],["c",-.06,.24,-.06,.33,-.09,1.98],["c",0,1.62,-.03,1.74,-.06,1.8],["c",-.15,.24,-.54,.24,-.69,0],["c",-.06,-.09,-.06,-.15,-.06,-3.57],["c",0,-3.42,0,-3.48,.06,-3.57],["c",.03,-.06,.09,-.12,.15,-.15],["z"]],w:10.561,h:15.093},8:{d:[["M",4.98,-14.97],["c",.33,-.03,1.02,-.03,1.32,0],["c",1.32,.12,2.49,.6,3.21,1.32],["c",.39,.39,.66,.81,.78,1.29],["c",.09,.36,.09,1.08,0,1.44],["c",-.21,.84,-.66,1.59,-1.59,2.55],["l",-.3,.3],["l",.27,.18],["c",1.47,.93,2.31,2.31,2.25,3.75],["c",-.03,.75,-.24,1.35,-.63,1.95],["c",-.45,.66,-1.02,1.14,-1.83,1.53],["c",-1.8,.87,-4.2,.87,-6,.03],["c",-1.62,-.78,-2.52,-2.16,-2.46,-3.66],["c",.06,-.99,.54,-1.77,1.8,-2.97],["c",.54,-.51,.54,-.54,.48,-.57],["c",-.39,-.27,-.96,-.78,-1.2,-1.14],["c",-.75,-1.11,-.87,-2.4,-.3,-3.6],["c",.69,-1.35,2.25,-2.25,4.2,-2.4],["z"],["m",1.53,.69],["c",-.42,-.09,-1.11,-.12,-1.38,-.06],["c",-.3,.06,-.6,.18,-.81,.3],["c",-.21,.12,-.6,.51,-.72,.72],["c",-.51,.87,-.42,1.89,.21,2.52],["c",.21,.21,.36,.3,1.95,1.23],["c",.96,.54,1.74,.99,1.77,1.02],["c",.09,0,.63,-.6,.99,-1.11],["c",.21,-.36,.48,-.87,.57,-1.23],["c",.06,-.24,.06,-.36,.06,-.72],["c",0,-.45,-.03,-.66,-.15,-.99],["c",-.39,-.81,-1.29,-1.44,-2.49,-1.68],["z"],["m",-1.44,8.07],["l",-1.89,-1.08],["c",-.03,0,-.18,.15,-.39,.33],["c",-1.2,1.08,-1.65,1.95,-1.59,3],["c",.09,1.59,1.35,2.85,3.21,3.24],["c",.33,.06,.45,.06,.93,.06],["c",.63,0,.81,-.03,1.29,-.27],["c",.9,-.42,1.47,-1.41,1.41,-2.4],["c",-.06,-.66,-.39,-1.29,-.9,-1.65],["c",-.12,-.09,-1.05,-.63,-2.07,-1.23],["z"]],w:10.926,h:14.989},9:{d:[["M",4.23,-14.97],["c",.42,-.03,1.29,0,1.62,.06],["c",.51,.12,.93,.3,1.38,.57],["c",1.53,1.02,2.52,3.24,2.73,5.94],["c",.18,2.55,-.48,4.98,-1.83,6.57],["c",-1.05,1.26,-2.4,1.89,-3.93,1.83],["c",-1.23,-.06,-2.31,-.45,-3.03,-1.14],["c",-.57,-.51,-.87,-1.23,-.84,-1.98],["c",.03,-.51,.21,-.9,.6,-1.26],["c",.24,-.24,.45,-.39,.75,-.51],["c",.21,-.06,.27,-.06,.6,-.06],["c",.33,0,.39,0,.6,.06],["c",.3,.12,.51,.27,.75,.51],["c",.39,.36,.57,.78,.57,1.26],["c",0,.27,0,.3,-.09,.42],["c",-.03,.09,-.18,.21,-.3,.3],["c",-.12,.09,-.3,.21,-.39,.27],["c",-.09,.06,-.21,.18,-.27,.24],["c",-.06,.12,-.06,.15,-.06,.33],["c",0,.18,0,.24,.06,.36],["c",.24,.39,.75,.6,1.38,.57],["c",.54,-.03,.9,-.18,1.23,-.48],["c",.81,-.72,1.08,-2.16,.96,-5.37],["l",0,-.63],["l",-.3,.12],["c",-.78,.27,-1.29,.33,-2.1,.27],["c",-1.47,-.12,-2.49,-.54,-3.27,-1.29],["c",-.48,-.51,-.81,-1.11,-.96,-1.89],["c",-.06,-.27,-.06,-.42,-.06,-.96],["c",0,-.51,0,-.66,.06,-.93],["c",.15,-.78,.48,-1.38,.96,-1.89],["c",.15,-.12,.33,-.27,.42,-.36],["c",.69,-.51,1.62,-.81,2.76,-.93],["z"],["m",1.17,.66],["c",-.21,-.06,-.57,-.06,-.81,-.03],["c",-.78,.12,-1.26,.69,-1.41,1.74],["c",-.12,.63,-.15,1.95,-.09,2.79],["c",.12,1.71,.63,2.4,1.77,2.46],["c",1.08,.03,1.62,-.48,1.8,-1.74],["c",.06,-.54,.06,-3,0,-3.54],["c",-.15,-1.05,-.51,-1.53,-1.26,-1.68],["z"]],w:9.959,h:14.986},"rests.multimeasure":{d:[["M",0,-4],["l",0,16],["l",1,0],["l",0,-5],["l",40,0],["l",0,5],["l",1,0],["l",0,-16],["l",-1,0],["l",0,5],["l",-40,0],["l",0,-5],["z"]],w:42,h:18},"rests.whole":{d:[["M",.06,.03],["l",.09,-.06],["l",5.46,0],["l",5.49,0],["l",.09,.06],["l",.06,.09],["l",0,2.19],["l",0,2.19],["l",-.06,.09],["l",-.09,.06],["l",-5.49,0],["l",-5.46,0],["l",-.09,-.06],["l",-.06,-.09],["l",0,-2.19],["l",0,-2.19],["z"]],w:11.25,h:4.68},"rests.half":{d:[["M",.06,-4.62],["l",.09,-.06],["l",5.46,0],["l",5.49,0],["l",.09,.06],["l",.06,.09],["l",0,2.19],["l",0,2.19],["l",-.06,.09],["l",-.09,.06],["l",-5.49,0],["l",-5.46,0],["l",-.09,-.06],["l",-.06,-.09],["l",0,-2.19],["l",0,-2.19],["z"]],w:11.25,h:4.68},"rests.quarter":{d:[["M",1.89,-11.82],["c",.12,-.06,.24,-.06,.36,-.03],["c",.09,.06,4.74,5.58,4.86,5.82],["c",.21,.39,.15,.78,-.15,1.26],["c",-.24,.33,-.72,.81,-1.62,1.56],["c",-.45,.36,-.87,.75,-.96,.84],["c",-.93,.99,-1.14,2.49,-.6,3.63],["c",.18,.39,.27,.48,1.32,1.68],["c",1.92,2.25,1.83,2.16,1.83,2.34],["c",0,.18,-.18,.36,-.36,.39],["c",-.15,0,-.27,-.06,-.48,-.27],["c",-.75,-.75,-2.46,-1.29,-3.39,-1.08],["c",-.45,.09,-.69,.27,-.9,.69],["c",-.12,.3,-.21,.66,-.24,1.14],["c",-.03,.66,.09,1.35,.3,2.01],["c",.15,.42,.24,.66,.45,.96],["c",.18,.24,.18,.33,.03,.42],["c",-.12,.06,-.18,.03,-.45,-.3],["c",-1.08,-1.38,-2.07,-3.36,-2.4,-4.83],["c",-.27,-1.05,-.15,-1.77,.27,-2.07],["c",.21,-.12,.42,-.15,.87,-.15],["c",.87,.06,2.1,.39,3.3,.9],["l",.39,.18],["l",-1.65,-1.95],["c",-2.52,-2.97,-2.61,-3.09,-2.7,-3.27],["c",-.09,-.24,-.12,-.48,-.03,-.75],["c",.15,-.48,.57,-.96,1.83,-2.01],["c",.45,-.36,.84,-.72,.93,-.78],["c",.69,-.75,1.02,-1.8,.9,-2.79],["c",-.06,-.33,-.21,-.84,-.39,-1.11],["c",-.09,-.15,-.45,-.6,-.81,-1.05],["c",-.36,-.42,-.69,-.81,-.72,-.87],["c",-.09,-.18,0,-.42,.21,-.51],["z"]],w:7.888,h:21.435},"rests.8th":{d:[["M",1.68,-6.12],["c",.66,-.09,1.23,.09,1.68,.51],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.12,.27,.33,.45,.6,.48],["c",.12,0,.18,0,.33,-.09],["c",.39,-.18,1.32,-1.29,1.68,-1.98],["c",.09,-.21,.24,-.3,.39,-.3],["c",.12,0,.27,.09,.33,.18],["c",.03,.06,-.27,1.11,-1.86,6.42],["c",-1.02,3.48,-1.89,6.39,-1.92,6.42],["c",0,.03,-.12,.12,-.24,.15],["c",-.18,.09,-.21,.09,-.45,.09],["c",-.24,0,-.3,0,-.48,-.06],["c",-.09,-.06,-.21,-.12,-.21,-.15],["c",-.06,-.03,.15,-.57,1.68,-4.92],["c",.96,-2.67,1.74,-4.89,1.71,-4.89],["l",-.51,.15],["c",-1.08,.36,-1.74,.48,-2.55,.48],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.33,-.45,.84,-.81,1.38,-.9],["z"]],w:7.534,h:13.883},"rests.16th":{d:[["M",3.33,-6.12],["c",.66,-.09,1.23,.09,1.68,.51],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.15,.39,.57,.57,.87,.42],["c",.39,-.18,1.2,-1.23,1.62,-2.07],["c",.06,-.15,.24,-.24,.36,-.24],["c",.12,0,.27,.09,.33,.18],["c",.03,.06,-.45,1.86,-2.67,10.17],["c",-1.5,5.55,-2.73,10.14,-2.76,10.17],["c",-.03,.03,-.12,.12,-.24,.15],["c",-.18,.09,-.21,.09,-.45,.09],["c",-.24,0,-.3,0,-.48,-.06],["c",-.09,-.06,-.21,-.12,-.21,-.15],["c",-.06,-.03,.12,-.57,1.44,-4.92],["c",.81,-2.67,1.47,-4.86,1.47,-4.89],["c",-.03,0,-.27,.06,-.54,.15],["c",-1.08,.36,-1.77,.48,-2.58,.48],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.72,-1.05,2.22,-1.23,3.06,-.42],["c",.3,.33,.42,.6,.6,1.38],["c",.09,.45,.21,.78,.33,.9],["c",.09,.09,.27,.18,.45,.21],["c",.12,0,.18,0,.33,-.09],["c",.33,-.15,1.02,-.93,1.41,-1.59],["c",.12,-.21,.18,-.39,.39,-1.08],["c",.66,-2.1,1.17,-3.84,1.17,-3.87],["c",0,0,-.21,.06,-.42,.15],["c",-.51,.15,-1.2,.33,-1.68,.42],["c",-.33,.06,-.51,.06,-.96,.06],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.33,-.45,.84,-.81,1.38,-.9],["z"]],w:9.724,h:21.383},"rests.32nd":{d:[["M",4.23,-13.62],["c",.66,-.09,1.23,.09,1.68,.51],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.12,.27,.33,.45,.6,.48],["c",.12,0,.18,0,.27,-.06],["c",.33,-.21,.99,-1.11,1.44,-1.98],["c",.09,-.24,.21,-.33,.39,-.33],["c",.12,0,.27,.09,.33,.18],["c",.03,.06,-.57,2.67,-3.21,13.89],["c",-1.8,7.62,-3.3,13.89,-3.3,13.92],["c",-.03,.06,-.12,.12,-.24,.18],["c",-.21,.09,-.24,.09,-.48,.09],["c",-.24,0,-.3,0,-.48,-.06],["c",-.09,-.06,-.21,-.12,-.21,-.15],["c",-.06,-.03,.09,-.57,1.23,-4.92],["c",.69,-2.67,1.26,-4.86,1.29,-4.89],["c",0,-.03,-.12,-.03,-.48,.12],["c",-1.17,.39,-2.22,.57,-3,.54],["c",-.42,-.03,-.75,-.12,-1.11,-.3],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.72,-1.05,2.22,-1.23,3.06,-.42],["c",.3,.33,.42,.6,.6,1.38],["c",.09,.45,.21,.78,.33,.9],["c",.12,.09,.3,.18,.48,.21],["c",.12,0,.18,0,.3,-.09],["c",.42,-.21,1.29,-1.29,1.56,-1.89],["c",.03,-.12,1.23,-4.59,1.23,-4.65],["c",0,-.03,-.18,.03,-.39,.12],["c",-.63,.18,-1.2,.36,-1.74,.45],["c",-.39,.06,-.54,.06,-1.02,.06],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.72,-1.05,2.22,-1.23,3.06,-.42],["c",.3,.33,.42,.6,.6,1.38],["c",.09,.45,.21,.78,.33,.9],["c",.18,.18,.51,.27,.72,.15],["c",.3,-.12,.69,-.57,1.08,-1.17],["c",.42,-.6,.39,-.51,1.05,-3.03],["c",.33,-1.26,.6,-2.31,.6,-2.34],["c",0,0,-.21,.03,-.45,.12],["c",-.57,.18,-1.14,.33,-1.62,.42],["c",-.33,.06,-.51,.06,-.96,.06],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.33,-.45,.84,-.81,1.38,-.9],["z"]],w:11.373,h:28.883},"rests.64th":{d:[["M",5.13,-13.62],["c",.66,-.09,1.23,.09,1.68,.51],["c",.27,.3,.39,.54,.57,1.26],["c",.15,.63,.21,.81,.33,.96],["c",.18,.21,.54,.3,.75,.18],["c",.24,-.12,.63,-.66,1.08,-1.56],["c",.33,-.66,.39,-.72,.6,-.72],["c",.12,0,.27,.09,.33,.18],["c",.03,.06,-.69,3.66,-3.54,17.64],["c",-1.95,9.66,-3.57,17.61,-3.57,17.64],["c",-.03,.06,-.12,.12,-.24,.18],["c",-.21,.09,-.24,.09,-.48,.09],["c",-.24,0,-.3,0,-.48,-.06],["c",-.09,-.06,-.21,-.12,-.21,-.15],["c",-.06,-.03,.06,-.57,1.05,-4.95],["c",.6,-2.7,1.08,-4.89,1.08,-4.92],["c",0,0,-.24,.06,-.51,.15],["c",-.66,.24,-1.2,.36,-1.77,.48],["c",-.42,.06,-.57,.06,-1.05,.06],["c",-.69,0,-.87,-.03,-1.35,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.72,-1.05,2.22,-1.23,3.06,-.42],["c",.3,.33,.42,.6,.6,1.38],["c",.09,.45,.21,.78,.33,.9],["c",.09,.09,.27,.18,.45,.21],["c",.21,.03,.39,-.09,.72,-.42],["c",.45,-.45,1.02,-1.26,1.17,-1.65],["c",.03,-.09,.27,-1.14,.54,-2.34],["c",.27,-1.2,.48,-2.19,.51,-2.22],["c",0,-.03,-.09,-.03,-.48,.12],["c",-1.17,.39,-2.22,.57,-3,.54],["c",-.42,-.03,-.75,-.12,-1.11,-.3],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.15,.39,.57,.57,.9,.42],["c",.36,-.18,1.2,-1.26,1.47,-1.89],["c",.03,-.09,.3,-1.2,.57,-2.43],["l",.51,-2.28],["l",-.54,.18],["c",-1.11,.36,-1.8,.48,-2.61,.48],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.15,.63,.21,.81,.33,.96],["c",.21,.21,.54,.3,.75,.18],["c",.36,-.18,.93,-.93,1.29,-1.68],["c",.12,-.24,.18,-.48,.63,-2.55],["l",.51,-2.31],["c",0,-.03,-.18,.03,-.39,.12],["c",-1.14,.36,-2.1,.54,-2.82,.51],["c",-.42,-.03,-.75,-.12,-1.11,-.3],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.33,-.45,.84,-.81,1.38,-.9],["z"]],w:12.453,h:36.383},"rests.128th":{d:[["M",6.03,-21.12],["c",.66,-.09,1.23,.09,1.68,.51],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.12,.27,.33,.45,.6,.48],["c",.21,0,.33,-.06,.54,-.36],["c",.15,-.21,.54,-.93,.78,-1.47],["c",.15,-.33,.18,-.39,.3,-.48],["c",.18,-.09,.45,0,.51,.15],["c",.03,.09,-7.11,42.75,-7.17,42.84],["c",-.03,.03,-.15,.09,-.24,.15],["c",-.18,.06,-.24,.06,-.45,.06],["c",-.24,0,-.3,0,-.48,-.06],["c",-.09,-.06,-.21,-.12,-.21,-.15],["c",-.06,-.03,.03,-.57,.84,-4.98],["c",.51,-2.7,.93,-4.92,.9,-4.92],["c",0,0,-.15,.06,-.36,.12],["c",-.78,.27,-1.62,.48,-2.31,.57],["c",-.15,.03,-.54,.03,-.81,.03],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.12,.27,.33,.45,.63,.48],["c",.12,0,.18,0,.3,-.09],["c",.42,-.21,1.14,-1.11,1.5,-1.83],["c",.12,-.27,.12,-.27,.54,-2.52],["c",.24,-1.23,.42,-2.25,.39,-2.25],["c",0,0,-.24,.06,-.51,.18],["c",-1.26,.39,-2.25,.57,-3.06,.54],["c",-.42,-.03,-.75,-.12,-1.11,-.3],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.15,.63,.21,.81,.33,.96],["c",.18,.21,.51,.3,.75,.18],["c",.36,-.15,1.05,-.99,1.41,-1.77],["l",.15,-.3],["l",.42,-2.25],["c",.21,-1.26,.42,-2.28,.39,-2.28],["l",-.51,.15],["c",-1.11,.39,-1.89,.51,-2.7,.51],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.15,.63,.21,.81,.33,.96],["c",.18,.18,.48,.27,.72,.21],["c",.33,-.12,1.14,-1.26,1.41,-1.95],["c",0,-.09,.21,-1.11,.45,-2.34],["c",.21,-1.2,.39,-2.22,.39,-2.28],["c",.03,-.03,0,-.03,-.45,.12],["c",-.57,.18,-1.2,.33,-1.71,.42],["c",-.3,.06,-.51,.06,-.93,.06],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.12,.27,.33,.45,.6,.48],["c",.18,0,.36,-.09,.57,-.33],["c",.33,-.36,.78,-1.14,.93,-1.56],["c",.03,-.12,.24,-1.2,.45,-2.4],["c",.24,-1.2,.42,-2.22,.42,-2.28],["c",.03,-.03,0,-.03,-.39,.09],["c",-1.05,.36,-1.8,.48,-2.58,.48],["c",-.63,0,-.84,-.03,-1.29,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.33,-.45,.84,-.81,1.38,-.9],["z"]],w:12.992,h:43.883},"accidentals.sharp":{d:[["M",5.73,-11.19],["c",.21,-.12,.54,-.03,.66,.24],["c",.06,.12,.06,.21,.06,2.31],["c",0,1.23,0,2.22,.03,2.22],["c",0,0,.27,-.12,.6,-.24],["c",.69,-.27,.78,-.3,.96,-.15],["c",.21,.15,.21,.18,.21,1.38],["c",0,1.02,0,1.11,-.06,1.2],["c",-.03,.06,-.09,.12,-.12,.15],["c",-.06,.03,-.42,.21,-.84,.36],["l",-.75,.33],["l",-.03,2.43],["c",0,1.32,0,2.43,.03,2.43],["c",0,0,.27,-.12,.6,-.24],["c",.69,-.27,.78,-.3,.96,-.15],["c",.21,.15,.21,.18,.21,1.38],["c",0,1.02,0,1.11,-.06,1.2],["c",-.03,.06,-.09,.12,-.12,.15],["c",-.06,.03,-.42,.21,-.84,.36],["l",-.75,.33],["l",-.03,2.52],["c",0,2.28,-.03,2.55,-.06,2.64],["c",-.21,.36,-.72,.36,-.93,0],["c",-.03,-.09,-.06,-.33,-.06,-2.43],["l",0,-2.31],["l",-1.29,.51],["l",-1.26,.51],["l",0,2.43],["c",0,2.58,0,2.52,-.15,2.67],["c",-.06,.09,-.27,.18,-.36,.18],["c",-.12,0,-.33,-.09,-.39,-.18],["c",-.15,-.15,-.15,-.09,-.15,-2.43],["c",0,-1.23,0,-2.22,-.03,-2.22],["c",0,0,-.27,.12,-.6,.24],["c",-.69,.27,-.78,.3,-.96,.15],["c",-.21,-.15,-.21,-.18,-.21,-1.38],["c",0,-1.02,0,-1.11,.06,-1.2],["c",.03,-.06,.09,-.12,.12,-.15],["c",.06,-.03,.42,-.21,.84,-.36],["l",.78,-.33],["l",0,-2.43],["c",0,-1.32,0,-2.43,-.03,-2.43],["c",0,0,-.27,.12,-.6,.24],["c",-.69,.27,-.78,.3,-.96,.15],["c",-.21,-.15,-.21,-.18,-.21,-1.38],["c",0,-1.02,0,-1.11,.06,-1.2],["c",.03,-.06,.09,-.12,.12,-.15],["c",.06,-.03,.42,-.21,.84,-.36],["l",.78,-.33],["l",0,-2.52],["c",0,-2.28,.03,-2.55,.06,-2.64],["c",.21,-.36,.72,-.36,.93,0],["c",.03,.09,.06,.33,.06,2.43],["l",.03,2.31],["l",1.26,-.51],["l",1.26,-.51],["l",0,-2.43],["c",0,-2.28,0,-2.43,.06,-2.55],["c",.06,-.12,.12,-.18,.27,-.24],["z"],["m",-.33,10.65],["l",0,-2.43],["l",-1.29,.51],["l",-1.26,.51],["l",0,2.46],["l",0,2.43],["l",.09,-.03],["c",.06,-.03,.63,-.27,1.29,-.51],["l",1.17,-.48],["l",0,-2.46],["z"]],w:8.25,h:22.462},"accidentals.halfsharp":{d:[["M",2.43,-10.05],["c",.21,-.12,.54,-.03,.66,.24],["c",.06,.12,.06,.21,.06,2.01],["c",0,1.05,0,1.89,.03,1.89],["l",.72,-.48],["c",.69,-.48,.69,-.51,.87,-.51],["c",.15,0,.18,.03,.27,.09],["c",.21,.15,.21,.18,.21,1.41],["c",0,1.11,-.03,1.14,-.09,1.23],["c",-.03,.03,-.48,.39,-1.02,.75],["l",-.99,.66],["l",0,2.37],["c",0,1.32,0,2.37,.03,2.37],["l",.72,-.48],["c",.69,-.48,.69,-.51,.87,-.51],["c",.15,0,.18,.03,.27,.09],["c",.21,.15,.21,.18,.21,1.41],["c",0,1.11,-.03,1.14,-.09,1.23],["c",-.03,.03,-.48,.39,-1.02,.75],["l",-.99,.66],["l",0,2.25],["c",0,1.95,0,2.28,-.06,2.37],["c",-.06,.12,-.12,.21,-.24,.27],["c",-.27,.12,-.54,.03,-.69,-.24],["c",-.06,-.12,-.06,-.21,-.06,-2.01],["c",0,-1.05,0,-1.89,-.03,-1.89],["l",-.72,.48],["c",-.69,.48,-.69,.48,-.87,.48],["c",-.15,0,-.18,0,-.27,-.06],["c",-.21,-.15,-.21,-.18,-.21,-1.41],["c",0,-1.11,.03,-1.14,.09,-1.23],["c",.03,-.03,.48,-.39,1.02,-.75],["l",.99,-.66],["l",0,-2.37],["c",0,-1.32,0,-2.37,-.03,-2.37],["l",-.72,.48],["c",-.69,.48,-.69,.48,-.87,.48],["c",-.15,0,-.18,0,-.27,-.06],["c",-.21,-.15,-.21,-.18,-.21,-1.41],["c",0,-1.11,.03,-1.14,.09,-1.23],["c",.03,-.03,.48,-.39,1.02,-.75],["l",.99,-.66],["l",0,-2.25],["c",0,-2.13,0,-2.28,.06,-2.4],["c",.06,-.12,.12,-.18,.27,-.24],["z"]],w:5.25,h:20.174},"accidentals.nat":{d:[["M",.21,-11.4],["c",.24,-.06,.78,0,.99,.15],["c",.03,.03,.03,.48,0,2.61],["c",-.03,1.44,-.03,2.61,-.03,2.61],["c",0,.03,.75,-.09,1.68,-.24],["c",.96,-.18,1.71,-.27,1.74,-.27],["c",.15,.03,.27,.15,.36,.3],["l",.06,.12],["l",.09,8.67],["c",.09,6.96,.12,8.67,.09,8.67],["c",-.03,.03,-.12,.06,-.21,.09],["c",-.24,.09,-.72,.09,-.96,0],["c",-.09,-.03,-.18,-.06,-.21,-.09],["c",-.03,-.03,-.03,-.48,0,-2.61],["c",.03,-1.44,.03,-2.61,.03,-2.61],["c",0,-.03,-.75,.09,-1.68,.24],["c",-.96,.18,-1.71,.27,-1.74,.27],["c",-.15,-.03,-.27,-.15,-.36,-.3],["l",-.06,-.15],["l",-.09,-7.53],["c",-.06,-4.14,-.09,-8.04,-.12,-8.67],["l",0,-1.11],["l",.15,-.06],["c",.09,-.03,.21,-.06,.27,-.09],["z"],["m",3.75,8.4],["c",0,-.33,0,-.42,-.03,-.42],["c",-.12,0,-2.79,.45,-2.79,.48],["c",-.03,0,-.09,6.3,-.09,6.33],["c",.03,0,2.79,-.45,2.82,-.48],["c",0,0,.09,-4.53,.09,-5.91],["z"]],w:5.4,h:22.8},"accidentals.flat":{d:[["M",-.36,-14.07],["c",.33,-.06,.87,0,1.08,.15],["c",.06,.03,.06,.36,-.03,5.25],["c",-.06,2.85,-.09,5.19,-.09,5.19],["c",0,.03,.12,-.03,.24,-.12],["c",.63,-.42,1.41,-.66,2.19,-.72],["c",.81,-.03,1.47,.21,2.04,.78],["c",.57,.54,.87,1.26,.93,2.04],["c",.03,.57,-.09,1.08,-.36,1.62],["c",-.42,.81,-1.02,1.38,-2.82,2.61],["c",-1.14,.78,-1.44,1.02,-1.8,1.44],["c",-.18,.18,-.39,.39,-.45,.42],["c",-.27,.18,-.57,.15,-.81,-.06],["c",-.06,-.09,-.12,-.18,-.15,-.27],["c",-.03,-.06,-.09,-3.27,-.18,-8.34],["c",-.09,-4.53,-.15,-8.58,-.18,-9.03],["l",0,-.78],["l",.12,-.06],["c",.06,-.03,.18,-.09,.27,-.12],["z"],["m",3.18,11.01],["c",-.21,-.12,-.54,-.15,-.81,-.06],["c",-.54,.15,-.99,.63,-1.17,1.26],["c",-.06,.3,-.12,2.88,-.06,3.87],["c",.03,.42,.03,.81,.06,.9],["l",.03,.12],["l",.45,-.39],["c",.63,-.54,1.26,-1.17,1.56,-1.59],["c",.3,-.42,.6,-.99,.72,-1.41],["c",.18,-.69,.09,-1.47,-.18,-2.07],["c",-.15,-.3,-.33,-.51,-.6,-.63],["z"]],w:6.75,h:18.801},"accidentals.halfflat":{d:[["M",4.83,-14.07],["c",.33,-.06,.87,0,1.08,.15],["c",.06,.03,.06,.6,-.12,9.06],["c",-.09,5.55,-.15,9.06,-.18,9.12],["c",-.03,.09,-.09,.18,-.15,.27],["c",-.24,.21,-.54,.24,-.81,.06],["c",-.06,-.03,-.27,-.24,-.45,-.42],["c",-.36,-.42,-.66,-.66,-1.8,-1.44],["c",-1.23,-.84,-1.83,-1.32,-2.25,-1.77],["c",-.66,-.78,-.96,-1.56,-.93,-2.46],["c",.09,-1.41,1.11,-2.58,2.4,-2.79],["c",.3,-.06,.84,-.03,1.23,.06],["c",.54,.12,1.08,.33,1.53,.63],["c",.12,.09,.24,.15,.24,.12],["c",0,0,-.12,-8.37,-.18,-9.75],["l",0,-.66],["l",.12,-.06],["c",.06,-.03,.18,-.09,.27,-.12],["z"],["m",-1.65,10.95],["c",-.6,-.18,-1.08,.09,-1.38,.69],["c",-.27,.6,-.36,1.38,-.18,2.07],["c",.12,.42,.42,.99,.72,1.41],["c",.3,.42,.93,1.05,1.56,1.59],["l",.48,.39],["l",0,-.12],["c",.03,-.09,.03,-.48,.06,-.9],["c",.03,-.57,.03,-1.08,0,-2.22],["c",-.03,-1.62,-.03,-1.62,-.24,-2.07],["c",-.21,-.42,-.6,-.75,-1.02,-.84],["z"]],w:6.728,h:18.801},"accidentals.dblflat":{d:[["M",-.36,-14.07],["c",.33,-.06,.87,0,1.08,.15],["c",.06,.03,.06,.36,-.03,5.25],["c",-.06,2.85,-.09,5.19,-.09,5.19],["c",0,.03,.12,-.03,.24,-.12],["c",.63,-.42,1.41,-.66,2.19,-.72],["c",.81,-.03,1.47,.21,2.04,.78],["c",.57,.54,.87,1.26,.93,2.04],["c",.03,.57,-.09,1.08,-.36,1.62],["c",-.42,.81,-1.02,1.38,-2.82,2.61],["c",-1.14,.78,-1.44,1.02,-1.8,1.44],["c",-.18,.18,-.39,.39,-.45,.42],["c",-.27,.18,-.57,.15,-.81,-.06],["c",-.06,-.09,-.12,-.18,-.15,-.27],["c",-.03,-.06,-.09,-3.27,-.18,-8.34],["c",-.09,-4.53,-.15,-8.58,-.18,-9.03],["l",0,-.78],["l",.12,-.06],["c",.06,-.03,.18,-.09,.27,-.12],["z"],["m",3.18,11.01],["c",-.21,-.12,-.54,-.15,-.81,-.06],["c",-.54,.15,-.99,.63,-1.17,1.26],["c",-.06,.3,-.12,2.88,-.06,3.87],["c",.03,.42,.03,.81,.06,.9],["l",.03,.12],["l",.45,-.39],["c",.63,-.54,1.26,-1.17,1.56,-1.59],["c",.3,-.42,.6,-.99,.72,-1.41],["c",.18,-.69,.09,-1.47,-.18,-2.07],["c",-.15,-.3,-.33,-.51,-.6,-.63],["z"],["m",3,-11],["c",.33,-.06,.87,0,1.08,.15],["c",.06,.03,.06,.36,-.03,5.25],["c",-.06,2.85,-.09,5.19,-.09,5.19],["c",0,.03,.12,-.03,.24,-.12],["c",.63,-.42,1.41,-.66,2.19,-.72],["c",.81,-.03,1.47,.21,2.04,.78],["c",.57,.54,.87,1.26,.93,2.04],["c",.03,.57,-.09,1.08,-.36,1.62],["c",-.42,.81,-1.02,1.38,-2.82,2.61],["c",-1.14,.78,-1.44,1.02,-1.8,1.44],["c",-.18,.18,-.39,.39,-.45,.42],["c",-.27,.18,-.57,.15,-.81,-.06],["c",-.06,-.09,-.12,-.18,-.15,-.27],["c",-.03,-.06,-.09,-3.27,-.18,-8.34],["c",-.09,-4.53,-.15,-8.58,-.18,-9.03],["l",0,-.78],["l",.12,-.06],["c",.06,-.03,.18,-.09,.27,-.12],["z"],["m",3.18,11.01],["c",-.21,-.12,-.54,-.15,-.81,-.06],["c",-.54,.15,-.99,.63,-1.17,1.26],["c",-.06,.3,-.12,2.88,-.06,3.87],["c",.03,.42,.03,.81,.06,.9],["l",.03,.12],["l",.45,-.39],["c",.63,-.54,1.26,-1.17,1.56,-1.59],["c",.3,-.42,.6,-.99,.72,-1.41],["c",.18,-.69,.09,-1.47,-.18,-2.07],["c",-.15,-.3,-.33,-.51,-.6,-.63],["z"]],w:12.1,h:18.804},"accidentals.dblsharp":{d:[["M",-.18,-3.96],["c",.06,-.03,.12,-.06,.15,-.06],["c",.09,0,2.76,.27,2.79,.3],["c",.12,.03,.15,.12,.15,.51],["c",.06,.96,.24,1.59,.57,2.1],["c",.06,.09,.15,.21,.18,.24],["l",.09,.06],["l",.09,-.06],["c",.03,-.03,.12,-.15,.18,-.24],["c",.33,-.51,.51,-1.14,.57,-2.1],["c",0,-.39,.03,-.45,.12,-.51],["c",.03,0,.66,-.09,1.44,-.15],["c",1.47,-.15,1.5,-.15,1.56,-.03],["c",.03,.06,0,.42,-.09,1.44],["c",-.09,.72,-.15,1.35,-.15,1.38],["c",0,.03,-.03,.09,-.06,.12],["c",-.06,.06,-.12,.09,-.51,.09],["c",-1.08,.06,-1.8,.3,-2.28,.75],["l",-.12,.09],["l",.09,.09],["c",.12,.15,.39,.33,.63,.45],["c",.42,.18,.96,.27,1.68,.33],["c",.39,0,.45,.03,.51,.09],["c",.03,.03,.06,.09,.06,.12],["c",0,.03,.06,.66,.15,1.38],["c",.09,1.02,.12,1.38,.09,1.44],["c",-.06,.12,-.09,.12,-1.56,-.03],["c",-.78,-.06,-1.41,-.15,-1.44,-.15],["c",-.09,-.06,-.12,-.12,-.12,-.54],["c",-.06,-.93,-.24,-1.56,-.57,-2.07],["c",-.06,-.09,-.15,-.21,-.18,-.24],["l",-.09,-.06],["l",-.09,.06],["c",-.03,.03,-.12,.15,-.18,.24],["c",-.33,.51,-.51,1.14,-.57,2.07],["c",0,.42,-.03,.48,-.12,.54],["c",-.03,0,-.66,.09,-1.44,.15],["c",-1.47,.15,-1.5,.15,-1.56,.03],["c",-.03,-.06,0,-.42,.09,-1.44],["c",.09,-.72,.15,-1.35,.15,-1.38],["c",0,-.03,.03,-.09,.06,-.12],["c",.06,-.06,.12,-.09,.51,-.09],["c",.72,-.06,1.26,-.15,1.68,-.33],["c",.24,-.12,.51,-.3,.63,-.45],["l",.09,-.09],["l",-.12,-.09],["c",-.48,-.45,-1.2,-.69,-2.28,-.75],["c",-.39,0,-.45,-.03,-.51,-.09],["c",-.03,-.03,-.06,-.09,-.06,-.12],["c",0,-.03,-.06,-.63,-.12,-1.38],["c",-.09,-.72,-.15,-1.35,-.15,-1.38],["z"]],w:7.95,h:7.977},"dots.dot":{d:[["M",1.32,-1.68],["c",.09,-.03,.27,-.06,.39,-.06],["c",.96,0,1.74,.78,1.74,1.71],["c",0,.96,-.78,1.74,-1.71,1.74],["c",-.96,0,-1.74,-.78,-1.74,-1.71],["c",0,-.78,.54,-1.5,1.32,-1.68],["z"]],w:3.45,h:3.45},"noteheads.dbl":{d:[["M",-.69,-4.02],["c",.18,-.09,.36,-.09,.54,0],["c",.18,.09,.24,.15,.33,.3],["c",.06,.15,.06,.18,.06,1.41],["l",0,1.23],["l",.12,-.18],["c",.72,-1.26,2.64,-2.31,4.86,-2.64],["c",.81,-.15,1.11,-.15,2.13,-.15],["c",.99,0,1.29,0,2.1,.15],["c",.75,.12,1.38,.27,2.04,.54],["c",1.35,.51,2.34,1.26,2.82,2.1],["l",.12,.18],["l",0,-1.23],["c",0,-1.2,0,-1.26,.06,-1.38],["c",.09,-.18,.15,-.24,.33,-.33],["c",.18,-.09,.36,-.09,.54,0],["c",.18,.09,.24,.15,.33,.3],["l",.06,.15],["l",0,3.54],["l",0,3.54],["l",-.06,.15],["c",-.09,.18,-.15,.24,-.33,.33],["c",-.18,.09,-.36,.09,-.54,0],["c",-.18,-.09,-.24,-.15,-.33,-.33],["c",-.06,-.12,-.06,-.18,-.06,-1.38],["l",0,-1.23],["l",-.12,.18],["c",-.48,.84,-1.47,1.59,-2.82,2.1],["c",-.84,.33,-1.71,.54,-2.85,.66],["c",-.45,.06,-2.16,.06,-2.61,0],["c",-1.14,-.12,-2.01,-.33,-2.85,-.66],["c",-1.35,-.51,-2.34,-1.26,-2.82,-2.1],["l",-.12,-.18],["l",0,1.23],["c",0,1.23,0,1.26,-.06,1.38],["c",-.09,.18,-.15,.24,-.33,.33],["c",-.18,.09,-.36,.09,-.54,0],["c",-.18,-.09,-.24,-.15,-.33,-.33],["l",-.06,-.15],["l",0,-3.54],["c",0,-3.48,0,-3.54,.06,-3.66],["c",.09,-.18,.15,-.24,.33,-.33],["z"],["m",7.71,.63],["c",-.36,-.06,-.9,-.06,-1.14,0],["c",-.3,.03,-.66,.24,-.87,.42],["c",-.6,.54,-.9,1.62,-.75,2.82],["c",.12,.93,.51,1.68,1.11,2.31],["c",.75,.72,1.83,1.2,2.85,1.26],["c",1.05,.06,1.83,-.54,2.1,-1.65],["c",.21,-.9,.12,-1.95,-.24,-2.82],["c",-.36,-.81,-1.08,-1.53,-1.95,-1.95],["c",-.3,-.15,-.78,-.3,-1.11,-.39],["z"]],w:16.83,h:8.145},"noteheads.whole":{d:[["M",6.51,-4.05],["c",.51,-.03,2.01,0,2.52,.03],["c",1.41,.18,2.64,.51,3.72,1.08],["c",1.2,.63,1.95,1.41,2.19,2.31],["c",.09,.33,.09,.9,0,1.23],["c",-.24,.9,-.99,1.68,-2.19,2.31],["c",-1.08,.57,-2.28,.9,-3.75,1.08],["c",-.66,.06,-2.31,.06,-2.97,0],["c",-1.47,-.18,-2.67,-.51,-3.75,-1.08],["c",-1.2,-.63,-1.95,-1.41,-2.19,-2.31],["c",-.09,-.33,-.09,-.9,0,-1.23],["c",.24,-.9,.99,-1.68,2.19,-2.31],["c",1.2,-.63,2.61,-.99,4.23,-1.11],["z"],["m",.57,.66],["c",-.87,-.15,-1.53,0,-2.04,.51],["c",-.15,.15,-.24,.27,-.33,.48],["c",-.24,.51,-.36,1.08,-.33,1.77],["c",.03,.69,.18,1.26,.42,1.77],["c",.6,1.17,1.74,1.98,3.18,2.22],["c",1.11,.21,1.95,-.15,2.34,-.99],["c",.24,-.51,.36,-1.08,.33,-1.8],["c",-.06,-1.11,-.45,-2.04,-1.17,-2.76],["c",-.63,-.63,-1.47,-1.05,-2.4,-1.2],["z"]],w:14.985,h:8.097},"noteheads.half":{d:[["M",7.44,-4.05],["c",.06,-.03,.27,-.03,.48,-.03],["c",1.05,0,1.71,.24,2.1,.81],["c",.42,.6,.45,1.35,.18,2.4],["c",-.42,1.59,-1.14,2.73,-2.16,3.39],["c",-1.41,.93,-3.18,1.44,-5.4,1.53],["c",-1.17,.03,-1.89,-.21,-2.28,-.81],["c",-.42,-.6,-.45,-1.35,-.18,-2.4],["c",.42,-1.59,1.14,-2.73,2.16,-3.39],["c",.63,-.42,1.23,-.72,1.98,-.96],["c",.9,-.3,1.65,-.42,3.12,-.54],["z"],["m",1.29,.87],["c",-.27,-.09,-.63,-.12,-.9,-.03],["c",-.72,.24,-1.53,.69,-3.27,1.8],["c",-2.34,1.5,-3.3,2.25,-3.57,2.79],["c",-.36,.72,-.06,1.5,.66,1.77],["c",.24,.12,.69,.09,.99,0],["c",.84,-.3,1.92,-.93,4.14,-2.37],["c",1.62,-1.08,2.37,-1.71,2.61,-2.19],["c",.36,-.72,.06,-1.5,-.66,-1.77],["z"]],w:10.37,h:8.132},"noteheads.quarter":{d:[["M",6.09,-4.05],["c",.36,-.03,1.2,0,1.53,.06],["c",1.17,.24,1.89,.84,2.16,1.83],["c",.06,.18,.06,.3,.06,.66],["c",0,.45,0,.63,-.15,1.08],["c",-.66,2.04,-3.06,3.93,-5.52,4.38],["c",-.54,.09,-1.44,.09,-1.83,.03],["c",-1.23,-.27,-1.98,-.87,-2.25,-1.86],["c",-.06,-.18,-.06,-.3,-.06,-.66],["c",0,-.45,0,-.63,.15,-1.08],["c",.24,-.78,.75,-1.53,1.44,-2.22],["c",1.2,-1.2,2.85,-2.01,4.47,-2.22],["z"]],w:9.81,h:8.094},"noteheads.slash.nostem":{d:[["M",9.3,-7.77],["c",.06,-.06,.18,-.06,1.71,-.06],["l",1.65,0],["l",.09,.09],["c",.06,.06,.06,.09,.06,.15],["c",-.03,.12,-9.21,15.24,-9.3,15.33],["c",-.06,.06,-.18,.06,-1.71,.06],["l",-1.65,0],["l",-.09,-.09],["c",-.06,-.06,-.06,-.09,-.06,-.15],["c",.03,-.12,9.21,-15.24,9.3,-15.33],["z"]],w:12.81,h:15.63},"noteheads.indeterminate":{d:[["M",.78,-4.05],["c",.12,-.03,.24,-.03,.36,.03],["c",.03,.03,.93,.72,1.95,1.56],["l",1.86,1.5],["l",1.86,-1.5],["c",1.02,-.84,1.92,-1.53,1.95,-1.56],["c",.21,-.12,.33,-.09,.75,.24],["c",.3,.27,.36,.36,.36,.54],["c",0,.03,-.03,.12,-.06,.18],["c",-.03,.06,-.9,.75,-1.89,1.56],["l",-1.8,1.47],["c",0,.03,.81,.69,1.8,1.5],["c",.99,.81,1.86,1.5,1.89,1.56],["c",.03,.06,.06,.15,.06,.18],["c",0,.18,-.06,.27,-.36,.54],["c",-.42,.33,-.54,.36,-.75,.24],["c",-.03,-.03,-.93,-.72,-1.95,-1.56],["l",-1.86,-1.5],["l",-1.86,1.5],["c",-1.02,.84,-1.92,1.53,-1.95,1.56],["c",-.21,.12,-.33,.09,-.75,-.24],["c",-.3,-.27,-.36,-.36,-.36,-.54],["c",0,-.03,.03,-.12,.06,-.18],["c",.03,-.06,.9,-.75,1.89,-1.56],["l",1.8,-1.47],["c",0,-.03,-.81,-.69,-1.8,-1.5],["c",-.99,-.81,-1.86,-1.5,-1.89,-1.56],["c",-.06,-.12,-.09,-.21,-.03,-.36],["c",.03,-.09,.57,-.57,.72,-.63],["z"]],w:9.843,h:8.139},"scripts.ufermata":{d:[["M",-.75,-10.77],["c",.12,0,.45,-.03,.69,-.03],["c",2.91,-.03,5.55,1.53,7.41,4.35],["c",1.17,1.71,1.95,3.72,2.43,6.03],["c",.12,.51,.12,.57,.03,.69],["c",-.12,.21,-.48,.27,-.69,.12],["c",-.12,-.09,-.18,-.24,-.27,-.69],["c",-.78,-3.63,-3.42,-6.54,-6.78,-7.38],["c",-.78,-.21,-1.2,-.24,-2.07,-.24],["c",-.63,0,-.84,0,-1.2,.06],["c",-1.83,.27,-3.42,1.08,-4.8,2.37],["c",-1.41,1.35,-2.4,3.21,-2.85,5.19],["c",-.09,.45,-.15,.6,-.27,.69],["c",-.21,.15,-.57,.09,-.69,-.12],["c",-.09,-.12,-.09,-.18,.03,-.69],["c",.33,-1.62,.78,-3,1.47,-4.38],["c",1.77,-3.54,4.44,-5.67,7.56,-5.97],["z"],["m",.33,7.47],["c",1.38,-.3,2.58,.9,2.31,2.25],["c",-.15,.72,-.78,1.35,-1.47,1.5],["c",-1.38,.27,-2.58,-.93,-2.31,-2.31],["c",.15,-.69,.78,-1.29,1.47,-1.44],["z"]],w:19.748,h:11.289},"scripts.dfermata":{d:[["M",-9.63,-.42],["c",.15,-.09,.36,-.06,.51,.03],["c",.12,.09,.18,.24,.27,.66],["c",.78,3.66,3.42,6.57,6.78,7.41],["c",.78,.21,1.2,.24,2.07,.24],["c",.63,0,.84,0,1.2,-.06],["c",1.83,-.27,3.42,-1.08,4.8,-2.37],["c",1.41,-1.35,2.4,-3.21,2.85,-5.22],["c",.09,-.42,.15,-.57,.27,-.66],["c",.21,-.15,.57,-.09,.69,.12],["c",.09,.12,.09,.18,-.03,.69],["c",-.33,1.62,-.78,3,-1.47,4.38],["c",-1.92,3.84,-4.89,6,-8.31,6],["c",-3.42,0,-6.39,-2.16,-8.31,-6],["c",-.48,-.96,-.84,-1.92,-1.14,-2.97],["c",-.18,-.69,-.42,-1.74,-.42,-1.92],["c",0,-.12,.09,-.27,.24,-.33],["z"],["m",9.21,0],["c",1.2,-.27,2.34,.63,2.34,1.86],["c",0,.9,-.66,1.68,-1.5,1.89],["c",-1.38,.27,-2.58,-.93,-2.31,-2.31],["c",.15,-.69,.78,-1.29,1.47,-1.44],["z"]],w:19.744,h:11.274},"scripts.sforzato":{d:[["M",-6.45,-3.69],["c",.06,-.03,.15,-.06,.18,-.06],["c",.06,0,2.85,.72,6.24,1.59],["l",6.33,1.65],["c",.33,.06,.45,.21,.45,.51],["c",0,.3,-.12,.45,-.45,.51],["l",-6.33,1.65],["c",-3.39,.87,-6.18,1.59,-6.21,1.59],["c",-.21,0,-.48,-.24,-.51,-.45],["c",0,-.15,.06,-.36,.18,-.45],["c",.09,-.06,.87,-.27,3.84,-1.05],["c",2.04,-.54,3.84,-.99,4.02,-1.02],["c",.15,-.06,1.14,-.24,2.22,-.42],["c",1.05,-.18,1.92,-.36,1.92,-.36],["c",0,0,-.87,-.18,-1.92,-.36],["c",-1.08,-.18,-2.07,-.36,-2.22,-.42],["c",-.18,-.03,-1.98,-.48,-4.02,-1.02],["c",-2.97,-.78,-3.75,-.99,-3.84,-1.05],["c",-.12,-.09,-.18,-.3,-.18,-.45],["c",.03,-.15,.15,-.3,.3,-.39],["z"]],w:13.5,h:7.5},"scripts.staccato":{d:[["M",-.36,-1.47],["c",.93,-.21,1.86,.51,1.86,1.47],["c",0,.93,-.87,1.65,-1.8,1.47],["c",-.54,-.12,-1.02,-.57,-1.14,-1.08],["c",-.21,-.81,.27,-1.65,1.08,-1.86],["z"]],w:2.989,h:3.004},"scripts.tenuto":{d:[["M",-4.2,-.48],["l",.12,-.06],["l",4.08,0],["l",4.08,0],["l",.12,.06],["c",.39,.21,.39,.75,0,.96],["l",-.12,.06],["l",-4.08,0],["l",-4.08,0],["l",-.12,-.06],["c",-.39,-.21,-.39,-.75,0,-.96],["z"]],w:8.985,h:1.08},"scripts.umarcato":{d:[["M",-.15,-8.19],["c",.15,-.12,.36,-.03,.45,.15],["c",.21,.42,3.45,7.65,3.45,7.71],["c",0,.12,-.12,.27,-.21,.3],["c",-.03,.03,-.51,.03,-1.14,.03],["c",-1.05,0,-1.08,0,-1.17,-.06],["c",-.09,-.06,-.24,-.36,-1.17,-2.4],["c",-.57,-1.29,-1.05,-2.34,-1.08,-2.34],["c",0,-.03,-.51,1.02,-1.08,2.34],["c",-.93,2.07,-1.08,2.34,-1.14,2.4],["c",-.06,.03,-.15,.06,-.18,.06],["c",-.15,0,-.33,-.18,-.33,-.33],["c",0,-.06,3.24,-7.32,3.45,-7.71],["c",.03,-.06,.09,-.15,.15,-.15],["z"]],w:7.5,h:8.245},"scripts.dmarcato":{d:[["M",-3.57,.03],["c",.03,0,.57,-.03,1.17,-.03],["c",1.05,0,1.08,0,1.17,.06],["c",.09,.06,.24,.36,1.17,2.4],["c",.57,1.29,1.05,2.34,1.08,2.34],["c",0,.03,.51,-1.02,1.08,-2.34],["c",.93,-2.07,1.08,-2.34,1.14,-2.4],["c",.06,-.03,.15,-.06,.18,-.06],["c",.15,0,.33,.18,.33,.33],["c",0,.09,-3.45,7.74,-3.54,7.83],["c",-.12,.12,-.3,.12,-.42,0],["c",-.09,-.09,-3.54,-7.74,-3.54,-7.83],["c",0,-.09,.12,-.27,.18,-.3],["z"]],w:7.5,h:8.25},"scripts.stopped":{d:[["M",-.27,-4.08],["c",.18,-.09,.36,-.09,.54,0],["c",.18,.09,.24,.15,.33,.3],["l",.06,.15],["l",0,1.5],["l",0,1.47],["l",1.47,0],["l",1.5,0],["l",.15,.06],["c",.15,.09,.21,.15,.3,.33],["c",.09,.18,.09,.36,0,.54],["c",-.09,.18,-.15,.24,-.33,.33],["c",-.12,.06,-.18,.06,-1.62,.06],["l",-1.47,0],["l",0,1.47],["l",0,1.47],["l",-.06,.15],["c",-.09,.18,-.15,.24,-.33,.33],["c",-.18,.09,-.36,.09,-.54,0],["c",-.18,-.09,-.24,-.15,-.33,-.33],["l",-.06,-.15],["l",0,-1.47],["l",0,-1.47],["l",-1.47,0],["c",-1.44,0,-1.5,0,-1.62,-.06],["c",-.18,-.09,-.24,-.15,-.33,-.33],["c",-.09,-.18,-.09,-.36,0,-.54],["c",.09,-.18,.15,-.24,.33,-.33],["l",.15,-.06],["l",1.47,0],["l",1.47,0],["l",0,-1.47],["c",0,-1.44,0,-1.5,.06,-1.62],["c",.09,-.18,.15,-.24,.33,-.33],["z"]],w:8.295,h:8.295},"scripts.upbow":{d:[["M",-4.65,-15.54],["c",.12,-.09,.36,-.06,.48,.03],["c",.03,.03,.09,.09,.12,.15],["c",.03,.06,.66,2.13,1.41,4.62],["c",1.35,4.41,1.38,4.56,2.01,6.96],["l",.63,2.46],["l",.63,-2.46],["c",.63,-2.4,.66,-2.55,2.01,-6.96],["c",.75,-2.49,1.38,-4.56,1.41,-4.62],["c",.06,-.15,.18,-.21,.36,-.24],["c",.15,0,.3,.06,.39,.18],["c",.15,.21,.24,-.18,-2.1,7.56],["c",-1.2,3.96,-2.22,7.32,-2.25,7.41],["c",0,.12,-.06,.27,-.09,.3],["c",-.12,.21,-.6,.21,-.72,0],["c",-.03,-.03,-.09,-.18,-.09,-.3],["c",-.03,-.09,-1.05,-3.45,-2.25,-7.41],["c",-2.34,-7.74,-2.25,-7.35,-2.1,-7.56],["c",.03,-.03,.09,-.09,.15,-.12],["z"]],w:9.73,h:15.608},"scripts.downbow":{d:[["M",-5.55,-9.93],["l",.09,-.06],["l",5.46,0],["l",5.46,0],["l",.09,.06],["l",.06,.09],["l",0,4.77],["c",0,5.28,0,4.89,-.18,5.01],["c",-.18,.12,-.42,.06,-.54,-.12],["c",-.06,-.09,-.06,-.18,-.06,-2.97],["l",0,-2.85],["l",-4.83,0],["l",-4.83,0],["l",0,2.85],["c",0,2.79,0,2.88,-.06,2.97],["c",-.15,.24,-.51,.24,-.66,0],["c",-.06,-.09,-.06,-.21,-.06,-4.89],["l",0,-4.77],["z"]],w:11.22,h:9.992},"scripts.turn":{d:[["M",-4.77,-3.9],["c",.36,-.06,1.05,-.06,1.44,.03],["c",.78,.15,1.5,.51,2.34,1.14],["c",.6,.45,1.05,.87,2.22,2.01],["c",1.11,1.08,1.62,1.5,2.22,1.86],["c",.6,.36,1.32,.57,1.92,.57],["c",.9,0,1.71,-.57,1.89,-1.35],["c",.24,-.93,-.39,-1.89,-1.35,-2.1],["l",-.15,-.06],["l",-.09,.15],["c",-.03,.09,-.15,.24,-.24,.33],["c",-.72,.72,-2.04,.54,-2.49,-.36],["c",-.48,-.93,.03,-1.86,1.17,-2.19],["c",.3,-.09,1.02,-.09,1.35,0],["c",.99,.27,1.74,.87,2.25,1.83],["c",.69,1.41,.63,3,-.21,4.26],["c",-.21,.3,-.69,.81,-.99,1.02],["c",-.3,.21,-.84,.45,-1.17,.54],["c",-1.23,.36,-2.49,.15,-3.72,-.6],["c",-.75,-.48,-1.41,-1.02,-2.85,-2.46],["c",-1.11,-1.08,-1.62,-1.5,-2.22,-1.86],["c",-.6,-.36,-1.32,-.57,-1.92,-.57],["c",-.9,0,-1.71,.57,-1.89,1.35],["c",-.24,.93,.39,1.89,1.35,2.1],["l",.15,.06],["l",.09,-.15],["c",.03,-.09,.15,-.24,.24,-.33],["c",.72,-.72,2.04,-.54,2.49,.36],["c",.48,.93,-.03,1.86,-1.17,2.19],["c",-.3,.09,-1.02,.09,-1.35,0],["c",-.99,-.27,-1.74,-.87,-2.25,-1.83],["c",-.69,-1.41,-.63,-3,.21,-4.26],["c",.21,-.3,.69,-.81,.99,-1.02],["c",.48,-.33,1.11,-.57,1.74,-.66],["z"]],w:16.366,h:7.893},"scripts.trill":{d:[["M",-.51,-16.02],["c",.12,-.09,.21,-.18,.21,-.18],["l",-.81,4.02],["l",-.81,4.02],["c",.03,0,.51,-.27,1.08,-.6],["c",.6,-.3,1.14,-.63,1.26,-.66],["c",1.14,-.54,2.31,-.6,3.09,-.18],["c",.27,.15,.54,.36,.6,.51],["l",.06,.12],["l",.21,-.21],["c",.9,-.81,2.22,-.99,3.12,-.42],["c",.6,.42,.9,1.14,.78,2.07],["c",-.15,1.29,-1.05,2.31,-1.95,2.25],["c",-.48,-.03,-.78,-.3,-.96,-.81],["c",-.09,-.27,-.09,-.9,-.03,-1.2],["c",.21,-.75,.81,-1.23,1.59,-1.32],["l",.24,-.03],["l",-.09,-.12],["c",-.51,-.66,-1.62,-.63,-2.31,.03],["c",-.39,.42,-.3,.09,-1.23,4.77],["l",-.81,4.14],["c",-.03,0,-.12,-.03,-.21,-.09],["c",-.33,-.15,-.54,-.18,-.99,-.18],["c",-.42,0,-.66,.03,-1.05,.18],["c",-.12,.06,-.21,.09,-.21,.09],["c",0,-.03,.36,-1.86,.81,-4.11],["c",.9,-4.47,.87,-4.26,.69,-4.53],["c",-.21,-.36,-.66,-.51,-1.17,-.36],["c",-.15,.06,-2.22,1.14,-2.58,1.38],["c",-.12,.09,-.12,.09,-.21,.6],["l",-.09,.51],["l",.21,.24],["c",.63,.75,1.02,1.47,1.2,2.19],["c",.06,.27,.06,.36,.06,.81],["c",0,.42,0,.54,-.06,.78],["c",-.15,.54,-.33,.93,-.63,1.35],["c",-.18,.24,-.57,.63,-.81,.78],["c",-.24,.15,-.63,.36,-.84,.42],["c",-.27,.06,-.66,.06,-.87,.03],["c",-.81,-.18,-1.32,-1.05,-1.38,-2.46],["c",-.03,-.6,.03,-.99,.33,-2.46],["c",.21,-1.08,.24,-1.32,.21,-1.29],["c",-1.2,.48,-2.4,.75,-3.21,.72],["c",-.69,-.06,-1.17,-.3,-1.41,-.72],["c",-.39,-.75,-.12,-1.8,.66,-2.46],["c",.24,-.18,.69,-.42,1.02,-.51],["c",.69,-.18,1.53,-.15,2.31,.09],["c",.3,.09,.75,.3,.99,.45],["c",.12,.09,.15,.09,.15,.03],["c",.03,-.03,.33,-1.59,.72,-3.45],["c",.36,-1.86,.66,-3.42,.69,-3.45],["c",0,-.03,.03,-.03,.21,.03],["c",.21,.06,.27,.06,.48,.06],["c",.42,-.03,.78,-.18,1.26,-.48],["c",.15,-.12,.36,-.27,.48,-.39],["z"],["m",-5.73,7.68],["c",-.27,-.03,-.96,-.06,-1.2,-.03],["c",-.81,.12,-1.35,.57,-1.5,1.2],["c",-.18,.66,.12,1.14,.75,1.29],["c",.66,.12,1.92,-.12,3.18,-.66],["l",.33,-.15],["l",.09,-.39],["c",.06,-.21,.09,-.42,.09,-.45],["c",0,-.03,-.45,-.3,-.75,-.45],["c",-.27,-.15,-.66,-.27,-.99,-.36],["z"],["m",4.29,3.63],["c",-.24,-.39,-.51,-.75,-.51,-.69],["c",-.06,.12,-.39,1.92,-.45,2.28],["c",-.09,.54,-.12,1.14,-.06,1.38],["c",.06,.42,.21,.6,.51,.57],["c",.39,-.06,.75,-.48,.93,-1.14],["c",.09,-.33,.09,-1.05,0,-1.38],["c",-.09,-.39,-.24,-.69,-.42,-1.02],["z"]],w:17.963,h:16.49},"scripts.segno":{d:[["M",-3.72,-11.22],["c",.78,-.09,1.59,.03,2.31,.42],["c",1.2,.6,2.01,1.71,2.31,3.09],["c",.09,.42,.09,1.2,.03,1.5],["c",-.15,.45,-.39,.81,-.66,.93],["c",-.33,.18,-.84,.21,-1.23,.15],["c",-.81,-.18,-1.32,-.93,-1.26,-1.89],["c",.03,-.36,.09,-.57,.24,-.9],["c",.15,-.33,.45,-.6,.72,-.75],["c",.12,-.06,.18,-.09,.18,-.12],["c",0,-.03,-.03,-.15,-.09,-.24],["c",-.18,-.45,-.54,-.87,-.96,-1.08],["c",-1.11,-.57,-2.34,-.18,-2.88,.9],["c",-.24,.51,-.33,1.11,-.24,1.83],["c",.27,1.92,1.5,3.54,3.93,5.13],["c",.48,.33,1.26,.78,1.29,.78],["c",.03,0,1.35,-2.19,2.94,-4.89],["l",2.88,-4.89],["l",.84,0],["l",.87,0],["l",-.03,.06],["c",-.15,.21,-6.15,10.41,-6.15,10.44],["c",0,0,.21,.15,.48,.27],["c",2.61,1.47,4.35,3.03,5.13,4.65],["c",1.14,2.34,.51,5.07,-1.44,6.39],["c",-.66,.42,-1.32,.63,-2.13,.69],["c",-2.01,.09,-3.81,-1.41,-4.26,-3.54],["c",-.09,-.42,-.09,-1.2,-.03,-1.5],["c",.15,-.45,.39,-.81,.66,-.93],["c",.33,-.18,.84,-.21,1.23,-.15],["c",.81,.18,1.32,.93,1.26,1.89],["c",-.03,.36,-.09,.57,-.24,.9],["c",-.15,.33,-.45,.6,-.72,.75],["c",-.12,.06,-.18,.09,-.18,.12],["c",0,.03,.03,.15,.09,.24],["c",.18,.45,.54,.87,.96,1.08],["c",1.11,.57,2.34,.18,2.88,-.9],["c",.24,-.51,.33,-1.11,.24,-1.83],["c",-.27,-1.92,-1.5,-3.54,-3.93,-5.13],["c",-.48,-.33,-1.26,-.78,-1.29,-.78],["c",-.03,0,-1.35,2.19,-2.91,4.89],["l",-2.88,4.89],["l",-.87,0],["l",-.87,0],["l",.03,-.06],["c",.15,-.21,6.15,-10.41,6.15,-10.44],["c",0,0,-.21,-.15,-.48,-.3],["c",-2.61,-1.44,-4.35,-3,-5.13,-4.62],["c",-.9,-1.89,-.72,-4.02,.48,-5.52],["c",.69,-.84,1.68,-1.41,2.73,-1.53],["z"],["m",8.76,9.09],["c",.03,-.03,.15,-.03,.27,-.03],["c",.33,.03,.57,.18,.72,.48],["c",.09,.18,.09,.57,0,.75],["c",-.09,.18,-.21,.3,-.36,.39],["c",-.15,.06,-.21,.06,-.39,.06],["c",-.21,0,-.27,0,-.39,-.06],["c",-.3,-.15,-.48,-.45,-.48,-.75],["c",0,-.39,.24,-.72,.63,-.84],["z"],["m",-10.53,2.61],["c",.03,-.03,.15,-.03,.27,-.03],["c",.33,.03,.57,.18,.72,.48],["c",.09,.18,.09,.57,0,.75],["c",-.09,.18,-.21,.3,-.36,.39],["c",-.15,.06,-.21,.06,-.39,.06],["c",-.21,0,-.27,0,-.39,-.06],["c",-.3,-.15,-.48,-.45,-.48,-.75],["c",0,-.39,.24,-.72,.63,-.84],["z"]],w:15,h:22.504},"scripts.coda":{d:[["M",-.21,-10.47],["c",.18,-.12,.42,-.06,.54,.12],["c",.06,.09,.06,.18,.06,1.5],["l",0,1.38],["l",.18,0],["c",.39,.06,.96,.24,1.38,.48],["c",1.68,.93,2.82,3.24,3.03,6.12],["c",.03,.24,.03,.45,.03,.45],["c",0,.03,.6,.03,1.35,.03],["c",1.5,0,1.47,0,1.59,.18],["c",.09,.12,.09,.3,0,.42],["c",-.12,.18,-.09,.18,-1.59,.18],["c",-.75,0,-1.35,0,-1.35,.03],["c",0,0,0,.21,-.03,.42],["c",-.24,3.15,-1.53,5.58,-3.45,6.36],["c",-.27,.12,-.72,.24,-.96,.27],["l",-.18,0],["l",0,1.38],["c",0,1.32,0,1.41,-.06,1.5],["c",-.15,.24,-.51,.24,-.66,0],["c",-.06,-.09,-.06,-.18,-.06,-1.5],["l",0,-1.38],["l",-.18,0],["c",-.39,-.06,-.96,-.24,-1.38,-.48],["c",-1.68,-.93,-2.82,-3.24,-3.03,-6.15],["c",-.03,-.21,-.03,-.42,-.03,-.42],["c",0,-.03,-.6,-.03,-1.35,-.03],["c",-1.5,0,-1.47,0,-1.59,-.18],["c",-.09,-.12,-.09,-.3,0,-.42],["c",.12,-.18,.09,-.18,1.59,-.18],["c",.75,0,1.35,0,1.35,-.03],["c",0,0,0,-.21,.03,-.45],["c",.24,-3.12,1.53,-5.55,3.45,-6.33],["c",.27,-.12,.72,-.24,.96,-.27],["l",.18,0],["l",0,-1.38],["c",0,-1.53,0,-1.5,.18,-1.62],["z"],["m",-.18,6.93],["c",0,-2.97,0,-3.15,-.06,-3.15],["c",-.09,0,-.51,.15,-.66,.21],["c",-.87,.51,-1.38,1.62,-1.56,3.51],["c",-.06,.54,-.12,1.59,-.12,2.16],["l",0,.42],["l",1.2,0],["l",1.2,0],["l",0,-3.15],["z"],["m",1.17,-3.06],["c",-.09,-.03,-.21,-.06,-.27,-.09],["l",-.12,0],["l",0,3.15],["l",0,3.15],["l",1.2,0],["l",1.2,0],["l",0,-.81],["c",-.06,-2.4,-.33,-3.69,-.93,-4.59],["c",-.27,-.39,-.66,-.69,-1.08,-.81],["z"],["m",-1.17,10.14],["l",0,-3.15],["l",-1.2,0],["l",-1.2,0],["l",0,.81],["c",.03,.96,.06,1.47,.15,2.13],["c",.24,2.04,.96,3.12,2.13,3.36],["l",.12,0],["l",0,-3.15],["z"],["m",3.18,-2.34],["l",0,-.81],["l",-1.2,0],["l",-1.2,0],["l",0,3.15],["l",0,3.15],["l",.12,0],["c",1.17,-.24,1.89,-1.32,2.13,-3.36],["c",.09,-.66,.12,-1.17,.15,-2.13],["z"]],w:16.035,h:21.062},"scripts.comma":{d:[["M",1.14,-4.62],["c",.3,-.12,.69,-.03,.93,.15],["c",.12,.12,.36,.45,.51,.78],["c",.9,1.77,.54,4.05,-1.08,6.75],["c",-.36,.63,-.87,1.38,-.96,1.44],["c",-.18,.12,-.42,.06,-.54,-.12],["c",-.09,-.18,-.09,-.3,.12,-.6],["c",.96,-1.44,1.44,-2.97,1.38,-4.35],["c",-.06,-.93,-.3,-1.68,-.78,-2.46],["c",-.27,-.39,-.33,-.63,-.24,-.96],["c",.09,-.27,.36,-.54,.66,-.63],["z"]],w:3.042,h:9.237},"scripts.roll":{d:[["M",1.95,-6],["c",.21,-.09,.36,-.09,.57,0],["c",.39,.15,.63,.39,1.47,1.35],["c",.66,.75,.78,.87,1.08,1.05],["c",.75,.45,1.65,.42,2.4,-.06],["c",.12,-.09,.27,-.27,.54,-.6],["c",.42,-.54,.51,-.63,.69,-.63],["c",.09,0,.3,.12,.36,.21],["c",.09,.12,.12,.3,.03,.42],["c",-.06,.12,-3.15,3.9,-3.3,4.08],["c",-.06,.06,-.18,.12,-.27,.18],["c",-.27,.12,-.6,.06,-.99,-.27],["c",-.27,-.21,-.42,-.39,-1.08,-1.14],["c",-.63,-.72,-.81,-.9,-1.17,-1.08],["c",-.36,-.18,-.57,-.21,-.99,-.21],["c",-.39,0,-.63,.03,-.93,.18],["c",-.36,.15,-.51,.27,-.9,.81],["c",-.24,.27,-.45,.51,-.48,.54],["c",-.12,.09,-.27,.06,-.39,0],["c",-.24,-.15,-.33,-.39,-.21,-.6],["c",.09,-.12,3.18,-3.87,3.33,-4.02],["c",.06,-.06,.18,-.15,.24,-.21],["z"]],w:10.817,h:6.125},"scripts.prall":{d:[["M",-4.38,-3.69],["c",.06,-.03,.18,-.06,.24,-.06],["c",.3,0,.27,-.03,1.89,1.95],["l",1.53,1.83],["c",.03,0,.57,-.84,1.23,-1.83],["c",1.14,-1.68,1.23,-1.83,1.35,-1.89],["c",.06,-.03,.18,-.06,.24,-.06],["c",.3,0,.27,-.03,1.89,1.95],["l",1.53,1.83],["l",.48,-.69],["c",.51,-.78,.54,-.84,.69,-.9],["c",.42,-.18,.87,.15,.81,.6],["c",-.03,.12,-.3,.51,-1.5,2.37],["c",-1.38,2.07,-1.5,2.22,-1.62,2.28],["c",-.06,.03,-.18,.06,-.24,.06],["c",-.3,0,-.27,.03,-1.89,-1.95],["l",-1.53,-1.83],["c",-.03,0,-.57,.84,-1.23,1.83],["c",-1.14,1.68,-1.23,1.83,-1.35,1.89],["c",-.06,.03,-.18,.06,-.24,.06],["c",-.3,0,-.27,.03,-1.89,-1.95],["l",-1.53,-1.83],["l",-.48,.69],["c",-.51,.78,-.54,.84,-.69,.9],["c",-.42,.18,-.87,-.15,-.81,-.6],["c",.03,-.12,.3,-.51,1.5,-2.37],["c",1.38,-2.07,1.5,-2.22,1.62,-2.28],["z"]],w:15.011,h:7.5},"scripts.arpeggio":{d:[["M",1.5,0],["c",1.5,2,1.5,3,1.5,3],["s",0,1,-2,1.5],["s",-.5,3,1,5.5],["l",1.5,0],["s",-1.75,-2,-1.9,-3.25],["s",2.15,-.6,2.95,-1.6],["s",.45,-1,.5,-1.25],["s",0,-1,-2,-3.9],["l",-1.5,0],["z"]],w:5,h:10},"scripts.mordent":{d:[["M",-.21,-4.95],["c",.27,-.15,.63,0,.75,.27],["c",.06,.12,.06,.24,.06,1.44],["l",0,1.29],["l",.57,-.84],["c",.51,-.75,.57,-.84,.69,-.9],["c",.06,-.03,.18,-.06,.24,-.06],["c",.3,0,.27,-.03,1.89,1.95],["l",1.53,1.83],["l",.48,-.69],["c",.51,-.78,.54,-.84,.69,-.9],["c",.42,-.18,.87,.15,.81,.6],["c",-.03,.12,-.3,.51,-1.5,2.37],["c",-1.38,2.07,-1.5,2.22,-1.62,2.28],["c",-.06,.03,-.18,.06,-.24,.06],["c",-.3,0,-.27,.03,-1.83,-1.89],["c",-.81,-.99,-1.5,-1.8,-1.53,-1.86],["c",-.06,-.03,-.06,-.03,-.12,.03],["c",-.06,.06,-.06,.15,-.06,2.28],["c",0,1.95,0,2.25,-.06,2.34],["c",-.18,.45,-.81,.48,-1.05,.03],["c",-.03,-.06,-.06,-.24,-.06,-1.41],["l",0,-1.35],["l",-.57,.84],["c",-.54,.78,-.6,.87,-.72,.93],["c",-.06,.03,-.18,.06,-.24,.06],["c",-.3,0,-.27,.03,-1.89,-1.95],["l",-1.53,-1.83],["l",-.48,.69],["c",-.51,.78,-.54,.84,-.69,.9],["c",-.42,.18,-.87,-.15,-.81,-.6],["c",.03,-.12,.3,-.51,1.5,-2.37],["c",1.38,-2.07,1.5,-2.22,1.62,-2.28],["c",.06,-.03,.18,-.06,.24,-.06],["c",.3,0,.27,-.03,1.89,1.95],["l",1.53,1.83],["c",.03,0,.06,-.06,.09,-.09],["c",.06,-.12,.06,-.15,.06,-2.28],["c",0,-1.92,0,-2.22,.06,-2.31],["c",.06,-.15,.15,-.24,.3,-.3],["z"]],w:15.011,h:10.012},"flags.u8th":{d:[["M",-.42,3.75],["l",0,-3.75],["l",.21,0],["l",.21,0],["l",0,.18],["c",0,.3,.06,.84,.12,1.23],["c",.24,1.53,.9,3.12,2.13,5.16],["l",.99,1.59],["c",.87,1.44,1.38,2.34,1.77,3.09],["c",.81,1.68,1.2,3.06,1.26,4.53],["c",.03,1.53,-.21,3.27,-.75,5.01],["c",-.21,.69,-.51,1.5,-.6,1.59],["c",-.09,.12,-.27,.21,-.42,.21],["c",-.15,0,-.42,-.12,-.51,-.21],["c",-.15,-.18,-.18,-.42,-.09,-.66],["c",.15,-.33,.45,-1.2,.57,-1.62],["c",.42,-1.38,.6,-2.58,.6,-3.9],["c",0,-.66,0,-.81,-.06,-1.11],["c",-.39,-2.07,-1.8,-4.26,-4.59,-7.14],["l",-.42,-.45],["l",-.21,0],["l",-.21,0],["l",0,-3.75],["z"]],w:6.692,h:22.59},"flags.u16th":{d:[["M",-.42,7.5],["l",0,-7.5],["l",.21,0],["l",.21,0],["l",0,.39],["c",.06,1.08,.39,2.19,.99,3.39],["c",.45,.9,.87,1.59,1.95,3.12],["c",1.29,1.86,1.77,2.64,2.22,3.57],["c",.45,.93,.72,1.8,.87,2.64],["c",.06,.51,.06,1.5,0,1.92],["c",-.12,.6,-.3,1.2,-.54,1.71],["l",-.09,.24],["l",.18,.45],["c",.51,1.2,.72,2.22,.69,3.42],["c",-.06,1.53,-.39,3.03,-.99,4.53],["c",-.3,.75,-.36,.81,-.57,.9],["c",-.15,.09,-.33,.06,-.48,0],["c",-.18,-.09,-.27,-.18,-.33,-.33],["c",-.09,-.18,-.06,-.3,.12,-.75],["c",.66,-1.41,1.02,-2.88,1.08,-4.32],["c",0,-.6,-.03,-1.05,-.18,-1.59],["c",-.3,-1.2,-.99,-2.4,-2.25,-3.87],["c",-.42,-.48,-1.53,-1.62,-2.19,-2.22],["l",-.45,-.42],["l",-.03,1.11],["l",0,1.11],["l",-.21,0],["l",-.21,0],["l",0,-7.5],["z"],["m",1.65,.09],["c",-.3,-.3,-.69,-.72,-.9,-.87],["l",-.33,-.33],["l",0,.15],["c",0,.3,.06,.81,.15,1.26],["c",.27,1.29,.87,2.61,2.04,4.29],["c",.15,.24,.6,.87,.96,1.38],["l",1.08,1.53],["l",.42,.63],["c",.03,0,.12,-.36,.21,-.72],["c",.06,-.33,.06,-1.2,0,-1.62],["c",-.33,-1.71,-1.44,-3.48,-3.63,-5.7],["z"]],w:6.693,h:26.337},"flags.u32nd":{d:[["M",-.42,11.25],["l",0,-11.25],["l",.21,0],["l",.21,0],["l",0,.36],["c",.09,1.68,.69,3.27,2.07,5.46],["l",.87,1.35],["c",1.02,1.62,1.47,2.37,1.86,3.18],["c",.48,1.02,.78,1.92,.93,2.88],["c",.06,.48,.06,1.5,0,1.89],["c",-.09,.42,-.21,.87,-.36,1.26],["l",-.12,.3],["l",.15,.39],["c",.69,1.56,.84,2.88,.54,4.38],["c",-.09,.45,-.27,1.08,-.45,1.47],["l",-.12,.24],["l",.18,.36],["c",.33,.72,.57,1.56,.69,2.34],["c",.12,1.02,-.06,2.52,-.42,3.84],["c",-.27,.93,-.75,2.13,-.93,2.31],["c",-.18,.15,-.45,.18,-.66,.09],["c",-.18,-.09,-.27,-.18,-.33,-.33],["c",-.09,-.18,-.06,-.3,.06,-.6],["c",.21,-.36,.42,-.9,.57,-1.38],["c",.51,-1.41,.69,-3.06,.48,-4.08],["c",-.15,-.81,-.57,-1.68,-1.2,-2.55],["c",-.72,-.99,-1.83,-2.13,-3.3,-3.33],["l",-.48,-.42],["l",-.03,1.53],["l",0,1.56],["l",-.21,0],["l",-.21,0],["l",0,-11.25],["z"],["m",1.26,-3.96],["c",-.27,-.3,-.54,-.6,-.66,-.72],["l",-.18,-.21],["l",0,.42],["c",.06,.87,.24,1.74,.66,2.67],["c",.36,.87,.96,1.86,1.92,3.18],["c",.21,.33,.63,.87,.87,1.23],["c",.27,.39,.6,.84,.75,1.08],["l",.27,.39],["l",.03,-.12],["c",.12,-.45,.15,-1.05,.09,-1.59],["c",-.27,-1.86,-1.38,-3.78,-3.75,-6.33],["z"],["m",-.27,6.09],["c",-.27,-.21,-.48,-.42,-.51,-.45],["c",-.06,-.03,-.06,-.03,-.06,.21],["c",0,.9,.3,2.04,.81,3.09],["c",.48,1.02,.96,1.77,2.37,3.63],["c",.6,.78,1.05,1.44,1.29,1.77],["c",.06,.12,.15,.21,.15,.18],["c",.03,-.03,.18,-.57,.24,-.87],["c",.06,-.45,.06,-1.32,-.03,-1.74],["c",-.09,-.48,-.24,-.9,-.51,-1.44],["c",-.66,-1.35,-1.83,-2.7,-3.75,-4.38],["z"]],w:6.697,h:32.145},"flags.u64th":{d:[["M",-.42,15],["l",0,-15],["l",.21,0],["l",.21,0],["l",0,.36],["c",.06,1.2,.39,2.37,1.02,3.66],["c",.39,.81,.84,1.56,1.8,3.09],["c",.81,1.26,1.05,1.68,1.35,2.22],["c",.87,1.5,1.35,2.79,1.56,4.08],["c",.06,.54,.06,1.56,-.03,2.04],["c",-.09,.48,-.21,.99,-.36,1.35],["l",-.12,.27],["l",.12,.27],["c",.09,.15,.21,.45,.27,.66],["c",.69,1.89,.63,3.66,-.18,5.46],["l",-.18,.39],["l",.15,.33],["c",.3,.66,.51,1.44,.63,2.1],["c",.06,.48,.06,1.35,0,1.71],["c",-.15,.57,-.42,1.2,-.78,1.68],["l",-.21,.27],["l",.18,.33],["c",.57,1.05,.93,2.13,1.02,3.18],["c",.06,.72,0,1.83,-.21,2.79],["c",-.18,1.02,-.63,2.34,-1.02,3.09],["c",-.15,.33,-.48,.45,-.78,.3],["c",-.18,-.09,-.27,-.18,-.33,-.33],["c",-.09,-.18,-.06,-.3,.03,-.54],["c",.75,-1.5,1.23,-3.45,1.17,-4.89],["c",-.06,-1.02,-.42,-2.01,-1.17,-3.15],["c",-.48,-.72,-1.02,-1.35,-1.89,-2.22],["c",-.57,-.57,-1.56,-1.5,-1.92,-1.77],["l",-.12,-.09],["l",0,1.68],["l",0,1.68],["l",-.21,0],["l",-.21,0],["l",0,-15],["z"],["m",.93,-8.07],["c",-.27,-.3,-.48,-.54,-.51,-.54],["c",0,0,0,.69,.03,1.02],["c",.15,1.47,.75,2.94,2.04,4.83],["l",1.08,1.53],["c",.39,.57,.84,1.2,.99,1.44],["c",.15,.24,.3,.45,.3,.45],["c",0,0,.03,-.09,.06,-.21],["c",.36,-1.59,-.15,-3.33,-1.47,-5.4],["c",-.63,-.93,-1.35,-1.83,-2.52,-3.12],["z"],["m",.06,6.72],["c",-.24,-.21,-.48,-.42,-.51,-.45],["l",-.06,-.06],["l",0,.33],["c",0,1.2,.3,2.34,.93,3.6],["c",.45,.9,.96,1.68,2.25,3.51],["c",.39,.54,.84,1.17,1.02,1.44],["c",.21,.33,.33,.51,.33,.48],["c",.06,-.09,.21,-.63,.3,-.99],["c",.06,-.33,.06,-.45,.06,-.96],["c",0,-.6,-.03,-.84,-.18,-1.35],["c",-.3,-1.08,-1.02,-2.28,-2.13,-3.57],["c",-.39,-.45,-1.44,-1.47,-2.01,-1.98],["z"],["m",0,6.72],["c",-.24,-.21,-.48,-.39,-.51,-.42],["l",-.06,-.06],["l",0,.33],["c",0,1.41,.45,2.82,1.38,4.35],["c",.42,.72,.72,1.14,1.86,2.73],["c",.36,.45,.75,.99,.87,1.2],["c",.15,.21,.3,.36,.3,.36],["c",.06,0,.3,-.48,.39,-.75],["c",.09,-.36,.12,-.63,.12,-1.05],["c",-.06,-1.05,-.45,-2.04,-1.2,-3.18],["c",-.57,-.87,-1.11,-1.53,-2.07,-2.49],["c",-.36,-.33,-.84,-.78,-1.08,-1.02],["z"]],w:6.682,h:39.694},"flags.d8th":{d:[["M",5.67,-21.63],["c",.24,-.12,.54,-.06,.69,.15],["c",.06,.06,.21,.36,.39,.66],["c",.84,1.77,1.26,3.36,1.32,5.1],["c",.03,1.29,-.21,2.37,-.81,3.63],["c",-.6,1.23,-1.26,2.13,-3.21,4.38],["c",-1.35,1.53,-1.86,2.19,-2.4,2.97],["c",-.63,.93,-1.11,1.92,-1.38,2.79],["c",-.15,.54,-.27,1.35,-.27,1.8],["l",0,.15],["l",-.21,0],["l",-.21,0],["l",0,-3.75],["l",0,-3.75],["l",.21,0],["l",.21,0],["l",.48,-.3],["c",1.83,-1.11,3.12,-2.1,4.17,-3.12],["c",.78,-.81,1.32,-1.53,1.71,-2.31],["c",.45,-.93,.6,-1.74,.51,-2.88],["c",-.12,-1.56,-.63,-3.18,-1.47,-4.68],["c",-.12,-.21,-.15,-.33,-.06,-.51],["c",.06,-.15,.15,-.24,.33,-.33],["z"]],w:8.492,h:21.691},"flags.ugrace":{d:[["M",6.03,6.93],["c",.15,-.09,.33,-.06,.51,0],["c",.15,.09,.21,.15,.3,.33],["c",.09,.18,.06,.39,-.03,.54],["c",-.06,.15,-10.89,8.88,-11.07,8.97],["c",-.15,.09,-.33,.06,-.48,0],["c",-.18,-.09,-.24,-.15,-.33,-.33],["c",-.09,-.18,-.06,-.39,.03,-.54],["c",.06,-.15,10.89,-8.88,11.07,-8.97],["z"]],w:12.019,h:9.954},"flags.dgrace":{d:[["M",-6.06,-15.93],["c",.18,-.09,.33,-.12,.48,-.06],["c",.18,.09,14.01,8.04,14.1,8.1],["c",.12,.12,.18,.33,.18,.51],["c",-.03,.21,-.15,.39,-.36,.48],["c",-.18,.09,-.33,.12,-.48,.06],["c",-.18,-.09,-14.01,-8.04,-14.1,-8.1],["c",-.12,-.12,-.18,-.33,-.18,-.51],["c",.03,-.21,.15,-.39,.36,-.48],["z"]],w:15.12,h:9.212},"flags.d16th":{d:[["M",6.84,-22.53],["c",.27,-.12,.57,-.06,.72,.15],["c",.15,.15,.33,.87,.45,1.56],["c",.06,.33,.06,1.35,0,1.65],["c",-.06,.33,-.15,.78,-.27,1.11],["c",-.12,.33,-.45,.96,-.66,1.32],["l",-.18,.27],["l",.09,.18],["c",.48,1.02,.72,2.25,.69,3.3],["c",-.06,1.23,-.42,2.28,-1.26,3.45],["c",-.57,.87,-.99,1.32,-3,3.39],["c",-1.56,1.56,-2.22,2.4,-2.76,3.45],["c",-.42,.84,-.66,1.8,-.66,2.55],["l",0,.15],["l",-.21,0],["l",-.21,0],["l",0,-7.5],["l",0,-7.5],["l",.21,0],["l",.21,0],["l",0,1.14],["l",0,1.11],["l",.27,-.15],["c",1.11,-.57,1.77,-.99,2.52,-1.47],["c",2.37,-1.56,3.69,-3.15,4.05,-4.83],["c",.03,-.18,.03,-.39,.03,-.78],["c",0,-.6,-.03,-.93,-.24,-1.5],["c",-.06,-.18,-.12,-.39,-.15,-.45],["c",-.03,-.24,.12,-.48,.36,-.6],["z"],["m",-.63,7.5],["c",-.06,-.18,-.15,-.36,-.15,-.36],["c",-.03,0,-.03,.03,-.06,.06],["c",-.06,.12,-.96,1.02,-1.95,1.98],["c",-.63,.57,-1.26,1.17,-1.44,1.35],["c",-1.53,1.62,-2.28,2.85,-2.55,4.32],["c",-.03,.18,-.03,.54,-.06,.99],["l",0,.69],["l",.18,-.09],["c",.93,-.54,2.1,-1.29,2.82,-1.83],["c",.69,-.51,1.02,-.81,1.53,-1.29],["c",1.86,-1.89,2.37,-3.66,1.68,-5.82],["z"]],w:8.475,h:22.591},"flags.d32nd":{d:[["M",6.84,-29.13],["c",.27,-.12,.57,-.06,.72,.15],["c",.12,.12,.27,.63,.36,1.11],["c",.33,1.59,.06,3.06,-.81,4.47],["l",-.18,.27],["l",.09,.15],["c",.12,.24,.33,.69,.45,1.05],["c",.63,1.83,.45,3.57,-.57,5.22],["l",-.18,.3],["l",.15,.27],["c",.42,.87,.6,1.71,.57,2.61],["c",-.06,1.29,-.48,2.46,-1.35,3.78],["c",-.54,.81,-.93,1.29,-2.46,3],["c",-.51,.54,-1.05,1.17,-1.26,1.41],["c",-1.56,1.86,-2.25,3.36,-2.37,5.01],["l",0,.33],["l",-.21,0],["l",-.21,0],["l",0,-11.25],["l",0,-11.25],["l",.21,0],["l",.21,0],["l",0,1.35],["l",.03,1.35],["l",.78,-.39],["c",1.38,-.69,2.34,-1.26,3.24,-1.92],["c",1.38,-1.02,2.28,-2.13,2.64,-3.21],["c",.15,-.48,.18,-.72,.18,-1.29],["c",0,-.57,-.06,-.9,-.24,-1.47],["c",-.06,-.18,-.12,-.39,-.15,-.45],["c",-.03,-.24,.12,-.48,.36,-.6],["z"],["m",-.63,7.2],["c",-.09,-.18,-.12,-.21,-.12,-.15],["c",-.03,.09,-1.02,1.08,-2.04,2.04],["c",-1.17,1.08,-1.65,1.56,-2.07,2.04],["c",-.84,.96,-1.38,1.86,-1.68,2.76],["c",-.21,.57,-.27,.99,-.3,1.65],["l",0,.54],["l",.66,-.33],["c",3.57,-1.86,5.49,-3.69,5.94,-5.7],["c",.06,-.39,.06,-1.2,-.03,-1.65],["c",-.06,-.39,-.24,-.9,-.36,-1.2],["z"],["m",-.06,7.2],["c",-.06,-.15,-.12,-.33,-.15,-.45],["l",-.06,-.18],["l",-.18,.21],["l",-1.83,1.83],["c",-.87,.9,-1.77,1.8,-1.95,2.01],["c",-1.08,1.29,-1.62,2.31,-1.89,3.51],["c",-.06,.3,-.06,.51,-.09,.93],["l",0,.57],["l",.09,-.06],["c",.75,-.45,1.89,-1.26,2.52,-1.74],["c",.81,-.66,1.74,-1.53,2.22,-2.16],["c",1.26,-1.53,1.68,-3.06,1.32,-4.47],["z"]],w:8.385,h:29.191},"flags.d64th":{d:[["M",7.08,-32.88],["c",.3,-.12,.66,-.03,.78,.24],["c",.18,.33,.27,2.1,.15,2.64],["c",-.09,.39,-.21,.78,-.39,1.08],["l",-.15,.3],["l",.09,.27],["c",.03,.12,.09,.45,.12,.69],["c",.27,1.44,.18,2.55,-.3,3.6],["l",-.12,.33],["l",.06,.42],["c",.27,1.35,.33,2.82,.21,3.63],["c",-.12,.6,-.3,1.23,-.57,1.8],["l",-.15,.27],["l",.03,.42],["c",.06,1.02,.06,2.7,.03,3.06],["c",-.15,1.47,-.66,2.76,-1.74,4.41],["c",-.45,.69,-.75,1.11,-1.74,2.37],["c",-1.05,1.38,-1.5,1.98,-1.95,2.73],["c",-.93,1.5,-1.38,2.82,-1.44,4.2],["l",0,.42],["l",-.21,0],["l",-.21,0],["l",0,-15],["l",0,-15],["l",.21,0],["l",.21,0],["l",0,1.86],["l",0,1.89],["c",0,0,.21,-.03,.45,-.09],["c",2.22,-.39,4.08,-1.11,5.19,-2.01],["c",.63,-.54,1.02,-1.14,1.2,-1.8],["c",.06,-.3,.06,-1.14,-.03,-1.65],["c",-.03,-.18,-.06,-.39,-.09,-.48],["c",-.03,-.24,.12,-.48,.36,-.6],["z"],["m",-.45,6.15],["c",-.03,-.18,-.06,-.42,-.06,-.54],["l",-.03,-.18],["l",-.33,.3],["c",-.42,.36,-.87,.72,-1.68,1.29],["c",-1.98,1.38,-2.25,1.59,-2.85,2.16],["c",-.75,.69,-1.23,1.44,-1.47,2.19],["c",-.15,.45,-.18,.63,-.21,1.35],["l",0,.66],["l",.39,-.18],["c",1.83,-.9,3.45,-1.95,4.47,-2.91],["c",.93,-.9,1.53,-1.83,1.74,-2.82],["c",.06,-.33,.06,-.87,.03,-1.32],["z"],["m",-.27,4.86],["c",-.03,-.21,-.06,-.36,-.06,-.36],["c",0,-.03,-.12,.09,-.24,.24],["c",-.39,.48,-.99,1.08,-2.16,2.19],["c",-1.47,1.38,-1.92,1.83,-2.46,2.49],["c",-.66,.87,-1.08,1.74,-1.29,2.58],["c",-.09,.42,-.15,.87,-.15,1.44],["l",0,.54],["l",.48,-.33],["c",1.5,-1.02,2.58,-1.89,3.51,-2.82],["c",1.47,-1.47,2.25,-2.85,2.4,-4.26],["c",.03,-.39,.03,-1.17,-.03,-1.71],["z"],["m",-.66,7.68],["c",.03,-.15,.03,-.6,.03,-.99],["l",0,-.72],["l",-.27,.33],["l",-1.74,1.98],["c",-1.77,1.92,-2.43,2.76,-2.97,3.9],["c",-.51,1.02,-.72,1.77,-.75,2.91],["c",0,.63,0,.63,.06,.6],["c",.03,-.03,.3,-.27,.63,-.54],["c",.66,-.6,1.86,-1.8,2.31,-2.31],["c",1.65,-1.89,2.52,-3.54,2.7,-5.16],["z"]],w:8.485,h:32.932},"clefs.C":{d:[["M",.06,-14.94],["l",.09,-.06],["l",1.92,0],["l",1.92,0],["l",.09,.06],["l",.06,.09],["l",0,14.85],["l",0,14.82],["l",-.06,.09],["l",-.09,.06],["l",-1.92,0],["l",-1.92,0],["l",-.09,-.06],["l",-.06,-.09],["l",0,-14.82],["l",0,-14.85],["z"],["m",5.37,0],["c",.09,-.06,.09,-.06,.57,-.06],["c",.45,0,.45,0,.54,.06],["l",.06,.09],["l",0,7.14],["l",0,7.11],["l",.09,-.06],["c",.18,-.18,.72,-.84,.96,-1.2],["c",.3,-.45,.66,-1.17,.84,-1.65],["c",.36,-.9,.57,-1.83,.6,-2.79],["c",.03,-.48,.03,-.54,.09,-.63],["c",.12,-.18,.36,-.21,.54,-.12],["c",.18,.09,.21,.15,.24,.66],["c",.06,.87,.21,1.56,.57,2.22],["c",.51,1.02,1.26,1.68,2.22,1.92],["c",.21,.06,.33,.06,.78,.06],["c",.45,0,.57,0,.84,-.06],["c",.45,-.12,.81,-.33,1.08,-.6],["c",.57,-.57,.87,-1.41,.99,-2.88],["c",.06,-.54,.06,-3,0,-3.57],["c",-.21,-2.58,-.84,-3.87,-2.16,-4.5],["c",-.48,-.21,-1.17,-.36,-1.77,-.36],["c",-.69,0,-1.29,.27,-1.5,.72],["c",-.06,.15,-.06,.21,-.06,.42],["c",0,.24,0,.3,.06,.45],["c",.12,.24,.24,.39,.63,.66],["c",.42,.3,.57,.48,.69,.72],["c",.06,.15,.06,.21,.06,.48],["c",0,.39,-.03,.63,-.21,.96],["c",-.3,.6,-.87,1.08,-1.5,1.26],["c",-.27,.06,-.87,.06,-1.14,0],["c",-.78,-.24,-1.44,-.87,-1.65,-1.68],["c",-.12,-.42,-.09,-1.17,.09,-1.71],["c",.51,-1.65,1.98,-2.82,3.81,-3.09],["c",.84,-.09,2.46,.03,3.51,.27],["c",2.22,.57,3.69,1.8,4.44,3.75],["c",.36,.93,.57,2.13,.57,3.36],["c",0,1.44,-.48,2.73,-1.38,3.81],["c",-1.26,1.5,-3.27,2.43,-5.28,2.43],["c",-.48,0,-.51,0,-.75,-.09],["c",-.15,-.03,-.48,-.21,-.78,-.36],["c",-.69,-.36,-.87,-.42,-1.26,-.42],["c",-.27,0,-.3,0,-.51,.09],["c",-.57,.3,-.81,.9,-.81,2.1],["c",0,1.23,.24,1.83,.81,2.13],["c",.21,.09,.24,.09,.51,.09],["c",.39,0,.57,-.06,1.26,-.42],["c",.3,-.15,.63,-.33,.78,-.36],["c",.24,-.09,.27,-.09,.75,-.09],["c",2.01,0,4.02,.93,5.28,2.4],["c",.9,1.11,1.38,2.4,1.38,3.84],["c",0,1.5,-.3,2.88,-.84,3.96],["c",-.78,1.59,-2.19,2.64,-4.17,3.15],["c",-1.05,.24,-2.67,.36,-3.51,.27],["c",-1.83,-.27,-3.3,-1.44,-3.81,-3.09],["c",-.18,-.54,-.21,-1.29,-.09,-1.74],["c",.15,-.6,.63,-1.2,1.23,-1.47],["c",.36,-.18,.57,-.21,.99,-.21],["c",.42,0,.63,.03,1.02,.21],["c",.42,.21,.84,.63,1.05,1.05],["c",.18,.36,.21,.6,.21,.96],["c",0,.3,0,.36,-.06,.51],["c",-.12,.24,-.27,.42,-.69,.72],["c",-.57,.42,-.69,.63,-.69,1.08],["c",0,.24,0,.3,.06,.45],["c",.12,.21,.3,.39,.57,.54],["c",.42,.18,.87,.21,1.53,.15],["c",1.08,-.15,1.8,-.57,2.34,-1.32],["c",.54,-.75,.84,-1.83,.99,-3.51],["c",.06,-.57,.06,-3.03,0,-3.57],["c",-.12,-1.47,-.42,-2.31,-.99,-2.88],["c",-.27,-.27,-.63,-.48,-1.08,-.6],["c",-.27,-.06,-.39,-.06,-.84,-.06],["c",-.45,0,-.57,0,-.78,.06],["c",-1.14,.27,-2.01,1.17,-2.46,2.49],["c",-.21,.57,-.3,.99,-.33,1.65],["c",-.03,.51,-.06,.57,-.24,.66],["c",-.12,.06,-.27,.06,-.39,0],["c",-.21,-.09,-.21,-.15,-.24,-.75],["c",-.09,-1.92,-.78,-3.72,-2.01,-5.19],["c",-.18,-.21,-.36,-.42,-.39,-.45],["l",-.09,-.06],["l",0,7.11],["l",0,7.14],["l",-.06,.09],["c",-.09,.06,-.09,.06,-.54,.06],["c",-.48,0,-.48,0,-.57,-.06],["l",-.06,-.09],["l",0,-14.82],["l",0,-14.85],["z"]],w:20.31,h:29.97},"clefs.F":{d:[["M",6.3,-7.8],["c",.36,-.03,1.65,0,2.13,.03],["c",3.6,.42,6.03,2.1,6.93,4.86],["c",.27,.84,.36,1.5,.36,2.58],["c",0,.9,-.03,1.35,-.18,2.16],["c",-.78,3.78,-3.54,7.08,-8.37,9.96],["c",-1.74,1.05,-3.87,2.13,-6.18,3.12],["c",-.39,.18,-.75,.33,-.81,.36],["c",-.06,.03,-.15,.06,-.18,.06],["c",-.15,0,-.33,-.18,-.33,-.33],["c",0,-.15,.06,-.21,.51,-.48],["c",3,-1.77,5.13,-3.21,6.84,-4.74],["c",.51,-.45,1.59,-1.5,1.95,-1.95],["c",1.89,-2.19,2.88,-4.32,3.15,-6.78],["c",.06,-.42,.06,-1.77,0,-2.19],["c",-.24,-2.01,-.93,-3.63,-2.04,-4.71],["c",-.63,-.63,-1.29,-1.02,-2.07,-1.2],["c",-1.62,-.39,-3.36,.15,-4.56,1.44],["c",-.54,.6,-1.05,1.47,-1.32,2.22],["l",-.09,.21],["l",.24,-.12],["c",.39,-.21,.63,-.24,1.11,-.24],["c",.3,0,.45,0,.66,.06],["c",1.92,.48,2.85,2.55,1.95,4.38],["c",-.45,.99,-1.41,1.62,-2.46,1.71],["c",-1.47,.09,-2.91,-.87,-3.39,-2.25],["c",-.18,-.57,-.21,-1.32,-.03,-2.28],["c",.39,-2.25,1.83,-4.2,3.81,-5.19],["c",.69,-.36,1.59,-.6,2.37,-.69],["z"],["m",11.58,2.52],["c",.84,-.21,1.71,.3,1.89,1.14],["c",.3,1.17,-.72,2.19,-1.89,1.89],["c",-.99,-.21,-1.5,-1.32,-1.02,-2.25],["c",.18,-.39,.6,-.69,1.02,-.78],["z"],["m",0,7.5],["c",.84,-.21,1.71,.3,1.89,1.14],["c",.21,.87,-.3,1.71,-1.14,1.89],["c",-.87,.21,-1.71,-.3,-1.89,-1.14],["c",-.21,-.84,.3,-1.71,1.14,-1.89],["z"]],w:20.153,h:23.142},"clefs.G":{d:[["M",9.69,-37.41],["c",.09,-.09,.24,-.06,.36,0],["c",.12,.09,.57,.6,.96,1.11],["c",1.77,2.34,3.21,5.85,3.57,8.73],["c",.21,1.56,.03,3.27,-.45,4.86],["c",-.69,2.31,-1.92,4.47,-4.23,7.44],["c",-.3,.39,-.57,.72,-.6,.75],["c",-.03,.06,0,.15,.18,.78],["c",.54,1.68,1.38,4.44,1.68,5.49],["l",.09,.42],["l",.39,0],["c",1.47,.09,2.76,.51,3.96,1.29],["c",1.83,1.23,3.06,3.21,3.39,5.52],["c",.09,.45,.12,1.29,.06,1.74],["c",-.09,1.02,-.33,1.83,-.75,2.73],["c",-.84,1.71,-2.28,3.06,-4.02,3.72],["l",-.33,.12],["l",.03,1.26],["c",0,1.74,-.06,3.63,-.21,4.62],["c",-.45,3.06,-2.19,5.49,-4.47,6.21],["c",-.57,.18,-.9,.21,-1.59,.21],["c",-.69,0,-1.02,-.03,-1.65,-.21],["c",-1.14,-.27,-2.13,-.84,-2.94,-1.65],["c",-.99,-.99,-1.56,-2.16,-1.71,-3.54],["c",-.09,-.81,.06,-1.53,.45,-2.13],["c",.63,-.99,1.83,-1.56,3,-1.53],["c",1.5,.09,2.64,1.32,2.73,2.94],["c",.06,1.47,-.93,2.7,-2.37,2.97],["c",-.45,.06,-.84,.03,-1.29,-.09],["l",-.21,-.09],["l",.09,.12],["c",.39,.54,.78,.93,1.32,1.26],["c",1.35,.87,3.06,1.02,4.35,.36],["c",1.44,-.72,2.52,-2.28,2.97,-4.35],["c",.15,-.66,.24,-1.5,.3,-3.03],["c",.03,-.84,.03,-2.94,0,-3],["c",-.03,0,-.18,0,-.36,.03],["c",-.66,.12,-.99,.12,-1.83,.12],["c",-1.05,0,-1.71,-.06,-2.61,-.3],["c",-4.02,-.99,-7.11,-4.35,-7.8,-8.46],["c",-.12,-.66,-.12,-.99,-.12,-1.83],["c",0,-.84,0,-1.14,.15,-1.92],["c",.36,-2.28,1.41,-4.62,3.3,-7.29],["l",2.79,-3.6],["c",.54,-.66,.96,-1.2,.96,-1.23],["c",0,-.03,-.09,-.33,-.18,-.69],["c",-.96,-3.21,-1.41,-5.28,-1.59,-7.68],["c",-.12,-1.38,-.15,-3.09,-.06,-3.96],["c",.33,-2.67,1.38,-5.07,3.12,-7.08],["c",.36,-.42,.99,-1.05,1.17,-1.14],["z"],["m",2.01,4.71],["c",-.15,-.3,-.3,-.54,-.3,-.54],["c",-.03,0,-.18,.09,-.3,.21],["c",-2.4,1.74,-3.87,4.2,-4.26,7.11],["c",-.06,.54,-.06,1.41,-.03,1.89],["c",.09,1.29,.48,3.12,1.08,5.22],["c",.15,.42,.24,.78,.24,.81],["c",0,.03,.84,-1.11,1.23,-1.68],["c",1.89,-2.73,2.88,-5.07,3.15,-7.53],["c",.09,-.57,.12,-1.74,.06,-2.37],["c",-.09,-1.23,-.27,-1.92,-.87,-3.12],["z"],["m",-2.94,20.7],["c",-.21,-.72,-.39,-1.32,-.42,-1.32],["c",0,0,-1.2,1.47,-1.86,2.37],["c",-2.79,3.63,-4.02,6.3,-4.35,9.3],["c",-.03,.21,-.03,.69,-.03,1.08],["c",0,.69,0,.75,.06,1.11],["c",.12,.54,.27,.99,.51,1.47],["c",.69,1.38,1.83,2.55,3.42,3.42],["c",.96,.54,2.07,.9,3.21,1.08],["c",.78,.12,2.04,.12,2.94,-.03],["c",.51,-.06,.45,-.03,.42,-.3],["c",-.24,-3.33,-.72,-6.33,-1.62,-10.08],["c",-.09,-.39,-.18,-.75,-.18,-.78],["c",-.03,-.03,-.42,0,-.81,.09],["c",-.9,.18,-1.65,.57,-2.22,1.14],["c",-.72,.72,-1.08,1.65,-1.05,2.64],["c",.06,.96,.48,1.83,1.23,2.58],["c",.36,.36,.72,.63,1.17,.9],["c",.33,.18,.36,.21,.42,.33],["c",.18,.42,-.18,.9,-.6,.87],["c",-.18,-.03,-.84,-.36,-1.26,-.63],["c",-.78,-.51,-1.38,-1.11,-1.86,-1.83],["c",-1.77,-2.7,-.99,-6.42,1.71,-8.19],["c",.3,-.21,.81,-.48,1.17,-.63],["c",.3,-.09,1.02,-.3,1.14,-.3],["c",.06,0,.09,0,.09,-.03],["c",.03,-.03,-.51,-1.92,-1.23,-4.26],["z"],["m",3.78,7.41],["c",-.18,-.03,-.36,-.06,-.39,-.06],["c",-.03,0,0,.21,.18,1.02],["c",.75,3.18,1.26,6.3,1.5,9.09],["c",.06,.72,0,.69,.51,.42],["c",.78,-.36,1.44,-.96,1.98,-1.77],["c",1.08,-1.62,1.2,-3.69,.3,-5.55],["c",-.81,-1.62,-2.31,-2.79,-4.08,-3.15],["z"]],w:19.051,h:57.057},"clefs.perc":{d:[["M",5.07,-7.44],["l",.09,-.06],["l",1.53,0],["l",1.53,0],["l",.09,.06],["l",.06,.09],["l",0,7.35],["l",0,7.32],["l",-.06,.09],["l",-.09,.06],["l",-1.53,0],["l",-1.53,0],["l",-.09,-.06],["l",-.06,-.09],["l",0,-7.32],["l",0,-7.35],["z"],["m",6.63,0],["l",.09,-.06],["l",1.53,0],["l",1.53,0],["l",.09,.06],["l",.06,.09],["l",0,7.35],["l",0,7.32],["l",-.06,.09],["l",-.09,.06],["l",-1.53,0],["l",-1.53,0],["l",-.09,-.06],["l",-.06,-.09],["l",0,-7.32],["l",0,-7.35],["z"]],w:21,h:14.97},"tab.big":{d:[["M",20.16,-21.66],["c",.24,-.09,.66,.09,.78,.36],["c",.09,.21,.09,.24,-.18,.54],["c",-.78,.81,-1.86,1.44,-2.94,1.71],["c",-.87,.24,-1.71,.24,-2.55,.03],["l",-.06,-.03],["l",-.18,.99],["c",-.33,1.98,-.75,4.26,-.96,5.04],["c",-.42,1.65,-1.26,3.18,-2.28,4.14],["c",-.57,.57,-1.17,.9,-1.86,1.08],["c",-.18,.06,-.33,.06,-.66,.06],["c",-.54,0,-.78,-.03,-1.23,-.27],["c",-.39,-.18,-.66,-.39,-1.38,-.99],["c",-.3,-.24,-.66,-.51,-.75,-.57],["c",-.21,-.15,-.27,-.24,-.24,-.45],["c",.06,-.27,.36,-.6,.6,-.66],["c",.18,-.03,.33,.06,.9,.57],["c",.48,.42,.72,.57,.93,.69],["c",.66,.33,1.38,.21,1.95,-.36],["c",.63,-.6,1.05,-1.62,1.23,-3],["c",.03,-.18,.09,-.66,.09,-1.11],["c",.09,-1.56,.33,-3.81,.57,-5.49],["c",.06,-.33,.09,-.63,.09,-.63],["c",-.03,-.03,-.81,-.12,-1.02,-.12],["c",-.57,0,-1.32,.12,-1.8,.33],["c",-.87,.3,-1.35,.78,-1.5,1.41],["c",-.18,.63,.09,1.26,.66,1.65],["c",.12,.06,.15,.12,.18,.24],["c",.09,.27,.06,.57,-.09,.75],["c",-.03,.06,-.12,.09,-.27,.15],["c",-.72,.21,-1.44,.15,-2.1,-.18],["c",-.54,-.27,-.96,-.66,-1.2,-1.14],["c",-.39,-.75,-.33,-1.74,.15,-2.52],["c",.27,-.42,.84,-.93,1.41,-1.23],["c",1.17,-.57,2.88,-.9,4.8,-.9],["c",.69,0,.78,0,1.08,.06],["c",.45,.09,1.11,.3,2.07,.6],["c",1.47,.48,1.83,.57,2.55,.54],["c",1.02,-.06,2.04,-.45,2.94,-1.11],["c",.12,-.09,.24,-.18,.27,-.18],["z"],["m",-5.88,13.05],["c",.21,-.03,.81,0,1.08,.06],["c",.48,.12,.9,.42,.99,.69],["c",.03,.09,.03,.15,0,.27],["c",0,.09,-.03,.57,-.06,1.08],["c",-.09,2.19,-.24,5.76,-.39,8.28],["c",-.06,1.53,-.06,1.77,.03,2.01],["c",.09,.18,.15,.24,.3,.3],["c",.24,.12,.54,.06,1.23,-.27],["c",.57,-.27,.66,-.3,.75,-.24],["c",.09,.06,.18,.3,.18,.45],["c",0,.33,-.15,.51,-.45,.63],["c",-.12,.03,-.39,.15,-.6,.27],["c",-1.17,.6,-1.38,.69,-1.8,.72],["c",-.45,.03,-.78,-.09,-1.08,-.39],["c",-.39,-.42,-.66,-1.2,-1.02,-3.12],["c",-.24,-1.23,-.36,-2.07,-.54,-3.75],["l",0,-.18],["l",-.36,.45],["c",-.6,.75,-1.32,1.59,-1.95,2.25],["c",-.15,.18,-.27,.3,-.27,.33],["c",0,0,.06,.09,.15,.18],["c",.24,.33,.6,.57,1.05,.69],["c",.18,.06,.3,.06,.69,.06],["l",.48,.03],["l",.06,.12],["c",.15,.27,.03,.72,-.21,.9],["c",-.18,.12,-.93,.27,-1.41,.27],["c",-.84,0,-1.59,-.3,-1.98,-.84],["l",-.12,-.15],["l",-.45,.42],["c",-.99,.87,-1.53,1.32,-2.16,1.74],["c",-.78,.51,-1.5,.84,-2.1,.93],["c",-.69,.12,-1.2,.03,-1.95,-.42],["c",-.21,-.12,-.51,-.27,-.66,-.36],["c",-.24,-.12,-.3,-.18,-.33,-.24],["c",-.12,-.27,.15,-.78,.45,-.93],["c",.24,-.12,.33,-.09,.9,.18],["c",.6,.3,.84,.39,1.2,.36],["c",.87,-.09,1.77,-.69,3.24,-2.31],["c",2.67,-2.85,4.59,-5.94,5.7,-9.15],["c",.15,-.45,.24,-.63,.42,-.81],["c",.21,-.24,.6,-.45,.99,-.51],["z"],["m",-3.99,16.05],["c",.18,0,.69,-.03,1.17,0],["c",3.27,.03,5.37,.75,6,2.07],["c",.45,.99,.12,2.4,-.81,3.42],["c",-.24,.27,-.57,.57,-.84,.75],["c",-.09,.06,-.18,.09,-.18,.12],["c",0,0,.18,.03,.42,.09],["c",1.23,.3,2.01,.81,2.37,1.59],["c",.27,.54,.3,1.32,.09,2.1],["c",-.12,.36,-.45,1.05,-.69,1.35],["c",-.87,1.17,-2.1,1.92,-3.54,2.25],["c",-.36,.06,-.48,.06,-.96,.06],["c",-.45,0,-.66,0,-.84,-.03],["c",-.84,-.18,-1.47,-.51,-2.07,-1.11],["c",-.33,-.33,-.45,-.51,-.45,-.63],["c",0,-.06,.03,-.15,.06,-.24],["c",.18,-.33,.69,-.6,.93,-.48],["c",.03,.03,.15,.12,.27,.24],["c",.39,.42,.99,.57,1.62,.45],["c",1.05,-.21,1.98,-1.02,2.31,-2.01],["c",.48,-1.53,-.48,-2.55,-2.58,-2.67],["c",-.21,0,-.36,-.03,-.42,-.06],["c",-.15,-.09,-.21,-.51,-.06,-.78],["c",.12,-.27,.24,-.33,.6,-.36],["c",.57,-.06,1.11,-.42,1.5,-.99],["c",.48,-.72,.54,-1.59,.18,-2.31],["c",-.12,-.21,-.45,-.54,-.69,-.69],["c",-.33,-.21,-.93,-.45,-1.35,-.51],["l",-.12,-.03],["l",-.06,.48],["c",-.54,2.94,-1.14,6.24,-1.29,6.75],["c",-.33,1.35,-.93,2.61,-1.65,3.6],["c",-.3,.36,-.81,.9,-1.14,1.14],["c",-.3,.24,-.84,.48,-1.14,.57],["c",-.33,.09,-.96,.09,-1.26,.03],["c",-.45,-.12,-.87,-.39,-1.53,-.96],["c",-.24,-.15,-.51,-.39,-.63,-.48],["c",-.3,-.21,-.33,-.33,-.21,-.63],["c",.12,-.18,.27,-.36,.42,-.45],["c",.27,-.12,.36,-.09,.87,.33],["c",.78,.6,1.08,.75,1.65,.72],["c",.45,-.03,.81,-.21,1.17,-.54],["c",.87,-.9,1.38,-2.85,1.38,-5.37],["c",0,-.6,.03,-1.11,.12,-2.04],["c",.06,-.69,.24,-2.01,.33,-2.58],["c",.06,-.24,.06,-.42,.06,-.42],["c",0,0,-.12,.03,-.21,.09],["c",-1.44,.57,-2.16,1.65,-1.74,2.55],["c",.09,.15,.18,.24,.27,.33],["c",.24,.21,.3,.27,.33,.39],["c",.06,.24,0,.63,-.15,.78],["c",-.09,.12,-.54,.21,-.96,.24],["c",-1.02,.03,-2.01,-.48,-2.43,-1.32],["c",-.21,-.45,-.27,-.9,-.15,-1.44],["c",.06,-.27,.21,-.66,.39,-.93],["c",.87,-1.29,3,-2.22,5.64,-2.43],["z"]],w:19.643,h:43.325},"tab.tiny":{d:[["M",16.02,-17.25],["c",.12,-.09,.15,-.09,.27,-.09],["c",.21,.03,.51,.3,.51,.45],["c",0,.06,-.12,.18,-.3,.36],["c",-1.11,1.08,-2.55,1.59,-3.84,1.41],["c",-.15,-.03,-.33,-.06,-.39,-.09],["c",-.06,-.03,-.09,-.03,-.12,-.03],["c",0,0,-.06,.42,-.15,.93],["c",-.33,2.01,-.66,3.69,-.84,4.26],["c",-.42,1.41,-1.23,2.67,-2.16,3.33],["c",-.27,.18,-.75,.42,-.99,.48],["c",-.3,.09,-.72,.09,-1.02,.06],["c",-.45,-.09,-.84,-.33,-1.53,-.9],["c",-.21,-.18,-.51,-.39,-.63,-.48],["c",-.27,-.21,-.3,-.24,-.3,-.36],["c",0,-.12,.09,-.36,.18,-.45],["c",.09,-.09,.27,-.18,.36,-.18],["c",.12,0,.3,.12,.66,.45],["c",.57,.51,.87,.69,1.23,.72],["c",.93,.06,1.68,-.78,1.98,-2.37],["c",.09,-.39,.15,-.75,.18,-1.53],["c",.06,-.99,.24,-2.79,.42,-4.05],["c",.03,-.3,.06,-.57,.06,-.6],["c",0,-.06,-.03,-.09,-.15,-.12],["c",-.9,-.18,-2.13,.06,-2.76,.57],["c",-.36,.3,-.51,.6,-.51,1.02],["c",0,.45,.15,.75,.48,.99],["c",.06,.06,.15,.18,.18,.24],["c",.12,.24,.03,.63,-.15,.69],["c",-.24,.12,-.6,.15,-.9,.15],["c",-.36,-.03,-.57,-.09,-.87,-.24],["c",-.78,-.36,-1.23,-1.11,-1.2,-1.92],["c",.12,-1.53,1.74,-2.49,4.62,-2.7],["c",1.2,-.09,1.47,-.03,3.33,.57],["c",.9,.3,1.14,.36,1.56,.39],["c",.45,0,.93,-.06,1.38,-.21],["c",.51,-.18,.81,-.33,1.41,-.75],["z"],["m",-4.68,10.38],["c",.39,-.06,.84,0,1.2,.15],["c",.24,.12,.36,.21,.45,.36],["l",.09,.09],["l",-.06,1.41],["c",-.09,2.19,-.18,3.96,-.27,5.49],["c",-.03,.78,-.06,1.59,-.06,1.86],["c",0,.42,0,.48,.06,.57],["c",.06,.18,.18,.24,.36,.27],["c",.18,0,.39,-.06,.84,-.27],["c",.45,-.21,.54,-.24,.63,-.18],["c",.12,.12,.15,.54,.03,.69],["c",-.03,.03,-.15,.12,-.27,.18],["c",-.15,.03,-.3,.12,-.36,.15],["c",-.87,.45,-1.02,.51,-1.26,.57],["c",-.33,.09,-.6,.06,-.84,-.06],["c",-.42,-.18,-.63,-.6,-.87,-1.44],["c",-.3,-1.23,-.57,-2.97,-.66,-4.08],["c",0,-.18,-.03,-.3,-.03,-.33],["l",-.06,.06],["c",-.18,.27,-1.11,1.38,-1.68,2.01],["l",-.33,.33],["l",.06,.09],["c",.06,.15,.27,.33,.48,.42],["c",.27,.18,.51,.24,.96,.27],["l",.39,0],["l",.03,.12],["c",.12,.21,.03,.57,-.15,.69],["c",-.03,.03,-.21,.09,-.36,.15],["c",-.27,.06,-.39,.06,-.75,.06],["c",-.48,0,-.75,-.03,-1.08,-.21],["c",-.21,-.12,-.51,-.36,-.57,-.48],["l",-.03,-.09],["l",-.39,.36],["c",-1.47,1.35,-2.49,1.98,-3.42,2.13],["c",-.54,.09,-.96,-.03,-1.62,-.39],["c",-.21,-.15,-.45,-.27,-.54,-.3],["c",-.18,-.09,-.21,-.21,-.12,-.45],["c",.06,-.27,.33,-.48,.54,-.48],["c",.03,0,.27,.09,.48,.21],["c",.48,.24,.69,.27,.99,.27],["c",.6,-.06,1.17,-.42,2.1,-1.35],["c",2.22,-2.22,4.02,-4.98,4.95,-7.59],["c",.21,-.57,.3,-.78,.48,-.93],["c",.15,-.15,.42,-.27,.66,-.33],["z"],["m",-3.06,12.84],["c",.27,-.03,1.68,0,2.01,.03],["c",1.92,.18,3.15,.69,3.63,1.5],["c",.18,.33,.24,.51,.21,.93],["c",0,.45,-.06,.72,-.24,1.11],["c",-.24,.51,-.69,1.02,-1.17,1.35],["c",-.21,.15,-.21,.15,-.12,.18],["c",.72,.15,1.11,.3,1.5,.57],["c",.39,.24,.63,.57,.75,.96],["c",.09,.3,.09,.96,0,1.29],["c",-.15,.57,-.39,1.05,-.78,1.5],["c",-.66,.75,-1.62,1.32,-2.61,1.53],["c",-.27,.06,-.42,.06,-.84,.06],["c",-.48,0,-.57,0,-.81,-.06],["c",-.6,-.18,-1.05,-.42,-1.47,-.81],["c",-.36,-.39,-.42,-.51,-.3,-.75],["c",.12,-.21,.39,-.39,.6,-.39],["c",.09,0,.15,.03,.33,.18],["c",.12,.12,.27,.24,.36,.27],["c",.96,.48,2.46,-.33,2.82,-1.5],["c",.24,-.81,-.03,-1.44,-.69,-1.77],["c",-.39,-.21,-1.02,-.33,-1.53,-.33],["c",-.18,0,-.21,0,-.27,-.09],["c",-.06,-.09,-.06,-.3,-.03,-.48],["c",.06,-.18,.18,-.36,.33,-.36],["c",.39,-.06,.51,-.09,.72,-.18],["c",.69,-.36,1.11,-1.23,.99,-2.01],["c",-.09,-.51,-.42,-.9,-.93,-1.17],["c",-.24,-.12,-.6,-.27,-.87,-.3],["c",-.09,-.03,-.09,-.03,-.12,.12],["c",0,.09,-.21,1.11,-.42,2.25],["c",-.66,3.75,-.72,3.99,-1.26,5.07],["c",-.9,1.89,-2.25,2.85,-3.48,2.61],["c",-.39,-.09,-.69,-.27,-1.38,-.84],["c",-.63,-.51,-.63,-.48,-.63,-.6],["c",0,-.18,.18,-.48,.39,-.57],["c",.21,-.12,.3,-.09,.81,.33],["c",.15,.15,.39,.3,.54,.36],["c",.18,.12,.27,.12,.48,.15],["c",.99,.06,1.71,-.78,2.04,-2.46],["c",.12,-.66,.18,-1.14,.21,-2.22],["c",.03,-1.23,.12,-2.25,.36,-3.63],["c",.03,-.24,.06,-.45,.06,-.48],["c",-.06,-.03,-.66,.27,-.9,.42],["c",-.06,.06,-.21,.18,-.33,.3],["c",-.57,.57,-.6,1.35,-.06,1.74],["c",.18,.12,.24,.24,.21,.51],["c",-.03,.3,-.15,.42,-.57,.48],["c",-1.11,.24,-2.22,-.42,-2.43,-1.38],["c",-.09,-.45,.03,-1.02,.3,-1.47],["c",.18,-.24,.6,-.63,.9,-.84],["c",.9,-.6,2.28,-1.02,3.69,-1.11],["z"]],w:15.709,h:34.656},"timesig.common":{d:[["M",6.66,-7.83],["c",.72,-.06,1.41,-.03,1.98,.09],["c",1.2,.27,2.34,.96,3.09,1.92],["c",.63,.81,1.08,1.86,1.14,2.73],["c",.06,1.02,-.51,1.92,-1.44,2.22],["c",-.24,.09,-.3,.09,-.63,.09],["c",-.33,0,-.42,0,-.63,-.06],["c",-.66,-.24,-1.14,-.63,-1.41,-1.2],["c",-.15,-.3,-.21,-.51,-.24,-.9],["c",-.06,-1.08,.57,-2.04,1.56,-2.37],["c",.18,-.06,.27,-.06,.63,-.06],["l",.45,0],["c",.06,.03,.09,.03,.09,0],["c",0,0,-.09,-.12,-.24,-.27],["c",-1.02,-1.11,-2.55,-1.68,-4.08,-1.5],["c",-1.29,.15,-2.04,.69,-2.4,1.74],["c",-.36,.93,-.42,1.89,-.42,5.37],["c",0,2.97,.06,3.96,.24,4.77],["c",.24,1.08,.63,1.68,1.41,2.07],["c",.81,.39,2.16,.45,3.18,.09],["c",1.29,-.45,2.37,-1.53,3.03,-2.97],["c",.15,-.33,.33,-.87,.39,-1.17],["c",.09,-.24,.15,-.36,.3,-.39],["c",.21,-.03,.42,.15,.39,.36],["c",-.06,.39,-.42,1.38,-.69,1.89],["c",-.96,1.8,-2.49,2.94,-4.23,3.18],["c",-.99,.12,-2.58,-.06,-3.63,-.45],["c",-.96,-.36,-1.71,-.84,-2.4,-1.5],["c",-1.11,-1.11,-1.8,-2.61,-2.04,-4.56],["c",-.06,-.6,-.06,-2.01,0,-2.61],["c",.24,-1.95,.9,-3.45,2.01,-4.56],["c",.69,-.66,1.44,-1.11,2.37,-1.47],["c",.63,-.24,1.47,-.42,2.22,-.48],["z"]],w:13.038,h:15.689},"timesig.cut":{d:[["M",6.24,-10.44],["c",.09,-.06,.09,-.06,.48,-.06],["c",.36,0,.36,0,.45,.06],["l",.06,.09],["l",0,1.23],["l",0,1.26],["l",.27,0],["c",1.26,0,2.49,.45,3.48,1.29],["c",1.05,.87,1.8,2.28,1.89,3.48],["c",.06,1.02,-.51,1.92,-1.44,2.22],["c",-.24,.09,-.3,.09,-.63,.09],["c",-.33,0,-.42,0,-.63,-.06],["c",-.66,-.24,-1.14,-.63,-1.41,-1.2],["c",-.15,-.3,-.21,-.51,-.24,-.9],["c",-.06,-1.08,.57,-2.04,1.56,-2.37],["c",.18,-.06,.27,-.06,.63,-.06],["l",.45,0],["c",.06,.03,.09,.03,.09,0],["c",0,-.03,-.45,-.51,-.66,-.69],["c",-.87,-.69,-1.83,-1.05,-2.94,-1.11],["l",-.42,0],["l",0,7.17],["l",0,7.14],["l",.42,0],["c",.69,-.03,1.23,-.18,1.86,-.51],["c",1.05,-.51,1.89,-1.47,2.46,-2.7],["c",.15,-.33,.33,-.87,.39,-1.17],["c",.09,-.24,.15,-.36,.3,-.39],["c",.21,-.03,.42,.15,.39,.36],["c",-.03,.24,-.21,.78,-.39,1.2],["c",-.96,2.37,-2.94,3.9,-5.13,3.9],["l",-.3,0],["l",0,1.26],["l",0,1.23],["l",-.06,.09],["c",-.09,.06,-.09,.06,-.45,.06],["c",-.39,0,-.39,0,-.48,-.06],["l",-.06,-.09],["l",0,-1.29],["l",0,-1.29],["l",-.21,-.03],["c",-1.23,-.21,-2.31,-.63,-3.21,-1.29],["c",-.15,-.09,-.45,-.36,-.66,-.57],["c",-1.11,-1.11,-1.8,-2.61,-2.04,-4.56],["c",-.06,-.6,-.06,-2.01,0,-2.61],["c",.24,-1.95,.93,-3.45,2.04,-4.59],["c",.42,-.39,.78,-.66,1.26,-.93],["c",.75,-.45,1.65,-.75,2.61,-.9],["l",.21,-.03],["l",0,-1.29],["l",0,-1.29],["z"],["m",-.06,10.44],["c",0,-5.58,0,-6.99,-.03,-6.99],["c",-.15,0,-.63,.27,-.87,.45],["c",-.45,.36,-.75,.93,-.93,1.77],["c",-.18,.81,-.24,1.8,-.24,4.74],["c",0,2.97,.06,3.96,.24,4.77],["c",.24,1.08,.66,1.68,1.41,2.07],["c",.12,.06,.3,.12,.33,.15],["l",.09,0],["l",0,-6.96],["z"]],w:13.038,h:20.97},"timesig.imperfectum":{d:[["M",13,-5],["a",8,8,0,1,0,0,10]],w:13.038,h:20.97},"timesig.imperfectum2":{d:[["M",13,-5],["a",8,8,0,1,0,0,10]],w:13.038,h:20.97},"timesig.perfectum":{d:[["M",13,-5],["a",8,8,0,1,0,0,10]],w:13.038,h:20.97},"timesig.perfectum2":{d:[["M",13,-5],["a",8,8,0,1,0,0,10]],w:13.038,h:20.97},f:{d:[["M",9.93,-14.28],["c",1.53,-.18,2.88,.45,3.12,1.5],["c",.12,.51,0,1.32,-.27,1.86],["c",-.15,.3,-.42,.57,-.63,.69],["c",-.69,.36,-1.56,.03,-1.83,-.69],["c",-.09,-.24,-.09,-.69,0,-.87],["c",.06,-.12,.21,-.24,.45,-.42],["c",.42,-.24,.57,-.45,.6,-.72],["c",.03,-.33,-.09,-.39,-.63,-.42],["c",-.3,0,-.45,0,-.6,.03],["c",-.81,.21,-1.35,.93,-1.74,2.46],["c",-.06,.27,-.48,2.25,-.48,2.31],["c",0,.03,.39,.03,.9,.03],["c",.72,0,.9,0,.99,.06],["c",.42,.15,.45,.72,.03,.9],["c",-.12,.06,-.24,.06,-1.17,.06],["l",-1.05,0],["l",-.78,2.55],["c",-.45,1.41,-.87,2.79,-.96,3.06],["c",-.87,2.37,-2.37,4.74,-3.78,5.91],["c",-1.05,.9,-2.04,1.23,-3.09,1.08],["c",-1.11,-.18,-1.89,-.78,-2.04,-1.59],["c",-.12,-.66,.15,-1.71,.54,-2.19],["c",.69,-.75,1.86,-.54,2.22,.39],["c",.06,.15,.09,.27,.09,.48],["c",0,.24,-.03,.27,-.12,.42],["c",-.03,.09,-.15,.18,-.27,.27],["c",-.09,.06,-.27,.21,-.36,.27],["c",-.24,.18,-.36,.36,-.39,.6],["c",-.03,.33,.09,.39,.63,.42],["c",.42,0,.63,-.03,.9,-.15],["c",.6,-.3,.96,-.96,1.38,-2.64],["c",.09,-.42,.63,-2.55,1.17,-4.77],["l",1.02,-4.08],["c",0,-.03,-.36,-.03,-.81,-.03],["c",-.72,0,-.81,0,-.93,-.06],["c",-.42,-.18,-.39,-.75,.03,-.9],["c",.09,-.06,.27,-.06,1.05,-.06],["l",.96,0],["l",0,-.09],["c",.06,-.18,.3,-.72,.51,-1.17],["c",1.2,-2.46,3.3,-4.23,5.34,-4.5],["z"]],w:16.155,h:19.445},m:{d:[["M",2.79,-8.91],["c",.09,0,.3,-.03,.45,-.03],["c",.24,.03,.3,.03,.45,.12],["c",.36,.15,.63,.54,.75,1.02],["l",.03,.21],["l",.33,-.3],["c",.69,-.69,1.38,-1.02,2.07,-1.02],["c",.27,0,.33,0,.48,.06],["c",.21,.09,.48,.36,.63,.6],["c",.03,.09,.12,.27,.18,.42],["c",.03,.15,.09,.27,.12,.27],["c",0,0,.09,-.09,.18,-.21],["c",.33,-.39,.87,-.81,1.29,-.99],["c",.78,-.33,1.47,-.21,2.01,.33],["c",.3,.33,.48,.69,.6,1.14],["c",.09,.42,.06,.54,-.54,3.06],["c",-.33,1.29,-.57,2.4,-.57,2.43],["c",0,.12,.09,.21,.21,.21],["c",.24,0,.75,-.3,1.2,-.72],["c",.45,-.39,.6,-.45,.78,-.27],["c",.18,.18,.09,.36,-.45,.87],["c",-1.05,.96,-1.83,1.47,-2.58,1.71],["c",-.93,.33,-1.53,.21,-1.8,-.33],["c",-.06,-.15,-.06,-.21,-.06,-.45],["c",0,-.24,.03,-.48,.6,-2.82],["c",.42,-1.71,.6,-2.64,.63,-2.79],["c",.03,-.57,-.3,-.75,-.84,-.48],["c",-.24,.12,-.54,.39,-.66,.63],["c",-.03,.09,-.42,1.38,-.9,3],["c",-.9,3.15,-.84,3,-1.14,3.15],["l",-.15,.09],["l",-.78,0],["c",-.6,0,-.78,0,-.84,-.06],["c",-.09,-.03,-.18,-.18,-.18,-.27],["c",0,-.03,.36,-1.38,.84,-2.97],["c",.57,-2.04,.81,-2.97,.84,-3.12],["c",.03,-.54,-.3,-.72,-.84,-.45],["c",-.24,.12,-.57,.42,-.66,.63],["c",-.06,.09,-.51,1.44,-1.05,2.97],["c",-.51,1.56,-.99,2.85,-.99,2.91],["c",-.06,.12,-.21,.24,-.36,.3],["c",-.12,.06,-.21,.06,-.9,.06],["c",-.6,0,-.78,0,-.84,-.06],["c",-.09,-.03,-.18,-.18,-.18,-.27],["c",0,-.03,.45,-1.38,.99,-2.97],["c",1.05,-3.18,1.05,-3.18,.93,-3.45],["c",-.12,-.27,-.39,-.3,-.72,-.15],["c",-.54,.27,-1.14,1.17,-1.56,2.4],["c",-.06,.15,-.15,.3,-.18,.36],["c",-.21,.21,-.57,.27,-.72,.09],["c",-.09,-.09,-.06,-.21,.06,-.63],["c",.48,-1.26,1.26,-2.46,2.01,-3.21],["c",.57,-.54,1.2,-.87,1.83,-1.02],["z"]],w:14.687,h:9.126},p:{d:[["M",1.92,-8.7],["c",.27,-.09,.81,-.06,1.11,.03],["c",.54,.18,.93,.51,1.17,.99],["c",.09,.15,.15,.33,.18,.36],["l",0,.12],["l",.3,-.27],["c",.66,-.6,1.35,-1.02,2.13,-1.2],["c",.21,-.06,.33,-.06,.78,-.06],["c",.45,0,.51,0,.84,.09],["c",1.29,.33,2.07,1.32,2.25,2.79],["c",.09,.81,-.09,2.01,-.45,2.79],["c",-.54,1.26,-1.86,2.55,-3.18,3.03],["c",-.45,.18,-.81,.24,-1.29,.24],["c",-.69,-.03,-1.35,-.18,-1.86,-.45],["c",-.3,-.15,-.51,-.18,-.69,-.09],["c",-.09,.03,-.18,.09,-.18,.12],["c",-.09,.12,-1.05,2.94,-1.05,3.06],["c",0,.24,.18,.48,.51,.63],["c",.18,.06,.54,.15,.75,.15],["c",.21,0,.36,.06,.42,.18],["c",.12,.18,.06,.42,-.12,.54],["c",-.09,.03,-.15,.03,-.78,0],["c",-1.98,-.15,-3.81,-.15,-5.79,0],["c",-.63,.03,-.69,.03,-.78,0],["c",-.24,-.15,-.24,-.57,.03,-.66],["c",.06,-.03,.48,-.09,.99,-.12],["c",.87,-.06,1.11,-.09,1.35,-.21],["c",.18,-.06,.33,-.18,.39,-.3],["c",.06,-.12,3.24,-9.42,3.27,-9.6],["c",.06,-.33,.03,-.57,-.15,-.69],["c",-.09,-.06,-.12,-.06,-.3,-.06],["c",-.69,.06,-1.53,1.02,-2.28,2.61],["c",-.09,.21,-.21,.45,-.27,.51],["c",-.09,.12,-.33,.24,-.48,.24],["c",-.18,0,-.36,-.15,-.36,-.3],["c",0,-.24,.78,-1.83,1.26,-2.55],["c",.72,-1.11,1.47,-1.74,2.28,-1.92],["z"],["m",5.37,1.47],["c",-.27,-.12,-.75,-.03,-1.14,.21],["c",-.75,.48,-1.47,1.68,-1.89,3.15],["c",-.45,1.47,-.42,2.34,0,2.7],["c",.45,.39,1.26,.21,1.83,-.36],["c",.51,-.51,.99,-1.68,1.38,-3.27],["c",.3,-1.17,.33,-1.74,.15,-2.13],["c",-.09,-.15,-.15,-.21,-.33,-.3],["z"]],w:14.689,h:13.127},r:{d:[["M",6.33,-9.12],["c",.27,-.03,.93,0,1.2,.06],["c",.84,.21,1.23,.81,1.02,1.53],["c",-.24,.75,-.9,1.17,-1.56,.96],["c",-.33,-.09,-.51,-.3,-.66,-.75],["c",-.03,-.12,-.09,-.24,-.12,-.3],["c",-.09,-.15,-.3,-.24,-.48,-.24],["c",-.57,0,-1.38,.54,-1.65,1.08],["c",-.06,.15,-.33,1.17,-.9,3.27],["c",-.57,2.31,-.81,3.12,-.87,3.21],["c",-.03,.06,-.12,.15,-.18,.21],["l",-.12,.06],["l",-.81,.03],["c",-.69,0,-.81,0,-.9,-.03],["c",-.09,-.06,-.18,-.21,-.18,-.3],["c",0,-.06,.39,-1.62,.9,-3.51],["c",.84,-3.24,.87,-3.45,.87,-3.72],["c",0,-.21,0,-.27,-.03,-.36],["c",-.12,-.15,-.21,-.24,-.42,-.24],["c",-.24,0,-.45,.15,-.78,.42],["c",-.33,.36,-.45,.54,-.72,1.14],["c",-.03,.12,-.21,.24,-.36,.27],["c",-.12,0,-.15,0,-.24,-.06],["c",-.18,-.12,-.18,-.21,-.06,-.54],["c",.21,-.57,.42,-.93,.78,-1.32],["c",.54,-.51,1.2,-.81,1.95,-.87],["c",.81,-.03,1.53,.3,1.92,.87],["l",.12,.18],["l",.09,-.09],["c",.57,-.45,1.41,-.84,2.19,-.96],["z"]],w:9.41,h:9.132},s:{d:[["M",4.47,-8.73],["c",.09,0,.36,-.03,.57,-.03],["c",.75,.03,1.29,.24,1.71,.63],["c",.51,.54,.66,1.26,.36,1.83],["c",-.24,.42,-.63,.57,-1.11,.42],["c",-.33,-.09,-.6,-.36,-.6,-.57],["c",0,-.03,.06,-.21,.15,-.39],["c",.12,-.21,.15,-.33,.18,-.48],["c",0,-.24,-.06,-.48,-.15,-.6],["c",-.15,-.21,-.42,-.24,-.75,-.15],["c",-.27,.06,-.48,.18,-.69,.36],["c",-.39,.39,-.51,.96,-.33,1.38],["c",.09,.21,.42,.51,.78,.72],["c",1.11,.69,1.59,1.11,1.89,1.68],["c",.21,.39,.24,.78,.15,1.29],["c",-.18,1.2,-1.17,2.16,-2.52,2.52],["c",-1.02,.24,-1.95,.12,-2.7,-.42],["c",-.72,-.51,-.99,-1.47,-.6,-2.19],["c",.24,-.48,.72,-.63,1.17,-.42],["c",.33,.18,.54,.45,.57,.81],["c",0,.21,-.03,.3,-.33,.51],["c",-.33,.24,-.39,.42,-.27,.69],["c",.06,.15,.21,.27,.45,.33],["c",.3,.09,.87,.09,1.2,0],["c",.75,-.21,1.23,-.72,1.29,-1.35],["c",.03,-.42,-.15,-.81,-.54,-1.2],["c",-.24,-.24,-.48,-.42,-1.41,-1.02],["c",-.69,-.42,-1.05,-.93,-1.05,-1.47],["c",0,-.39,.12,-.87,.3,-1.23],["c",.27,-.57,.78,-1.05,1.38,-1.35],["c",.24,-.12,.63,-.27,.9,-.3],["z"]],w:6.632,h:8.758},z:{d:[["M",2.64,-7.95],["c",.36,-.09,.81,-.03,1.71,.27],["c",.78,.21,.96,.27,1.74,.3],["c",.87,.06,1.02,.03,1.38,-.21],["c",.21,-.15,.33,-.15,.48,-.06],["c",.15,.09,.21,.3,.15,.45],["c",-.03,.06,-1.26,1.26,-2.76,2.67],["l",-2.73,2.55],["l",.54,.03],["c",.54,.03,.72,.03,2.01,.15],["c",.36,.03,.9,.06,1.2,.09],["c",.66,0,.81,-.03,1.02,-.24],["c",.3,-.3,.39,-.72,.27,-1.23],["c",-.06,-.27,-.06,-.27,-.03,-.39],["c",.15,-.3,.54,-.27,.69,.03],["c",.15,.33,.27,1.02,.27,1.5],["c",0,1.47,-1.11,2.7,-2.52,2.79],["c",-.57,.03,-1.02,-.09,-2.01,-.51],["c",-1.02,-.42,-1.23,-.48,-2.13,-.54],["c",-.81,-.06,-.96,-.03,-1.26,.18],["c",-.12,.06,-.24,.12,-.27,.12],["c",-.27,0,-.45,-.3,-.36,-.51],["c",.03,-.06,1.32,-1.32,2.91,-2.79],["l",2.88,-2.73],["c",-.03,0,-.21,.03,-.42,.06],["c",-.21,.03,-.78,.09,-1.23,.12],["c",-1.11,.12,-1.23,.15,-1.95,.27],["c",-.72,.15,-1.17,.18,-1.29,.09],["c",-.27,-.18,-.21,-.75,.12,-1.26],["c",.39,-.6,.93,-1.02,1.59,-1.2],["z"]],w:8.573,h:8.743},"+":{d:[["M",3.48,-9.3],["c",.18,-.09,.36,-.09,.54,0],["c",.18,.09,.24,.15,.33,.3],["l",.06,.15],["l",0,1.29],["l",0,1.29],["l",1.29,0],["c",1.23,0,1.29,0,1.41,.06],["c",.06,.03,.15,.09,.18,.12],["c",.12,.09,.21,.33,.21,.48],["c",0,.15,-.09,.39,-.21,.48],["c",-.03,.03,-.12,.09,-.18,.12],["c",-.12,.06,-.18,.06,-1.41,.06],["l",-1.29,0],["l",0,1.29],["c",0,1.23,0,1.29,-.06,1.41],["c",-.09,.18,-.15,.24,-.3,.33],["c",-.21,.09,-.39,.09,-.57,0],["c",-.18,-.09,-.24,-.15,-.33,-.33],["c",-.06,-.12,-.06,-.18,-.06,-1.41],["l",0,-1.29],["l",-1.29,0],["c",-1.23,0,-1.29,0,-1.41,-.06],["c",-.18,-.09,-.24,-.15,-.33,-.33],["c",-.09,-.18,-.09,-.36,0,-.54],["c",.09,-.18,.15,-.24,.33,-.33],["l",.15,-.06],["l",1.26,0],["l",1.29,0],["l",0,-1.29],["c",0,-1.23,0,-1.29,.06,-1.41],["c",.09,-.18,.15,-.24,.33,-.33],["z"]],w:7.507,h:7.515},",":{d:[["M",1.85,-3.36],["c",.57,-.15,1.17,.03,1.59,.45],["c",.45,.45,.6,.96,.51,1.89],["c",-.09,1.23,-.42,2.46,-.99,3.93],["c",-.3,.72,-.72,1.62,-.78,1.68],["c",-.18,.21,-.51,.18,-.66,-.06],["c",-.03,-.06,-.06,-.15,-.06,-.18],["c",0,-.06,.12,-.33,.24,-.63],["c",.84,-1.8,1.02,-2.61,.69,-3.24],["c",-.12,-.24,-.27,-.36,-.75,-.6],["c",-.36,-.15,-.42,-.21,-.6,-.39],["c",-.69,-.69,-.69,-1.71,0,-2.4],["c",.21,-.21,.51,-.39,.81,-.45],["z"]],w:3.452,h:8.143},"-":{d:[["M",.18,-5.34],["c",.09,-.06,.15,-.06,2.31,-.06],["c",2.46,0,2.37,0,2.46,.21],["c",.12,.21,.03,.42,-.15,.54],["c",-.09,.06,-.15,.06,-2.28,.06],["c",-2.16,0,-2.22,0,-2.31,-.06],["c",-.27,-.15,-.27,-.54,-.03,-.69],["z"]],w:5.001,h:.81},".":{d:[["M",1.32,-3.36],["c",1.05,-.27,2.1,.57,2.1,1.65],["c",0,1.08,-1.05,1.92,-2.1,1.65],["c",-.9,-.21,-1.5,-1.14,-1.26,-2.04],["c",.12,-.63,.63,-1.11,1.26,-1.26],["z"]],w:3.413,h:3.402},"scripts.wedge":{d:[["M",-3.66,-7.44],["c",.06,-.09,0,-.09,.81,.03],["c",1.86,.3,3.84,.3,5.73,0],["c",.78,-.12,.72,-.12,.78,-.03],["c",.15,.15,.12,.24,-.24,.6],["c",-.93,.93,-1.98,2.76,-2.67,4.62],["c",-.3,.78,-.51,1.71,-.51,2.13],["c",0,.15,0,.18,-.06,.27],["c",-.12,.09,-.24,.09,-.36,0],["c",-.06,-.09,-.06,-.12,-.06,-.27],["c",0,-.42,-.21,-1.35,-.51,-2.13],["c",-.69,-1.86,-1.74,-3.69,-2.67,-4.62],["c",-.36,-.36,-.39,-.45,-.24,-.6],["z"]],w:7.49,h:7.752},"scripts.thumb":{d:[["M",-.54,-3.69],["c",.15,-.03,.36,-.06,.51,-.06],["c",1.44,0,2.58,1.11,2.94,2.85],["c",.09,.48,.09,1.32,0,1.8],["c",-.27,1.41,-1.08,2.43,-2.16,2.73],["l",-.18,.06],["l",0,.12],["c",.03,.06,.06,.45,.09,.87],["c",.03,.57,.03,.78,0,.84],["c",-.09,.27,-.39,.48,-.66,.48],["c",-.27,0,-.57,-.21,-.66,-.48],["c",-.03,-.06,-.03,-.27,0,-.84],["c",.03,-.42,.06,-.81,.09,-.87],["l",0,-.12],["l",-.18,-.06],["c",-1.08,-.3,-1.89,-1.32,-2.16,-2.73],["c",-.09,-.48,-.09,-1.32,0,-1.8],["c",.15,-.84,.51,-1.53,1.02,-2.04],["c",.39,-.39,.84,-.63,1.35,-.75],["z"],["m",1.05,.9],["c",-.15,-.09,-.21,-.09,-.45,-.12],["c",-.15,0,-.3,.03,-.39,.03],["c",-.57,.18,-.9,.72,-1.08,1.74],["c",-.06,.48,-.06,1.8,0,2.28],["c",.15,.9,.42,1.44,.9,1.65],["c",.18,.09,.21,.09,.51,.09],["c",.3,0,.33,0,.51,-.09],["c",.48,-.21,.75,-.75,.9,-1.65],["c",.03,-.27,.03,-.54,.03,-1.14],["c",0,-.6,0,-.87,-.03,-1.14],["c",-.15,-.9,-.45,-1.44,-.9,-1.65],["z"]],w:5.955,h:9.75},"scripts.open":{d:[["M",-.54,-3.69],["c",.15,-.03,.36,-.06,.51,-.06],["c",1.44,0,2.58,1.11,2.94,2.85],["c",.09,.48,.09,1.32,0,1.8],["c",-.33,1.74,-1.47,2.85,-2.91,2.85],["c",-1.44,0,-2.58,-1.11,-2.91,-2.85],["c",-.09,-.48,-.09,-1.32,0,-1.8],["c",.15,-.84,.51,-1.53,1.02,-2.04],["c",.39,-.39,.84,-.63,1.35,-.75],["z"],["m",1.11,.9],["c",-.21,-.09,-.27,-.09,-.51,-.12],["c",-.3,0,-.42,.03,-.66,.15],["c",-.24,.12,-.51,.39,-.66,.63],["c",-.54,.93,-.63,2.64,-.21,3.81],["c",.21,.54,.51,.9,.93,1.11],["c",.21,.09,.24,.09,.54,.09],["c",.3,0,.33,0,.54,-.09],["c",.42,-.21,.72,-.57,.93,-1.11],["c",.36,-.99,.36,-2.37,0,-3.36],["c",-.21,-.54,-.51,-.9,-.9,-1.11],["z"]],w:5.955,h:7.5},"scripts.longphrase":{d:[["M",1.47,-15.09],["c",.36,-.09,.66,-.18,.69,-.18],["c",.06,0,.06,.54,.06,11.25],["l",0,11.25],["l",-.63,.15],["c",-.66,.18,-1.44,.39,-1.5,.39],["c",-.03,0,-.03,-3.39,-.03,-11.25],["l",0,-11.25],["l",.36,-.09],["c",.21,-.06,.66,-.18,1.05,-.27],["z"]],w:2.16,h:23.04},"scripts.mediumphrase":{d:[["M",1.47,-7.59],["c",.36,-.09,.66,-.18,.69,-.18],["c",.06,0,.06,.39,.06,7.5],["l",0,7.5],["l",-.63,.15],["c",-.66,.18,-1.44,.39,-1.5,.39],["c",-.03,0,-.03,-2.28,-.03,-7.5],["l",0,-7.5],["l",.36,-.09],["c",.21,-.06,.66,-.18,1.05,-.27],["z"]],w:2.16,h:15.54},"scripts.shortphrase":{d:[["M",1.47,-7.59],["c",.36,-.09,.66,-.18,.69,-.18],["c",.06,0,.06,.21,.06,3.75],["l",0,3.75],["l",-.42,.09],["c",-.57,.18,-1.65,.45,-1.71,.45],["c",-.03,0,-.03,-.72,-.03,-3.75],["l",0,-3.75],["l",.36,-.09],["c",.21,-.06,.66,-.18,1.05,-.27],["z"]],w:2.16,h:8.04},"scripts.snap":{d:[["M",4.5,-3.39],["c",.36,-.03,.96,-.03,1.35,0],["c",1.56,.15,3.15,.9,4.2,2.01],["c",.24,.27,.33,.42,.33,.6],["c",0,.27,.03,.24,-2.46,2.22],["c",-1.29,1.02,-2.4,1.86,-2.49,1.92],["c",-.18,.09,-.3,.09,-.48,0],["c",-.09,-.06,-1.2,-.9,-2.49,-1.92],["c",-2.49,-1.98,-2.46,-1.95,-2.46,-2.22],["c",0,-.18,.09,-.33,.33,-.6],["c",1.05,-1.08,2.64,-1.86,4.17,-2.01],["z"],["m",1.29,1.17],["c",-1.47,-.15,-2.97,.3,-4.14,1.2],["l",-.18,.15],["l",.06,.09],["c",.15,.12,3.63,2.85,3.66,2.85],["c",.03,0,3.51,-2.73,3.66,-2.85],["l",.06,-.09],["l",-.18,-.15],["c",-.84,-.66,-1.89,-1.08,-2.94,-1.2],["z"]],w:10.38,h:6.84}};glyphs$8["noteheads.slash.whole"]={d:[["M",5,-5],["l",1,1],["l",-5,5],["l",-1,-1],["z"],["m",4,6],["l",-5,-5],["l",2,-2],["l",5,5],["z"],["m",0,-2],["l",1,1],["l",-5,5],["l",-1,-1],["z"],["m",-4,6],["l",-5,-5],["l",2,-2],["l",5,5],["z"]],w:10.81,h:15.63};glyphs$8["noteheads.slash.quarter"]={d:[["M",9,-6],["l",0,4],["l",-9,9],["l",0,-4],["z"]],w:9,h:9};glyphs$8["noteheads.harmonic.quarter"]={d:[["M",3.63,-4.02],["c",.09,-.06,.18,-.09,.24,-.03],["c",.03,.03,.87,.93,1.83,2.01],["c",1.5,1.65,1.8,1.98,1.8,2.04],["c",0,.06,-.3,.39,-1.8,2.04],["c",-.96,1.08,-1.8,1.98,-1.83,2.01],["c",-.06,.06,-.15,.03,-.24,-.03],["c",-.12,-.09,-3.54,-3.84,-3.6,-3.93],["c",-.03,-.03,-.03,-.09,-.03,-.15],["c",.03,-.06,3.45,-3.84,3.63,-3.96],["z"]],w:7.5,h:8.165};glyphs$8["noteheads.triangle.quarter"]={d:[["M",0,4],["l",9,0],["l",-4.5,-9],["z"]],w:9,h:9};var pathClone=function(_e){for(var et=[],tt=0,nt=_e.length;tt<nt;tt++){et[tt]=[];for(var rt=0,it=_e[tt].length;rt<it;rt++)et[tt][rt]=_e[tt][rt]}return et},pathScale=function(_e,et,tt){for(var nt=0,rt=_e.length;nt<rt;nt++){var it=_e[nt],ot,st;for(ot=1,st=it.length;ot<st;ot++)it[ot]*=ot%2?et:tt}},Glyphs={printSymbol:function(_e,et,tt,nt,rt){if(!glyphs$8[tt])return null;var it=pathClone(glyphs$8[tt].d);it[0][1]+=_e,it[0][2]+=et;for(var ot="",st=0;st<it.length;st++)ot+=it[st].join(" ");return rt.path=ot,nt.path(rt)},getPathForSymbol:function(_e,et,tt,nt,rt){if(nt=nt||1,rt=rt||1,!glyphs$8[tt])return null;var it=pathClone(glyphs$8[tt].d);return(nt!==1||rt!==1)&&pathScale(it,nt,rt),it[0][1]+=_e,it[0][2]+=et,it},getSymbolWidth:function(_e){return glyphs$8[_e]?glyphs$8[_e].w:0},symbolHeightInPitches:function(_e){var et=glyphs$8[_e]?glyphs$8[_e].h:0;return et/spacing$b.STEP},getSymbolAlign:function(_e){return _e.substring(0,7)==="scripts"&&_e!=="scripts.roll"?"center":"left"},getYCorr:function(_e){switch(_e){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":return-2;case"timesig.common":case"timesig.cut":return 0;case"flags.d32nd":return-1;case"flags.d64th":return-2;case"flags.u32nd":return 1;case"flags.u64th":return 3;case"rests.whole":return 1;case"rests.half":return-1;case"rests.8th":return-1;case"rests.quarter":return-1;case"rests.16th":return-1;case"rests.32nd":return-1;case"rests.64th":return-1;case"f":case"m":case"p":case"s":case"z":return-4;case"scripts.trill":case"scripts.upbow":case"scripts.downbow":return-2;case"scripts.ufermata":case"scripts.wedge":case"scripts.roll":case"scripts.shortphrase":case"scripts.longphrase":return-1;case"scripts.dfermata":return 1;default:return 0}},setSymbol:function(_e,et){glyphs$8[_e]=et}},glyphs_1=Glyphs,AbsoluteElement$4=absoluteElement,glyphs$7=glyphs_1,RelativeElement$8=relativeElement,createClef$1=function(_e,et){var tt,nt=0;_e.el_type="clef";var rt=new AbsoluteElement$4(_e,0,10,"staff-extra clef",et);switch(rt.isClef=!0,_e.type){case"treble":tt="clefs.G";break;case"tenor":tt="clefs.C";break;case"alto":tt="clefs.C";break;case"bass":tt="clefs.F";break;case"treble+8":tt="clefs.G",nt=1;break;case"tenor+8":tt="clefs.C",nt=1;break;case"bass+8":tt="clefs.F",nt=1;break;case"alto+8":tt="clefs.C",nt=1;break;case"treble-8":tt="clefs.G",nt=-1;break;case"tenor-8":tt="clefs.C",nt=-1;break;case"bass-8":tt="clefs.F",nt=-1;break;case"alto-8":tt="clefs.C",nt=-1;break;case"none":return null;case"perc":tt="clefs.perc";break;default:rt.addFixed(new RelativeElement$8("clef="+_e.type,0,0,void 0,{type:"debug"}))}var it=5;if(tt){var ot=glyphs$7.symbolHeightInPitches(tt),st=clefOffsets(tt);if(rt.addRight(new RelativeElement$8(tt,it,glyphs$7.getSymbolWidth(tt),_e.clefPos,{top:ot+_e.clefPos+st,bottom:_e.clefPos+st})),nt!==0){var ut=.6666666666666666,ft=(glyphs$7.getSymbolWidth(tt)-glyphs$7.getSymbolWidth("8")*ut)/2,dt=nt>0?rt.top+3:rt.bottom-1,lt=nt>0?rt.top+3:rt.bottom-3,at=lt-2;_e.type==="bass-8"&&(dt=3,ft=0),rt.addRight(new RelativeElement$8("8",it+ft,glyphs$7.getSymbolWidth("8")*ut,dt,{scalex:ut,scaley:ut,top:lt,bottom:at}))}}return rt};function clefOffsets(_e){switch(_e){case"clefs.G":return-5;case"clefs.C":return-4;case"clefs.F":return-4;case"clefs.perc":return-2;default:return 0}}var createClef_1=createClef$1,AbsoluteElement$3=absoluteElement,glyphs$6=glyphs_1,RelativeElement$7=relativeElement,createKeySignature$1=function(_e,et){if(_e.el_type="keySignature",!_e.accidentals||_e.accidentals.length===0)return null;var tt=new AbsoluteElement$3(_e,0,10,"staff-extra key-signature",et);tt.isKeySig=!0;var nt=0;return _e.accidentals.forEach(function(rt){var it,ot=0;switch(rt.acc){case"sharp":it="accidentals.sharp",ot=-3;break;case"natural":it="accidentals.nat";break;case"flat":it="accidentals.flat",ot=-1.2;break;case"quartersharp":it="accidentals.halfsharp",ot=-2.5;break;case"quarterflat":it="accidentals.halfflat",ot=-1.2;break;default:it="accidentals.flat"}tt.addRight(new RelativeElement$7(it,nt,glyphs$6.getSymbolWidth(it),rt.verticalPos,{thickness:glyphs$6.symbolHeightInPitches(it),top:rt.verticalPos+glyphs$6.symbolHeightInPitches(it)+ot,bottom:rt.verticalPos+ot})),nt+=glyphs$6.getSymbolWidth(it)+2},this),tt},createKeySignature_1=createKeySignature$1,glyphs$5=glyphs_1,RelativeElement$6=relativeElement,createNoteHead$1=function(_e,et,tt,nt){nt||(nt={});var rt=nt.dir!==void 0?nt.dir:null,it=nt.headx!==void 0?nt.headx:0,ot=nt.extrax!==void 0?nt.extrax:0,st=nt.flag!==void 0?nt.flag:null,ut=nt.dot!==void 0?nt.dot:0,ft=nt.dotshiftx!==void 0?nt.dotshiftx:0,dt=nt.scale!==void 0?nt.scale:1,lt=nt.accidentalSlot!==void 0?nt.accidentalSlot:[],at=nt.shouldExtendStem!==void 0?nt.shouldExtendStem:!1,ct=nt.printAccidentals!==void 0?nt.printAccidentals:!0,ht=tt.verticalPos,pt,mt=0,gt=0,yt=0;if(et===void 0)_e.addFixed(new RelativeElement$6("pitch is undefined",0,0,0,{type:"debug"}));else if(et==="")pt=new RelativeElement$6(null,0,0,ht);else{var bt=it;if(tt.printer_shift){var xt=tt.printer_shift==="same"?1:0;bt=rt==="down"?-glyphs$5.getSymbolWidth(et)*dt+xt:glyphs$5.getSymbolWidth(et)*dt-xt}var vt={scalex:dt,scaley:dt,thickness:glyphs$5.symbolHeightInPitches(et)*dt,name:tt.name};if(pt=new RelativeElement$6(et,bt,glyphs$5.getSymbolWidth(et)*dt,ht,vt),pt.stemDir=rt,st){var wt=ht+(rt==="down"?-7:7)*dt;at&&(rt==="down"&&wt>6&&(wt=6),rt==="up"&&wt<6&&(wt=6));var _t=rt==="down"?it:it+pt.w-.6;_e.addRight(new RelativeElement$6(st,_t,glyphs$5.getSymbolWidth(st)*dt,wt,{scalex:dt,scaley:dt}))}for(gt=pt.w+ft-2+5*ut;ut>0;ut--){var Ct=1-Math.abs(ht)%2;_e.addRight(new RelativeElement$6("dots.dot",pt.w+ft-2+5*ut,glyphs$5.getSymbolWidth("dots.dot"),ht+Ct))}}if(pt&&(pt.highestVert=tt.highestVert),ct&&tt.accidental){var Et;switch(tt.accidental){case"quartersharp":Et="accidentals.halfsharp";break;case"dblsharp":Et="accidentals.dblsharp";break;case"sharp":Et="accidentals.sharp";break;case"quarterflat":Et="accidentals.halfflat";break;case"flat":Et="accidentals.flat";break;case"dblflat":Et="accidentals.dblflat";break;case"natural":Et="accidentals.nat"}for(var $t=!1,jt=ot,Dt=0;Dt<lt.length;Dt++)if(ht-lt[Dt][0]>=6){lt[Dt][0]=ht,jt=lt[Dt][1],$t=!0;break}$t===!1&&(jt-=glyphs$5.getSymbolWidth(Et)*dt+2,lt.push([ht,jt]),mt=glyphs$5.getSymbolWidth(Et)*dt+2);var Pt=glyphs$5.symbolHeightInPitches(Et);_e.addExtra(new RelativeElement$6(Et,jt,glyphs$5.getSymbolWidth(Et),ht,{scalex:dt,scaley:dt,top:ht+Pt/2,bottom:ht-Pt/2})),yt=glyphs$5.getSymbolWidth(Et)/2}return{notehead:pt,accidentalshiftx:mt,dotshiftx:gt,extraLeft:yt}},createNoteHead_1=createNoteHead$1,AbsoluteElement$2=absoluteElement,glyphs$4=glyphs_1,RelativeElement$5=relativeElement,createTimeSignature$1=function(_e,et){_e.el_type="timeSignature";var tt=new AbsoluteElement$2(_e,0,10,"staff-extra time-signature",et);if(_e.type==="specified")for(var nt=0,rt=0;rt<_e.value.length;rt++)if(rt!==0&&(tt.addRight(new RelativeElement$5("+",nt+1,glyphs$4.getSymbolWidth("+"),6,{thickness:glyphs$4.symbolHeightInPitches("+")})),nt+=glyphs$4.getSymbolWidth("+")+2),_e.value[rt].den){for(var it=0,ot=0;ot<_e.value[rt].num.length;ot++)it+=glyphs$4.getSymbolWidth(_e.value[rt].num[ot]);var st=0;for(ot=0;ot<_e.value[rt].num.length;ot++)st+=glyphs$4.getSymbolWidth(_e.value[rt].den[ot]);var ut=Math.max(it,st);tt.addRight(new RelativeElement$5(_e.value[rt].num,nt+(ut-it)/2,it,8,{thickness:glyphs$4.symbolHeightInPitches(_e.value[rt].num[0])})),tt.addRight(new RelativeElement$5(_e.value[rt].den,nt+(ut-st)/2,st,4,{thickness:glyphs$4.symbolHeightInPitches(_e.value[rt].den[0])})),nt+=ut}else{for(var ft=0,dt=0;dt<_e.value[rt].num.length;dt++)ft+=glyphs$4.getSymbolWidth(_e.value[rt].num[dt]);tt.addRight(new RelativeElement$5(_e.value[rt].num,nt,ft,6,{thickness:glyphs$4.symbolHeightInPitches(_e.value[rt].num[0])})),nt+=ft}else _e.type==="common_time"?tt.addRight(new RelativeElement$5("timesig.common",0,glyphs$4.getSymbolWidth("timesig.common"),6,{thickness:glyphs$4.symbolHeightInPitches("timesig.common")})):_e.type==="cut_time"?tt.addRight(new RelativeElement$5("timesig.cut",0,glyphs$4.getSymbolWidth("timesig.cut"),6,{thickness:glyphs$4.symbolHeightInPitches("timesig.cut")})):_e.type==="tempus_imperfectum"?tt.addRight(new RelativeElement$5("timesig.imperfectum",0,glyphs$4.getSymbolWidth("timesig.imperfectum"),6,{thickness:glyphs$4.symbolHeightInPitches("timesig.imperfectum")})):_e.type==="tempus_imperfectum_prolatio"?tt.addRight(new RelativeElement$5("timesig.imperfectum2",0,glyphs$4.getSymbolWidth("timesig.imperfectum2"),6,{thickness:glyphs$4.symbolHeightInPitches("timesig.imperfectum2")})):_e.type==="tempus_perfectum"?tt.addRight(new RelativeElement$5("timesig.perfectum",0,glyphs$4.getSymbolWidth("timesig.perfectum"),6,{thickness:glyphs$4.symbolHeightInPitches("timesig.perfectum")})):_e.type==="tempus_perfectum_prolatio"?tt.addRight(new RelativeElement$5("timesig.perfectum2",0,glyphs$4.getSymbolWidth("timesig.perfectum2"),6,{thickness:glyphs$4.symbolHeightInPitches("timesig.perfectum2")})):console.log("time signature:",_e);return tt},createTimeSignature_1=createTimeSignature$1,DynamicDecoration$1=function _e(et,tt,nt){this.type="DynamicDecoration",this.anchor=et,this.dec=tt,nt==="below"?this.volumeHeightBelow=6:this.volumeHeightAbove=6,this.pitch=void 0},dynamicDecoration=DynamicDecoration$1,CrescendoElem$1=function _e(et,tt,nt,rt){this.type="CrescendoElem",this.anchor1=et,this.anchor2=tt,this.dir=nt,rt==="above"?this.dynamicHeightAbove=6:this.dynamicHeightBelow=6,this.pitch=void 0},crescendoElement=CrescendoElem$1,GlissandoElem$1=function _e(et,tt){this.type="GlissandoElem",this.anchor1=et,this.anchor2=tt},glissandoElement=GlissandoElem$1,TieElem$2=function _e(et){this.type="TieElem",this.anchor1=et.anchor1,this.anchor2=et.anchor2,et.isGrace&&(this.isGrace=!0),et.fixedY&&(this.fixedY=!0),et.stemDir&&(this.stemDir=et.stemDir),et.voiceNumber!==void 0&&(this.voiceNumber=et.voiceNumber),et.style!==void 0&&(this.dotted=!0),this.internalNotes=[]};TieElem$2.prototype.addInternalNote=function(_e){this.internalNotes.push(_e)};TieElem$2.prototype.setEndAnchor=function(_e){this.anchor2=_e,this.anchor1?(this.top=Math.max(this.anchor1.pitch,this.anchor2.pitch)+4,this.bottom=Math.min(this.anchor1.pitch,this.anchor2.pitch)-4):(this.top=this.anchor2.pitch+4,this.bottom=this.anchor2.pitch-4)};TieElem$2.prototype.setStartX=function(_e){this.startLimitX=_e};TieElem$2.prototype.setEndX=function(_e){this.endLimitX=_e};TieElem$2.prototype.setHint=function(){this.hint=!0};TieElem$2.prototype.calcTieDirection=function(){if(this.isGrace)this.above=!1;else if(this.voiceNumber===0)this.above=!0;else if(this.voiceNumber>0)this.above=!1;else{var _e;this.anchor1?_e=this.anchor1.pitch:this.anchor2?_e=this.anchor2.pitch:_e=14,this.anchor1&&this.anchor1.stemDir==="down"&&this.anchor2&&this.anchor2.stemDir==="down"?this.above=!0:this.anchor1&&this.anchor1.stemDir==="up"&&this.anchor2&&this.anchor2.stemDir==="up"?this.above=!1:this.anchor1&&this.anchor2?this.above=_e>=6:this.anchor1?this.above=this.anchor1.stemDir==="down":this.anchor2?this.above=this.anchor2.stemDir==="down":this.above=_e>=6}};TieElem$2.prototype.calcSlurDirection=function(){if(this.isGrace)this.above=!1;else if(this.voiceNumber===0)this.above=!0;else if(this.voiceNumber>0)this.above=!1;else{var _e=!1;this.anchor1&&this.anchor1.stemDir==="down"&&(_e=!0),this.anchor2&&this.anchor2.stemDir==="down"&&(_e=!0);for(var et=0;et<this.internalNotes.length;et++){var tt=this.internalNotes[et];tt.stemDir==="down"&&(_e=!0)}this.above=_e}};TieElem$2.prototype.calcX=function(_e,et){this.anchor1?(this.startX=this.anchor1.x,this.anchor1.scalex<1&&(this.startX-=3)):this.startLimitX?this.startX=this.startLimitX.x+this.startLimitX.w:this.anchor2?this.startX=this.anchor2.x-20:this.startX=_e,!this.anchor1&&this.dotted&&(this.startX-=3),this.anchor2?this.endX=this.anchor2.x:this.endLimitX?this.endX=this.endLimitX.x:this.endX=et};TieElem$2.prototype.calcTieY=function(){this.anchor1?this.startY=this.anchor1.pitch:this.anchor2?this.startY=this.anchor2.pitch:this.startY=this.above?14:0,this.anchor2?this.endY=this.anchor2.pitch:this.anchor1?this.endY=this.anchor1.pitch:this.endY=this.above?14:0};TieElem$2.prototype.calcSlurY=function(){if(this.anchor1&&this.anchor2){this.above&&this.anchor1.stemDir==="up"&&!this.fixedY?(this.startY=(this.anchor1.highestVert+this.anchor1.pitch)/2,this.startX+=this.anchor1.w/2):this.startY=this.anchor1.pitch;var _e=this.anchor2.parent.beam&&this.anchor2.parent.beam.stemsUp&&this.anchor2.parent.beam.elems[0]!==this.anchor2.parent,et=(this.anchor2.highestVert+this.anchor2.pitch)/2;this.above&&this.anchor2.stemDir==="up"&&!this.fixedY&&!_e&&et<this.startY?(this.endY=et,this.endX+=Math.round(this.anchor2.w/2)):this.endY=this.above&&_e?this.anchor2.highestVert:this.anchor2.pitch}else this.anchor1?this.startY=this.endY=this.anchor1.pitch:this.anchor2?this.startY=this.endY=this.anchor2.pitch:(this.startY=this.above?14:0,this.endY=this.above?14:0)};TieElem$2.prototype.avoidCollisionAbove=function(){if(this.above){for(var _e=-50,et=0;et<this.internalNotes.length;et++)this.internalNotes[et].highestVert>_e&&(_e=this.internalNotes[et].highestVert);_e>this.startY&&_e>this.endY&&(this.startY=this.endY=_e-1)}};var tieElement=TieElem$2,DynamicDecoration=dynamicDecoration,CrescendoElem=crescendoElement,GlissandoElem=glissandoElement,glyphs$3=glyphs_1,RelativeElement$4=relativeElement,TieElem$1=tieElement,Decoration$1=function _e(){this.startDiminuendoX=void 0,this.startCrescendoX=void 0,this.minTop=12,this.minBottom=0},closeDecoration=function(_e,et,tt,nt,rt,it,ot,st,ut){for(var ft,dt=0;dt<et.length;dt++){if(et[dt]==="staccato"||et[dt]==="tenuto"||et[dt]==="accent"&&!ut){var lt="scripts."+et[dt];if(et[dt]==="accent"&&(lt="scripts.sforzato"),ft===void 0?ft=ot==="down"?tt+2:st-2:ft=ot==="down"?ft+2:ft-2,et[dt]==="accent")ot==="up"?ft--:ft++;else switch(ft){case 2:case 4:case 6:case 8:case 10:ot==="up"?ft--:ft++;break}tt>9&&ft++;var at=nt/2;glyphs$3.getSymbolAlign(lt)!=="center"&&(at-=glyphs$3.getSymbolWidth(lt)/2),rt.addFixedX(new RelativeElement$4(lt,at,glyphs$3.getSymbolWidth(lt),ft))}if(et[dt]==="slide"&&rt.heads[0]){var ct=rt.heads[0].pitch;ct-=2;var ht=new RelativeElement$4("",-it-15,0,ct-1),pt=new RelativeElement$4("",-it-5,0,ct+1);rt.addFixedX(ht),rt.addFixedX(pt),_e.addOther(new TieElem$1({anchor1:ht,anchor2:pt,fixedY:!0}))}}return ft===void 0&&(ft=tt),{above:ft,below:rt.bottom}},volumeDecoration=function(_e,et,tt,nt){for(var rt=0;rt<et.length;rt++)switch(et[rt]){case"p":case"mp":case"pp":case"ppp":case"pppp":case"f":case"ff":case"fff":case"ffff":case"sfz":case"mf":var it=new DynamicDecoration(tt,et[rt],nt);_e.addOther(it)}},compoundDecoration=function(_e,et,tt,nt,rt){function it(){if(nt.heads.length===0)return 10;for(var ft=nt.heads[0].pitch,dt=1;dt<nt.heads.length;dt++)ft=Math.max(ft,nt.heads[dt].pitch);return ft}function ot(){if(nt.heads.length===0)return 2;for(var ft=nt.heads[0].pitch,dt=1;dt<nt.heads.length;dt++)ft=Math.min(ft,nt.heads[dt].pitch);return ft}function st(ft,dt){var lt=rt==="down"?ot()+1:it()+9;rt!=="down"&&dt===1&&lt--;var at=tt/2;at+=rt==="down"?-5:3;for(var ct=0;ct<dt;ct++)lt-=1,nt.addFixedX(new RelativeElement$4(ft,at,glyphs$3.getSymbolWidth(ft),lt))}for(var ut=0;ut<_e.length;ut++)switch(_e[ut]){case"/":st("flags.ugrace",1);break;case"//":st("flags.ugrace",2);break;case"///":st("flags.ugrace",3);break;case"////":st("flags.ugrace",4);break}},stackedDecoration=function(_e,et,tt,nt,rt,it,ot,st){function ut(pt,mt){pt==="above"?nt.above+=mt:nt.below-=mt}function ft(pt){var mt;return pt==="above"?(mt=nt.above,mt<it&&(mt=it)):(mt=nt.below,mt>ot&&(mt=ot)),mt}function dt(pt,mt,gt){var yt=ft(mt),bt=2,xt=5;tt.addFixedX(new RelativeElement$4(pt,et/2,0,yt+bt,{type:"decoration",klass:"ornament",thickness:3,anchor:gt})),ut(mt,xt)}function lt(pt,mt){var gt=et/2;glyphs$3.getSymbolAlign(pt)!=="center"&&(gt-=glyphs$3.getSymbolWidth(pt)/2);var yt=glyphs$3.symbolHeightInPitches(pt)+1,bt=ft(mt);bt=mt==="above"?bt+yt/2:bt-yt/2,tt.addFixedX(new RelativeElement$4(pt,gt,glyphs$3.getSymbolWidth(pt),bt,{klass:"ornament",thickness:glyphs$3.symbolHeightInPitches(pt)})),ut(mt,yt)}for(var at={"+":"scripts.stopped",open:"scripts.open",snap:"scripts.snap",wedge:"scripts.wedge",thumb:"scripts.thumb",shortphrase:"scripts.shortphrase",mediumphrase:"scripts.mediumphrase",longphrase:"scripts.longphrase",trill:"scripts.trill",roll:"scripts.roll",irishroll:"scripts.roll",marcato:"scripts.umarcato",dmarcato:"scripts.dmarcato",umarcato:"scripts.umarcato",turn:"scripts.turn",uppermordent:"scripts.prall",pralltriller:"scripts.prall",mordent:"scripts.mordent",lowermordent:"scripts.mordent",downbow:"scripts.downbow",upbow:"scripts.upbow",fermata:"scripts.ufermata",invertedfermata:"scripts.dfermata",breath:",",coda:"scripts.coda",segno:"scripts.segno"},ct=!1,ht=0;ht<_e.length;ht++)switch(_e[ht]){case"0":case"1":case"2":case"3":case"4":case"5":case"D.C.":case"D.S.":dt(_e[ht],rt,"middle"),ct=!0;break;case"D.C.alcoda":dt("D.C. al coda",rt,"end"),ct=!0;break;case"D.C.alfine":dt("D.C. al fine",rt,"end"),ct=!0;break;case"D.S.alcoda":dt("D.S. al coda",rt,"end"),ct=!0;break;case"D.S.alfine":dt("D.S. al fine",rt,"end"),ct=!0;break;case"fine":dt("FINE",rt,"middle"),ct=!0;break;case"+":case"open":case"snap":case"wedge":case"thumb":case"shortphrase":case"mediumphrase":case"longphrase":case"trill":case"roll":case"irishroll":case"marcato":case"dmarcato":case"turn":case"uppermordent":case"pralltriller":case"mordent":case"lowermordent":case"downbow":case"upbow":case"fermata":case"breath":case"umarcato":case"coda":case"segno":lt(at[_e[ht]],rt),ct=!0;break;case"invertedfermata":lt(at[_e[ht]],"below"),ct=!0;break;case"mark":tt.klass="mark";break;case"accent":st&&(lt("scripts.sforzato",rt),ct=!0);break}return ct};function leftDecoration(_e,et,tt){for(var nt=0;nt<_e.length;nt++)switch(_e[nt]){case"arpeggio":for(var rt=et.abcelem.minpitch-1;rt<=et.abcelem.maxpitch;rt+=2)et.addExtra(new RelativeElement$4("scripts.arpeggio",-glyphs$3.getSymbolWidth("scripts.arpeggio")*2-tt,0,rt+2,{klass:"ornament",thickness:glyphs$3.symbolHeightInPitches("scripts.arpeggio")}));break}}Decoration$1.prototype.dynamicDecoration=function(_e,et,tt,nt){for(var rt,it,ot,st=0;st<et.length;st++)switch(et[st]){case"diminuendo(":this.startDiminuendoX=tt,rt=void 0;break;case"diminuendo)":rt={start:this.startDiminuendoX,stop:tt},this.startDiminuendoX=void 0;break;case"crescendo(":this.startCrescendoX=tt,it=void 0;break;case"crescendo)":it={start:this.startCrescendoX,stop:tt},this.startCrescendoX=void 0;break;case"~(":case"glissando(":this.startGlissandoX=tt,ot=void 0;break;case"~)":case"glissando)":ot={start:this.startGlissandoX,stop:tt},this.startGlissandoX=void 0;break}rt&&_e.addOther(new CrescendoElem(rt.start,rt.stop,">",nt)),it&&_e.addOther(new CrescendoElem(it.start,it.stop,"<",nt)),ot&&_e.addOther(new GlissandoElem(ot.start,ot.stop))};Decoration$1.prototype.createDecoration=function(_e,et,tt,nt,rt,it,ot,st,ut,ft,dt){ut||(ut={ornamentPosition:"above",volumePosition:ft?"above":"below",dynamicPosition:ft?"above":"below"}),volumeDecoration(_e,et,rt,ut.volumePosition),this.dynamicDecoration(_e,et,rt,ut.dynamicPosition),compoundDecoration(et,tt,nt,rt,ot);var lt=closeDecoration(_e,et,tt,nt,rt,it,ot,st,dt);lt.above=Math.max(lt.above,this.minTop),stackedDecoration(et,nt,rt,lt,ut.ornamentPosition,this.minTop,this.minBottom,dt),leftDecoration(et,rt,it)};var decoration=Decoration$1,EndingElem$1=function _e(et,tt,nt){this.type="EndingElem",this.text=et,this.anchor1=tt,this.anchor2=nt,this.endingHeightAbove=5,this.pitch=void 0},endingElement=EndingElem$1,calcHeight$1=function(_e){for(var et=0,tt=0;tt<_e.voices.length;tt++){var nt=_e.voices[tt].staff;_e.voices[tt].duplicate||(et+=nt.top,et+=-nt.bottom)}return et},calcHeight_1=calcHeight$1,calcHeight=calcHeight_1,StaffGroupElement$1=function(_e){this.getTextSize=_e,this.voices=[],this.staffs=[],this.brace=void 0,this.bracket=void 0};StaffGroupElement$1.prototype.setLimit=function(_e,et){et.specialY[_e]&&(et.staff.specialY[_e]?et.staff.specialY[_e]=Math.max(et.staff.specialY[_e],et.specialY[_e]):et.staff.specialY[_e]=et.specialY[_e])};StaffGroupElement$1.prototype.addVoice=function(_e,et,tt){var nt=this.voices.length;this.voices[nt]=_e,this.staffs[et]?this.staffs[et].voices.push(nt):this.staffs[this.staffs.length]={top:10,bottom:2,lines:tt,voices:[nt],specialY:{tempoHeightAbove:0,partHeightAbove:0,volumeHeightAbove:0,dynamicHeightAbove:0,endingHeightAbove:0,chordHeightAbove:0,lyricHeightAbove:0,lyricHeightBelow:0,chordHeightBelow:0,volumeHeightBelow:0,dynamicHeightBelow:0}},_e.staff=this.staffs[et]};StaffGroupElement$1.prototype.setHeight=function(){this.height=calcHeight(this)};StaffGroupElement$1.prototype.setWidth=function(_e){this.w=_e;for(var et=0;et<this.voices.length;et++)this.voices[et].setWidth(_e)};StaffGroupElement$1.prototype.setStaffLimits=function(_e){_e.staff.top=Math.max(_e.staff.top,_e.top),_e.staff.bottom=Math.min(_e.staff.bottom,_e.bottom),this.setLimit("tempoHeightAbove",_e),this.setLimit("partHeightAbove",_e),this.setLimit("volumeHeightAbove",_e),this.setLimit("dynamicHeightAbove",_e),this.setLimit("endingHeightAbove",_e),this.setLimit("chordHeightAbove",_e),this.setLimit("lyricHeightAbove",_e),this.setLimit("lyricHeightBelow",_e),this.setLimit("chordHeightBelow",_e),this.setLimit("volumeHeightBelow",_e),this.setLimit("dynamicHeightBelow",_e)};var staffGroupElement=StaffGroupElement$1,AbsoluteElement$1=absoluteElement,RelativeElement$3=relativeElement,TempoElement$1=function _e(et,tt,nt){this.type="TempoElement",this.tempo=et,this.tempo.type="tempo",this.tuneNumber=tt,this.totalHeightInPitches=6,this.tempoHeightAbove=this.totalHeightInPitches,this.pitch=void 0,this.tempo.duration&&!this.tempo.suppressBpm&&(this.note=this.createNote(nt,et,tt))};TempoElement$1.prototype.setX=function(_e){this.x=_e};TempoElement$1.prototype.createNote=function(_e,et,tt){var nt=.75,rt=et.duration[0],it=new AbsoluteElement$1(et,rt,1,"tempo",tt),ot,st,ut;rt<=1/32?(ut="noteheads.quarter",st="flags.u32nd",ot=0):rt<=1/16?(ut="noteheads.quarter",st="flags.u16th",ot=0):rt<=3/32?(ut="noteheads.quarter",st="flags.u16nd",ot=1):rt<=1/8?(ut="noteheads.quarter",st="flags.u8th",ot=0):rt<=3/16?(ut="noteheads.quarter",st="flags.u8th",ot=1):rt<=1/4?(ut="noteheads.quarter",ot=0):rt<=3/8?(ut="noteheads.quarter",ot=1):rt<=1/2?(ut="noteheads.half",ot=0):rt<=3/4?(ut="noteheads.half",ot=1):rt<=1?(ut="noteheads.whole",ot=0):rt<=1.5?(ut="noteheads.whole",ot=1):rt<=2?(ut="noteheads.dbl",ot=0):(ut="noteheads.dbl",ot=1);var ft=_e(it,ut,{verticalPos:0},{dir:"up",flag:st,dot:ot,scale:nt}),dt=ft.notehead;it.addHead(dt);var lt;if(ut!=="noteheads.whole"&&ut!=="noteheads.dbl"){var at=.3333333333333333*nt,ct=5*nt,ht=dt.dx+dt.w,pt=-.6;lt=new RelativeElement$3(null,ht,0,at,{type:"stem",pitch2:ct,linewidth:pt}),it.addRight(lt)}return it};var tempoElement=TempoElement$1,TripletElem$1=function _e(et,tt,nt){this.type="TripletElem",this.anchor1=tt,this.number=et,this.durationClass=("d"+Math.round(tt.parent.durationClass*1e3)/1e3).replace(/\./,"-"),this.middleElems=[],this.flatBeams=nt.flatBeams};TripletElem$1.prototype.isClosed=function(){return!!this.anchor2};TripletElem$1.prototype.middleNote=function(_e){this.middleElems.push(_e)};TripletElem$1.prototype.setCloseAnchor=function(_e){this.anchor2=_e,(!this.anchor1.parent.beam||this.anchor1.stemDir==="up")&&(this.endingHeightAbove=4)};var tripletElement=TripletElem$1;function germanNote(_e){switch(_e){case"B#":return"H#";case"B":return"H";case"B":return"H";case"Bb":return"B";case"B":return"B"}return _e}function translateChord$1(_e,et,tt){var nt=_e.split(`
`);for(let rt=0;rt<nt.length;rt++){let ot=nt[rt].match(/^([ABCDEFG][]?)?([^\/]+)?(\/([ABCDEFG][#b]?))?/);if(!ot)continue;let st=ot[1]||"",ut=ot[2]||"",ft=ot[4]||"";tt&&(st=germanNote(st),ft=germanNote(ft));const dt=et?"":"",lt=ft?"/"+ft:"";nt[rt]=[st,ut,lt].join(dt)}return nt.join(`
`)}var translateChord_1=translateChord$1,RelativeElement$2=relativeElement,spacing$a=spacing_1;const translateChord=translateChord_1;var addChord$1=function(_e,et,tt,nt,rt,it,ot,st){for(var ut=0;ut<tt.chord.length;ut++){var ft=tt.chord[ut].position,dt=tt.chord[ut].rel_position,lt=ft==="left"||ft==="right"||ft==="below"||ft==="above"||!!dt,at,ct;lt?(at="annotationfont",ct="abcjs-annotation"):(at="gchordfont",ct="abcjs-chord");var ht=_e.attr(at,ct),pt=tt.chord[ut].name,mt;if(typeof pt=="string")mt=chordString(pt,ft,dt,lt,at,ct,ht,_e,et,tt,nt,rt,it,ot,st),nt=mt.roomTaken,rt=mt.roomTakenRight;else for(var gt=0;gt<pt.length;gt++)mt=chordString(pt[gt].text,ft,dt,lt,at,ct,ht,_e,et,tt,nt,rt,it,ot,st),nt=mt.roomTaken,rt=mt.roomTakenRight}return{roomTaken:nt,roomTakenRight:rt}};function chordString(_e,et,tt,nt,rt,it,ot,st,ut,ft,dt,lt,at,ct,ht){for(var pt=_e.split(`
`),mt=pt.length-1;mt>=0;mt--){var gt=pt[mt],yt=0,bt;nt||(gt=translateChord(gt,ct,ht));var xt=st.calc(gt,rt,it),vt=xt.width,wt=xt.height/spacing$a.STEP;switch(et){case"left":dt+=vt+7,yt=-dt,bt=ft.averagepitch,ut.addExtra(new RelativeElement$2(gt,yt,vt+4,bt,{type:"text",height:wt,dim:ot,position:"left"}));break;case"right":lt+=4,yt=lt,bt=ft.averagepitch,ut.addRight(new RelativeElement$2(gt,yt,vt+4,bt,{type:"text",height:wt,dim:ot,position:"right"}));break;case"below":ut.addRight(new RelativeElement$2(gt,0,0,void 0,{type:"text",position:"below",height:wt,dim:ot,realWidth:vt}));break;case"above":ut.addRight(new RelativeElement$2(gt,0,0,void 0,{type:"text",position:"above",height:wt,dim:ot,realWidth:vt}));break;default:if(tt){var _t=tt.y+3*spacing$a.STEP;ut.addRight(new RelativeElement$2(gt,yt+tt.x,0,ft.minpitch+_t/spacing$a.STEP,{position:"relative",type:"text",height:wt,dim:ot}))}else{var Ct="above";ft.positioning&&ft.positioning.chordPosition&&(Ct=ft.positioning.chordPosition),Ct!=="hidden"&&ut.addCentered(new RelativeElement$2(gt,at/2,vt,void 0,{type:"chord",position:Ct,height:wt,dim:ot,realWidth:vt}))}}}return{roomTaken:dt,roomTakenRight:lt}}var addChord_1=addChord$1,AbsoluteElement=absoluteElement,BeamElem=beamElement,BraceElem=braceElement,createClef=createClef_1,createKeySignature=createKeySignature_1,createNoteHead=createNoteHead_1,createTimeSignature=createTimeSignature_1,Decoration=decoration,EndingElem=endingElement,glyphs$2=glyphs_1,RelativeElement$1=relativeElement,spacing$9=spacing_1,StaffGroupElement=staffGroupElement,TempoElement=tempoElement,TieElem=tieElement,TripletElem=tripletElement,VoiceElement$1=voiceElement,addChord=addChord_1,pitchesToPerc=pitchesToPerc_1,parseCommon$2=abc_common,getDuration=function(_e){var et=0;return _e.duration&&(et=_e.duration),et},hint=!1,chartable={rest:{0:"rests.whole",1:"rests.half",2:"rests.quarter",3:"rests.8th",4:"rests.16th",5:"rests.32nd",6:"rests.64th",7:"rests.128th",multi:"rests.multimeasure"},note:{"-1":"noteheads.dbl",0:"noteheads.whole",1:"noteheads.half",2:"noteheads.quarter",3:"noteheads.quarter",4:"noteheads.quarter",5:"noteheads.quarter",6:"noteheads.quarter",7:"noteheads.quarter",nostem:"noteheads.quarter"},rhythm:{"-1":"noteheads.slash.whole",0:"noteheads.slash.whole",1:"noteheads.slash.whole",2:"noteheads.slash.quarter",3:"noteheads.slash.quarter",4:"noteheads.slash.quarter",5:"noteheads.slash.quarter",6:"noteheads.slash.quarter",7:"noteheads.slash.quarter",nostem:"noteheads.slash.nostem"},x:{"-1":"noteheads.indeterminate",0:"noteheads.indeterminate",1:"noteheads.indeterminate",2:"noteheads.indeterminate",3:"noteheads.indeterminate",4:"noteheads.indeterminate",5:"noteheads.indeterminate",6:"noteheads.indeterminate",7:"noteheads.indeterminate",nostem:"noteheads.indeterminate"},harmonic:{"-1":"noteheads.harmonic.quarter",0:"noteheads.harmonic.quarter",1:"noteheads.harmonic.quarter",2:"noteheads.harmonic.quarter",3:"noteheads.harmonic.quarter",4:"noteheads.harmonic.quarter",5:"noteheads.harmonic.quarter",6:"noteheads.harmonic.quarter",7:"noteheads.harmonic.quarter",nostem:"noteheads.harmonic.quarter"},triangle:{"-1":"noteheads.triangle.quarter",0:"noteheads.triangle.quarter",1:"noteheads.triangle.quarter",2:"noteheads.triangle.quarter",3:"noteheads.triangle.quarter",4:"noteheads.triangle.quarter",5:"noteheads.triangle.quarter",6:"noteheads.triangle.quarter",7:"noteheads.triangle.quarter",nostem:"noteheads.triangle.quarter"},uflags:{3:"flags.u8th",4:"flags.u16th",5:"flags.u32nd",6:"flags.u64th"},dflags:{3:"flags.d8th",4:"flags.d16th",5:"flags.d32nd",6:"flags.d64th"}},AbstractEngraver$1=function(_e,et,tt){this.decoration=new Decoration,this.getTextSize=_e,this.tuneNumber=et,this.isBagpipes=tt.bagpipes,this.flatBeams=tt.flatbeams,this.graceSlurs=tt.graceSlurs,this.percmap=tt.percmap,this.initialClef=tt.initialClef,this.jazzchords=!!tt.jazzchords,this.accentAbove=!!tt.accentAbove,this.germanAlphabet=!!tt.germanAlphabet,this.reset()};AbstractEngraver$1.prototype.reset=function(){this.slurs={},this.ties=[],this.voiceScale=1,this.voiceColor=void 0,this.slursbyvoice={},this.tiesbyvoice={},this.endingsbyvoice={},this.scaleByVoice={},this.colorByVoice={},this.tripletmultiplier=1,this.abcline=void 0,this.accidentalSlot=void 0,this.accidentalshiftx=void 0,this.dotshiftx=void 0,this.hasVocals=!1,this.minY=void 0,this.partstartelem=void 0,this.startlimitelem=void 0,this.stemdir=void 0};AbstractEngraver$1.prototype.setStemHeight=function(_e){this.stemHeight=Math.round(_e*10/spacing$9.STEP)/10};AbstractEngraver$1.prototype.getCurrentVoiceId=function(_e,et){return"s"+_e+"v"+et};AbstractEngraver$1.prototype.pushCrossLineElems=function(_e,et){this.slursbyvoice[this.getCurrentVoiceId(_e,et)]=this.slurs,this.tiesbyvoice[this.getCurrentVoiceId(_e,et)]=this.ties,this.endingsbyvoice[this.getCurrentVoiceId(_e,et)]=this.partstartelem,this.scaleByVoice[this.getCurrentVoiceId(_e,et)]=this.voiceScale,this.voiceColor&&(this.colorByVoice[this.getCurrentVoiceId(_e,et)]=this.voiceColor)};AbstractEngraver$1.prototype.popCrossLineElems=function(_e,et){this.slurs=this.slursbyvoice[this.getCurrentVoiceId(_e,et)]||{},this.ties=this.tiesbyvoice[this.getCurrentVoiceId(_e,et)]||[],this.partstartelem=this.endingsbyvoice[this.getCurrentVoiceId(_e,et)],this.voiceScale=this.scaleByVoice[this.getCurrentVoiceId(_e,et)],this.voiceScale===void 0&&(this.voiceScale=1),this.voiceColor=this.colorByVoice[this.getCurrentVoiceId(_e,et)]};AbstractEngraver$1.prototype.containsLyrics=function(_e){for(var et=0;et<_e.length;et++)for(var tt=0;tt<_e[et].voices.length;tt++)for(var nt=0;nt<_e[et].voices[tt].length;nt++){var rt=_e[et].voices[tt][nt];if(rt.lyric){(!rt.positioning||rt.positioning.vocalPosition==="below")&&(this.hasVocals=!0);return}}};AbstractEngraver$1.prototype.createABCLine=function(_e,et,tt){this.minY=2,this.containsLyrics(_e);var nt=new StaffGroupElement(this.getTextSize);this.tempoSet=!1;for(var rt=0;rt<_e.length;rt++)hint&&this.restoreState(),hint=!1,this.createABCStaff(nt,_e[rt],et,rt,tt);return nt};AbstractEngraver$1.prototype.createABCStaff=function(_e,et,tt,nt,rt){_e.getTextSize.updateFonts(et);for(var it=0;it<et.voices.length;it++){var ot=new VoiceElement$1(it,et.voices.length);it===0?(ot.barfrom=et.connectBarLines==="start"||et.connectBarLines==="continue",ot.barto=et.connectBarLines==="continue"||et.connectBarLines==="end"):ot.duplicate=!0,et.title&&et.title[it]&&(ot.header=et.title[it].replace(/\\n/g,`
`),ot.headerPosition=6+_e.getTextSize.baselineToCenter(ot.header,"voicefont","staff-extra voice-name",it,et.voices.length)/spacing$9.STEP),et.clef&&et.clef.type==="perc"&&(ot.isPercussion=!0);var st=(!this.initialClef||rt===0)&&createClef(et.clef,this.tuneNumber);st&&(it===0&&et.barNumber&&this.addMeasureNumber(et.barNumber,st),ot.addChild(st),this.startlimitelem=st);var ut=createKeySignature(et.key,this.tuneNumber);if(ut&&(ot.addChild(ut),this.startlimitelem=ut),et.meter){et.meter.type==="specified"?this.measureLength=et.meter.value[0].num/et.meter.value[0].den:this.measureLength=1;var ft=createTimeSignature(et.meter,this.tuneNumber);ot.addChild(ft),this.startlimitelem=ft}ot.duplicate&&(ot.children=[]);var dt=et.clef.stafflines||et.clef.stafflines===0?et.clef.stafflines:5;_e.addVoice(ot,nt,dt);var lt=dt===1;this.createABCVoice(et.voices[it],tt,nt,it,lt,ot),_e.setStaffLimits(ot),it===0&&(et.brace==="start"||!_e.brace&&et.brace?(_e.brace||(_e.brace=[]),_e.brace.push(new BraceElem(ot,"brace"))):et.brace==="end"&&_e.brace?_e.brace[_e.brace.length-1].setBottomStaff(ot):et.brace==="continue"&&_e.brace&&_e.brace[_e.brace.length-1].continuing(ot),et.bracket==="start"||!_e.bracket&&et.bracket?(_e.bracket||(_e.bracket=[]),_e.bracket.push(new BraceElem(ot,"bracket"))):et.bracket==="end"&&_e.bracket?_e.bracket[_e.bracket.length-1].setBottomStaff(ot):et.bracket==="continue"&&_e.bracket&&_e.bracket[_e.bracket.length-1].continuing(ot))}};function getBeamGroup(_e,et){var tt=_e[et];if(tt.el_type!=="note"||!tt.startBeam||tt.endBeam)return{count:1,elem:tt};for(var nt=[];et<_e.length&&_e[et].el_type==="note"&&(nt.push(_e[et]),!_e[et].endBeam);)et++;return{count:nt.length,elem:nt}}AbstractEngraver$1.prototype.createABCVoice=function(_e,et,tt,nt,rt,it){this.popCrossLineElems(tt,nt),this.stemdir=this.isBagpipes?"down":null,this.abcline=_e,this.partstartelem&&(this.partstartelem=new EndingElem("",null,null),it.addOther(this.partstartelem));var ot=it.voicetotal<2?-1:it.voicenumber;for(var st in this.slurs)this.slurs.hasOwnProperty(st)&&(this.slurs[st]=new TieElem({force:this.slurs[st].force,voiceNumber:ot,stemDir:this.slurs[st].stemDir,style:this.slurs[st].dotted}),hint&&this.slurs[st].setHint(),it.addOther(this.slurs[st]));for(var ut=0;ut<this.ties.length;ut++)this.ties[ut]=new TieElem({force:this.ties[ut].force,stemDir:this.ties[ut].stemDir,voiceNumber:ot,style:this.ties[ut].dotted}),hint&&this.ties[ut].setHint(),it.addOther(this.ties[ut]);for(var ft=0;ft<this.abcline.length;ft++)setAveragePitch(this.abcline[ft]),this.minY=Math.min(this.abcline[ft].minpitch,this.minY);for(var dt=tt===0,lt=0;lt<this.abcline.length;){var at=getBeamGroup(this.abcline,lt),ct=this.createABCElement(dt,rt,it,at.elem);if(ct)for(ut=0;ut<ct.length;ut++){if(!this.tempoSet&&et&&!et.suppress){this.tempoSet=!0;var ht=new AbsoluteElement(et,0,0,"tempo",this.tuneNumber,{});ht.addFixedX(new TempoElement(et,this.tuneNumber,createNoteHead)),it.addChild(ht)}it.addChild(ct[ut])}lt+=at.count}this.pushCrossLineElems(tt,nt)};AbstractEngraver$1.prototype.saveState=function(){this.tiesSave=parseCommon$2.cloneArray(this.ties),this.slursSave=parseCommon$2.cloneHashOfHash(this.slurs),this.slursbyvoiceSave=parseCommon$2.cloneHashOfHash(this.slursbyvoice),this.tiesbyvoiceSave=parseCommon$2.cloneHashOfArrayOfHash(this.tiesbyvoice)};AbstractEngraver$1.prototype.restoreState=function(){this.ties=parseCommon$2.cloneArray(this.tiesSave),this.slurs=parseCommon$2.cloneHashOfHash(this.slursSave),this.slursbyvoice=parseCommon$2.cloneHashOfHash(this.slursbyvoiceSave),this.tiesbyvoice=parseCommon$2.cloneHashOfArrayOfHash(this.tiesbyvoiceSave)};AbstractEngraver$1.prototype.createABCElement=function(_e,et,tt,nt){var rt=[];switch(nt.el_type){case void 0:rt=this.createBeam(et,tt,nt);break;case"note":rt[0]=this.createNote(nt,!1,et,tt),this.triplet&&this.triplet.isClosed()&&(tt.addOther(this.triplet),this.triplet=null,this.tripletmultiplier=1);break;case"bar":rt[0]=this.createBarLine(tt,nt,_e),tt.duplicate&&rt.length>0&&(rt[0].invisible=!0);break;case"meter":rt[0]=createTimeSignature(nt,this.tuneNumber),this.startlimitelem=rt[0],tt.duplicate&&rt.length>0&&(rt[0].invisible=!0);break;case"clef":if(rt[0]=createClef(nt,this.tuneNumber),!rt[0])return null;tt.duplicate&&rt.length>0&&(rt[0].invisible=!0);break;case"key":var it=createKeySignature(nt,this.tuneNumber);it&&(rt[0]=it,this.startlimitelem=rt[0]),tt.duplicate&&rt.length>0&&(rt[0].invisible=!0);break;case"stem":this.stemdir=nt.direction==="auto"?void 0:nt.direction;break;case"part":var ot=new AbsoluteElement(nt,0,0,"part",this.tuneNumber),st=this.getTextSize.calc(nt.title,"partsfont","part");ot.addFixedX(new RelativeElement$1(nt.title,0,0,void 0,{type:"part",height:st.height/spacing$9.STEP})),rt[0]=ot;break;case"tempo":var ut=new AbsoluteElement(nt,0,0,"tempo",this.tuneNumber);ut.addFixedX(new TempoElement(nt,this.tuneNumber,createNoteHead)),rt[0]=ut;break;case"style":nt.head==="normal"?delete this.style:this.style=nt.head;break;case"hint":hint=!0,this.saveState();break;case"midi":break;case"scale":this.voiceScale=nt.size;break;case"color":this.voiceColor=nt.color,tt.color=this.voiceColor;break;default:var ft=new AbsoluteElement(nt,0,0,"unsupported",this.tuneNumber);ft.addFixed(new RelativeElement$1("element type "+nt.el_type,0,0,void 0,{type:"debug"})),rt[0]=ft}return rt};function setAveragePitch(_e){if(_e.pitches){sortPitch(_e);for(var et=0,tt=0;tt<_e.pitches.length;tt++)et+=_e.pitches[tt].verticalPos;_e.averagepitch=et/_e.pitches.length,_e.minpitch=_e.pitches[0].verticalPos,_e.maxpitch=_e.pitches[_e.pitches.length-1].verticalPos}}AbstractEngraver$1.prototype.createBeam=function(_e,et,tt){var nt=[],rt=new BeamElem(this.stemHeight*this.voiceScale,this.stemdir,this.flatBeams,tt[0]);hint&&rt.setHint();for(var it=0;it<tt.length;it++)rt.runningDirection(tt[it]);rt.setStemDirection();var ot=this.stemdir;for(this.stemdir=rt.stemsUp?"up":"down",it=0;it<tt.length;it++){var st=tt[it],ut=this.createNote(st,!0,_e,et);nt.push(ut),rt.add(ut),this.triplet&&this.triplet.isClosed()&&(et.addOther(this.triplet),this.triplet=null,this.tripletmultiplier=1)}return rt.calcDir(),et.addBeam(rt),this.stemdir=ot,nt};var sortPitch=function(_e){var et;do{et=!0;for(var tt=0;tt<_e.pitches.length-1;tt++)if(_e.pitches[tt].pitch>_e.pitches[tt+1].pitch){et=!1;var nt=_e.pitches[tt];_e.pitches[tt]=_e.pitches[tt+1],_e.pitches[tt+1]=nt}}while(!et)},ledgerLines=function(_e,et,tt,nt,rt,it,ot,st,ut){for(var ft=tt;ft>11;ft--)ft%2===0&&!nt&&_e.addFixed(new RelativeElement$1(null,st,(rt+4)*ut,ft,{type:"ledger"}));for(ft=et;ft<1;ft++)ft%2===0&&!nt&&_e.addFixed(new RelativeElement$1(null,st,(rt+4)*ut,ft,{type:"ledger"}));for(ft=0;ft<it.length;ft++){var dt=rt;ot==="down"&&(dt=-dt),_e.addFixed(new RelativeElement$1(null,dt+st,(rt+4)*ut,it[ft],{type:"ledger"}))}};AbstractEngraver$1.prototype.addGraceNotes=function(_e,et,tt,nt,rt,it,ot){var st=.6,ut=3.5/5;rt=Math.round(rt*ut);var ft=null,dt;_e.gracenotes.length>1&&(ft=new BeamElem(rt,"grace",it),hint&&ft.setHint(),ft.mainNote=tt);var lt,at=[];for(lt=_e.gracenotes.length-1;lt>=0;lt--)ot+=10,at[lt]=ot,_e.gracenotes[lt].accidental&&(ot+=7);for(lt=0;lt<_e.gracenotes.length;lt++){var ct=_e.gracenotes[lt].verticalPos;dt=ft?null:chartable.uflags[it?5:3];var ht=[],pt=createNoteHead(tt,"noteheads.quarter",_e.gracenotes[lt],{dir:"up",headx:-at[lt],extrax:-at[lt],flag:dt,scale:st*this.voiceScale,accidentalSlot:ht});pt.notehead.highestVert=pt.notehead.pitch+rt;var mt=pt.notehead;if(this.addSlursAndTies(tt,_e.gracenotes[lt],mt,et,"up",!0),tt.addExtra(mt),_e.gracenotes[lt].acciaccatura){var gt=_e.gracenotes[lt].verticalPos+7*st,yt=ft?5:6;tt.addRight(new RelativeElement$1("flags.ugrace",-at[lt]+yt,0,gt,{scalex:st,scaley:st}))}if(ft){var bt=_e.gracenotes[lt].duration/2;it&&(bt/=2);var xt={heads:[mt],abcelem:{averagepitch:ct,minpitch:ct,maxpitch:ct,duration:bt}};ft.add(xt)}else{var vt=ct+.3333333333333333*st,wt=ct+7*st,_t=mt.dx+mt.w,Ct=-.6;tt.addExtra(new RelativeElement$1(null,_t,0,vt,{type:"stem",pitch2:wt,linewidth:Ct}))}ledgerLines(tt,ct,ct,!1,glyphs$2.getSymbolWidth("noteheads.quarter"),[],!0,mt.dx-1,.6);var Et=_e.rest&&(_e.rest.type==="spacer"||_e.rest.type==="invisible");lt===0&&!it&&this.graceSlurs&&!Et&&et.addOther(new TieElem({anchor1:mt,anchor2:nt,isGrace:!0}))}return ft&&(ft.calcDir(),et.addBeam(ft)),ot};function addRestToAbsElement(_e,et,tt,nt,rt,it,ot,st,ut){var ft,dt=7,lt,at,ct;switch(rt&&(it==="down"&&(dt=3),it==="up"&&(dt=11)),ot&&(tt<.5||tt<1?dt=7:dt=5),et.rest.type){case"whole":ft=chartable.rest[0],et.averagepitch=dt,et.minpitch=dt,et.maxpitch=dt,nt=0;break;case"rest":et.style==="rhythm"?ft=chartable.rhythm[-st]:ft=chartable.rest[-st],et.averagepitch=dt,et.minpitch=dt,et.maxpitch=dt;break;case"invisible":case"invisible-multimeasure":case"spacer":ft="",et.averagepitch=dt,et.minpitch=dt,et.maxpitch=dt;break;case"multimeasure":ft=chartable.rest.multi,et.averagepitch=dt,et.minpitch=dt,et.maxpitch=dt,nt=0;var ht=glyphs$2.getSymbolWidth(ft);_e.addHead(new RelativeElement$1(ft,ht,ht*2,7));var pt=new RelativeElement$1(""+et.rest.text,ht,ht,16,{type:"multimeasure-text"});_e.addExtra(pt)}if(et.rest.type.indexOf("multimeasure")<0&&et.rest.type!=="invisible"){var mt=createNoteHead(_e,ft,{verticalPos:dt},{dot:nt,scale:ut});lt=mt.notehead,lt&&(_e.addHead(lt),at=mt.accidentalshiftx,ct=mt.dotshiftx)}return{noteHead:lt,roomTaken:at,roomTakenRight:ct}}function addIfNotExist(_e,et){for(var tt=0;tt<_e.length;tt++)if(JSON.stringify(_e[tt])===JSON.stringify(et))return;_e.push(et)}AbstractEngraver$1.prototype.addNoteToAbcElement=function(_e,et,tt,nt,rt,it,ot,st,ut){var ft=0,dt,lt=0,at=0,ct,ht,pt=[],mt=[],gt=0,yt=et.averagepitch>=6?"down":"up";nt&&(yt=nt),rt=et.style?et.style:rt,(!rt||rt==="normal")&&(rt="note");var bt;it?bt=chartable[rt].nostem:bt=chartable[rt][-ot],bt||console.log("noteSymbol:",rt,ot,it);var xt;for(xt=yt==="down"?et.pitches.length-2:1;yt==="down"?xt>=0:xt<et.pitches.length;xt=yt==="down"?xt-1:xt+1){var vt=et.pitches[yt==="down"?xt+1:xt-1],wt=et.pitches[xt],_t=yt==="down"?vt.pitch-wt.pitch:wt.pitch-vt.pitch;_t<=1&&!vt.printer_shift&&(wt.printer_shift=_t?"different":"same",(wt.verticalPos>11||wt.verticalPos<1)&&pt.push(wt.verticalPos-wt.verticalPos%2),yt==="down"?lt=glyphs$2.getSymbolWidth(bt)+2:ft=glyphs$2.getSymbolWidth(bt)+2)}var Ct=et.pitches.length;for(xt=0;xt<et.pitches.length;xt++){if(!st){var Et;yt==="down"&&xt!==0||yt==="up"&&xt!==Ct-1?Et=null:Et=chartable[yt==="down"?"dflags":"uflags"][-ot]}var $t;if(et.pitches[xt].style)$t=chartable[et.pitches[xt].style][-ot];else if(ut.isPercussion&&this.percmap){$t=bt;var jt=this.percmap[pitchesToPerc(et.pitches[xt])];jt&&jt.noteHead&&chartable[jt.noteHead]&&($t=chartable[jt.noteHead][-ot])}else $t=bt;et.pitches[xt].highestVert=et.pitches[xt].verticalPos;var Dt=(nt==="up"||yt==="up")&&xt===0,Pt=(nt==="down"||yt==="down")&&xt===Ct-1;if(Dt||Pt){if((et.startSlur||Ct===1)&&(et.pitches[xt].highestVert=et.pitches[Ct-1].verticalPos,getDuration(et)<1&&(nt==="up"||yt==="up")&&(et.pitches[xt].highestVert+=6)),et.startSlur)for(et.pitches[xt].startSlur||(et.pitches[xt].startSlur=[]),ht=0;ht<et.startSlur.length;ht++)addIfNotExist(et.pitches[xt].startSlur,et.startSlur[ht]);if(et.endSlur)for(et.pitches[xt].highestVert=et.pitches[Ct-1].verticalPos,getDuration(et)<1&&(nt==="up"||yt==="up")&&(et.pitches[xt].highestVert+=6),et.pitches[xt].endSlur||(et.pitches[xt].endSlur=[]),ht=0;ht<et.endSlur.length;ht++)addIfNotExist(et.pitches[xt].endSlur,et.endSlur[ht])}var kt=!st&&ot<=-1,At=createNoteHead(_e,$t,et.pitches[xt],{dir:yt,extrax:-lt,flag:Et,dot:tt,dotshiftx:ft,scale:this.voiceScale,accidentalSlot:mt,shouldExtendStem:!nt,printAccidentals:!ut.isPercussion});gt=Math.max(glyphs$2.getSymbolWidth($t),gt),_e.extraw-=At.extraLeft,dt=At.notehead,dt&&(this.addSlursAndTies(_e,et.pitches[xt],dt,ut,kt?yt:null,!1),et.gracenotes&&et.gracenotes.length>0&&(dt.bottom=dt.bottom-1),_e.addHead(dt)),lt+=At.accidentalshiftx,at=Math.max(at,At.dotshiftx)}if(kt){var Tt=Math.round(70*this.voiceScale)/10,St=yt==="down"?et.minpitch-Tt:et.minpitch+1/3;St>6&&!nt&&(St=6);var Rt=yt==="down"?et.maxpitch-1/3:et.maxpitch+Tt;Rt<6&&!nt&&(Rt=6);var Ot=yt==="down"||_e.heads.length===0?0:_e.heads[0].w,Nt=yt==="down"?1:-1;dt&&dt.c==="noteheads.slash.quarter"&&(yt==="down"?Rt-=1:St+=1),dt&&dt.c==="noteheads.triangle.quarter"&&(yt==="down"?Rt-=.7:St-=1.2),_e.addRight(new RelativeElement$1(null,Ot,0,St,{type:"stem",pitch2:Rt,linewidth:Nt,bottom:St-1})),ct=Math.min(St,Rt)}return{noteHead:dt,roomTaken:lt,roomTakenRight:at,min:ct,additionalLedgers:pt,dir:yt,symbolWidth:gt}};AbstractEngraver$1.prototype.addLyric=function(_e,et){var tt="";et.lyric.forEach(function(it){var ot=it.divider===" "?"":it.divider;tt+=it.syllable+ot+`
`});var nt=this.getTextSize.calc(tt,"vocalfont","lyric"),rt=et.positioning?et.positioning.vocalPosition:"below";_e.addCentered(new RelativeElement$1(tt,0,nt.width,void 0,{type:"lyric",position:rt,height:nt.height/spacing$9.STEP,dim:this.getTextSize.attr("vocalfont","lyric")}))};AbstractEngraver$1.prototype.createNote=function(_e,et,tt,nt){var rt=null,it=0,ot=0,st=0,ut=[],ft,dt=getDuration(_e),lt=!1;dt===0&&(lt=!0,dt=.25,et=!0);for(var at=Math.floor(Math.log(dt)/Math.log(2)),ct=0,ht=Math.pow(2,at),pt=ht/2;ht<dt;ct++,ht+=pt,pt/=2);_e.startTriplet&&(this.tripletmultiplier=_e.tripletMultiplier);var mt=dt*this.tripletmultiplier;_e.rest&&_e.rest.type==="multimeasure"&&(mt=1),_e.rest&&_e.rest.type==="invisible-multimeasure"&&(mt=this.measureLength*_e.rest.text);var gt=_e.rest?"rest":"note",yt=new AbsoluteElement(_e,mt,1,gt,this.tuneNumber,{durationClassOveride:_e.duration*this.tripletmultiplier});if(hint&&yt.setHint(),_e.rest){this.measureLength===dt&&_e.rest.type!=="invisible"&&_e.rest.type!=="spacer"&&_e.rest.type.indexOf("multimeasure")<0&&(_e.rest.type="whole");var bt=addRestToAbsElement(yt,_e,dt,ct,nt.voicetotal>1,this.stemdir,tt,at,this.voiceScale);rt=bt.noteHead,it=bt.roomTaken,ot=bt.roomTakenRight}else{var xt=this.addNoteToAbcElement(yt,_e,ct,this.stemdir,this.style,lt,at,et,nt);xt.min!==void 0&&(this.minY=Math.min(xt.min,this.minY)),rt=xt.noteHead,it=xt.roomTaken,ot=xt.roomTakenRight,ut=xt.additionalLedgers,ft=xt.dir,st=xt.symbolWidth}if(_e.lyric!==void 0&&this.addLyric(yt,_e),_e.gracenotes!==void 0&&(it+=this.addGraceNotes(_e,nt,yt,rt,this.stemHeight*this.voiceScale,this.isBagpipes,it)),_e.decoration&&this.decoration.createDecoration(nt,_e.decoration,yt.top,rt?rt.w:0,yt,it,ft,yt.bottom,_e.positioning,this.hasVocals,this.accentAbove),_e.barNumber&&yt.addFixed(new RelativeElement$1(_e.barNumber,-10,0,0,{type:"barNumber"})),ledgerLines(yt,_e.minpitch,_e.maxpitch,_e.rest,st,ut,ft,-2,1),_e.chord!==void 0){var vt=addChord(this.getTextSize,yt,_e,it,ot,st,this.jazzchords,this.germanAlphabet);it=vt.roomTaken,ot=vt.roomTakenRight}return _e.startTriplet&&(this.triplet=new TripletElem(_e.startTriplet,rt,{flatBeams:this.flatBeams})),_e.endTriplet&&this.triplet&&this.triplet.setCloseAnchor(rt),this.triplet&&!_e.startTriplet&&!_e.endTriplet&&!(_e.rest&&_e.rest.type==="spacer")&&this.triplet.middleNote(rt),yt};AbstractEngraver$1.prototype.addSlursAndTies=function(_e,et,tt,nt,rt,it){if(et.endTie&&this.ties.length>0){for(var ot=!1,st=0;st<this.ties.length;st++)if(this.ties[st].anchor1&&this.ties[st].anchor1.pitch===tt.pitch){this.ties[st].setEndAnchor(tt),nt.setRange(this.ties[st]),this.ties.splice(st,1),ot=!0;break}ot||(this.ties[0].setEndAnchor(tt),nt.setRange(this.ties[0]),this.ties.splice(0,1))}var ut=nt.voicetotal<2?-1:nt.voicenumber;if(et.startTie){var ft=new TieElem({anchor1:tt,force:this.stemdir==="down"||this.stemdir==="up",stemDir:this.stemdir,isGrace:it,voiceNumber:ut,style:et.startTie.style});hint&&ft.setHint(),this.ties[this.ties.length]=ft,nt.addOther(ft),_e.startTie=!0}var dt,lt;if(et.endSlur)for(var at=0;at<et.endSlur.length;at++)lt=et.endSlur[at],this.slurs[lt]?(dt=this.slurs[lt],dt.setEndAnchor(tt),nt.setRange(dt),delete this.slurs[lt]):(dt=new TieElem({anchor2:tt,stemDir:this.stemdir,voiceNumber:ut}),hint&&dt.setHint(),nt.addOther(dt)),this.startlimitelem&&dt.setStartX(this.startlimitelem);else if(!it)for(var ct in this.slurs)this.slurs.hasOwnProperty(ct)&&this.slurs[ct].addInternalNote(tt);if(et.startSlur)for(at=0;at<et.startSlur.length;at++)lt=et.startSlur[at].label,dt=new TieElem({anchor1:tt,stemDir:this.stemdir,voiceNumber:ut,style:et.startSlur[at].style}),hint&&dt.setHint(),this.slurs[lt]=dt,nt.addOther(dt)};AbstractEngraver$1.prototype.addMeasureNumber=function(_e,et){var tt=this.getTextSize.calc(_e,"measurefont","bar-number"),nt=0;et.isClef&&(nt+=tt.width/2);var rt=tt.width>10&&et.abcelem.type==="treble"?13:11;et.addFixed(new RelativeElement$1(_e,nt,tt.width,rt+tt.height/spacing$9.STEP,{type:"barNumber",dim:this.getTextSize.attr("measurefont","bar-number")}))};AbstractEngraver$1.prototype.createBarLine=function(_e,et,tt){var nt=new AbsoluteElement(et,0,10,"bar",this.tuneNumber),rt=null,it=0;et.barNumber&&this.addMeasureNumber(et.barNumber,nt);var ot=et.type==="bar_right_repeat"||et.type==="bar_dbl_repeat",st=et.type!=="bar_left_repeat"&&et.type!=="bar_thick_thin"&&et.type!=="bar_invisible",ut=et.type==="bar_right_repeat"||et.type==="bar_dbl_repeat"||et.type==="bar_left_repeat"||et.type==="bar_thin_thick"||et.type==="bar_thick_thin",ft=et.type==="bar_left_repeat"||et.type==="bar_thick_thin"||et.type==="bar_thin_thin"||et.type==="bar_dbl_repeat",dt=et.type==="bar_left_repeat"||et.type==="bar_dbl_repeat";if(ot||dt){for(var lt in this.slurs)this.slurs.hasOwnProperty(lt)&&this.slurs[lt].setEndX(nt);this.startlimitelem=nt}if(ot&&(nt.addRight(new RelativeElement$1("dots.dot",it,1,7)),nt.addRight(new RelativeElement$1("dots.dot",it,1,5)),it+=6),st&&(rt=new RelativeElement$1(null,it,1,2,{type:"bar",pitch2:10,linewidth:.6}),nt.addRight(rt)),et.type==="bar_invisible"&&(rt=new RelativeElement$1(null,it,1,2,{type:"none",pitch2:10,linewidth:.6}),nt.addRight(rt)),et.decoration&&this.decoration.createDecoration(_e,et.decoration,12,ut?3:1,nt,0,"down",2,et.positioning,this.hasVocals,this.accentAbove),ut&&(it+=4,rt=new RelativeElement$1(null,it,4,2,{type:"bar",pitch2:10,linewidth:4}),nt.addRight(rt),it+=5),this.partstartelem&&et.endEnding&&(this.partstartelem.anchor2=rt,this.partstartelem=null),ft&&(it+=3,rt=new RelativeElement$1(null,it,1,2,{type:"bar",pitch2:10,linewidth:.6}),nt.addRight(rt)),dt&&(it+=3,nt.addRight(new RelativeElement$1("dots.dot",it,1,7)),nt.addRight(new RelativeElement$1("dots.dot",it,1,5))),et.startEnding&&tt){var at=this.getTextSize.calc(et.startEnding,"repeatfont","").width;nt.minspacing+=at+10,this.partstartelem=new EndingElem(et.startEnding,rt,null),_e.addOther(this.partstartelem)}return nt.extraw-=5,et.chord!==void 0&&addChord(this.getTextSize,nt,et,0,0,0,!1,this.germanAlphabet),nt};var abstractEngraver=AbstractEngraver$1,svgNS="http://www.w3.org/2000/svg";function Svg$1(_e){this.svg=createSvg(),this.currentGroup=[],_e.appendChild(this.svg)}Svg$1.prototype.clear=function(){if(this.svg){var _e=this.svg.parentNode;this.svg=createSvg(),this.currentGroup=[],_e&&(_e.innerHTML="",_e.appendChild(this.svg))}};Svg$1.prototype.setTitle=function(_e){var et=document.createElement("title"),tt=document.createTextNode(_e);et.appendChild(tt),this.svg.insertBefore(et,this.svg.firstChild)};Svg$1.prototype.setResponsiveWidth=function(_e,et){if(this.svg.setAttribute("viewBox","0 0 "+_e+" "+et),this.svg.setAttribute("preserveAspectRatio","xMinYMin meet"),this.svg.removeAttribute("height"),this.svg.removeAttribute("width"),this.svg.style.display="inline-block",this.svg.style.position="absolute",this.svg.style.top="0",this.svg.style.left="0",this.svg.parentNode){var tt=this.svg.parentNode.getAttribute("class");tt?tt.indexOf("abcjs-container")<0&&this.svg.parentNode.setAttribute("class",tt+" abcjs-container"):this.svg.parentNode.setAttribute("class","abcjs-container"),this.svg.parentNode.style.display="inline-block",this.svg.parentNode.style.position="relative",this.svg.parentNode.style.width="100%";var nt=et/_e*100;this.svg.parentNode.style["padding-bottom"]=nt+"%",this.svg.parentNode.style["vertical-align"]="middle",this.svg.parentNode.style.overflow="hidden"}};Svg$1.prototype.setSize=function(_e,et){this.svg.setAttribute("width",_e),this.svg.setAttribute("height",et)};Svg$1.prototype.setAttribute=function(_e,et){this.svg.setAttribute(_e,et)};Svg$1.prototype.setScale=function(_e){_e!==1?(this.svg.style.transform="scale("+_e+","+_e+")",this.svg.style["-ms-transform"]="scale("+_e+","+_e+")",this.svg.style["-webkit-transform"]="scale("+_e+","+_e+")",this.svg.style["transform-origin"]="0 0",this.svg.style["-ms-transform-origin-x"]="0",this.svg.style["-ms-transform-origin-y"]="0",this.svg.style["-webkit-transform-origin-x"]="0",this.svg.style["-webkit-transform-origin-y"]="0"):(this.svg.style.transform="",this.svg.style["-ms-transform"]="",this.svg.style["-webkit-transform"]="")};Svg$1.prototype.insertStyles=function(_e){var et=document.createElementNS(svgNS,"style");et.textContent=_e,this.svg.insertBefore(et,this.svg.firstChild)};Svg$1.prototype.setParentStyles=function(_e){for(var et in _e)_e.hasOwnProperty(et)&&this.svg.parentNode&&(this.svg.parentNode.style[et]=_e[et]);if(this.dummySvg){var tt=document.querySelector("body");tt.removeChild(this.dummySvg),this.dummySvg=null}};function constructHLine(_e,et,tt){var nt=tt-_e;return"M "+_e+" "+et+" l "+nt+" 0 l 0 1  l "+-nt+" 0  z "}function constructVLine(_e,et,tt){var nt=tt-et;return"M "+_e+" "+et+" l 0 "+nt+" l 1 0  l 0 "+-nt+"  z "}Svg$1.prototype.rect=function(_e){var et=[],tt=_e.x,nt=_e.y,rt=_e.x+_e.width,it=_e.y+_e.height;return et.push(constructHLine(tt,nt,rt)),et.push(constructHLine(tt,it,rt)),et.push(constructVLine(rt,nt,it)),et.push(constructVLine(tt,it,nt)),this.path({path:et.join(" "),stroke:"none","data-name":_e["data-name"]})};Svg$1.prototype.dottedLine=function(_e){var et=document.createElementNS(svgNS,"line");et.setAttribute("x1",_e.x1),et.setAttribute("x2",_e.x2),et.setAttribute("y1",_e.y1),et.setAttribute("y2",_e.y2),et.setAttribute("stroke",_e.stroke),et.setAttribute("stroke-dasharray","5,5"),this.svg.insertBefore(et,this.svg.firstChild)};Svg$1.prototype.rectBeneath=function(_e){var et=document.createElementNS(svgNS,"rect");et.setAttribute("x",_e.x),et.setAttribute("width",_e.width),et.setAttribute("y",_e.y),et.setAttribute("height",_e.height),_e.stroke&&et.setAttribute("stroke",_e.stroke),_e["stroke-opacity"]&&et.setAttribute("stroke-opacity",_e["stroke-opacity"]),_e.fill&&et.setAttribute("fill",_e.fill),_e["fill-opacity"]&&et.setAttribute("fill-opacity",_e["fill-opacity"]),this.svg.insertBefore(et,this.svg.firstChild)};Svg$1.prototype.text=function(_e,et,tt){var nt=document.createElementNS(svgNS,"text");nt.setAttribute("stroke","none");for(var rt in et)et.hasOwnProperty(rt)&&nt.setAttribute(rt,et[rt]);for(var it=(""+_e).split(`
`),ot=0;ot<it.length;ot++){var st=document.createElementNS(svgNS,"tspan");if(st.setAttribute("x",et.x?et.x:0),ot!==0&&st.setAttribute("dy","1.2em"),it[ot].indexOf("")!==-1){var ut=it[ot].split("");if(st.textContent=ut[0],ut[1]){var ft=document.createElementNS(svgNS,"tspan");ft.setAttribute("dy","-0.3em"),ft.setAttribute("style","font-size:0.7em"),ft.textContent=ut[1],st.appendChild(ft)}if(ut[2]){var dt=ut[1]?"0.4em":"0.1em",lt=document.createElementNS(svgNS,"tspan");lt.setAttribute("dy",dt),lt.setAttribute("style","font-size:0.7em"),lt.textContent=ut[2],st.appendChild(lt)}}else st.textContent=it[ot];nt.appendChild(st)}return tt?tt.appendChild(nt):this.append(nt),nt};Svg$1.prototype.richTextLine=function(_e,et,tt,nt,rt,it){var ot=document.createElementNS(svgNS,"text");ot.setAttribute("stroke","none"),ot.setAttribute("class",nt),ot.setAttribute("x",et),ot.setAttribute("y",tt),ot.setAttribute("text-anchor",rt),ot.setAttribute("dominant-baseline","middle");for(var st=0;st<_e.length;st++){for(var ut=_e[st],ft=document.createElementNS(svgNS,"tspan"),dt=Object.keys(ut.attrs),lt=0;lt<dt.length;lt++){var at=ut.attrs[dt[lt]];at!==""&&ft.setAttribute(dt[lt],at)}ft.textContent=ut.content,ot.appendChild(ft)}return it?it.appendChild(ot):this.append(ot),ot};Svg$1.prototype.guessWidth=function(_e,et){var tt=this.createDummySvg(),nt=this.text(_e,et,tt),rt;try{rt=nt.getBBox(),isNaN(rt.height)||!rt.height?rt={width:et["font-size"]/2,height:et["font-size"]+2}:rt={width:rt.width,height:rt.height}}catch{rt={width:et["font-size"]/2,height:et["font-size"]+2}}return tt.removeChild(nt),rt};Svg$1.prototype.createDummySvg=function(){if(!this.dummySvg){this.dummySvg=createSvg();var _e=["display: block !important;","height: 1px;","width: 1px;","position: absolute;"];this.dummySvg.setAttribute("style",_e.join(""));var et=document.querySelector("body");et.appendChild(this.dummySvg)}return this.dummySvg};var sizeCache={};Svg$1.prototype.getTextSize=function(_e,et,tt){if(typeof _e=="number"&&(_e=""+_e),!_e||_e.match(/^\s+$/))return{width:0,height:0};var nt;if(_e.length<20&&(nt=_e+JSON.stringify(et),sizeCache[nt]))return sizeCache[nt];var rt=!tt;tt||(tt=this.text(_e,et));var it;try{it=tt.getBBox(),isNaN(it.height)||!it.height?it=this.guessWidth(_e,et):it={width:it.width,height:it.height}}catch{it=this.guessWidth(_e,et)}return rt&&(this.currentGroup.length>0?this.currentGroup[0].removeChild(tt):this.svg.removeChild(tt)),nt&&(sizeCache[nt]=it),it};Svg$1.prototype.openGroup=function(_e){_e=_e||{};var et=document.createElementNS(svgNS,"g");return _e.klass&&et.setAttribute("class",_e.klass),_e.fill&&et.setAttribute("fill",_e.fill),_e.stroke&&et.setAttribute("stroke",_e.stroke),_e["data-name"]&&et.setAttribute("data-name",_e["data-name"]),_e.prepend?this.prepend(et):this.append(et),this.currentGroup.unshift(et),et};Svg$1.prototype.closeGroup=function(){var _e=this.currentGroup.shift();return _e&&_e.children.length===0?(_e.parentElement.removeChild(_e),null):_e};Svg$1.prototype.path=function(_e){var et=document.createElementNS(svgNS,"path");for(var tt in _e)_e.hasOwnProperty(tt)&&(tt==="path"?et.setAttributeNS(null,"d",_e.path):tt==="klass"?et.setAttributeNS(null,"class",_e[tt]):_e[tt]!==void 0&&et.setAttributeNS(null,tt,_e[tt]));return this.append(et),et};Svg$1.prototype.pathToBack=function(_e){var et=document.createElementNS(svgNS,"path");for(var tt in _e)_e.hasOwnProperty(tt)&&(tt==="path"?et.setAttributeNS(null,"d",_e.path):tt==="klass"?et.setAttributeNS(null,"class",_e[tt]):et.setAttributeNS(null,tt,_e[tt]));return this.prepend(et),et};Svg$1.prototype.lineToBack=function(_e){for(var et=document.createElementNS(svgNS,"line"),tt=Object.keys(_e),nt=0;nt<tt.length;nt++)et.setAttribute(tt[nt],_e[tt[nt]]);return this.prepend(et),et};Svg$1.prototype.append=function(_e){this.currentGroup.length>0?this.currentGroup[0].appendChild(_e):this.svg.appendChild(_e)};Svg$1.prototype.prepend=function(_e){this.currentGroup.length>0?this.currentGroup[0].appendChild(_e):this.svg.insertBefore(_e,this.svg.firstChild)};Svg$1.prototype.setAttributeOnElement=function(_e,et){for(var tt in et)et.hasOwnProperty(tt)&&_e.setAttributeNS(null,tt,et[tt])};Svg$1.prototype.moveElementToChild=function(_e,et){_e.appendChild(et)};function createSvg(){var _e=document.createElementNS(svgNS,"svg");return _e.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),_e.setAttribute("role","img"),_e.setAttribute("fill","currentColor"),_e.setAttribute("stroke","currentColor"),_e}var svg$5=Svg$1,spacing$8=spacing_1,Svg=svg$5,Renderer$1=function(_e){this.paper=new Svg(_e),this.controller=null,this.space=3*spacing$8.SPACE,this.padding={},this.reset(),this.firefox112=navigator.userAgent.indexOf("Firefox/112.0")>=0};Renderer$1.prototype.reset=function(){this.paper.clear(),this.y=0,this.abctune=null,this.path=null,this.isPrint=!1,this.lineThickness=0,this.initVerticalSpace()};Renderer$1.prototype.newTune=function(_e){this.abctune=_e,this.setVerticalSpace(_e.formatting),this.isPrint=_e.media==="print",this.setPadding(_e)};Renderer$1.prototype.setLineThickness=function(_e){this.lineThickness=_e};Renderer$1.prototype.setPaddingOverride=function(_e){this.paddingOverride={top:_e.paddingtop,bottom:_e.paddingbottom,right:_e.paddingright,left:_e.paddingleft}};Renderer$1.prototype.setPadding=function(_e){function et(tt,nt,rt,it,ot){_e.formatting[rt]!==void 0?tt.padding[nt]=_e.formatting[rt]:tt.paddingOverride[nt]!==void 0?tt.padding[nt]=tt.paddingOverride[nt]:tt.isPrint?tt.padding[nt]=it:tt.padding[nt]=ot}et(this,"top","topmargin",38,15),et(this,"bottom","botmargin",38,15),et(this,"left","leftmargin",68,15),et(this,"right","rightmargin",68,15)};Renderer$1.prototype.adjustNonScaledItems=function(_e){this.padding.top/=_e,this.padding.bottom/=_e,this.padding.left/=_e,this.padding.right/=_e,this.abctune.formatting.headerfont.size/=_e,this.abctune.formatting.footerfont.size/=_e};Renderer$1.prototype.initVerticalSpace=function(){this.spacing={composer:7.56,graceBefore:8.67,graceInside:10.67,graceAfter:16,info:0,lineSkipFactor:1.1,music:7.56,paragraphSkipFactor:.4,parts:11.33,slurHeight:1,staffSeparation:61.33,stemHeight:26.67+10,subtitle:3.78,systemStaffSeparation:48,text:18.9,title:7.56,top:30.24,vocal:0,words:0}};Renderer$1.prototype.setVerticalSpace=function(_e){_e.staffsep!==void 0&&(this.spacing.staffSeparation=_e.staffsep*4/3),_e.composerspace!==void 0&&(this.spacing.composer=_e.composerspace*4/3),_e.partsspace!==void 0&&(this.spacing.parts=_e.partsspace*4/3),_e.textspace!==void 0&&(this.spacing.text=_e.textspace*4/3),_e.musicspace!==void 0&&(this.spacing.music=_e.musicspace*4/3),_e.titlespace!==void 0&&(this.spacing.title=_e.titlespace*4/3),_e.sysstaffsep!==void 0&&(this.spacing.systemStaffSeparation=_e.sysstaffsep*4/3),_e.subtitlespace!==void 0&&(this.spacing.subtitle=_e.subtitlespace*4/3),_e.topspace!==void 0&&(this.spacing.top=_e.topspace*4/3),_e.vocalspace!==void 0&&(this.spacing.vocal=_e.vocalspace*4/3),_e.wordsspace!==void 0&&(this.spacing.words=_e.wordsspace*4/3)};Renderer$1.prototype.calcY=function(_e){return this.y-_e*spacing$8.STEP};Renderer$1.prototype.moveY=function(_e,et){et===void 0&&(et=1),this.y+=_e*et};Renderer$1.prototype.absolutemoveY=function(_e){this.y=_e};var renderer=Renderer$1;function FreeText$1(_e,et,tt,nt,rt,it){var ot=_e.text;this.rows=[];var st;et&&this.rows.push({move:et});var ut=tt.calc("textfont","defined-text");if(ot==="")this.rows.push({move:ut.attr["font-size"]*2});else if(typeof ot=="string")this.rows.push({move:ut.attr["font-size"]/2}),this.rows.push({left:nt,text:ot,font:"textfont",klass:"defined-text",anchor:"start",startChar:_e.startChar,endChar:_e.endChar,absElemType:"freeText",name:"free-text"}),st=it.calc(ot,"textfont","defined-text"),this.rows.push({move:st.height});else if(ot){for(var ft=0,dt=nt,lt="textfont",at=0;at<ot.length;at++)ot[at].font?lt=ot[at].font:lt="textfont",this.rows.push({left:dt,text:ot[at].text,font:lt,klass:"defined-text",anchor:"start",startChar:_e.startChar,endChar:_e.endChar,absElemType:"freeText",name:"free-text"}),st=it.calc(ot[at].text,tt.calc(lt,"defined-text").font,"defined-text"),dt+=st.width+st.height/2,ft=Math.max(ft,st.height);this.rows.push({move:ft})}else if(_e.length===1){var ct=rt/2;this.rows.push({left:ct,text:_e[0].text,font:"textfont",klass:"defined-text",anchor:"middle",startChar:_e.startChar,endChar:_e.endChar,absElemType:"freeText",name:"free-text"}),st=it.calc(_e[0].text,"textfont","defined-text"),this.rows.push({move:st.height})}}var freeText=FreeText$1;function Separator$1(_e,et,tt){this.rows=[],_e&&this.rows.push({move:_e}),this.rows.push({separator:et,absElemType:"separator"}),tt&&this.rows.push({move:tt})}var separator$1=Separator$1;function Subtitle$1(_e,et,tt,nt,rt,it){this.rows=[],_e&&this.rows.push({move:_e});var ot=et.titleleft?"start":"middle",st=et.titleleft?rt:nt;this.rows.push({left:st,text:tt.text,font:"subtitlefont",klass:"text subtitle",anchor:ot,startChar:tt.startChar,endChar:tt.endChar,absElemType:"subtitle",name:"subtitle"});var ut=it.calc(tt.text,"subtitlefont","text subtitle");this.rows.push({move:ut.height})}var subtitle=Subtitle$1;function addTextIf$3(_e,et,tt){if(et.text){et.marginLeft||(et.marginLeft=0),et.klass||(et.klass=""),et.anchor||(et.anchor="start"),et.info||(et.info={startChar:-2,endChar:-2}),et.marginTop&&_e.push({move:et.marginTop});var nt={left:et.marginLeft,text:et.text,font:et.font,anchor:et.anchor,startChar:et.info.startChar,endChar:et.info.endChar,"dominant-baseline":et["dominant-baseline"]};et.absElemType&&(nt.absElemType=et.absElemType),!et.inGroup&&et.klass&&(nt.klass=et.klass),et.name&&(nt.name=et.name),_e.push(nt);var rt=tt.calc("A",et.font,et.klass),it=et.text.split(`
`).length;if(et.text[et.text.length-1]===`
`&&it--,!et.noMove){var ot=rt.height*1.1*it;_e.push({move:Math.round(ot)}),et.marginBottom&&_e.push({move:et.marginBottom})}}}var addTextIf_1=addTextIf$3;const addTextIf$2=addTextIf_1;function richText$2(_e,et,tt,nt,rt,it,ot,st){var ut=st.calc("i",tt,nt);if(et==="")_e.push({move:ut.height});else{if(typeof et=="string"){addTextIf$2(_e,{marginLeft:it,text:et,font:tt,klass:nt,marginTop:ot.marginTop,anchor:ot.anchor,absElemType:ot.absElemType,info:ot.info,name:rt},st);return}ot.marginTop&&_e.push({move:ot.marginTop});var ft=0,dt={left:it,anchor:ot.anchor,phrases:[]};nt&&(dt.klass=nt),_e.push(dt);for(var lt=0;lt<et.length;lt++){var at=et[lt],ct=at.font?at.font:st.attr(tt,nt).font,ht={content:at.text};ct&&(ht.attrs={"font-family":st.getFamily(ct.face),"font-size":ct.size,"font-weight":ct.weight,"font-style":ct.style,"font-decoration":ct.decoration}),dt.phrases.push(ht);var pt=st.calc(at.text,ct,nt);ft=Math.max(ft,pt.height),at.text[at.text.length-1]===" "&&ut.width}_e.push({move:ft})}}var richText_1=richText$2;const addTextIf$1=addTextIf_1,richText$1=richText_1;function TopText$1(_e,et,tt,nt,rt,it,ot,st,ut,ft){if(this.rows=[],_e.header&&it){var dt=ft.calc("X","headerfont","abcjs-header abcjs-meta-top").height;addTextIf$1(this.rows,{marginLeft:ot,text:_e.header.left,font:"headerfont",klass:"header meta-top",marginTop:-dt,info:et.header,name:"header"},ft),addTextIf$1(this.rows,{marginLeft:ot+rt/2,text:_e.header.center,font:"headerfont",klass:"header meta-top",marginTop:-dt,anchor:"middle",info:et.header,name:"header"},ft),addTextIf$1(this.rows,{marginLeft:ot+rt,text:_e.header.right,font:"headerfont",klass:"header meta-top",marginTop:-dt,anchor:"end",info:et.header,name:"header"},ft)}it&&this.rows.push({move:st.top});var lt=tt.titleleft?"start":"middle",at=tt.titleleft?ot:ot+rt/2;if(_e.title){var ct=ut?"abcjs-title":"";richText$1(this.rows,_e.title,"titlefont",ct,"title",at,{marginTop:st.title,anchor:lt,absElemType:"title",info:et.title},ft)}if(nt.length)for(var ht=0;ht<nt.length&&nt[ht].subtitle;){var ct=ut?"abcjs-text abcjs-subtitle":"";richText$1(this.rows,nt[ht].subtitle.text,"subtitlefont",ct,"subtitle",at,{marginTop:st.subtitle,anchor:lt,absElemType:"subtitle",info:nt[ht].subtitle},ft),ht++}if(_e.rhythm||_e.origin||_e.composer){if(this.rows.push({move:st.composer}),_e.rhythm&&_e.rhythm.length>0){var pt=!!(_e.composer||_e.origin),ct=ut?"abcjs-rhythm":"";addTextIf$1(this.rows,{marginLeft:ot,text:_e.rhythm,font:"infofont",klass:ct,absElemType:"rhythm",noMove:pt,info:et.rhythm,name:"rhythm"},ft)}_e.composer&&_e.composer,_e.origin&&_e.origin;var mt=_e.composer?_e.composer:"";if(_e.origin&&(typeof mt=="string"&&typeof _e.origin=="string"?mt+=" ("+_e.origin+")":typeof mt=="string"&&typeof _e.origin!="string"?(mt=[{text:mt}],mt.push({text:" ("}),mt=mt.concat(_e.origin),mt.push({text:")"})):(mt.push({text:" ("}),mt=mt.concat(_e.origin),mt.push({text:")"}))),mt){var ct=ut?"abcjs-composer":"";richText$1(this.rows,mt,"composerfont",ct,"composer",ot+rt,{anchor:"end",absElemType:"composer",info:et.composer,ingroup:!0},ft)}}if(_e.author&&_e.author.length>0){var ct=ut?"abcjs-author":"";richText$1(this.rows,_e.author,"composerfont",ct,"author",ot+rt,{anchor:"end",absElemType:"author",info:et.author},ft)}if(_e.partOrder&&_e.partOrder.length>0){var ct=ut?"abcjs-part-order":"";richText$1(this.rows,_e.partOrder,"partsfont",ct,"part-order",ot,{absElemType:"partOrder",info:et.partOrder,anchor:"start"},ft)}}var topText=TopText$1;const addTextIf=addTextIf_1,richText=richText_1;function BottomText$1(_e,et,tt,nt,rt,it,ot){this.rows=[],_e.unalignedWords&&_e.unalignedWords.length>0&&this.unalignedWords(_e.unalignedWords,nt,rt,it,ot),this.extraText(_e,nt,rt,it,ot),_e.footer&&tt&&this.footer(_e.footer,et,nt,ot)}BottomText$1.prototype.unalignedWords=function(_e,et,tt,nt,rt){var it=nt?"abcjs-unaligned-words":"",ot="wordsfont",st=rt.calc("i",ot,it);this.rows.push({move:tt.words}),addMultiLine(this.rows,"",_e,et,ot,"unalignedWords","unalignedWords",it,"unalignedWords",tt,nt,rt),this.rows.push({move:st.height})};function addSingleLine(_e,et,tt,nt,rt,it,ot){tt&&(et&&(typeof tt=="string"?tt=et+tt:tt=[{text:et}].concat(tt)),rt=it?"abcjs-extra-text "+rt:"",richText(_e,tt,"historyfont",rt,"description",nt,{absElemType:"extraText",anchor:"start"},ot))}function addMultiLine(_e,et,tt,nt,rt,it,ot,st,ut,ft,dt,lt){if(tt){st=dt?"abcjs-extra-text "+st:"";var at=lt.calc("A",rt,st);if(typeof tt=="string")et&&(tt=et+`
`+tt),addTextIf(_e,{marginLeft:nt,text:tt,font:rt,absElemType:"extraText",name:ut,"dominant-baseline":"middle",klass:st},lt);else{_e.push({startGroup:ot,klass:st,name:ut}),_e.push({move:ft.info}),et&&(addTextIf(_e,{marginLeft:nt,text:et,font:rt,absElemType:"extraText",name:ut,"dominant-baseline":"middle"},lt),_e.push({move:at.height*3/4}));for(var ct=0;ct<tt.length;ct++)richText(_e,tt[ct],rt,"",ut,nt,{anchor:"start"},lt),ct<tt.length-1&&typeof tt[ct]=="string"&&typeof tt[ct+1]!="string"&&_e.push({move:at.height*3/4});_e.push({endGroup:ot,absElemType:it,startChar:-1,endChar:-1,name:ut}),_e.push({move:at.height})}}}BottomText$1.prototype.extraText=function(_e,et,tt,nt,rt){addSingleLine(this.rows,"Book: ",_e.book,et,"abcjs-book",nt,rt),addSingleLine(this.rows,"Source: ",_e.source,et,"abcjs-source",nt,rt),addSingleLine(this.rows,"Discography: ",_e.discography,et,"abcjs-discography",nt,rt),addMultiLine(this.rows,"Notes:",_e.notes,et,"historyfont","extraText","notes","abcjs-notes","description",tt,nt,rt),addSingleLine(this.rows,"Transcription: ",_e.transcription,et,"abcjs-transcription",nt,rt),addMultiLine(this.rows,"History:",_e.history,et,"historyfont","extraText","history","abcjs-history","description",tt,nt,rt),addSingleLine(this.rows,"Copyright: ",_e["abc-copyright"],et,"abcjs-copyright",nt,rt),addSingleLine(this.rows,"Creator: ",_e["abc-creator"],et,"abcjs-creator",nt,rt),addSingleLine(this.rows,"Edited By: ",_e["abc-edited-by"],et,"abcjs-edited-by",nt,rt)};BottomText$1.prototype.footer=function(_e,et,tt,nt){var rt="header meta-bottom",it="footerfont";this.rows.push({startGroup:"footer",klass:rt}),addTextIf(this.rows,{marginLeft:tt,text:_e.left,font:it,klass:rt,name:"footer"},nt),addTextIf(this.rows,{marginLeft:tt+et/2,text:_e.center,font:it,klass:rt,anchor:"middle",name:"footer"},nt),addTextIf(this.rows,{marginLeft:tt+et,text:_e.right,font:it,klass:rt,anchor:"end",name:"footer"},nt)};var bottomText=BottomText$1,spacing$7=spacing_1;function setupSelection$1(_e,et){if(_e.rangeHighlight=rangeHighlight,_e.dragging)for(var tt=0;tt<_e.selectables.length;tt++){var nt=_e.selectables[tt];nt.svgEl.getAttribute("selectable")==="true"&&(nt.svgEl.setAttribute("tabindex",0),nt.svgEl.setAttribute("data-index",tt),nt.svgEl.addEventListener("keydown",keyboardDown.bind(_e)),nt.svgEl.addEventListener("keyup",keyboardSelection.bind(_e)),nt.svgEl.addEventListener("focus",elementFocused.bind(_e)))}for(var rt=0;rt<et.length;rt++)et[rt].addEventListener("touchstart",mouseDown.bind(_e),{passive:!0}),et[rt].addEventListener("touchmove",mouseMove.bind(_e),{passive:!0}),et[rt].addEventListener("touchend",mouseUp.bind(_e),{passive:!0}),et[rt].addEventListener("mousedown",mouseDown.bind(_e)),et[rt].addEventListener("mousemove",mouseMove.bind(_e)),et[rt].addEventListener("mouseup",mouseUp.bind(_e))}function getCoord(_e){var et=1,tt=1,nt=_e.target.closest("svg"),rt=0;nt&&nt.viewBox&&nt.viewBox.baseVal&&(nt.viewBox.baseVal.width!==0&&(et=nt.viewBox.baseVal.width/nt.clientWidth),nt.viewBox.baseVal.height!==0&&(tt=nt.viewBox.baseVal.height/nt.clientHeight),rt=nt.viewBox.baseVal.y);var it=_e.target&&_e.target.tagName==="svg",ot,st;return it?(ot=_e.offsetX,st=_e.offsetY):(ot=_e.layerX,st=_e.layerY),ot=ot*et,st=st*tt,[ot,st+rt]}function elementFocused(_e){this.dragMechanism==="keyboard"&&this.dragYStep!==0&&this.dragTarget&&notifySelect.bind(this)(this.dragTarget,this.dragYStep,this.selectables.length,this.dragIndex,_e),this.dragYStep=0}function keyboardDown(_e){switch(_e.keyCode){case 38:case 40:_e.preventDefault()}}function keyboardSelection(_e){var et=!1,tt=_e.target.dataset.index;switch(_e.keyCode){case 13:case 32:et=!0,this.dragTarget=this.selectables[tt],this.dragIndex=tt,this.dragMechanism="keyboard",mouseUp.bind(this)(_e);break;case 38:et=!0,this.dragTarget=this.selectables[tt],this.dragIndex=tt,this.dragTarget&&this.dragTarget.isDraggable&&(this.dragging&&this.dragTarget.isDraggable&&this.dragTarget.absEl.highlight(void 0,this.dragColor),this.dragYStep--,this.dragTarget.svgEl.setAttribute("transform","translate(0,"+this.dragYStep*spacing$7.STEP+")"));break;case 40:et=!0,this.dragTarget=this.selectables[tt],this.dragIndex=tt,this.dragMechanism="keyboard",this.dragTarget&&this.dragTarget.isDraggable&&(this.dragging&&this.dragTarget.isDraggable&&this.dragTarget.absEl.highlight(void 0,this.dragColor),this.dragYStep++,this.dragTarget.svgEl.setAttribute("transform","translate(0,"+this.dragYStep*spacing$7.STEP+")"));break;case 9:this.dragYStep!==0&&mouseUp.bind(this)(_e);break}et&&_e.preventDefault()}function findElementInHistory(_e,et){if(!et)return-1;for(var tt=0;tt<_e.length;tt++)if(et.dataset.index===_e[tt].svgEl.dataset.index)return tt;return-1}function findElementByCoord(_e,et,tt){for(var nt=9999999,rt=-1,it=0;it<_e.selectables.length&&nt>0;it++){var ot=_e.selectables[it];if(_e.getDim(ot),ot.dim.left<et&&ot.dim.right>et&&ot.dim.top<tt&&ot.dim.bottom>tt)rt=it,nt=0;else if(ot.dim.top<tt&&ot.dim.bottom>tt){var st=Math.min(Math.abs(ot.dim.left-et),Math.abs(ot.dim.right-et));st<nt&&(nt=st,rt=it)}else if(ot.dim.left<et&&ot.dim.right>et){var ut=Math.min(Math.abs(ot.dim.top-tt),Math.abs(ot.dim.bottom-tt));ut<nt&&(nt=ut,rt=it)}else{var ft=Math.abs(et-ot.dim.left)>Math.abs(et-ot.dim.right)?Math.abs(et-ot.dim.right):Math.abs(et-ot.dim.left),dt=Math.abs(tt-ot.dim.top)>Math.abs(tt-ot.dim.bottom)?Math.abs(tt-ot.dim.bottom):Math.abs(tt-ot.dim.top),lt=Math.sqrt(ft*ft+dt*dt);lt<nt&&(nt=lt,rt=it)}}return rt>=0&&nt<=12?rt:-1}function getBestMatchCoordinates(_e,et,tt){if(_e.x<=et.offsetX&&_e.x+_e.width>=et.offsetX&&_e.y<=et.offsetY&&_e.y+_e.height>=et.offsetY)return[et.offsetX,et.offsetY];var nt=Math.abs(et.layerY/tt-et.offsetY);return nt<3?[et.offsetX,et.offsetY]:[et.layerX,et.layerY]}function getTarget(_e){if(!_e)return null;if(_e.tagName==="svg")return _e;if(!_e.getAttribute)return null;for(var et=_e.getAttribute("selectable");!et;)_e.parentElement?(_e=_e.parentElement,_e.tagName==="svg"?et=!0:et=_e.getAttribute("selectable")):et=!0;return _e}function getMousePosition(_e,et){var tt,nt,rt,it=findElementInHistory(_e.selectables,getTarget(et.target));return it>=0?(rt=getBestMatchCoordinates(_e.selectables[it].svgEl.getBBox(),et,_e.scale),tt=rt[0],nt=rt[1]):(rt=getCoord(et),tt=rt[0],nt=rt[1],it=findElementByCoord(_e,tt,nt)),{x:tt,y:nt,clickedOn:it}}function attachMissingTouchEventAttributes(_e){if(!(!_e||!_e.target||!_e.touches||_e.touches.length<1)){var et=_e.target.getBoundingClientRect(),tt=_e.touches[0].pageX-et.left,nt=_e.touches[0].pageY-et.top;_e.touches[0].offsetX=tt,_e.touches[0].offsetY=nt,_e.touches[0].layerX=_e.touches[0].pageX,_e.touches[0].layerY=_e.touches[0].pageY}}function mouseDown(_e){var et=_e;_e.type==="touchstart"&&(attachMissingTouchEventAttributes(_e),_e.touches.length>0&&(et=_e.touches[0]));var tt=getMousePosition(this,et);tt.clickedOn>=0&&(_e.type==="touchstart"||_e.button===0)&&this.selectables[tt.clickedOn]&&(this.dragTarget=this.selectables[tt.clickedOn],this.dragIndex=tt.clickedOn,this.dragMechanism="mouse",this.dragMouseStart={x:tt.x,y:tt.y},this.dragging&&this.dragTarget.isDraggable&&(addGlobalClass(this.renderer.paper,"abcjs-dragging-in-progress"),this.dragTarget.absEl.highlight(void 0,this.dragColor)))}function mouseMove(_e){var et=_e;if(_e.type==="touchmove"&&(attachMissingTouchEventAttributes(_e),_e.touches.length>0&&(et=_e.touches[0])),this.lastTouchMove=_e,!(!this.dragTarget||!this.dragging||!this.dragTarget.isDraggable||this.dragMechanism!=="mouse"||!this.dragMouseStart)){var tt=getMousePosition(this,et),nt=Math.round((tt.y-this.dragMouseStart.y)/spacing$7.STEP);nt!==this.dragYStep&&(this.dragYStep=nt,this.dragTarget.svgEl.setAttribute("transform","translate(0,"+nt*spacing$7.STEP+")"))}}function mouseUp(_e){var et=_e;_e.type==="touchend"&&this.lastTouchMove&&(attachMissingTouchEventAttributes(this.lastTouchMove),this.lastTouchMove&&this.lastTouchMove.touches&&this.lastTouchMove.touches.length>0&&(et=this.lastTouchMove.touches[0])),this.dragTarget&&(clearSelection.bind(this)(),this.dragTarget.absEl&&this.dragTarget.absEl.highlight&&(this.selected=[this.dragTarget.absEl],this.dragTarget.absEl.highlight(void 0,this.selectionColor)),notifySelect.bind(this)(this.dragTarget,this.dragYStep,this.selectables.length,this.dragIndex,et),this.dragTarget.svgEl&&this.dragTarget.svgEl.focus&&(this.dragTarget.svgEl.focus(),this.dragTarget=null,this.dragIndex=-1),removeGlobalClass(this.renderer.svg,"abcjs-dragging-in-progress"))}function setSelection(_e){_e>=0&&_e<this.selectables.length&&(this.dragTarget=this.selectables[_e],this.dragIndex=_e,this.dragMechanism="keyboard",mouseUp.bind(this)({target:this.dragTarget.svgEl}))}function notifySelect(_e,et,tt,nt,rt){var it=[];if(_e.absEl.elemset){for(var ot={},st=0;st<_e.absEl.elemset.length;st++){var ut=_e.absEl.elemset[st];if(ut)for(var ft=ut.getAttribute("class").split(" "),dt=0;dt<ft.length;dt++)ot[ft[dt]]=!0}for(var lt=0;lt<Object.keys(ot).length;lt++)it.push(Object.keys(ot)[lt])}for(var at={},ct=0;ct<it.length;ct++)findNumber(it[ct],"abcjs-v",at,"voice"),findNumber(it[ct],"abcjs-l",at,"line"),findNumber(it[ct],"abcjs-m",at,"measure");_e.staffPos&&(at.staffPos=_e.staffPos);for(var ht=rt.target;ht&&ht.dataset&&!ht.dataset.name&&ht.tagName.toLowerCase()!=="svg";)ht=ht.parentNode;for(var pt=rt.target;pt&&pt.dataset&&!pt.dataset.index&&pt.tagName.toLowerCase()!=="svg";)pt=pt.parentNode;pt&&pt.dataset&&(at.name=pt.dataset.name,at.clickedName=ht.dataset.name,at.parentClasses=pt.classList),ht&&ht.classList&&(at.clickedClasses=ht.classList),at.selectableElement=_e.svgEl;for(var mt=0;mt<this.listeners.length;mt++)this.listeners[mt](_e.absEl.abcelem,_e.absEl.tuneNumber,it.join(" "),at,{step:et,max:tt,index:nt,setSelection:setSelection.bind(this)},rt)}function findNumber(_e,et,tt,nt){if(_e.indexOf(et)===0){var rt=_e.replace(et,""),it=parseInt(rt,10);""+it===rt&&(tt[nt]=it)}}function clearSelection(){for(var _e=0;_e<this.selected.length;_e++)this.selected[_e].unhighlight(void 0,this.renderer.foregroundColor);this.selected=[]}function rangeHighlight(_e,et){clearSelection.bind(this)();for(var tt=0;tt<this.staffgroups.length;tt++)for(var nt=this.staffgroups[tt].voices,rt=0;rt<nt.length;rt++)for(var it=nt[rt].children,ot=0;ot<it.length;ot++){var st=it[ot].abcelem.startChar,ut=it[ot].abcelem.endChar;(et>st&&_e<ut||et===_e&&et===ut)&&(this.selected[this.selected.length]=it[ot],it[ot].highlight(void 0,this.selectionColor))}}function getClassSet(_e){var et=_e.getAttribute("class");et||(et="");for(var tt=et.split(" "),nt={},rt=0;rt<tt.length;rt++)nt[tt[rt]]=!0;return nt}function setClassSet(_e,et){var tt=[];for(var nt in et)et.hasOwnProperty(nt)&&tt.push(nt);_e.setAttribute("class",tt.join(" "))}function addGlobalClass(_e,et){if(_e){var tt=getClassSet(_e.svg);tt[et]=!0,setClassSet(_e.svg,tt)}}function removeGlobalClass(_e,et){if(_e){var tt=getClassSet(_e.svg);delete tt[et],setClassSet(_e.svg,tt)}}var selection=setupSelection$1;function getBarYAt$3(_e,et,tt,nt,rt){return et+(nt-et)/(tt-_e)*(rt-_e)}var getBarYAt_1=getBarYAt$3,RelativeElement=relativeElement,spacing$6=spacing_1,getBarYAt$2=getBarYAt_1,layoutBeam$1=function(_e){if(!(_e.elems.length===0||_e.allrests)){var et=calcDy(_e.stemsUp,_e.isgrace),tt=_e.elems[0],nt=_e.elems[_e.elems.length-1],rt=0,it=_e.stemsUp?tt.abcelem.maxpitch:tt.abcelem.minpitch;rt=minStem(tt,_e.stemsUp,it,rt),rt=minStem(nt,_e.stemsUp,it,rt),rt=Math.max(_e.stemHeight,rt+3);var ot=calcYPos(_e.average,_e.elems.length,rt,_e.stemsUp,tt.abcelem.averagepitch,nt.abcelem.averagepitch,_e.isflat,_e.min,_e.max,_e.isgrace),st=calcXPos(_e.stemsUp,tt,nt);_e.addBeam({startX:st[0],endX:st[1],startY:ot[0],endY:ot[1],dy:et});for(var ut=createAdditionalBeams(_e.elems,_e.stemsUp,_e.beams[0],_e.isgrace,et),ft=0;ft<ut.length;ft++)_e.addBeam(ut[ft]);createStems(_e.elems,_e.stemsUp,_e.beams[0],et,_e.mainNote)}},getDurlog=function(_e){return _e===void 0?0:Math.floor(Math.log(_e)/Math.log(2))};function minStem(_e,et,tt,nt){if(!_e.children)return nt;for(var rt=0;rt<_e.children.length;rt++){var it=_e.children[rt];et&&it.top!==void 0&&it.c==="flags.ugrace"?nt=Math.max(nt,it.top-tt):!et&&it.bottom!==void 0&&it.c==="flags.ugrace"&&(nt=Math.max(nt,tt-it.bottom+7))}return nt}function calcSlant(_e,et,tt,nt){if(nt)return 0;var rt=_e-et,it=tt/2;return rt>it&&(rt=it),rt<-it&&(rt=-it),rt}function calcDy(_e,et){var tt=_e?spacing$6.STEP:-spacing$6.STEP;return et&&(tt=tt*.4),tt}function calcXPos(_e,et,tt){var nt=et.heads[_e?0:et.heads.length-1],rt=tt.heads[_e?0:tt.heads.length-1],it=nt.x;_e&&(it+=nt.w-.6);var ot=rt.x;return ot+=_e?rt.w:.6,[it,ot]}function calcYPos(_e,et,tt,nt,rt,it,ot,st,ut,ft){var dt=tt-2,lt=tt-2,at=Math.round(nt?Math.max(_e+dt,ut+lt):Math.min(_e-dt,st-lt)),ct=calcSlant(rt,it,et,ot),ht=at+Math.floor(ct/2),pt=at+Math.floor(-ct/2);return ft||(nt&&at<6||!nt&&at>6)&&(ht=6,pt=6),[ht,pt]}function createStems(_e,et,tt,nt,rt){for(var it=0;it<_e.length;it++){var ot=_e[it];if(!ot.abcelem.rest){var st=!ot.addExtra,ut=st?rt:ot,ft=ot.heads[et?0:ot.heads.length-1],dt=1/5,lt=ft.pitch+(et?dt:-dt),at=et?ft.w:0;st||(at+=ft.dx);var ct=ft.x+at,ht=getBarYAt$2(tt.startX,tt.startY,tt.endX,tt.endY,ct),pt=et?-.6:.6;et||(ht-=nt/2/spacing$6.STEP),st&&(at+=ot.heads[0].dx),ft.c==="noteheads.slash.quarter"&&(et?lt+=1:lt-=1);var mt=new RelativeElement(null,at,0,lt,{type:"stem",pitch2:ht,linewidth:pt});mt.setX(ut.x),ut.addRight(mt)}}}function createAdditionalBeams(_e,et,tt,nt,rt){for(var it=[],ot=[],st=0;st<_e.length;st++){var ut=_e[st];if(!ut.abcelem.rest){var ft=ut.heads[et?0:ut.heads.length-1],dt=ft.x+(et?ft.w:0),lt=getBarYAt$2(tt.startX,tt.startY,tt.endX,tt.endY,dt),at=et?-1.5:1.5;nt&&(at=at*2/3);var ct=ut.abcelem.duration;ct===0&&(ct=.25);for(var ht=getDurlog(ct);ht<-3;ht++){var pt=-4-ht;if(ot[pt]?ot[pt].single=!1:ot[pt]={x:dt+(et?-.6:0),y:lt+at*(pt+1),durlog:ht,single:!0},st>0&&ut.abcelem.beambr&&ut.abcelem.beambr<=pt+1){ot[pt].split||(ot[pt].split=[ot[pt].x]);var mt=calcXPos(et,_e[st-1],ut);ot[pt].split[ot[pt].split.length-1]>=mt[0]&&(mt[0]+=ut.w),ot[pt].split.push(mt[0]),ot[pt].split.push(mt[1])}}for(var gt=ot.length-1;gt>=0;gt--)if(st===_e.length-1||getDurlog(_e[st+1].abcelem.duration)>-gt-4){var yt=dt,bt=lt+at*(gt+1);ot[gt].single&&(yt=st===0?dt+5:dt-5,bt=getBarYAt$2(tt.startX,tt.startY,tt.endX,tt.endY,yt)+at*(gt+1));var xt={startX:ot[gt].x,endX:yt,startY:ot[gt].y,endY:bt,dy:rt};if(ot[gt].split!==void 0){var vt=ot[gt].split;xt.endX<=vt[vt.length-1]&&(vt[vt.length-1]-=ut.w),vt.push(xt.endX),xt.split=ot[gt].split}it.push(xt),ot=ot.slice(0,gt)}}}return it}var beam$1=layoutBeam$1,getBarYAt$1=getBarYAt_1;function layoutTriplet$1(_e){if(_e.anchor1&&_e.anchor2){_e.hasBeam=!!_e.anchor1.parent.beam&&_e.anchor1.parent.beam===_e.anchor2.parent.beam;var et=_e.anchor1.parent.beam;if(_e.hasBeam&&(et.elems[0]!==_e.anchor1.parent||et.elems[et.elems.length-1]!==_e.anchor2.parent)&&(_e.hasBeam=!1),_e.hasBeam){var tt=isAbove(et)?_e.anchor1.x+_e.anchor1.w:_e.anchor1.x;_e.yTextPos=heightAtMidpoint(tt,_e.anchor2.x,et),_e.yTextPos+=isAbove(et)?3:-2,_e.xTextPos=xAtMidpoint(tt,_e.anchor2.x),_e.top=_e.yTextPos+1,_e.bottom=_e.yTextPos-2,isAbove(et)&&(_e.endingHeightAbove=4)}else{_e.startNote=Math.max(_e.anchor1.parent.top,9)+4,_e.endNote=Math.max(_e.anchor2.parent.top,9)+4,_e.anchor1.parent.type==="rest"&&_e.anchor2.parent.type!=="rest"?_e.startNote=_e.endNote:_e.anchor2.parent.type==="rest"&&_e.anchor1.parent.type!=="rest"&&(_e.endNote=_e.startNote);for(var nt=0,rt=0;rt<_e.middleElems.length;rt++)nt=Math.max(nt,_e.middleElems[rt].top);nt+=4,(nt>_e.startNote||nt>_e.endNote)&&(_e.startNote=nt,_e.endNote=nt),_e.flatBeams&&(_e.startNote=Math.max(_e.startNote,_e.endNote),_e.endNote=Math.max(_e.startNote,_e.endNote)),_e.yTextPos=_e.startNote+(_e.endNote-_e.startNote)/2,_e.xTextPos=_e.anchor1.x+(_e.anchor2.x+_e.anchor2.w-_e.anchor1.x)/2,_e.top=_e.yTextPos+1}}delete _e.middleElems,delete _e.flatBeams}function isAbove(_e){return _e.stemsUp}function heightAtMidpoint(_e,et,tt){if(tt.beams.length===0)return 0;tt=tt.beams[0];var nt=_e+(et-_e)/2;return getBarYAt$1(tt.startX,tt.startY,tt.endX,tt.endY,nt)}function xAtMidpoint(_e,et){return _e+(et-_e)/2}var triplet$1=layoutTriplet$1,layoutBeam=beam$1,getBarYAt=getBarYAt_1,layoutTriplet=triplet$1,layoutVoice$1=function(_e){for(var et=0;et<_e.beams.length;et++)if(_e.beams[et].type==="BeamElem"){layoutBeam(_e.beams[et]),moveDecorations(_e.beams[et]);for(var tt=0;tt<_e.beams[et].elems.length;tt++)_e.adjustRange(_e.beams[et].elems[tt])}for(_e.staff.specialY.chordLines=setLaneForChord(_e.children),et=0;et<_e.otherchildren.length;et++){var nt=_e.otherchildren[et];nt.type==="TripletElem"&&(layoutTriplet(nt),_e.adjustRange(nt))}_e.staff.top=Math.max(_e.staff.top,_e.top),_e.staff.bottom=Math.min(_e.staff.bottom,_e.bottom)};function moveDecorations(_e){for(var et=1.5,tt=0;tt<_e.elems.length;tt++){var nt=_e.elems[tt];if(nt.top)for(var rt=yAtNote(nt,_e),it=0;it<nt.children.length;it++){var ot=nt.children[it];if(ot.klass==="ornament"&&ot.bottom-et<rt){var st=rt-ot.bottom+et;ot.bottom+=st,ot.top+=st,ot.pitch+=st,rt=nt.top=ot.top}}}}function placeInLane(_e,et){var tt=et.getChordDim();if(tt){for(var nt=0;nt<_e.length;nt++){var rt=_e[nt]<tt.left;if(rt){nt>0&&et.putChordInLane(nt),_e[nt]=tt.right;return}}_e.push(tt.right),et.putChordInLane(_e.length-1)}}function setLaneForChord(_e){var et=[0],tt=[0],nt,rt,it;for(nt=0;nt<_e.length;nt++){for(rt=0;rt<_e[nt].children.length;rt++)it=_e[nt].children[rt],it.chordHeightAbove&&placeInLane(et,it);for(rt=_e[nt].children.length-1;rt>=0;rt--)it=_e[nt].children[rt],it.chordHeightBelow&&placeInLane(tt,it)}return(et.length>1||tt.length>1)&&setLane(_e,et.length,tt.length),{above:et.length,below:tt.length}}function numAnnotationsBelow(_e){for(var et=0,tt=0;tt<_e.children.length;tt++){var nt=_e.children[tt];nt.chordHeightBelow&&et++}return et}function setLane(_e,et,tt){for(var nt=0;nt<_e.length;nt++){numAnnotationsBelow(_e[nt]);for(var rt=0;rt<_e[nt].children.length;rt++){var it=_e[nt].children[rt];it.chordHeightAbove&&it.invertLane(et)}}}function yAtNote(_e,et){return et=et.beams[0],getBarYAt(et.startX,et.startY,et.endX,et.endY,_e.x)}var voice$1=layoutVoice$1,spacing$5=spacing_1,setUpperAndLowerElements$1=function(_e,et){for(var tt,nt=0;nt<et.staffs.length;nt++){var rt=et.staffs[nt],it={tempoHeightAbove:0,partHeightAbove:0,volumeHeightAbove:0,dynamicHeightAbove:0,endingHeightAbove:0,chordHeightAbove:0,lyricHeightAbove:0,lyricHeightBelow:0,chordHeightBelow:0,volumeHeightBelow:0,dynamicHeightBelow:0};if(_e.showDebug&&_e.showDebug.indexOf("box")>=0&&(rt.originalTop=rt.top,rt.originalBottom=rt.bottom),incTop(rt,it,"lyricHeightAbove"),incTop(rt,it,"chordHeightAbove",rt.specialY.chordLines.above),rt.specialY.endingHeightAbove&&(rt.specialY.chordHeightAbove?rt.top+=2:rt.top+=rt.specialY.endingHeightAbove+margin,it.endingHeightAbove=rt.top),rt.specialY.dynamicHeightAbove&&rt.specialY.volumeHeightAbove?(rt.top+=Math.max(rt.specialY.dynamicHeightAbove,rt.specialY.volumeHeightAbove)+margin,it.dynamicHeightAbove=rt.top,it.volumeHeightAbove=rt.top):(incTop(rt,it,"dynamicHeightAbove"),incTop(rt,it,"volumeHeightAbove")),incTop(rt,it,"partHeightAbove"),incTop(rt,it,"tempoHeightAbove"),rt.specialY.lyricHeightBelow&&(rt.specialY.lyricHeightBelow+=_e.spacing.vocal/spacing$5.STEP,it.lyricHeightBelow=rt.bottom,rt.bottom-=rt.specialY.lyricHeightBelow+margin),rt.specialY.chordHeightBelow){it.chordHeightBelow=rt.bottom;var ot=rt.specialY.chordHeightBelow;rt.specialY.chordLines.below&&(ot*=rt.specialY.chordLines.below),rt.bottom-=ot+margin}rt.specialY.volumeHeightBelow&&rt.specialY.dynamicHeightBelow?(it.volumeHeightBelow=rt.bottom,it.dynamicHeightBelow=rt.bottom,rt.bottom-=Math.max(rt.specialY.volumeHeightBelow,rt.specialY.dynamicHeightBelow)+margin):rt.specialY.volumeHeightBelow?(it.volumeHeightBelow=rt.bottom,rt.bottom-=rt.specialY.volumeHeightBelow+margin):rt.specialY.dynamicHeightBelow&&(it.dynamicHeightBelow=rt.bottom,rt.bottom-=rt.specialY.dynamicHeightBelow+margin),_e.showDebug&&_e.showDebug.indexOf("box")>=0&&(rt.positionY=it);for(var st=0;st<rt.voices.length;st++){var ut=et.voices[rt.voices[st]];setUpperAndLowerVoiceElements(it,ut,_e.spacing)}if(tt!==void 0){var ft=rt.top-10,dt=tt+ft,lt=_e.spacing.systemStaffSeparation/spacing$5.STEP,at=lt-dt;at>0&&(rt.top+=at)}tt=2-rt.bottom}},margin=1;function incTop(_e,et,tt,nt){if(_e.specialY[tt]){var rt=_e.specialY[tt];nt&&(rt*=nt),_e.top+=rt+margin,et[tt]=_e.top}}function setUpperAndLowerVoiceElements(_e,et,tt){var nt,rt;for(nt=0;nt<et.children.length;nt++)rt=et.children[nt],setUpperAndLowerAbsoluteElements(_e,rt,tt);for(nt=0;nt<et.otherchildren.length;nt++)switch(rt=et.otherchildren[nt],rt.type){case"CrescendoElem":setUpperAndLowerCrescendoElements(_e,rt);break;case"DynamicDecoration":setUpperAndLowerDynamicElements(_e,rt);break;case"EndingElem":setUpperAndLowerEndingElements(_e,rt);break}}function setUpperAndLowerAbsoluteElements(_e,et,tt){for(var nt=0;nt<et.children.length;nt++){var rt=et.children[nt];for(var it in et.specialY)et.specialY.hasOwnProperty(it)&&rt[it]&&(rt.pitch=_e[it],rt.top===void 0&&(rt.type==="TempoElement"?setUpperAndLowerTempoElement(_e,rt):setUpperAndLowerRelativeElements(_e,rt,tt),et.pushTop(rt.top),et.pushBottom(rt.bottom)))}}function setUpperAndLowerCrescendoElements(_e,et){et.dynamicHeightAbove?et.pitch=_e.dynamicHeightAbove:et.pitch=_e.dynamicHeightBelow}function setUpperAndLowerDynamicElements(_e,et){et.volumeHeightAbove?et.pitch=_e.volumeHeightAbove:et.pitch=_e.volumeHeightBelow}function setUpperAndLowerEndingElements(_e,et){et.pitch=_e.endingHeightAbove-2}function setUpperAndLowerTempoElement(_e,et){if(et.pitch=_e.tempoHeightAbove,et.top=_e.tempoHeightAbove,et.bottom=_e.tempoHeightAbove,et.note){var tt=et.pitch-et.totalHeightInPitches+1;et.note.top=tt,et.note.bottom=tt;for(var nt=0;nt<et.note.children.length;nt++){var rt=et.note.children[nt];rt.top+=tt,rt.bottom+=tt,rt.pitch+=tt,rt.pitch2!==void 0&&(rt.pitch2+=tt)}}}function setUpperAndLowerRelativeElements(_e,et,tt){switch(et.type){case"part":et.top=_e.partHeightAbove+et.height,et.bottom=_e.partHeightAbove;break;case"text":case"chord":et.chordHeightAbove?(et.top=_e.chordHeightAbove,et.bottom=_e.chordHeightAbove):(et.top=_e.chordHeightBelow,et.bottom=_e.chordHeightBelow);break;case"lyric":et.lyricHeightAbove?(et.top=_e.lyricHeightAbove,et.bottom=_e.lyricHeightAbove):(et.top=_e.lyricHeightBelow+tt.vocal/spacing$5.STEP,et.bottom=_e.lyricHeightBelow+tt.vocal/spacing$5.STEP,et.pitch-=tt.vocal/spacing$5.STEP);break;case"debug":et.top=_e.chordHeightAbove,et.bottom=_e.chordHeightAbove;break}(et.pitch===void 0||et.top===void 0)&&console.error("RelativeElement position not set.",et.type,et.pitch,et.top,_e)}var setUpperAndLowerElements_1=setUpperAndLowerElements$1,VoiceElement=function _e(){};VoiceElement.beginLayout=function(_e,et){et.i=0,et.durationindex=0,et.startx=_e,et.minx=_e,et.nextx=_e,et.spacingduration=0};VoiceElement.layoutEnded=function(_e){return _e.i>=_e.children.length};VoiceElement.getNextX=function(_e){return Math.max(_e.minx,_e.nextx)};VoiceElement.getSpacingUnits=function(_e){return Math.sqrt(_e.spacingduration*8)};VoiceElement.layoutOneItem=function(_e,et,tt,nt,rt){var it=tt.children[tt.i];if(!it)return 0;var ot=_e-tt.minx,st=tt.durationindex+it.duration>0?nt:0;if(it.abcelem.el_type==="note"&&!it.abcelem.rest&&tt.voicenumber!==0&&rt){var ut=rt.children[rt.i],ft=ut&&(it.abcelem.maxpitch<=ut.abcelem.maxpitch+1&&it.abcelem.maxpitch>=ut.abcelem.minpitch-1||it.abcelem.minpitch<=ut.abcelem.maxpitch+1&&it.abcelem.minpitch>=ut.abcelem.minpitch-1);if(ft&&it.abcelem.minpitch===ut.abcelem.minpitch&&it.abcelem.maxpitch===ut.abcelem.maxpitch&&ut.heads&&ut.heads.length>0&&it.heads&&it.heads.length>0&&ut.heads[0].c===it.heads[0].c&&(ft=!1),ft){var dt=ut.heads&&ut.heads.length>0?ut.heads[0].realWidth:ut.fixed.w;it.adjustedWidth||(it.adjustedWidth=dt+it.w),it.w=it.adjustedWidth;for(var lt=0;lt<it.children.length;lt++){var at=it.children[lt];at.name.indexOf("accidental")<0&&(at.adjustedWidth||(at.adjustedWidth=at.dx+dt),at.dx=at.adjustedWidth)}}}var ct=getExtraWidth(it,st);return ot<ct&&(tt.i===0||it.type!=="bar"||tt.children[tt.i-1].type!=="part"&&tt.children[tt.i-1].type!=="tempo")&&(_e+=ct-ot),it.setX(_e),tt.spacingduration=it.duration,tt.minx=_e+getMinWidth(it),tt.i!==tt.children.length-1&&(tt.minx+=it.minspacing),this.updateNextX(_e,et,tt),_e};VoiceElement.shiftRight=function(_e,et){var tt=et.children[et.i];tt&&(tt.setX(tt.x+_e),et.minx+=_e,et.nextx+=_e)};VoiceElement.updateNextX=function(_e,et,tt){tt.nextx=_e+et*Math.sqrt(tt.spacingduration*8)};VoiceElement.updateIndices=function(_e){this.layoutEnded(_e)||(_e.durationindex+=_e.children[_e.i].duration,_e.children[_e.i].type==="bar"&&(_e.durationindex=Math.round(_e.durationindex*64)/64),_e.i++)};function getExtraWidth(_e,et){var tt=0;return(_e.type==="note"||_e.type==="bar")&&(tt=et),-_e.extraw+tt}function getMinWidth(_e){return _e.w}var voiceElements=VoiceElement,layoutVoiceElements=voiceElements;function checkLastBarX(_e){for(var et=0,tt=0;tt<_e.length;tt++){var nt=_e[tt];if(nt.children.length>0){var rt=nt.children.length-1,it=nt.children[rt];if(it.abcelem.el_type==="bar"){var ot=it.children[0].x;ot>et?et=ot:it.children[0].x=et}}}}var layoutStaffGroup$1=function(_e,et,tt,nt,rt){var it=1e-7,ot=0,st=1e3,ut=rt;nt.startx=ut;var ft,dt=0;for(tt&&console.log("init layout",_e),ft=0;ft<nt.voices.length;ft++)layoutVoiceElements.beginLayout(ut,nt.voices[ft]);for(var lt=0;!finished(nt.voices);){for(dt=null,ft=0;ft<nt.voices.length;ft++)!layoutVoiceElements.layoutEnded(nt.voices[ft])&&(!dt||getDurationIndex(nt.voices[ft])<dt)&&(dt=getDurationIndex(nt.voices[ft]));var at=[],ct=[];for(ft=0;ft<nt.voices.length;ft++){var ht=getDurationIndex(nt.voices[ft]);ht-dt>it?ct.push(nt.voices[ft]):at.push(nt.voices[ft])}lt=0;var pt=0;for(ft=0;ft<at.length;ft++)layoutVoiceElements.getNextX(at[ft])>ut&&(ut=layoutVoiceElements.getNextX(at[ft]),lt=layoutVoiceElements.getSpacingUnits(at[ft]),pt=at[ft].spacingduration);ot+=lt,st=Math.min(st,lt),tt&&console.log("currentduration: ",dt,ot,st);var mt=void 0;for(ft=0;ft<at.length;ft++){var gt=at[ft];gt.voicenumber===0&&(mt=ft);var yt=mt!==void 0&&at[mt].voicenumber!==gt.voicenumber?at[mt]:void 0;isSameStaff(gt,yt)||(yt=void 0);var bt=layoutVoiceElements.layoutOneItem(ut,_e,gt,et.minPadding,yt),xt=bt-ut;if(xt>0){ut=bt;for(var vt=0;vt<ft;vt++)layoutVoiceElements.shiftRight(xt,at[vt])}}for(ft=0;ft<ct.length;ft++)ct[ft].spacingduration-=pt,layoutVoiceElements.updateNextX(ut,_e,ct[ft]);for(ft=0;ft<at.length;ft++){var wt=at[ft];layoutVoiceElements.updateIndices(wt)}}for(ft=0;ft<nt.voices.length;ft++)layoutVoiceElements.getNextX(nt.voices[ft])>ut&&(ut=layoutVoiceElements.getNextX(nt.voices[ft]),lt=layoutVoiceElements.getSpacingUnits(nt.voices[ft]));return checkLastBarX(nt.voices),ot+=lt,nt.setWidth(ut),{spacingUnits:ot,minSpace:st}};function finished(_e){for(var et=0;et<_e.length;et++)if(!layoutVoiceElements.layoutEnded(_e[et]))return!1;return!0}function getDurationIndex(_e){return _e.durationindex-(_e.children[_e.i]&&_e.children[_e.i].duration>0?0:5e-7)}function isSameStaff(_e,et){return!_e||!_e.staff||!_e.staff.voices||_e.staff.voices.length===0||!et||!et.staff||!et.staff.voices||et.staff.voices.length===0?!1:_e.staff.voices[0]===et.staff.voices[0]}var staffGroup$1=layoutStaffGroup$1;function getLeftEdgeOfStaff$1(_e,et,tt,nt,rt){var it=_e.padding.left,ot=0,st,ut;for(st=0;st<tt.length;st++)tt[st].header&&(ut=et.calc(tt[st].header,"voicefont",""),ot=Math.max(ot,ut.width));if(ot=addBraceSize(ot,nt,et),ot=addBraceSize(ot,rt,et),ot){var ft=et.calc("A","voicefont","");ot+=ft.width}it+=ot;var dt=0;return dt=setBraceLocation(nt,it,dt),dt=setBraceLocation(rt,it,dt),it+dt}function addBraceSize(_e,et,tt){if(et){for(var nt=0;nt<et.length;nt++)if(et[nt].header){var rt=tt.calc(et[nt].header,"voicefont","");_e=Math.max(_e,rt.width)}}return _e}function setBraceLocation(_e,et,tt){if(_e)for(var nt=0;nt<_e.length;nt++)setLocation(et,_e[nt]),tt=Math.max(tt,_e[nt].getWidth());return tt}function setLocation(_e,et){et.x=_e}var getLeftEdgeOfStaff_1=getLeftEdgeOfStaff$1,layoutVoice=voice$1,setUpperAndLowerElements=setUpperAndLowerElements_1,layoutStaffGroup=staffGroup$1,getLeftEdgeOfStaff=getLeftEdgeOfStaff_1,layout$2=function(_e,et,tt,nt,rt){var it,ot,st=tt;for(it=0;it<et.lines.length;it++)if(ot=et.lines[it],ot.staff){var ut=setXSpacing(_e,st,nt,ot.staffGroup,et.formatting,it===et.lines.length-1,!1);Math.round(ut)>Math.round(st)&&(st=ut,rt&&(it=-1))}for(it=0;it<et.lines.length;it++)if(ot=et.lines[it],ot.staffGroup&&ot.staffGroup.voices){for(var ft=0;ft<ot.staffGroup.voices.length;ft++)layoutVoice(ot.staffGroup.voices[ft]);setUpperAndLowerElements(_e,ot.staffGroup)}for(it=0;it<et.lines.length;it++)ot=et.lines[it],ot.staffGroup&&ot.staffGroup.setHeight();return st},setXSpacing=function(_e,et,tt,nt,rt,it,ot){for(var st=getLeftEdgeOfStaff(_e,nt.getTextSize,nt.voices,nt.brace,nt.bracket),ut=tt,ft=0;ft<8;ft++){var dt=layoutStaffGroup(ut,_e,ot,nt,st);if(ut=calcHorizontalSpacing(it,rt.stretchlast,et+_e.padding.left,nt.w,ut,dt.spacingUnits,dt.minSpace,_e.padding.left+_e.padding.right),ut===null)break}return centerWholeRests(nt.voices),nt.w-st};function calcHorizontalSpacing(_e,et,tt,nt,rt,it,ot,st){if(_e)if(et===void 0){if(nt/tt<.66)return null}else{var ut=1-(nt+st)/tt,ft=ut<et;if(!ft)return null}if(Math.abs(tt-nt)<2)return null;var dt=it*rt,lt=nt-dt;return it>0?(rt=(tt-lt)/it,rt*ot>50&&(rt=50/ot),rt):null}function centerWholeRests(_e){for(var et=0;et<_e.length;et++)for(var tt=_e[et],nt=1;nt<tt.children.length-1;nt++){var rt=tt.children[nt];if(rt.abcelem.rest&&(rt.abcelem.rest.type==="whole"||rt.abcelem.rest.type==="multimeasure")){var it=tt.children[nt-1],ot=tt.children[nt+1];rt.center(it,ot)}}}var layout_1=layout$2,Classes$1=function _e(et){this.shouldAddClasses=et.shouldAddClasses,this.reset()};Classes$1.prototype.reset=function(){this.lineNumber=null,this.voiceNumber=null,this.measureNumber=null,this.measureTotalPerLine=[],this.noteNumber=null};Classes$1.prototype.incrLine=function(){this.lineNumber===null?this.lineNumber=0:this.lineNumber++,this.voiceNumber=null,this.measureNumber=null,this.noteNumber=null};Classes$1.prototype.incrVoice=function(){this.voiceNumber===null?this.voiceNumber=0:this.voiceNumber++,this.measureNumber=null,this.noteNumber=null};Classes$1.prototype.isInMeasure=function(){return this.measureNumber!==null};Classes$1.prototype.newMeasure=function(){this.measureNumber&&(this.measureTotalPerLine[this.lineNumber]=this.measureNumber),this.measureNumber=null,this.noteNumber=null};Classes$1.prototype.startMeasure=function(){this.measureNumber=0,this.noteNumber=0};Classes$1.prototype.incrMeasure=function(){this.measureNumber++,this.noteNumber=0};Classes$1.prototype.incrNote=function(){this.noteNumber++};Classes$1.prototype.measureTotal=function(){for(var _e=0,et=0;et<this.lineNumber;et++)_e+=this.measureTotalPerLine[et]?this.measureTotalPerLine[et]:0;return this.measureNumber&&(_e+=this.measureNumber),_e};Classes$1.prototype.getCurrent=function(_e){return{line:this.lineNumber,measure:this.measureNumber,measureTotal:this.measureTotal(),voice:this.voiceNumber,note:this.noteNumber}};Classes$1.prototype.generate=function(_e){if(!this.shouldAddClasses)return"";var et=[];if(_e&&_e.length>0&&et.push(_e),_e==="abcjs-tab-number")return et.join(" ");if(_e==="text instrument-name")return"abcjs-text abcjs-instrument-name";if(this.lineNumber!==null&&et.push("l"+this.lineNumber),this.measureNumber!==null&&et.push("m"+this.measureNumber),this.measureNumber!==null&&et.push("mm"+this.measureTotal()),this.voiceNumber!==null&&et.push("v"+this.voiceNumber),_e&&(_e.indexOf("note")>=0||_e.indexOf("rest")>=0||_e.indexOf("lyric")>=0)&&this.noteNumber!==null&&et.push("n"+this.noteNumber),et.length>0){et=et.join(" "),et=et.split(" ");for(var tt=0;tt<et.length;tt++)et[tt].indexOf("abcjs-")!==0&&et[tt].length>0&&(et[tt]="abcjs-"+et[tt])}return et.join(" ")};var classes=Classes$1,GetFontAndAttr$1=function _e(et,tt){this.formatting=et,this.classes=tt};GetFontAndAttr$1.prototype.updateFonts=function(_e){_e.gchordfont&&(this.formatting.gchordfont=_e.gchordfont),_e.tripletfont&&(this.formatting.tripletfont=_e.tripletfont),_e.annotationfont&&(this.formatting.annotationfont=_e.annotationfont),_e.vocalfont&&(this.formatting.vocalfont=_e.vocalfont)};GetFontAndAttr$1.prototype.getFamily=function(_e){return _e[0]==='"'&&_e[_e.length-1]==='"'?_e.substring(1,_e.length-1):_e};GetFontAndAttr$1.prototype.calc=function(_e,et){var tt;typeof _e=="string"?(tt=this.formatting[_e],tt?tt={face:tt.face,size:Math.round(tt.size*4/3),decoration:tt.decoration,style:tt.style,weight:tt.weight,box:tt.box}:tt={face:"Arial",size:Math.round(12*4/3),decoration:"underline",style:"normal",weight:"normal"}):tt={face:_e.face,size:Math.round(_e.size*4/3),decoration:_e.decoration,style:_e.style,weight:_e.weight,box:_e.box};var nt=this.formatting.fontboxpadding?this.formatting.fontboxpadding:.1;tt.padding=tt.size*nt;var rt={"font-size":tt.size,"font-style":tt.style,"font-family":this.getFamily(tt.face),"font-weight":tt.weight,"text-decoration":tt.decoration,class:this.classes.generate(et)};return{font:tt,attr:rt}};var getFontAndAttr=GetFontAndAttr$1,GetTextSize$1=function _e(et,tt){this.getFontAndAttr=et,this.svg=tt};GetTextSize$1.prototype.updateFonts=function(_e){this.getFontAndAttr.updateFonts(_e)};GetTextSize$1.prototype.attr=function(_e,et){return this.getFontAndAttr.calc(_e,et)};GetTextSize$1.prototype.getFamily=function(_e){return _e[0]==='"'&&_e[_e.length-1]==='"'?_e.substring(1,_e.length-1):_e};GetTextSize$1.prototype.calc=function(_e,et,tt,nt){var rt;typeof et=="string"?rt=this.attr(et,tt):rt={font:{face:et.face,size:et.size,decoration:et.decoration,style:et.style,weight:et.weight},attr:{"font-size":et.size,"font-style":et.style,"font-family":this.getFamily(et.face),"font-weight":et.weight,"text-decoration":et.decoration,class:this.getFontAndAttr.classes.generate(tt)}};var it=this.svg.getTextSize(_e,rt.attr,nt);return rt.font.box?{height:it.height+rt.font.padding*4,width:it.width+rt.font.padding*4}:it};GetTextSize$1.prototype.baselineToCenter=function(_e,et,tt,nt,rt){var it=this.calc(_e,et,tt).height,ot=this.attr(et,tt).font.size;return it*.5+(rt-nt-2)*ot};var getTextSize=GetTextSize$1,sprintf$7=function(){for(var _e=0,et,tt=arguments[_e++],nt=[],rt,it,ot,st;tt;){if(rt=/^[^\x25]+/.exec(tt))nt.push(rt[0]);else if(rt=/^\x25{2}/.exec(tt))nt.push("%");else if(rt=/^\x25(?:(\d+)\$)?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(tt)){if((et=arguments[rt[1]||_e++])==null||et==null)throw"Too few arguments.";if(/[^s]/.test(rt[7])&&typeof et!="number")throw"Expecting number but found "+typeof et;switch(rt[7]){case"b":et=et.toString(2);break;case"c":et=String.fromCharCode(et);break;case"d":et=parseInt(et);break;case"e":et=rt[6]?et.toExponential(rt[6]):et.toExponential();break;case"f":et=rt[6]?parseFloat(et).toFixed(rt[6]):parseFloat(et);break;case"o":et=et.toString(8);break;case"s":et=(et=String(et))&&rt[6]?et.substring(0,rt[6]):et;break;case"u":et=Math.abs(et);break;case"x":et=et.toString(16);break;case"X":et=et.toString(16).toUpperCase();break}et=/[def]/.test(rt[7])&&rt[2]&&et>0?"+"+et:et,ot=rt[3]?rt[3]=="0"?"0":rt[3][1]:" ",st=rt[5]-String(et).length,it=rt[5]?str_repeat(ot,st):"",nt.push(rt[4]?et+it:it+et)}else throw"Huh ?!";tt=tt.substring(rt[0].length)}return nt.join("")},sprintf_1=sprintf$7;function roundNumber$a(_e){return parseFloat(_e.toFixed(2))}var roundNumber_1=roundNumber$a,roundNumber$9=roundNumber_1;function renderText$8(_e,et,tt){var nt=et.y;if(et.phrases){var st=_e.paper.richTextLine(et.phrases,et.x,et.y,et.klass,et.anchor);return st}if(et.lane){var rt=et.dim.font.size*.25;nt+=(et.dim.font.size+rt)*et.lane}var it;et.dim?(it=et.dim,it.attr.class=et.klass):it=_e.controller.getFontAndAttr.calc(et.type,et.klass),et.anchor&&(it.attr["text-anchor"]=et.anchor),et["dominant-baseline"]&&(it.attr["dominant-baseline"]=et["dominant-baseline"]),it.attr.x=et.x,it.attr.y=nt,et.centerVertically||(it.attr.y+=it.font.size),et.type==="debugfont"&&(console.log("Debug msg: "+et.text),it.attr.stroke="#ff0000"),et.cursor&&(it.attr.cursor=et.cursor);var ot=et.text.replace(/\n\n/g,`
 
`);ot=ot.replace(/^\n/,`
`),it.font.box&&(tt||_e.paper.openGroup({klass:it.attr.class,fill:_e.foregroundColor,"data-name":et.name}),it.attr["text-anchor"]==="end"?it.attr.x-=it.font.padding:it.attr["text-anchor"]==="start"&&(it.attr.x+=it.font.padding),it.attr.y+=it.font.padding,delete it.attr.class),et.noClass&&delete it.attr.class,it.attr.x=roundNumber$9(it.attr.x),it.attr.y=roundNumber$9(it.attr.y),et.name&&(it.attr["data-name"]=et.name);var st=_e.paper.text(ot,it.attr);if(it.font.box){var ut=st.getBBox(),ft=0;it.attr["text-anchor"]==="middle"?ft=ut.width/2+it.font.padding:it.attr["text-anchor"]==="end"&&(ft=ut.width+it.font.padding*2);var dt=0;et.centerVertically&&(dt=ut.height-it.font.padding),_e.paper.rect({"data-name":"box",x:Math.round(et.x-ft),y:Math.round(nt-dt),width:Math.round(ut.width+it.font.padding*2),height:Math.round(ut.height+it.font.padding*2)}),tt||(st=_e.paper.closeGroup())}return st}var text=renderText$8,sprintf$6=sprintf_1,spacing$4=spacing_1,renderText$7=text;function drawBrace$1(_e,et,tt){var nt=et.startVoice.staff.absoluteY-spacing$4.STEP*10;return et.endVoice&&et.endVoice.staff?et.endY=et.endVoice.staff.absoluteY-spacing$4.STEP*2:et.lastContinuedVoice&&et.lastContinuedVoice.staff?et.endY=et.lastContinuedVoice.staff.absoluteY-spacing$4.STEP*2:et.endY=et.startVoice.staff.absoluteY-spacing$4.STEP*2,draw$3(_e,et.x,nt,et.endY,et.type,et.header,tt)}function straightPath(_e,et,tt,nt,rt){et+=spacing$4.STEP;var it=spacing$4.STEP*.75,ot=spacing$4.STEP*.75,st=nt-tt,ut=sprintf$6("M %f %f l %f %f l %f %f l %f %f z",et,tt-ot,0,st+ot*2,it,0,0,-(st+ot*2)),ft=spacing$4.STEP*2,dt=spacing$4.STEP;return ut+=sprintf$6("M %f %f q %f %f %f %f q %f %f %f %f z",et+it,tt-ot,ft*.6,dt*.2,ft,-dt,-ft*.1,dt*.3,-ft,dt+spacing$4.STEP),ut+=sprintf$6("M %f %f q %f %f %f %f q %f %f %f %f z",et+it,tt+ot+st,ft*.6,-dt*.2,ft,dt,-ft*.1,-dt*.3,-ft,-dt-spacing$4.STEP),_e.paper.path({path:ut,stroke:_e.foregroundColor,fill:_e.foregroundColor,class:_e.controller.classes.generate(rt),"data-name":rt})}function curvyPath(_e,et,tt,nt,rt){var it=nt-tt,ot=curve(et,tt,[7.5,-8,21,0,18.5,-10.5,7.5],[0,it/5.5,it/3.14,it/2,it/2.93,it/4.88,0]);return ot+=curve(et,tt,[0,17.5,-7.5,6.6,-5,20,0],[it/2,it/1.46,it/1.22,it,it/1.19,it/1.42,it/2]),_e.paper.path({path:ot,stroke:_e.foregroundColor,fill:_e.foregroundColor,class:_e.controller.classes.generate(rt),"data-name":rt})}function curve(_e,et,tt,nt){return sprintf$6("M %f %f C %f %f %f %f %f %f C %f %f %f %f %f %f z",_e+tt[0],et+nt[0],_e+tt[1],et+nt[1],_e+tt[2],et+nt[2],_e+tt[3],et+nt[3],_e+tt[4],et+nt[4],_e+tt[5],et+nt[5],_e+tt[6],et+nt[6])}var draw$3=function(_e,et,tt,nt,rt,it,ot){var st;if(it){_e.paper.openGroup({klass:_e.controller.classes.generate("staff-extra voice-name"),"data-name":rt});var ut=tt+(nt-tt)/2;ut=ut-_e.controller.getTextSize.baselineToCenter(it,"voicefont","staff-extra voice-name",0,1),renderText$7(_e,{x:_e.padding.left,y:ut,text:it,type:"voicefont",klass:"staff-extra voice-name",anchor:"start",centerVertically:!0})}return rt==="brace"?st=curvyPath(_e,et,tt,nt,rt):rt==="bracket"&&(st=straightPath(_e,et,tt,nt,rt)),it&&(st=_e.paper.closeGroup()),ot.wrapSvgEl({el_type:rt,startChar:-1,endChar:-1},st),st},brace=drawBrace$1;function printPath$5(_e,et,tt){var nt=_e.paper.path(et);return nt}var printPath_1=printPath$5,sprintf$5=sprintf_1,printPath$4=printPath_1,roundNumber$8=roundNumber_1;function drawGlissando$1(_e,et,tt){(!et.anchor1||!et.anchor2||!et.anchor1.heads||!et.anchor2.heads||et.anchor1.heads.length===0||et.anchor2.heads.length===0)&&window.console.error("Glissando Element not set.");var nt=4,rt=_e.calcY(et.anchor1.heads[0].pitch),it=_e.calcY(et.anchor2.heads[0].pitch),ot=et.anchor1.x+et.anchor1.w/2,st=et.anchor2.x+et.anchor2.w/2,ut=lineLength(ot,rt,st,it),ft=et.anchor1.w/2+nt,dt=et.anchor2.w/2+nt,lt=slope(ot,rt,st,it),at=getY$1(rt,lt,ft);getY$1(it,lt,-dt);var ct=numSquigglies(ut-ft-dt),ht=drawSquiggly(_e,ot+ft,at,ct,lt);return tt.wrapSvgEl({el_type:"glissando",startChar:-1,endChar:-1},ht),[ht]}function lineLength(_e,et,tt,nt){var rt=tt-_e,it=nt-et;return Math.sqrt(rt*rt+it*it)}function slope(_e,et,tt,nt){return(nt-et)/(tt-_e)}function getY$1(_e,et,tt){return roundNumber$8(_e+tt*et)}function numSquigglies(_e){var et=5;return Math.max(2,Math.floor((_e-et*2)/6))}var leftStart=[[3.5,-4.8]],right=[[1.5,-1],[.3,-.3],[-3.5,3.8]],leftEnd=[[-1.5,2]],top=[[3,4],[3,-4]],bottom=[[-3,4],[-3,-4]];function segment(_e,et){for(var tt="",nt=0;nt<_e.length;nt++)tt+="l"+_e[nt][0]+" "+getY$1(_e[nt][1],et,_e[nt][0]);return tt}var drawSquiggly=function(_e,et,tt,nt,rt){var it=sprintf$5("M %f %f",et,tt);it+=segment(leftStart,rt);var ot;for(ot=0;ot<nt;ot++)it+=segment(top,rt);for(it+=segment(right,rt),ot=0;ot<nt;ot++)it+=segment(bottom,rt);return it+=segment(leftEnd,rt)+"z",printPath$4(_e,{path:it,highlight:"stroke",stroke:_e.foregroundColor,class:_e.controller.classes.generate("decoration"),"data-name":"glissando"})},glissando=drawGlissando$1,sprintf$4=sprintf_1,printPath$3=printPath_1,roundNumber$7=roundNumber_1;function drawCrescendo$1(_e,et,tt){et.pitch===void 0&&window.console.error("Crescendo Element y-coordinate not set.");var nt=_e.calcY(et.pitch)+4,rt=8,it=et.anchor1?et.anchor1.x:0,ot=et.anchor2?et.anchor2.x:800,st;return et.dir==="<"?st=drawLine$1(_e,nt+rt/2,nt,nt+rt/2,nt+rt,it,ot):st=drawLine$1(_e,nt,nt+rt/2,nt+rt,nt+rt/2,it,ot),tt.wrapSvgEl({el_type:"dynamicDecoration",startChar:-1,endChar:-1},st),[st]}var drawLine$1=function(_e,et,tt,nt,rt,it,ot){et=roundNumber$7(et),tt=roundNumber$7(tt),nt=roundNumber$7(nt),rt=roundNumber$7(rt),it=roundNumber$7(it),ot=roundNumber$7(ot);var st=sprintf$4("M %f %f L %f %f M %f %f L %f %f",it,et,ot,tt,it,nt,ot,rt);return printPath$3(_e,{path:st,highlight:"stroke",stroke:_e.foregroundColor,class:_e.controller.classes.generate("dynamics decoration"),"data-name":"dynamics"})},crescendo=drawCrescendo$1,roundNumber$6=roundNumber_1;function Group(){this.ingroup=!1}Group.prototype.beginGroup=function(_e,et){this.paper=_e,this.controller=et,this.path=[],this.lastM=[0,0],this.ingroup=!0,this.paper.openGroup()};Group.prototype.isInGroup=function(){return this.ingroup};Group.prototype.addPath=function(_e){if(_e=_e||[],_e.length!==0){_e[0][0]="m",_e[0][1]=roundNumber$6(_e[0][1]-this.lastM[0]),_e[0][2]=roundNumber$6(_e[0][2]-this.lastM[1]),this.lastM[0]+=_e[0][1],this.lastM[1]+=_e[0][2],this.path.push(_e[0]);for(var et=1,tt=_e.length;et<tt;et++)_e[et][0]==="m"&&(this.lastM[0]+=_e[et][1],this.lastM[1]+=_e[et][2]),this.path.push(_e[et])}};Group.prototype.endGroup=function(_e,et){this.ingroup=!1;for(var tt="",nt=0;nt<this.path.length;nt++)tt+=this.path[nt].join(" ");this.path=[];var rt=this.paper.closeGroup();return rt&&(rt.setAttribute("class",this.controller.classes.generate(_e)),rt.setAttribute("fill",this.controller.renderer.foregroundColor),rt.setAttribute("stroke","none"),rt.setAttribute("data-name",et)),rt};var elementGroup$3=new Group,groupElements=elementGroup$3,renderText$6=text,glyphs$1=glyphs_1,elementGroup$2=groupElements;function printSymbol$2(_e,et,tt,nt,rt){var it,ot;if(!nt)return null;if(nt.length>1&&nt.indexOf(".")<0){var st=elementGroup$2.isInGroup()?"":rt.klass;_e.paper.openGroup({"data-name":rt.name,klass:st});for(var ut=0,ft=0;ft<nt.length;ft++){var dt=nt[ft];ot=glyphs$1.getYCorr(dt),it=glyphs$1.printSymbol(et+ut,_e.calcY(tt+ot),dt,_e.paper,{stroke:rt.stroke,fill:rt.fill}),it?ft<nt.length-1&&(ut+=kernSymbols(dt,nt[ft+1],glyphs$1.getSymbolWidth(dt))):renderText$6(_e,{x:et,y:_e.y,text:"no symbol:"+nt,type:"debugfont",klass:"debug-msg",anchor:"start"},!1)}var lt=_e.paper.closeGroup();return lt}else return ot=glyphs$1.getYCorr(nt),elementGroup$2.isInGroup()?it=glyphs$1.printSymbol(et,_e.calcY(tt+ot),nt,_e.paper,{"data-name":rt.name}):it=glyphs$1.printSymbol(et,_e.calcY(tt+ot),nt,_e.paper,{klass:rt.klass,stroke:rt.stroke,fill:rt.fill,"data-name":rt.name}),it||(renderText$6(_e,{x:et,y:_e.y,text:"no symbol:"+nt,type:"debugfont",klass:"debug-msg",anchor:"start"},!1),null)}function kernSymbols(_e,et,tt){var nt=tt;return _e==="f"&&et==="f"&&(nt=nt*2/3),_e==="p"&&et==="p"&&(nt=nt*5/6),_e==="f"&&et==="z"&&(nt=nt*5/8),nt}var printSymbol_1=printSymbol$2,printSymbol$1=printSymbol_1;function drawDynamics$1(_e,et,tt){et.pitch===void 0&&window.console.error("Dynamic Element y-coordinate not set.");var nt=1,rt=1,it=printSymbol$1(_e,et.anchor.x,et.pitch,et.dec,{scalex:nt,scaley:rt,klass:_e.controller.classes.generate("decoration dynamics"),fill:_e.foregroundColor,stroke:"none",name:"dynamics"});return tt.wrapSvgEl({el_type:"dynamicDecoration",startChar:-1,endChar:-1,decoration:et.dec},it),[it]}var dynamics=drawDynamics$1,sprintf$3=sprintf_1,renderText$5=text,printPath$2=printPath_1,roundNumber$5=roundNumber_1;function drawTriplet$1(_e,et,tt){_e.paper.openGroup({klass:_e.controller.classes.generate("triplet "+et.durationClass),"data-name":"triplet"}),et.hasBeam||drawBracket(_e,et.anchor1.x,et.startNote,et.anchor2.x+et.anchor2.w,et.endNote),renderText$5(_e,{x:et.xTextPos,y:_e.calcY(et.yTextPos-1),text:""+et.number,type:"tripletfont",anchor:"middle",centerVertically:!0,noClass:!0,name:""+et.number},!0);var nt=_e.paper.closeGroup();return tt.wrapSvgEl({el_type:"triplet",startChar:-1,endChar:-1},nt),nt}function drawLine(_e,et,tt,nt){return sprintf$3("M %f %f L %f %f",roundNumber$5(_e),roundNumber$5(et),roundNumber$5(tt),roundNumber$5(nt))}function drawBracket(_e,et,tt,nt,rt){tt=_e.calcY(tt),rt=_e.calcY(rt);var it=5,ot="";ot+=drawLine(et,tt,et,tt+it),ot+=drawLine(nt,rt,nt,rt+it);var st=et+(nt-et)/2,ut=8,ft=(rt-tt)/(nt-et),dt=st-ut,lt=tt+(dt-et)*ft;ot+=drawLine(et,tt,dt,lt);var at=st+ut,ct=tt+(at-et)*ft;ot+=drawLine(at,ct,nt,rt),printPath$2(_e,{path:ot,stroke:_e.foregroundColor,"data-name":"triplet-bracket"})}var triplet=drawTriplet$1,sprintf$2=sprintf_1,renderText$4=text,printPath$1=printPath_1,roundNumber$4=roundNumber_1;function drawEnding$1(_e,et,tt,nt,rt){et.pitch===void 0&&window.console.error("Ending Element y-coordinate not set.");var it=roundNumber$4(_e.calcY(et.pitch)),ot=20,st="";et.anchor1&&(tt=roundNumber$4(et.anchor1.x+et.anchor1.w),st+=sprintf$2("M %f %f L %f %f ",tt,it,tt,roundNumber$4(it+ot))),et.anchor2&&(nt=roundNumber$4(et.anchor2.x),st+=sprintf$2("M %f %f L %f %f ",nt,it,nt,roundNumber$4(it+ot))),st+=sprintf$2("M %f %f L %f %f ",tt,it,nt,it),_e.paper.openGroup({klass:_e.controller.classes.generate("ending"),"data-name":"ending"}),printPath$1(_e,{path:st,stroke:_e.foregroundColor,fill:_e.foregroundColor,"data-name":"line"}),et.anchor1&&renderText$4(_e,{x:roundNumber$4(tt+5),y:roundNumber$4(_e.calcY(et.pitch-.5)),text:et.text,type:"repeatfont",klass:"ending",anchor:"start",noClass:!0,name:et.text});var ut=_e.paper.closeGroup();return rt.wrapSvgEl({el_type:"ending",startChar:-1,endChar:-1},ut),[ut]}var ending=drawEnding$1,sprintf$1=sprintf_1,roundNumber$3=roundNumber_1;function drawTie$1(_e,et,tt,nt,rt){layout$1(et,tt,nt);var it="";et.anchor1?it+="abcjs-start-m"+et.anchor1.parent.counters.measure+"-n"+et.anchor1.parent.counters.note:it+="abcjs-start-edge",et.anchor2?it+=" abcjs-end-m"+et.anchor2.parent.counters.measure+"-n"+et.anchor2.parent.counters.note:it+=" abcjs-end-edge",et.hint&&(it="abcjs-hint");var ot=et.fixedY?1.5:0,st=drawArc(_e,et.startX,et.endX,et.startY+ot,et.endY+ot,et.above,it,et.isTie,et.dotted),ut=-1;et.anchor1&&!et.isTie&&(ut=et.anchor1.parent.abcelem.startChar-1);var ft=-1;return et.anchor2&&!et.isTie&&(ft=et.anchor2.parent.abcelem.endChar+1),rt.wrapSvgEl({el_type:"slur",startChar:ut,endChar:ft},st),[st]}var layout$1=function(_e,et,tt){!_e.anchor1||!_e.anchor2||_e.anchor1.pitch===_e.anchor2.pitch&&_e.internalNotes.length===0?_e.isTie=!0:_e.isTie=!1,_e.isTie?(_e.calcTieDirection(),_e.calcX(et,tt),_e.calcTieY()):(_e.calcSlurDirection(),_e.calcX(et,tt),_e.calcSlurY()),_e.avoidCollisionAbove()},drawArc=function(_e,et,tt,nt,rt,it,ot,st,ut){var ft=st?1.2:1.5;et=roundNumber$3(et+6),tt=roundNumber$3(tt+4),nt=nt+(it?ft:-ft),rt=rt+(it?ft:-ft);var dt=roundNumber$3(_e.calcY(nt)),lt=roundNumber$3(_e.calcY(rt)),at=tt-et,ct=lt-dt,ht=Math.sqrt(at*at+ct*ct),pt=at/ht,mt=ct/ht,gt=ht/3.5,yt=st?10:25,bt=(it?-1:1)*Math.min(yt,Math.max(4,gt)),xt=roundNumber$3(et+gt*pt-bt*mt),vt=roundNumber$3(dt+gt*mt+bt*pt),wt=roundNumber$3(tt-gt*pt-bt*mt),_t=roundNumber$3(lt-gt*mt+bt*pt),Ct=2;ot?ot+=" slur":ot="slur",ot+=st?" tie":" legato";var Et;if(ut){ot+=" dotted";var $t=sprintf$1("M %f %f C %f %f %f %f %f %f",et,dt,xt,vt,wt,_t,tt,lt);Et=_e.paper.path({path:$t,stroke:_e.foregroundColor,fill:"none","stroke-dasharray":"5 5",class:_e.controller.classes.generate(ot),"data-name":st?"tie":"slur"})}else{var jt=sprintf$1("M %f %f C %f %f %f %f %f %f C %f %f %f %f %f %f z",et,dt,xt,vt,wt,_t,tt,lt,roundNumber$3(wt-Ct*mt),roundNumber$3(_t+Ct*pt),roundNumber$3(xt-Ct*mt),roundNumber$3(vt+Ct*pt),et,dt);Et=_e.paper.path({path:jt,stroke:"none",fill:_e.foregroundColor,class:_e.controller.classes.generate(ot),"data-name":st?"tie":"slur"})}return Et},tie=drawTie$1,printPath=printPath_1,roundNumber$2=roundNumber_1;function drawBeam$1(_e,et){if(et.beams.length!==0){for(var tt="",nt=0;nt<et.beams.length;nt++){var rt=et.beams[nt];if(rt.split){for(var it=getSlope(_e,rt.startX,rt.startY,rt.endX,rt.endY),ot=[],st=0;st<rt.split.length;st+=2)ot.push([rt.split[st],rt.split[st+1]]);for(st=0;st<ot.length;st++){var ut=getY(rt.startX,rt.startY,it,ot[st][0]),ft=getY(rt.startX,rt.startY,it,ot[st][1]);tt+=draw$2(_e,ot[st][0],ut,ot[st][1],ft,rt.dy)}}else tt+=draw$2(_e,rt.startX,rt.startY,rt.endX,rt.endY,rt.dy)}var dt=("abcjs-d"+et.duration).replace(/\./g,"-"),lt=_e.controller.classes.generate("beam-elem "+dt),at=printPath(_e,{path:tt,stroke:"none",fill:_e.foregroundColor,class:lt});return[at]}}function draw$2(_e,et,tt,nt,rt,it){tt=roundNumber$2(_e.calcY(tt)),rt=roundNumber$2(_e.calcY(rt)),et=roundNumber$2(et),nt=roundNumber$2(nt);var ot=roundNumber$2(tt+it),st=roundNumber$2(rt+it);return"M"+et+" "+tt+" L"+nt+" "+rt+"L"+nt+" "+st+" L"+et+" "+ot+"z"}function getSlope(_e,et,tt,nt,rt){return(rt-tt)/(nt-et)}function getY(_e,et,tt,nt){var rt=nt-_e;return et+rt*tt}var beam=drawBeam$1,elementGroup$1=groupElements,roundNumber$1=roundNumber_1;function printStem$2(_e,et,tt,nt,rt,it,ot){if(tt<0||nt<rt){var st=roundNumber$1(rt);rt=roundNumber$1(nt),nt=st}else nt=roundNumber$1(nt),rt=roundNumber$1(rt);et=roundNumber$1(et);var ut=roundNumber$1(et+tt);if(_e.firefox112){et+=tt/2;var dt={x1:et,x2:et,y1:nt,y2:rt,stroke:_e.foregroundColor,"stroke-width":Math.abs(tt)};return it&&(dt.class=it),ot&&(dt["data-name"]=ot),_e.paper.lineToBack(dt)}for(var ft=[["M",et,nt],["L",et,rt],["L",ut,rt],["L",ut,nt],["z"]],dt={path:""},lt=0;lt<ft.length;lt++)dt.path+=ft[lt].join(" ");return it&&(dt.class=it),ot&&(dt["data-name"]=ot),elementGroup$1.isInGroup()||(dt.stroke="none",dt.fill=_e.foregroundColor),_e.paper.pathToBack(dt)}var printStem_1=printStem$2,sprintf=sprintf_1,roundNumber=roundNumber_1;function printLine$1(_e,et,tt,nt,rt,it,ot){var st=_e.foregroundColor;et=roundNumber(et),tt=roundNumber(tt);var ut=roundNumber(nt-ot),ft=roundNumber(nt+ot);if(_e.firefox112){nt+=ot/2;var dt={x1:et,x2:tt,y1:nt,y2:nt,stroke:_e.foregroundColor,"stroke-width":Math.abs(ot*2)};return rt&&(dt.class=rt),it&&(dt["data-name"]=it),_e.paper.lineToBack(dt)}var lt=sprintf("M %f %f L %f %f L %f %f L %f %f z",et,ut,tt,ut,tt,ft,et,ft),at={path:lt,stroke:"none",fill:st};it&&(at["data-name"]=it),rt&&(at.class=rt);var ct=_e.paper.pathToBack(at);return ct}var printLine_1=printLine$1,printLine=printLine_1;function printStaffLine$2(_e,et,tt,nt,rt,it,ot){var st=_e.calcY(nt);return printLine(_e,et,tt,st,rt,it,ot)}var staffLine=printStaffLine$2,renderText$3=text,printStem$1=printStem_1,printStaffLine$1=staffLine,printSymbol=printSymbol_1;function drawRelativeElement$2(_e,et,tt){et.pitch===void 0&&window.console.error(et.type+" Relative Element y-coordinate not set.");var nt=_e.calcY(et.pitch);switch(et.type){case"symbol":if(et.c===null)return null;var rt="symbol";et.klass&&(rt+=" "+et.klass),et.graphelem=printSymbol(_e,et.x,et.pitch,et.c,{scalex:et.scalex,scaley:et.scaley,klass:_e.controller.classes.generate(rt),name:et.name});break;case"debug":et.graphelem=renderText$3(_e,{x:et.x,y:_e.calcY(15),text:""+et.c,type:"debugfont",klass:_e.controller.classes.generate("debug-msg"),anchor:"start",centerVertically:!1,dim:et.dim},!1);break;case"tabNumber":var it="middle",ot="tabnumberfont",st="abcjs-tab-number";et.isGrace&&(ot="tabgracefont",nt+=2.5,st="tab-grace"),et.graphelem=renderText$3(_e,{x:et.x,y:nt,text:""+et.c,type:ot,klass:_e.controller.classes.generate(st),anchor:it,centerVertically:!1,dim:et.dim,cursor:"default"},!1);break;case"barNumber":et.graphelem=renderText$3(_e,{x:et.x,y:nt,text:""+et.c,type:"measurefont",klass:_e.controller.classes.generate("bar-number"),anchor:"middle",dim:et.dim,name:"bar-number"},!0);break;case"lyric":et.graphelem=renderText$3(_e,{x:et.x,y:nt,text:et.c,type:"vocalfont",klass:_e.controller.classes.generate("lyric"),anchor:"middle",dim:et.dim,name:"lyric"},!1);break;case"chord":et.graphelem=renderText$3(_e,{x:et.x,y:nt,text:et.c,type:"gchordfont",klass:_e.controller.classes.generate("chord"),anchor:"middle",dim:et.dim,lane:et.getLane(),name:"chord"},!1);break;case"decoration":et.graphelem=renderText$3(_e,{x:et.x,y:nt+6,text:et.c,type:"annotationfont",klass:_e.controller.classes.generate("annotation"),anchor:et.anchor,centerVertically:!0,dim:et.dim},!1);break;case"text":et.graphelem=renderText$3(_e,{x:et.x,y:nt,text:et.c,type:"annotationfont",klass:_e.controller.classes.generate("annotation"),anchor:"start",centerVertically:et.centerVertically,dim:et.dim,lane:et.getLane(),name:"annotation"},!1);break;case"multimeasure-text":et.graphelem=renderText$3(_e,{x:et.x+et.w/2,y:nt,text:et.c,type:"tempofont",klass:_e.controller.classes.generate("rest"),anchor:"middle",centerVertically:!1,dim:et.dim},!1);break;case"part":et.graphelem=renderText$3(_e,{x:et.x,y:nt,text:et.c,type:"partsfont",klass:_e.controller.classes.generate("part"),anchor:"start",dim:et.dim,name:et.c},!0);break;case"bar":et.graphelem=printStem$1(_e,et.x,et.linewidth+_e.lineThickness,nt,tt||_e.calcY(et.pitch2),null,"bar");break;case"stem":var ut=et.linewidth>0?et.linewidth+_e.lineThickness:et.linewidth-_e.lineThickness;et.graphelem=printStem$1(_e,et.x,ut,nt,_e.calcY(et.pitch2),"abcjs-stem","stem");break;case"ledger":et.graphelem=printStaffLine$1(_e,et.x,et.x+et.w,et.pitch,"abcjs-ledger","ledger",.35+_e.lineThickness);break}return et.scalex!==1&&et.graphelem&&scaleExistingElem(_e.paper,et.graphelem,et.scalex,et.scaley,et.x,nt),et.graphelem}function scaleExistingElem(_e,et,tt,nt,rt,it){_e.setAttributeOnElement(et,{style:"transform:scale("+tt+","+nt+");transform-origin:"+rt+"px "+it+"px;"})}var relative=drawRelativeElement$2,drawRelativeElement$1=relative,renderText$2=text;function drawTempo$1(_e,et){var tt=et.x;et.pitch===void 0&&window.console.error("Tempo Element y-coordinate not set."),et.tempo.el_type="tempo";var nt=_e.calcY(et.pitch)+2,rt,it;if(et.tempo.preString){rt=renderText$2(_e,{x:tt,y:nt,text:et.tempo.preString,type:"tempofont",klass:"abcjs-tempo",anchor:"start",noClass:!0,name:"pre"},!0),it=_e.controller.getTextSize.calc(et.tempo.preString,"tempofont","tempo",rt);var ot=it.width,st=ot/et.tempo.preString.length;tt+=ot+st}if(et.note){et.note.setX(tt);for(var ut=0;ut<et.note.children.length;ut++)drawRelativeElement$1(_e,et.note.children[ut],tt);tt+=et.note.w+5;var ft="= "+et.tempo.bpm;rt=renderText$2(_e,{x:tt,y:nt,text:ft,type:"tempofont",klass:"abcjs-tempo",anchor:"start",noClass:!0,name:"beats"}),it=_e.controller.getTextSize.calc(ft,"tempofont","tempo",rt);var dt=it.width,lt=dt/ft.length;tt+=dt+lt}et.tempo.postString&&renderText$2(_e,{x:tt,y:nt,text:et.tempo.postString,type:"tempofont",klass:"abcjs-tempo",anchor:"start",noClass:!0,name:"post"},!0)}var tempo=drawTempo$1,drawTempo=tempo,drawRelativeElement=relative,spacing$3=spacing_1,setClass=setClass_1,elementGroup=groupElements;function drawAbsolute$1(_e,et,tt,nt,rt){if(!et.invisible){var it=et.children.length>0&&et.children[0].type==="TempoElement";et.elemset=[],elementGroup.beginGroup(_e.paper,_e.controller);for(var ot=0;ot<et.children.length;ot++){var st=et.children[ot];switch(st.type){case"TempoElement":drawTempo(_e,st);break;default:var ut=drawRelativeElement(_e,st,tt);st.type==="symbol"&&st.c&&st.c.indexOf("notehead")>=0&&ut.setAttribute("class","abcjs-notehead")}}var ft=et.type;if((et.type==="note"||et.type==="rest")&&(et.counters=_e.controller.classes.getCurrent(),ft+=" d"+Math.round(et.durationClass*1e3)/1e3,ft=ft.replace(/\./g,"-"),et.abcelem.pitches))for(var dt=0;dt<et.abcelem.pitches.length;dt++)ft+=" p"+et.abcelem.pitches[dt].pitch;var lt=elementGroup.endGroup(ft,et.type);if(lt){if(et.cloned&&(et.cloned.overrideClasses=lt.className.baseVal),et.overrideClasses){var at=lt.classList&&lt.classList.length>0?lt.classList[0]+" ":"";lt.setAttribute("class",at+et.overrideClasses)}if(it)et.startChar=et.abcelem.startChar,et.endChar=et.abcelem.endChar,nt.add(et,lt,!1,rt);else{et.elemset.push(lt);var ct=!1;(et.type==="note"||et.type==="tabNumber")&&(ct=!0),nt.add(et,lt,ct,rt)}}else et.elemset.length>0&&nt.add(et,et.elemset[0],et.type==="note",rt);if(et.klass&&setClass(et.elemset,"mark","","#00ff00"),et.hint&&setClass(et.elemset,"abcjs-hint","",null),et.abcelem.abselem=et,et.heads&&et.heads.length>0){et.notePositions=[];for(var ht=0;ht<et.heads.length;ht++)et.notePositions.push({x:et.heads[ht].x+et.heads[ht].w/2,y:rt.zero-et.heads[ht].pitch*spacing$3.STEP})}}}var absolute=drawAbsolute$1,drawGlissando=glissando,drawCrescendo=crescendo,drawDynamics=dynamics,drawTriplet=triplet,drawEnding=ending,drawTie=tie,drawBeam=beam,renderText$1=text,drawAbsolute=absolute;function drawVoice$1(_e,et,tt,nt,rt){var it=et.w-1;_e.staffbottom=et.staff.bottom;var ot=_e.foregroundColor;if(et.color&&(_e.foregroundColor=et.color),et.header){var st=renderText$1(_e,{x:_e.padding.left,y:_e.calcY(et.headerPosition),text:et.header,type:"voicefont",klass:"staff-extra voice-name",anchor:"start",centerVertically:!0,name:"voice-name"},!0);nt.wrapSvgEl({el_type:"voiceName",startChar:-1,endChar:-1,text:et.header},st)}var ut,ft,dt=!1;for(ut=0;ut<et.children.length;ut++){ft=et.children[ut],(ft.type==="note"||ft.type==="rest")&&(dt=!0);var lt=!1;ft.type!=="staff-extra"&&!_e.controller.classes.isInMeasure()&&(_e.controller.classes.startMeasure(),lt=!0),et.staff.isTabStaff&&(ft.invisible=!1,ft.type=="bar"&&ft.abcelem.lastBar&&(tt=et.topLine)),drawAbsolute(_e,ft,et.barto||ut===et.children.length-1?tt:0,nt,rt),(ft.type==="note"||isNonSpacerRest(ft))&&_e.controller.classes.incrNote(),ft.type==="bar"&&!lt&&dt&&_e.controller.classes.incrMeasure()}for(_e.controller.classes.startMeasure(),ut=0;ut<et.beams.length;ut++){var at=et.beams[ut];at==="bar"?_e.controller.classes.incrMeasure():drawBeam(_e,at)}for(_e.controller.classes.startMeasure(),ut=0;ut<et.otherchildren.length;ut++)if(ft=et.otherchildren[ut],ft==="bar")_e.controller.classes.incrMeasure();else switch(ft.type){case"GlissandoElem":ft.elemset=drawGlissando(_e,ft,nt);break;case"CrescendoElem":ft.elemset=drawCrescendo(_e,ft,nt);break;case"DynamicDecoration":ft.elemset=drawDynamics(_e,ft,nt);break;case"TripletElem":drawTriplet(_e,ft,nt);break;case"EndingElem":ft.elemset=drawEnding(_e,ft,et.startx+10,it,nt);break;case"TieElem":ft.elemset=drawTie(_e,ft,et.startx+10,it,nt);break;default:console.log(ft),drawAbsolute(_e,ft,et.startx+10,it,nt)}_e.foregroundColor=ot}function isNonSpacerRest(_e){return _e.type!=="rest"?!1:!!(_e.abcelem&&_e.abcelem.rest&&_e.abcelem.rest.type!=="spacer")}var voice=drawVoice$1,printStaffLine=staffLine;function printStaff$1(_e,et,tt,nt,rt,it){var ot="abcjs-top-line",st=2;rt&&(st=rt),_e.paper.openGroup({prepend:!0,klass:_e.controller.classes.generate("abcjs-staff")});var ut=0,ft=0;if(nt===1)printStaffLine(_e,et,tt,6,ot,null,it+_e.lineThickness),ut=_e.calcY(10),ft=_e.calcY(2);else for(var dt=nt-1;dt>=0;dt--){var lt=(dt+1)*st;ft=_e.calcY(lt),ut===0&&(ut=ft),printStaffLine(_e,et,tt,lt,ot,null,it+_e.lineThickness),ot=void 0}return _e.paper.closeGroup(),[ut,ft]}var staff=printStaff$1;function printDebugBox$1(_e,et,tt){var nt=_e.paper.rectBeneath(et);return tt&&_e.paper.text(tt,{x:0,y:et.y+7,"text-anchor":"start","font-size":"14px",fill:"rgba(0,0,255,.4)",stroke:"rgba(0,0,255,.4)"}),nt}var debugBox=printDebugBox$1;function drawSeparator$1(_e,et){var tt="rgba(0,0,0,255)",nt="rgba(0,0,0,0)",rt=Math.round(_e.y),it=_e.controller.width,ot=(it-et)/2,st=ot+et,ut="M "+ot+" "+rt+" L "+st+" "+rt+" L "+st+" "+(rt+1)+" L "+ot+" "+(rt+1)+" L "+ot+" "+rt+" z";_e.paper.pathToBack({path:ut,stroke:nt,fill:tt,class:_e.controller.classes.generate("defined-text")})}var separator=drawSeparator$1,drawSeparator=separator,renderText=text;function nonMusic$2(_e,et,tt){for(var nt=0;nt<et.rows.length;nt++){var rt=et.rows[nt];if(rt.absmove)_e.absolutemoveY(rt.absmove);else if(rt.move)_e.moveY(rt.move);else if(rt.text||rt.phrases){var it=rt.left?rt.left:0,ot=renderText(_e,{x:it,y:_e.y,text:rt.text,phrases:rt.phrases,"dominant-baseline":rt["dominant-baseline"],type:rt.font,klass:rt.klass,name:rt.name,anchor:rt.anchor});rt.absElemType&&tt.wrapSvgEl({el_type:rt.absElemType,name:rt.name,startChar:rt.startChar,endChar:rt.endChar,text:rt.text},ot)}else if(rt.separator)drawSeparator(_e,rt.separator);else if(rt.startGroup)_e.paper.openGroup({klass:rt.klass,"data-name":rt.name});else if(rt.endGroup){var st=_e.paper.closeGroup();rt.absElemType&&tt.wrapSvgEl({el_type:rt.absElemType,name:rt.name,startChar:rt.startChar,endChar:rt.endChar,text:""},st)}}}var nonMusic_1=nonMusic$2,spacing$2=spacing_1,drawBrace=brace,drawVoice=voice,printStaff=staff,printDebugBox=debugBox,printStem=printStem_1,nonMusic$1=nonMusic_1;function drawStaffGroup$1(_e,et,tt,nt){for(var rt,it=_e.y,ot=0;ot<et.staffs.length;ot++){var st=et.staffs[ot];_e.moveY(spacing$2.STEP,st.top),st.absoluteY=_e.y,_e.showDebug&&(_e.showDebug.indexOf("box")>=0&&st.voices&&boxAllElements(_e,et.voices,st.voices),_e.showDebug.indexOf("grid")>=0&&(_e.paper.dottedLine({x1:_e.padding.left,x2:_e.padding.left+_e.controller.width,y1:it,y2:it,stroke:"#0000ff"}),printDebugBox(_e,{x:_e.padding.left,y:_e.calcY(st.originalTop),width:_e.controller.width,height:_e.calcY(st.originalBottom)-_e.calcY(st.originalTop),fill:_e.foregroundColor,stroke:_e.foregroundColor,"fill-opacity":.1,"stroke-opacity":.1}),rt=0,xt(st,"chordHeightAbove"),xt(st,"chordHeightBelow"),xt(st,"dynamicHeightAbove"),xt(st,"dynamicHeightBelow"),xt(st,"endingHeightAbove"),xt(st,"lyricHeightAbove"),xt(st,"lyricHeightBelow"),xt(st,"partHeightAbove"),xt(st,"tempoHeightAbove"),xt(st,"volumeHeightAbove"),xt(st,"volumeHeightBelow"))),_e.moveY(spacing$2.STEP,-st.bottom),_e.showDebug&&_e.showDebug.indexOf("grid")>=0&&_e.paper.dottedLine({x1:_e.padding.left,x2:_e.padding.left+_e.controller.width,y1:_e.y,y2:_e.y,stroke:"#0000aa"})}for(var ut,ft,dt=2,lt=0,at=0;at<et.voices.length;at++){var ct=et.voices[at].staff,ht=et.voices[at].tabNameInfos;if(_e.y=ct.absoluteY,_e.controller.classes.incrVoice(),!et.voices[at].duplicate){if(ut||(ut=_e.calcY(10)),ft=_e.calcY(dt),ct.lines!==0){ct.linePitch&&(dt=ct.linePitch),_e.controller.classes.newMeasure();var pt=printStaff(_e,et.startx,et.w,ct.lines,ct.linePitch,.35);ft=pt[1],ct.bottomLine=ft,ct.topLine=pt[0],ct.hasTab&&(lt=ct.topLine),ct.hasStaff&&(lt=ct.hasStaff.topLine,et.voices[at].barto=!0,et.voices[at].topLine=ut)}printBrace(_e,ct.absoluteY,et.brace,at,tt),printBrace(_e,ct.absoluteY,et.bracket,at,tt)}drawVoice(_e,et.voices[at],lt,tt,{top:it,zero:_e.y,height:et.height*spacing$2.STEP});var mt=0;if(ht){var gt={rows:[]};gt.rows.push({absmove:ft+2});var yt=8;gt.rows.push({left:et.startx+yt,text:ht.name,font:"tablabelfont",klass:"text instrument-name",anchor:"start"}),gt.rows.push({move:ht.textSize.height}),nonMusic$1(_e,gt),mt=ht.textSize.height}_e.controller.classes.newMeasure(),et.voices[at].duplicate||(lt=_e.calcY(2+mt))}_e.controller.classes.newMeasure();var bt=et.staffs.length;bt>1&&(ut=et.staffs[0].topLine,ft=et.staffs[bt-1].bottomLine,printStem(_e,et.startx,.6,ut,ft,null)),_e.y=it;function xt(vt,wt){var _t=["rgb(207,27,36)","rgb(168,214,80)","rgb(110,161,224)","rgb(191,119,218)","rgb(195,30,151)","rgb(31,170,177)","rgb(220,166,142)"];if(vt.positionY&&vt.positionY[wt]){var Ct=vt.specialY[wt]*spacing$2.STEP;wt==="chordHeightAbove"&&vt.specialY.chordLines&&vt.specialY.chordLines.above&&(Ct*=vt.specialY.chordLines.above),wt==="chordHeightBelow"&&vt.specialY.chordLines&&vt.specialY.chordLines.below&&(Ct*=vt.specialY.chordLines.below),printDebugBox(_e,{x:_e.padding.left,y:_e.calcY(vt.positionY[wt]),width:_e.controller.width,height:Ct,fill:_t[rt],stroke:_t[rt],"fill-opacity":.4,"stroke-opacity":.4},wt.substr(0,4)),rt+=1,rt>6&&(rt=0)}}}function printBrace(_e,et,tt,nt,rt){if(tt)for(var it=0;it<tt.length;it++)tt[it].isStartVoice(nt)&&(tt[it].startY=et-spacing$2.STEP*10,tt[it].elemset=drawBrace(_e,tt[it],rt))}function boxAllElements(_e,et,tt){for(var nt=0;nt<tt.length;nt++)for(var rt=et[tt[nt]].children,it=0;it<rt.length;it++){var ot=rt[it],st=ot.getFixedCoords();if(!(ot.invisible||st.t===void 0||st.b===void 0)){var ut=(st.t-st.b)*spacing$2.STEP;printDebugBox(_e,{x:st.x,y:_e.calcY(st.t),width:st.w,height:ut,fill:"#88e888","fill-opacity":.4,stroke:"#4aa93d","stroke-opacity":.8});for(var ft=0;ft<ot.children.length;ft++){var dt=ot.children[ft],lt=dt.getChordDim();if(lt){var at=_e.calcY(dt.pitch);at+=dt.dim.font.size*dt.getLane(),printDebugBox(_e,{x:lt.left,y:at,width:lt.right-lt.left,height:dt.dim.font.size,fill:"none",stroke:"#4aa93d","stroke-opacity":.8})}}}}}var staffGroup=drawStaffGroup$1;function setPaperSize$1(_e,et,tt,nt){var rt=(et+_e.padding.left+_e.padding.right)*tt,it=(_e.y+_e.padding.bottom)*tt;if(_e.isPrint&&(it=Math.max(it,1056)),_e.ariaLabel!==""){var ot="Sheet Music";_e.abctune&&_e.abctune.metaText&&_e.abctune.metaText.title&&(ot+=' for "'+_e.abctune.metaText.title+'"'),_e.paper.setTitle(ot);var st=_e.ariaLabel?_e.ariaLabel:ot;_e.paper.setAttribute("aria-label",st)}var ut=["-webkit-touch-callout: none;","-webkit-user-select: none;","-khtml-user-select: none;","-moz-user-select: none;","-ms-user-select: none;","user-select: none;"];_e.paper.insertStyles(".abcjs-dragging-in-progress text, .abcjs-dragging-in-progress tspan {"+ut.join(" ")+"}");var ft={overflow:"hidden"};nt==="resize"?_e.paper.setResponsiveWidth(rt,it):(ft.width="",ft.height=it+"px",tt<1?(ft.width=rt+"px",_e.paper.setSize(rt/tt,it/tt)):_e.paper.setSize(rt,it)),_e.paper.setScale(tt),_e.paper.setParentStyles(ft)}var setPaperSize_1=setPaperSize$1,highlight=highlight_1,unhighlight=unhighlight_1;function Selectables$1(_e,et,tt){this.elements=[],this.paper=_e,this.tuneNumber=tt,this.selectTypes=et}Selectables$1.prototype.getElements=function(){return this.elements};Selectables$1.prototype.add=function(_e,et,tt,nt){if(this.canSelect(_e)){var rt;this.selectTypes===void 0?rt={selectable:!1,"data-index":this.elements.length}:rt={selectable:!0,tabindex:0,"data-index":this.elements.length},this.paper.setAttributeOnElement(et,rt);var it={absEl:_e,svgEl:et,isDraggable:tt};nt!==void 0&&(it.staffPos=nt),this.elements.push(it)}};Selectables$1.prototype.canSelect=function(_e){return this.selectTypes===!1||!_e||!_e.abcelem?!1:this.selectTypes===!0?!0:this.selectTypes===void 0?_e.abcelem.el_type==="note"||_e.abcelem.el_type==="tabNumber":this.selectTypes.indexOf(_e.abcelem.el_type)>=0};Selectables$1.prototype.wrapSvgEl=function(_e,et){var tt={tuneNumber:this.tuneNumber,abcelem:_e,elemset:[et],highlight,unhighlight};this.add(tt,et,!1)};var selectables=Selectables$1,drawStaffGroup=staffGroup,setPaperSize=setPaperSize_1,nonMusic=nonMusic_1,spacing$1=spacing_1,Selectables=selectables;function draw$1(_e,et,tt,nt,rt,it,ot,st,ut,ft){var dt=new Selectables(_e.paper,st,ut),lt={};et.shouldAddClasses&&(lt.klass="abcjs-meta-top"),_e.paper.openGroup(lt),_e.moveY(_e.padding.top),nonMusic(_e,tt.topText,dt),_e.paper.closeGroup(),_e.moveY(_e.spacing.music);for(var at=[],ct=0;ct<tt.lines.length;ct++){et.incrLine();var ht=tt.lines[ct];if(ht.staff){et.shouldAddClasses&&(lt.klass="abcjs-staff l"+et.lineNumber),_e.paper.openGroup(lt),ht.vskip&&_e.moveY(ht.vskip),at.length>=1&&addStaffPadding(_e,_e.spacing.staffSeparation,at[at.length-1],ht.staffGroup);var pt=engraveStaffLine(_e,ht.staffGroup,dt);pt.line=ft+ct,at.push(pt),_e.paper.closeGroup()}else ht.nonMusic&&(et.shouldAddClasses&&(lt.klass="abcjs-non-music"),_e.paper.openGroup(lt),nonMusic(_e,ht.nonMusic,dt),_e.paper.closeGroup())}return et.reset(),tt.bottomText&&tt.bottomText.rows&&tt.bottomText.rows.length>0&&(et.shouldAddClasses&&(lt.klass="abcjs-meta-bottom"),_e.paper.openGroup(lt),_e.moveY(24),nonMusic(_e,tt.bottomText,dt),_e.paper.closeGroup()),setPaperSize(_e,rt,ot,it),{staffgroups:at,selectables:dt.getElements()}}function engraveStaffLine(_e,et,tt,nt){drawStaffGroup(_e,et,tt);var rt=et.height*spacing$1.STEP;return _e.y+=rt,et}function addStaffPadding(_e,et,tt,nt){var rt=tt.staffs[tt.staffs.length-1],it=-(rt.bottom-2),ot=nt.staffs[0].top-10,st=ot+it,ut=st*spacing$1.STEP;ut<et&&_e.moveY(et-ut)}var draw_1=draw$1,spacing=spacing_1,AbstractEngraver=abstractEngraver,Renderer=renderer,FreeText=freeText,Separator=separator$1,Subtitle=subtitle,TopText=topText,BottomText=bottomText,setupSelection=selection,layout=layout_1,Classes=classes,GetFontAndAttr=getFontAndAttr,GetTextSize=getTextSize,draw=draw_1,tablatures=abc_tablatures,EngraverController$1=function(_e,et){et=et||{},this.oneSvgPerLine=et.oneSvgPerLine,this.selectionColor=et.selectionColor,this.dragColor=et.dragColor?et.dragColor:et.selectionColor,this.dragging=!!et.dragging,this.selectTypes=et.selectTypes,this.responsive=et.responsive,this.space=3*spacing.SPACE,this.initialClef=et.initialClef,this.expandToWidest=!!et.expandToWidest,this.scale=et.scale?parseFloat(et.scale):0,this.classes=new Classes({shouldAddClasses:et.add_classes}),this.scale>.1||(this.scale=void 0),et.staffwidth?(this.staffwidthScreen=et.staffwidth,this.staffwidthPrint=et.staffwidth):(this.staffwidthScreen=740,this.staffwidthPrint=680),this.listeners=[],et.clickListener&&this.addSelectListener(et.clickListener),this.renderer=new Renderer(_e),this.renderer.setPaddingOverride(et),et.showDebug&&(this.renderer.showDebug=et.showDebug),et.jazzchords&&(this.jazzchords=et.jazzchords),et.accentAbove&&(this.accentAbove=et.accentAbove),et.germanAlphabet&&(this.germanAlphabet=et.germanAlphabet),et.lineThickness&&(this.lineThickness=et.lineThickness),this.renderer.controller=this,this.renderer.foregroundColor=et.foregroundColor?et.foregroundColor:"currentColor",et.ariaLabel!==void 0&&(this.renderer.ariaLabel=et.ariaLabel),this.renderer.minPadding=et.minPadding?et.minPadding:0,this.reset()};EngraverController$1.prototype.reset=function(){this.selected=[],this.staffgroups=[],this.engraver&&this.engraver.reset(),this.engraver=null,this.renderer.reset(),this.dragTarget=null,this.dragIndex=-1,this.dragMouseStart={x:-1,y:-1},this.dragYStep=0,this.lineThickness&&this.renderer.setLineThickness(this.lineThickness)};EngraverController$1.prototype.engraveABC=function(_e,et,tt){_e[0]===void 0&&(_e=[_e]),this.reset();for(var nt=0;nt<_e.length;nt++)et===void 0&&(et=nt),this.getFontAndAttr=new GetFontAndAttr(_e[nt].formatting,this.classes),this.getTextSize=new GetTextSize(this.getFontAndAttr,this.renderer.paper),this.engraveTune(_e[nt],et,tt)};EngraverController$1.prototype.adjustNonScaledItems=function(_e){this.width/=_e,this.renderer.adjustNonScaledItems(_e)};EngraverController$1.prototype.getMeasureWidths=function(_e){this.reset(),this.getFontAndAttr=new GetFontAndAttr(_e.formatting,this.classes),this.getTextSize=new GetTextSize(this.getFontAndAttr,this.renderer.paper);var et=this.jazzchords;this.setupTune(_e,0),this.constructTuneElements(_e),layout(this.renderer,_e,0,this.space);for(var tt=[],nt,rt=!0,it=0;it<_e.lines.length;it++){var ot=_e.lines[it];if(ot.staff){if(rt&&(nt={left:0,measureWidths:[],total:0},tt.push(nt),rt=!1),ot.staffGroup.voices.length>0)for(var st=ot.staffGroup.voices[0],ut=!1,ft=0,dt=0;dt<st.children.length;dt++){var lt=st.children[dt];!ut&&!lt.isClef&&!lt.isKeySig&&(ut=!0,nt.left=lt.x,ft=lt.x),lt.type==="bar"&&(nt.measureWidths.push(lt.x-ft),nt.total+=lt.x-ft,ft=lt.x)}}else rt=!0}return this.jazzchords=et,tt};EngraverController$1.prototype.setupTune=function(_e,et){this.classes.reset(),_e.formatting.jazzchords!==void 0&&(this.jazzchords=_e.formatting.jazzchords),_e.formatting.accentAbove!==void 0&&(this.accentAbove=_e.formatting.accentAbove),this.renderer.newTune(_e),this.engraver=new AbstractEngraver(this.getTextSize,et,{bagpipes:_e.formatting.bagpipes,flatbeams:_e.formatting.flatbeams,graceSlurs:_e.formatting.graceSlurs!==!1,percmap:_e.formatting.percmap,initialClef:this.initialClef,jazzchords:this.jazzchords,accentAbove:this.accentAbove,germanAlphabet:this.germanAlphabet}),this.engraver.setStemHeight(this.renderer.spacing.stemHeight),this.engraver.measureLength=_e.getMeterFraction().num/_e.getMeterFraction().den,_e.formatting.staffwidth?this.width=_e.formatting.staffwidth*1.33:this.width=this.renderer.isPrint?this.staffwidthPrint:this.staffwidthScreen;var tt=_e.formatting.scale?_e.formatting.scale:this.scale;return this.responsive==="resize"&&(tt=void 0),tt===void 0&&(tt=this.renderer.isPrint?.75:1),this.adjustNonScaledItems(tt),tt};EngraverController$1.prototype.constructTuneElements=function(_e){_e.topText=new TopText(_e.metaText,_e.metaTextInfo,_e.formatting,_e.lines,this.width,this.renderer.isPrint,this.renderer.padding.left,this.renderer.spacing,this.classes.shouldAddClasses,this.getTextSize);var et,tt,nt=!1,rt=!1;for(et=0;et<_e.lines.length;et++)if(tt=_e.lines[et],tt.staff)rt=!0,tt.staffGroup=this.engraver.createABCLine(tt.staff,nt?null:_e.metaText.tempo,et),nt=!0;else if(tt.subtitle){if(rt){var it=this.width/2+this.renderer.padding.left;tt.nonMusic=new Subtitle(this.renderer.spacing.subtitle,_e.formatting,tt.subtitle,it,this.renderer.padding.left,this.getTextSize)}}else tt.text!==void 0?(rt=!0,tt.nonMusic=new FreeText(tt.text,tt.vskip,this.getFontAndAttr,this.renderer.padding.left,this.width,this.getTextSize)):tt.separator!==void 0&&tt.separator.lineLength&&(rt=!0,tt.nonMusic=new Separator(tt.separator.spaceAbove,tt.separator.lineLength,tt.separator.spaceBelow));_e.bottomText=new BottomText(_e.metaText,this.width,this.renderer.isPrint,this.renderer.padding.left,this.renderer.spacing,this.classes.shouldAddClasses,this.getTextSize)};EngraverController$1.prototype.engraveTune=function(_e,et,tt){var nt=this.jazzchords,rt=this.setupTune(_e,et);this.constructTuneElements(_e);var it=layout(this.renderer,_e,this.width,this.space,this.expandToWidest);if(this.expandToWidest&&it>this.width+1&&(_e.topText=new TopText(_e.metaText,_e.metaTextInfo,_e.formatting,_e.lines,it,this.renderer.isPrint,this.renderer.padding.left,this.renderer.spacing,this.classes.shouldAddClasses,this.getTextSize),_e.lines&&_e.lines.length>0))for(var ot=_e.lines.length,st=0;st<ot;++st){var ut=_e.lines[st];if(ut.nonMusic&&ut.nonMusic.rows&&ut.nonMusic.rows.length>0)for(var ft=ut.nonMusic.rows.length,dt=0;dt<ft;++dt){var lt=ut.nonMusic.rows[dt];lt.left&&(ut.subtitle?lt.left=it/2+this.renderer.padding.left:ut.text&&ut.text.length>0&&ut.text[0].center&&(lt.left=it/2+this.renderer.padding.left))}}_e.tablatures&&tablatures.layoutTablatures(this.renderer,_e);var at=draw(this.renderer,this.classes,_e,this.width,it,this.responsive,rt,this.selectTypes,et,tt);if(this.staffgroups=at.staffgroups,this.selectables=at.selectables,this.oneSvgPerLine){var ct=this.renderer.paper.svg.parentNode;this.svgs=splitSvgIntoLines(this.renderer,ct,_e.metaText.title,this.responsive)}else this.svgs=[this.renderer.paper.svg];setupSelection(this,this.svgs),this.jazzchords=nt};function splitSvgIntoLines(_e,et,tt,nt){tt||(tt="Untitled");var rt=et.querySelector("svg");nt==="resize"&&(et.style.paddingBottom="");for(var it=rt.querySelector("style"),ot=nt==="resize"?rt.viewBox.baseVal.width:rt.getAttribute("width"),st=et.querySelectorAll("svg > g"),ut=0,ft=[],dt=0;dt<st.length;dt++){var lt=st[dt],at=lt.getBBox(),ct=at.y-ut,ht=at.height+ct,pt=document.createElement("div"),mt="overflow: hidden;";nt!=="resize"&&(mt+="height:"+ht+"px;"),pt.setAttribute("style",mt);var gt=duplicateSvg(rt),yt='Sheet Music for "'+tt+'" section '+(dt+1);gt.setAttribute("aria-label",yt),nt!=="resize"&&gt.setAttribute("height",ht),nt==="resize"&&(gt.style.position="");var bt=_e.firefox112?ht+1:ht;gt.setAttribute("viewBox","0 "+ut+" "+ot+" "+bt),gt.appendChild(it.cloneNode(!0));var xt=document.createElement("title");xt.innerText=yt,gt.appendChild(xt),gt.appendChild(lt),pt.appendChild(gt),ft.push(gt),et.appendChild(pt),ut=at.y+at.height}return et.removeChild(rt),ft}function duplicateSvg(_e){for(var et="http://www.w3.org/2000/svg",tt=document.createElementNS(et,"svg"),nt=0;nt<_e.attributes.length;nt++){var rt=_e.attributes[nt];rt.name!=="height"&&rt.name!="aria-label"&&tt.setAttribute(rt.name,rt.value)}return tt}EngraverController$1.prototype.getDim=function(_e){if(!_e.dim){var et=_e.svgEl.getBBox();_e.dim={left:Math.round(et.x),top:Math.round(et.y),right:Math.round(et.x+et.width),bottom:Math.round(et.y+et.height)}}return _e.dim};EngraverController$1.prototype.addSelectListener=function(_e){this.listeners[this.listeners.length]=_e};var engraverController=EngraverController$1,tunebook$1=abc_tunebook,EngraverController=engraverController,Parse=abc_parse,wrap=wrap_lines,resizeDivs={};function resizeOuter(){var _e=window.innerWidth;for(var et in resizeDivs)if(resizeDivs.hasOwnProperty(et)){var tt=resizeDivs[et],nt=tt.offsetLeft;_e-=nt*2,tt.style.width=_e+"px"}}try{window.addEventListener("resize",resizeOuter),window.addEventListener("orientationChange",resizeOuter)}catch(_e){}function renderOne(_e,et,tt,nt,rt){tt.viewportHorizontal?(_e.innerHTML='<div class="abcjs-inner"></div>',tt.scrollHorizontal?(_e.style.overflowX="auto",_e.style.overflowY="hidden"):_e.style.overflow="hidden",resizeDivs[_e.id]=_e,_e=_e.children[0]):tt.viewportVertical?(_e.innerHTML='<div class="abcjs-inner scroll-amount"></div>',_e.style.overflowX="hidden",_e.style.overflowY="auto",_e=_e.children[0]):_e.innerHTML="";var it=new EngraverController(_e,tt);if(it.engraveABC(et,nt,rt),et.engraver=it,tt.viewportVertical||tt.viewportHorizontal){var ot=_e.parentNode;ot.style.width=_e.style.width}}var renderAbc$1=function(_e,et,tt,nt,rt){var it={},ot;if(tt){for(ot in tt)tt.hasOwnProperty(ot)&&(it[ot]=tt[ot]);it.warnings_id&&it.tablature&&(it.tablature.warning_id=it.warnings_id)}if(nt)for(ot in nt)nt.hasOwnProperty(ot)&&(ot==="listener"?nt[ot].highlight&&(it.clickListener=nt[ot].highlight):it[ot]=nt[ot]);if(rt)for(ot in rt)rt.hasOwnProperty(ot)&&(it[ot]=rt[ot]);function st(ut,ft,dt,lt){var at=!1;return ut==="*"&&(at=!0,ut=document.createElement("div"),ut.setAttribute("style","visibility: hidden;"),document.body.appendChild(ut)),!at&&it.wrap&&it.staffwidth?(ft=doLineWrapping(ut,ft,dt,lt,it),ft):(it.afterParsing&&it.afterParsing(ft,dt,lt),renderOne(ut,ft,it,dt,0),at&&ut.parentNode.removeChild(ut),null)}return tunebook$1.renderEngine(st,_e,et,it)};function doLineWrapping(_e,et,tt,nt,rt){var it=new EngraverController(_e,rt),ot=it.getMeasureWidths(et),st=wrap.calcLineWraps(et,ot,rt);if(st.reParse){var ut=new Parse;ut.parse(nt,st.revisedParams),et=ut.getTune();var ft=ut.getWarnings();ft&&(et.warnings=ft)}return rt.afterParsing&&rt.afterParsing(et,tt,nt),renderOne(_e,et,st.revisedParams,tt,0),et.explanation=st.explanation,et}var abc_tunebook_svg=renderAbc$1,soundsCache$3={},soundsCache_1=soundsCache$3,soundsCache$2=soundsCache_1,getNote$1=function(_e,et,tt,nt){soundsCache$2[et]||(soundsCache$2[et]={});var rt=soundsCache$2[et];return rt[tt]||(rt[tt]=new Promise(function(it,ot){var st=new XMLHttpRequest;let ut=_e+et+"-mp3/"+tt+".mp3";st.open("GET",ut,!0),st.responseType="arraybuffer",st.onload=function(){if(st.status!==200){ot(Error("Can't load sound at "+ut+" status="+st.status));return}var ft=function(lt){it({instrument:et,name:tt,status:"loaded",audioBuffer:lt})},dt=nt.decodeAudioData(st.response,ft,function(){ot(Error("Can't decode sound at "+ut))});dt&&typeof dt.catch=="function"&&dt.catch(ot)},st.onerror=function(){ot(Error("Can't load sound at "+ut))},st.send()}).catch(it=>{throw console.error("Didn't load note",et,tt,":",it.message),it})),rt[tt]},loadNote=getNote$1,instrumentIndexToName$3=["acoustic_grand_piano","bright_acoustic_piano","electric_grand_piano","honkytonk_piano","electric_piano_1","electric_piano_2","harpsichord","clavinet","celesta","glockenspiel","music_box","vibraphone","marimba","xylophone","tubular_bells","dulcimer","drawbar_organ","percussive_organ","rock_organ","church_organ","reed_organ","accordion","harmonica","tango_accordion","acoustic_guitar_nylon","acoustic_guitar_steel","electric_guitar_jazz","electric_guitar_clean","electric_guitar_muted","overdriven_guitar","distortion_guitar","guitar_harmonics","acoustic_bass","electric_bass_finger","electric_bass_pick","fretless_bass","slap_bass_1","slap_bass_2","synth_bass_1","synth_bass_2","violin","viola","cello","contrabass","tremolo_strings","pizzicato_strings","orchestral_harp","timpani","string_ensemble_1","string_ensemble_2","synth_strings_1","synth_strings_2","choir_aahs","voice_oohs","synth_choir","orchestra_hit","trumpet","trombone","tuba","muted_trumpet","french_horn","brass_section","synth_brass_1","synth_brass_2","soprano_sax","alto_sax","tenor_sax","baritone_sax","oboe","english_horn","bassoon","clarinet","piccolo","flute","recorder","pan_flute","blown_bottle","shakuhachi","whistle","ocarina","lead_1_square","lead_2_sawtooth","lead_3_calliope","lead_4_chiff","lead_5_charang","lead_6_voice","lead_7_fifths","lead_8_bass_lead","pad_1_new_age","pad_2_warm","pad_3_polysynth","pad_4_choir","pad_5_bowed","pad_6_metallic","pad_7_halo","pad_8_sweep","fx_1_rain","fx_2_soundtrack","fx_3_crystal","fx_4_atmosphere","fx_5_brightness","fx_6_goblins","fx_7_echoes","fx_8_scifi","sitar","banjo","shamisen","koto","kalimba","bagpipe","fiddle","shanai","tinkle_bell","agogo","steel_drums","woodblock","taiko_drum","melodic_tom","synth_drum","reverse_cymbal","guitar_fret_noise","breath_noise","seashore","bird_tweet","telephone_ring","helicopter","applause","gunshot","percussion"],instrumentIndexToName_1=instrumentIndexToName$3,instrumentIndexToName$2=instrumentIndexToName_1,createNoteMap$1=function(_e){for(var et=[],tt=0;tt<_e.tracks.length;tt++)et.push([]);var nt=instrumentIndexToName$2[0];return _e.tracks.forEach(function(rt,it){rt.forEach(function(ot){switch(ot.cmd){case"note":if(ot.duration>0){var st=ot.gap?ot.gap:0,ut=ot.duration;st=Math.min(st,ut*2/3);var ft={pitch:ot.pitch,instrument:nt,start:Math.round(ot.start*1e6)/1e6,end:Math.round((ot.start+ut-st)*1e6)/1e6,volume:ot.volume};ot.startChar&&(ft.startChar=ot.startChar),ot.endChar&&(ft.endChar=ot.endChar),ot.style&&(ft.style=ot.style),ot.cents&&(ft.cents=ot.cents),et[it].push(ft)}break;case"program":nt=instrumentIndexToName$2[ot.instrument];break;case"text":break;default:console.log("Unhandled midi event",ot)}})}),et},createNoteMap_1=createNoteMap$1;function registerAudioContext$4(_e){if(_e)window.abcjsAudioContext=_e;else if(!window.abcjsAudioContext){var et=window.AudioContext||window.webkitAudioContext;if(et)window.abcjsAudioContext=new et;else return!1}return window.abcjsAudioContext.state!=="suspended"}var registerAudioContext_1=registerAudioContext$4,registerAudioContext$3=registerAudioContext_1;function activeAudioContext$6(){return window.abcjsAudioContext||registerAudioContext$3(),window.abcjsAudioContext}var activeAudioContext_1=activeAudioContext$6,activeAudioContext$5=activeAudioContext_1;function supportsAudio$4(){if(!window.Promise||!window.AudioContext&&!window.webkitAudioContext&&!navigator.mozAudioContext&&!navigator.msAudioContext)return!1;var _e=activeAudioContext$5();if(_e)return _e.resume!==void 0}var supportsAudio_1=supportsAudio$4,pitchToNoteName$3={21:"A0",22:"Bb0",23:"B0",24:"C1",25:"Db1",26:"D1",27:"Eb1",28:"E1",29:"F1",30:"Gb1",31:"G1",32:"Ab1",33:"A1",34:"Bb1",35:"B1",36:"C2",37:"Db2",38:"D2",39:"Eb2",40:"E2",41:"F2",42:"Gb2",43:"G2",44:"Ab2",45:"A2",46:"Bb2",47:"B2",48:"C3",49:"Db3",50:"D3",51:"Eb3",52:"E3",53:"F3",54:"Gb3",55:"G3",56:"Ab3",57:"A3",58:"Bb3",59:"B3",60:"C4",61:"Db4",62:"D4",63:"Eb4",64:"E4",65:"F4",66:"Gb4",67:"G4",68:"Ab4",69:"A4",70:"Bb4",71:"B4",72:"C5",73:"Db5",74:"D5",75:"Eb5",76:"E5",77:"F5",78:"Gb5",79:"G5",80:"Ab5",81:"A5",82:"Bb5",83:"B5",84:"C6",85:"Db6",86:"D6",87:"Eb6",88:"E6",89:"F6",90:"Gb6",91:"G6",92:"Ab6",93:"A6",94:"Bb6",95:"B6",96:"C7",97:"Db7",98:"D7",99:"Eb7",100:"E7",101:"F7",102:"Gb7",103:"G7",104:"Ab7",105:"A7",106:"Bb7",107:"B7",108:"C8",109:"Db8",110:"D8",111:"Eb8",112:"E8",113:"F8",114:"Gb8",115:"G8",116:"Ab8",117:"A8",118:"Bb8",119:"B8",120:"C9",121:"Db9"},pitchToNoteName_1=pitchToNoteName$3,downloadBuffer$1=function(_e){return window.URL.createObjectURL(bufferToWave(_e.audioBuffers))};function bufferToWave(_e){var et=_e[0],tt=et.numberOfChannels,nt=et.length*tt*2+44,rt=new ArrayBuffer(nt),it=new DataView(rt),ot=[],st,ut,ft=0,dt=0;for(at(1179011410),at(nt-8),at(1163280727),at(544501094),at(16),lt(1),lt(tt),at(et.sampleRate),at(et.sampleRate*2*tt),lt(tt*2),lt(16),at(1635017060),at(nt-dt-4),st=0;st<tt;st++)ot.push(et.getChannelData(st));for(;dt<nt;){for(st=0;st<ot.length;st++)ut=Math.max(-1,Math.min(1,ot[st][ft])),ut=(.5+ut<0?ut*32768:ut*32767)|0,it.setInt16(dt,ut,!0),dt+=2;ft++}return new Blob([rt],{type:"audio/wav"});function lt(ct){it.setUint16(dt,ct,!0),dt+=2}function at(ct){it.setUint32(dt,ct,!0),dt+=4}}var downloadBuffer_1=downloadBuffer$1;function centsToFactor$2(_e){return Math.pow(2,_e/1200)}var centsToFactor_1=centsToFactor$2,soundsCache$1=soundsCache_1,pitchToNoteName$2=pitchToNoteName_1,centsToFactor$1=centsToFactor_1;function placeNote$1(_e,et,tt,nt,rt,it,ot,st,ut){var ft=window.OfflineAudioContext||window.webkitOfflineAudioContext,dt=tt.len*tt.tempoMultiplier;it&&(dt+=it/1e3),dt-=st,dt<0&&(dt=.005);var lt=new ft(2,Math.floor((dt+ot)*et),et),at=pitchToNoteName$2[tt.pitch];if(!soundsCache$1[tt.instrument])return ut&&ut("placeNote skipped (instrument empty): "+tt.instrument+":"+at),Promise.resolve();var ct=soundsCache$1[tt.instrument][at];return ct?ct.then(function(ht){var pt=lt.createBufferSource();pt.buffer=ht.audioBuffer;var mt=tt.volume/96*rt;pt.gainNode=lt.createGain(),tt.pan&&lt.createStereoPanner&&(pt.panNode=lt.createStereoPanner(),pt.panNode.pan.setValueAtTime(tt.pan,0)),pt.gainNode.gain.value=mt,pt.gainNode.gain.linearRampToValueAtTime(pt.gainNode.gain.value,dt),pt.gainNode.gain.linearRampToValueAtTime(0,dt+ot),tt.cents&&(pt.playbackRate.value=centsToFactor$1(tt.cents)),pt.panNode?(pt.panNode.connect(lt.destination),pt.gainNode.connect(pt.panNode)):pt.gainNode.connect(lt.destination),pt.connect(pt.gainNode),pt.start(0),pt.noteOff?pt.noteOff(dt+ot):pt.stop(dt+ot);var gt;return lt.oncomplete=function(yt){if(yt.renderedBuffer&&yt.renderedBuffer.getChannelData)for(var bt=0;bt<nt.length;bt++){var xt=nt[bt]*tt.tempoMultiplier;it&&(xt-=it/1e3),xt<0&&(xt=0),xt=Math.floor(xt*et),copyToChannel(_e,yt.renderedBuffer,xt)}ut&&ut("placeNote: "+tt.instrument+":"+at),gt()},lt.startRendering(),new Promise(function(yt){gt=yt})}).catch(function(ht){return ut&&ut("placeNote catch: "+ht.message),Promise.resolve()}):(ut&&ut("placeNote skipped: "+tt.instrument+":"+at),Promise.resolve())}var copyToChannel=function(_e,et,tt){for(var nt=0;nt<2;nt++)for(var rt=et.getChannelData(nt),it=_e.getChannelData(nt),ot=0;ot<rt.length;ot++)it[ot+tt]+=rt[ot]},placeNote_1=placeNote$1,getNote=loadNote,createNoteMap=createNoteMap_1,registerAudioContext$2=registerAudioContext_1,activeAudioContext$4=activeAudioContext_1,supportsAudio$3=supportsAudio_1,pitchToNoteName$1=pitchToNoteName_1,instrumentIndexToName$1=instrumentIndexToName_1,downloadBuffer=downloadBuffer_1,placeNote=placeNote_1,soundsCache=soundsCache_1,notSupportedMessage="MIDI is not supported in this browser.",originalSoundFontUrl="https://paulrosen.github.io/midi-js-soundfonts/abcjs/",defaultSoundFontUrl="https://paulrosen.github.io/midi-js-soundfonts/FluidR3_GM/",alternateSoundFontUrl="https://paulrosen.github.io/midi-js-soundfonts/MusyngKite/";function CreateSynth$3(){var _e=this;_e.audioBufferPossible=void 0,_e.directSource=[],_e.startTimeSec=void 0,_e.pausedTimeSec=void 0,_e.audioBuffers=[],_e.duration=void 0,_e.isRunning=!1,_e.init=function(tt){tt||(tt={}),registerAudioContext$2(tt.audioContext);var nt=activeAudioContext$4().currentTime;if(_e.debugCallback=tt.debugCallback,_e.debugCallback&&_e.debugCallback("init called"),_e.audioBufferPossible=_e._deviceCapable(),!_e.audioBufferPossible)return Promise.reject({status:"NotSupported",message:notSupportedMessage});var rt=tt.options?tt.options:{};_e.soundFontUrl=rt.soundFontUrl?rt.soundFontUrl:defaultSoundFontUrl,_e.soundFontUrl[_e.soundFontUrl.length-1]!=="/"&&(_e.soundFontUrl+="/"),rt.soundFontVolumeMultiplier||rt.soundFontVolumeMultiplier===0?_e.soundFontVolumeMultiplier=rt.soundFontVolumeMultiplier:_e.soundFontUrl===defaultSoundFontUrl||_e.soundFontUrl===alternateSoundFontUrl?_e.soundFontVolumeMultiplier=3:_e.soundFontUrl===originalSoundFontUrl?_e.soundFontVolumeMultiplier=.4:_e.soundFontVolumeMultiplier=1,rt.programOffsets?_e.programOffsets=rt.programOffsets:_e.soundFontUrl===originalSoundFontUrl?_e.programOffsets={bright_acoustic_piano:20,honkytonk_piano:20,electric_piano_1:30,electric_piano_2:30,harpsichord:40,clavinet:20,celesta:20,glockenspiel:40,vibraphone:30,marimba:35,xylophone:30,tubular_bells:35,dulcimer:30,drawbar_organ:20,percussive_organ:25,rock_organ:20,church_organ:40,reed_organ:40,accordion:40,harmonica:40,acoustic_guitar_nylon:20,acoustic_guitar_steel:30,electric_guitar_jazz:25,electric_guitar_clean:15,electric_guitar_muted:35,overdriven_guitar:25,distortion_guitar:20,guitar_harmonics:30,electric_bass_finger:15,electric_bass_pick:30,fretless_bass:40,violin:105,viola:50,cello:40,contrabass:60,trumpet:10,trombone:90,alto_sax:20,tenor_sax:20,clarinet:20,flute:50,banjo:50,woodblock:20}:_e.programOffsets={};var it=rt.fadeLength!==void 0?parseInt(rt.fadeLength,10):NaN;if(_e.fadeLength=isNaN(it)?200:it,it=rt.noteEnd!==void 0?parseInt(rt.noteEnd,10):NaN,_e.noteEnd=isNaN(it)?0:it,_e.pan=rt.pan,_e.meterSize=1,tt.visualObj){_e.flattened=tt.visualObj.setUpAudio(rt);var ot=tt.visualObj.getMeterFraction();ot.den&&(_e.meterSize=tt.visualObj.getMeterFraction().num/tt.visualObj.getMeterFraction().den)}else if(tt.sequence)_e.flattened=tt.sequence;else return Promise.reject(new Error("Must pass in either a visualObj or a sequence"));_e.millisecondsPerMeasure=tt.millisecondsPerMeasure?tt.millisecondsPerMeasure:tt.visualObj?tt.visualObj.millisecondsPerMeasure(_e.flattened.tempo):1e3,_e.beatsPerMeasure=tt.visualObj?tt.visualObj.getBeatsPerMeasure():4,_e.sequenceCallback=rt.sequenceCallback,_e.callbackContext=rt.callbackContext,_e.onEnded=rt.onEnded;var st={},ut=[],ft=[],dt=instrumentIndexToName$1[0];_e.flattened.tracks.forEach(function(pt){pt.forEach(function(mt){if(mt.cmd==="program"&&instrumentIndexToName$1[mt.instrument]&&(dt=instrumentIndexToName$1[mt.instrument]),mt.pitch!==void 0){var gt=mt.pitch,yt=pitchToNoteName$1[gt];if(yt)if(st[dt]||(st[dt]={}),!soundsCache[dt]||!soundsCache[dt][yt])st[dt][yt]=!0;else{var bt=dt+":"+yt;ut.indexOf(bt)<0&&ut.push(bt)}else{var xt=dt+":"+yt;console.log("Can't find note: ",gt,xt),ft.indexOf(xt)<0&&ft.push(xt)}}})}),_e.debugCallback&&_e.debugCallback("note gathering time = "+Math.floor((activeAudioContext$4().currentTime-nt)*1e3)+"ms"),nt=activeAudioContext$4().currentTime;var lt=[];Object.keys(st).forEach(function(pt){Object.keys(st[pt]).forEach(function(mt){lt.push({instrument:pt,note:mt})})}),_e.debugCallback&&_e.debugCallback("notes "+JSON.stringify(lt));for(var at=[],ct=256,ht=0;ht<lt.length;ht+=ct)at.push(lt.slice(ht,ht+ct));return new Promise(function(pt,mt){var gt={cached:ut,error:ft,loaded:[]},yt=0,bt=function(){_e.debugCallback&&_e.debugCallback("loadBatch idx="+yt+" len="+at.length),yt<at.length?_e._loadBatch(at[yt],_e.soundFontUrl,nt).then(function(xt){_e.debugCallback&&_e.debugCallback("loadBatch then"),nt=activeAudioContext$4().currentTime,xt&&(xt.error&&(gt.error=gt.error.concat(xt.error)),xt.loaded&&(gt.loaded=gt.loaded.concat(xt.loaded))),yt++,bt()},mt):(_e.debugCallback&&_e.debugCallback("resolve init"),pt(gt))};bt()})},_e._loadBatch=function(tt,nt,rt,it){var ot=[];return tt.forEach(function(st){_e.debugCallback&&_e.debugCallback("getNote "+st.instrument+":"+st.note),ot.push(getNote(nt,st.instrument,st.note,activeAudioContext$4()))}),Promise.all(ot).then(function(st){_e.debugCallback&&_e.debugCallback("mp3 load time = "+Math.floor((activeAudioContext$4().currentTime-rt)*1e3)+"ms");for(var ut=[],ft=[],dt=[],lt=[],at=0;at<st.length;at++){var ct=st[at],ht=ct.instrument+":"+ct.name;ct.status==="loaded"?ut.push(ht):ct.status==="pending"?dt.push(ht):ct.status==="cached"?ft.push(ht):lt.push(ht+" "+ct.message)}if(dt.length>0){if(_e.debugCallback&&_e.debugCallback("pending "+JSON.stringify(dt)),it?it=it*2:it=50,it<9e4)return new Promise(function(gt,yt){setTimeout(function(){var bt=[];for(at=0;at<dt.length;at++)ht=dt[at].split(":"),bt.push({instrument:ht[0],note:ht[1]});_e.debugCallback&&_e.debugCallback("retry "+JSON.stringify(bt)),_e._loadBatch(bt,nt,rt,it).then(function(xt){gt(xt)}).catch(function(xt){yt(xt)})},it)});for(var pt=[],mt=0;mt<tt.length;mt++)pt.push(tt[mt].instrument+"/"+tt[mt].note);return _e.debugCallback&&_e.debugCallback("loadBatch timeout"),Promise.reject(new Error("timeout attempting to load: "+pt.join(", ")))}else return _e.debugCallback&&_e.debugCallback("loadBatch resolve"),Promise.resolve({loaded:ut,cached:ft,error:lt})}).catch(function(st){_e.debugCallback&&_e.debugCallback("loadBatch catch "+st.message)})},_e.prime=function(){var tt=_e.fadeLength/1e3;return _e.isRunning=!1,_e.audioBufferPossible?(_e.debugCallback&&_e.debugCallback("prime called"),new Promise(function(nt){var rt=activeAudioContext$4().currentTime,it=_e.millisecondsPerMeasure/1e3/_e.meterSize;if(_e.duration=_e.flattened.totalDuration*it,_e.duration<=0)return _e.audioBuffers=[],nt({status:"empty",seconds:0});_e.duration+=tt;var ot=Math.floor(activeAudioContext$4().sampleRate*_e.duration);_e.stop();var st=createNoteMap(_e.flattened);_e.sequenceCallback&&_e.sequenceCallback(st,_e.callbackContext);var ut=et(st.length,_e.pan),ft={};st.forEach(function(gt,yt){var bt=ut&&ut.length>yt?ut[yt]:0;gt.forEach(function(xt){var vt=xt.instrument+":"+xt.pitch+":"+xt.volume+":"+Math.round((xt.end-xt.start)*1e3)/1e3+":"+bt+":"+it+":"+(xt.cents?xt.cents:0);_e.debugCallback&&_e.debugCallback("noteMapTrack "+vt),ft[vt]||(ft[vt]=[]),ft[vt].push(xt.start)})});for(var dt=[],lt=activeAudioContext$4().createBuffer(2,ot,activeAudioContext$4().sampleRate),at=0;at<Object.keys(ft).length;at++){var ct=Object.keys(ft)[at],ht=ct.split(":"),pt=ht[6]!==void 0?parseFloat(ht[6]):0;ht={instrument:ht[0],pitch:parseInt(ht[1],10),volume:parseInt(ht[2],10),len:parseFloat(ht[3]),pan:parseFloat(ht[4]),tempoMultiplier:parseFloat(ht[5]),cents:pt},dt.push(placeNote(lt,activeAudioContext$4().sampleRate,ht,ft[ct],_e.soundFontVolumeMultiplier,_e.programOffsets[ht.instrument],tt,_e.noteEnd/1e3,_e.debugCallback))}_e.audioBuffers=[lt],_e.debugCallback&&(_e.debugCallback("sampleRate = "+activeAudioContext$4().sampleRate),_e.debugCallback("totalSamples = "+ot),_e.debugCallback("creationTime = "+Math.floor((activeAudioContext$4().currentTime-rt)*1e3)+"ms"));function mt(gt){var yt=gt&&gt.audioBuffers&&gt.audioBuffers.length>0?gt.audioBuffers[0].duration:0;return{status:activeAudioContext$4().state,duration:yt}}Promise.all(dt).then(function(){activeAudioContext$4().state==="suspended"?activeAudioContext$4().resume().then(function(){nt(mt(_e))}):activeAudioContext$4().state==="interrupted"?activeAudioContext$4().suspend().then(function(){activeAudioContext$4().resume().then(function(){nt(mt(_e))})}):nt(mt(_e))})})):Promise.reject(new Error(notSupportedMessage))};function et(tt,nt){if(nt==null)return null;var rt=[];if(nt.length){for(var it=0;it<tt;it++)if(it<nt.length){var ot=parseFloat(nt[it]);ot<-1?ot=-1:ot>1&&(ot=1),rt.push(ot)}else rt.push(0);return rt}else{var st=parseFloat(nt);if(st*(tt-1)>2)return null;for(var ut=tt%2===0,ft=ut?0-st/2:0,dt=ft+st,lt=0;lt<tt;lt++)ut=lt%2===0,ut?(rt.push(ft),ft-=st):(rt.push(dt),dt+=st);return rt}}_e.start=function(){if(!_e.audioBufferPossible)throw new Error(notSupportedMessage);_e.debugCallback&&_e.debugCallback("start called");var tt=_e.pausedTimeSec?_e.pausedTimeSec:0;_e._kickOffSound(tt),_e.startTimeSec=activeAudioContext$4().currentTime-tt,_e.pausedTimeSec=void 0,_e.debugCallback&&_e.debugCallback("MIDI STARTED",_e.startTimeSec)},_e.pause=function(){if(!_e.audioBufferPossible)throw new Error(notSupportedMessage);return _e.debugCallback&&_e.debugCallback("pause called"),_e.pausedTimeSec=_e.stop(),_e.pausedTimeSec},_e.resume=function(){_e.start()},_e.seek=function(tt,nt){var rt;switch(nt){case"seconds":rt=tt;break;case"beats":rt=tt*_e.millisecondsPerMeasure/_e.beatsPerMeasure/1e3;break;default:rt=(_e.duration-_e.fadeLength/1e3)*tt;break}if(!_e.audioBufferPossible)throw new Error(notSupportedMessage);_e.debugCallback&&_e.debugCallback("seek called sec="+rt),_e.isRunning?(_e.stop(),_e._kickOffSound(rt)):_e.pausedTimeSec=rt,_e.pausedTimeSec=rt},_e.stop=function(){_e.isRunning=!1,_e.pausedTimeSec=void 0,_e.directSource.forEach(function(nt){try{nt.stop()}catch(rt){console.log("direct source didn't stop:",rt)}}),_e.directSource=[];var tt=activeAudioContext$4().currentTime-_e.startTimeSec;return tt},_e.finished=function(){_e.startTimeSec=void 0,_e.pausedTimeSec=void 0,_e.isRunning=!1},_e.download=function(){return downloadBuffer(_e)},_e.getAudioBuffer=function(){return _e.audioBuffers[0]},_e.getIsRunning=function(){return _e.isRunning},_e._deviceCapable=function(){return supportsAudio$3()?!0:(console.warn(notSupportedMessage),_e.debugCallback&&_e.debugCallback(notSupportedMessage),!1)},_e._kickOffSound=function(tt){_e.isRunning=!0,_e.directSource=[],_e.audioBuffers.forEach(function(nt,rt){_e.directSource[rt]=activeAudioContext$4().createBufferSource(),_e.directSource[rt].buffer=nt,_e.directSource[rt].connect(activeAudioContext$4().destination)}),_e.directSource.forEach(function(nt){nt.start(0,tt)}),_e.onEnded&&(_e.directSource[0].onended=function(){_e.onEnded(_e.callbackContext)})}}var createSynth=CreateSynth$3,SynthSequence$2=function(){var _e=this;_e.tracks=[],_e.totalDuration=0,_e.currentInstrument=[],_e.starts=[],_e.addTrack=function(){return _e.tracks.push([]),_e.currentInstrument.push(0),_e.starts.push(0),_e.tracks.length-1},_e.setInstrument=function(et,tt){_e.tracks[et].push({channel:0,cmd:"program",instrument:tt}),_e.currentInstrument[et]=tt},_e.appendNote=function(et,tt,nt,rt,it){var ot={cmd:"note",duration:nt,gap:0,instrument:_e.currentInstrument[et],pitch:tt,start:_e.starts[et],volume:rt};it&&(ot.cents=it),_e.tracks[et].push(ot),_e.starts[et]+=nt,_e.totalDuration=Math.max(_e.totalDuration,_e.starts[et])}},synthSequence=SynthSequence$2,svg$4=`
<svg version="1.0" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 700" preserveAspectRatio="xMidYMid meet">
	<g transform="translate(0,700) scale(0.1,-0.1)" >
	<path d="M3111 6981 c-20 -37 -90 -55 -364 -96 -120 -18 -190 -33 -244 -55
	-42 -17 -124 -42 -182 -56 -78 -18 -119 -34 -157 -60 -28 -19 -86 -46 -128
	-60 -43 -13 -107 -42 -144 -64 -37 -23 -84 -46 -106 -52 -21 -7 -56 -29 -79
	-50 -22 -22 -61 -50 -86 -63 -26 -13 -67 -40 -91 -60 -24 -20 -65 -47 -90 -60
	-25 -13 -53 -31 -61 -41 -8 -9 -32 -30 -54 -46 -75 -54 -486 -460 -512 -507
	-15 -25 -48 -69 -75 -98 -26 -28 -48 -57 -48 -63 0 -6 -18 -29 -39 -53 -21
	-23 -56 -71 -77 -107 -20 -36 -50 -80 -65 -97 -16 -18 -33 -52 -40 -75 -12
	-47 -47 -115 -84 -166 -13 -18 -30 -56 -38 -83 -8 -27 -34 -80 -56 -118 -33
	-53 -46 -91 -62 -167 -12 -63 -34 -127 -59 -179 -42 -84 -60 -166 -60 -270 0
	-90 26 -122 125 -154 54 -17 96 -19 430 -20 305 -1 381 2 430 14 82 22 140 51
	153 78 6 12 22 47 37 77 14 30 38 77 54 103 15 27 34 73 40 103 7 30 28 78 48
	107 19 28 44 74 55 101 10 28 34 67 53 87 18 20 49 61 68 90 19 30 44 63 57
	74 13 11 36 40 52 65 59 94 232 270 306 313 20 11 57 37 82 58 25 20 70 52
	100 72 30 19 66 47 79 61 13 14 49 35 80 46 30 12 80 37 111 56 31 19 95 45
	143 58 48 12 110 37 139 55 63 40 127 55 323 76 83 9 208 28 279 41 156 29
	165 29 330 4 453 -71 514 -84 606 -130 31 -16 83 -36 116 -45 32 -9 84 -34
	115 -56 31 -21 82 -48 113 -60 32 -11 72 -33 89 -48 18 -16 59 -45 92 -65 33
	-21 74 -51 90 -66 17 -15 49 -40 73 -54 52 -32 65 -61 50 -113 -8 -31 -61 -90
	-277 -308 -300 -303 -361 -382 -369 -481 -2 -29 0 -66 6 -81 13 -40 88 -138
	115 -151 12 -6 54 -26 92 -44 l70 -33 945 -2 c520 -1 975 2 1012 7 64 8 191
	50 231 76 11 7 33 34 50 60 22 34 42 51 65 58 l32 9 0 1101 0 1102 -32 9 c-21
	7 -44 26 -64 55 -60 84 -77 97 -140 110 -44 9 -76 10 -127 2 -59 -9 -77 -17
	-134 -62 -37 -28 -172 -155 -301 -281 -129 -127 -249 -237 -267 -245 -25 -10
	-41 -11 -71 -2 -58 15 -112 45 -124 69 -6 11 -35 35 -64 54 -28 18 -58 41 -66
	50 -8 9 -41 35 -75 58 -33 22 -77 56 -99 75 -21 18 -64 46 -95 61 -31 14 -73
	39 -93 55 -20 15 -70 40 -110 55 -40 15 -97 44 -127 64 -29 21 -78 44 -107 53
	-30 8 -77 31 -105 51 -42 28 -73 39 -173 60 -68 14 -154 39 -196 58 -95 43
	-131 51 -343 76 -209 24 -242 32 -279 70 l-30 29 -328 0 c-312 0 -330 -1 -339
	-19z"></path>
	<path d="M254 2875 c-89 -16 -107 -26 -145 -78 -32 -44 -62 -66 -91 -67 -17 0
	-18 -61 -18 -1140 l0 -1140 24 0 c16 0 41 -17 72 -50 40 -42 61 -55 117 -72
	l69 -21 82 23 c44 12 96 30 114 39 18 9 148 132 290 272 141 141 267 261 279
	268 51 26 86 14 176 -61 32 -26 62 -48 66 -48 5 0 36 -25 70 -55 34 -30 74
	-61 89 -69 15 -8 37 -28 50 -45 12 -17 50 -45 84 -62 34 -17 78 -44 98 -60 19
	-16 61 -37 93 -48 32 -11 81 -37 107 -56 27 -20 76 -45 109 -56 33 -12 75 -31
	93 -44 62 -45 93 -58 191 -82 54 -12 130 -37 168 -54 68 -29 180 -58 226 -59
	62 0 183 -64 183 -96 0 -12 88 -14 639 -14 l639 0 12 30 c18 44 76 66 233 89
	89 14 160 30 200 47 34 15 106 42 159 60 54 18 112 44 130 57 47 35 85 52 146
	67 29 7 76 28 105 48 29 20 77 48 107 63 30 15 66 39 80 54 14 15 50 40 81 56
	31 15 78 46 104 69 26 22 61 46 79 54 17 7 43 26 56 42 14 16 41 41 60 56 64
	48 380 362 408 405 15 23 40 51 55 63 15 12 36 38 46 58 11 21 37 57 58 82 22
	25 49 62 62 83 13 20 38 56 57 78 19 23 50 74 69 113 19 39 46 86 59 104 14
	18 34 62 46 98 12 36 32 77 45 92 31 38 60 97 80 167 9 33 26 76 37 95 29 50
	47 103 68 206 10 52 32 117 51 155 29 56 33 74 34 140 0 94 -10 108 -101 138
	-61 20 -83 21 -463 21 -226 0 -421 -4 -451 -10 -63 -12 -86 -30 -110 -85 -10
	-22 -33 -63 -52 -92 -21 -31 -42 -80 -53 -123 -11 -44 -32 -93 -56 -128 -20
	-32 -47 -83 -59 -115 -12 -32 -37 -77 -56 -100 -19 -23 -50 -65 -69 -94 -19
	-29 -44 -57 -54 -63 -11 -5 -29 -27 -42 -47 -52 -85 -234 -277 -300 -315 -25
	-15 -53 -38 -62 -51 -9 -14 -42 -39 -74 -57 -32 -18 -75 -48 -95 -66 -21 -18
	-59 -44 -85 -58 -26 -13 -72 -40 -100 -59 -35 -24 -78 -41 -128 -52 -47 -11
	-99 -31 -139 -56 -69 -42 -94 -49 -391 -110 -245 -51 -425 -66 -595 -50 -168
	16 -230 27 -330 61 -47 16 -123 35 -170 44 -98 17 -123 25 -172 58 -20 14 -71
	37 -114 53 -44 15 -95 40 -115 56 -20 16 -70 42 -110 59 -40 16 -88 45 -108
	63 -20 19 -55 46 -78 61 -24 14 -49 35 -55 47 -7 11 -34 33 -60 49 -50 31 -65
	61 -53 102 4 13 130 147 281 298 236 238 277 283 299 335 15 32 35 71 46 86
	12 18 19 44 19 76 0 42 -8 63 -53 138 -92 151 11 139 -1207 141 -798 2 -1030
	0 -1086 -11z"></path>
	</g>
</svg>
`,loop_svg=svg$4,svg$3=`
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 25" class="abcjs-play-svg">
    <g>
    <polygon points="4 0 23 12.5 4 25"/>
    </g>
</svg>
`,play_svg=svg$3,svg$2=`
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 25" class="abcjs-pause-svg">
  <g>
    <rect width="8.23" height="25"/>
    <rect width="8.23" height="25" x="17"/>
  </g>
</svg>
`,pause_svg=svg$2,svg$1=`
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" class="abcjs-loading-svg">
    <circle cx="50" cy="50" fill="none" stroke-width="20" r="35" stroke-dasharray="160 55"></circle>
</svg>
`,loading_svg=svg$1,svg=`
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 25">
  <g>
    <polygon points="5 12.5 24 0 24 25"/>
    <rect width="3" height="25" x="0" y="0"/>
  </g>
</svg>
`,reset_svg=svg,supportsAudio$2=supportsAudio_1,registerAudioContext$1=registerAudioContext_1,activeAudioContext$3=activeAudioContext_1,parseCommon$1=abc_common,loopImage=loop_svg,playImage=play_svg,pauseImage=pause_svg,loadingImage=loading_svg,resetImage=reset_svg;function CreateSynthControl$2(_e,et){var tt=this;if(typeof _e=="string"){var nt=_e;if(_e=document.querySelector(nt),!_e)throw new Error('Cannot find element "'+nt+'" in the DOM.')}else if(!(_e instanceof HTMLElement))throw new Error("The first parameter must be a valid element or selector in the DOM.");if(tt.parent=_e,tt.options={},et&&(tt.options=parseCommon$1.clone(et)),tt.options.ac&&registerAudioContext$1(tt.options.ac),buildDom(tt.parent,tt.options),attachListeners(tt),tt.disable=function(it){var ot=tt.parent.querySelector(".abcjs-inline-audio");it?ot.classList.add("abcjs-disabled"):ot.classList.remove("abcjs-disabled")},tt.setWarp=function(it,ot){var st=tt.parent.querySelector(".abcjs-midi-tempo");st.value=Math.round(ot),tt.setTempo(it)},tt.setTempo=function(it){var ot=tt.parent.querySelector(".abcjs-midi-current-tempo");ot&&(ot.innerHTML=Math.round(it))},tt.resetAll=function(){for(var it=tt.parent.querySelectorAll(".abcjs-pushed"),ot=0;ot<it.length;ot++){var st=it[ot];st.classList.remove("abcjs-pushed")}},tt.pushPlay=function(it){var ot=tt.parent.querySelector(".abcjs-midi-start");ot&&(it?ot.classList.add("abcjs-pushed"):ot.classList.remove("abcjs-pushed"))},tt.pushLoop=function(it){var ot=tt.parent.querySelector(".abcjs-midi-loop");ot&&(it?ot.classList.add("abcjs-pushed"):ot.classList.remove("abcjs-pushed"))},tt.setProgress=function(it,ot){var st=tt.parent.querySelector(".abcjs-midi-progress-background"),ut=tt.parent.querySelector(".abcjs-midi-progress-indicator");if(!(!st||!ut)){var ft=st.clientWidth,dt=ft*it;ut.style.left=dt+"px";var lt=tt.parent.querySelector(".abcjs-midi-clock");if(lt){var at=ot*it/1e3,ct=Math.floor(at/60),ht=Math.floor(at%60),pt=ht<10?"0"+ht:ht;lt.innerHTML=ct+":"+pt}}},tt.options.afterResume){var rt=!1;tt.options.ac?rt=tt.options.ac.state!=="suspended":activeAudioContext$3()&&(rt=activeAudioContext$3().state!=="suspended"),rt&&tt.options.afterResume()}}function buildDom(_e,et){var tt=!!et.loopHandler,nt=!!et.restartHandler,rt=!!et.playHandler||!!et.playPromiseHandler,it=!!et.progressHandler,ot=!!et.warpHandler,st=et.hasClock!==!1,ut=`<div class="abcjs-inline-audio">
`;if(tt){var ft=et.repeatTitle?et.repeatTitle:"Click to toggle play once/repeat.",dt=et.repeatAria?et.repeatAria:ft;ut+='<button type="button" class="abcjs-midi-loop abcjs-btn" title="'+ft+'" aria-label="'+dt+'">'+loopImage+`</button>
`}if(nt){var lt=et.restartTitle?et.restartTitle:"Click to go to beginning.",at=et.restartAria?et.restartAria:lt;ut+='<button type="button" class="abcjs-midi-reset abcjs-btn" title="'+lt+'" aria-label="'+at+'">'+resetImage+`</button>
`}if(rt){var ct=et.playTitle?et.playTitle:"Click to play/pause.",ht=et.playAria?et.playAria:ct;ut+='<button type="button" class="abcjs-midi-start abcjs-btn" title="'+ct+'" aria-label="'+ht+'">'+playImage+pauseImage+loadingImage+`</button>
`}if(it){var pt=et.randomTitle?et.randomTitle:"Click to change the playback position.",mt=et.randomAria?et.randomAria:pt;ut+='<button type="button" class="abcjs-midi-progress-background" title="'+pt+'" aria-label="'+mt+`"><span class="abcjs-midi-progress-indicator"></span></button>
`}if(st&&(ut+=`<span class="abcjs-midi-clock"></span>
`),ot){var gt=et.warpTitle?et.warpTitle:"Change the playback speed.",yt=et.warpAria?et.warpAria:gt,bt=et.bpm?et.bpm:"BPM";ut+='<span class="abcjs-tempo-wrapper"><label><input class="abcjs-midi-tempo" type="number" min="1" max="300" value="100" title="'+gt+'" aria-label="'+yt+'">%</label><span>&nbsp;(<span class="abcjs-midi-current-tempo"></span> '+bt+`)</span></span>
`}ut+='<div class="abcjs-css-warning" style="font-size: 12px;color:red;border: 1px solid red;text-align: center;width: 300px;margin-top: 4px;font-weight: bold;border-radius: 4px;">CSS required: load abcjs-audio.css</div>',ut+=`</div>
`,_e.innerHTML=ut}function acResumerMiddleWare(_e,et,tt,nt,rt){var it=!0;if(activeAudioContext$3()?it=activeAudioContext$3().state==="suspended":registerAudioContext$1(),!supportsAudio$2())throw{status:"NotSupported",message:"This browser does not support audio."};(it||rt)&&tt&&tt.classList.add("abcjs-loading"),it?activeAudioContext$3().resume().then(function(){nt?nt().then(function(ot){doNext(_e,et,tt,rt)}):doNext(_e,et,tt,rt)}):doNext(_e,et,tt,rt)}function doNext(_e,et,tt,nt){nt?_e(et).then(function(){tt&&tt.classList.remove("abcjs-loading")}):(_e(et),tt&&tt.classList.remove("abcjs-loading"))}function attachListeners(_e){var et=!!_e.options.loopHandler,tt=!!_e.options.restartHandler,nt=!!_e.options.playHandler||!!_e.options.playPromiseHandler,rt=!!_e.options.progressHandler,it=!!_e.options.warpHandler,ot=_e.parent.querySelector(".abcjs-midi-start");et&&_e.parent.querySelector(".abcjs-midi-loop").addEventListener("click",function(st){acResumerMiddleWare(_e.options.loopHandler,st,ot,_e.options.afterResume)}),tt&&_e.parent.querySelector(".abcjs-midi-reset").addEventListener("click",function(st){acResumerMiddleWare(_e.options.restartHandler,st,ot,_e.options.afterResume)}),nt&&ot.addEventListener("click",function(st){acResumerMiddleWare(_e.options.playPromiseHandler||_e.options.playHandler,st,ot,_e.options.afterResume,!!_e.options.playPromiseHandler)}),rt&&_e.parent.querySelector(".abcjs-midi-progress-background").addEventListener("click",function(st){acResumerMiddleWare(_e.options.progressHandler,st,ot,_e.options.afterResume)}),it&&_e.parent.querySelector(".abcjs-midi-tempo").addEventListener("change",function(st){acResumerMiddleWare(_e.options.warpHandler,st,ot,_e.options.afterResume)})}var createSynthControl=CreateSynthControl$2,SynthSequence$1=synthSequence,CreateSynth$2=createSynth,activeAudioContext$2=activeAudioContext_1;function playEvent$1(_e,et,tt,nt,rt){for(var it=new SynthSequence$1,ot=0;ot<_e.length;ot++){var st=_e[ot],ut=it.addTrack();if(it.setInstrument(ut,st.instrument),ot===0&&et)for(var ft=0;ft<et.length;ft++){var dt=et[ft];it.appendNote(ut,dt.pitch,1/64,dt.volume,dt.cents)}it.appendNote(ut,st.pitch,st.duration,st.volume,st.cents)}var lt=activeAudioContext$2();return lt.state==="suspended"?lt.resume().then(function(){return doPlay(it,tt,nt,rt)}):doPlay(it,tt,nt,rt)}function doPlay(_e,et,tt,nt){var rt=new CreateSynth$2;return rt.init({sequence:_e,millisecondsPerMeasure:et,options:{soundFontUrl:tt},debugCallback:nt}).then(function(){return rt.prime()}).then(function(){return rt.start(),Promise.resolve()})}var playEvent_1=playEvent$1,CreateSynthControl$1=createSynthControl,CreateSynth$1=createSynth,TimingCallbacks=abc_timing_callbacks,activeAudioContext$1=activeAudioContext_1;function SynthController$2(){var _e=this;_e.warp=100,_e.cursorControl=null,_e.visualObj=null,_e.timer=null,_e.midiBuffer=null,_e.options=null,_e.currentTempo=null,_e.control=null,_e.isLooping=!1,_e.isStarted=!1,_e.isLoaded=!1,_e.isLoading=!1,_e.load=function(tt,nt,rt){rt||(rt={}),rt.displayPlay===void 0&&(rt.displayPlay=!0),rt.displayProgress===void 0&&(rt.displayProgress=!0),_e.control=new CreateSynthControl$1(tt,{loopHandler:rt.displayLoop?_e.toggleLoop:void 0,restartHandler:rt.displayRestart?_e.restart:void 0,playPromiseHandler:rt.displayPlay?_e.play:void 0,progressHandler:rt.displayProgress?_e.randomAccess:void 0,warpHandler:rt.displayWarp?_e.onWarp:void 0,afterResume:_e.init}),_e.cursorControl=nt,_e.disable(!0)},_e.disable=function(tt){_e.control&&_e.control.disable(tt)},_e.setTune=function(tt,nt,rt){return _e.visualObj=tt,_e.disable(!1),_e.options=rt||{},_e.control&&(_e.pause(),_e.setProgress(0,1),_e.control.resetAll(),_e.restart(),_e.isStarted=!1),_e.isLooping=!1,nt?_e.go():Promise.resolve({status:"no-audio-context"})},_e.go=function(){_e.isLoading=!0;var tt=_e.visualObj.millisecondsPerMeasure()*100/_e.warp;_e.currentTempo=Math.round(_e.visualObj.getBeatsPerMeasure()/tt*6e4),_e.control&&_e.control.setTempo(_e.currentTempo),_e.percent=0;var nt;return _e.midiBuffer||(_e.midiBuffer=new CreateSynth$1),activeAudioContext$1().resume().then(function(rt){return _e.midiBuffer.init({visualObj:_e.visualObj,options:_e.options,millisecondsPerMeasure:tt})}).then(function(rt){return nt=rt,_e.midiBuffer.prime()}).then(function(){var rt=16;return _e.cursorControl&&_e.cursorControl.beatSubdivisions!==void 0&&parseInt(_e.cursorControl.beatSubdivisions,10)>=1&&parseInt(_e.cursorControl.beatSubdivisions,10)<=64&&(rt=parseInt(_e.cursorControl.beatSubdivisions,10)),_e.timer=new TimingCallbacks(_e.visualObj,{beatCallback:_e.beatCallback,eventCallback:_e.eventCallback,lineEndCallback:_e.lineEndCallback,qpm:_e.currentTempo,extraMeasuresAtBeginning:_e.cursorControl?_e.cursorControl.extraMeasuresAtBeginning:void 0,lineEndAnticipation:_e.cursorControl?_e.cursorControl.lineEndAnticipation:0,beatSubdivisions:rt}),_e.cursorControl&&_e.cursorControl.onReady&&typeof _e.cursorControl.onReady=="function"&&_e.cursorControl.onReady(_e),_e.isLoaded=!0,_e.isLoading=!1,Promise.resolve({status:"created",notesStatus:nt})})},_e.destroy=function(){_e.timer&&(_e.timer.reset(),_e.timer.stop(),_e.timer=null),_e.midiBuffer&&(_e.midiBuffer.stop(),_e.midiBuffer=null),_e.setProgress(0,1),_e.control&&_e.control.resetAll()},_e.play=function(){return _e.runWhenReady(_e._play,void 0)};function et(tt){return new Promise(function(nt){setTimeout(nt,tt)})}_e.runWhenReady=function(tt,nt){return _e.visualObj?_e.isLoading?et(500).then(function(){return _e.isLoading?_e.runWhenReady(tt,nt):tt(nt)}):_e.isLoaded?tt(nt):_e.go().then(function(){return tt(nt)}):Promise.resolve({status:"loading"})},_e._play=function(){return activeAudioContext$1().resume().then(function(){return _e.isStarted=!_e.isStarted,_e.isStarted?(_e.cursorControl&&_e.cursorControl.onStart&&typeof _e.cursorControl.onStart=="function"&&_e.cursorControl.onStart(),_e.midiBuffer.start(),_e.timer.start(_e.percent),_e.control&&_e.control.pushPlay(!0)):_e.pause(),Promise.resolve({status:"ok"})})},_e.pause=function(){_e.timer&&(_e.timer.pause(),_e.midiBuffer.pause(),_e.control&&_e.control.pushPlay(!1))},_e.toggleLoop=function(){_e.isLooping=!_e.isLooping,_e.control&&_e.control.pushLoop(_e.isLooping)},_e.restart=function(){_e.timer&&(_e.timer.setProgress(0),_e.midiBuffer.seek(0))},_e.randomAccess=function(tt){return _e.runWhenReady(_e._randomAccess,tt)},_e._randomAccess=function(tt){var nt=tt.target.classList.contains("abcjs-midi-progress-indicator")?tt.target.parentNode:tt.target,rt=(tt.x-nt.getBoundingClientRect().left)/nt.offsetWidth;return rt<0&&(rt=0),rt>1&&(rt=1),_e.seek(rt),Promise.resolve({status:"ok"})},_e.seek=function(tt,nt){_e.timer&&_e.midiBuffer&&(_e.timer.setProgress(tt,nt),_e.midiBuffer.seek(tt,nt))},_e.setWarp=function(tt){if(parseInt(tt,10)>0){_e.warp=parseInt(tt,10);var nt=_e.isStarted,rt=_e.percent;return _e.destroy(),_e.isStarted=!1,_e.go().then(function(){return _e.setProgress(rt,_e.midiBuffer.duration*1e3),_e.control&&_e.control.setWarp(_e.currentTempo,_e.warp),nt?_e.play().then(function(){return _e.seek(rt),Promise.resolve()}):(_e.seek(rt),Promise.resolve())})}return Promise.resolve()},_e.onWarp=function(tt){var nt=tt.target.value;return _e.setWarp(nt)},_e.setProgress=function(tt,nt){_e.percent=tt,_e.control&&_e.control.setProgress(tt,nt)},_e.finished=function(){if(_e.timer.reset(),_e.isLooping)return _e.timer.start(0),_e.midiBuffer.finished(),_e.midiBuffer.start(),"continue";_e.timer.stop(),_e.isStarted&&(_e.control&&_e.control.pushPlay(!1),_e.isStarted=!1,_e.midiBuffer.finished(),_e.cursorControl&&_e.cursorControl.onFinished&&typeof _e.cursorControl.onFinished=="function"&&_e.cursorControl.onFinished(),_e.setProgress(0,1))},_e.beatCallback=function(tt,nt,rt,it){var ot=tt/nt;_e.setProgress(ot,rt),_e.cursorControl&&_e.cursorControl.onBeat&&typeof _e.cursorControl.onBeat=="function"&&_e.cursorControl.onBeat(tt,nt,rt,it)},_e.eventCallback=function(tt){if(tt)_e.cursorControl&&_e.cursorControl.onEvent&&typeof _e.cursorControl.onEvent=="function"&&_e.cursorControl.onEvent(tt);else return _e.finished()},_e.lineEndCallback=function(tt,nt){_e.cursorControl&&_e.cursorControl.onLineEnd&&typeof _e.cursorControl.onLineEnd=="function"&&_e.cursorControl.onLineEnd(tt,nt)},_e.getUrl=function(){return _e.midiBuffer.download()},_e.download=function(tt){var nt=_e.getUrl(),rt=document.createElement("a");document.body.appendChild(rt),rt.setAttribute("style","display: none;"),rt.href=nt,rt.download=tt||"output.wav",rt.click(),window.URL.revokeObjectURL(nt),document.body.removeChild(rt)}}var synthController=SynthController$2,centsToFactor=centsToFactor_1,rendererFactory$1;(function(){function _e(dt,lt){for(var at in lt)lt.hasOwnProperty(at)&&dt.setAttribute(at,lt[at]);return dt}function et(){this.trackstrings="",this.trackcount=0,this.noteOnAndChannel="%90",this.noteOffAndChannel="%80"}et.prototype.setTempo=function(dt){this.trackcount===0&&(this.startTrack(),this.track+="%00%FF%51%03"+st(Math.round(6e7/dt),6),this.endTrack())},et.prototype.setGlobalInfo=function(dt,lt,at,ct){if(this.trackcount===0){this.startTrack();var ht=Math.round(6e7/dt);this.track+="%00%FF%51%03"+st(ht,6),at&&(this.track+=rt(at)),ct&&(this.track+=it(ct)),lt&&(this.track+=nt(lt,"%01")),this.endTrack()}},et.prototype.startTrack=function(){this.noteWarped={},this.track="",this.trackName="",this.trackInstrument="",this.silencelength=0,this.trackcount++,this.instrument&&this.setInstrument(this.instrument)},et.prototype.endTrack=function(){this.track=this.trackName+this.trackInstrument+this.track;var dt=st(this.track.length/3+4,8);this.track="MTrk"+dt+this.track+"%00%FF%2F%00",this.trackstrings+=this.track},et.prototype.setText=function(dt,lt){switch(dt){case"name":this.trackName=nt(lt,"%03");break}},et.prototype.setInstrument=function(dt){this.trackInstrument="%00%C0"+st(dt,2),this.instrument=dt},et.prototype.setChannel=function(dt,lt){this.channel=dt;var at="%00%B"+this.channel.toString(16);this.track+=at+"%79%00",this.track+=at+"%40%00",this.track+=at+"%5B%30",lt||(lt=0),lt=Math.round((lt+1)*64),this.track+=at+"%0A"+st(lt,2),this.track+=at+"%07%64",this.noteOnAndChannel="%9"+this.channel.toString(16),this.noteOffAndChannel="%8"+this.channel.toString(16)};var tt=4096;et.prototype.startNote=function(dt,lt,at){if(this.track+=ft(this.silencelength),this.silencelength=0,at){this.track+="%e"+this.channel.toString(16);var ct=Math.round(centsToFactor(at)*tt);this.track+=ut(8192+ct),this.track+=ft(0),this.noteWarped[dt]=!0}this.track+=this.noteOnAndChannel,this.track+="%"+dt.toString(16)+st(lt,2)},et.prototype.endNote=function(dt){this.track+=ft(this.silencelength),this.silencelength=0,this.noteWarped[dt]&&(this.track+="%e"+this.channel.toString(16),this.track+=ut(8192),this.track+=ft(0),this.noteWarped[dt]=!1),this.track+=this.noteOffAndChannel,this.track+="%"+dt.toString(16)+"%00"},et.prototype.addRest=function(dt){this.silencelength+=dt,this.silencelength<0&&(this.silencelength=0)},et.prototype.getData=function(){return"data:audio/midi,MThd%00%00%00%06%00%01"+st(this.trackcount,4)+"%01%e0"+this.trackstrings},et.prototype.embed=function(dt,lt){var at=this.getData(),ct=_e(document.createElement("a"),{href:at});if(ct.innerHTML="download midi",dt.insertBefore(ct,dt.firstChild),!lt){var ht=_e(document.createElement("embed"),{src:at,type:"video/quicktime",controller:"true",autoplay:"false",loop:"false",enablejavascript:"true",style:"display:block; height: 20px;"});dt.insertBefore(ht,dt.firstChild)}};function nt(dt,lt){for(var at="",ct=0;ct<dt.length;ct++)at+=st(dt.charCodeAt(ct),2);return"%00%FF"+lt+st(at.length/3,2)+at}function rt(dt){if(!dt||!dt.accidentals)return"";for(var lt="%00%FF%59%02",at=0,ct=256,ht=0;ht<dt.accidentals.length;ht++)dt.accidentals[ht].acc==="sharp"?at++:dt.accidentals[ht].acc==="flat"&&ct--;var pt=st(ct!==256?ct:at,2),mt=dt.mode==="m"?"%01":"%00";return lt+pt+mt}function it(dt){var lt="%00%FF%58%04"+st(dt.num,2),at={1:0,2:1,4:2,8:3,16:4,32:5},ct=at[dt.den];if(!ct)return"";lt+=st(ct,2);var ht;switch(dt.num+"/"+dt.den){case"2/4":case"3/4":case"4/4":case"5/4":ht=24;break;case"6/4":ht=72;break;case"2/2":case"3/2":case"4/2":ht=48;break;case"3/8":case"6/8":case"9/8":case"12/8":ht=36;break}return ht?(lt+=st(ht,2),lt+"%08"):""}function ot(dt){for(var lt="",at=0;at<dt.length;at+=2)lt+="%",lt+=dt.substr(at,2);return lt}function st(dt,lt){var at=dt.toString(16);for(at=at.split(".")[0];at.length<lt;)at="0"+at;return at.length>lt&&(at=at.substring(0,lt)),ot(at)}function ut(dt){dt=Math.round(dt);var lt=dt%128,at=dt-lt;return st(at*2+lt,4)}function ft(dt){var lt=0,at=[];for(dt=Math.round(dt);dt!==0;)at.push(dt&127),dt=dt>>7;for(var ct=at.length-1;ct>=0;ct--){lt=lt<<8;var ht=at[ct];ct!==0&&(ht=ht|128),lt=lt|ht}var pt=lt.toString(16).length;return pt+=pt%2,st(lt,pt)}rendererFactory$1=function(){return new et}})();var abc_midi_renderer=rendererFactory$1,rendererFactory=abc_midi_renderer,create;(function(){var _e=1920;create=function(tt,nt){nt===void 0&&(nt={});var rt=tt.setUpAudio(nt),it=rendererFactory(),ot=tt.metaText?tt.metaText.title:void 0;ot&&ot.length>128&&(ot=ot.substring(0,124)+"...");var st=tt.getKeySignature(),ut=tt.getMeterFraction(),ft=rt.tempo/60;it.setGlobalInfo(rt.tempo,ot,st,ut);for(var dt=0;dt<rt.tracks.length;dt++){it.startTrack();for(var lt={},at=0;at<rt.tracks[dt].length;at++){var ct=rt.tracks[dt][at];switch(ct.cmd){case"text":it.setText(ct.type,ct.text);break;case"program":var ht=0;nt.pan&&nt.pan.length>dt&&(ht=nt.pan[dt]),ct.instrument===128?(it.setChannel(9,ht),it.setInstrument(0)):(it.setChannel(ct.channel,ht),it.setInstrument(ct.instrument));break;case"note":var pt=ct.gap*ft,mt=ct.start,gt=mt+ct.duration-pt;lt[mt]||(lt[mt]=[]),lt[mt].push({pitch:ct.pitch,volume:ct.volume,cents:ct.cents}),lt[gt]||(lt[gt]=[]),lt[gt].push({pitch:ct.pitch,volume:0});break;default:console.log("MIDI create Unknown: "+ct.cmd)}}et(it,lt,_e),it.endTrack()}return it.getData()};function et(tt,nt,rt){for(var it=Object.keys(nt),ot=0;ot<it.length;ot++)it[ot]=parseFloat(it[ot]);it.sort(function(ct,ht){return ct-ht});for(var st=0,ut=0;ut<it.length;ut++){var ft=nt[it[ut]];if(it[ut]>st){var dt=(it[ut]-st)*rt;tt.addRest(dt),st=it[ut]}for(var lt=0;lt<ft.length;lt++){var at=ft[lt];at.volume?tt.startNote(at.pitch,at.volume,at.cents):tt.endNote(at.pitch)}}}})();var abc_midi_create=create,tunebook=abc_tunebook,midiCreate=abc_midi_create,getMidiFile$1=function(_e,et){var tt={};if(et)for(var nt in et)et.hasOwnProperty(nt)&&(tt[nt]=et[nt]);tt.generateInline=!1;function rt(it,ot,st){var ut=midiCreate(ot,tt);switch(tt.midiOutputType){case"encoded":return ut;case"binary":var ft=ut.replace("data:audio/midi,","");ft=ft.replace(/MThd/g,"%4d%54%68%64"),ft=ft.replace(/MTrk/g,"%4d%54%72%6b");for(var dt=new ArrayBuffer(ft.length/3),lt=new Uint8Array(dt),at=0;at<ft.length/3;at++){var ct=at*3+1,ht=parseInt(ft.substring(ct,ct+2),16);lt[at]=ht}return lt;case"link":default:return generateMidiDownloadLink(ot,tt,ut,st)}}return typeof _e=="string"?tunebook.renderEngine(rt,"*",_e,tt):rt(null,_e,0)};function isFunction(_e){var et={};return _e&&et.toString.call(_e)==="[object Function]"}var generateMidiDownloadLink=function(_e,et,tt,nt){var rt=["abcjs-download-midi","abcjs-midi-"+nt];et.downloadClass&&rt.push(et.downloadClass);var it='<div class="'+rt.join(" ")+'">';et.preTextDownload&&(it+=et.preTextDownload);var ot=_e.metaText&&_e.metaText.title?_e.metaText.title:"Untitled",st;et.downloadLabel&&isFunction(et.downloadLabel)?st=et.downloadLabel(_e,nt):et.downloadLabel?st=et.downloadLabel.replace(/%T/,ot):st='Download MIDI for "'+ot+'"',ot=ot.toLowerCase().replace(/'/g,"").replace(/\W/g,"_").replace(/__/g,"_");var ut=et.fileName?et.fileName:ot+".midi";return it+='<a download="'+ut+'" href="'+tt+'">'+st+"</a>",et.postTextDownload&&(it+=et.postTextDownload),it+"</div>"},getMidiFile_1=getMidiFile$1;try{if(typeof window.CustomEvent!="function"){var CustomEvent=function(_e,et){et=et||{bubbles:!1,cancelable:!1,detail:void 0};var tt=document.createEvent("CustomEvent");return tt.initCustomEvent(_e,et.bubbles,et.cancelable,et.detail),tt};CustomEvent.prototype=window.Event.prototype,window.CustomEvent=CustomEvent}}catch(_e){}var EditArea$1=function(_e){this.textarea=document.getElementById(_e),this.initialText=this.textarea.value,this.isDragging=!1};EditArea$1.prototype.addSelectionListener=function(_e){this.textarea.onmousemove=function(et){this.isDragging&&_e.fireSelectionChanged()}};EditArea$1.prototype.addChangeListener=function(_e){this.changelistener=_e,this.textarea.onkeyup=function(){_e.fireChanged()},this.textarea.onmousedown=function(){this.isDragging=!0,_e.fireSelectionChanged()},this.textarea.onmouseup=function(){this.isDragging=!1,_e.fireChanged()},this.textarea.onchange=function(){_e.fireChanged()}};EditArea$1.prototype.getSelection=function(){return{start:this.textarea.selectionStart,end:this.textarea.selectionEnd}};EditArea$1.prototype.setSelection=function(_e,et){if(this.textarea.setSelectionRange)this.textarea.setSelectionRange(_e,et);else if(this.textarea.createTextRange){var tt=this.textarea.createTextRange();tt.collapse(!0),tt.moveEnd("character",et),tt.moveStart("character",_e),tt.select()}this.textarea.focus()};EditArea$1.prototype.getString=function(){return this.textarea.value};EditArea$1.prototype.setString=function(_e){this.textarea.value=_e,this.initialText=this.getString(),this.changelistener&&this.changelistener.fireChanged()};EditArea$1.prototype.getElem=function(){return this.textarea};var abc_editarea=EditArea$1,parseCommon=abc_common,SynthController$1=synthController,supportsAudio$1=supportsAudio_1,renderAbc=abc_tunebook_svg,EditArea=abc_editarea;function gatherAbcParams(_e){var et={},tt;if(_e.abcjsParams)for(tt in _e.abcjsParams)_e.abcjsParams.hasOwnProperty(tt)&&(et[tt]=_e.abcjsParams[tt]);if(_e.midi_options)for(tt in _e.midi_options)_e.midi_options.hasOwnProperty(tt)&&(et[tt]=_e.midi_options[tt]);if(_e.parser_options)for(tt in _e.parser_options)_e.parser_options.hasOwnProperty(tt)&&(et[tt]=_e.parser_options[tt]);if(_e.render_options)for(tt in _e.render_options)_e.render_options.hasOwnProperty(tt)&&(et[tt]=_e.render_options[tt]);return et.tablature&&_e.warnings_id&&(et.tablature.warnings_id=_e.warnings_id),et}var Editor=function(_e,et){this.abcjsParams=gatherAbcParams(et),et.indicate_changed&&(this.indicate_changed=!0),typeof _e=="string"?this.editarea=new EditArea(_e):this.editarea=_e,this.editarea.addSelectionListener(this),this.editarea.addChangeListener(this),et.canvas_id?this.div=et.canvas_id:et.paper_id?this.div=et.paper_id:(this.div=document.createElement("DIV"),this.editarea.getElem().parentNode.insertBefore(this.div,this.editarea.getElem())),typeof this.div=="string"&&(this.div=document.getElementById(this.div)),et.selectionChangeCallback&&(this.selectionChangeCallback=et.selectionChangeCallback),this.clientClickListener=this.abcjsParams.clickListener,this.abcjsParams.clickListener=this.highlight.bind(this),et.synth&&supportsAudio$1()&&(this.synth={el:et.synth.el,cursorControl:et.synth.cursorControl,options:et.synth.options}),et.generate_midi&&(this.generate_midi=et.generate_midi,this.abcjsParams.generateDownload&&(typeof et.midi_download_id=="string"?this.downloadMidi=document.getElementById(et.midi_download_id):et.midi_download_id&&(this.downloadMidi=et.midi_download_id)),this.abcjsParams.generateInline!==!1&&(typeof et.midi_id=="string"?this.inlineMidi=document.getElementById(et.midi_id):et.midi_id&&(this.inlineMidi=et.midi_id))),et.warnings_id?typeof et.warnings_id=="string"?this.warningsdiv=document.getElementById(et.warnings_id):this.warningsdiv=et.warnings_id:et.generate_warnings&&(this.warningsdiv=document.createElement("div"),this.div.parentNode.insertBefore(this.warningsdiv,this.div)),this.onchangeCallback=et.onchange,this.currentAbc="",this.tunes=[],this.bReentry=!1,this.parseABC(),this.modelChanged(),this.addClassName=function(tt,nt){var rt=function(it,ot){var st=it.className;return st.length>0&&(st===ot||new RegExp("(^|\\s)"+ot+"(\\s|$)").test(st))};return rt(tt,nt)||(tt.className+=(tt.className?" ":"")+nt),tt},this.removeClassName=function(tt,nt){return tt.className=parseCommon.strip(tt.className.replace(new RegExp("(^|\\s+)"+nt+"(\\s+|$)")," ")),tt},this.setReadOnly=function(tt){var nt="abc_textarea_readonly",rt=this.editarea.getElem();tt?(rt.setAttribute("readonly","yes"),this.addClassName(rt,nt)):(rt.removeAttribute("readonly"),this.removeClassName(rt,nt))}};Editor.prototype.redrawMidi=function(){if(this.generate_midi&&!this.midiPause){var _e=new window.CustomEvent("generateMidi",{detail:{tunes:this.tunes,abcjsParams:this.abcjsParams,downloadMidiEl:this.downloadMidi,inlineMidiEl:this.inlineMidi,engravingEl:this.div}});window.dispatchEvent(_e)}if(this.synth){var et=this.synth.synthControl;this.synth.synthControl||(this.synth.synthControl=new SynthController$1,this.synth.synthControl.load(this.synth.el,this.synth.cursorControl,this.synth.options)),this.synth.synthControl.setTune(this.tunes[0],et,this.synth.options)}};Editor.prototype.modelChanged=function(){if(!this.bReentry){this.bReentry=!0;try{this.timerId=null,this.synth&&this.synth.synthControl&&this.synth.synthControl.disable(!0),this.tunes=renderAbc(this.div,this.currentAbc,this.abcjsParams),this.tunes.length>0&&(this.warnings=this.tunes[0].warnings),this.redrawMidi()}catch(_e){console.error("ABCJS error: ",_e),this.warnings||(this.warnings=[]),this.warnings.push(_e.message)}this.warningsdiv&&(this.warningsdiv.innerHTML=this.warnings?this.warnings.join("<br />"):"No errors"),this.updateSelection(),this.bReentry=!1}};Editor.prototype.paramChanged=function(_e){if(_e)for(var et in _e)_e.hasOwnProperty(et)&&(this.abcjsParams[et]=_e[et]);this.currentAbc="",this.fireChanged()};Editor.prototype.synthParamChanged=function(_e){if(this.synth){if(this.synth.options={},_e)for(var et in _e)_e.hasOwnProperty(et)&&(this.synth.options[et]=_e[et]);this.currentAbc="",this.fireChanged()}};Editor.prototype.parseABC=function(){var _e=this.editarea.getString();return _e===this.currentAbc?(this.updateSelection(),!1):(this.currentAbc=_e,!0)};Editor.prototype.updateSelection=function(){var _e=this.editarea.getSelection();try{this.tunes.length>0&&this.tunes[0].engraver&&this.tunes[0].engraver.rangeHighlight(_e.start,_e.end)}catch{}this.selectionChangeCallback&&this.selectionChangeCallback(_e.start,_e.end)};Editor.prototype.fireSelectionChanged=function(){this.updateSelection()};Editor.prototype.setDirtyStyle=function(_e){if(this.indicate_changed!==void 0){var et=function(it,ot){var st=function(ut,ft){var dt=ut.className;return dt.length>0&&(dt===ft||new RegExp("(^|\\s)"+ft+"(\\s|$)").test(dt))};return st(it,ot)||(it.className+=(it.className?" ":"")+ot),it},tt=function(it,ot){return it.className=parseCommon.strip(it.className.replace(new RegExp("(^|\\s+)"+ot+"(\\s+|$)")," ")),it},nt="abc_textarea_dirty",rt=this.editarea.getElem();_e?et(rt,nt):tt(rt,nt)}};Editor.prototype.fireChanged=function(){if(!this.bIsPaused&&this.parseABC()){var _e=this;this.timerId&&clearTimeout(this.timerId),this.timerId=setTimeout(function(){_e.modelChanged()},300);var et=this.isDirty();this.wasDirty!==et&&(this.wasDirty=et,this.setDirtyStyle(et)),this.onchangeCallback&&this.onchangeCallback(this)}};Editor.prototype.setNotDirty=function(){this.editarea.initialText=this.editarea.getString(),this.wasDirty=!1,this.setDirtyStyle(!1)};Editor.prototype.isDirty=function(){return this.indicate_changed===void 0?!1:this.editarea.initialText!==this.editarea.getString()};Editor.prototype.highlight=function(_e,et,tt,nt,rt,it){this.editarea.setSelection(_e.startChar,_e.endChar),this.selectionChangeCallback&&this.selectionChangeCallback(_e.startChar,_e.endChar),this.clientClickListener&&this.clientClickListener(_e,et,tt,nt,rt,it)};Editor.prototype.pause=function(_e){this.bIsPaused=_e,_e||this.fireChanged()};Editor.prototype.millisecondsPerMeasure=function(){return!this.synth||!this.synth.synthControl||!this.synth.synthControl.visualObj?0:this.synth.synthControl.visualObj.millisecondsPerMeasure()};Editor.prototype.pauseMidi=function(_e){this.midiPause=_e,_e||this.redrawMidi()};var abc_editor=Editor,version=version_1,animation=abc_animation,tuneBook=abc_tunebook,sequence=abc_midi_sequencer,strTranspose=output,abcjs={};abcjs.signature="abcjs-basic v"+version;Object.keys(animation).forEach(function(_e){abcjs[_e]=animation[_e]});Object.keys(tuneBook).forEach(function(_e){abcjs[_e]=tuneBook[_e]});abcjs.renderAbc=abc_tunebook_svg;abcjs.TimingCallbacks=abc_timing_callbacks;var glyphs=glyphs_1;abcjs.setGlyph=glyphs.setSymbol;abcjs.strTranspose=strTranspose;var CreateSynth=createSynth,instrumentIndexToName=instrumentIndexToName_1,pitchToNoteName=pitchToNoteName_1,SynthSequence=synthSequence,CreateSynthControl=createSynthControl,registerAudioContext=registerAudioContext_1,activeAudioContext=activeAudioContext_1,supportsAudio=supportsAudio_1,playEvent=playEvent_1,SynthController=synthController,getMidiFile=getMidiFile_1,midiRenderer=abc_midi_renderer;abcjs.synth={CreateSynth,instrumentIndexToName,pitchToNoteName,SynthController,SynthSequence,CreateSynthControl,registerAudioContext,activeAudioContext,supportsAudio,playEvent,getMidiFile,sequence,midiRenderer};abcjs.Editor=abc_editor;abcjs.EditArea=abc_editarea;var abcjs_1=abcjs;const abcjs$1=getDefaultExportFromCjs(abcjs_1);function AbcViewer(_e){useNavigate();const et=reactExports.useRef(null),tt=reactExports.useRef();function nt(ot){et.current=ot}function rt(){it()}reactExports.useEffect(()=>rt(),[_e.abc]),reactExports.useEffect(()=>rt(),[]);function it(ot){if(tt)try{var st={add_classes:!0,responsive:"resize",generateDownload:!0,synth:{el:"#audio"}},ut=abcjs$1.renderAbc(tt.current,_e.abc,st),ft=ut&&ut.length>0?ut[0]:null;nt(ft)}catch(dt){console.log("RENDER EXC",dt)}}return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx("span",{children:jsxRuntimeExports.jsx("div",{id:"abc_music_viewer",ref:tt})})})}function _getDefaults(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let _defaults=_getDefaults();function changeDefaults(_e){_defaults=_e}const escapeTest=/[&<>"']/,escapeReplace=new RegExp(escapeTest.source,"g"),escapeTestNoEncode=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode=new RegExp(escapeTestNoEncode.source,"g"),escapeReplacements={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},getEscapeReplacement=_e=>escapeReplacements[_e];function escape$1(_e,et){if(et){if(escapeTest.test(_e))return _e.replace(escapeReplace,getEscapeReplacement)}else if(escapeTestNoEncode.test(_e))return _e.replace(escapeReplaceNoEncode,getEscapeReplacement);return _e}const unescapeTest=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function unescape$1(_e){return _e.replace(unescapeTest,(et,tt)=>(tt=tt.toLowerCase(),tt==="colon"?":":tt.charAt(0)==="#"?tt.charAt(1)==="x"?String.fromCharCode(parseInt(tt.substring(2),16)):String.fromCharCode(+tt.substring(1)):""))}const caret=/(^|[^\[])\^/g;function edit(_e,et){let tt=typeof _e=="string"?_e:_e.source;et=et||"";const nt={replace:(rt,it)=>{let ot=typeof it=="string"?it:it.source;return ot=ot.replace(caret,"$1"),tt=tt.replace(rt,ot),nt},getRegex:()=>new RegExp(tt,et)};return nt}function cleanUrl(_e){try{_e=encodeURI(_e).replace(/%25/g,"%")}catch{return null}return _e}const noopTest={exec:()=>null};function splitCells(_e,et){const tt=_e.replace(/\|/g,(it,ot,st)=>{let ut=!1,ft=ot;for(;--ft>=0&&st[ft]==="\\";)ut=!ut;return ut?"|":" |"}),nt=tt.split(/ \|/);let rt=0;if(nt[0].trim()||nt.shift(),nt.length>0&&!nt[nt.length-1].trim()&&nt.pop(),et)if(nt.length>et)nt.splice(et);else for(;nt.length<et;)nt.push("");for(;rt<nt.length;rt++)nt[rt]=nt[rt].trim().replace(/\\\|/g,"|");return nt}function rtrim(_e,et,tt){const nt=_e.length;if(nt===0)return"";let rt=0;for(;rt<nt;){const it=_e.charAt(nt-rt-1);if(it===et&&!tt)rt++;else if(it!==et&&tt)rt++;else break}return _e.slice(0,nt-rt)}function findClosingBracket(_e,et){if(_e.indexOf(et[1])===-1)return-1;let tt=0;for(let nt=0;nt<_e.length;nt++)if(_e[nt]==="\\")nt++;else if(_e[nt]===et[0])tt++;else if(_e[nt]===et[1]&&(tt--,tt<0))return nt;return-1}function outputLink(_e,et,tt,nt){const rt=et.href,it=et.title?escape$1(et.title):null,ot=_e[1].replace(/\\([\[\]])/g,"$1");if(_e[0].charAt(0)!=="!"){nt.state.inLink=!0;const st={type:"link",raw:tt,href:rt,title:it,text:ot,tokens:nt.inlineTokens(ot)};return nt.state.inLink=!1,st}return{type:"image",raw:tt,href:rt,title:it,text:escape$1(ot)}}function indentCodeCompensation(_e,et){const tt=_e.match(/^(\s+)(?:```)/);if(tt===null)return et;const nt=tt[1];return et.split(`
`).map(rt=>{const it=rt.match(/^\s+/);if(it===null)return rt;const[ot]=it;return ot.length>=nt.length?rt.slice(nt.length):rt}).join(`
`)}class _Tokenizer{constructor(et){Jn(this,"options");Jn(this,"rules");Jn(this,"lexer");this.options=et||_defaults}space(et){const tt=this.rules.block.newline.exec(et);if(tt&&tt[0].length>0)return{type:"space",raw:tt[0]}}code(et){const tt=this.rules.block.code.exec(et);if(tt){const nt=tt[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:tt[0],codeBlockStyle:"indented",text:this.options.pedantic?nt:rtrim(nt,`
`)}}}fences(et){const tt=this.rules.block.fences.exec(et);if(tt){const nt=tt[0],rt=indentCodeCompensation(nt,tt[3]||"");return{type:"code",raw:nt,lang:tt[2]?tt[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):tt[2],text:rt}}}heading(et){const tt=this.rules.block.heading.exec(et);if(tt){let nt=tt[2].trim();if(/#$/.test(nt)){const rt=rtrim(nt,"#");(this.options.pedantic||!rt||/ $/.test(rt))&&(nt=rt.trim())}return{type:"heading",raw:tt[0],depth:tt[1].length,text:nt,tokens:this.lexer.inline(nt)}}}hr(et){const tt=this.rules.block.hr.exec(et);if(tt)return{type:"hr",raw:tt[0]}}blockquote(et){const tt=this.rules.block.blockquote.exec(et);if(tt){let nt=tt[0].replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,`
    $1`);nt=rtrim(nt.replace(/^ *>[ \t]?/gm,""),`
`);const rt=this.lexer.state.top;this.lexer.state.top=!0;const it=this.lexer.blockTokens(nt);return this.lexer.state.top=rt,{type:"blockquote",raw:tt[0],tokens:it,text:nt}}}list(et){let tt=this.rules.block.list.exec(et);if(tt){let nt=tt[1].trim();const rt=nt.length>1,it={type:"list",raw:"",ordered:rt,start:rt?+nt.slice(0,-1):"",loose:!1,items:[]};nt=rt?`\\d{1,9}\\${nt.slice(-1)}`:`\\${nt}`,this.options.pedantic&&(nt=rt?nt:"[*+-]");const ot=new RegExp(`^( {0,3}${nt})((?:[	 ][^\\n]*)?(?:\\n|$))`);let st="",ut="",ft=!1;for(;et;){let dt=!1;if(!(tt=ot.exec(et))||this.rules.block.hr.test(et))break;st=tt[0],et=et.substring(st.length);let lt=tt[2].split(`
`,1)[0].replace(/^\t+/,gt=>" ".repeat(3*gt.length)),at=et.split(`
`,1)[0],ct=0;this.options.pedantic?(ct=2,ut=lt.trimStart()):(ct=tt[2].search(/[^ ]/),ct=ct>4?1:ct,ut=lt.slice(ct),ct+=tt[1].length);let ht=!1;if(!lt&&/^ *$/.test(at)&&(st+=at+`
`,et=et.substring(at.length+1),dt=!0),!dt){const gt=new RegExp(`^ {0,${Math.min(3,ct-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),yt=new RegExp(`^ {0,${Math.min(3,ct-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),bt=new RegExp(`^ {0,${Math.min(3,ct-1)}}(?:\`\`\`|~~~)`),xt=new RegExp(`^ {0,${Math.min(3,ct-1)}}#`);for(;et;){const vt=et.split(`
`,1)[0];if(at=vt,this.options.pedantic&&(at=at.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),bt.test(at)||xt.test(at)||gt.test(at)||yt.test(et))break;if(at.search(/[^ ]/)>=ct||!at.trim())ut+=`
`+at.slice(ct);else{if(ht||lt.search(/[^ ]/)>=4||bt.test(lt)||xt.test(lt)||yt.test(lt))break;ut+=`
`+at}!ht&&!at.trim()&&(ht=!0),st+=vt+`
`,et=et.substring(vt.length+1),lt=at.slice(ct)}}it.loose||(ft?it.loose=!0:/\n *\n *$/.test(st)&&(ft=!0));let pt=null,mt;this.options.gfm&&(pt=/^\[[ xX]\] /.exec(ut),pt&&(mt=pt[0]!=="[ ] ",ut=ut.replace(/^\[[ xX]\] +/,""))),it.items.push({type:"list_item",raw:st,task:!!pt,checked:mt,loose:!1,text:ut,tokens:[]}),it.raw+=st}it.items[it.items.length-1].raw=st.trimEnd(),it.items[it.items.length-1].text=ut.trimEnd(),it.raw=it.raw.trimEnd();for(let dt=0;dt<it.items.length;dt++)if(this.lexer.state.top=!1,it.items[dt].tokens=this.lexer.blockTokens(it.items[dt].text,[]),!it.loose){const lt=it.items[dt].tokens.filter(ct=>ct.type==="space"),at=lt.length>0&&lt.some(ct=>/\n.*\n/.test(ct.raw));it.loose=at}if(it.loose)for(let dt=0;dt<it.items.length;dt++)it.items[dt].loose=!0;return it}}html(et){const tt=this.rules.block.html.exec(et);if(tt)return{type:"html",block:!0,raw:tt[0],pre:tt[1]==="pre"||tt[1]==="script"||tt[1]==="style",text:tt[0]}}def(et){const tt=this.rules.block.def.exec(et);if(tt){const nt=tt[1].toLowerCase().replace(/\s+/g," "),rt=tt[2]?tt[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",it=tt[3]?tt[3].substring(1,tt[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):tt[3];return{type:"def",tag:nt,raw:tt[0],href:rt,title:it}}}table(et){const tt=this.rules.block.table.exec(et);if(!tt||!/[:|]/.test(tt[2]))return;const nt=splitCells(tt[1]),rt=tt[2].replace(/^\||\| *$/g,"").split("|"),it=tt[3]&&tt[3].trim()?tt[3].replace(/\n[ \t]*$/,"").split(`
`):[],ot={type:"table",raw:tt[0],header:[],align:[],rows:[]};if(nt.length===rt.length){for(const st of rt)/^ *-+: *$/.test(st)?ot.align.push("right"):/^ *:-+: *$/.test(st)?ot.align.push("center"):/^ *:-+ *$/.test(st)?ot.align.push("left"):ot.align.push(null);for(const st of nt)ot.header.push({text:st,tokens:this.lexer.inline(st)});for(const st of it)ot.rows.push(splitCells(st,ot.header.length).map(ut=>({text:ut,tokens:this.lexer.inline(ut)})));return ot}}lheading(et){const tt=this.rules.block.lheading.exec(et);if(tt)return{type:"heading",raw:tt[0],depth:tt[2].charAt(0)==="="?1:2,text:tt[1],tokens:this.lexer.inline(tt[1])}}paragraph(et){const tt=this.rules.block.paragraph.exec(et);if(tt){const nt=tt[1].charAt(tt[1].length-1)===`
`?tt[1].slice(0,-1):tt[1];return{type:"paragraph",raw:tt[0],text:nt,tokens:this.lexer.inline(nt)}}}text(et){const tt=this.rules.block.text.exec(et);if(tt)return{type:"text",raw:tt[0],text:tt[0],tokens:this.lexer.inline(tt[0])}}escape(et){const tt=this.rules.inline.escape.exec(et);if(tt)return{type:"escape",raw:tt[0],text:escape$1(tt[1])}}tag(et){const tt=this.rules.inline.tag.exec(et);if(tt)return!this.lexer.state.inLink&&/^<a /i.test(tt[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(tt[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(tt[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(tt[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:tt[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:tt[0]}}link(et){const tt=this.rules.inline.link.exec(et);if(tt){const nt=tt[2].trim();if(!this.options.pedantic&&/^</.test(nt)){if(!/>$/.test(nt))return;const ot=rtrim(nt.slice(0,-1),"\\");if((nt.length-ot.length)%2===0)return}else{const ot=findClosingBracket(tt[2],"()");if(ot>-1){const ut=(tt[0].indexOf("!")===0?5:4)+tt[1].length+ot;tt[2]=tt[2].substring(0,ot),tt[0]=tt[0].substring(0,ut).trim(),tt[3]=""}}let rt=tt[2],it="";if(this.options.pedantic){const ot=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(rt);ot&&(rt=ot[1],it=ot[3])}else it=tt[3]?tt[3].slice(1,-1):"";return rt=rt.trim(),/^</.test(rt)&&(this.options.pedantic&&!/>$/.test(nt)?rt=rt.slice(1):rt=rt.slice(1,-1)),outputLink(tt,{href:rt&&rt.replace(this.rules.inline.anyPunctuation,"$1"),title:it&&it.replace(this.rules.inline.anyPunctuation,"$1")},tt[0],this.lexer)}}reflink(et,tt){let nt;if((nt=this.rules.inline.reflink.exec(et))||(nt=this.rules.inline.nolink.exec(et))){const rt=(nt[2]||nt[1]).replace(/\s+/g," "),it=tt[rt.toLowerCase()];if(!it){const ot=nt[0].charAt(0);return{type:"text",raw:ot,text:ot}}return outputLink(nt,it,nt[0],this.lexer)}}emStrong(et,tt,nt=""){let rt=this.rules.inline.emStrongLDelim.exec(et);if(!rt||rt[3]&&nt.match(/[\p{L}\p{N}]/u))return;if(!(rt[1]||rt[2]||"")||!nt||this.rules.inline.punctuation.exec(nt)){const ot=[...rt[0]].length-1;let st,ut,ft=ot,dt=0;const lt=rt[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(lt.lastIndex=0,tt=tt.slice(-1*et.length+ot);(rt=lt.exec(tt))!=null;){if(st=rt[1]||rt[2]||rt[3]||rt[4]||rt[5]||rt[6],!st)continue;if(ut=[...st].length,rt[3]||rt[4]){ft+=ut;continue}else if((rt[5]||rt[6])&&ot%3&&!((ot+ut)%3)){dt+=ut;continue}if(ft-=ut,ft>0)continue;ut=Math.min(ut,ut+ft+dt);const at=[...rt[0]][0].length,ct=et.slice(0,ot+rt.index+at+ut);if(Math.min(ot,ut)%2){const pt=ct.slice(1,-1);return{type:"em",raw:ct,text:pt,tokens:this.lexer.inlineTokens(pt)}}const ht=ct.slice(2,-2);return{type:"strong",raw:ct,text:ht,tokens:this.lexer.inlineTokens(ht)}}}}codespan(et){const tt=this.rules.inline.code.exec(et);if(tt){let nt=tt[2].replace(/\n/g," ");const rt=/[^ ]/.test(nt),it=/^ /.test(nt)&&/ $/.test(nt);return rt&&it&&(nt=nt.substring(1,nt.length-1)),nt=escape$1(nt,!0),{type:"codespan",raw:tt[0],text:nt}}}br(et){const tt=this.rules.inline.br.exec(et);if(tt)return{type:"br",raw:tt[0]}}del(et){const tt=this.rules.inline.del.exec(et);if(tt)return{type:"del",raw:tt[0],text:tt[2],tokens:this.lexer.inlineTokens(tt[2])}}autolink(et){const tt=this.rules.inline.autolink.exec(et);if(tt){let nt,rt;return tt[2]==="@"?(nt=escape$1(tt[1]),rt="mailto:"+nt):(nt=escape$1(tt[1]),rt=nt),{type:"link",raw:tt[0],text:nt,href:rt,tokens:[{type:"text",raw:nt,text:nt}]}}}url(et){var nt;let tt;if(tt=this.rules.inline.url.exec(et)){let rt,it;if(tt[2]==="@")rt=escape$1(tt[0]),it="mailto:"+rt;else{let ot;do ot=tt[0],tt[0]=((nt=this.rules.inline._backpedal.exec(tt[0]))==null?void 0:nt[0])??"";while(ot!==tt[0]);rt=escape$1(tt[0]),tt[1]==="www."?it="http://"+tt[0]:it=tt[0]}return{type:"link",raw:tt[0],text:rt,href:it,tokens:[{type:"text",raw:rt,text:rt}]}}}inlineText(et){const tt=this.rules.inline.text.exec(et);if(tt){let nt;return this.lexer.state.inRawBlock?nt=tt[0]:nt=escape$1(tt[0]),{type:"text",raw:tt[0],text:nt}}}}const newline=/^(?: *(?:\n|$))+/,blockCode=/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,bullet=/(?:[*+-]|\d{1,9}[.)])/,lheading=edit(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,bullet).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),_paragraph=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,blockText=/^[^\n]+/,_blockLabel=/(?!\s*\])(?:\\.|[^\[\]\\])+/,def=edit(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",_blockLabel).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),list=edit(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,bullet).getRegex(),_tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",_comment=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,html=edit("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",_comment).replace("tag",_tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),paragraph=edit(_paragraph).replace("hr",hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",_tag).getRegex(),blockquote=edit(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",paragraph).getRegex(),blockNormal={blockquote,code:blockCode,def,fences,heading,hr,html,lheading,list,newline,paragraph,table:noopTest,text:blockText},gfmTable=edit("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",_tag).getRegex(),blockGfm={...blockNormal,table:gfmTable,paragraph:edit(_paragraph).replace("hr",hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",gfmTable).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",_tag).getRegex()},blockPedantic={...blockNormal,html:edit(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",_comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:noopTest,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:edit(_paragraph).replace("hr",hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",lheading).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},escape$2=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,inlineCode=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br=/^( {2,}|\\)\n(?!\s*$)/,inlineText=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,_punctuation="\\p{P}\\p{S}",punctuation=edit(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,_punctuation).getRegex(),blockSkip=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,emStrongLDelim=edit(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,_punctuation).getRegex(),emStrongRDelimAst=edit("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,_punctuation).getRegex(),emStrongRDelimUnd=edit("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,_punctuation).getRegex(),anyPunctuation=edit(/\\([punct])/,"gu").replace(/punct/g,_punctuation).getRegex(),autolink=edit(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),_inlineComment=edit(_comment).replace("(?:-->|$)","-->").getRegex(),tag=edit("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",_inlineComment).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),_inlineLabel=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,link=edit(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",_inlineLabel).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),reflink=edit(/^!?\[(label)\]\[(ref)\]/).replace("label",_inlineLabel).replace("ref",_blockLabel).getRegex(),nolink=edit(/^!?\[(ref)\](?:\[\])?/).replace("ref",_blockLabel).getRegex(),reflinkSearch=edit("reflink|nolink(?!\\()","g").replace("reflink",reflink).replace("nolink",nolink).getRegex(),inlineNormal={_backpedal:noopTest,anyPunctuation,autolink,blockSkip,br,code:inlineCode,del:noopTest,emStrongLDelim,emStrongRDelimAst,emStrongRDelimUnd,escape:escape$2,link,nolink,punctuation,reflink,reflinkSearch,tag,text:inlineText,url:noopTest},inlinePedantic={...inlineNormal,link:edit(/^!?\[(label)\]\((.*?)\)/).replace("label",_inlineLabel).getRegex(),reflink:edit(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",_inlineLabel).getRegex()},inlineGfm={...inlineNormal,escape:edit(escape$2).replace("])","~|])").getRegex(),url:edit(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},inlineBreaks={...inlineGfm,br:edit(br).replace("{2,}","*").getRegex(),text:edit(inlineGfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},block={normal:blockNormal,gfm:blockGfm,pedantic:blockPedantic},inline={normal:inlineNormal,gfm:inlineGfm,breaks:inlineBreaks,pedantic:inlinePedantic};class _Lexer{constructor(et){Jn(this,"tokens");Jn(this,"options");Jn(this,"state");Jn(this,"tokenizer");Jn(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=et||_defaults,this.options.tokenizer=this.options.tokenizer||new _Tokenizer,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const tt={block:block.normal,inline:inline.normal};this.options.pedantic?(tt.block=block.pedantic,tt.inline=inline.pedantic):this.options.gfm&&(tt.block=block.gfm,this.options.breaks?tt.inline=inline.breaks:tt.inline=inline.gfm),this.tokenizer.rules=tt}static get rules(){return{block,inline}}static lex(et,tt){return new _Lexer(tt).lex(et)}static lexInline(et,tt){return new _Lexer(tt).inlineTokens(et)}lex(et){et=et.replace(/\r\n|\r/g,`
`),this.blockTokens(et,this.tokens);for(let tt=0;tt<this.inlineQueue.length;tt++){const nt=this.inlineQueue[tt];this.inlineTokens(nt.src,nt.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(et,tt=[]){this.options.pedantic?et=et.replace(/\t/g,"    ").replace(/^ +$/gm,""):et=et.replace(/^( *)(\t+)/gm,(st,ut,ft)=>ut+"    ".repeat(ft.length));let nt,rt,it,ot;for(;et;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(st=>(nt=st.call({lexer:this},et,tt))?(et=et.substring(nt.raw.length),tt.push(nt),!0):!1))){if(nt=this.tokenizer.space(et)){et=et.substring(nt.raw.length),nt.raw.length===1&&tt.length>0?tt[tt.length-1].raw+=`
`:tt.push(nt);continue}if(nt=this.tokenizer.code(et)){et=et.substring(nt.raw.length),rt=tt[tt.length-1],rt&&(rt.type==="paragraph"||rt.type==="text")?(rt.raw+=`
`+nt.raw,rt.text+=`
`+nt.text,this.inlineQueue[this.inlineQueue.length-1].src=rt.text):tt.push(nt);continue}if(nt=this.tokenizer.fences(et)){et=et.substring(nt.raw.length),tt.push(nt);continue}if(nt=this.tokenizer.heading(et)){et=et.substring(nt.raw.length),tt.push(nt);continue}if(nt=this.tokenizer.hr(et)){et=et.substring(nt.raw.length),tt.push(nt);continue}if(nt=this.tokenizer.blockquote(et)){et=et.substring(nt.raw.length),tt.push(nt);continue}if(nt=this.tokenizer.list(et)){et=et.substring(nt.raw.length),tt.push(nt);continue}if(nt=this.tokenizer.html(et)){et=et.substring(nt.raw.length),tt.push(nt);continue}if(nt=this.tokenizer.def(et)){et=et.substring(nt.raw.length),rt=tt[tt.length-1],rt&&(rt.type==="paragraph"||rt.type==="text")?(rt.raw+=`
`+nt.raw,rt.text+=`
`+nt.raw,this.inlineQueue[this.inlineQueue.length-1].src=rt.text):this.tokens.links[nt.tag]||(this.tokens.links[nt.tag]={href:nt.href,title:nt.title});continue}if(nt=this.tokenizer.table(et)){et=et.substring(nt.raw.length),tt.push(nt);continue}if(nt=this.tokenizer.lheading(et)){et=et.substring(nt.raw.length),tt.push(nt);continue}if(it=et,this.options.extensions&&this.options.extensions.startBlock){let st=1/0;const ut=et.slice(1);let ft;this.options.extensions.startBlock.forEach(dt=>{ft=dt.call({lexer:this},ut),typeof ft=="number"&&ft>=0&&(st=Math.min(st,ft))}),st<1/0&&st>=0&&(it=et.substring(0,st+1))}if(this.state.top&&(nt=this.tokenizer.paragraph(it))){rt=tt[tt.length-1],ot&&rt.type==="paragraph"?(rt.raw+=`
`+nt.raw,rt.text+=`
`+nt.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=rt.text):tt.push(nt),ot=it.length!==et.length,et=et.substring(nt.raw.length);continue}if(nt=this.tokenizer.text(et)){et=et.substring(nt.raw.length),rt=tt[tt.length-1],rt&&rt.type==="text"?(rt.raw+=`
`+nt.raw,rt.text+=`
`+nt.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=rt.text):tt.push(nt);continue}if(et){const st="Infinite loop on byte: "+et.charCodeAt(0);if(this.options.silent){console.error(st);break}else throw new Error(st)}}return this.state.top=!0,tt}inline(et,tt=[]){return this.inlineQueue.push({src:et,tokens:tt}),tt}inlineTokens(et,tt=[]){let nt,rt,it,ot=et,st,ut,ft;if(this.tokens.links){const dt=Object.keys(this.tokens.links);if(dt.length>0)for(;(st=this.tokenizer.rules.inline.reflinkSearch.exec(ot))!=null;)dt.includes(st[0].slice(st[0].lastIndexOf("[")+1,-1))&&(ot=ot.slice(0,st.index)+"["+"a".repeat(st[0].length-2)+"]"+ot.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(st=this.tokenizer.rules.inline.blockSkip.exec(ot))!=null;)ot=ot.slice(0,st.index)+"["+"a".repeat(st[0].length-2)+"]"+ot.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(st=this.tokenizer.rules.inline.anyPunctuation.exec(ot))!=null;)ot=ot.slice(0,st.index)+"++"+ot.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;et;)if(ut||(ft=""),ut=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(dt=>(nt=dt.call({lexer:this},et,tt))?(et=et.substring(nt.raw.length),tt.push(nt),!0):!1))){if(nt=this.tokenizer.escape(et)){et=et.substring(nt.raw.length),tt.push(nt);continue}if(nt=this.tokenizer.tag(et)){et=et.substring(nt.raw.length),rt=tt[tt.length-1],rt&&nt.type==="text"&&rt.type==="text"?(rt.raw+=nt.raw,rt.text+=nt.text):tt.push(nt);continue}if(nt=this.tokenizer.link(et)){et=et.substring(nt.raw.length),tt.push(nt);continue}if(nt=this.tokenizer.reflink(et,this.tokens.links)){et=et.substring(nt.raw.length),rt=tt[tt.length-1],rt&&nt.type==="text"&&rt.type==="text"?(rt.raw+=nt.raw,rt.text+=nt.text):tt.push(nt);continue}if(nt=this.tokenizer.emStrong(et,ot,ft)){et=et.substring(nt.raw.length),tt.push(nt);continue}if(nt=this.tokenizer.codespan(et)){et=et.substring(nt.raw.length),tt.push(nt);continue}if(nt=this.tokenizer.br(et)){et=et.substring(nt.raw.length),tt.push(nt);continue}if(nt=this.tokenizer.del(et)){et=et.substring(nt.raw.length),tt.push(nt);continue}if(nt=this.tokenizer.autolink(et)){et=et.substring(nt.raw.length),tt.push(nt);continue}if(!this.state.inLink&&(nt=this.tokenizer.url(et))){et=et.substring(nt.raw.length),tt.push(nt);continue}if(it=et,this.options.extensions&&this.options.extensions.startInline){let dt=1/0;const lt=et.slice(1);let at;this.options.extensions.startInline.forEach(ct=>{at=ct.call({lexer:this},lt),typeof at=="number"&&at>=0&&(dt=Math.min(dt,at))}),dt<1/0&&dt>=0&&(it=et.substring(0,dt+1))}if(nt=this.tokenizer.inlineText(it)){et=et.substring(nt.raw.length),nt.raw.slice(-1)!=="_"&&(ft=nt.raw.slice(-1)),ut=!0,rt=tt[tt.length-1],rt&&rt.type==="text"?(rt.raw+=nt.raw,rt.text+=nt.text):tt.push(nt);continue}if(et){const dt="Infinite loop on byte: "+et.charCodeAt(0);if(this.options.silent){console.error(dt);break}else throw new Error(dt)}}return tt}}class _Renderer{constructor(et){Jn(this,"options");this.options=et||_defaults}code(et,tt,nt){var it;const rt=(it=(tt||"").match(/^\S*/))==null?void 0:it[0];return et=et.replace(/\n$/,"")+`
`,rt?'<pre><code class="language-'+escape$1(rt)+'">'+(nt?et:escape$1(et,!0))+`</code></pre>
`:"<pre><code>"+(nt?et:escape$1(et,!0))+`</code></pre>
`}blockquote(et){return`<blockquote>
${et}</blockquote>
`}html(et,tt){return et}heading(et,tt,nt){return`<h${tt}>${et}</h${tt}>
`}hr(){return`<hr>
`}list(et,tt,nt){const rt=tt?"ol":"ul",it=tt&&nt!==1?' start="'+nt+'"':"";return"<"+rt+it+`>
`+et+"</"+rt+`>
`}listitem(et,tt,nt){return`<li>${et}</li>
`}checkbox(et){return"<input "+(et?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph(et){return`<p>${et}</p>
`}table(et,tt){return tt&&(tt=`<tbody>${tt}</tbody>`),`<table>
<thead>
`+et+`</thead>
`+tt+`</table>
`}tablerow(et){return`<tr>
${et}</tr>
`}tablecell(et,tt){const nt=tt.header?"th":"td";return(tt.align?`<${nt} align="${tt.align}">`:`<${nt}>`)+et+`</${nt}>
`}strong(et){return`<strong>${et}</strong>`}em(et){return`<em>${et}</em>`}codespan(et){return`<code>${et}</code>`}br(){return"<br>"}del(et){return`<del>${et}</del>`}link(et,tt,nt){const rt=cleanUrl(et);if(rt===null)return nt;et=rt;let it='<a href="'+et+'"';return tt&&(it+=' title="'+tt+'"'),it+=">"+nt+"</a>",it}image(et,tt,nt){const rt=cleanUrl(et);if(rt===null)return nt;et=rt;let it=`<img src="${et}" alt="${nt}"`;return tt&&(it+=` title="${tt}"`),it+=">",it}text(et){return et}}class _TextRenderer{strong(et){return et}em(et){return et}codespan(et){return et}del(et){return et}html(et){return et}text(et){return et}link(et,tt,nt){return""+nt}image(et,tt,nt){return""+nt}br(){return""}}class _Parser{constructor(et){Jn(this,"options");Jn(this,"renderer");Jn(this,"textRenderer");this.options=et||_defaults,this.options.renderer=this.options.renderer||new _Renderer,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new _TextRenderer}static parse(et,tt){return new _Parser(tt).parse(et)}static parseInline(et,tt){return new _Parser(tt).parseInline(et)}parse(et,tt=!0){let nt="";for(let rt=0;rt<et.length;rt++){const it=et[rt];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[it.type]){const ot=it,st=this.options.extensions.renderers[ot.type].call({parser:this},ot);if(st!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(ot.type)){nt+=st||"";continue}}switch(it.type){case"space":continue;case"hr":{nt+=this.renderer.hr();continue}case"heading":{const ot=it;nt+=this.renderer.heading(this.parseInline(ot.tokens),ot.depth,unescape$1(this.parseInline(ot.tokens,this.textRenderer)));continue}case"code":{const ot=it;nt+=this.renderer.code(ot.text,ot.lang,!!ot.escaped);continue}case"table":{const ot=it;let st="",ut="";for(let dt=0;dt<ot.header.length;dt++)ut+=this.renderer.tablecell(this.parseInline(ot.header[dt].tokens),{header:!0,align:ot.align[dt]});st+=this.renderer.tablerow(ut);let ft="";for(let dt=0;dt<ot.rows.length;dt++){const lt=ot.rows[dt];ut="";for(let at=0;at<lt.length;at++)ut+=this.renderer.tablecell(this.parseInline(lt[at].tokens),{header:!1,align:ot.align[at]});ft+=this.renderer.tablerow(ut)}nt+=this.renderer.table(st,ft);continue}case"blockquote":{const ot=it,st=this.parse(ot.tokens);nt+=this.renderer.blockquote(st);continue}case"list":{const ot=it,st=ot.ordered,ut=ot.start,ft=ot.loose;let dt="";for(let lt=0;lt<ot.items.length;lt++){const at=ot.items[lt],ct=at.checked,ht=at.task;let pt="";if(at.task){const mt=this.renderer.checkbox(!!ct);ft?at.tokens.length>0&&at.tokens[0].type==="paragraph"?(at.tokens[0].text=mt+" "+at.tokens[0].text,at.tokens[0].tokens&&at.tokens[0].tokens.length>0&&at.tokens[0].tokens[0].type==="text"&&(at.tokens[0].tokens[0].text=mt+" "+at.tokens[0].tokens[0].text)):at.tokens.unshift({type:"text",text:mt+" "}):pt+=mt+" "}pt+=this.parse(at.tokens,ft),dt+=this.renderer.listitem(pt,ht,!!ct)}nt+=this.renderer.list(dt,st,ut);continue}case"html":{const ot=it;nt+=this.renderer.html(ot.text,ot.block);continue}case"paragraph":{const ot=it;nt+=this.renderer.paragraph(this.parseInline(ot.tokens));continue}case"text":{let ot=it,st=ot.tokens?this.parseInline(ot.tokens):ot.text;for(;rt+1<et.length&&et[rt+1].type==="text";)ot=et[++rt],st+=`
`+(ot.tokens?this.parseInline(ot.tokens):ot.text);nt+=tt?this.renderer.paragraph(st):st;continue}default:{const ot='Token with "'+it.type+'" type was not found.';if(this.options.silent)return console.error(ot),"";throw new Error(ot)}}}return nt}parseInline(et,tt){tt=tt||this.renderer;let nt="";for(let rt=0;rt<et.length;rt++){const it=et[rt];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[it.type]){const ot=this.options.extensions.renderers[it.type].call({parser:this},it);if(ot!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(it.type)){nt+=ot||"";continue}}switch(it.type){case"escape":{const ot=it;nt+=tt.text(ot.text);break}case"html":{const ot=it;nt+=tt.html(ot.text);break}case"link":{const ot=it;nt+=tt.link(ot.href,ot.title,this.parseInline(ot.tokens,tt));break}case"image":{const ot=it;nt+=tt.image(ot.href,ot.title,ot.text);break}case"strong":{const ot=it;nt+=tt.strong(this.parseInline(ot.tokens,tt));break}case"em":{const ot=it;nt+=tt.em(this.parseInline(ot.tokens,tt));break}case"codespan":{const ot=it;nt+=tt.codespan(ot.text);break}case"br":{nt+=tt.br();break}case"del":{const ot=it;nt+=tt.del(this.parseInline(ot.tokens,tt));break}case"text":{const ot=it;nt+=tt.text(ot.text);break}default:{const ot='Token with "'+it.type+'" type was not found.';if(this.options.silent)return console.error(ot),"";throw new Error(ot)}}}return nt}}class _Hooks{constructor(et){Jn(this,"options");this.options=et||_defaults}preprocess(et){return et}postprocess(et){return et}processAllTokens(et){return et}}Jn(_Hooks,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));var to,co,oo,vo;class Marked{constructor(...et){so(this,to);so(this,oo);Jn(this,"defaults",_getDefaults());Jn(this,"options",this.setOptions);Jn(this,"parse",no(this,to,co).call(this,_Lexer.lex,_Parser.parse));Jn(this,"parseInline",no(this,to,co).call(this,_Lexer.lexInline,_Parser.parseInline));Jn(this,"Parser",_Parser);Jn(this,"Renderer",_Renderer);Jn(this,"TextRenderer",_TextRenderer);Jn(this,"Lexer",_Lexer);Jn(this,"Tokenizer",_Tokenizer);Jn(this,"Hooks",_Hooks);this.use(...et)}walkTokens(et,tt){var rt,it;let nt=[];for(const ot of et)switch(nt=nt.concat(tt.call(this,ot)),ot.type){case"table":{const st=ot;for(const ut of st.header)nt=nt.concat(this.walkTokens(ut.tokens,tt));for(const ut of st.rows)for(const ft of ut)nt=nt.concat(this.walkTokens(ft.tokens,tt));break}case"list":{const st=ot;nt=nt.concat(this.walkTokens(st.items,tt));break}default:{const st=ot;(it=(rt=this.defaults.extensions)==null?void 0:rt.childTokens)!=null&&it[st.type]?this.defaults.extensions.childTokens[st.type].forEach(ut=>{const ft=st[ut].flat(1/0);nt=nt.concat(this.walkTokens(ft,tt))}):st.tokens&&(nt=nt.concat(this.walkTokens(st.tokens,tt)))}}return nt}use(...et){const tt=this.defaults.extensions||{renderers:{},childTokens:{}};return et.forEach(nt=>{const rt={...nt};if(rt.async=this.defaults.async||rt.async||!1,nt.extensions&&(nt.extensions.forEach(it=>{if(!it.name)throw new Error("extension name required");if("renderer"in it){const ot=tt.renderers[it.name];ot?tt.renderers[it.name]=function(...st){let ut=it.renderer.apply(this,st);return ut===!1&&(ut=ot.apply(this,st)),ut}:tt.renderers[it.name]=it.renderer}if("tokenizer"in it){if(!it.level||it.level!=="block"&&it.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const ot=tt[it.level];ot?ot.unshift(it.tokenizer):tt[it.level]=[it.tokenizer],it.start&&(it.level==="block"?tt.startBlock?tt.startBlock.push(it.start):tt.startBlock=[it.start]:it.level==="inline"&&(tt.startInline?tt.startInline.push(it.start):tt.startInline=[it.start]))}"childTokens"in it&&it.childTokens&&(tt.childTokens[it.name]=it.childTokens)}),rt.extensions=tt),nt.renderer){const it=this.defaults.renderer||new _Renderer(this.defaults);for(const ot in nt.renderer){if(!(ot in it))throw new Error(`renderer '${ot}' does not exist`);if(ot==="options")continue;const st=ot,ut=nt.renderer[st],ft=it[st];it[st]=(...dt)=>{let lt=ut.apply(it,dt);return lt===!1&&(lt=ft.apply(it,dt)),lt||""}}rt.renderer=it}if(nt.tokenizer){const it=this.defaults.tokenizer||new _Tokenizer(this.defaults);for(const ot in nt.tokenizer){if(!(ot in it))throw new Error(`tokenizer '${ot}' does not exist`);if(["options","rules","lexer"].includes(ot))continue;const st=ot,ut=nt.tokenizer[st],ft=it[st];it[st]=(...dt)=>{let lt=ut.apply(it,dt);return lt===!1&&(lt=ft.apply(it,dt)),lt}}rt.tokenizer=it}if(nt.hooks){const it=this.defaults.hooks||new _Hooks;for(const ot in nt.hooks){if(!(ot in it))throw new Error(`hook '${ot}' does not exist`);if(ot==="options")continue;const st=ot,ut=nt.hooks[st],ft=it[st];_Hooks.passThroughHooks.has(ot)?it[st]=dt=>{if(this.defaults.async)return Promise.resolve(ut.call(it,dt)).then(at=>ft.call(it,at));const lt=ut.call(it,dt);return ft.call(it,lt)}:it[st]=(...dt)=>{let lt=ut.apply(it,dt);return lt===!1&&(lt=ft.apply(it,dt)),lt}}rt.hooks=it}if(nt.walkTokens){const it=this.defaults.walkTokens,ot=nt.walkTokens;rt.walkTokens=function(st){let ut=[];return ut.push(ot.call(this,st)),it&&(ut=ut.concat(it.call(this,st))),ut}}this.defaults={...this.defaults,...rt}}),this}setOptions(et){return this.defaults={...this.defaults,...et},this}lexer(et,tt){return _Lexer.lex(et,tt??this.defaults)}parser(et,tt){return _Parser.parse(et,tt??this.defaults)}}to=new WeakSet,co=function(et,tt){return(nt,rt)=>{const it={...rt},ot={...this.defaults,...it};this.defaults.async===!0&&it.async===!1&&(ot.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),ot.async=!0);const st=no(this,oo,vo).call(this,!!ot.silent,!!ot.async);if(typeof nt>"u"||nt===null)return st(new Error("marked(): input parameter is undefined or null"));if(typeof nt!="string")return st(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(nt)+", string expected"));if(ot.hooks&&(ot.hooks.options=ot),ot.async)return Promise.resolve(ot.hooks?ot.hooks.preprocess(nt):nt).then(ut=>et(ut,ot)).then(ut=>ot.hooks?ot.hooks.processAllTokens(ut):ut).then(ut=>ot.walkTokens?Promise.all(this.walkTokens(ut,ot.walkTokens)).then(()=>ut):ut).then(ut=>tt(ut,ot)).then(ut=>ot.hooks?ot.hooks.postprocess(ut):ut).catch(st);try{ot.hooks&&(nt=ot.hooks.preprocess(nt));let ut=et(nt,ot);ot.hooks&&(ut=ot.hooks.processAllTokens(ut)),ot.walkTokens&&this.walkTokens(ut,ot.walkTokens);let ft=tt(ut,ot);return ot.hooks&&(ft=ot.hooks.postprocess(ft)),ft}catch(ut){return st(ut)}}},oo=new WeakSet,vo=function(et,tt){return nt=>{if(nt.message+=`
Please report this to https://github.com/markedjs/marked.`,et){const rt="<p>An error occurred:</p><pre>"+escape$1(nt.message+"",!0)+"</pre>";return tt?Promise.resolve(rt):rt}if(tt)return Promise.reject(nt);throw nt}};const markedInstance=new Marked;function marked(_e,et){return markedInstance.parse(_e,et)}marked.options=marked.setOptions=function(_e){return markedInstance.setOptions(_e),marked.defaults=markedInstance.defaults,changeDefaults(marked.defaults),marked};marked.getDefaults=_getDefaults;marked.defaults=_defaults;marked.use=function(..._e){return markedInstance.use(..._e),marked.defaults=markedInstance.defaults,changeDefaults(marked.defaults),marked};marked.walkTokens=function(_e,et){return markedInstance.walkTokens(_e,et)};marked.parseInline=markedInstance.parseInline;marked.Parser=_Parser;marked.parser=_Parser.parse;marked.Renderer=_Renderer;marked.TextRenderer=_TextRenderer;marked.Lexer=_Lexer;marked.lexer=_Lexer.lex;marked.Tokenizer=_Tokenizer;marked.Hooks=_Hooks;marked.parse=marked;marked.options;marked.setOptions;marked.use;marked.walkTokens;marked.parseInline;_Parser.parse;_Lexer.lex;function MarkdownViewer(_e){let et=reactExports.useRef();return reactExports.useEffect(function(){et.current&&(et.current.innerHTML=marked.parse(_e.markdown))},[_e.markdown]),jsxRuntimeExports.jsx("div",{ref:et})}function MessageEditorDialog({value:_e,onChange:et}){const[tt,nt]=reactExports.useState(!1),rt=useIcons(),it=()=>{nt(!1)},ot=()=>nt(!0);return reactExports.useRef(),tt?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs(Modal$2,{dialogClassName:"fullwidthmodal",show:tt,onHide:it,children:[jsxRuntimeExports.jsx(Modal$2.Header,{closeButton:!0,children:jsxRuntimeExports.jsx(Modal$2.Title,{style:{marginRight:"2em"},children:"Edit Message"})}),jsxRuntimeExports.jsxs(Modal$2.Body,{style:{minHeight:"50em"},children:[jsxRuntimeExports.jsx("div",{style:{clear:"both"}}),jsxRuntimeExports.jsx(index$4,{minRows:"12",style:{width:"100%"},onChange:st=>{et(st.target.value)},value:_e||""})]})]})}):jsxRuntimeExports.jsx(Button,{variant:"primary",style:{zIndex:0,float:"left",borderRight:"1px solid black",marginRight:"1px"},onClick:ot,children:rt.pencil})}function CodeViewer({pistonCodeRunnerEndpoint:_e,language:et,code:tt,icons:nt,runtimes:rt,submitForm:it}){const[ot,st]=reactExports.useState(""),[ut,ft]=reactExports.useState(""),[dt,lt]=reactExports.useState(!1);function at(){lt(!0)}function ct(){lt(!1)}function ht(pt,mt){console.log("RUIN",pt,mt);let gt=!1;if(rt&&Array.isArray(rt)&&rt.forEach(function(yt){(yt.language===pt||Array.isArray(yt.aliases)&&yt.aliases.indexOf(pt)!==-1)&&(gt=yt)}),gt){let yt={language:gt.language,version:gt.version,files:[{name:"sample code",content:mt}],stdin:"",args:[],compile_timeout:1e4,run_timeout:3e3,compile_memory_limit:-1,run_memory_limit:-1};st("");try{at(),fetch(_e+"/execute",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(yt)}).then(function(bt){console.log("ai response",bt),bt.json().then(function(xt){console.log("CODE RESPONSE",xt),xt&&xt.compile&&xt.compile.stderr?st(xt.compile.stderr):xt&&xt.run&&xt.run.stderr&&st(xt.run.stderr),xt&&xt.run&&xt.run.stdout?ft(xt.run.stdout):ft("No response"),ct()})})}catch(bt){console.error("Speech generateion error:",bt)}}}return jsxRuntimeExports.jsxs("div",{style:{position:"relative"},children:[jsxRuntimeExports.jsxs("pre",{style:{border:"1px dashed green",padding:"0.3em",clear:"both"},children:[jsxRuntimeExports.jsx(Button,{style:{marginLeft:"0.3em",float:"right"},onClick:function(){navigator.clipboard.writeText(tt)},children:nt.filecopy}),jsxRuntimeExports.jsx(Button,{variant:"success",style:{marginLeft:"0.3em",float:"right"},onClick:function(){ht(et,tt)},children:nt.play}),tt]}),ot&&jsxRuntimeExports.jsx("pre",{style:{border:"1px solid grey",color:"red"},children:ot}),ut&&jsxRuntimeExports.jsx("pre",{children:ut}),dt&&jsxRuntimeExports.jsx("b",{children:jsxRuntimeExports.jsx("img",{style:{height:"6em"},src:"/spinner.svg"})})]})}function CopyTextButton({text:_e,icons:et}){const[tt,nt]=reactExports.useState(!1),rt=reactExports.useRef(null);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Button,{size:"sm",ref:rt,onClick:function(){_e&&_e.length>0&&(navigator.clipboard.writeText(_e),nt(!0),setTimeout(function(){nt(!1)},2e3))},children:et.filecopy}),jsxRuntimeExports.jsx(Overlay,{target:rt.current,show:tt,placement:"left",children:({placement:it,arrowProps:ot,show:st,popper:ut,hasDoneInitialMeasure:ft,...dt})=>jsxRuntimeExports.jsxs("div",{...dt,style:{position:"absolute",backgroundColor:"rgba(255, 100, 100, 0.95)",padding:"2px 10px",marginRight:"0.5em",color:"white",borderRadius:3,...dt.style},children:["Copied ",_e&&_e.length," letters"]})})]})}function CategoriesSelectorModal({defaultOptions:_e,forceRefresh:et,onChange:tt,value:nt,allowNew:rt,blockDeselectAll:it}){const ot=useIcons(),[st,ut]=reactExports.useState(!1);reactExports.useState(!1);const[ft,dt]=reactExports.useState(""),[lt,at]=reactExports.useState(_e),ct=()=>{ut(!1)},ht=()=>ut(!0);function pt(wt){if(Array.isArray(wt)){var _t={};return wt.map(function(Ct){return _t[Ct]=!0,null}),Object.keys(_t)}else return[]}var mt=null;function gt(wt){dt(wt.target.value.toLowerCase()),wt.target.value?(mt&&clearTimeout(mt),mt=setTimeout(function(){let _t=Array.isArray(lt)?lt:[];at(_t.filter(function(Ct){return Ct.indexOf(wt.target.value)!==-1}))},500)):at(_e)}function yt(wt){if(wt&&wt.trim()){var _t=Array.isArray(nt)?nt:[];_t.push(wt);var Ct=pt(_t);dt(""),at(lt),tt(Ct)}}function bt(wt){var _t=Array.isArray(nt)?nt:[];_t.push(wt);var Ct=pt(_t);dt(""),at(lt),tt(Ct)}function xt(wt){var _t=nt.filter(function(Ct){return Ct!==wt});tt(_t)}var vt=Array.isArray(lt)?lt:[];return vt.sort(function(wt,_t){return wt>_t?1:-1}),st?jsxRuntimeExports.jsx("span",{style:{float:"right"},children:jsxRuntimeExports.jsxs(Modal$2,{show:st,onHide:ct,children:[jsxRuntimeExports.jsx(Modal$2.Header,{closeButton:!0,children:jsxRuntimeExports.jsx(Modal$2.Title,{children:"Select Categories"})}),jsxRuntimeExports.jsxs(Modal$2.Body,{style:{minHeight:"800px"},children:[jsxRuntimeExports.jsx(Button,{onClick:function(){ct()},variant:"success",style:{float:"right",marginBottom:"0.3em"},children:"OK"}),jsxRuntimeExports.jsx("div",{children:Array.isArray(nt)&&nt.map(function(wt){return jsxRuntimeExports.jsxs(Button,{style:{marginRight:"0.2em"},variant:"info",onClick:function(_t){xt(wt)},children:[ot.bin,"",wt]},wt)})}),jsxRuntimeExports.jsx("div",{style:{clear:"both",marginTop:"1em"}}),jsxRuntimeExports.jsx("input",{type:"search",value:ft,onChange:gt,onFocus:function(){},onBlur:function(){}}),rt&&jsxRuntimeExports.jsx(Button,{style:{marginLeft:"0.3em"},onClick:function(){yt(ft)},children:"New Category"},"newcategory"),jsxRuntimeExports.jsx(ListGroup$1,{style:{zIndex:"30",clear:"both",width:"100%"},children:vt.map(function(wt,_t){return jsxRuntimeExports.jsx(ListGroup$1.Item,{className:_t%2===0?"even":"odd",onClick:function(Ct){bt(wt)},children:wt},_t)})})]}),jsxRuntimeExports.jsx(Modal$2.Footer,{style:{minHeight:"800px",verticalAlign:"top"}})]})}):jsxRuntimeExports.jsxs(ButtonGroup,{style:{height:"2.37em"},variant:"secondary",children:[!it&&jsxRuntimeExports.jsx(Button,{size:"sm",variant:"dark",onClick:function(){tt([])},children:ot.close}),jsxRuntimeExports.jsxs(Button,{size:"sm",variant:"secondary",onClick:ht,children:[jsxRuntimeExports.jsxs("span",{children:[" ",ot.tag]}),!it&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:["",nt&&Array.isArray(nt)&&nt.join(",")]})]})]})}function RoleList({onChange:_e,chatHistoryId:et,roles:tt,deleteRole:nt,setRoles:rt,loadRole:it,importRoles:ot,exportRoles:st,newRole:ut,mini:ft,handleClose:dt,setCurrentRole:lt,setCurrentTeam:at,categories:ct,duplicateRole:ht,forceRefresh:pt,categoryFilter:mt,setCategoryFilter:gt}){const yt=useIcons(),[bt,xt]=reactExports.useState("");reactExports.useRef();function vt(_t){if(bt.trim().length===0){let Ct=tt[_t],Et=!0;return Array.isArray(mt)&&mt.length>0?(mt.forEach(function($t){Array.isArray(Ct.category)&&Ct.category.indexOf($t)!==-1||(Et=!1)}),Et):!0}else if(tt&&tt[_t]&&tt[_t].name&&tt[_t].name.toLowerCase().indexOf(bt.trim().toLowerCase())!==-1){let Ct=tt[_t],Et=!0;return Array.isArray(mt)&&mt.length>0?(mt.forEach(function($t){Array.isArray(Ct.category)&&Ct.category.indexOf($t)!==-1||(Et=!1)}),Et):!0}else return!1}function wt(_t,Ct){if(tt[_t].name)if(tt[Ct].name){if(tt[_t].name.trim()<tt[Ct].name.trim())return-1;if(tt[_t].name.trim()>tt[Ct].name.trim())return 1;tt[_t].name.trim(),tt[Ct].name.trim()}else return 1;else return-1}return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Link,{to:"/role",children:jsxRuntimeExports.jsx(Button,{variant:"success",style:{float:"left",borderRight:"1px solid black"},onClick:function(){ut(),dt&&dt()},children:yt.plus})}),jsxRuntimeExports.jsx(Form$1.Control,{style:{width:"40%",float:"left",marginLeft:"1em"},placeholder:"Search",type:"input",value:bt,onChange:function(_t){xt(_t.target.value)}}),jsxRuntimeExports.jsx("span",{style:{float:"left",marginLeft:"1em"},children:jsxRuntimeExports.jsx(CategoriesSelectorModal,{allowNew:!1,value:mt,onChange:function(_t){gt(_t)},defaultOptions:ct?Object.keys(ct):[]})}),jsxRuntimeExports.jsx("div",{style:{clear:"both",marginBottom:"0.4em"}}),jsxRuntimeExports.jsx(ListGroup$1,{children:tt&&Object.keys(tt).filter(vt).sort(wt).map(function(_t){let Ct=tt[_t];return ft?jsxRuntimeExports.jsx("span",{children:jsxRuntimeExports.jsxs(ListGroup$1.Item,{children:[jsxRuntimeExports.jsxs(Button,{onClick:function(){_e(_t)},variant:"outline-primary",style:{textAlign:"left"},children:[" ",Ct.name," "]}),jsxRuntimeExports.jsx("div",{style:{clear:"both",marginTop:"0.5em"},children:Array.isArray(Ct.category)&&Ct.category.map(function(Et){return jsxRuntimeExports.jsx(Badge,{variant:"secondary",size:"sm",onClick:function($t){return gt([Et]),$t.stopPropagation(),!1},bg:"secondary",style:{marginLeft:"0.2em"},children:Et})})})]},_t)}):jsxRuntimeExports.jsx("div",{style:{backgroundColor:"white",borderBottom:"1px solid lightgrey"},children:jsxRuntimeExports.jsxs("div",{style:{padding:"0.1em",backgroundColor:"white"},children:[jsxRuntimeExports.jsx(Link,{to:"/role/"+_t,style:{float:"left"},onClick:function(){lt(_t,et),at(null),pt()},children:jsxRuntimeExports.jsxs(Button,{variant:"outline-primary",style:{textAlign:"left"},children:[jsxRuntimeExports.jsxs(Badge,{children:[yt.palette," ",Ct&&Ct.samples?Ct.samples.length:0]})," ",Ct.name," "]})}),jsxRuntimeExports.jsxs(ButtonGroup,{style:{float:"right",marginLeft:"0.3em"},children:[jsxRuntimeExports.jsx(Button,{style:{textAlign:"right"},variant:"warning",onClick:function(){ht(_t)},children:yt.filecopy}),jsxRuntimeExports.jsx(Button,{style:{textAlign:"right"},variant:"danger",onClick:function(){nt(_t)},children:yt.bin})]}),jsxRuntimeExports.jsx("span",{style:{clear:"both"},children:Array.isArray(Ct.category)&&Ct.category.map(function(Et){return jsxRuntimeExports.jsx(Badge,{variant:"secondary",size:"sm",onClick:function($t){return gt([Et]),$t.stopPropagation(),!1},bg:"secondary",style:{float:"right",marginLeft:"0.2em"},children:Et},Et)})})]})},_t)})})]})}function TeamList({onChange:_e,chatHistoryId:et,teams:tt,setTeams:nt,mini:rt,currentTeam:it,setCurrentTeam:ot,categories:st,deleteTeam:ut,handleClose:ft,forceRefresh:dt,setCurrentRole:lt,categoryFilter:at,setCategoryFilter:ct}){const ht=useIcons();reactExports.useRef();const[pt,mt]=reactExports.useState("");useUtils().generateRandomId();function yt(xt){if(pt.trim().length===0){let vt=tt[xt],wt=!0;return Array.isArray(at)&&at.length>0?(at.forEach(function(_t){Array.isArray(vt.category)&&vt.category.indexOf(_t)!==-1||(wt=!1)}),wt):!0}else if(tt&&tt[xt]&&tt[xt].name&&tt[xt].name.toLowerCase().indexOf(pt.trim().toLowerCase())!==-1){let vt=tt[xt],wt=!0;return Array.isArray(at)&&at.length>0?(at.forEach(function(_t){Array.isArray(vt.category)&&vt.category.indexOf(_t)!==-1||(wt=!1)}),wt):!0}else return!1}function bt(xt,vt){if(tt&&tt[xt]&&tt[vt])if(tt[xt].name)if(tt[vt].name){if(tt[xt].name.trim()<tt[vt].name.trim())return-1;if(tt[xt].name.trim()>tt[vt].name.trim())return 1;tt[xt].name.trim(),tt[vt].name.trim()}else return 1;else return-1;else return 1}return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Link,{to:"/team",children:jsxRuntimeExports.jsx(Button,{variant:"success",style:{float:"left",borderRight:"1px solid black"},onClick:function(){},children:ht.plus})}),jsxRuntimeExports.jsx(Form$1.Control,{style:{width:"20em",float:"left",marginLeft:"1em"},placeholder:"Search",type:"input",value:pt,onChange:function(xt){mt(xt.target.value)}}),jsxRuntimeExports.jsx("span",{style:{float:"left",marginLeft:"1em"},children:jsxRuntimeExports.jsx(CategoriesSelectorModal,{allowNew:!1,value:at,onChange:function(xt){ct(xt)},defaultOptions:st?Object.keys(st):[]})}),!rt&&jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{}),jsxRuntimeExports.jsx("div",{style:{clear:"both",marginBottom:"0.4em"}}),jsxRuntimeExports.jsx(ListGroup$1,{children:tt&&Object.keys(tt).filter(yt).sort(bt).map(function(xt){let vt=tt[xt];return rt?jsxRuntimeExports.jsxs(ListGroup$1.Item,{children:[jsxRuntimeExports.jsxs(Button,{onClick:function(){_e(xt)},variant:"outline-primary",style:{width:"70%",textAlign:"left"},children:[" ",vt.name]}),jsxRuntimeExports.jsx("div",{style:{clear:"both",marginTop:"0.2em"},children:Array.isArray(vt.category)&&vt.category.map(function(wt){return jsxRuntimeExports.jsx(Badge,{variant:"secondary",size:"sm",onClick:function(_t){return ct([wt]),_t.stopPropagation(),!1},bg:"secondary",style:{marginLeft:"0.2em"},children:wt})})})]},xt):jsxRuntimeExports.jsxs(ListGroup$1.Item,{children:[jsxRuntimeExports.jsx(Button,{style:{float:"right"},variant:"danger",onClick:function(){ut(xt)},children:ht.bin}),jsxRuntimeExports.jsx(Link,{to:"/team/"+xt,style:{float:"left"},onClick:function(){ot(xt,et),ft&&ft(),dt()},children:jsxRuntimeExports.jsxs(Button,{variant:"outline-primary",style:{textAlign:"left"},children:[vt.name," ",jsxRuntimeExports.jsxs(Badge,{style:{float:"right",marginLeft:"0.5em"},children:[ht.palette," ",vt&&vt.samples?vt.samples.length:0]})]})}),jsxRuntimeExports.jsx("div",{style:{float:"right",marginTop:"0.2em",marginRight:"1em"},children:Array.isArray(vt.category)&&vt.category.map(function(wt){return jsxRuntimeExports.jsx(Badge,{variant:"secondary",size:"sm",onClick:function(_t){return ct([wt]),_t.stopPropagation(),!1},bg:"secondary",style:{marginLeft:"0.2em"},children:wt})})})]},xt)})})]})}function StarredRoleAndTeamList({teams:_e,icons:et,onChange:tt,chatHistoryId:nt,roles:rt,deleteRole:it,setRoles:ot,loadRole:st,importRoles:ut,exportRoles:ft,newRole:dt,mini:lt,handleClose:at,setCurrentRole:ct,setCurrentTeam:ht,categories:pt,duplicateRole:mt,forceRefresh:gt,categoryFilter:yt,setCategoryFilter:bt}){function xt(Et,$t){if(!Et||!$t||!rt[Et]||!rt[Et].name)return-1;if(!rt[$t]||!rt[$t].name)return 1;if(rt[Et].name.trim().toLowerCase()<rt[$t].name.trim().toLowerCase())return-1;if(rt[Et].name.trim().toLowerCase()>rt[$t].name.trim().toLowerCase())return 1;rt[Et].name.trim().toLowerCase(),rt[$t].name.trim().toLowerCase()}let vt=function(Et){return!!Et.isStarred},wt=Object.keys(_e).map(function(Et){let $t=_e[Et];return $t.id=Et,$t}),_t=Object.keys(rt).map(function(Et){let $t=rt[Et];return $t.id=Et,$t}),Ct=[].concat(Object.values(_t).filter(vt).map(function(Et){return Object.assign({},Et,{list_type:"role"})}),Object.values(wt).filter(vt).map(function(Et){return Object.assign({},Et,{list_type:"team"})}));return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{style:{clear:"both",marginBottom:"0.4em"}}),jsxRuntimeExports.jsx(ListGroup$1,{children:Ct&&Object.keys(Ct).sort(xt).map(function(Et){let $t=Ct[Et];return lt?jsxRuntimeExports.jsxs(ListGroup$1.Item,{children:[jsxRuntimeExports.jsxs(Button,{onClick:function(){tt($t.id)},variant:"outline-primary",style:{width:"70%",textAlign:"left"},children:[" ",$t.name]}),jsxRuntimeExports.jsx("div",{style:{clear:"both",marginTop:"0.2em"},children:Array.isArray($t.category)&&$t.category.map(function(jt){return jsxRuntimeExports.jsx(Badge,{variant:"secondary",size:"sm",onClick:function(Dt){return bt([jt]),Dt.stopPropagation(),!1},bg:"secondary",style:{marginLeft:"0.2em"},children:jt})})})]},Et):jsxRuntimeExports.jsx(ListGroup$1.Item,{style:{backgroundColor:"white",borderBottom:"1px solid lightgrey"},children:jsxRuntimeExports.jsxs("div",{style:{padding:"0.1em",backgroundColor:"white"},children:[jsxRuntimeExports.jsx(Link,{to:$t.list_type==="team"?"/team/"+$t.id:"/role/"+$t.id,style:{float:"left"},onClick:function(){ct(Et,nt),ht(null),gt()},children:jsxRuntimeExports.jsxs(Button,{variant:"outline-primary",style:{textAlign:"left"},children:[$t.list_type==="team"&&jsxRuntimeExports.jsx(Badge,{children:et.team})," ",jsxRuntimeExports.jsxs(Badge,{children:[et.palette," ",$t&&$t.samples?$t.samples.length:0]})," ",$t.name," "]})}),jsxRuntimeExports.jsxs(ButtonGroup,{style:{float:"right",marginLeft:"0.3em"},children:[jsxRuntimeExports.jsx(Button,{style:{textAlign:"right"},variant:"warning",onClick:function(){mt(Et)},children:et.filecopy}),jsxRuntimeExports.jsx(Button,{style:{textAlign:"right"},variant:"danger",onClick:function(){it(Et)},children:et.bin})]}),jsxRuntimeExports.jsx("span",{style:{clear:"both"},children:Array.isArray($t.category)&&$t.category.map(function(jt){return jsxRuntimeExports.jsx(Badge,{variant:"secondary",size:"sm",onClick:function(Dt){return bt([jt]),Dt.stopPropagation(),!1},bg:"secondary",style:{float:"right",marginLeft:"0.2em"},children:jt},jt)})})]})},Et)})})]})}function LoadRoleModal(_e){const{isHomePage:et,chatHistoryId:tt,roles:nt,setRoles:rt,loadRole:it,importRoles:ot,currentRole:st,exportRoles:ut,newRole:ft,setCurrentRole:dt,teams:lt,currentTeam:at,setCurrentTeam:ct,categoryFilter:ht,setCategoryFilter:pt,forceRefresh:mt}=_e,[gt,yt]=reactExports.useState(!1),bt=useIcons(),xt=()=>{yt(!1)},vt=useNavigate(),wt=()=>yt(!0);reactExports.useRef();let _t=lt&&at&&lt[at]?lt[at].name:nt&&nt[st]?nt[st].name:"";function Ct(Et){dt(null),ct(null),Et.preventDefault(),Et.stopPropagation()}return gt?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs(Modal$2,{show:gt,onHide:xt,children:[jsxRuntimeExports.jsx(Modal$2.Header,{closeButton:!0,children:jsxRuntimeExports.jsx(Modal$2.Title,{style:{marginRight:"2em"},children:"Talk To"})}),jsxRuntimeExports.jsx(Modal$2.Body,{style:{minHeight:"50em"},children:jsxRuntimeExports.jsxs(Tabs,{defaultActiveKey:"starred",id:"uncontrolled-tab-example",className:"mb-3",children:[jsxRuntimeExports.jsx(Tab$1,{eventKey:"starred",title:"Starred",children:jsxRuntimeExports.jsx(StarredRoleAndTeamList,{..._e,mini:!0,onChange:function(Et){console.log("onchange set role",Et),dt(Et,tt),ct(null),vt("/chat"),xt()},handleClose:xt,categories:_e.categories,forceRefresh:mt})}),jsxRuntimeExports.jsx(Tab$1,{eventKey:"roles",title:"Persona",children:jsxRuntimeExports.jsx(RoleList,{..._e,mini:!0,onChange:function(Et){console.log("onchange set role",Et),dt(Et,tt),ct(null),vt("/chat"),xt()},handleClose:xt,categories:_e.categories,forceRefresh:mt})}),jsxRuntimeExports.jsx(Tab$1,{eventKey:"teams",title:"Team",children:jsxRuntimeExports.jsx(TeamList,{..._e,mini:!0,onChange:function(Et){console.log("onchange set team",Et),dt(null),ct(Et,tt),vt("/chat"),xt()},handleClose:xt,categories:_e.categories,forceRefresh:mt})})]})})]})}):et?jsxRuntimeExports.jsxs(Button,{size:"lg",onClick:wt,variant:"success",children:[bt.team," Talk To A Team"]}):jsxRuntimeExports.jsxs(Button,{variant:"primary",onClick:wt,children:[bt.team," ",_t,(at||st)&&jsxRuntimeExports.jsx(Badge,{style:{marginLeft:"1em"},onClick:Ct,children:bt.close})]})}function AssistantSelector({forceRefresh:_e,roles:et,currentRole:tt,newRole:nt,importRoles:rt,exportRoles:it,loadRole:ot,setRoles:st,setCurrentRole:ut,chatHistoryId:ft,categories:dt,setUserMessage:lt,icons:at,teams:ct,setTeams:ht,currentTeam:pt,setCurrentTeam:mt,categoryFilter:gt,setCategoryFilter:yt}){let bt=null;return pt?bt=jsxRuntimeExports.jsxs(ButtonGroup,{style:{border:"1px solid blue",padding:"0.1em",float:"left",marginBottom:"0.3em"},children:[pt&&ct&&ct[pt]&&jsxRuntimeExports.jsx(Link,{style:{fborder:"1px solid blue"},className:"button",to:"/team/"+pt,children:jsxRuntimeExports.jsx(Button,{variant:"outline-none",children:at.pencil})}),jsxRuntimeExports.jsx(LoadRoleModal,{forceRefresh:_e,categoryFilter:gt,setCategoryFilter:yt,roles:et,currentRole:tt,newRole:nt,importRoles:rt,exportRoles:it,loadRole:ot,setRoles:st,setCurrentRole:ut,chatHistoryId:ft,categories:dt,setUserMessage:lt,icons:at,teams:ct,setTeams:ht,currentTeam:pt,setCurrentTeam:mt,teams:ct}),jsxRuntimeExports.jsx(SelectSampleModal,{setUserMessage:lt,samples:ct&&ct[pt]&&Array.isArray(ct[pt].samples)?ct[pt].samples:[]})]}):bt=jsxRuntimeExports.jsxs(ButtonGroup,{style:{border:"1px solid blue",padding:"0.1em",float:"left",marginBottom:"0.3em"},children:[tt&&et&&et[tt]&&jsxRuntimeExports.jsx(Link,{style:{fborder:"1px solid blue"},className:"button",to:"/role/"+tt,children:jsxRuntimeExports.jsx(Button,{variant:"outline-none",children:at.pencil})}),jsxRuntimeExports.jsx(LoadRoleModal,{forceRefresh:_e,categoryFilter:gt,setCategoryFilter:yt,roles:et,currentRole:tt,newRole:nt,importRoles:rt,exportRoles:it,loadRole:ot,setRoles:st,setCurrentRole:ut,chatHistoryId:ft,categories:dt,setUserMessage:lt,icons:at,teams:ct,setTeams:ht,currentTeam:pt,setCurrentTeam:mt,teams:ct,chatHistoryId:ft}),jsxRuntimeExports.jsx(SelectSampleModal,{setUserMessage:lt,samples:et&&et[tt]&&Array.isArray(et[tt].samples)?et[tt].samples:[]})]}),jsxRuntimeExports.jsx("div",{children:bt})}var define_import_meta_env_default$1={VITE_GOOGLE_OAUTH_CLIENT_ID:"730767136065-vi1urlhhqo0pj0gcb0gtn1i3kj7mc4dl.apps.googleusercontent.com",VITE_GOOGLE_ANALYTICS_ID:"G-QTPXLSHQ31",VITE_GOOGLE_PICKER_API_KEY:"AIzaSyBL-F78yq6O8b_PoYM8V6-e3cr33EjKktY",VITE_GOOGLE_PICKER_CLIENT_ID:"730767136065-vi1urlhhqo0pj0gcb0gtn1i3kj7mc4dl.apps.googleusercontent.com",VITE_API_URL:"https://m7tueuetec.execute-api.us-east-1.amazonaws.com",VITE_PAYPAL_SANDBOX_CLIENT_ID:"AU9cY15vsAcz4tWwm5U0O-nMBqYTP3cT0dOHTpHqPCCD1n9fwdcD-xNcuzMv_eP-UtaB3PFHTuHoXeCW",VITE_PAYPAL_LIVE_CLIENT_ID:"AYxEgtruh3dXv2plpbUVWgmmS7-DUGmzHIpPpVrIvZR9SM3y5SLS3qyvCoF16Dq1wUg3FyhRK0dLnzrP",VITE_SQUARE_SANDBOX_APPLICATION_ID:"sandbox-sq0idb-FbP3OOk_tpjkzmpqCxX1OA",VITE_SQUARE_SANDBOX_LOCATION_ID:"L16TY989P8ZP6",VITE_SQUARE_LIVE_APPLICATION_ID:"sq0idp-Wbc-ea_9WBxRA-QoaH3s5A",VITE_SQUARE_LIVE_LOCATION_ID:"LKNA5PZB75Q9G",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};function ChatPage({isOnlineRef:_e,onPartialTranscript:et,allowRestart:tt,category:nt,setCategory:rt,setSystemMessage:it,systemMessage:ot,systemConfig:st,setSystemConfig:ut,saveRole:ft,loadRole:dt,simplifiedChat:lt,bodyStyle:at,exchangeRate:ct,setExchangeRate:ht,updateExchangeRate:pt,modelSelector:mt,creditBalance:gt,updateCreditBalance:yt,teamLlm:bt,chatHistoryRoles:xt,setChatHistoryRoles:vt,chatHistoryTeams:wt,setChatHistoryTeams:_t,user:Ct,token:Et,login:$t,logout:jt,refresh:Dt,doSave:Pt,aiUsage:kt,submitForm:At,stopAllPlaying:Tt,stopLanguageModels:St,aiLlm:Rt,usingOpenAiTts:Ot,usingSelfHostedTts:Nt,usingWebSpeechTts:It,usingMeSpeakTts:Bt,usingTts:zt,usingStt:Gt,usingOpenAiStt:Kt,usingSelfHostedStt:fn,usingLocalStt:dn,queueSpeech:Wt,getUrl:rn,playDataUri:Vt,stopPlaying:an,isPlaying:Qt,setIsPlaying:Zt,isMuted:xn,isMutedRef:vn,mute:gn,unmute:Cn,deleteRole:kn,exportRoles:En,importRoles:sn,init:On,roles:Tn,setRoles:bn,currentRole:Dn,setCurrentRole:Nn,newRole:wn,utteranceQueue:qn,setUtteranceQueue:or,mergeData:tr,setMergeData:cr,lastLlmTrigger:rr,autoStartMicrophone:Vn,setAutoStartMicrophone:Jt,autoStopMicrophone:pn,setAutoStopMicrophone:$n,refreshHash:jn,setRefreshHash:Fn,forceRefresh:Ln,hasRequiredConfig:Xn,isSpeaking:ar,setIsSpeaking:Qn,isWaiting:Yt,startWaiting:hn,stopWaiting:mn,userMessage:yn,userMessageRef:qt,setUserMessage:Sn,isReady:Bn,setIsReady:Zn,config:Hn,setConfig:sr,llmEnabled:nr,setLlmEnabled:dr,icons:zn,configRef:mr,utils:$r,newChat:lr,addUserMessage:wr,addAssistantMessage:gr,setLastAssistantMessage:Kn,setLastUserMessage:jr,getLastUserMessage:Pr,chatHistoryId:Lr,chatHistoryIdRef:Un,setChatHistoryId:en,chatHistories:Mn,setChatHistories:Wn,currentChatHistory:pr,revertChatHistory:Sr,deleteChatHistory:kr,playSpeech:_r,duplicateChatHistory:vr,configIn:ur,chatHistoriesRef:Er,getLastAssistantChatIndex:Cr,getLastAssistantMessage:Dr,categories:zr,setCategories:Hr,teams:Or,setTeams:Vr,currentTeam:Nr,setCurrentTeam:Lt,currentTeamRef:Xt,deleteTeam:Ht,configManager:on,runtimes:ln,duplicateRole:tn,accordionSelectedKey:An,setAccordionSelectedKey:Rn,categoryFilter:_n,setCategoryFilter:Mt,fileManager:Ft,files:Ut,exportDocument:cn,availableModels:In}){let Gn=0;function ir(){rr.current="",St()}const Tr=useNavigate();let Ar=useParams();const Fr=reactExports.useRef();reactExports.useEffect(function(){if(Mn||(Mn={}),Ar.id)Ar.id&&(en(Ar.id),localStorage.setItem("voice2llm_last_chat",Ar.id),Mn.hasOwnProperty(Ar.id)?(xt||(xt={}),xt[Ar.id]&&Nn(xt[Ar.id])):(Mn[Ar.id]=[],Wn(Mn),xt||(xt={}),xt[Ar.id]=Dn));else{const Yn=localStorage.getItem("voice2llm_last_chat"),qr=Yn||$r.generateRandomId();Tr("/chat/"+qr)}},[Ar.id]);function Ir(Yn){St(),Sn(Sr(Yn))}let Br=reactExports.useRef(),Rr=pr();function Pn(Yn){if(Yn){rr.current="speech";let qr=(qt.current?qt.current+" ":"")+Yn;if(Sn(qr),console.log("transcript TO",Yn),rr.current="speech",Rt.isBusy.current||bt.isBusy.current){St(!1),Sr();let Kr=(Pr()?Pr()+" ":"")+qr;At(Kr,Hn)}else At(qr,Hn);Cr("user"),Cr("assistant"),Dr()}}const[yr,Gr]=reactExports.useState(!1),fr=reactExports.useRef(),xr={border:"1px dashed blue",padding:"0.3em",width:"100%",height:"12em"};function Wr(Yn){return jsxRuntimeExports.jsx("div",{style:{position:"relative"},children:jsxRuntimeExports.jsx("pre",{style:xr,children:Yn})})}function Yr(Yn){Yn=String(Yn);let qr=Yn&&Yn.split?Yn.split("```"):[],Kr=[],Qr=[];Object.values(ln).forEach(function(Ur){Qr.push(Ur.language),Array.isArray(Ur.aliases)&&Ur.aliases.forEach(function(Mr){Qr.push(Mr)})});for(let Ur=0;Ur<qr.length;Ur++){let Mr=qr[Ur],eo=Mr.split(`
`),ao=eo[0];Ur%2===0?Mr&&(Mr.trim&&Mr.trim().length>0||parseFloat(Mr)!=NaN)&&Kr.push(jsxRuntimeExports.jsx("div",{children:Mr})):Mr.startsWith("json")?Kr.push(Wr(Mr.slice(4))):Mr.startsWith("mermaid")?(Gn++,Kr.push(jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(MermaidViewer,{aiLlm:Rt,icons:zn,chart:Mr.slice(7),submitForm:At,forceRefresh:Ln,elementId:"mermaidrenderer_"+Gn})}))):Mr.startsWith("abc")?Kr.push(jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(AbcViewer,{abc:Mr.slice(3),forceRefresh:Ln})})):Mr.startsWith("markdown")?Kr.push(jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(MarkdownViewer,{markdown:Mr.slice(8)})})):Mr.startsWith("python")?Kr.push(jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(CodeViewer,{submitForm:At,runtimes:ln,pistonCodeRunnerEndpoint:on.codeRunnerEndpoint(),language:"python",code:Mr.slice(6),icons:zn})})):Mr.startsWith("javascript")?Kr.push(jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(CodeViewer,{submitForm:At,runtimes:ln,pistonCodeRunnerEndpoint:on.codeRunnerEndpoint(),language:"javascript",code:Mr.slice(10),icons:zn})})):Qr.indexOf(ao)!==-1?Kr.push(jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(CodeViewer,{submitForm:At,runtimes:ln,pistonCodeRunnerEndpoint:on.codeRunnerEndpoint(),language:ao,code:eo.slice(ao.length).join(`
`),icons:zn})})):Kr.push(Wr(Mr))}return Kr}function Jr(Yn){const qr=Yn.target.files[0],Kr=new FileReader;Kr.onload=Qr=>{const Ur=Qr.target.result;Sn(yn+Ur)},Kr.readAsText(qr)}const Xr=Rr?Rr.filter(function(Yn){return Yn&&(Yn.role==="user"||Yn.role==="assistant")}):[];function Zr(Yn,qr,Kr,Qr){return Array.isArray(Yn)&&Yn.length>0?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx("div",{style:{marginTop:"1em"},children:jsxRuntimeExports.jsx(Accordion$1,{activeKey:Kr,defaultActiveKey:Kr,children:Yn.map(function(Ur,Mr){return jsxRuntimeExports.jsxs(Accordion$1.Item,{eventKey:Mr,children:[jsxRuntimeExports.jsxs(Accordion$1.Header,{onClick:function(){Qr(Kr===Mr?"":Mr)},children:[jsxRuntimeExports.jsxs("span",{style:{width:"80%"},children:[Ur&&Ur.name," "]}),!lt&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Button,{style:{float:"right",marginRight:"1em"},variant:"outline-primary",children:[((Ur&&Ur.log?Ur.log.duration:0)/1e3).toFixed(2),"s"]}),jsxRuntimeExports.jsxs(Button,{style:{float:"right",marginRight:"1em"},variant:"outline-primary",children:[Ur&&Ur.log?Ur.log.tokens_in:0,"/",Ur&&Ur.log?Ur.log.tokens_out:0]})]})]}),jsxRuntimeExports.jsxs(Accordion$1.Body,{children:[jsxRuntimeExports.jsxs(ButtonGroup,{style:{float:"right",marginLeft:"1em"},children:[jsxRuntimeExports.jsx(MessageEditorDialog,{value:Ur&&Ur.content,onChange:function(eo){Un.current&&Mn&&Mn[Un.current]&&Mn[Un.current][qr]&&Mn[Un.current][qr].content&&Mn[Un.current][qr].content[Mr]&&(Mn[Lr][qr].content[Mr].content=eo,Wn(Mn),Ln())}}),jsxRuntimeExports.jsx(CopyTextButton,{text:Ur&&Ur.content?Ur.content:"",icons:zn})]}),Ur&&Yr(Ur.content)]})]},Mr)})})})}):null}let _i=Tn&&Dn&&Tn[Dn]&&Tn[Dn].config&&Tn[Dn].config.welcomeMessage?Tn[Dn].config.welcomeMessage:"";Nr&&(_i=Or&&Nr&&Or[Nr]&&Or[Nr].config&&Or[Nr].config.welcomeMessage?Or[Nr].config.welcomeMessage:"");const fo=$r.generateRandomId();return jsxRuntimeExports.jsxs("div",{className:"App",id:jn,children:[jsxRuntimeExports.jsx(ConfirmDialog,{forceShow:yr,setForceShow:Gr,title:"Revert Chat History",message:"Really discard chat messages after this and start with this message?",onCancel:function(){Gr(!1)},onConfirm:function(){Ir(fr.current),Gr(!1)}}),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Menu,{isOnlineRef:_e,bodyStyle:at,creditBalance:gt,refreshHash:jn,token:Et,logout:jt,user:Ct,login:$t,utils:$r,usingStt:Gt,usingTts:zt,isSpeaking:ar,isMuted:xn,mute:gn,stopAllPlaying:Tt,icons:zn,unmute:Cn,stopPlaying:an,lastLlmTrigger:rr,config:Hn,aiUsage:kt,forceRefresh:Ln,autoStartMicrophone:Vn,setAutoStartMicrophone:Jt,isPlaying:Qt,allowRestart:tt,isWaiting:Yt,startWaiting:hn,stopWaiting:mn,onCancel:ir,isReady:Bn,setIsReady:Zn,onTranscript:Pn,onPartialTranscript:et,setUserMessage:Sn}),jsxRuntimeExports.jsxs("div",{id:"body",style:at,children:[jsxRuntimeExports.jsx(Link,{to:"/chat/"+fo,style:{float:"right",marginTop:"0.2em",marginRight:"0.7em"},children:jsxRuntimeExports.jsx(Button,{onClick:St,disabled:!fo,variant:"primary",children:zn.newchat})}),jsxRuntimeExports.jsxs("form",{onSubmit:function(Yn){return At(qt.current,Hn),Yn.preventDefault(),!1},children:[!lt&&jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(AssistantSelector,{categoryFilter:_n,setCategoryFilter:Mt,user:Ct,token:Et,login:$t,logout:jt,refresh:Dt,doSave:Pt,aiUsage:kt,submitForm:At,stopAllPlaying:Tt,stopLanguageModels:St,aiLlm:Rt,usingOpenAiTts:Ot,usingSelfHostedTts:Nt,usingWebSpeechTts:It,usingMeSpeakTts:Bt,usingTts:zt,usingStt:Gt,usingOpenAiStt:Kt,usingSelfHostedStt:fn,usingLocalStt:dn,queueSpeech:Wt,getUrl:rn,playDataUri:Vt,stopPlaying:an,isPlaying:Qt,setIsPlaying:Zt,isMuted:xn,isMutedRef:vn,mute:gn,unmute:Cn,category:nt,setCategory:rt,exportRoles:En,importRoles:sn,setSystemMessage:it,systemMessage:ot,setSystemConfig:ut,systemConfig:st,init:On,saveRole:ft,loadRole:dt,roles:Tn,setRoles:bn,currentRole:Dn,setCurrentRole:Nn,newRole:wn,utteranceQueue:qn,setUtteranceQueue:or,mergeData:tr,setMergeData:cr,lastLlmTrigger:rr,autoStartMicrophone:Vn,setAutoStartMicrophone:Jt,autoStopMicrophone:pn,setAutoStopMicrophone:$n,refreshHash:jn,setRefreshHash:Fn,forceRefresh:Ln,hasRequiredConfig:Xn,isSpeaking:ar,setIsSpeaking:Qn,isWaiting:Yt,startWaiting:hn,stopWaiting:mn,userMessage:yn,userMessageRef:qt,setUserMessage:Sn,isReady:Bn,setIsReady:Zn,config:Hn,setConfig:sr,llmEnabled:nr,setLlmEnabled:dr,icons:zn,configRef:mr,utils:$r,newChat:lr,addUserMessage:wr,addAssistantMessage:gr,setLastAssistantMessage:Kn,getLastAssistantMessage:Dr,setLastUserMessage:jr,getLastUserMessage:Pr,chatHistoryId:Lr,chatHistoryIdRef:Un,setChatHistoryId:en,chatHistories:Mn,setChatHistories:Wn,currentChatHistory:pr,revertChatHistory:Sr,chatHistoryRoles:xt,setChatHistoryRoles:vt,getLastAssistantChatIndex:Cr,categories:zr,configManager:on,runtimes:ln,currentTeam:Nr,setCurrentTeam:Lt,teams:Or,setTeams:Vr})}),jsxRuntimeExports.jsx("div",{style:{clear:"both",float:"left"}}),jsxRuntimeExports.jsx(index$4,{autoFocus:!0,tabIndex:"1",disabled:Rt.isBusy.current||bt.isBusy.current||Qt.current||!nr,maxRows:15,style:{minWidth:"65%",fontSize:"1em",float:"left"},type:"text",id:"usermessage",placeholder:"Message",onChange:function(Yn){Sn(Yn.target.value),Ln()},value:qt.current,onFocus:function(){clearTimeout(Br.current)}}),jsxRuntimeExports.jsxs("span",{style:{float:"left"},children:[jsxRuntimeExports.jsxs("span",{style:{float:"right",marginLeft:"0.3em"},children:[jsxRuntimeExports.jsx(Form$1.Control,{accept:".txt, .js, .php, .py",type:"file",style:{display:"none"},ref:Fr,onChange:Jr}),jsxRuntimeExports.jsx(Button,{tabIndex:"3",size:"lg",variant:"outline-primary",as:"label",htmlFor:"formFile",onClick:function(){Fr.current.click()},children:zn.attachment})]}),jsxRuntimeExports.jsxs("span",{style:{float:"right",marginLeft:"0.3em"},children:[!(Rt.isBusy.current||bt.isBusy.current||Qt.current)&&jsxRuntimeExports.jsx(Button,{tabIndex:"2",size:"lg",id:"sendbutton",disabled:!_e.current||!nr||!yn||yn.length===0,style:{float:"right",marginRight:"0.2em",color:"black"},className:"btn btn-primary",onClick:function(){return rr.current="button",!1},type:"submit",title:"Send",children:zn["send-plane-line"]}),(Rt.isBusy.current||bt.isBusy.current||Qt.current)&&jsxRuntimeExports.jsx(Button,{tabIndex:"2",size:"lg",disabled:!nr,style:{float:"right",marginRight:"0.2em",color:"black"},className:"btn  btn-danger",id:"stopLMMButton",onClick:St,title:"Stop",children:Rt.isBusy.current?zn["loader-line"]:zn["hexagon-fill"]})]})]})]})]}),jsxRuntimeExports.jsxs("div",{id:"responseContainer",style:{marginTop:"12em",clear:"both",position:"relative",width:"98%",fontSize:"1em",marginLeft:"0.1em",marginRight:"0.1em"},children:[(!Et||!Et.access_token)&&jsxRuntimeExports.jsxs("div",{style:{clear:"both",paddingTop:"0.3em",paddingBottom:"0.3em"},children:["Chatting to a free language model from ",jsxRuntimeExports.jsxs("a",{href:"https://groq.com/",target:"+new",style:{textDecoration:"none",color:"black"},children:[jsxRuntimeExports.jsx("img",{src:"/grokcloud.ico",style:{height:"24px",width:"24px"}})," GroqCloud "]})]}),jsxRuntimeExports.jsx("div",{style:{fontWeight:"bold",textAlign:"left",width:"100%"},children:Array.isArray(Rr)&&Rr.filter(function(Yn){return Yn.role==="system"}).map(function(Yn){return Yn.content}).join("/n")}),jsxRuntimeExports.jsxs(ListGroup$1,{children:[_i&&jsxRuntimeExports.jsxs(ListGroup$1.Item,{style:{backgroundColor:"green",textAlign:"left"},children:[jsxRuntimeExports.jsx("b",{style:{marginBottom:"2em"},children:"ASSISTANT:"})," ",_i]},-1),Xr.map(function(Yn,qr){let Kr=0,Qr=0,Ur=Yn.content;return Array.isArray(Ur)&&Ur.length>0?Ur.forEach(function(Mr,eo){Kr+=Mr&&Mr.log?Mr.log.tokens_in:0,Qr+=Mr&&Mr.log?Mr.log.tokens_out:0}):(Kr+=Yn&&Yn.log?Yn.log.tokens_in:0,Qr+=Yn&&Yn.log?Yn.log.tokens_out:0),jsxRuntimeExports.jsxs(ListGroup$1.Item,{style:{textAlign:"left",backgroundColor:qr%2===0?"#3d6cda0f":"#3d94da1f"},children:[jsxRuntimeExports.jsxs(ButtonGroup,{style:{float:"right",backgroundColor:"#0d6efd",marginLeft:"1em",marginBottom:"0.3em"},children:[!Array.isArray(Yn.content)&&jsxRuntimeExports.jsx(MessageEditorDialog,{value:Yn.content,onChange:function(Mr){Un.current&&Mn&&Mn[Un.current]&&Mn[Un.current][qr]&&(Mn[Lr][qr].content=Mr,Wn(Mn),Ln())}}),Yn.role==="user"&&jsxRuntimeExports.jsx(Button,{style:{borderRight:"1px solid black",marginRight:"1px"},size:"sm",variant:"primary",onClick:function(){(define_import_meta_env_default$1.mode==="development"||window.confirm("Are you sure you want to DELETE the chat history and restart the conversation from here."))&&Ir(qr)},children:zn.history}),jsxRuntimeExports.jsx(CopyTextButton,{text:Yn&&Array.isArray(Yn.content)?Yn.content.map(function(Mr){return Mr&&Mr.content?Mr.content:""}).join(`
`):Yn&&Yn.content?Yn.content:"",icons:zn})]}),jsxRuntimeExports.jsx("b",{style:{marginBottom:"2em"},children:Yn.role==="user"?"USER:":"ASSISTANT:"}),jsxRuntimeExports.jsxs("div",{style:{clear:"both"},children:[!lt&&Yn.role==="assistant"&&jsxRuntimeExports.jsxs(ButtonGroup,{style:{float:"right",marginRight:"0.5em"},children:[Yn&&Yn.log&&Yn.log.model&&jsxRuntimeExports.jsx(Button,{variant:"outline-primary",children:Yn.log.model}),jsxRuntimeExports.jsxs(Button,{children:[Yn&&Yn.log&&Yn.log.tokens_in>0?parseInt(Yn.log.tokens_in):0,"/",Yn&&Yn.log&&Yn.log.tokens_out>0?parseInt(Yn.log.tokens_out):0]})]}),!lt&&Array.isArray(Yn.content)&&Yn.role==="assistant"&&Yn&&Yn.log&&Yn.log.duration&&jsxRuntimeExports.jsx(Button,{style:{float:"right",marginRight:"0.5em"},variant:"outline-primary",children:Yn&&Yn.log&&Yn.log.duration?(Yn.log.duration/1e3).toFixed(2)+"s":""}),!lt&&Yn.role==="assistant"&&!Array.isArray(Yn.content)&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[Yn&&Yn.log&&Yn.log.duration?jsxRuntimeExports.jsx(Button,{style:{float:"right",marginRight:"0.5em"},variant:"outline-primary",children:Yn&&Yn.log&&Yn.log.duration?(Yn.log.duration/1e3).toFixed(2)+"s":""}):null,Yr(Yn.content)]}),jsxRuntimeExports.jsx("div",{style:{clear:"both"}}),Array.isArray(Yn.content)&&Zr(Yn.content,qr,An,Rn),Yn.role==="user"&&!Array.isArray(Yn.content)&&jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:Yr(Yn.content)})]}),qr===Xr.length-1&&(Rt.isBusy.current||bt.isBusy.current)&&jsxRuntimeExports.jsx("b",{children:jsxRuntimeExports.jsx("img",{style:{height:"6em"},src:"/spinner.svg"})})]},qr)})]}),jsxRuntimeExports.jsx("hr",{})]}),jsxRuntimeExports.jsx(Footer,{icons:zn}),jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20].map(function(Yn){return jsxRuntimeExports.jsx("div",{id:"mermaidrenderer_"+Yn,style:{position:"fixed",top:-1e3,left:-1e3,height:"200px",width:"200px",border:"2px solid green",zIndex:20}},Yn)})})]}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{})]})}function RoadMapPage({isOnline:_e,isOnlineRef:et,allowRestart:tt,onCancel:nt,onTranscript:rt,onPartialTranscript:it,bodyStyle:ot,exchangeRate:st,setExchangeRate:ut,updateExchangeRate:ft,modelSelector:dt,creditBalance:lt,updateCreditBalance:at,teamLlm:ct,chatHistoryRoles:ht,setChatHistoryRoles:pt,chatHistoryTeams:mt,setChatHistoryTeams:gt,user:yt,token:bt,login:xt,logout:vt,refresh:wt,doSave:_t,aiUsage:Ct,submitForm:Et,stopAllPlaying:$t,stopLanguageModels:jt,aiLlm:Dt,usingOpenAiTts:Pt,usingSelfHostedTts:kt,usingWebSpeechTts:At,usingMeSpeakTts:Tt,usingTts:St,usingStt:Rt,usingOpenAiStt:Ot,usingSelfHostedStt:Nt,usingLocalStt:It,queueSpeech:Bt,getUrl:zt,playDataUri:Gt,stopPlaying:Kt,isPlaying:fn,setIsPlaying:dn,isMuted:Wt,isMutedRef:rn,mute:Vt,unmute:an,deleteRole:Qt,exportRoles:Zt,importRoles:xn,init:vn,roles:gn,setRoles:Cn,currentRole:kn,setCurrentRole:En,newRole:sn,utteranceQueue:On,setUtteranceQueue:Tn,mergeData:bn,setMergeData:Dn,lastLlmTrigger:Nn,autoStartMicrophone:wn,setAutoStartMicrophone:qn,autoStopMicrophone:or,setAutoStopMicrophone:tr,refreshHash:cr,setRefreshHash:rr,forceRefresh:Vn,hasRequiredConfig:Jt,isSpeaking:pn,setIsSpeaking:$n,isWaiting:jn,startWaiting:Fn,stopWaiting:Ln,userMessage:Xn,userMessageRef:ar,setUserMessage:Qn,isReady:Yt,setIsReady:hn,config:mn,setConfig:yn,llmEnabled:qt,setLlmEnabled:Sn,icons:Bn,configRef:Zn,utils:Hn,newChat:sr,addUserMessage:nr,addAssistantMessage:dr,setLastAssistantMessage:zn,setLastUserMessage:mr,getLastUserMessage:$r,chatHistoryId:lr,chatHistoryIdRef:wr,setChatHistoryId:gr,chatHistories:Kn,setChatHistories:jr,currentChatHistory:Pr,revertChatHistory:Lr,deleteChatHistory:Un,playSpeech:en,duplicateChatHistory:Mn,configIn:Wn,chatHistoriesRef:pr,getLastAssistantChatIndex:Sr,getLastAssistantMessage:kr,categories:_r,setCategories:vr,teams:ur,setTeams:Er,currentTeam:Cr,setCurrentTeam:Dr,currentTeamRef:zr,deleteTeam:Hr,configManager:Or,runtimes:Vr,duplicateRole:Nr,accordionSelectedKey:Lt,setAccordionSelectedKey:Xt,categoryFilter:Ht,setCategoryFilter:on,fileManager:ln,files:tn,exportDocument:An,availableModels:Rn}){let _n={marginTop:"0.5em"};return jsxRuntimeExports.jsxs("div",{className:"App",style:{textAlign:"left"},id:cr,children:[jsxRuntimeExports.jsx(Menu,{isOnlineRef:et,isOnline:_e,allowRestart:tt,onCancel:nt,onTranscript:rt,onPartialTranscript:it,bodyStyle:ot,exchangeRate:st,setExchangeRate:ut,updateExchangeRate:ft,modelSelector:dt,creditBalance:lt,updateCreditBalance:at,teamLlm:ct,chatHistoryRoles:ht,setChatHistoryRoles:pt,chatHistoryTeams:mt,setChatHistoryTeams:gt,user:yt,token:bt,login:xt,logout:vt,refresh:wt,doSave:_t,aiUsage:Ct,submitForm:Et,stopAllPlaying:$t,stopLanguageModels:jt,aiLlm:Dt,usingOpenAiTts:Pt,usingSelfHostedTts:kt,usingWebSpeechTts:At,usingMeSpeakTts:Tt,usingTts:St,usingStt:Rt,usingOpenAiStt:Ot,usingSelfHostedStt:Nt,usingLocalStt:It,queueSpeech:Bt,getUrl:zt,playDataUri:Gt,stopPlaying:Kt,isPlaying:fn,setIsPlaying:dn,isMuted:Wt,isMutedRef:rn,mute:Vt,unmute:an,deleteRole:Qt,exportRoles:Zt,importRoles:xn,init:vn,roles:gn,setRoles:Cn,currentRole:kn,setCurrentRole:En,newRole:sn,utteranceQueue:On,setUtteranceQueue:Tn,mergeData:bn,setMergeData:Dn,lastLlmTrigger:Nn,autoStartMicrophone:wn,setAutoStartMicrophone:qn,autoStopMicrophone:or,setAutoStopMicrophone:tr,refreshHash:cr,setRefreshHash:rr,forceRefresh:Vn,hasRequiredConfig:Jt,isSpeaking:pn,setIsSpeaking:$n,isWaiting:jn,startWaiting:Fn,stopWaiting:Ln,userMessage:Xn,userMessageRef:ar,setUserMessage:Qn,isReady:Yt,setIsReady:hn,config:mn,setConfig:yn,llmEnabled:qt,setLlmEnabled:Sn,icons:Bn,configRef:Zn,utils:Hn,newChat:sr,addUserMessage:nr,addAssistantMessage:dr,setLastAssistantMessage:zn,setLastUserMessage:mr,getLastUserMessage:$r,chatHistoryId:lr,chatHistoryIdRef:wr,setChatHistoryId:gr,chatHistories:Kn,setChatHistories:jr,currentChatHistory:Pr,revertChatHistory:Lr,deleteChatHistory:Un,playSpeech:en,duplicateChatHistory:Mn,configIn:Wn,chatHistoriesRef:pr,getLastAssistantChatIndex:Sr,getLastAssistantMessage:kr,categories:_r,setCategories:vr,teams:ur,setTeams:Er,currentTeam:Cr,setCurrentTeam:Dr,currentTeamRef:zr,deleteTeam:Hr,configManager:Or,runtimes:Vr,duplicateRole:Nr,accordionSelectedKey:Lt,setAccordionSelectedKey:Xt,categoryFilter:Ht,setCategoryFilter:on,fileManager:ln,files:tn,exportDocument:An,availableModels:Rn}),jsxRuntimeExports.jsxs("div",{id:"body",style:ot,children:[jsxRuntimeExports.jsx("h3",{children:"Road Map"}),jsxRuntimeExports.jsxs("div",{style:_n,children:["TalkToATeam is fresh out of the door. I'm sure there are some bugs in there. And usability issues and .... If you find anything awry, we'd love to know. ",jsxRuntimeExports.jsx("a",{target:"_new",href:"https://github.com/syntithenai/talktoateam/issues",children:jsxRuntimeExports.jsx(Button,{children:"Contact Support"})})]}),jsxRuntimeExports.jsx("div",{style:_n,children:"We've got a bunch of ideas about how to supercharge your use of language models. Some of what's coming ..."}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsxs("ul",{children:[jsxRuntimeExports.jsx("li",{children:"More providers"}),jsxRuntimeExports.jsx("li",{children:"More data sources "}),jsxRuntimeExports.jsx("li",{children:"Gmail integration - pull email search results into your Personas"}),jsxRuntimeExports.jsx("li",{children:"Images - inject images into chat for vision supporting modesl, preserve images from search and generate images using AI"}),jsxRuntimeExports.jsx("li",{children:"Links in content"}),jsxRuntimeExports.jsx("li",{children:"Token limits and warnings"}),jsxRuntimeExports.jsx("li",{children:"Knowledge Tree"}),jsxRuntimeExports.jsx("li",{children:"Scheduled Plans"}),jsxRuntimeExports.jsx("li",{children:"Evaluations - maintain and run a suite of acceptance tests to ensure your Teams don't get derailed."})]}),jsxRuntimeExports.jsx("br",{})]}),jsxRuntimeExports.jsx(Footer,{icons:Bn})]})}function FileEditorDialog({name:_e,id:et,onChangeName:tt,onChangeData:nt,fileManager:rt}){const[it,ot]=reactExports.useState(!1),st=useIcons();reactExports.useRef();const[ut,ft]=reactExports.useState(""),dt=()=>{ot(!1)},lt=()=>{rt.load(et).then(function(at){ft(at.data),ot(!0)})};return it?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs(Modal$2,{dialogClassName:"fullwidthmodal",show:it,onHide:dt,children:[jsxRuntimeExports.jsx(Modal$2.Header,{closeButton:!0,children:jsxRuntimeExports.jsx(Modal$2.Title,{style:{marginRight:"2em"},children:"Edit File"})}),jsxRuntimeExports.jsxs(Modal$2.Body,{style:{minHeight:"50em"},children:[jsxRuntimeExports.jsx("div",{style:{clear:"both"}}),jsxRuntimeExports.jsx(index$4,{minRows:"1",style:{width:"100%"},onChange:at=>{tt(at.target.value)},value:_e||""}),jsxRuntimeExports.jsx(index$4,{minRows:"12",style:{width:"100%"},onChange:at=>{ft(at.target.value),nt(at.target.value)},value:ut})]})]})}):jsxRuntimeExports.jsx(Button,{variant:"primary",style:{zIndex:0,float:"left",borderRight:"1px solid black",marginRight:"1px"},onClick:lt,children:st.pencil})}var dist={},typeDefs={};Object.defineProperty(typeDefs,"__esModule",{value:!0});typeDefs.defaultConfiguration=void 0;typeDefs.defaultConfiguration={clientId:"",developerKey:"",viewId:"DOCS",callbackFunction:function(){return null}};var useInjectScript$1={};Object.defineProperty(useInjectScript$1,"__esModule",{value:!0});var react_1$1=reactExports,injectorState={queue:{},injectorMap:{},scriptMap:{}};function useInjectScript(_e){var et=(0,react_1$1.useState)({loaded:!1,error:!1}),tt=et[0],nt=et[1];return(0,react_1$1.useEffect)(function(){var rt,it,ot,st,ut;if(!((rt=injectorState.injectorMap)===null||rt===void 0)&&rt[_e]||(injectorState.injectorMap[_e]="init"),injectorState.injectorMap[_e]==="loaded"){nt({loaded:!0,error:!1});return}if(injectorState.injectorMap[_e]==="error"){nt({loaded:!0,error:!0});return}var ft=function(lt){var at,ct,ht,pt;lt&&console.log("error loading the script"),(ct=(at=injectorState.queue)===null||at===void 0?void 0:at[_e])===null||ct===void 0||ct.forEach(function(mt){return mt(lt)}),lt&&injectorState.scriptMap[_e]?((pt=(ht=injectorState.scriptMap)===null||ht===void 0?void 0:ht[_e])===null||pt===void 0||pt.remove(),injectorState.injectorMap[_e]="error"):injectorState.injectorMap[_e]="loaded",delete injectorState.scriptMap[_e]},dt=function(lt){nt({loaded:!0,error:lt})};return!((it=injectorState.scriptMap)===null||it===void 0)&&it[_e]||(injectorState.scriptMap[_e]=document.createElement("script"),injectorState.scriptMap[_e]&&(injectorState.scriptMap[_e].src=_e,injectorState.scriptMap[_e].async=!0,document.body.append(injectorState.scriptMap[_e]),injectorState.scriptMap[_e].addEventListener("load",function(){return ft(!1)}),injectorState.scriptMap[_e].addEventListener("error",function(){return ft(!0)}),injectorState.injectorMap[_e]="loading")),!((ot=injectorState.queue)===null||ot===void 0)&&ot[_e]?(ut=(st=injectorState.queue)===null||st===void 0?void 0:st[_e])===null||ut===void 0||ut.push(dt):injectorState.queue[_e]=[dt],function(){var lt,at;injectorState.scriptMap[_e]&&((lt=injectorState.scriptMap[_e])===null||lt===void 0||lt.removeEventListener("load",function(){return ft(!0)}),(at=injectorState.scriptMap[_e])===null||at===void 0||at.removeEventListener("error",function(){return ft(!0)}))}},[_e]),[tt.loaded,tt.error]}useInjectScript$1.default=useInjectScript;var __assign=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign=Object.assign||function(_e){for(var et,tt=1,nt=arguments.length;tt<nt;tt++){et=arguments[tt];for(var rt in et)Object.prototype.hasOwnProperty.call(et,rt)&&(_e[rt]=et[rt])}return _e},__assign.apply(this,arguments)},__spreadArray=commonjsGlobal&&commonjsGlobal.__spreadArray||function(_e,et,tt){if(tt||arguments.length===2)for(var nt=0,rt=et.length,it;nt<rt;nt++)(it||!(nt in et))&&(it||(it=Array.prototype.slice.call(et,0,nt)),it[nt]=et[nt]);return _e.concat(it||Array.prototype.slice.call(et))},__importDefault=commonjsGlobal&&commonjsGlobal.__importDefault||function(_e){return _e&&_e.__esModule?_e:{default:_e}};Object.defineProperty(dist,"__esModule",{value:!0});var react_1=reactExports,typeDefs_1=typeDefs,useInjectScript_1=__importDefault(useInjectScript$1);function useDrivePicker(){var _e=["https://www.googleapis.com/auth/drive.readonly"],et=(0,useInjectScript_1.default)("https://apis.google.com/js/api.js"),tt=et[0],nt=et[1],rt=(0,useInjectScript_1.default)("https://accounts.google.com/gsi/client"),it=rt[0],ot=rt[1],st=(0,react_1.useState)(!1),ut=st[0],ft=st[1],dt=(0,react_1.useState)(!1),lt=dt[0],at=dt[1],ct=(0,react_1.useState)(!1);ct[0],ct[1];var ht=(0,react_1.useState)(typeDefs_1.defaultConfiguration),pt=ht[0],mt=ht[1],gt=(0,react_1.useState)(),yt=gt[0],bt=gt[1],xt;(0,react_1.useEffect)(function(){tt&&!nt&&it&&!ot&&!ut&&wt()},[tt,nt,it,ot,ut]),(0,react_1.useEffect)(function(){lt&&pt.token&&tt&&!nt&&it&&!ot&&ut&&(Ct(pt),at(!1))},[lt,pt.token,tt,nt,it,ot,ut]);var vt=function(Et){if(mt(Et),!Et.token){var $t=google.accounts.oauth2.initTokenClient({client_id:Et.clientId,scope:(Et.customScopes?__spreadArray(__spreadArray([],_e,!0),Et.customScopes,!0):_e).join(" "),callback:function(jt){bt(jt),Ct(__assign(__assign({},Et),{token:jt.access_token}))}});$t.requestAccessToken()}if(Et.token&&tt&&!nt&&ut)return Ct(Et)},wt=function(){window.gapi.load("auth"),window.gapi.load("picker",{callback:_t})},_t=function(){ft(!0)},Ct=function(Et){var $t=Et.token,jt=Et.appId,Dt=jt===void 0?"":jt,Pt=Et.supportDrives,kt=Pt===void 0?!1:Pt,At=Et.developerKey,Tt=Et.viewId,St=Tt===void 0?"DOCS":Tt,Rt=Et.disabled,Ot=Et.multiselect,Nt=Et.setOrigin,It=Et.showUploadView,Bt=It===void 0?!1:It,zt=Et.showUploadFolders,Gt=Et.setParentFolder,Kt=Gt===void 0?"":Gt,fn=Et.viewMimeTypes,dn=Et.customViews,Wt=Et.locale,rn=Wt===void 0?"en":Wt,Vt=Et.setIncludeFolders,an=Et.setSelectFolderEnabled,Qt=Et.disableDefaultView,Zt=Qt===void 0?!1:Qt,xn=Et.callbackFunction;if(Rt)return!1;var vn=new google.picker.DocsView(google.picker.ViewId[St]);fn&&vn.setMimeTypes(fn),Vt&&vn.setIncludeFolders(!0),an&&vn.setSelectFolderEnabled(!0);var gn=new google.picker.DocsUploadView;return fn&&gn.setMimeTypes(fn),zt&&gn.setIncludeFolders(!0),Kt&&gn.setParent(Kt),Kt&&vn.setParent(Kt),xt=new google.picker.PickerBuilder().setAppId(Dt).setOAuthToken($t).setDeveloperKey(At).setLocale(rn).setCallback(xn),Nt&&xt.setOrigin(Nt),Zt||xt.addView(vn),dn&&dn.map(function(Cn){return xt.addView(Cn)}),Ot&&xt.enableFeature(google.picker.Feature.MULTISELECT_ENABLED),Bt&&xt.addView(gn),kt&&xt.enableFeature(google.picker.Feature.SUPPORT_DRIVES),xt.build().setVisible(!0),!0};return[vt,yt]}var _default=dist.default=useDrivePicker;function GoogleDriverPickerButton({exportDocument:_e,getDocument:et,onSelect:tt,icons:nt}){const[rt,it]=_default(),ot=useUtils(),st=()=>{rt({clientId:"730767136065-vi1urlhhqo0pj0gcb0gtn1i3kj7mc4dl.apps.googleusercontent.com",developerKey:"AIzaSyBL-F78yq6O8b_PoYM8V6-e3cr33EjKktY",viewId:"DOCS",showUploadView:!0,showUploadFolders:!0,supportDrives:!0,multiselect:!0,callbackFunction:ut=>{ut.action==="cancel"&&console.log("User clicked cancel/close button"),console.log(ut);let ft=[];ut&&ut.action==="picked"&&Array.isArray(ut.docs)&&ut.docs.forEach(function(dt){dt.type==="document"?dt.mimeType==="application/vnd.google-apps.spreadsheet"?ft.push(_e(dt.id,"text/csv")):ft.push(_e(dt.id)):dt.type.startsWith("text/")?ft.push(et(dt.id)):alert("Invalid document type "+dt.mimeType)}),Promise.all(ft).then(function(dt){let lt=[];for(let at=0;at<dt.length;at++)lt.push({id:ot.generateRandomId(),googleId:ut&&ut.docs&&ut.docs[at]&&ut.docs[at].id?ut.docs[at].id:"",name:ut&&ut.docs&&ut.docs[at]&&ut.docs[at].name?ut.docs[at].name:"",data:dt[at]});tt(lt)})}})};return jsxRuntimeExports.jsx(Button,{variant:"outline-success",size:"sm",onClick:function(){st()},children:nt.googledrive})}function FileSelectorModal(_e){const{files:et,defaultOptions:tt,onChange:nt,value:rt,icons:it}=_e,[ot,st]=reactExports.useState(!1),ut=()=>{st(!1)},ft=()=>st(!0);function dt(lt){nt(lt),ut()}return ot?jsxRuntimeExports.jsx("span",{style:{float:"right"},children:jsxRuntimeExports.jsxs(Modal$2,{className:"fullwidthmodal",show:ot,onHide:ut,children:[jsxRuntimeExports.jsx(Modal$2.Header,{closeButton:!0,children:jsxRuntimeExports.jsx(Modal$2.Title,{children:"Select File"})}),jsxRuntimeExports.jsx(Modal$2.Body,{style:{minHeight:"800px"},children:Array.isArray(et)&&jsxRuntimeExports.jsx(ListGroup$1,{children:et.map(function(lt){return jsxRuntimeExports.jsx(ListGroupItem,{onClick:function(){let at=rt;at.push(lt.id),dt(at)},children:lt.name})})})}),jsxRuntimeExports.jsx(Modal$2.Footer,{style:{minHeight:"800px",verticalAlign:"top"}})]})}):jsxRuntimeExports.jsx(Button,{style:{maxWidth:"30em",float:"left",color:"green"},size:"sm",variant:"outline-success",onClick:ft,children:it.cursor})}function FileList(_e){const{config:et,files:tt,fileManager:nt,categoryFilter:rt,setCategoryFilter:it,mini:ot,categories:st,value:ut,onChange:ft,handleClose:dt,forceRefresh:lt,exportDocument:at,getDocument:ct,utils:ht}=_e,pt=useIcons(),[mt,gt]=reactExports.useState(""),[yt,bt]=reactExports.useState([]),[xt,vt]=reactExports.useState(!1);function wt(It){bt(It)}const _t=reactExports.useRef();reactExports.useRef();const[Ct,Et]=reactExports.useState("");function $t(){clearTimeout(_t.current),_t.current=setTimeout(function(){jt()},500)}reactExports.useEffect(function(){$t()},[mt,ut,tt]);function jt(){if(tt&&mt&&mt.trim().length>2)nt.searchVectorFiles(mt,tt).then(function(It){wt(Object.values(It).filter(Dt))});else{let It=tt.filter(Dt);wt(It)}}function Dt(It){if(!It||It.deleted)return!1;let Bt=!0;if(Array.isArray(rt)&&rt.length>0)return rt.forEach(function(Gt){Array.isArray(It.category)&&It.category.indexOf(Gt)!==-1||(Bt=!1)}),Bt;let zt=!0;return Array.isArray(ut)&&ut.indexOf(It.id)===-1&&(zt=!1),zt&&Bt}function Pt(It){nt.load(It.id).then(function(Bt){Et(Bt)})}function kt(It){return nt.addFiles(It)}function At(It){return nt.save(It)}function Tt(){return nt.pasteFiles(ft,ut)}function St(It){if(Array.isArray(ut)){let Bt=ut.filter(function(zt){return zt!==It.id});ft(Bt)}else nt.deleteFile(It)}function Rt(It){return nt.filesSelected(It,ft,ut)}function Ot(){Et(""),dt&&dt()}function Nt(It,Bt,zt){vt(!0),It&&Bt&&(It[Bt]=zt),Et(It),et&&et.embeddings&&et.embeddings.max_length>0?It.fragments=nt.generateFragments(It,et.embeddings.max_length):It.fragments=nt.generateFragments(It),Et(It),vt(!1),At(It),lt()}return Ct?jsxRuntimeExports.jsxs(Modal$2,{dialogClassName:"fullwidthmodal",show:!0,onHide:Ot,children:[jsxRuntimeExports.jsx(Modal$2.Header,{closeButton:!0,children:jsxRuntimeExports.jsxs(Modal$2.Title,{style:{marginRight:"2em"},children:["Preview - ",Ct.name]})}),jsxRuntimeExports.jsxs(Modal$2.Body,{style:{minHeight:"50em"},children:[jsxRuntimeExports.jsxs("div",{className:"border p-3 mb-3",children:[xt&&jsxRuntimeExports.jsx("img",{style:{float:"right",marginRight:"2em",height:"2.4em",width:"2.4em"},src:"/spinner.svg",onClick:function(){vt(!1)}}),jsxRuntimeExports.jsx("h5",{children:"Chunking"}),jsxRuntimeExports.jsxs(Row,{className:"mb-3",children:[jsxRuntimeExports.jsxs(Form$1.Group,{as:Col,controlId:"openaiKeyee",children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Embed Whole File"}),jsxRuntimeExports.jsx(FormCheck$1,{style:{display:"inline",marginLeft:"0.5em"},type:"checkbox",checked:!!(Ct&&Ct.embed_whole_file==="yes"),onChange:It=>{console.log(It),Nt(Ct,"embed_whole_file",It.target.checked?"yes":"")}})]}),jsxRuntimeExports.jsxs(Form$1.Group,{as:Col,controlId:"openaiKey",children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Chunking Strategy"}),jsxRuntimeExports.jsxs(Form$1.Select,{value:Ct&&Ct.chunking_strategy?Ct.chunking_strategy:"paragraphs",onChange:It=>{Nt(Ct,"chunking_strategy",It.target.value)},children:[jsxRuntimeExports.jsx("option",{value:""}),jsxRuntimeExports.jsx("option",{value:"paragraphs",children:"Paragraphs"}),jsxRuntimeExports.jsx("option",{value:"sentences",children:"Sentences"}),jsxRuntimeExports.jsx("option",{value:"lines",children:"Lines"}),jsxRuntimeExports.jsx("option",{value:"html",children:"HTML"}),jsxRuntimeExports.jsx("option",{value:"xml",children:"XML"}),jsxRuntimeExports.jsx("option",{value:"json",children:"JSON"}),jsxRuntimeExports.jsx("option",{value:"markdown",children:"Markdown"}),jsxRuntimeExports.jsx("option",{value:"abc",children:"ABC"}),jsxRuntimeExports.jsx("option",{value:"wikimedia",children:"WikiMedia"})]})]}),jsxRuntimeExports.jsxs(Form$1.Group,{as:Col,controlId:"openaiKey",children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Max Chunk Size"}),jsxRuntimeExports.jsx(Form$1.Control,{type:"text",value:Ct&&Ct.max_chunk_size?Ct.max_chunk_size:nt.maxFragmentSizeFromEmbedder(),onChange:It=>{Nt(Ct,"max_chunk_size",It.target.value)}})]}),Ct&&Ct.chunking_strategy==="sentences"&&jsxRuntimeExports.jsxs(Form$1.Group,{as:Col,controlId:"openaiKey",children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Sentence Overlap"}),jsxRuntimeExports.jsx(Form$1.Control,{type:"text",value:Ct&&Ct.sentence_overlap?Ct.sentence_overlap:"",onChange:It=>{Nt(Ct,"sentence_overlap",It.target.value)}})]}),Ct&&(Ct.chunking_strategy==="html"||Ct.chunking_strategy==="xml"||Ct.chunking_strategy==="markdown")&&jsxRuntimeExports.jsxs(Form$1.Group,{as:Col,controlId:"openaiKey",children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"CSS Selector"}),jsxRuntimeExports.jsx(Form$1.Control,{type:"text",value:Ct&&Ct.css_selector?Ct.css_selector:"",onChange:It=>{Nt(Ct,"css_selector",It.target.value)}})]}),Ct&&Ct.chunking_strategy==="json"&&jsxRuntimeExports.jsxs(Form$1.Group,{as:Col,controlId:"openaiKey",children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"JSONPath Selector"}),jsxRuntimeExports.jsx(Form$1.Control,{type:"text",value:Ct&&Ct.json_selector?Ct.json_selector:"",onChange:It=>{Nt(Ct,"json_selector",It.target.value)}})]})]})]}),jsxRuntimeExports.jsx("h3",{children:"Fragments"}),Array.isArray(Ct.fragments)&&jsxRuntimeExports.jsx("div",{children:Ct.fragments.map(function(It){return jsxRuntimeExports.jsx("div",{style:{borderBottom:"1px solid black"},children:It})})}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("h3",{children:"Raw Data"}),jsxRuntimeExports.jsx("pre",{children:Ct.data})]})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[!nt.isBusy&&jsxRuntimeExports.jsxs("span",{style:{marginLeft:"0.3em",border:"1px solid green",float:"right",width:"21em",height:"3em",padding:"0.5em",borderRadius:"5px",marginBottom:"0.5em"},children:[jsxRuntimeExports.jsx("b",{style:{marginRight:"1.5em"},children:"Add Files"}),!ot&&jsxRuntimeExports.jsxs(ButtonGroup,{children:[jsxRuntimeExports.jsx("span",{style:{marginRight:"1em",width:"4em",overflow:"hidden",float:"right"},children:jsxRuntimeExports.jsx("input",{multiple:!0,type:"file",className:"custom-file-input-button",accept:nt&&Array.isArray(nt.allowMimeTypes)?nt.allowMimeTypes.join(","):"*",onChange:Rt})}),Array.isArray(ut)&&jsxRuntimeExports.jsx(FileSelectorModal,{..._e}),jsxRuntimeExports.jsx(Button,{variant:"outline-success",size:"sm",onClick:Tt,children:pt.clipboard}),jsxRuntimeExports.jsx(GoogleDriverPickerButton,{getDocument:ct,exportDocument:at,icons:pt,onSelect:function(It){kt(It)}})]})]}),nt.isBusy&&jsxRuntimeExports.jsx("span",{style:{marginLeft:"1em",border:"1px solid green",float:"right",width:"18em",height:"3em",padding:"0.5em",borderRadius:"5px",marginBottom:"0.5em"},children:jsxRuntimeExports.jsx("b",{children:jsxRuntimeExports.jsx("img",{style:{height:"2em"},src:"/spinner.svg"})})}),jsxRuntimeExports.jsx(Form$1.Control,{style:{width:"40%",float:"left",marginLeft:"1em"},placeholder:"Search",type:"search",value:mt,onChange:function(It){gt(It.target.value)}}),jsxRuntimeExports.jsx("span",{style:{float:"left",marginLeft:"1em"},children:jsxRuntimeExports.jsx(CategoriesSelectorModal,{allowNew:!1,value:rt,onChange:function(It){it(It)},defaultOptions:st?Object.keys(st):[]})}),jsxRuntimeExports.jsx("div",{style:{clear:"both",marginBottom:"0.4em"}}),jsxRuntimeExports.jsx(ListGroup$1,{children:yt.map(function(It,Bt){return ot?jsxRuntimeExports.jsx("span",{children:jsxRuntimeExports.jsxs(ListGroup$1.Item,{children:[jsxRuntimeExports.jsxs(Button,{onClick:function(){ft(Bt)},variant:"outline-primary",style:{textAlign:"left"},children:[" ",It.name," "]}),jsxRuntimeExports.jsx("div",{style:{clear:"both",marginTop:"0.5em"},children:Array.isArray(It.category)&&It.category.map(function(zt,Gt){return jsxRuntimeExports.jsx(Badge,{variant:"secondary",size:"sm",onClick:function(Kt){return it([zt]),Kt.stopPropagation(),!1},bg:"secondary",style:{marginLeft:"0.2em"},children:zt},Gt)})})]},Bt)}):jsxRuntimeExports.jsx("div",{style:{borderTop:"1px solid black",marginTop:"0.5em"},children:jsxRuntimeExports.jsxs("div",{style:{padding:"0.1em",marginTop:"0.3em"},children:[jsxRuntimeExports.jsxs(ButtonGroup,{style:{float:"left"},children:[jsxRuntimeExports.jsx(FileEditorDialog,{fileManager:nt,name:It.name,id:It.id,onChangeName:function(zt){It.name=zt,At(It)},onChangeData:function(zt){It.data=zt,nt.save(It)}}),jsxRuntimeExports.jsx(CategoriesSelectorModal,{blockDeselectAll:!0,allowNew:!1,value:It.category,onChange:function(zt){It.category=zt,At(It)},defaultOptions:st?Object.keys(st):[]}),jsxRuntimeExports.jsxs(Button,{variant:"outline-primary",style:{textAlign:"left"},onClick:function(){Pt(It)},children:[It&&It.name," "]})]}),jsxRuntimeExports.jsx(ButtonGroup,{style:{float:"right",marginLeft:"0.3em"},children:jsxRuntimeExports.jsx(Button,{variant:"danger",onClick:function(){St(It)},children:pt.bin})}),jsxRuntimeExports.jsx("span",{style:{clear:"both"},children:It&&Array.isArray(It.category)&&It.category.map(function(zt,Gt){return jsxRuntimeExports.jsx(Badge,{variant:"secondary",size:"sm",onClick:function(Kt){return it([zt]),Kt.stopPropagation(),!1},bg:"secondary",style:{float:"right",marginLeft:"0.2em"},children:zt},Gt)})}),mt&&mt.trim().length>2&&Array.isArray(It.matches)&&jsxRuntimeExports.jsx("div",{style:{clear:"both"},children:It.matches.map(function(zt){return jsxRuntimeExports.jsxs("div",{children:[zt.fragment.slice(0,80),zt.fragment.length>80?"...":""]})})})]})},Bt)})})]})}function RolesPage(_e){const{isOnlineRef:et,allowRestart:tt,onCancel:nt,onTranscript:rt,onPartialTranscript:it,bodyStyle:ot,exchangeRate:st,setExchangeRate:ut,updateExchangeRate:ft,modelSelector:dt,creditBalance:lt,updateCreditBalance:at,teamLlm:ct,chatHistoryRoles:ht,setChatHistoryRoles:pt,chatHistoryTeams:mt,setChatHistoryTeams:gt,user:yt,token:bt,login:xt,logout:vt,refresh:wt,doSave:_t,aiUsage:Ct,submitForm:Et,stopAllPlaying:$t,stopLanguageModels:jt,aiLlm:Dt,usingOpenAiTts:Pt,usingSelfHostedTts:kt,usingWebSpeechTts:At,usingMeSpeakTts:Tt,usingTts:St,usingStt:Rt,usingOpenAiStt:Ot,usingSelfHostedStt:Nt,usingLocalStt:It,queueSpeech:Bt,getUrl:zt,playDataUri:Gt,stopPlaying:Kt,isPlaying:fn,setIsPlaying:dn,isMuted:Wt,isMutedRef:rn,mute:Vt,unmute:an,deleteRole:Qt,exportRoles:Zt,importRoles:xn,init:vn,roles:gn,setRoles:Cn,currentRole:kn,setCurrentRole:En,newRole:sn,utteranceQueue:On,setUtteranceQueue:Tn,mergeData:bn,setMergeData:Dn,lastLlmTrigger:Nn,autoStartMicrophone:wn,setAutoStartMicrophone:qn,autoStopMicrophone:or,setAutoStopMicrophone:tr,refreshHash:cr,setRefreshHash:rr,forceRefresh:Vn,hasRequiredConfig:Jt,isSpeaking:pn,setIsSpeaking:$n,isWaiting:jn,startWaiting:Fn,stopWaiting:Ln,userMessage:Xn,userMessageRef:ar,setUserMessage:Qn,isReady:Yt,setIsReady:hn,config:mn,setConfig:yn,llmEnabled:qt,setLlmEnabled:Sn,icons:Bn,configRef:Zn,utils:Hn,newChat:sr,addUserMessage:nr,addAssistantMessage:dr,setLastAssistantMessage:zn,setLastUserMessage:mr,getLastUserMessage:$r,chatHistoryId:lr,chatHistoryIdRef:wr,setChatHistoryId:gr,chatHistories:Kn,setChatHistories:jr,currentChatHistory:Pr,revertChatHistory:Lr,deleteChatHistory:Un,playSpeech:en,duplicateChatHistory:Mn,configIn:Wn,chatHistoriesRef:pr,getLastAssistantChatIndex:Sr,getLastAssistantMessage:kr,categories:_r,setCategories:vr,teams:ur,setTeams:Er,currentTeam:Cr,setCurrentTeam:Dr,currentTeamRef:zr,deleteTeam:Hr,configManager:Or,runtimes:Vr,duplicateRole:Nr,accordionSelectedKey:Lt,setAccordionSelectedKey:Xt,categoryFilter:Ht,setCategoryFilter:on,fileManager:ln,files:tn,exportDocument:An,availableModels:Rn}=_e,_n=reactExports.useRef();function Mt(Ut){xn(Ut),_n.current.value=""}let Ft=Hn.getTeamMemberIndex(ur[Cr]);return Hn.summariseConfig(mn),jsxRuntimeExports.jsx("div",{className:"App",id:cr,children:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Menu,{isOnlineRef:et,bodyStyle:ot,creditBalance:lt,refreshHash:cr,token:bt,logout:vt,user:yt,login:xt,utils:Hn,usingStt:Rt,usingTts:St,isSpeaking:pn,isMuted:Wt,mute:Vt,stopAllPlaying:$t,icons:Bn,unmute:an,stopPlaying:Kt,lastLlmTrigger:Nn,config:mn,aiUsage:Ct,forceRefresh:Vn,autoStartMicrophone:wn,setAutoStartMicrophone:qn,isPlaying:fn,allowRestart:tt,isWaiting:jn,startWaiting:Fn,stopWaiting:Ln,onCancel:nt,isReady:Yt,setIsReady:hn,onTranscript:rt,onPartialTranscript:it,setUserMessage:Qn}),jsxRuntimeExports.jsxs("div",{id:"body",style:ot,children:[jsxRuntimeExports.jsxs("span",{style:{float:"right"},children:[jsxRuntimeExports.jsxs(Button,{style:{float:"right",marginLeft:"1em"},variant:"primary",onClick:Zt,children:[Bn.export,jsxRuntimeExports.jsx("span",{className:"d-none d-md-inline",children:" Export"})]}),jsxRuntimeExports.jsxs("span",{style:{float:"right"},children:[jsxRuntimeExports.jsx(Form$1.Control,{type:"file",style:{display:"none"},ref:_n,onChange:Mt}),jsxRuntimeExports.jsxs(Button,{variant:"success",as:"label",htmlFor:"formFile",onClick:function(){_n.current.click()},children:[Bn.import,jsxRuntimeExports.jsx("span",{className:"d-none d-md-inline",children:" Import"})]})]})]}),jsxRuntimeExports.jsxs(Tabs,{defaultActiveKey:"starred",id:"uncontrolled-tab-example",className:"mb-3",children:[jsxRuntimeExports.jsx(Tab$1,{eventKey:"starred",title:"Starred",children:jsxRuntimeExports.jsx(StarredRoleAndTeamList,{..._e,forceRefresh:Vn})}),jsxRuntimeExports.jsx(Tab$1,{eventKey:"roles",title:"Personas",children:jsxRuntimeExports.jsx(RoleList,{..._e,teamIndex:Ft,forceRefresh:Vn})}),jsxRuntimeExports.jsx(Tab$1,{eventKey:"teams",title:"Teams",children:jsxRuntimeExports.jsx(TeamList,{..._e})})]})]}),jsxRuntimeExports.jsx(Footer,{icons:Bn})]})})}function CategoriesSelector({defaultOptions:_e,onChange:et,value:tt}){const nt=useIcons();reactExports.useState(!1),reactExports.useState(!1);const[rt,it]=reactExports.useState(""),[ot,st]=reactExports.useState(_e);reactExports.useEffect(function(){st(_e)},[_e]);function ut(gt){if(Array.isArray(gt)){var yt={};return gt.map(function(bt){return yt[bt]=!0,null}),Object.keys(yt)}else return[]}var ft=null;function dt(gt){it(gt.target.value.toLowerCase()),gt.target.value?(ft&&clearTimeout(ft),ft=setTimeout(function(){let yt=Array.isArray(ot)?ot:[];st(yt.filter(function(bt){return bt.indexOf(gt.target.value)!==-1}))},500)):st(_e)}function lt(gt){if(gt&&gt.trim()){var yt=Array.isArray(tt)?tt:[];yt.push(gt);var bt=ut(yt);it(""),st(ot),et(bt)}}function at(gt){var yt=Array.isArray(tt)?tt:[];yt.push(gt);var bt=ut(yt);it(""),st(bt),et(bt)}function ct(gt){var yt=tt.filter(function(bt){return bt!==gt});et(yt)}const[ht,pt]=reactExports.useState(!1);var mt=Array.isArray(ot)?ot:[];return mt.sort(function(gt,yt){return gt>yt?1:-1}),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("input",{type:"search",value:rt,onChange:dt,onFocus:function(){pt(!0)},onBlur:function(){setTimeout(function(){pt(!1)},500)}}),ot.length===0&&jsxRuntimeExports.jsx(Button,{style:{marginLeft:"0.3em"},onClick:function(){lt(rt)},children:nt.add},"newcategory"),jsxRuntimeExports.jsx("div",{style:{clear:"both",marginTop:"1em"}}),jsxRuntimeExports.jsx("div",{children:Array.isArray(tt)&&tt.map(function(gt){return jsxRuntimeExports.jsxs(Button,{style:{marginRight:"0.2em"},variant:"secondary",onClick:function(yt){ct(gt)},children:[nt.bin,"",gt]},gt)})})]}),ht&&jsxRuntimeExports.jsx("div",{style:{position:"relative",top:"-40px",zIndex:10},children:jsxRuntimeExports.jsx(ListGroup$1,{style:{zIndex:"20",clear:"both",width:"100%"},children:mt.map(function(gt,yt){return jsxRuntimeExports.jsx(ListGroup$1.Item,{className:yt%2===0?"even":"odd",onClick:function(bt){at(gt)},children:gt},yt)})})})]})}function RoleForm(_e){const{roleId:et,roles:tt,rolesJSON:nt,setRoles:rt,icons:it,forceRefresh:ot,utils:st,playSpeech:ut,config:ft,categories:dt,setCategories:lt,files:at}=_e,[ct,ht]=reactExports.useState({});let[pt,mt]=reactExports.useState(""),[gt,yt]=reactExports.useState([]);function bt(Vt){yt(Vt),wt("samples",Vt)}let[xt,vt]=reactExports.useState("");reactExports.useState("");function wt(Vt,an){tt&&et&&Vt&&(tt.hasOwnProperty(et)||(tt[et]={}),tt[et][Vt]=an,rt(tt),mt(st.generateRandomId()))}function _t(Vt,an){let Qt=tt;Qt||(Qt={}),et&&Vt&&(Qt[et]||(Qt[et]={}),Qt[et].config=Qt[et].config?Qt[et].config:{},Qt[et].config[Vt]=an,rt(Qt),mt(st.generateRandomId()))}reactExports.useEffect(function(){mt(st.generateRandomId()),ot(),ht(tt&&et?tt[et]:null),bt(tt&&et&&tt[et]&&Array.isArray(tt[et].samples)?tt[et].samples:[])},[JSON.stringify(tt&&et?tt[et]:{})]);const Ct=(Vt,an)=>{_t(Vt,an.target.value)},Et=Vt=>{wt("name",Vt.target.value)},$t=Vt=>{wt("category",Vt);let an=Array.isArray(Vt)?Vt:[],Qt=dt;Qt||(Qt={}),an.forEach(function(Zt){Qt[Zt]=1}),lt(Qt)},jt=Vt=>{wt("message",Vt.target.value)},Dt=Vt=>{wt("backStory",Vt.target.value)},Pt=Vt=>{wt("skills",Vt.target.value)},kt=Vt=>{_t("maxTokens",Vt.target.value)},At=Vt=>{_t("outputType",Vt.target.value)},Tt=Vt=>{_t("outputExamples",Vt.target.value)},St=Vt=>{_t("temperatureOpenAI",Vt.target.value)},Rt=Vt=>{_t("topPOpenAI",Vt.target.value)},Ot=Vt=>{_t("presencePenalty",Vt.target.value)},Nt=Vt=>{_t("frequencyPenalty",Vt.target.value)},It=Vt=>{_t("preferredModel",Vt.target.value)},Bt=Vt=>{_t("ttsSpeed",Vt.target.value)},zt=Vt=>{_t("ttsOaiVoice",Vt.target.value)},Gt=Vt=>{_t("schema",Vt.target.value)},Kt=Vt=>{_t("ttsSelfHostedVoice",Vt.target.value)};let[fn,dn]=reactExports.useState(ct&&ct.config&&ct.config.stopTokens?ct.config.stopTokens:[]),[Wt,rn]=reactExports.useState("");return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(Form$1,{id:pt,onSubmit:function(Vt){return Vt.preventDefault(),!1},children:jsxRuntimeExports.jsx("div",{className:"border p-3 mb-3",children:jsxRuntimeExports.jsxs(Tabs,{defaultActiveKey:"Basics",id:"uncontrolled-tab-example",className:"mb-3",children:[jsxRuntimeExports.jsxs(Tab$1,{eventKey:"Basics",title:"Info",children:[jsxRuntimeExports.jsxs(Row,{className:"mb-3",children:[jsxRuntimeExports.jsx(Form$1.Group,{as:Col,controlId:"openaiKey",children:jsxRuntimeExports.jsxs(Row,{className:"mb-3",children:[jsxRuntimeExports.jsxs(Col,{children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Name"}),jsxRuntimeExports.jsx(Form$1.Control,{type:"text",onChange:Vt=>Et(Vt),value:ct&&ct.name?ct.name:""})]}),jsxRuntimeExports.jsxs(Col,{children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Type"})," ",jsxRuntimeExports.jsxs(Form$1.Select,{style:{width:"10em",display:"inline",marginRight:"2em"},value:ct&&ct.config&&ct.config.type?ct.config.type:"inference",onChange:function(Vt){_t("type",Vt.target.value)},children:[jsxRuntimeExports.jsx("option",{value:"inference",children:"Inference"}),jsxRuntimeExports.jsx("option",{value:"algorithmic",children:"Algorithmic"})]})]}),jsxRuntimeExports.jsxs(Col,{children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Categories"}),jsxRuntimeExports.jsx(CategoriesSelector,{value:ct&&typeof ct.category=="string"?[ct.category]:ct&&Array.isArray(ct.category)?ct.category:[],onChange:Vt=>$t(Vt),defaultOptions:dt?Object.keys(dt):[]})]})]})}),jsxRuntimeExports.jsxs(Form$1.Group,{controlId:"openaiKey",children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Welcome Message"}),jsxRuntimeExports.jsx(index$4,{minRows:"1",style:{width:"100%"},onChange:Vt=>Ct("welcomeMessage",Vt),value:ct&&ct.config&&ct.config.welcomeMessage?ct.config.welcomeMessage:""})]}),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[(!ct||!ct.config||ct.config.type!=="algorithmic")&&jsxRuntimeExports.jsxs(Form$1.Group,{controlId:"openaiKey",children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Instructions"}),jsxRuntimeExports.jsx(index$4,{minRows:"6",style:{width:"100%"},onChange:Vt=>jt(Vt),value:ct&&ct.message?ct.message:""})]}),jsxRuntimeExports.jsxs(Form$1.Group,{controlId:"backstory",children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Skills"}),jsxRuntimeExports.jsx(index$4,{minRows:ct&&ct.config&&ct.config.type==="algorithmic"?"1":"6",style:{width:"100%"},onChange:Vt=>Pt(Vt),value:ct&&ct.skills?ct.skills:""})]}),(!ct||!ct.config||ct.config.type!=="algorithmic")&&jsxRuntimeExports.jsxs(Form$1.Group,{controlId:"backstory",children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Back Story"}),jsxRuntimeExports.jsx(index$4,{minRows:"2",style:{width:"100%"},onChange:Vt=>Dt(Vt),value:ct&&ct.backStory?ct.backStory:""})]})]})]}),jsxRuntimeExports.jsx(Row,{children:jsxRuntimeExports.jsxs(Col,{children:[ct&&ct.config&&ct.config.type==="algorithmic"&&jsxRuntimeExports.jsxs(Form$1.Group,{style:{float:"right"},controlId:"backstory",children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Function Type"}),jsxRuntimeExports.jsxs(Form$1.Select,{style:{width:"20em",display:"inline",marginRight:"2em",marginLeft:"2em"},value:ct&&ct.config&&ct.config.processingFunctionType?ct.config.processingFunctionType:"evaljavascript",onChange:function(Vt){_t("processingFunctionType",Vt.target.value)},children:[jsxRuntimeExports.jsx("option",{value:"evaljavascript",children:"Local Javascript (eval)"}),jsxRuntimeExports.jsx("option",{value:"javascript",children:"Javascript"}),jsxRuntimeExports.jsx("option",{value:"python",children:"Python"})]})]}),ct&&ct.config&&ct.config.type==="algorithmic"&&jsxRuntimeExports.jsxs(Form$1.Group,{controlId:"backstory",children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Processing Function"}),jsxRuntimeExports.jsx("div",{style:{fontSize:"1.2em",fontWeight:"bold"},children:"function(message, messages, files) {"}),jsxRuntimeExports.jsx(index$4,{minRows:"12",style:{width:"100%"},onChange:Vt=>_t("processingFunction",Vt.target.value),value:ct&&ct.config&&ct.config.processingFunction?ct.config.processingFunction:"return "}),jsxRuntimeExports.jsx("div",{style:{fontSize:"1.2em",fontWeight:"bold"},children:"}"})]})]})})]}),(!ct||!ct.config||ct.config.type!=="algorithmic")&&jsxRuntimeExports.jsxs(Tab$1,{eventKey:"Output",title:"Output Format",children:[jsxRuntimeExports.jsx(Row,{className:"mb-3",children:jsxRuntimeExports.jsxs(Col,{children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Wrap Output As"})," ",jsxRuntimeExports.jsxs(Form$1.Select,{style:{width:"8em",display:"inline",marginRight:"2em"},value:"",onChange:function(Vt){_t("wrapBefore","```"+Vt.target.value),_t("wrapAfter","```")},children:[jsxRuntimeExports.jsx("option",{}),jsxRuntimeExports.jsx("option",{value:"json",children:"JSON"}),jsxRuntimeExports.jsx("option",{value:"mermaid",children:"Mermaid Chart"}),jsxRuntimeExports.jsx("option",{value:"markdown",children:"Markdown"}),jsxRuntimeExports.jsx("option",{value:"python",children:"Python"}),jsxRuntimeExports.jsx("option",{value:"javascript",children:"Javascript"}),jsxRuntimeExports.jsx("option",{value:"abc",children:"ABC Music Notation"}),jsxRuntimeExports.jsx("option",{value:"csv",children:"Comma Seperated Variables"})]}),jsxRuntimeExports.jsx(Form$1.Text,{children:"Before:"}),jsxRuntimeExports.jsx(index$4,{minRows:"1",style:{width:"30%",display:"inline"},onChange:Vt=>Ct("wrapBefore",Vt),value:ct&&ct.config&&ct.config.wrapBefore?ct.config.wrapBefore:""}),jsxRuntimeExports.jsx(Form$1.Text,{children:"After:"}),jsxRuntimeExports.jsx(index$4,{minRows:"1",style:{width:"30%",display:"inline"},onChange:Vt=>Ct("wrapAfter",Vt),value:ct&&ct.config&&ct.config.wrapAfter?ct.config.wrapAfter:""})]})}),jsxRuntimeExports.jsx(Row,{children:jsxRuntimeExports.jsxs(Col,{children:[jsxRuntimeExports.jsxs(Form$1.Group,{controlId:"modelType",children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Output Format:"}),jsxRuntimeExports.jsxs(Form$1.Select,{value:ct&&ct.config&&ct.config.outputType?ct.config.outputType:"",onChange:At,children:[jsxRuntimeExports.jsx("option",{}),jsxRuntimeExports.jsx("option",{value:"json",children:"JSON"}),jsxRuntimeExports.jsx("option",{value:"choice",children:"Choice"}),jsxRuntimeExports.jsx("option",{value:"number",children:"Number"})]})]}),jsxRuntimeExports.jsx(Form$1.Group,{controlId:"outputexamples",children:ct&&ct.config&&(ct.config.outputType===""||ct.config.outputType==="json"||ct.config.outputType==="choice")&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[ct&&ct.config&&ct.config.outputType&&ct.config.outputType==="json"?jsxRuntimeExports.jsx(Form$1.Label,{children:"Examples (single JSON per line)"}):ct&&ct.config&&ct.config.outputType&&ct.config.outputType==="choice"?jsxRuntimeExports.jsx(Form$1.Label,{children:"Choice Options (one per line)"}):jsxRuntimeExports.jsx(Form$1.Label,{children:"Examples"}),jsxRuntimeExports.jsx(index$4,{minRows:"12",style:{width:"100%"},onChange:Vt=>{Tt(Vt)},value:ct&&ct.config&&ct.config.outputExamples?ct.config.outputExamples:""}),ct&&ct.config&&ct.config.outputType==="json"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Form$1.Label,{style:{marginRight:"4em",marginBottom:"2em"},children:"Schema"}),!1,!(ct&&ct.config&&ct.config.outputExamples&&ft&&ft.llm&&ft.llm.self_hosted_url)&&jsxRuntimeExports.jsx(Form$1.Text,{children:jsxRuntimeExports.jsx("span",{style:{display:"block",marginLeft:"0.3em",fontStyle:"italic",fontSize:"0.8em"},children:ct&&ct.config&&ct.config.outputExamples&&jsxRuntimeExports.jsx("a",{href:"https://www.liquid-technologies.com/online-json-to-schema-converter",target:"_new",children:"Online Schema Generator"})})}),jsxRuntimeExports.jsx(index$4,{minRows:"12",style:{width:"100%"},onChange:Vt=>{Gt(Vt)},value:ct&&ct.config&&ct.config.schema?ct.config.schema:"",placeholder:ct&&ct.config&&ct.config.schema?ct.config.schema:JSON.stringify({title:"User",type:"object",properties:{name:{type:"string"},last_name:{type:"string"},id:{type:"integer"}}})})]})]})})]})})]}),(!ct||!ct.config||ct.config.type!=="algorithmic")&&jsxRuntimeExports.jsxs(Tab$1,{eventKey:"Parameters",title:"Parameters",children:[jsxRuntimeExports.jsx(Row,{style:{borderBottom:"1px solid black",height:"1em"}}),jsxRuntimeExports.jsx("a",{href:"https://platform.openai.com/docs/api-reference/chat",target:"_new",children:jsxRuntimeExports.jsx(Button,{style:{float:"right"},children:it.question})}),jsxRuntimeExports.jsx(Row,{children:jsxRuntimeExports.jsx(Col,{children:jsxRuntimeExports.jsxs(Form$1.Group,{controlId:"temperatureOpenAI",children:[jsxRuntimeExports.jsxs(Form$1.Label,{children:["Temperature: ",ct&&ct.config&&ct.config.temperatureOpenAI?ct.config.temperatureOpenAI:""]}),jsxRuntimeExports.jsx(Form$1.Control,{type:"range",min:0,max:2,step:.01,value:ct&&ct.config&&ct.config.temperatureOpenAI?ct.config.temperatureOpenAI:"",onChange:St})]})})}),jsxRuntimeExports.jsx(Row,{children:jsxRuntimeExports.jsx(Col,{children:jsxRuntimeExports.jsxs(Form$1.Group,{controlId:"topPOpenAI",children:[jsxRuntimeExports.jsxs(Form$1.Label,{children:["Top P: ",ct&&ct.config&&ct.config.topPOpenAI?ct.config.topPOpenAI:""]}),jsxRuntimeExports.jsx(Form$1.Control,{type:"range",min:0,max:1,step:.01,value:ct&&ct.config&&ct.config.topPOpenAI?ct.config.topPOpenAI:"",onChange:Rt})]})})}),jsxRuntimeExports.jsx(Row,{children:jsxRuntimeExports.jsx(Col,{children:jsxRuntimeExports.jsxs(Form$1.Group,{controlId:"frequency_penalty",children:[jsxRuntimeExports.jsxs(Form$1.Label,{children:["Frequency Penalty: ",ct&&ct.config&&ct.config.frequencyPenalty?ct.config.frequencyPenalty:""]}),jsxRuntimeExports.jsx(Form$1.Control,{type:"range",min:-2,max:2,step:.01,value:ct&&ct.config&&ct.config.frequencyPenalty?ct.config.frequencyPenalty:"",onChange:Nt})]})})}),jsxRuntimeExports.jsx(Row,{children:jsxRuntimeExports.jsx(Col,{children:jsxRuntimeExports.jsxs(Form$1.Group,{controlId:"presence_penaly",children:[jsxRuntimeExports.jsxs(Form$1.Label,{children:["Presence Penalty: ",ct&&ct.config&&ct.config.presencePenalty?ct.config.presencePenalty:""]}),jsxRuntimeExports.jsx(Form$1.Control,{type:"range",min:-2,max:2,step:.01,value:ct&&ct.config&&ct.config.presencePenalty?ct.config.presencePenalty:"",onChange:Ot})]})})})]}),ct&&ct.config&&ct.config.type!=="algorithmic"&&jsxRuntimeExports.jsxs(Tab$1,{eventKey:"Tokens",title:"Limits",children:[jsxRuntimeExports.jsx(Row,{children:jsxRuntimeExports.jsx(Col,{children:jsxRuntimeExports.jsxs(Form$1.Group,{controlId:"stopTokens",children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Stop Tokens: "}),jsxRuntimeExports.jsx(Form$1.Control,{style:{width:"80%",display:"inline"},type:"text",value:Wt||"",onChange:function(Vt){rn(Vt.target.value)}}),jsxRuntimeExports.jsx(Button,{disabled:fn.length>3,style:{marginLeft:"0.3em",display:"inline"},variant:"success",onClick:function(){let Vt=ct&&ct.config&&ct.config.stopTokens?ct.config.stopTokens:[];Vt.push(Wt),dn(Vt),rn(""),_t("stopTokens",Vt)},children:"Add"}),ct&&ct.config&&ct.config.stopTokens&&jsxRuntimeExports.jsx("div",{children:ct.config.stopTokens.map(function(Vt,an){return jsxRuntimeExports.jsxs(Button,{style:{marginLeft:"0.2em"},variant:"warning",onClick:function(){let Qt=ct.config.stopTokens;Qt.splice(an,1),dn(Qt),_t("stopTokens",Qt)},children:[jsxRuntimeExports.jsx(Badge,{bg:"warning",children:it.close})," ",Vt]},an)})})]})})}),jsxRuntimeExports.jsx(Row,{children:jsxRuntimeExports.jsx(Col,{children:jsxRuntimeExports.jsxs(Form$1.Group,{controlId:"maxTokens",children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Max Tokens: "}),jsxRuntimeExports.jsx(Form$1.Control,{type:"text",value:ct&&ct.config&&ct.config.maxTokens?ct.config.maxTokens:"",onChange:kt}),jsxRuntimeExports.jsx(Form$1.Control,{type:"range",min:0,max:32e3,value:ct&&ct.config&&ct.config.maxTokens?ct.config.maxTokens:"",onChange:kt})]})})}),jsxRuntimeExports.jsx(Row,{children:jsxRuntimeExports.jsx(Col,{children:jsxRuntimeExports.jsxs(Form$1.Group,{controlId:"maxSentences",children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Max Sentences:"}),jsxRuntimeExports.jsx(Form$1.Control,{type:"text",value:ct&&ct.config&&ct.config.maxSentences?ct.config.maxSentences:"",onChange:function(Vt){Ct("maxSentences",Vt)}})]})})})]}),(!ct||!ct.config||ct.config.type!=="algorithmic")&&jsxRuntimeExports.jsx(Tab$1,{eventKey:"model",title:"Model",children:jsxRuntimeExports.jsx(Row,{children:jsxRuntimeExports.jsx(Col,{children:jsxRuntimeExports.jsxs(Form$1.Group,{controlId:"stopTokens",children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Preferred Model"}),jsxRuntimeExports.jsxs(Form$1.Select,{value:ct&&ct.config&&ct.config.preferredModel?ct.config.preferredModel:"4",onChange:It,children:[jsxRuntimeExports.jsx("option",{value:"basic",children:"Basic"}),jsxRuntimeExports.jsx("option",{value:"small",children:"Small"}),jsxRuntimeExports.jsx("option",{value:"medium",children:"Medium"}),jsxRuntimeExports.jsx("option",{value:"large",children:"Large"}),jsxRuntimeExports.jsx("option",{value:"advanced",children:"Advanced"}),jsxRuntimeExports.jsx("option",{value:"instruct",children:"Instruct"}),jsxRuntimeExports.jsx("option",{value:"code",children:"Code "})]})]})})})}),jsxRuntimeExports.jsxs(Tab$1,{eventKey:"voice",title:"Voice",children:[jsxRuntimeExports.jsx(Row,{children:jsxRuntimeExports.jsx(Col,{children:jsxRuntimeExports.jsxs(Form$1.Group,{controlId:"ttsspeed",children:[jsxRuntimeExports.jsxs(Form$1.Label,{children:["Speed: ",ct&&ct.config&&ct.config.ttsSpeed?ct.config.ttsSpeed:""]}),jsxRuntimeExports.jsx(Form$1.Control,{type:"range",min:50,max:200,value:ct&&ct.config&&ct.config.ttsSpeed?ct.config.ttsSpeed:"",onChange:Bt})]})})}),jsxRuntimeExports.jsx(Row,{children:jsxRuntimeExports.jsx(Col,{children:jsxRuntimeExports.jsxs(Form$1.Group,{controlId:"ttsoaivoice",children:[jsxRuntimeExports.jsx(Form$1.Label,{style:{display:"block"},children:"OpenAI Voice: "}),jsxRuntimeExports.jsxs(Form$1.Select,{style:{width:"85%",float:"left"},value:ct&&ct.config&&ct.config.ttsOaiVoice?ct.config.ttsOaiVoice:"",onChange:zt,children:[jsxRuntimeExports.jsx("option",{}),jsxRuntimeExports.jsx("option",{children:"alloy"}),jsxRuntimeExports.jsx("option",{children:"echo"}),jsxRuntimeExports.jsx("option",{children:"fable"}),jsxRuntimeExports.jsx("option",{children:"onyx"}),jsxRuntimeExports.jsx("option",{children:"nova"}),jsxRuntimeExports.jsx("option",{children:"shimmer"})]}),jsxRuntimeExports.jsx(Button,{style:{float:"left",marginLeft:"1em"},onClick:function(){ut("this is a test","openai",ct&&ct.config&&ct.config.ttsOaiVoice?ct.config.ttsOaiVoice:"",ct&&ct.config&&ct.config.ttsSpeed?ct.config.ttsSpeed/100:"")},children:it.play})]})})}),jsxRuntimeExports.jsx(Row,{children:jsxRuntimeExports.jsx(Col,{children:jsxRuntimeExports.jsxs(Form$1.Group,{controlId:"ttsselfhostedvoice",children:[jsxRuntimeExports.jsx(Form$1.Label,{style:{display:"block"},children:"Self Hosted Voice: "}),jsxRuntimeExports.jsxs(Form$1.Select,{style:{width:"85%",float:"left"},value:ct&&ct.config&&ct.config.ttsSelfHostedVoice?ct.config.ttsSelfHostedVoice:"",onChange:Kt,children:[jsxRuntimeExports.jsx("option",{}),jsxRuntimeExports.jsx("option",{value:"p225",children:"p225"}),jsxRuntimeExports.jsx("option",{value:"p226",children:"p226"}),jsxRuntimeExports.jsx("option",{value:"p227",children:"p227"}),jsxRuntimeExports.jsx("option",{value:"p228",children:"p228"}),jsxRuntimeExports.jsx("option",{value:"p229",children:"p229"}),jsxRuntimeExports.jsx("option",{value:"p230",children:"p230"}),jsxRuntimeExports.jsx("option",{value:"p231",children:"p231"}),jsxRuntimeExports.jsx("option",{value:"p232",children:"p232"}),jsxRuntimeExports.jsx("option",{value:"p233",children:"p233"}),jsxRuntimeExports.jsx("option",{value:"p234",children:"p234"}),jsxRuntimeExports.jsx("option",{value:"p236",children:"p236"}),jsxRuntimeExports.jsx("option",{value:"p237",children:"p237"}),jsxRuntimeExports.jsx("option",{value:"p238",children:"p238"}),jsxRuntimeExports.jsx("option",{value:"p239",children:"p239"}),jsxRuntimeExports.jsx("option",{value:"p240",children:"p240"}),jsxRuntimeExports.jsx("option",{value:"p241",children:"p241"}),jsxRuntimeExports.jsx("option",{value:"p243",children:"p243"}),jsxRuntimeExports.jsx("option",{value:"p244",children:"p244"}),jsxRuntimeExports.jsx("option",{value:"p245",children:"p245"}),jsxRuntimeExports.jsx("option",{value:"p246",children:"p246"}),jsxRuntimeExports.jsx("option",{value:"p247",children:"p247"}),jsxRuntimeExports.jsx("option",{value:"p248",children:"p248"}),jsxRuntimeExports.jsx("option",{value:"p249",children:"p249"}),jsxRuntimeExports.jsx("option",{value:"p250",children:"p250"}),jsxRuntimeExports.jsx("option",{value:"p251",children:"p251"}),jsxRuntimeExports.jsx("option",{value:"p252",children:"p252"}),jsxRuntimeExports.jsx("option",{value:"p253",children:"p253"}),jsxRuntimeExports.jsx("option",{value:"p254",children:"p254"}),jsxRuntimeExports.jsx("option",{value:"p255",children:"p255"}),jsxRuntimeExports.jsx("option",{value:"p256",children:"p256"}),jsxRuntimeExports.jsx("option",{value:"p257",children:"p257"}),jsxRuntimeExports.jsx("option",{value:"p258",children:"p258"}),jsxRuntimeExports.jsx("option",{value:"p259",children:"p259"}),jsxRuntimeExports.jsx("option",{value:"p260",children:"p260"}),jsxRuntimeExports.jsx("option",{value:"p261",children:"p261"}),jsxRuntimeExports.jsx("option",{value:"p262",children:"p262"}),jsxRuntimeExports.jsx("option",{value:"p263",children:"p263"}),jsxRuntimeExports.jsx("option",{value:"p264",children:"p264"}),jsxRuntimeExports.jsx("option",{value:"p265",children:"p265"}),jsxRuntimeExports.jsx("option",{value:"p266",children:"p266"}),jsxRuntimeExports.jsx("option",{value:"p267",children:"p267"}),jsxRuntimeExports.jsx("option",{value:"p268",children:"p268"}),jsxRuntimeExports.jsx("option",{value:"p269",children:"p269"}),jsxRuntimeExports.jsx("option",{value:"p270",children:"p270"}),jsxRuntimeExports.jsx("option",{value:"p271",children:"p271"}),jsxRuntimeExports.jsx("option",{value:"p272",children:"p272"}),jsxRuntimeExports.jsx("option",{value:"p273",children:"p273"}),jsxRuntimeExports.jsx("option",{value:"p274",children:"p274"}),jsxRuntimeExports.jsx("option",{value:"p275",children:"p275"}),jsxRuntimeExports.jsx("option",{value:"p276",children:"p276"}),jsxRuntimeExports.jsx("option",{value:"p277",children:"p277"}),jsxRuntimeExports.jsx("option",{value:"p278",children:"p278"}),jsxRuntimeExports.jsx("option",{value:"p279",children:"p279"}),jsxRuntimeExports.jsx("option",{value:"p280",children:"p280"}),jsxRuntimeExports.jsx("option",{value:"p281",children:"p281"}),jsxRuntimeExports.jsx("option",{value:"p282",children:"p282"}),jsxRuntimeExports.jsx("option",{value:"p283",children:"p283"}),jsxRuntimeExports.jsx("option",{value:"p284",children:"p284"}),jsxRuntimeExports.jsx("option",{value:"p285",children:"p285"}),jsxRuntimeExports.jsx("option",{value:"p286",children:"p286"}),jsxRuntimeExports.jsx("option",{value:"p287",children:"p287"}),jsxRuntimeExports.jsx("option",{value:"p288",children:"p288"}),jsxRuntimeExports.jsx("option",{value:"p292",children:"p292"}),jsxRuntimeExports.jsx("option",{value:"p293",children:"p293"}),jsxRuntimeExports.jsx("option",{value:"p294",children:"p294"}),jsxRuntimeExports.jsx("option",{value:"p295",children:"p295"}),jsxRuntimeExports.jsx("option",{value:"p297",children:"p297"}),jsxRuntimeExports.jsx("option",{value:"p298",children:"p298"}),jsxRuntimeExports.jsx("option",{value:"p299",children:"p299"}),jsxRuntimeExports.jsx("option",{value:"p300",children:"p300"}),jsxRuntimeExports.jsx("option",{value:"p301",children:"p301"}),jsxRuntimeExports.jsx("option",{value:"p302",children:"p302"}),jsxRuntimeExports.jsx("option",{value:"p303",children:"p303"}),jsxRuntimeExports.jsx("option",{value:"p304",children:"p304"}),jsxRuntimeExports.jsx("option",{value:"p305",children:"p305"}),jsxRuntimeExports.jsx("option",{value:"p306",children:"p306"}),jsxRuntimeExports.jsx("option",{value:"p307",children:"p307"}),jsxRuntimeExports.jsx("option",{value:"p308",children:"p308"}),jsxRuntimeExports.jsx("option",{value:"p310",children:"p310"}),jsxRuntimeExports.jsx("option",{value:"p311",children:"p311"}),jsxRuntimeExports.jsx("option",{value:"p312",children:"p312"}),jsxRuntimeExports.jsx("option",{value:"p313",children:"p313"}),jsxRuntimeExports.jsx("option",{value:"p314",children:"p314"}),jsxRuntimeExports.jsx("option",{value:"p316",children:"p316"}),jsxRuntimeExports.jsx("option",{value:"p317",children:"p317"}),jsxRuntimeExports.jsx("option",{value:"p318",children:"p318"}),jsxRuntimeExports.jsx("option",{value:"p323",children:"p323"}),jsxRuntimeExports.jsx("option",{value:"p326",children:"p326"}),jsxRuntimeExports.jsx("option",{value:"p329",children:"p329"}),jsxRuntimeExports.jsx("option",{value:"p330",children:"p330"}),jsxRuntimeExports.jsx("option",{value:"p333",children:"p333"}),jsxRuntimeExports.jsx("option",{value:"p334",children:"p334"}),jsxRuntimeExports.jsx("option",{value:"p335",children:"p335"}),jsxRuntimeExports.jsx("option",{value:"p336",children:"p336"}),jsxRuntimeExports.jsx("option",{value:"p339",children:"p339"}),jsxRuntimeExports.jsx("option",{value:"p340",children:"p340"}),jsxRuntimeExports.jsx("option",{value:"p341",children:"p341"}),jsxRuntimeExports.jsx("option",{value:"p343",children:"p343"}),jsxRuntimeExports.jsx("option",{value:"p345",children:"p345"}),jsxRuntimeExports.jsx("option",{value:"p347",children:"p347"}),jsxRuntimeExports.jsx("option",{value:"p351",children:"p351"}),jsxRuntimeExports.jsx("option",{value:"p360",children:"p360"}),jsxRuntimeExports.jsx("option",{value:"p361",children:"p361"}),jsxRuntimeExports.jsx("option",{value:"p362",children:"p362"}),jsxRuntimeExports.jsx("option",{value:"p363",children:"p363"}),jsxRuntimeExports.jsx("option",{value:"p364",children:"p364"}),jsxRuntimeExports.jsx("option",{value:"p374",children:"p374"}),jsxRuntimeExports.jsx("option",{value:"p376",children:"p376"})]}),jsxRuntimeExports.jsx(Button,{style:{float:"left",marginLeft:"1em"},onClick:function(){ut("this is a test","self_hosted",ct&&ct.config&&ct.config.ttsSelfHostedVoice?ct.config.ttsSelfHostedVoice:"",ct&&ct.config&&ct.config.ttsSpeed?ct.config.ttsSpeed/100:"")},children:it.play})]})})})]}),jsxRuntimeExports.jsx(Tab$1,{eventKey:"Samples",title:"Examples",children:jsxRuntimeExports.jsx(Row,{children:jsxRuntimeExports.jsx(Col,{children:jsxRuntimeExports.jsxs(Form$1.Group,{controlId:"samples",children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Sample Queries: "}),jsxRuntimeExports.jsx(Form$1.Control,{style:{width:"80%",display:"inline"},type:"text",value:xt||"",onChange:function(Vt){vt(Vt.target.value)}}),jsxRuntimeExports.jsx(Button,{style:{marginLeft:"0.3em",display:"inline"},variant:"success",onClick:function(){gt.push(xt),bt(gt),vt(""),wt("samples",gt)},children:"Add"}),jsxRuntimeExports.jsx("div",{children:gt.map(function(Vt,an){return jsxRuntimeExports.jsxs(Button,{style:{marginLeft:"0.2em"},variant:"warning",children:[jsxRuntimeExports.jsx(Badge,{onClick:function(){gt.splice(an,1),bt(gt),wt("samples",gt)},bg:"warning",children:it.close})," ",Vt]},an)})})]})})})}),jsxRuntimeExports.jsx(Tab$1,{eventKey:"Files",title:"Files",children:jsxRuntimeExports.jsx(Row,{children:jsxRuntimeExports.jsxs(Col,{children:[JSON.stringify(ct&&ct.config?ct.config.files:[]),jsxRuntimeExports.jsx(FileList,{..._e,value:ct&&ct.config&&Array.isArray(ct.config.files)?ct.config.files:[],onChange:function(Vt){console.log("ROLE FILES change",Vt);let an={};at.forEach(function(Qt){an[Qt.id]=Qt}),_t("files",st.uniquifyArray(Vt.filter(function(Qt){return an.hasOwnProperty(Qt)}))),ot()}})]})})})]})})})})}function RolePage(_e){const{isOnlineRef:et,allowRestart:tt,onCancel:nt,onTranscript:rt,onPartialTranscript:it,bodyStyle:ot,exchangeRate:st,setExchangeRate:ut,updateExchangeRate:ft,modelSelector:dt,creditBalance:lt,updateCreditBalance:at,teamLlm:ct,chatHistoryRoles:ht,setChatHistoryRoles:pt,chatHistoryTeams:mt,setChatHistoryTeams:gt,user:yt,token:bt,login:xt,logout:vt,refresh:wt,doSave:_t,aiUsage:Ct,submitForm:Et,stopAllPlaying:$t,stopLanguageModels:jt,aiLlm:Dt,usingOpenAiTts:Pt,usingSelfHostedTts:kt,usingWebSpeechTts:At,usingMeSpeakTts:Tt,usingTts:St,usingStt:Rt,usingOpenAiStt:Ot,usingSelfHostedStt:Nt,usingLocalStt:It,queueSpeech:Bt,getUrl:zt,playDataUri:Gt,stopPlaying:Kt,isPlaying:fn,setIsPlaying:dn,isMuted:Wt,isMutedRef:rn,mute:Vt,unmute:an,deleteRole:Qt,exportRoles:Zt,importRoles:xn,init:vn,roles:gn,setRoles:Cn,currentRole:kn,setCurrentRole:En,newRole:sn,utteranceQueue:On,setUtteranceQueue:Tn,mergeData:bn,setMergeData:Dn,lastLlmTrigger:Nn,autoStartMicrophone:wn,setAutoStartMicrophone:qn,autoStopMicrophone:or,setAutoStopMicrophone:tr,refreshHash:cr,setRefreshHash:rr,forceRefresh:Vn,hasRequiredConfig:Jt,isSpeaking:pn,setIsSpeaking:$n,isWaiting:jn,startWaiting:Fn,stopWaiting:Ln,userMessage:Xn,userMessageRef:ar,setUserMessage:Qn,isReady:Yt,setIsReady:hn,config:mn,setConfig:yn,llmEnabled:qt,setLlmEnabled:Sn,icons:Bn,configRef:Zn,utils:Hn,newChat:sr,addUserMessage:nr,addAssistantMessage:dr,setLastAssistantMessage:zn,setLastUserMessage:mr,getLastUserMessage:$r,chatHistoryId:lr,chatHistoryIdRef:wr,setChatHistoryId:gr,chatHistories:Kn,setChatHistories:jr,currentChatHistory:Pr,revertChatHistory:Lr,deleteChatHistory:Un,playSpeech:en,duplicateChatHistory:Mn,configIn:Wn,chatHistoriesRef:pr,getLastAssistantChatIndex:Sr,getLastAssistantMessage:kr,categories:_r,setCategories:vr,teams:ur,setTeams:Er,currentTeam:Cr,setCurrentTeam:Dr,currentTeamRef:zr,deleteTeam:Hr,configManager:Or,runtimes:Vr,duplicateRole:Nr,accordionSelectedKey:Lt,setAccordionSelectedKey:Xt,categoryFilter:Ht,setCategoryFilter:on,fileManager:ln,files:tn,exportDocument:An,availableModels:Rn}=_e;let _n=useParams(),Mt=useNavigate();reactExports.useEffect(function(){let Ut=gn||{};if(_n.id)_n.id&&(console.log("paramchange have id",_n.id,_n.category,Ut,Ut[_n.id]),En(_n.id),_n.category&&(Ut[_n.id].category=[_n.category]),localStorage.setItem("voice2llm_last_role",_n.id),Ut.hasOwnProperty(_n.id)||(console.log("paramchange crate id",_n.id,_n.category),Ut[_n.id]={id:_n.id},_n.category&&(Ut[_n.id].category=[_n.category]),Cn(Ut)),Cn(Ut));else{const cn=Hn.generateRandomId();En(cn);let In=ht;In||(In={}),In[lr]=cn,pt(In),Mt("/role/"+cn)}},[_n.id]);function Ft(Ut,cn){gn&&_n.id&&Ut&&(gn.hasOwnProperty(_n.id)||(gn[_n.id]={}),gn[_n.id][Ut]=cn,Cn(gn),Vn())}return Hn.summariseConfig(mn),jsxRuntimeExports.jsx("div",{className:"App",id:cr,children:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Menu,{isOnlineRef:et,bodyStyle:ot,creditBalance:lt,refreshHash:cr,token:bt,logout:vt,user:yt,login:xt,utils:Hn,usingStt:Rt,usingTts:St,isSpeaking:pn,isMuted:Wt,mute:Vt,stopAllPlaying:$t,icons:Bn,unmute:an,stopPlaying:Kt,lastLlmTrigger:Nn,config:mn,aiUsage:Ct,forceRefresh:Vn,autoStartMicrophone:wn,setAutoStartMicrophone:qn,isPlaying:fn,allowRestart:tt,isWaiting:jn,startWaiting:Fn,stopWaiting:Ln,onCancel:nt,isReady:Yt,setIsReady:hn,onTranscript:rt,onPartialTranscript:it,setUserMessage:Qn}),jsxRuntimeExports.jsxs("div",{id:"body",style:ot,children:[jsxRuntimeExports.jsx(Button,{style:{float:"left",marginRight:"0.5em"},onClick:function(Ut){Ft("isStarred",!(gn&&kn&&gn[kn]&&gn[kn].isStarred))},variant:gn&&kn&&gn[kn]&&gn[kn].isStarred?"warning":"disabled",children:Bn.star}),jsxRuntimeExports.jsxs("h3",{children:["Edit Persona ",gn&&kn&&gn[kn]&&gn[kn].name?" - "+gn[kn].name:""]}),jsxRuntimeExports.jsx(RoleForm,{..._e,roleId:_n.id,rolesJSON:JSON.stringify(gn)})]}),jsxRuntimeExports.jsx(Footer,{icons:Bn})]})})}function HelpPage({isOnlineRef:_e,allowRestart:et,onCancel:tt,onTranscript:nt,onPartialTranscript:rt,bodyStyle:it,exchangeRate:ot,setExchangeRate:st,updateExchangeRate:ut,modelSelector:ft,creditBalance:dt,updateCreditBalance:lt,teamLlm:at,chatHistoryRoles:ct,setChatHistoryRoles:ht,chatHistoryTeams:pt,setChatHistoryTeams:mt,user:gt,token:yt,login:bt,logout:xt,refresh:vt,doSave:wt,aiUsage:_t,submitForm:Ct,stopAllPlaying:Et,stopLanguageModels:$t,aiLlm:jt,usingOpenAiTts:Dt,usingSelfHostedTts:Pt,usingWebSpeechTts:kt,usingMeSpeakTts:At,usingTts:Tt,usingStt:St,usingOpenAiStt:Rt,usingSelfHostedStt:Ot,usingLocalStt:Nt,queueSpeech:It,getUrl:Bt,playDataUri:zt,stopPlaying:Gt,isPlaying:Kt,setIsPlaying:fn,isMuted:dn,isMutedRef:Wt,mute:rn,unmute:Vt,deleteRole:an,exportRoles:Qt,importRoles:Zt,init:xn,roles:vn,setRoles:gn,currentRole:Cn,setCurrentRole:kn,newRole:En,utteranceQueue:sn,setUtteranceQueue:On,mergeData:Tn,setMergeData:bn,lastLlmTrigger:Dn,autoStartMicrophone:Nn,setAutoStartMicrophone:wn,autoStopMicrophone:qn,setAutoStopMicrophone:or,refreshHash:tr,setRefreshHash:cr,forceRefresh:rr,hasRequiredConfig:Vn,isSpeaking:Jt,setIsSpeaking:pn,isWaiting:$n,startWaiting:jn,stopWaiting:Fn,userMessage:Ln,userMessageRef:Xn,setUserMessage:ar,isReady:Qn,setIsReady:Yt,config:hn,setConfig:mn,llmEnabled:yn,setLlmEnabled:qt,icons:Sn,configRef:Bn,utils:Zn,newChat:Hn,addUserMessage:sr,addAssistantMessage:nr,setLastAssistantMessage:dr,setLastUserMessage:zn,getLastUserMessage:mr,chatHistoryId:$r,chatHistoryIdRef:lr,setChatHistoryId:wr,chatHistories:gr,setChatHistories:Kn,currentChatHistory:jr,revertChatHistory:Pr,deleteChatHistory:Lr,playSpeech:Un,duplicateChatHistory:en,configIn:Mn,chatHistoriesRef:Wn,getLastAssistantChatIndex:pr,getLastAssistantMessage:Sr,categories:kr,setCategories:_r,teams:vr,setTeams:ur,currentTeam:Er,setCurrentTeam:Cr,currentTeamRef:Dr,deleteTeam:zr,configManager:Hr,runtimes:Or,duplicateRole:Vr,accordionSelectedKey:Nr,setAccordionSelectedKey:Lt,categoryFilter:Xt,setCategoryFilter:Ht,fileManager:on,files:ln,exportDocument:tn,availableModels:An}){return Zn.summariseConfig(hn),jsxRuntimeExports.jsxs("div",{className:"App",style:{textAlign:"left",marginLeft:"0.3em"},id:tr,children:[jsxRuntimeExports.jsx(Menu,{isOnlineRef:_e,bodyStyle:it,creditBalance:dt,refreshHash:tr,token:yt,logout:xt,user:gt,login:bt,utils:Zn,usingStt:St,usingTts:Tt,isSpeaking:Jt,isMuted:dn,mute:rn,stopAllPlaying:Et,icons:Sn,unmute:Vt,stopPlaying:Gt,lastLlmTrigger:Dn,config:hn,aiUsage:_t,forceRefresh:rr,autoStartMicrophone:Nn,setAutoStartMicrophone:wn,isPlaying:Kt,allowRestart:et,isWaiting:$n,startWaiting:jn,stopWaiting:Fn,onCancel:tt,isReady:Qn,setIsReady:Yt,onTranscript:nt,onPartialTranscript:rt,setUserMessage:ar}),jsxRuntimeExports.jsxs("div",{id:"body",style:it,children:[jsxRuntimeExports.jsx("h3",{children:"Help"}),jsxRuntimeExports.jsxs(Tabs,{defaultActiveKey:"overview",id:"uncontrolled-tab-example",className:"mb-3",children:[jsxRuntimeExports.jsxs(Tab$1,{eventKey:"overview",title:"Overview",children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("i",{children:"TalkToATeam"})," is a web application supporting the use of agentic workflows with language models."]}),jsxRuntimeExports.jsx("p",{children:"It is essentially a chat user interface to talk to language models."}),jsxRuntimeExports.jsx("p",{children:"By providing language models more context in the form of descriptive system prompts, responses can be made much more relevant. Management and application of Personas is provided to this end."}),jsxRuntimeExports.jsx("p",{children:"By chaining requests to language models and tools, complex flows of information and workflows can be built. Management and application of Teams is provided to this end."}),jsxRuntimeExports.jsx("p",{children:"The software provides for multiple data sources to be injected into prompt workflows including."}),jsxRuntimeExports.jsxs("ul",{children:[jsxRuntimeExports.jsx("li",{children:"Text and PDF files"}),jsxRuntimeExports.jsx("li",{children:"Web Search"}),jsxRuntimeExports.jsx("li",{children:"Google Documents"}),jsxRuntimeExports.jsx("li",{children:"Google Email"}),jsxRuntimeExports.jsx("li",{children:"Local Files Database"}),jsxRuntimeExports.jsx("li",{children:"Wikipedia"}),jsxRuntimeExports.jsx("li",{children:"TheSession.org tunes database"})]}),jsxRuntimeExports.jsx("p",{children:"The software supports tool use and comes with tools for web search and code execution. The injection of recent hard data into the messages we send to language models significantly improves their truthfulness."}),jsxRuntimeExports.jsx("p",{children:"The software includes a File Manager that generates vector embeddings to be used with an integrated Retrieval Augmented Generation(RAG) system."})]}),jsxRuntimeExports.jsxs(Tab$1,{eventKey:"personas",title:"Personas",children:[jsxRuntimeExports.jsx("p",{children:"A persona is a collection of properties that define how a model should respond. In particular, a persona has form fields to edit:"}),jsxRuntimeExports.jsxs("ul",{children:[jsxRuntimeExports.jsx("li",{children:"Name, category (admin)"}),jsxRuntimeExports.jsx("li",{children:"Instructions, skills, backstory (used for system prompt)"}),jsxRuntimeExports.jsx("li",{children:"Model settings including temperature and top_k"}),jsxRuntimeExports.jsx("li",{children:"Output limits including stop tokens, maximum tokens"}),jsxRuntimeExports.jsx("li",{children:"Output format limits - require JSON, choice, or number. Provide JSON/choice examples. Provide JSON schema (Generate schema from samples button)"}),jsxRuntimeExports.jsx("li",{children:"Voice (for text to speech)"}),jsxRuntimeExports.jsx("li",{children:"Samples (example messages to clarify how to use the persona)"})]}),jsxRuntimeExports.jsx("p",{children:'A persona can have the type "inference" in which case it uses language models to generate responses. A persona can also have the type "algorithmic" in which case it executes the code inside the editable function block to generate a response.'}),jsxRuntimeExports.jsx("p",{children:"The output format wrap as field allows the addition of text before and after the generated content. This can be useful to trigger a renderer (more below). The output wrapping is applied before tool use so it can also be useful in ensuring the correct wrapping to trigger tools use."}),jsxRuntimeExports.jsx("p",{children:"It is possible to select a preferred model size. This allows the use of the fastest most cost-effective model for the task. This field is used to determine the best model to call when using this persona. The configuration will determine the actual available models."})]}),jsxRuntimeExports.jsxs(Tab$1,{eventKey:"teams",title:"Teams",children:[jsxRuntimeExports.jsx("p",{children:"Teams enable flows of information between personas to generate a final output. Personas can be attached to teams as members or in a number of specialist roles. A team has a type that defines how the flow of information runs between the Personas associated with the team."}),jsxRuntimeExports.jsx("p",{children:"Types include:"}),jsxRuntimeExports.jsxs("ul",{children:[jsxRuntimeExports.jsx("li",{children:"Linear"}),jsxRuntimeExports.jsx("li",{children:"Linear collated"}),jsxRuntimeExports.jsx("li",{children:"Parallel"}),jsxRuntimeExports.jsx("li",{children:"Mixture of experts"}),jsxRuntimeExports.jsx("li",{children:"Role based"}),jsxRuntimeExports.jsx("li",{children:"Generator"})]}),jsxRuntimeExports.jsx("p",{children:"A linear team passes the question to each team member in turn, taking the result from the previous step and passing it along with the message to the next team member."}),jsxRuntimeExports.jsx(MermaidViewer,{forceRefresh:rr,elementId:"mermaidrenderer_1",chart:`flowchart LR
 IN --> A[Member 1] -->|member 1 data|B[Member 2] -->|member 2 data| C[Member 3] -->|member 3 data| Formatter -->OUT`}),jsxRuntimeExports.jsx("p",{children:"A linear collated team passes the results of all previous member personas to the next team member."}),jsxRuntimeExports.jsx(MermaidViewer,{forceRefresh:rr,elementId:"mermaidrenderer_2",chart:`flowchart LR
 IN --> A[Member 1] -->|member 2 data| B[Member 2] --> |member 1 and 2 data|C[Member 3] --> |member 1 and 2 and 3 data|Formatter -->OUT`}),jsxRuntimeExports.jsx("p",{children:"A parallel team passes the question to all the experts at the same time and collates and returns the results from each team member's response to the message."}),jsxRuntimeExports.jsx(MermaidViewer,{forceRefresh:rr,elementId:"mermaidrenderer_3",chart:`flowchart LR
 IN --> A[Member 1]
 A --> Formatter 
 IN -->  B[Member 2] 
 B  --> Formatter
 IN -->  C[Member 3]
 C --> Formatter
 Formatter --> OUT`}),jsxRuntimeExports.jsx("p",{children:"A mixture of experts (MOE) team starts by running a chooser persona to choose one or many expert personas to run in parallel. The default chooser uses the skill field of a persona to find the best responder to the message. It is also possible to use an arbitrary persona as the MOE chooser."}),jsxRuntimeExports.jsx(MermaidViewer,{forceRefresh:rr,elementId:"mermaidrenderer_4",chart:`flowchart LR
 IN --> Chooser[Expert Selector] --> A[Member 1] --> Formatter --> OUT 
 IN --> Chooser -->  C[Member 3] --> Formatter --> OUT`}),jsxRuntimeExports.jsx("p",{children:"In a role-based team, a fixed (but largely optional) cast of personas is used to implement a looping structure. First, a Blocker Persona is run and if it responds with FAIL, everything stops and the team responds with empty text. Then a Feeder Persona is run to populate the message context with data from an external source. Next, a Chain Of Thought Planner Persona is given the message and external context data and asked for a plan to respond to the message. Now we start looping around refining the response. The Planner (or Feeder if no planner) response and the original message are passed in turn to a Generator for an initial response. A generator is a required member of the team. The Generator response is fed to the Reducer to compress/summarize the response and finally to the Scorer. If the scorer does not respond with FAIL, the compressed response is fed to a final Formatter and returned. If the scorer does respond with FAIL, the responses from the Feeder, Planner, Generator, and Reducer are fed to a Rewriter and then back to the start of the loop to the Generator."}),jsxRuntimeExports.jsx(MermaidViewer,{forceRefresh:rr,elementId:"mermaidrenderer_6",chart:`flowchart LR
 IN --> Blocker
 Blocker --> Feeder
 Blocker --> OUT
 Feeder --> ct[Chain Of Thought Planner]
 ct  --> Generator 
 Generator --> tr[Text Reducer ]
 tr --> Scorer 
 Scorer --> Formatter 
 Formatter --> OUT 
 Scorer --> Rewriter 
 Rewriter -->  Generator
 `}),jsxRuntimeExports.jsx("p",{children:"A generator team starts by running a generator persona to expand the initial message. An example might be a generator that generates questions related to the original message. For each of the generated options, each team member is called in parallel. Being multiplicative this can lead to high token use or even rate limit restrictions. Be sure to keep the value for maximum iterations and the number of team members reasonable or your query will fail."}),jsxRuntimeExports.jsx(MermaidViewer,{forceRefresh:rr,elementId:"mermaidrenderer_5",chart:`flowchart LR
 IN --> Generator[Question Generator] -->|Generated Question 1| A[Member 1] --> tr[Text Reducer] --> Formatter --> OUT 
 Generator -->|Generated Question 1| B[Member 2] --> tr --> Formatter
 Generator -->|Generated Question 2| A[Member 1] --> tr --> Formatter
 Generator -->|Generated Question 2| B[Member 2] --> tr --> Formatter`}),jsxRuntimeExports.jsx("h4",{children:"Formatter Role"}),jsxRuntimeExports.jsx("p",{children:"Many of the team types also support a Formatter Persona which is given all the team results for manipulation before returning a response to the user."}),jsxRuntimeExports.jsx("h4",{children:"Nested Team Execution"}),jsxRuntimeExports.jsx("p",{children:"Team members and many of the role-based associations allow for the selection of a team instead of a persona. This opens the possibility for complex flows of information between highly capable and reusable teams."}),jsxRuntimeExports.jsx("h4",{children:"Team Compression"}),jsxRuntimeExports.jsx("p",{children:"A team can be compressed into a single query to a language model to save tokens and time. The user message is extended to ask the model to respond as each of the Personas and a list of Personas is provided with the prompt. This only applies to linear, parallel, and mixture of expert types."})]}),jsxRuntimeExports.jsxs(Tab$1,{eventKey:"renderers",title:"Renderers",children:[jsxRuntimeExports.jsxs("p",{children:["The software supports special rendering for various formats of information including music notation, graphs, and markdown content. Renderers are triggered by ensuring the response content is wrapped in ",jsxRuntimeExports.jsx("code",{children:"```formattype stuff here ```"})]}),jsxRuntimeExports.jsx("p",{children:"Valid format types include:"}),jsxRuntimeExports.jsxs("ul",{children:[jsxRuntimeExports.jsx("li",{children:"abc (music notation)"}),jsxRuntimeExports.jsx("li",{children:"mermaid (graph)"}),jsxRuntimeExports.jsx("li",{children:"markdown"}),jsxRuntimeExports.jsx("li",{children:"code - javascript, python"})]}),jsxRuntimeExports.jsxs("p",{children:["Any text inside ",jsxRuntimeExports.jsx("code",{children:"```"})," that does not match a valid format will be rendered in a preformatted box."]})]}),jsxRuntimeExports.jsxs(Tab$1,{eventKey:"tools",title:"Tools",children:[jsxRuntimeExports.jsxs("p",{children:["Tool use is triggered by ensuring the response content is wrapped in ",jsxRuntimeExports.jsx("code",{children:"```tool and ```"}),". For example:"]}),jsxRuntimeExports.jsx("pre",{children:jsxRuntimeExports.jsx("code",{children:"```tool google_search(they might be giants) ```"})}),jsxRuntimeExports.jsx("p",{children:"The output wrap settings can be useful here to ensure the correct wrapping before the tool is called. Alternatively, you can ask the model to intersperse wrapped tool calls with other text; however, it may take some reinforcement in the instructions field to ensure the formatting."}),jsxRuntimeExports.jsx("p",{children:"Tool calls are executed on every call to a language model, and the tool call is appended to the document immediately after the tool call trigger text."})]}),jsxRuntimeExports.jsx(Tab$1,{eventKey:"rag",title:"Rag Document Store",children:jsxRuntimeExports.jsx("p",{children:"Documents can be ..."})}),jsxRuntimeExports.jsxs(Tab$1,{eventKey:"configuration",title:"Configuration",children:[jsxRuntimeExports.jsx("p",{children:"The application supports any LLM host provider compatible with OpenAI."}),jsxRuntimeExports.jsx("h3",{children:"Language Model"}),jsxRuntimeExports.jsx("h3",{children:"Speech To Text"}),jsxRuntimeExports.jsx("h3",{children:"Text To Speech"}),jsxRuntimeExports.jsx("h3",{children:"Tools"})]})]})]}),jsxRuntimeExports.jsx(Footer,{icons:Sn})]})}function PrivacyPage({isOnline:_e,isOnlineRef:et,allowRestart:tt,onCancel:nt,onTranscript:rt,onPartialTranscript:it,bodyStyle:ot,exchangeRate:st,setExchangeRate:ut,updateExchangeRate:ft,modelSelector:dt,creditBalance:lt,updateCreditBalance:at,teamLlm:ct,chatHistoryRoles:ht,setChatHistoryRoles:pt,chatHistoryTeams:mt,setChatHistoryTeams:gt,user:yt,token:bt,login:xt,logout:vt,refresh:wt,doSave:_t,aiUsage:Ct,submitForm:Et,stopAllPlaying:$t,stopLanguageModels:jt,aiLlm:Dt,usingOpenAiTts:Pt,usingSelfHostedTts:kt,usingWebSpeechTts:At,usingMeSpeakTts:Tt,usingTts:St,usingStt:Rt,usingOpenAiStt:Ot,usingSelfHostedStt:Nt,usingLocalStt:It,queueSpeech:Bt,getUrl:zt,playDataUri:Gt,stopPlaying:Kt,isPlaying:fn,setIsPlaying:dn,isMuted:Wt,isMutedRef:rn,mute:Vt,unmute:an,deleteRole:Qt,exportRoles:Zt,importRoles:xn,init:vn,roles:gn,setRoles:Cn,currentRole:kn,setCurrentRole:En,newRole:sn,utteranceQueue:On,setUtteranceQueue:Tn,mergeData:bn,setMergeData:Dn,lastLlmTrigger:Nn,autoStartMicrophone:wn,setAutoStartMicrophone:qn,autoStopMicrophone:or,setAutoStopMicrophone:tr,refreshHash:cr,setRefreshHash:rr,forceRefresh:Vn,hasRequiredConfig:Jt,isSpeaking:pn,setIsSpeaking:$n,isWaiting:jn,startWaiting:Fn,stopWaiting:Ln,userMessage:Xn,userMessageRef:ar,setUserMessage:Qn,isReady:Yt,setIsReady:hn,config:mn,setConfig:yn,llmEnabled:qt,setLlmEnabled:Sn,icons:Bn,configRef:Zn,utils:Hn,newChat:sr,addUserMessage:nr,addAssistantMessage:dr,setLastAssistantMessage:zn,setLastUserMessage:mr,getLastUserMessage:$r,chatHistoryId:lr,chatHistoryIdRef:wr,setChatHistoryId:gr,chatHistories:Kn,setChatHistories:jr,currentChatHistory:Pr,revertChatHistory:Lr,deleteChatHistory:Un,playSpeech:en,duplicateChatHistory:Mn,configIn:Wn,chatHistoriesRef:pr,getLastAssistantChatIndex:Sr,getLastAssistantMessage:kr,categories:_r,setCategories:vr,teams:ur,setTeams:Er,currentTeam:Cr,setCurrentTeam:Dr,currentTeamRef:zr,deleteTeam:Hr,configManager:Or,runtimes:Vr,duplicateRole:Nr,accordionSelectedKey:Lt,setAccordionSelectedKey:Xt,categoryFilter:Ht,setCategoryFilter:on,fileManager:ln,files:tn,exportDocument:An,availableModels:Rn}){let _n={marginTop:"0.5em"};return jsxRuntimeExports.jsxs("div",{className:"App",style:{textAlign:"left"},id:cr,children:[jsxRuntimeExports.jsx(Menu,{isOnlineRef:et,isOnline:_e,allowRestart:tt,onCancel:nt,onTranscript:rt,onPartialTranscript:it,bodyStyle:ot,exchangeRate:st,setExchangeRate:ut,updateExchangeRate:ft,modelSelector:dt,creditBalance:lt,updateCreditBalance:at,teamLlm:ct,chatHistoryRoles:ht,setChatHistoryRoles:pt,chatHistoryTeams:mt,setChatHistoryTeams:gt,user:yt,token:bt,login:xt,logout:vt,refresh:wt,doSave:_t,aiUsage:Ct,submitForm:Et,stopAllPlaying:$t,stopLanguageModels:jt,aiLlm:Dt,usingOpenAiTts:Pt,usingSelfHostedTts:kt,usingWebSpeechTts:At,usingMeSpeakTts:Tt,usingTts:St,usingStt:Rt,usingOpenAiStt:Ot,usingSelfHostedStt:Nt,usingLocalStt:It,queueSpeech:Bt,getUrl:zt,playDataUri:Gt,stopPlaying:Kt,isPlaying:fn,setIsPlaying:dn,isMuted:Wt,isMutedRef:rn,mute:Vt,unmute:an,deleteRole:Qt,exportRoles:Zt,importRoles:xn,init:vn,roles:gn,setRoles:Cn,currentRole:kn,setCurrentRole:En,newRole:sn,utteranceQueue:On,setUtteranceQueue:Tn,mergeData:bn,setMergeData:Dn,lastLlmTrigger:Nn,autoStartMicrophone:wn,setAutoStartMicrophone:qn,autoStopMicrophone:or,setAutoStopMicrophone:tr,refreshHash:cr,setRefreshHash:rr,forceRefresh:Vn,hasRequiredConfig:Jt,isSpeaking:pn,setIsSpeaking:$n,isWaiting:jn,startWaiting:Fn,stopWaiting:Ln,userMessage:Xn,userMessageRef:ar,setUserMessage:Qn,isReady:Yt,setIsReady:hn,config:mn,setConfig:yn,llmEnabled:qt,setLlmEnabled:Sn,icons:Bn,configRef:Zn,utils:Hn,newChat:sr,addUserMessage:nr,addAssistantMessage:dr,setLastAssistantMessage:zn,setLastUserMessage:mr,getLastUserMessage:$r,chatHistoryId:lr,chatHistoryIdRef:wr,setChatHistoryId:gr,chatHistories:Kn,setChatHistories:jr,currentChatHistory:Pr,revertChatHistory:Lr,deleteChatHistory:Un,playSpeech:en,duplicateChatHistory:Mn,configIn:Wn,chatHistoriesRef:pr,getLastAssistantChatIndex:Sr,getLastAssistantMessage:kr,categories:_r,setCategories:vr,teams:ur,setTeams:Er,currentTeam:Cr,setCurrentTeam:Dr,currentTeamRef:zr,deleteTeam:Hr,configManager:Or,runtimes:Vr,duplicateRole:Nr,accordionSelectedKey:Lt,setAccordionSelectedKey:Xt,categoryFilter:Ht,setCategoryFilter:on,fileManager:ln,files:tn,exportDocument:An,availableModels:Rn}),jsxRuntimeExports.jsxs("div",{id:"body",style:ot,children:[jsxRuntimeExports.jsx("h3",{children:"Privacy"}),jsxRuntimeExports.jsx("div",{style:_n,children:"This website does not collect any information about you."}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("div",{style:_n,children:"When you login with Google and backup to Google Drive, their terms and conditions apply."}),jsxRuntimeExports.jsx("br",{})]}),jsxRuntimeExports.jsx(Footer,{icons:Bn})]})}function TermsPage({isOnlineRef:_e,allowRestart:et,onCancel:tt,onTranscript:nt,onPartialTranscript:rt,bodyStyle:it,exchangeRate:ot,setExchangeRate:st,updateExchangeRate:ut,modelSelector:ft,creditBalance:dt,updateCreditBalance:lt,teamLlm:at,chatHistoryRoles:ct,setChatHistoryRoles:ht,chatHistoryTeams:pt,setChatHistoryTeams:mt,user:gt,token:yt,login:bt,logout:xt,refresh:vt,doSave:wt,aiUsage:_t,submitForm:Ct,stopAllPlaying:Et,stopLanguageModels:$t,aiLlm:jt,usingOpenAiTts:Dt,usingSelfHostedTts:Pt,usingWebSpeechTts:kt,usingMeSpeakTts:At,usingTts:Tt,usingStt:St,usingOpenAiStt:Rt,usingSelfHostedStt:Ot,usingLocalStt:Nt,queueSpeech:It,getUrl:Bt,playDataUri:zt,stopPlaying:Gt,isPlaying:Kt,setIsPlaying:fn,isMuted:dn,isMutedRef:Wt,mute:rn,unmute:Vt,deleteRole:an,exportRoles:Qt,importRoles:Zt,init:xn,roles:vn,setRoles:gn,currentRole:Cn,setCurrentRole:kn,newRole:En,utteranceQueue:sn,setUtteranceQueue:On,mergeData:Tn,setMergeData:bn,lastLlmTrigger:Dn,autoStartMicrophone:Nn,setAutoStartMicrophone:wn,autoStopMicrophone:qn,setAutoStopMicrophone:or,refreshHash:tr,setRefreshHash:cr,forceRefresh:rr,hasRequiredConfig:Vn,isSpeaking:Jt,setIsSpeaking:pn,isWaiting:$n,startWaiting:jn,stopWaiting:Fn,userMessage:Ln,userMessageRef:Xn,setUserMessage:ar,isReady:Qn,setIsReady:Yt,config:hn,setConfig:mn,llmEnabled:yn,setLlmEnabled:qt,icons:Sn,configRef:Bn,utils:Zn,newChat:Hn,addUserMessage:sr,addAssistantMessage:nr,setLastAssistantMessage:dr,setLastUserMessage:zn,getLastUserMessage:mr,chatHistoryId:$r,chatHistoryIdRef:lr,setChatHistoryId:wr,chatHistories:gr,setChatHistories:Kn,currentChatHistory:jr,revertChatHistory:Pr,deleteChatHistory:Lr,playSpeech:Un,duplicateChatHistory:en,configIn:Mn,chatHistoriesRef:Wn,getLastAssistantChatIndex:pr,getLastAssistantMessage:Sr,categories:kr,setCategories:_r,teams:vr,setTeams:ur,currentTeam:Er,setCurrentTeam:Cr,currentTeamRef:Dr,deleteTeam:zr,configManager:Hr,runtimes:Or,duplicateRole:Vr,accordionSelectedKey:Nr,setAccordionSelectedKey:Lt,categoryFilter:Xt,setCategoryFilter:Ht,fileManager:on,files:ln,exportDocument:tn,availableModels:An}){let Rn={marginTop:"0.5em"};return jsxRuntimeExports.jsxs("div",{className:"App",style:{textAlign:"left"},id:tr,children:[jsxRuntimeExports.jsx(Menu,{isOnlineRef:_e,allowRestart:et,onCancel:tt,onTranscript:nt,onPartialTranscript:rt,bodyStyle:it,exchangeRate:ot,setExchangeRate:st,updateExchangeRate:ut,modelSelector:ft,creditBalance:dt,updateCreditBalance:lt,teamLlm:at,chatHistoryRoles:ct,setChatHistoryRoles:ht,chatHistoryTeams:pt,setChatHistoryTeams:mt,user:gt,token:yt,login:bt,logout:xt,refresh:vt,doSave:wt,aiUsage:_t,submitForm:Ct,stopAllPlaying:Et,stopLanguageModels:$t,aiLlm:jt,usingOpenAiTts:Dt,usingSelfHostedTts:Pt,usingWebSpeechTts:kt,usingMeSpeakTts:At,usingTts:Tt,usingStt:St,usingOpenAiStt:Rt,usingSelfHostedStt:Ot,usingLocalStt:Nt,queueSpeech:It,getUrl:Bt,playDataUri:zt,stopPlaying:Gt,isPlaying:Kt,setIsPlaying:fn,isMuted:dn,isMutedRef:Wt,mute:rn,unmute:Vt,deleteRole:an,exportRoles:Qt,importRoles:Zt,init:xn,roles:vn,setRoles:gn,currentRole:Cn,setCurrentRole:kn,newRole:En,utteranceQueue:sn,setUtteranceQueue:On,mergeData:Tn,setMergeData:bn,lastLlmTrigger:Dn,autoStartMicrophone:Nn,setAutoStartMicrophone:wn,autoStopMicrophone:qn,setAutoStopMicrophone:or,refreshHash:tr,setRefreshHash:cr,forceRefresh:rr,hasRequiredConfig:Vn,isSpeaking:Jt,setIsSpeaking:pn,isWaiting:$n,startWaiting:jn,stopWaiting:Fn,userMessage:Ln,userMessageRef:Xn,setUserMessage:ar,isReady:Qn,setIsReady:Yt,config:hn,setConfig:mn,llmEnabled:yn,setLlmEnabled:qt,icons:Sn,configRef:Bn,utils:Zn,newChat:Hn,addUserMessage:sr,addAssistantMessage:nr,setLastAssistantMessage:dr,setLastUserMessage:zn,getLastUserMessage:mr,chatHistoryId:$r,chatHistoryIdRef:lr,setChatHistoryId:wr,chatHistories:gr,setChatHistories:Kn,currentChatHistory:jr,revertChatHistory:Pr,deleteChatHistory:Lr,playSpeech:Un,duplicateChatHistory:en,configIn:Mn,chatHistoriesRef:Wn,getLastAssistantChatIndex:pr,getLastAssistantMessage:Sr,categories:kr,setCategories:_r,teams:vr,setTeams:ur,currentTeam:Er,setCurrentTeam:Cr,currentTeamRef:Dr,deleteTeam:zr,configManager:Hr,runtimes:Or,duplicateRole:Vr,accordionSelectedKey:Nr,setAccordionSelectedKey:Lt,categoryFilter:Xt,setCategoryFilter:Ht,fileManager:on,files:ln,exportDocument:tn,availableModels:An}),jsxRuntimeExports.jsxs("div",{id:"body",style:it,children:[jsxRuntimeExports.jsx("h3",{children:"Terms And Conditions"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("h5",{children:"The Software"}),jsxRuntimeExports.jsx("div",{style:Rn,children:"This software is provided as is without guarantees or warranties."}),jsxRuntimeExports.jsxs("div",{style:Rn,children:["The software is released under an open source MIT style license so you can modify and use it however you like without attribution. See ",jsxRuntimeExports.jsx("a",{href:"https://raw.githubusercontent.com/syntithenai/talktoateam/main/LICENSE",target:"_new",children:"Github"})," for details."]}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("h6",{children:"Third Party Providers"}),jsxRuntimeExports.jsx("div",{style:Rn,children:"The software requires third party services and is built to allow the use of any provider (eg OpenAI, GroqCloud, ..) using the software available at https://talktoateam.com."}),jsxRuntimeExports.jsx("div",{style:Rn,children:"By default, the software uses the free tier language models provided by GroqCloud and relies on the TalkToATeam LLM proxy to provide a free to use service."}),jsxRuntimeExports.jsx("div",{style:Rn,children:"Additionally we offer prepay credit for a unified suite of web services that support the software."}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("h5",{children:"The TalkToATeam Web Services"}),jsxRuntimeExports.jsx("div",{style:Rn,children:"When you purchase credit with our service you gain access to."}),jsxRuntimeExports.jsxs("ul",{style:{marginTop:"0.5em"},children:[jsxRuntimeExports.jsx("li",{children:"Our LLM proxy which enables easy access to a wide range of providers without having to signup and manage API keys."}),jsxRuntimeExports.jsx("li",{children:"Our web search engine, boosted with machine learning."}),jsxRuntimeExports.jsx("li",{children:"Our code execution engine for running that AI generated code."}),jsxRuntimeExports.jsx("li",{children:"Our CORS supporting proxy to supercharge the scraping power of your scripts."})]}),jsxRuntimeExports.jsx("div",{style:Rn,children:"We keep as little information as possible to allow billing, we store date, amount and transaction type (llm/code/credit) against your email address."}),jsxRuntimeExports.jsx("div",{style:Rn,children:"We do not keep any history of the text sent to and from our endpoints."}),jsxRuntimeExports.jsx("div",{style:Rn,children:"Login is provided by Google. Backup of settings and chat history is provided by Google Drive."}),jsxRuntimeExports.jsx("div",{style:Rn,children:"We have no control of the privacy or usage policy of third party providers."}),jsxRuntimeExports.jsx("div",{style:Rn,children:"Credit is non refundable and non transferable."})]}),jsxRuntimeExports.jsx(Footer,{icons:Sn})]})}function HelpDropdown({title:_e,content:et,icons:tt,style:nt}){const[rt,it]=reactExports.useState(!1),ot=()=>{it(!1)},st=()=>it(!0);return jsxRuntimeExports.jsxs("span",{children:[jsxRuntimeExports.jsx(Button,{style:nt,onClick:st,variant:"outline-primary",children:tt.question}),jsxRuntimeExports.jsxs(Modal$2,{show:rt,onHide:ot,children:[jsxRuntimeExports.jsx(Modal$2.Header,{closeButton:!0,children:jsxRuntimeExports.jsx(Modal$2.Title,{style:{marginRight:"2em"},children:_e})}),jsxRuntimeExports.jsx(Modal$2.Body,{style:{minHeight:"50em"},children:et})]})]})}function RoleOrTeamSelector(_e){const{teamId:et,defaultTeamOptions:tt,defaultOptions:nt,onChange:rt,value:it,single:ot,utils:st,rolesOnly:ut,categoryFilter:ft,setCategoryFilter:dt,roles:lt,teams:at,currentTeam:ct}=_e,ht=st.generateRandomId(),[pt,mt]=reactExports.useState(!1),[gt,yt]=reactExports.useState(!1),bt=useIcons(),xt=()=>{_t(""),yt(!1)},vt=()=>yt(!0);reactExports.useRef();const[wt,_t]=reactExports.useState(""),[Ct,Et]=reactExports.useState(nt),[$t,jt]=reactExports.useState(tt);reactExports.useEffect(function(){Et(nt)},[nt]),reactExports.useEffect(function(){jt(tt)},[tt]);var Dt=null;function Pt(Wt){_t(Wt.target.value.toLowerCase()),Wt.target.value?(Dt&&clearTimeout(Dt),Dt=setTimeout(function(){let rn={},Vt={};Object.keys(nt).map(function(an){an&&nt&&nt[an]&&nt[an].name&&nt[an].name.toLowerCase().indexOf(Wt.target.value.toLowerCase())!==-1&&(rn[an]=nt[an])}),Object.keys(tt).map(function(an){an&&tt&&tt[an]&&tt[an].name&&tt[an].name.toLowerCase().indexOf(Wt.target.value.toLowerCase())!==-1&&(Vt[an]=tt[an])}),Et(rn),jt(Vt)},5)):(Et(nt),console.log("SETDEF",tt),jt(tt))}function kt(Wt){let rn=it.length>Wt?it[Wt]:"";it[Wt]=it[Wt-1],it[Wt-1]=rn,rt(it)}function At(Wt){let rn=it.length>Wt?it[Wt]:"";it[Wt]=it[Wt+1],it[Wt+1]=rn,rt(it)}function Tt(Wt){return Wt>0}function St(Wt){return Array.isArray(it)&&Wt<it.length-1}function Rt(Wt){if(ot)console.log("sel role single",[Wt]),rt([Wt]);else{var rn=Array.isArray(it)?it:[];rn.push(Wt),_t(""),rt(rn)}}function Ot(Wt){it.splice(Wt,1),rt(it)}let Nt=tt&&et&&tt[et]&&tt[et].category&&tt[et].category[0]?"/"+tt[et].category[0]:"";var It=Ct?Object.keys(Ct):[];It.sort(function(Wt,rn){return Wt&&rn&&Ct[Wt]&&Ct[rn]&&Ct[Wt].name>Ct[rn].name?1:-1});var Bt=$t?Object.keys($t):[];Bt.sort(function(Wt,rn){return Wt&&rn&&$t[Wt]&&$t[rn]&&$t[Wt].name>$t[rn].name?1:-1});function zt(Wt,rn){return 0}let Gt=function(Wt){return!!Wt.isStarred},Kt=$t?Object.keys($t).map(function(Wt){let rn=$t[Wt];return rn.id=Wt,rn}):[],fn=Ct?Object.keys(Ct).map(function(Wt){let rn=Ct[Wt];return rn.id=Wt,rn}):[],dn=[].concat(Object.values(fn).filter(Gt).map(function(Wt){return Object.assign({},Wt,{list_type:"role"})}),Object.values(Kt).filter(Gt).map(function(Wt){return Object.assign({},Wt,{list_type:"team"})}));return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Button,{variant:"primary",style:{marginBottom:"0.8em",marginLeft:"1em"},onClick:vt,children:bt.add}),jsxRuntimeExports.jsx("div",{children:Array.isArray(it)&&it.map(function(Wt,rn){return jsxRuntimeExports.jsxs(ButtonGroup,{style:{marginRight:"0.2em"},children:[Wt.startsWith("TEAM:::::")&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[!ot&&Tt(rn)&&jsxRuntimeExports.jsx(Button,{onClick:function(Vt){kt(rn)},variant:"primary",children:bt.left}),tt&&tt[Wt.slice(9)]&&jsxRuntimeExports.jsx(Link,{to:"/team/"+Wt.slice(9),children:jsxRuntimeExports.jsx(Button,{variant:"primary",children:bt.pencil})}),jsxRuntimeExports.jsx(Button,{variant:"primary",onClick:function(Vt){Ot(rn)},children:bt.bin},Wt),jsxRuntimeExports.jsx(Button,{variant:"primary",children:tt&&tt[Wt.slice(9)]?tt[Wt.slice(9)].name:""}),!ot&&St(rn)&&jsxRuntimeExports.jsx(Button,{onClick:function(Vt){At(rn)},variant:"primary",children:bt.right})]}),!Wt.startsWith("TEAM:::::")&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[!ot&&Tt(rn)&&jsxRuntimeExports.jsx(Button,{onClick:function(Vt){kt(rn)},variant:"info",children:bt.left}),nt&&nt[Wt]&&jsxRuntimeExports.jsx(Link,{to:"/role/"+Wt,children:jsxRuntimeExports.jsx(Button,{variant:"info",children:bt.pencil})}),jsxRuntimeExports.jsx(Button,{variant:"info",onClick:function(Vt){Ot(rn)},children:bt.bin},Wt),jsxRuntimeExports.jsx(Button,{variant:"info",children:nt&&nt[Wt]?nt[Wt].name:""}),!ot&&St(rn)&&jsxRuntimeExports.jsx(Button,{onClick:function(Vt){At(rn)},variant:"info",children:bt.right})]})]},rn)})}),jsxRuntimeExports.jsxs(Modal$2,{show:gt,onHide:xt,children:[jsxRuntimeExports.jsx(Modal$2.Header,{closeButton:!0,children:jsxRuntimeExports.jsx(Modal$2.Title,{style:{marginRight:"2em"},children:"Select Persona Or Team"})}),jsxRuntimeExports.jsxs(Modal$2.Body,{style:{minHeight:"50em"},children:[jsxRuntimeExports.jsx("input",{type:"search",value:wt,onChange:Pt,onFocus:function(){mt(!0)},onBlur:function(){setTimeout(function(){mt(!1)},500)}}),jsxRuntimeExports.jsx("div",{style:{clear:"both",marginTop:"1em"}}),jsxRuntimeExports.jsx("div",{style:{position:"relative",top:"-5px",zIndex:10,backgroundColor:"white"},children:jsxRuntimeExports.jsxs(Tabs,{defaultActiveKey:"starred",id:"uncontrolled-tab-example",className:"mb-3",children:[jsxRuntimeExports.jsx(Tab$1,{eventKey:"starred",title:"Starred",children:jsxRuntimeExports.jsx(ListGroup$1,{style:{zIndex:"20",clear:"both",width:"100%"},children:dn.sort(zt).map(function(Wt,rn){return jsxRuntimeExports.jsxs(ListGroup$1.Item,{className:rn%2===0?"even":"odd",onClick:function(Vt){console.log(Wt),Wt.list_type==="team"?Rt("TEAM:::::"+Wt.id):Wt.list_type==="role"&&Rt(Wt.id),_t(""),xt()},children:[jsxRuntimeExports.jsx("span",{children:Ct&&Ct[Wt]&&Array.isArray(Ct[Wt].category)&&Ct[Wt].category.map(function(Vt){return jsxRuntimeExports.jsx(Button,{variant:"secondary",size:"sm",onClick:function(an){return dt([Vt]),an.stopPropagation(),!1},bg:"secondary",style:{float:"right",marginLeft:"0.2em"},children:Vt})})}),Wt.name]},rn)})})}),jsxRuntimeExports.jsxs(Tab$1,{eventKey:"roles",title:"Persona",children:[jsxRuntimeExports.jsx(Link,{onClick:function(){Rt(ht)},to:"/role/"+ht+Nt,children:jsxRuntimeExports.jsx(Button,{style:{float:"right"},variant:"success",children:bt.add})}),jsxRuntimeExports.jsx(ListGroup$1,{style:{zIndex:"20",clear:"both",width:"100%"},children:It.map(function(Wt,rn){let Vt=Ct[Wt];return jsxRuntimeExports.jsxs(ListGroup$1.Item,{className:rn%2===0?"even":"odd",onClick:function(an){Rt(Wt),_t(""),xt()},children:[jsxRuntimeExports.jsx("span",{children:Ct&&Ct[Vt]&&Array.isArray(Ct[Vt].category)&&Ct[Vt].category.map(function(an){return jsxRuntimeExports.jsx(Button,{variant:"secondary",size:"sm",onClick:function(Qt){return dt([an]),Qt.stopPropagation(),!1},bg:"secondary",style:{float:"right",marginLeft:"0.2em"},children:an})})}),Vt.name]},rn)})})]}),!ut&&jsxRuntimeExports.jsxs(Tab$1,{eventKey:"teams",title:"Team",children:[jsxRuntimeExports.jsx(Link,{onClick:function(){Rt("TEAM:::::"+ht),xt()},to:"/team/"+ht+Nt,children:jsxRuntimeExports.jsx(Button,{style:{float:"right"},variant:"success",children:bt.add})}),jsxRuntimeExports.jsx(ListGroup$1,{style:{zIndex:"20",clear:"both",width:"100%"},children:Bt.map(function(Wt,rn){let Vt=$t&&$t[Wt];return jsxRuntimeExports.jsx(ListGroup$1.Item,{className:rn%2===0?"even":"odd",onClick:function(an){Rt("TEAM:::::"+Wt),_t(""),xt()},children:Vt&&Vt.name},rn)})})]})]})})]})]})]})}function TeamForm({teamId:_e,teams:et,teamsJSON:tt,setTeams:nt,icons:rt,forceRefresh:it,utils:ot,playSpeech:st,config:ut,categories:ft,setCategories:dt,roles:lt}){const[at,ct]=reactExports.useState({});let[ht,pt]=reactExports.useState(""),[mt,gt]=reactExports.useState([]);function yt(Pt){gt(Pt),vt("samples",Pt)}let[bt,xt]=reactExports.useState("");reactExports.useState("");function vt(Pt,kt){et&&_e&&Pt&&(et.hasOwnProperty(_e)||(et[_e]={type:"linear"}),et[_e][Pt]=kt,nt(et),pt(ot.generateRandomId()))}function wt(Pt,kt){et||(et={}),_e&&Pt&&(et[_e]||(et[_e]={}),et[_e].config=et[_e].config?et[_e].config:{},et[_e].config[Pt]=kt,nt(et),pt(ot.generateRandomId()))}reactExports.useEffect(function(){pt(ot.generateRandomId()),it(),ct(et&&_e?et[_e]:null),yt(et&&_e&&et[_e]&&Array.isArray(et[_e].samples)?et[_e].samples:[])},[JSON.stringify(et&&_e?et[_e]:{})]);const _t=(Pt,kt)=>{vt(Pt,kt.target.checked)},Ct=(Pt,kt)=>{vt(Pt,kt.target.value)},Et=Pt=>{vt("category",Pt);let kt=Array.isArray(Pt)?Pt:[];ft||(ft={}),kt.forEach(function(At){ft[At]=1}),dt(ft)};function $t(Pt){switch(Pt){case"linear":return`flowchart LR
 IN --> A[Member 1] -->|member 1 data|B[Member 2] -->|member 2 data| C[Member 3] -->|member 3 data| Formatter -->OUT`;case"linearcollation":return`flowchart LR
 IN --> A[Member 1] -->|member 2 data| B[Member 2] --> |member 1 and 2 data|C[Member 3] --> |member 1 and 2 and 3 data|Formatter -->OUT`;case"parallel":return`flowchart LR
 IN --> A[Member 1]
 A --> Formatter 
 IN -->  B[Member 2] 
 B  --> Formatter
 IN -->  C[Member 3]
 C --> Formatter
 Formatter --> OUT
 `;case"mixtureofexperts":return`flowchart LR
 IN --> Chooser[Expert Selector] --> A[Member 1] --> Formatter --> OUT 
 IN --> Chooser -->  C[Member 3] --> Formatter --> OUT`;case"generator":return`flowchart LR
 IN --> Generator[Question Generator] -->|Generated Question 1| A[Member 1] --> tr[Text Reducer] --> Formatter --> OUT 
 Generator -->|Generated Question 1| B[Member 2] --> tr --> Formatter
 Generator -->|Generated Question 2| A[Member 1] --> tr --> Formatter
 Generator -->|Generated Question 2| B[Member 2] --> tr --> Formatter`;case"rolesbased":return`flowchart LR
 IN --> Blocker
 Blocker --> Feeder
 Blocker --> OUT
 Feeder --> ct[Chain Of Thought Planner]
 ct  --> Generator 
 Generator --> tr[Text Reducer ]
 tr --> Scorer 
 Scorer --> Formatter 
 Formatter --> OUT 
 Scorer --> Rewriter 
 Rewriter -->  Generator
 
 `}}const jt=$t(at&&at.type?at.type:"linear");function Dt(){const Pt=JSON.stringify(ot.exportTeam(et,_e,lt));console.log(Pt),ot.downloadText(Pt,et[_e].name+".js")}return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs(Form$1,{id:ht,onSubmit:function(Pt){return Pt.preventDefault(),!1},children:[jsxRuntimeExports.jsx(Button,{onClick:Dt,style:{float:"right"},variant:"success",children:rt.save}),jsxRuntimeExports.jsx("div",{className:"border p-3 mb-3",children:jsxRuntimeExports.jsxs(Tabs,{defaultActiveKey:"Basics",id:"uncontrolled-tab-example",className:"mb-3",children:[jsxRuntimeExports.jsxs(Tab$1,{eventKey:"Basics",title:"Info",children:[jsxRuntimeExports.jsxs(Row,{className:"mb-3",children:[jsxRuntimeExports.jsx(Form$1.Group,{as:Col,controlId:"openaiKey",children:jsxRuntimeExports.jsxs(Row,{className:"mb-12",children:[jsxRuntimeExports.jsxs(Col,{children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Name"}),jsxRuntimeExports.jsx(Form$1.Control,{type:"text",onChange:Pt=>Ct("name",Pt),value:at&&at.name?at.name:""})]}),jsxRuntimeExports.jsxs(Col,{children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Category"}),jsxRuntimeExports.jsx(CategoriesSelector,{icons:rt,value:at&&typeof at.category=="string"?[at.category]:at&&Array.isArray(at.category)?at.category:[],onChange:Pt=>Et(Pt),defaultOptions:ft?Object.keys(ft):[]})]}),at&&at.type!=="rolesbased"&&jsxRuntimeExports.jsxs(Col,{style:{textAlign:"right"},children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Compress"}),jsxRuntimeExports.jsx(FormCheck$1,{style:{display:"inline",marginRight:"0.2em"},type:"checkbox",checked:!!(at&&at.compress),onChange:Pt=>{_t("compress",Pt)}})]})]})}),jsxRuntimeExports.jsxs(Form$1.Group,{controlId:"openaiKey",children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Welcome Message"}),jsxRuntimeExports.jsx(index$4,{minRows:"1",style:{width:"100%"},onChange:Pt=>wt("welcomeMessage",Pt.target.value),value:at&&at.config&&at.config.welcomeMessage?at.config.welcomeMessage:""})]}),jsxRuntimeExports.jsxs(Form$1.Group,{controlId:"openaiKey",children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Skills"}),jsxRuntimeExports.jsx(index$4,{minRows:"1",style:{width:"100%"},onChange:Pt=>Ct("skills",Pt),value:at&&at.skills?at.skills:""})]})]}),jsxRuntimeExports.jsx(Row,{children:jsxRuntimeExports.jsx(Form$1.Group,{style:{clear:"both",marginBottom:"1em",borderBottom:"1px solid grey"},as:Col,controlId:"openaiKey",children:jsxRuntimeExports.jsxs(Row,{className:"mb-12",children:[jsxRuntimeExports.jsxs(Col,{children:[jsxRuntimeExports.jsxs(Form$1.Label,{children:["Type",jsxRuntimeExports.jsx(HelpDropdown,{style:{marginRight:"1em",float:"left"},title:"Team Type",content:jsxRuntimeExports.jsx("b",{children:"The flow of information between team members can be ..."}),icons:rt})]}),jsxRuntimeExports.jsxs(Form$1.Select,{value:at&&at.type?at.type:"linear",onChange:function(Pt){Ct("type",Pt)},children:[jsxRuntimeExports.jsx("option",{value:"linear",children:"Linear"}),jsxRuntimeExports.jsx("option",{value:"linearcollation",children:"Linear (collate results)"}),jsxRuntimeExports.jsx("option",{value:"parallel",children:"Parallel"}),jsxRuntimeExports.jsx("option",{value:"mixtureofexperts",children:"Mixture Of Experts"}),jsxRuntimeExports.jsx("option",{value:"rolesbased",children:"Roles Based"}),jsxRuntimeExports.jsx("option",{value:"generator",children:"Question Generator"})]})]}),at&&at.type==="mixtureofexperts"&&jsxRuntimeExports.jsx(Col,{children:jsxRuntimeExports.jsxs(Form$1.Group,{controlId:"openaiKey",children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Expert Selector "}),jsxRuntimeExports.jsx(RoleOrTeamSelector,{teamId:_e,rolesOnly:!0,single:!0,defaultTeamOptions:et,utils:ot,value:at&&Array.isArray(at.expert_selector)?at.expert_selector:[],onChange:Pt=>vt("expert_selector",Pt),defaultOptions:lt})]})}),at&&at.type==="generator"&&jsxRuntimeExports.jsx(Col,{children:jsxRuntimeExports.jsxs(Form$1.Group,{controlId:"openaiKey",children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Question Generator"}),jsxRuntimeExports.jsx(RoleOrTeamSelector,{teamId:_e,rolesOnly:!0,single:!0,defaultTeamOptions:et,utils:ot,value:at&&Array.isArray(at.question_generator)?at.question_generator:[],onChange:Pt=>vt("question_generator",Pt),defaultOptions:lt})]})}),at&&at.type==="generator"&&jsxRuntimeExports.jsx(Col,{children:jsxRuntimeExports.jsxs(Form$1.Group,{controlId:"openaiKey",children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Max Generated Items"}),jsxRuntimeExports.jsx(Form$1.Control,{type:"text",onChange:Pt=>Ct("max_generated_items",Pt),value:at&&at.max_generated_items?at.max_generated_items:"2"})]})}),jt&&jsxRuntimeExports.jsx(MermaidViewer,{chart:jt,forceRefresh:it,elementId:"mermaidrenderer_1"})]})})}),jsxRuntimeExports.jsxs(Row,{children:[!(at&&at.type==="rolesbased")&&jsxRuntimeExports.jsxs(Form$1.Group,{style:{borderBottom:"1px solid grey",paddingBottom:"1em",marginBottom:"1em"},controlId:"openaiKey",children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Members"}),jsxRuntimeExports.jsx(RoleOrTeamSelector,{teamId:_e,defaultTeamOptions:et,utils:ot,value:at&&Array.isArray(at.members)?at.members:[],onChange:Pt=>vt("members",Pt),defaultOptions:lt})]}),jsxRuntimeExports.jsxs(Row,{className:"mb-12",children:[at&&at.type==="rolesbased"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Col,{children:jsxRuntimeExports.jsxs(Form$1.Group,{controlId:"openaiKey",children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Blocker"}),jsxRuntimeExports.jsx(RoleOrTeamSelector,{teamId:_e,rolesOnly:!0,single:!0,defaultTeamOptions:et,utils:ot,value:at&&Array.isArray(at.blocker)?at.blocker:[],onChange:Pt=>vt("blocker",Pt),defaultOptions:lt})]})}),jsxRuntimeExports.jsx(Col,{children:jsxRuntimeExports.jsxs(Form$1.Group,{controlId:"openaiKey",children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Feeder"}),jsxRuntimeExports.jsx(RoleOrTeamSelector,{teamId:_e,single:!0,defaultTeamOptions:et,utils:ot,value:at&&Array.isArray(at.feeder)?at.feeder:[],onChange:Pt=>vt("feeder",Pt),defaultOptions:lt})]})}),jsxRuntimeExports.jsx(Col,{children:jsxRuntimeExports.jsxs(Form$1.Group,{controlId:"openaiKey",children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Chain Of Thought Planner"}),jsxRuntimeExports.jsx(RoleOrTeamSelector,{teamId:_e,single:!0,defaultTeamOptions:et,utils:ot,value:at&&Array.isArray(at.planner)?at.planner:[],onChange:Pt=>vt("planner",Pt),defaultOptions:lt})]})}),jsxRuntimeExports.jsx(Col,{children:jsxRuntimeExports.jsxs(Form$1.Group,{controlId:"generator",children:[jsxRuntimeExports.jsxs(Form$1.Label,{children:["Generator ",jsxRuntimeExports.jsx("b",{children:"(* required)"})]}),jsxRuntimeExports.jsx(RoleOrTeamSelector,{teamId:_e,single:!0,defaultTeamOptions:et,utils:ot,value:at&&Array.isArray(at.generator)?at.generator:[],onChange:Pt=>vt("generator",Pt),defaultOptions:lt})]})}),jsxRuntimeExports.jsx(Col,{children:jsxRuntimeExports.jsxs(Form$1.Group,{controlId:"openaiKey",children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Text Reducer"}),jsxRuntimeExports.jsx(RoleOrTeamSelector,{teamId:_e,rolesOnly:!0,single:!0,defaultTeamOptions:et,utils:ot,value:at&&Array.isArray(at.summariser)?at.summariser:[],onChange:Pt=>vt("summariser",Pt),defaultOptions:lt})]})}),jsxRuntimeExports.jsx(Col,{children:jsxRuntimeExports.jsxs(Form$1.Group,{controlId:"openaiKey",children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Scorer"}),jsxRuntimeExports.jsx(RoleOrTeamSelector,{teamId:_e,rolesOnly:!0,single:!0,defaultTeamOptions:et,utils:ot,value:at&&Array.isArray(at.scorer)?at.scorer:[],onChange:Pt=>vt("scorer",Pt),defaultOptions:lt})]})}),jsxRuntimeExports.jsx(Col,{children:jsxRuntimeExports.jsxs(Form$1.Group,{controlId:"openaiKey",children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Max Iterations"}),jsxRuntimeExports.jsx(Form$1.Control,{type:"text",onChange:Pt=>Ct("max_iterations",Pt),value:at&&at.max_iterations?at.max_iterations:"2"})]})}),jsxRuntimeExports.jsx(Col,{children:jsxRuntimeExports.jsxs(Form$1.Group,{controlId:"rewriter",children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Rewriter"}),jsxRuntimeExports.jsx(RoleOrTeamSelector,{teamId:_e,rolesOnly:!0,single:!0,defaultTeamOptions:et,utils:ot,value:at&&Array.isArray(at.rewriter)?at.rewriter:[],onChange:Pt=>vt("rewriter",Pt),defaultOptions:lt})]})})]}),jsxRuntimeExports.jsx(Col,{children:jsxRuntimeExports.jsxs(Form$1.Group,{controlId:"rewriter",children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Formatter"}),jsxRuntimeExports.jsx(RoleOrTeamSelector,{teamId:_e,rolesOnly:!0,single:!0,defaultTeamOptions:et,utils:ot,value:at&&Array.isArray(at.formatter)?at.formatter:[],onChange:Pt=>vt("formatter",Pt),defaultOptions:lt})]})})]})]})]}),jsxRuntimeExports.jsx(Tab$1,{eventKey:"Samples",title:"Examples",children:jsxRuntimeExports.jsx(Row,{children:jsxRuntimeExports.jsx(Col,{children:jsxRuntimeExports.jsxs(Form$1.Group,{controlId:"samples",children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Sample Queries: "}),jsxRuntimeExports.jsx(Form$1.Control,{style:{width:"80%",display:"inline"},type:"text",value:bt||"",onChange:function(Pt){xt(Pt.target.value)}}),jsxRuntimeExports.jsx(Button,{style:{marginLeft:"0.3em",display:"inline"},variant:"success",onClick:function(){mt.push(bt),yt(mt),xt(""),vt("samples",mt)},children:"Add"}),jsxRuntimeExports.jsx("div",{children:mt.map(function(Pt,kt){return jsxRuntimeExports.jsxs(Button,{style:{marginLeft:"0.2em"},variant:"warning",children:[jsxRuntimeExports.jsx(Badge,{onClick:function(){mt.splice(kt,1),yt(mt),vt("samples",mt)},bg:"warning",children:rt.close})," ",Pt]},kt)})})]})})})})]})})]})})}function TeamPage(_e){const{isOnlineRef:et,allowRestart:tt,onCancel:nt,onTranscript:rt,onPartialTranscript:it,bodyStyle:ot,exchangeRate:st,setExchangeRate:ut,updateExchangeRate:ft,modelSelector:dt,creditBalance:lt,updateCreditBalance:at,teamLlm:ct,chatHistoryRoles:ht,setChatHistoryRoles:pt,chatHistoryTeams:mt,setChatHistoryTeams:gt,user:yt,token:bt,login:xt,logout:vt,refresh:wt,doSave:_t,aiUsage:Ct,submitForm:Et,stopAllPlaying:$t,stopLanguageModels:jt,aiLlm:Dt,usingOpenAiTts:Pt,usingSelfHostedTts:kt,usingWebSpeechTts:At,usingMeSpeakTts:Tt,usingTts:St,usingStt:Rt,usingOpenAiStt:Ot,usingSelfHostedStt:Nt,usingLocalStt:It,queueSpeech:Bt,getUrl:zt,playDataUri:Gt,stopPlaying:Kt,isPlaying:fn,setIsPlaying:dn,isMuted:Wt,isMutedRef:rn,mute:Vt,unmute:an,deleteRole:Qt,exportRoles:Zt,importRoles:xn,init:vn,roles:gn,setRoles:Cn,currentRole:kn,setCurrentRole:En,newRole:sn,utteranceQueue:On,setUtteranceQueue:Tn,mergeData:bn,setMergeData:Dn,lastLlmTrigger:Nn,autoStartMicrophone:wn,setAutoStartMicrophone:qn,autoStopMicrophone:or,setAutoStopMicrophone:tr,refreshHash:cr,setRefreshHash:rr,forceRefresh:Vn,hasRequiredConfig:Jt,isSpeaking:pn,setIsSpeaking:$n,isWaiting:jn,startWaiting:Fn,stopWaiting:Ln,userMessage:Xn,userMessageRef:ar,setUserMessage:Qn,isReady:Yt,setIsReady:hn,config:mn,setConfig:yn,llmEnabled:qt,setLlmEnabled:Sn,icons:Bn,configRef:Zn,utils:Hn,newChat:sr,addUserMessage:nr,addAssistantMessage:dr,setLastAssistantMessage:zn,setLastUserMessage:mr,getLastUserMessage:$r,chatHistoryId:lr,chatHistoryIdRef:wr,setChatHistoryId:gr,chatHistories:Kn,setChatHistories:jr,currentChatHistory:Pr,revertChatHistory:Lr,deleteChatHistory:Un,playSpeech:en,duplicateChatHistory:Mn,configIn:Wn,chatHistoriesRef:pr,getLastAssistantChatIndex:Sr,getLastAssistantMessage:kr,categories:_r,setCategories:vr,teams:ur,setTeams:Er,currentTeam:Cr,setCurrentTeam:Dr,currentTeamRef:zr,deleteTeam:Hr,configManager:Or,runtimes:Vr,duplicateRole:Nr,accordionSelectedKey:Lt,setAccordionSelectedKey:Xt,categoryFilter:Ht,setCategoryFilter:on,fileManager:ln,files:tn,exportDocument:An,availableModels:Rn}=_e,_n=useParams();let Mt=useNavigate();reactExports.useEffect(function(){let Ut=ur||{};if(_n.id)_n.id&&(Dr(_n.id),_n.category&&(Ut[_n.id].category=[_n.category]),Ut.hasOwnProperty(_n.id)||(Ut[_n.id]={id:_n.id},_n.category&&(Ut[_n.id].category=[_n.category]),Er(Ut)));else{const cn=Hn.generateRandomId();Dr(cn);let In=mt;In||(In={}),In[lr]=cn,gt(In),Mt("/team/"+cn)}},[_n.id]);function Ft(Ut,cn){console.log("save",Ut,cn,_n.id,ur),ur&&_n.id&&Ut&&(ur.hasOwnProperty(_n.id)||(ur[_n.id]={type:"linear"}),ur[_n.id][Ut]=cn,Er(ur),Vn())}return Hn.summariseConfig(mn),jsxRuntimeExports.jsxs("div",{className:"App",id:cr,children:[jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Menu,{isOnlineRef:et,allowRestart:tt,onCancel:nt,onTranscript:rt,onPartialTranscript:it,bodyStyle:ot,exchangeRate:st,setExchangeRate:ut,updateExchangeRate:ft,modelSelector:dt,creditBalance:lt,updateCreditBalance:at,teamLlm:ct,chatHistoryRoles:ht,setChatHistoryRoles:pt,chatHistoryTeams:mt,setChatHistoryTeams:gt,user:yt,token:bt,login:xt,logout:vt,refresh:wt,doSave:_t,aiUsage:Ct,submitForm:Et,stopAllPlaying:$t,stopLanguageModels:jt,aiLlm:Dt,usingOpenAiTts:Pt,usingSelfHostedTts:kt,usingWebSpeechTts:At,usingMeSpeakTts:Tt,usingTts:St,usingStt:Rt,usingOpenAiStt:Ot,usingSelfHostedStt:Nt,usingLocalStt:It,queueSpeech:Bt,getUrl:zt,playDataUri:Gt,stopPlaying:Kt,isPlaying:fn,setIsPlaying:dn,isMuted:Wt,isMutedRef:rn,mute:Vt,unmute:an,deleteRole:Qt,exportRoles:Zt,importRoles:xn,init:vn,roles:gn,setRoles:Cn,currentRole:kn,setCurrentRole:En,newRole:sn,utteranceQueue:On,setUtteranceQueue:Tn,mergeData:bn,setMergeData:Dn,lastLlmTrigger:Nn,autoStartMicrophone:wn,setAutoStartMicrophone:qn,autoStopMicrophone:or,setAutoStopMicrophone:tr,refreshHash:cr,setRefreshHash:rr,forceRefresh:Vn,hasRequiredConfig:Jt,isSpeaking:pn,setIsSpeaking:$n,isWaiting:jn,startWaiting:Fn,stopWaiting:Ln,userMessage:Xn,userMessageRef:ar,setUserMessage:Qn,isReady:Yt,setIsReady:hn,config:mn,setConfig:yn,llmEnabled:qt,setLlmEnabled:Sn,icons:Bn,configRef:Zn,utils:Hn,newChat:sr,addUserMessage:nr,addAssistantMessage:dr,setLastAssistantMessage:zn,setLastUserMessage:mr,getLastUserMessage:$r,chatHistoryId:lr,chatHistoryIdRef:wr,setChatHistoryId:gr,chatHistories:Kn,setChatHistories:jr,currentChatHistory:Pr,revertChatHistory:Lr,deleteChatHistory:Un,playSpeech:en,duplicateChatHistory:Mn,configIn:Wn,chatHistoriesRef:pr,getLastAssistantChatIndex:Sr,getLastAssistantMessage:kr,categories:_r,setCategories:vr,teams:ur,setTeams:Er,currentTeam:Cr,setCurrentTeam:Dr,currentTeamRef:zr,deleteTeam:Hr,configManager:Or,runtimes:Vr,duplicateRole:Nr,accordionSelectedKey:Lt,setAccordionSelectedKey:Xt,categoryFilter:Ht,setCategoryFilter:on,fileManager:ln,files:tn,exportDocument:An,availableModels:Rn}),jsxRuntimeExports.jsxs("div",{id:"body",style:ot,children:[jsxRuntimeExports.jsx(Button,{style:{float:"left",marginRight:"0.5em"},onClick:function(Ut){Ft("isStarred",!(ur&&Cr&&ur[Cr]&&ur[Cr].isStarred))},variant:ur&&Cr&&ur[Cr]&&ur[Cr].isStarred?"warning":"disabled",children:Bn.star}),jsxRuntimeExports.jsxs("h3",{children:["Edit Team ",ur&&Cr&&ur[Cr]&&ur[Cr].name?" - "+ur[Cr].name:""]}),jsxRuntimeExports.jsx(TeamForm,{config:mn,teamId:_n.id,teamsJSON:JSON.stringify(ur),teams:ur,setTeams:Er,icons:Bn,forceRefresh:Vn,utils:Hn,playSpeech:en,categories:_r,setCategories:vr,roles:gn})]})]}),jsxRuntimeExports.jsx(Footer,{icons:Bn})]})}function r$1(_e){var et,tt,nt="";if(typeof _e=="string"||typeof _e=="number")nt+=_e;else if(typeof _e=="object")if(Array.isArray(_e)){var rt=_e.length;for(et=0;et<rt;et++)_e[et]&&(tt=r$1(_e[et]))&&(nt&&(nt+=" "),nt+=tt)}else for(tt in _e)_e[tt]&&(nt&&(nt+=" "),nt+=tt);return nt}function clsx(){for(var _e,et,tt=0,nt="",rt=arguments.length;tt<rt;tt++)(_e=arguments[tt])&&(et=r$1(_e))&&(nt&&(nt+=" "),nt+=et);return nt}function isDate(_e){return _e instanceof Date||typeof _e=="object"&&Object.prototype.toString.call(_e)==="[object Date]"}function toDate(_e){const et=Object.prototype.toString.call(_e);return _e instanceof Date||typeof _e=="object"&&et==="[object Date]"?new _e.constructor(+_e):typeof _e=="number"||et==="[object Number]"||typeof _e=="string"||et==="[object String]"?new Date(_e):new Date(NaN)}function isValid$1(_e){if(!isDate(_e)&&typeof _e!="number")return!1;const et=toDate(_e);return!isNaN(Number(et))}const formatDistanceLocale={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},formatDistance=(_e,et,tt)=>{let nt;const rt=formatDistanceLocale[_e];return typeof rt=="string"?nt=rt:et===1?nt=rt.one:nt=rt.other.replace("{{count}}",et.toString()),tt!=null&&tt.addSuffix?tt.comparison&&tt.comparison>0?"in "+nt:nt+" ago":nt};function buildFormatLongFn(_e){return(et={})=>{const tt=et.width?String(et.width):_e.defaultWidth;return _e.formats[tt]||_e.formats[_e.defaultWidth]}}const dateFormats$1={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},timeFormats$1={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats$1={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},formatLong$1={date:buildFormatLongFn({formats:dateFormats$1,defaultWidth:"full"}),time:buildFormatLongFn({formats:timeFormats$1,defaultWidth:"full"}),dateTime:buildFormatLongFn({formats:dateTimeFormats$1,defaultWidth:"full"})},formatRelativeLocale={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},formatRelative=(_e,et,tt,nt)=>formatRelativeLocale[_e];function buildLocalizeFn(_e){return(et,tt)=>{const nt=tt!=null&&tt.context?String(tt.context):"standalone";let rt;if(nt==="formatting"&&_e.formattingValues){const ot=_e.defaultFormattingWidth||_e.defaultWidth,st=tt!=null&&tt.width?String(tt.width):ot;rt=_e.formattingValues[st]||_e.formattingValues[ot]}else{const ot=_e.defaultWidth,st=tt!=null&&tt.width?String(tt.width):_e.defaultWidth;rt=_e.values[st]||_e.values[ot]}const it=_e.argumentCallback?_e.argumentCallback(et):et;return rt[it]}}const eraValues={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},quarterValues={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},monthValues={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},dayValues={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},dayPeriodValues={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},formattingDayPeriodValues={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ordinalNumber=(_e,et)=>{const tt=Number(_e),nt=tt%100;if(nt>20||nt<10)switch(nt%10){case 1:return tt+"st";case 2:return tt+"nd";case 3:return tt+"rd"}return tt+"th"},localize={ordinalNumber,era:buildLocalizeFn({values:eraValues,defaultWidth:"wide"}),quarter:buildLocalizeFn({values:quarterValues,defaultWidth:"wide",argumentCallback:_e=>_e-1}),month:buildLocalizeFn({values:monthValues,defaultWidth:"wide"}),day:buildLocalizeFn({values:dayValues,defaultWidth:"wide"}),dayPeriod:buildLocalizeFn({values:dayPeriodValues,defaultWidth:"wide",formattingValues:formattingDayPeriodValues,defaultFormattingWidth:"wide"})};function buildMatchFn(_e){return(et,tt={})=>{const nt=tt.width,rt=nt&&_e.matchPatterns[nt]||_e.matchPatterns[_e.defaultMatchWidth],it=et.match(rt);if(!it)return null;const ot=it[0],st=nt&&_e.parsePatterns[nt]||_e.parsePatterns[_e.defaultParseWidth],ut=Array.isArray(st)?findIndex(st,lt=>lt.test(ot)):findKey(st,lt=>lt.test(ot));let ft;ft=_e.valueCallback?_e.valueCallback(ut):ut,ft=tt.valueCallback?tt.valueCallback(ft):ft;const dt=et.slice(ot.length);return{value:ft,rest:dt}}}function findKey(_e,et){for(const tt in _e)if(Object.prototype.hasOwnProperty.call(_e,tt)&&et(_e[tt]))return tt}function findIndex(_e,et){for(let tt=0;tt<_e.length;tt++)if(et(_e[tt]))return tt}function buildMatchPatternFn(_e){return(et,tt={})=>{const nt=et.match(_e.matchPattern);if(!nt)return null;const rt=nt[0],it=et.match(_e.parsePattern);if(!it)return null;let ot=_e.valueCallback?_e.valueCallback(it[0]):it[0];ot=tt.valueCallback?tt.valueCallback(ot):ot;const st=et.slice(rt.length);return{value:ot,rest:st}}}const matchOrdinalNumberPattern=/^(\d+)(th|st|nd|rd)?/i,parseOrdinalNumberPattern=/\d+/i,matchEraPatterns={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},parseEraPatterns={any:[/^b/i,/^(a|c)/i]},matchQuarterPatterns={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},parseQuarterPatterns={any:[/1/i,/2/i,/3/i,/4/i]},matchMonthPatterns={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},parseMonthPatterns={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},matchDayPatterns={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},parseDayPatterns={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},matchDayPeriodPatterns={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},parseDayPeriodPatterns={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},match={ordinalNumber:buildMatchPatternFn({matchPattern:matchOrdinalNumberPattern,parsePattern:parseOrdinalNumberPattern,valueCallback:_e=>parseInt(_e,10)}),era:buildMatchFn({matchPatterns:matchEraPatterns,defaultMatchWidth:"wide",parsePatterns:parseEraPatterns,defaultParseWidth:"any"}),quarter:buildMatchFn({matchPatterns:matchQuarterPatterns,defaultMatchWidth:"wide",parsePatterns:parseQuarterPatterns,defaultParseWidth:"any",valueCallback:_e=>_e+1}),month:buildMatchFn({matchPatterns:matchMonthPatterns,defaultMatchWidth:"wide",parsePatterns:parseMonthPatterns,defaultParseWidth:"any"}),day:buildMatchFn({matchPatterns:matchDayPatterns,defaultMatchWidth:"wide",parsePatterns:parseDayPatterns,defaultParseWidth:"any"}),dayPeriod:buildMatchFn({matchPatterns:matchDayPeriodPatterns,defaultMatchWidth:"any",parsePatterns:parseDayPeriodPatterns,defaultParseWidth:"any"})},enUS={code:"en-US",formatDistance,formatLong:formatLong$1,formatRelative,localize,match,options:{weekStartsOn:0,firstWeekContainsDate:1}};let defaultOptions={};function getDefaultOptions$1(){return defaultOptions}const millisecondsInWeek=6048e5,millisecondsInDay=864e5,millisecondsInMinute=6e4,millisecondsInHour=36e5,millisecondsInSecond=1e3;function startOfDay(_e){const et=toDate(_e);return et.setHours(0,0,0,0),et}function getTimezoneOffsetInMilliseconds(_e){const et=toDate(_e),tt=new Date(Date.UTC(et.getFullYear(),et.getMonth(),et.getDate(),et.getHours(),et.getMinutes(),et.getSeconds(),et.getMilliseconds()));return tt.setUTCFullYear(et.getFullYear()),+_e-+tt}function differenceInCalendarDays(_e,et){const tt=startOfDay(_e),nt=startOfDay(et),rt=+tt-getTimezoneOffsetInMilliseconds(tt),it=+nt-getTimezoneOffsetInMilliseconds(nt);return Math.round((rt-it)/millisecondsInDay)}function constructFrom(_e,et){return _e instanceof Date?new _e.constructor(et):new Date(et)}function startOfYear(_e){const et=toDate(_e),tt=constructFrom(_e,0);return tt.setFullYear(et.getFullYear(),0,1),tt.setHours(0,0,0,0),tt}function getDayOfYear(_e){const et=toDate(_e);return differenceInCalendarDays(et,startOfYear(et))+1}function startOfWeek(_e,et){var st,ut,ft,dt;const tt=getDefaultOptions$1(),nt=(et==null?void 0:et.weekStartsOn)??((ut=(st=et==null?void 0:et.locale)==null?void 0:st.options)==null?void 0:ut.weekStartsOn)??tt.weekStartsOn??((dt=(ft=tt.locale)==null?void 0:ft.options)==null?void 0:dt.weekStartsOn)??0,rt=toDate(_e),it=rt.getDay(),ot=(it<nt?7:0)+it-nt;return rt.setDate(rt.getDate()-ot),rt.setHours(0,0,0,0),rt}function startOfISOWeek(_e){return startOfWeek(_e,{weekStartsOn:1})}function getISOWeekYear(_e){const et=toDate(_e),tt=et.getFullYear(),nt=constructFrom(_e,0);nt.setFullYear(tt+1,0,4),nt.setHours(0,0,0,0);const rt=startOfISOWeek(nt),it=constructFrom(_e,0);it.setFullYear(tt,0,4),it.setHours(0,0,0,0);const ot=startOfISOWeek(it);return et.getTime()>=rt.getTime()?tt+1:et.getTime()>=ot.getTime()?tt:tt-1}function startOfISOWeekYear(_e){const et=getISOWeekYear(_e),tt=constructFrom(_e,0);return tt.setFullYear(et,0,4),tt.setHours(0,0,0,0),startOfISOWeek(tt)}function getISOWeek(_e){const et=toDate(_e),tt=+startOfISOWeek(et)-+startOfISOWeekYear(et);return Math.round(tt/millisecondsInWeek)+1}function getWeekYear(_e,et){var dt,lt,at,ct;const tt=toDate(_e),nt=tt.getFullYear(),rt=getDefaultOptions$1(),it=(et==null?void 0:et.firstWeekContainsDate)??((lt=(dt=et==null?void 0:et.locale)==null?void 0:dt.options)==null?void 0:lt.firstWeekContainsDate)??rt.firstWeekContainsDate??((ct=(at=rt.locale)==null?void 0:at.options)==null?void 0:ct.firstWeekContainsDate)??1,ot=constructFrom(_e,0);ot.setFullYear(nt+1,0,it),ot.setHours(0,0,0,0);const st=startOfWeek(ot,et),ut=constructFrom(_e,0);ut.setFullYear(nt,0,it),ut.setHours(0,0,0,0);const ft=startOfWeek(ut,et);return tt.getTime()>=st.getTime()?nt+1:tt.getTime()>=ft.getTime()?nt:nt-1}function startOfWeekYear(_e,et){var st,ut,ft,dt;const tt=getDefaultOptions$1(),nt=(et==null?void 0:et.firstWeekContainsDate)??((ut=(st=et==null?void 0:et.locale)==null?void 0:st.options)==null?void 0:ut.firstWeekContainsDate)??tt.firstWeekContainsDate??((dt=(ft=tt.locale)==null?void 0:ft.options)==null?void 0:dt.firstWeekContainsDate)??1,rt=getWeekYear(_e,et),it=constructFrom(_e,0);return it.setFullYear(rt,0,nt),it.setHours(0,0,0,0),startOfWeek(it,et)}function getWeek$1(_e,et){const tt=toDate(_e),nt=+startOfWeek(tt,et)-+startOfWeekYear(tt,et);return Math.round(nt/millisecondsInWeek)+1}function addLeadingZeros(_e,et){const tt=_e<0?"-":"",nt=Math.abs(_e).toString().padStart(et,"0");return tt+nt}const lightFormatters={y(_e,et){const tt=_e.getFullYear(),nt=tt>0?tt:1-tt;return addLeadingZeros(et==="yy"?nt%100:nt,et.length)},M(_e,et){const tt=_e.getMonth();return et==="M"?String(tt+1):addLeadingZeros(tt+1,2)},d(_e,et){return addLeadingZeros(_e.getDate(),et.length)},a(_e,et){const tt=_e.getHours()/12>=1?"pm":"am";switch(et){case"a":case"aa":return tt.toUpperCase();case"aaa":return tt;case"aaaaa":return tt[0];case"aaaa":default:return tt==="am"?"a.m.":"p.m."}},h(_e,et){return addLeadingZeros(_e.getHours()%12||12,et.length)},H(_e,et){return addLeadingZeros(_e.getHours(),et.length)},m(_e,et){return addLeadingZeros(_e.getMinutes(),et.length)},s(_e,et){return addLeadingZeros(_e.getSeconds(),et.length)},S(_e,et){const tt=et.length,nt=_e.getMilliseconds(),rt=Math.trunc(nt*Math.pow(10,tt-3));return addLeadingZeros(rt,et.length)}},dayPeriodEnum={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},formatters={G:function(_e,et,tt){const nt=_e.getFullYear()>0?1:0;switch(et){case"G":case"GG":case"GGG":return tt.era(nt,{width:"abbreviated"});case"GGGGG":return tt.era(nt,{width:"narrow"});case"GGGG":default:return tt.era(nt,{width:"wide"})}},y:function(_e,et,tt){if(et==="yo"){const nt=_e.getFullYear(),rt=nt>0?nt:1-nt;return tt.ordinalNumber(rt,{unit:"year"})}return lightFormatters.y(_e,et)},Y:function(_e,et,tt,nt){const rt=getWeekYear(_e,nt),it=rt>0?rt:1-rt;if(et==="YY"){const ot=it%100;return addLeadingZeros(ot,2)}return et==="Yo"?tt.ordinalNumber(it,{unit:"year"}):addLeadingZeros(it,et.length)},R:function(_e,et){const tt=getISOWeekYear(_e);return addLeadingZeros(tt,et.length)},u:function(_e,et){const tt=_e.getFullYear();return addLeadingZeros(tt,et.length)},Q:function(_e,et,tt){const nt=Math.ceil((_e.getMonth()+1)/3);switch(et){case"Q":return String(nt);case"QQ":return addLeadingZeros(nt,2);case"Qo":return tt.ordinalNumber(nt,{unit:"quarter"});case"QQQ":return tt.quarter(nt,{width:"abbreviated",context:"formatting"});case"QQQQQ":return tt.quarter(nt,{width:"narrow",context:"formatting"});case"QQQQ":default:return tt.quarter(nt,{width:"wide",context:"formatting"})}},q:function(_e,et,tt){const nt=Math.ceil((_e.getMonth()+1)/3);switch(et){case"q":return String(nt);case"qq":return addLeadingZeros(nt,2);case"qo":return tt.ordinalNumber(nt,{unit:"quarter"});case"qqq":return tt.quarter(nt,{width:"abbreviated",context:"standalone"});case"qqqqq":return tt.quarter(nt,{width:"narrow",context:"standalone"});case"qqqq":default:return tt.quarter(nt,{width:"wide",context:"standalone"})}},M:function(_e,et,tt){const nt=_e.getMonth();switch(et){case"M":case"MM":return lightFormatters.M(_e,et);case"Mo":return tt.ordinalNumber(nt+1,{unit:"month"});case"MMM":return tt.month(nt,{width:"abbreviated",context:"formatting"});case"MMMMM":return tt.month(nt,{width:"narrow",context:"formatting"});case"MMMM":default:return tt.month(nt,{width:"wide",context:"formatting"})}},L:function(_e,et,tt){const nt=_e.getMonth();switch(et){case"L":return String(nt+1);case"LL":return addLeadingZeros(nt+1,2);case"Lo":return tt.ordinalNumber(nt+1,{unit:"month"});case"LLL":return tt.month(nt,{width:"abbreviated",context:"standalone"});case"LLLLL":return tt.month(nt,{width:"narrow",context:"standalone"});case"LLLL":default:return tt.month(nt,{width:"wide",context:"standalone"})}},w:function(_e,et,tt,nt){const rt=getWeek$1(_e,nt);return et==="wo"?tt.ordinalNumber(rt,{unit:"week"}):addLeadingZeros(rt,et.length)},I:function(_e,et,tt){const nt=getISOWeek(_e);return et==="Io"?tt.ordinalNumber(nt,{unit:"week"}):addLeadingZeros(nt,et.length)},d:function(_e,et,tt){return et==="do"?tt.ordinalNumber(_e.getDate(),{unit:"date"}):lightFormatters.d(_e,et)},D:function(_e,et,tt){const nt=getDayOfYear(_e);return et==="Do"?tt.ordinalNumber(nt,{unit:"dayOfYear"}):addLeadingZeros(nt,et.length)},E:function(_e,et,tt){const nt=_e.getDay();switch(et){case"E":case"EE":case"EEE":return tt.day(nt,{width:"abbreviated",context:"formatting"});case"EEEEE":return tt.day(nt,{width:"narrow",context:"formatting"});case"EEEEEE":return tt.day(nt,{width:"short",context:"formatting"});case"EEEE":default:return tt.day(nt,{width:"wide",context:"formatting"})}},e:function(_e,et,tt,nt){const rt=_e.getDay(),it=(rt-nt.weekStartsOn+8)%7||7;switch(et){case"e":return String(it);case"ee":return addLeadingZeros(it,2);case"eo":return tt.ordinalNumber(it,{unit:"day"});case"eee":return tt.day(rt,{width:"abbreviated",context:"formatting"});case"eeeee":return tt.day(rt,{width:"narrow",context:"formatting"});case"eeeeee":return tt.day(rt,{width:"short",context:"formatting"});case"eeee":default:return tt.day(rt,{width:"wide",context:"formatting"})}},c:function(_e,et,tt,nt){const rt=_e.getDay(),it=(rt-nt.weekStartsOn+8)%7||7;switch(et){case"c":return String(it);case"cc":return addLeadingZeros(it,et.length);case"co":return tt.ordinalNumber(it,{unit:"day"});case"ccc":return tt.day(rt,{width:"abbreviated",context:"standalone"});case"ccccc":return tt.day(rt,{width:"narrow",context:"standalone"});case"cccccc":return tt.day(rt,{width:"short",context:"standalone"});case"cccc":default:return tt.day(rt,{width:"wide",context:"standalone"})}},i:function(_e,et,tt){const nt=_e.getDay(),rt=nt===0?7:nt;switch(et){case"i":return String(rt);case"ii":return addLeadingZeros(rt,et.length);case"io":return tt.ordinalNumber(rt,{unit:"day"});case"iii":return tt.day(nt,{width:"abbreviated",context:"formatting"});case"iiiii":return tt.day(nt,{width:"narrow",context:"formatting"});case"iiiiii":return tt.day(nt,{width:"short",context:"formatting"});case"iiii":default:return tt.day(nt,{width:"wide",context:"formatting"})}},a:function(_e,et,tt){const rt=_e.getHours()/12>=1?"pm":"am";switch(et){case"a":case"aa":return tt.dayPeriod(rt,{width:"abbreviated",context:"formatting"});case"aaa":return tt.dayPeriod(rt,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return tt.dayPeriod(rt,{width:"narrow",context:"formatting"});case"aaaa":default:return tt.dayPeriod(rt,{width:"wide",context:"formatting"})}},b:function(_e,et,tt){const nt=_e.getHours();let rt;switch(nt===12?rt=dayPeriodEnum.noon:nt===0?rt=dayPeriodEnum.midnight:rt=nt/12>=1?"pm":"am",et){case"b":case"bb":return tt.dayPeriod(rt,{width:"abbreviated",context:"formatting"});case"bbb":return tt.dayPeriod(rt,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return tt.dayPeriod(rt,{width:"narrow",context:"formatting"});case"bbbb":default:return tt.dayPeriod(rt,{width:"wide",context:"formatting"})}},B:function(_e,et,tt){const nt=_e.getHours();let rt;switch(nt>=17?rt=dayPeriodEnum.evening:nt>=12?rt=dayPeriodEnum.afternoon:nt>=4?rt=dayPeriodEnum.morning:rt=dayPeriodEnum.night,et){case"B":case"BB":case"BBB":return tt.dayPeriod(rt,{width:"abbreviated",context:"formatting"});case"BBBBB":return tt.dayPeriod(rt,{width:"narrow",context:"formatting"});case"BBBB":default:return tt.dayPeriod(rt,{width:"wide",context:"formatting"})}},h:function(_e,et,tt){if(et==="ho"){let nt=_e.getHours()%12;return nt===0&&(nt=12),tt.ordinalNumber(nt,{unit:"hour"})}return lightFormatters.h(_e,et)},H:function(_e,et,tt){return et==="Ho"?tt.ordinalNumber(_e.getHours(),{unit:"hour"}):lightFormatters.H(_e,et)},K:function(_e,et,tt){const nt=_e.getHours()%12;return et==="Ko"?tt.ordinalNumber(nt,{unit:"hour"}):addLeadingZeros(nt,et.length)},k:function(_e,et,tt){let nt=_e.getHours();return nt===0&&(nt=24),et==="ko"?tt.ordinalNumber(nt,{unit:"hour"}):addLeadingZeros(nt,et.length)},m:function(_e,et,tt){return et==="mo"?tt.ordinalNumber(_e.getMinutes(),{unit:"minute"}):lightFormatters.m(_e,et)},s:function(_e,et,tt){return et==="so"?tt.ordinalNumber(_e.getSeconds(),{unit:"second"}):lightFormatters.s(_e,et)},S:function(_e,et){return lightFormatters.S(_e,et)},X:function(_e,et,tt){const nt=_e.getTimezoneOffset();if(nt===0)return"Z";switch(et){case"X":return formatTimezoneWithOptionalMinutes(nt);case"XXXX":case"XX":return formatTimezone(nt);case"XXXXX":case"XXX":default:return formatTimezone(nt,":")}},x:function(_e,et,tt){const nt=_e.getTimezoneOffset();switch(et){case"x":return formatTimezoneWithOptionalMinutes(nt);case"xxxx":case"xx":return formatTimezone(nt);case"xxxxx":case"xxx":default:return formatTimezone(nt,":")}},O:function(_e,et,tt){const nt=_e.getTimezoneOffset();switch(et){case"O":case"OO":case"OOO":return"GMT"+formatTimezoneShort(nt,":");case"OOOO":default:return"GMT"+formatTimezone(nt,":")}},z:function(_e,et,tt){const nt=_e.getTimezoneOffset();switch(et){case"z":case"zz":case"zzz":return"GMT"+formatTimezoneShort(nt,":");case"zzzz":default:return"GMT"+formatTimezone(nt,":")}},t:function(_e,et,tt){const nt=Math.trunc(_e.getTime()/1e3);return addLeadingZeros(nt,et.length)},T:function(_e,et,tt){const nt=_e.getTime();return addLeadingZeros(nt,et.length)}};function formatTimezoneShort(_e,et=""){const tt=_e>0?"-":"+",nt=Math.abs(_e),rt=Math.trunc(nt/60),it=nt%60;return it===0?tt+String(rt):tt+String(rt)+et+addLeadingZeros(it,2)}function formatTimezoneWithOptionalMinutes(_e,et){return _e%60===0?(_e>0?"-":"+")+addLeadingZeros(Math.abs(_e)/60,2):formatTimezone(_e,et)}function formatTimezone(_e,et=""){const tt=_e>0?"-":"+",nt=Math.abs(_e),rt=addLeadingZeros(Math.trunc(nt/60),2),it=addLeadingZeros(nt%60,2);return tt+rt+et+it}const dateLongFormatter=(_e,et)=>{switch(_e){case"P":return et.date({width:"short"});case"PP":return et.date({width:"medium"});case"PPP":return et.date({width:"long"});case"PPPP":default:return et.date({width:"full"})}},timeLongFormatter=(_e,et)=>{switch(_e){case"p":return et.time({width:"short"});case"pp":return et.time({width:"medium"});case"ppp":return et.time({width:"long"});case"pppp":default:return et.time({width:"full"})}},dateTimeLongFormatter=(_e,et)=>{const tt=_e.match(/(P+)(p+)?/)||[],nt=tt[1],rt=tt[2];if(!rt)return dateLongFormatter(_e,et);let it;switch(nt){case"P":it=et.dateTime({width:"short"});break;case"PP":it=et.dateTime({width:"medium"});break;case"PPP":it=et.dateTime({width:"long"});break;case"PPPP":default:it=et.dateTime({width:"full"});break}return it.replace("{{date}}",dateLongFormatter(nt,et)).replace("{{time}}",timeLongFormatter(rt,et))},longFormatters={p:timeLongFormatter,P:dateTimeLongFormatter},dayOfYearTokenRE=/^D+$/,weekYearTokenRE=/^Y+$/,throwTokens=["D","DD","YY","YYYY"];function isProtectedDayOfYearToken(_e){return dayOfYearTokenRE.test(_e)}function isProtectedWeekYearToken(_e){return weekYearTokenRE.test(_e)}function warnOrThrowProtectedError(_e,et,tt){const nt=message(_e,et,tt);if(console.warn(nt),throwTokens.includes(_e))throw new RangeError(nt)}function message(_e,et,tt){const nt=_e[0]==="Y"?"years":"days of the month";return`Use \`${_e.toLowerCase()}\` instead of \`${_e}\` (in \`${et}\`) for formatting ${nt} to the input \`${tt}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const formattingTokensRegExp$1=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,longFormattingTokensRegExp$2=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,escapedStringRegExp$1=/^'([^]*?)'?$/,doubleQuoteRegExp$1=/''/g,unescapedLatinCharacterRegExp$1=/[a-zA-Z]/;function format(_e,et,tt){var dt,lt,at,ct,ht,pt,mt,gt;const nt=getDefaultOptions$1(),rt=(tt==null?void 0:tt.locale)??nt.locale??enUS,it=(tt==null?void 0:tt.firstWeekContainsDate)??((lt=(dt=tt==null?void 0:tt.locale)==null?void 0:dt.options)==null?void 0:lt.firstWeekContainsDate)??nt.firstWeekContainsDate??((ct=(at=nt.locale)==null?void 0:at.options)==null?void 0:ct.firstWeekContainsDate)??1,ot=(tt==null?void 0:tt.weekStartsOn)??((pt=(ht=tt==null?void 0:tt.locale)==null?void 0:ht.options)==null?void 0:pt.weekStartsOn)??nt.weekStartsOn??((gt=(mt=nt.locale)==null?void 0:mt.options)==null?void 0:gt.weekStartsOn)??0,st=toDate(_e);if(!isValid$1(st))throw new RangeError("Invalid time value");let ut=et.match(longFormattingTokensRegExp$2).map(yt=>{const bt=yt[0];if(bt==="p"||bt==="P"){const xt=longFormatters[bt];return xt(yt,rt.formatLong)}return yt}).join("").match(formattingTokensRegExp$1).map(yt=>{if(yt==="''")return{isToken:!1,value:"'"};const bt=yt[0];if(bt==="'")return{isToken:!1,value:cleanEscapedString$1(yt)};if(formatters[bt])return{isToken:!0,value:yt};if(bt.match(unescapedLatinCharacterRegExp$1))throw new RangeError("Format string contains an unescaped latin alphabet character `"+bt+"`");return{isToken:!1,value:yt}});rt.localize.preprocessor&&(ut=rt.localize.preprocessor(st,ut));const ft={firstWeekContainsDate:it,weekStartsOn:ot,locale:rt};return ut.map(yt=>{if(!yt.isToken)return yt.value;const bt=yt.value;(!(tt!=null&&tt.useAdditionalWeekYearTokens)&&isProtectedWeekYearToken(bt)||!(tt!=null&&tt.useAdditionalDayOfYearTokens)&&isProtectedDayOfYearToken(bt))&&warnOrThrowProtectedError(bt,et,String(_e));const xt=formatters[bt[0]];return xt(st,bt,rt.localize,ft)}).join("")}function cleanEscapedString$1(_e){const et=_e.match(escapedStringRegExp$1);return et?et[1].replace(doubleQuoteRegExp$1,"'"):_e}function addMilliseconds(_e,et){const tt=+toDate(_e);return constructFrom(_e,tt+et)}function addMinutes(_e,et){return addMilliseconds(_e,et*millisecondsInMinute)}function addHours(_e,et){return addMilliseconds(_e,et*millisecondsInHour)}function addDays(_e,et){const tt=toDate(_e);return isNaN(et)?constructFrom(_e,NaN):(et&&tt.setDate(tt.getDate()+et),tt)}function addWeeks(_e,et){const tt=et*7;return addDays(_e,tt)}function addMonths(_e,et){const tt=toDate(_e);if(isNaN(et))return constructFrom(_e,NaN);if(!et)return tt;const nt=tt.getDate(),rt=constructFrom(_e,tt.getTime());rt.setMonth(tt.getMonth()+et+1,0);const it=rt.getDate();return nt>=it?rt:(tt.setFullYear(rt.getFullYear(),rt.getMonth(),nt),tt)}function addQuarters(_e,et){const tt=et*3;return addMonths(_e,tt)}function addYears(_e,et){return addMonths(_e,et*12)}function subDays(_e,et){return addDays(_e,-et)}function subWeeks(_e,et){return addWeeks(_e,-et)}function subMonths(_e,et){return addMonths(_e,-et)}function subQuarters(_e,et){return addQuarters(_e,-et)}function subYears(_e,et){return addYears(_e,-et)}function getSeconds(_e){return toDate(_e).getSeconds()}function getMinutes(_e){return toDate(_e).getMinutes()}function getHours(_e){return toDate(_e).getHours()}function getDay(_e){return toDate(_e).getDay()}function getDate(_e){return toDate(_e).getDate()}function getMonth(_e){return toDate(_e).getMonth()}function getQuarter(_e){const et=toDate(_e);return Math.trunc(et.getMonth()/3)+1}function getYear(_e){return toDate(_e).getFullYear()}function getTime(_e){return toDate(_e).getTime()}function setSeconds(_e,et){const tt=toDate(_e);return tt.setSeconds(et),tt}function setMinutes(_e,et){const tt=toDate(_e);return tt.setMinutes(et),tt}function setHours(_e,et){const tt=toDate(_e);return tt.setHours(et),tt}function getDaysInMonth(_e){const et=toDate(_e),tt=et.getFullYear(),nt=et.getMonth(),rt=constructFrom(_e,0);return rt.setFullYear(tt,nt+1,0),rt.setHours(0,0,0,0),rt.getDate()}function setMonth(_e,et){const tt=toDate(_e),nt=tt.getFullYear(),rt=tt.getDate(),it=constructFrom(_e,0);it.setFullYear(nt,et,15),it.setHours(0,0,0,0);const ot=getDaysInMonth(it);return tt.setMonth(et,Math.min(rt,ot)),tt}function setQuarter(_e,et){const tt=toDate(_e),nt=Math.trunc(tt.getMonth()/3)+1,rt=et-nt;return setMonth(tt,tt.getMonth()+rt*3)}function setYear(_e,et){const tt=toDate(_e);return isNaN(+tt)?constructFrom(_e,NaN):(tt.setFullYear(et),tt)}function min$1(_e){let et;return _e.forEach(tt=>{const nt=toDate(tt);(!et||et>nt||isNaN(+nt))&&(et=nt)}),et||new Date(NaN)}function max$1(_e){let et;return _e.forEach(function(tt){const nt=toDate(tt);(et===void 0||et<nt||isNaN(Number(nt)))&&(et=nt)}),et||new Date(NaN)}function differenceInCalendarMonths(_e,et){const tt=toDate(_e),nt=toDate(et),rt=tt.getFullYear()-nt.getFullYear(),it=tt.getMonth()-nt.getMonth();return rt*12+it}function differenceInCalendarYears(_e,et){const tt=toDate(_e),nt=toDate(et);return tt.getFullYear()-nt.getFullYear()}function differenceInCalendarQuarters(_e,et){const tt=toDate(_e),nt=toDate(et),rt=tt.getFullYear()-nt.getFullYear(),it=getQuarter(tt)-getQuarter(nt);return rt*4+it}function startOfMonth(_e){const et=toDate(_e);return et.setDate(1),et.setHours(0,0,0,0),et}function startOfQuarter(_e){const et=toDate(_e),tt=et.getMonth(),nt=tt-tt%3;return et.setMonth(nt,1),et.setHours(0,0,0,0),et}function endOfDay(_e){const et=toDate(_e);return et.setHours(23,59,59,999),et}function endOfWeek(_e,et){var st,ut;const tt=getDefaultOptions$1(),nt=tt.weekStartsOn??((ut=(st=tt.locale)==null?void 0:st.options)==null?void 0:ut.weekStartsOn)??0,rt=toDate(_e),it=rt.getDay(),ot=(it<nt?-7:0)+6-(it-nt);return rt.setDate(rt.getDate()+ot),rt.setHours(23,59,59,999),rt}function endOfMonth(_e){const et=toDate(_e),tt=et.getMonth();return et.setFullYear(et.getFullYear(),tt+1,0),et.setHours(23,59,59,999),et}function endOfYear(_e){const et=toDate(_e),tt=et.getFullYear();return et.setFullYear(tt+1,0,0),et.setHours(23,59,59,999),et}function isEqual$1(_e,et){const tt=toDate(_e),nt=toDate(et);return+tt==+nt}function isSameDay$1(_e,et){const tt=startOfDay(_e),nt=startOfDay(et);return+tt==+nt}function isSameMonth$1(_e,et){const tt=toDate(_e),nt=toDate(et);return tt.getFullYear()===nt.getFullYear()&&tt.getMonth()===nt.getMonth()}function isSameYear$1(_e,et){const tt=toDate(_e),nt=toDate(et);return tt.getFullYear()===nt.getFullYear()}function isSameQuarter$1(_e,et){const tt=startOfQuarter(_e),nt=startOfQuarter(et);return+tt==+nt}function isAfter(_e,et){const tt=toDate(_e),nt=toDate(et);return tt.getTime()>nt.getTime()}function isBefore(_e,et){const tt=toDate(_e),nt=toDate(et);return+tt<+nt}function isWithinInterval(_e,et){const tt=+toDate(_e),[nt,rt]=[+toDate(et.start),+toDate(et.end)].sort((it,ot)=>it-ot);return tt>=nt&&tt<=rt}function getDefaultOptions(){return Object.assign({},getDefaultOptions$1())}function transpose(_e,et){const tt=et instanceof Date?constructFrom(et,0):new et(0);return tt.setFullYear(_e.getFullYear(),_e.getMonth(),_e.getDate()),tt.setHours(_e.getHours(),_e.getMinutes(),_e.getSeconds(),_e.getMilliseconds()),tt}const TIMEZONE_UNIT_PRIORITY=10;class Setter{constructor(){Jn(this,"subPriority",0)}validate(et,tt){return!0}}class ValueSetter extends Setter{constructor(et,tt,nt,rt,it){super(),this.value=et,this.validateValue=tt,this.setValue=nt,this.priority=rt,it&&(this.subPriority=it)}validate(et,tt){return this.validateValue(et,this.value,tt)}set(et,tt,nt){return this.setValue(et,tt,this.value,nt)}}class DateToSystemTimezoneSetter extends Setter{constructor(){super(...arguments);Jn(this,"priority",TIMEZONE_UNIT_PRIORITY);Jn(this,"subPriority",-1)}set(tt,nt){return nt.timestampIsSet?tt:constructFrom(tt,transpose(tt,Date))}}class Parser{run(et,tt,nt,rt){const it=this.parse(et,tt,nt,rt);return it?{setter:new ValueSetter(it.value,this.validate,this.set,this.priority,this.subPriority),rest:it.rest}:null}validate(et,tt,nt){return!0}}class EraParser extends Parser{constructor(){super(...arguments);Jn(this,"priority",140);Jn(this,"incompatibleTokens",["R","u","t","T"])}parse(tt,nt,rt){switch(nt){case"G":case"GG":case"GGG":return rt.era(tt,{width:"abbreviated"})||rt.era(tt,{width:"narrow"});case"GGGGG":return rt.era(tt,{width:"narrow"});case"GGGG":default:return rt.era(tt,{width:"wide"})||rt.era(tt,{width:"abbreviated"})||rt.era(tt,{width:"narrow"})}}set(tt,nt,rt){return nt.era=rt,tt.setFullYear(rt,0,1),tt.setHours(0,0,0,0),tt}}const numericPatterns={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},timezonePatterns={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function mapValue(_e,et){return _e&&{value:et(_e.value),rest:_e.rest}}function parseNumericPattern(_e,et){const tt=et.match(_e);return tt?{value:parseInt(tt[0],10),rest:et.slice(tt[0].length)}:null}function parseTimezonePattern(_e,et){const tt=et.match(_e);if(!tt)return null;if(tt[0]==="Z")return{value:0,rest:et.slice(1)};const nt=tt[1]==="+"?1:-1,rt=tt[2]?parseInt(tt[2],10):0,it=tt[3]?parseInt(tt[3],10):0,ot=tt[5]?parseInt(tt[5],10):0;return{value:nt*(rt*millisecondsInHour+it*millisecondsInMinute+ot*millisecondsInSecond),rest:et.slice(tt[0].length)}}function parseAnyDigitsSigned(_e){return parseNumericPattern(numericPatterns.anyDigitsSigned,_e)}function parseNDigits(_e,et){switch(_e){case 1:return parseNumericPattern(numericPatterns.singleDigit,et);case 2:return parseNumericPattern(numericPatterns.twoDigits,et);case 3:return parseNumericPattern(numericPatterns.threeDigits,et);case 4:return parseNumericPattern(numericPatterns.fourDigits,et);default:return parseNumericPattern(new RegExp("^\\d{1,"+_e+"}"),et)}}function parseNDigitsSigned(_e,et){switch(_e){case 1:return parseNumericPattern(numericPatterns.singleDigitSigned,et);case 2:return parseNumericPattern(numericPatterns.twoDigitsSigned,et);case 3:return parseNumericPattern(numericPatterns.threeDigitsSigned,et);case 4:return parseNumericPattern(numericPatterns.fourDigitsSigned,et);default:return parseNumericPattern(new RegExp("^-?\\d{1,"+_e+"}"),et)}}function dayPeriodEnumToHours(_e){switch(_e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function normalizeTwoDigitYear(_e,et){const tt=et>0,nt=tt?et:1-et;let rt;if(nt<=50)rt=_e||100;else{const it=nt+50,ot=Math.trunc(it/100)*100,st=_e>=it%100;rt=_e+ot-(st?100:0)}return tt?rt:1-rt}function isLeapYearIndex$1(_e){return _e%400===0||_e%4===0&&_e%100!==0}class YearParser extends Parser{constructor(){super(...arguments);Jn(this,"priority",130);Jn(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(tt,nt,rt){const it=ot=>({year:ot,isTwoDigitYear:nt==="yy"});switch(nt){case"y":return mapValue(parseNDigits(4,tt),it);case"yo":return mapValue(rt.ordinalNumber(tt,{unit:"year"}),it);default:return mapValue(parseNDigits(nt.length,tt),it)}}validate(tt,nt){return nt.isTwoDigitYear||nt.year>0}set(tt,nt,rt){const it=tt.getFullYear();if(rt.isTwoDigitYear){const st=normalizeTwoDigitYear(rt.year,it);return tt.setFullYear(st,0,1),tt.setHours(0,0,0,0),tt}const ot=!("era"in nt)||nt.era===1?rt.year:1-rt.year;return tt.setFullYear(ot,0,1),tt.setHours(0,0,0,0),tt}}class LocalWeekYearParser extends Parser{constructor(){super(...arguments);Jn(this,"priority",130);Jn(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(tt,nt,rt){const it=ot=>({year:ot,isTwoDigitYear:nt==="YY"});switch(nt){case"Y":return mapValue(parseNDigits(4,tt),it);case"Yo":return mapValue(rt.ordinalNumber(tt,{unit:"year"}),it);default:return mapValue(parseNDigits(nt.length,tt),it)}}validate(tt,nt){return nt.isTwoDigitYear||nt.year>0}set(tt,nt,rt,it){const ot=getWeekYear(tt,it);if(rt.isTwoDigitYear){const ut=normalizeTwoDigitYear(rt.year,ot);return tt.setFullYear(ut,0,it.firstWeekContainsDate),tt.setHours(0,0,0,0),startOfWeek(tt,it)}const st=!("era"in nt)||nt.era===1?rt.year:1-rt.year;return tt.setFullYear(st,0,it.firstWeekContainsDate),tt.setHours(0,0,0,0),startOfWeek(tt,it)}}class ISOWeekYearParser extends Parser{constructor(){super(...arguments);Jn(this,"priority",130);Jn(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(tt,nt){return parseNDigitsSigned(nt==="R"?4:nt.length,tt)}set(tt,nt,rt){const it=constructFrom(tt,0);return it.setFullYear(rt,0,4),it.setHours(0,0,0,0),startOfISOWeek(it)}}class ExtendedYearParser extends Parser{constructor(){super(...arguments);Jn(this,"priority",130);Jn(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(tt,nt){return parseNDigitsSigned(nt==="u"?4:nt.length,tt)}set(tt,nt,rt){return tt.setFullYear(rt,0,1),tt.setHours(0,0,0,0),tt}}class QuarterParser extends Parser{constructor(){super(...arguments);Jn(this,"priority",120);Jn(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(tt,nt,rt){switch(nt){case"Q":case"QQ":return parseNDigits(nt.length,tt);case"Qo":return rt.ordinalNumber(tt,{unit:"quarter"});case"QQQ":return rt.quarter(tt,{width:"abbreviated",context:"formatting"})||rt.quarter(tt,{width:"narrow",context:"formatting"});case"QQQQQ":return rt.quarter(tt,{width:"narrow",context:"formatting"});case"QQQQ":default:return rt.quarter(tt,{width:"wide",context:"formatting"})||rt.quarter(tt,{width:"abbreviated",context:"formatting"})||rt.quarter(tt,{width:"narrow",context:"formatting"})}}validate(tt,nt){return nt>=1&&nt<=4}set(tt,nt,rt){return tt.setMonth((rt-1)*3,1),tt.setHours(0,0,0,0),tt}}class StandAloneQuarterParser extends Parser{constructor(){super(...arguments);Jn(this,"priority",120);Jn(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(tt,nt,rt){switch(nt){case"q":case"qq":return parseNDigits(nt.length,tt);case"qo":return rt.ordinalNumber(tt,{unit:"quarter"});case"qqq":return rt.quarter(tt,{width:"abbreviated",context:"standalone"})||rt.quarter(tt,{width:"narrow",context:"standalone"});case"qqqqq":return rt.quarter(tt,{width:"narrow",context:"standalone"});case"qqqq":default:return rt.quarter(tt,{width:"wide",context:"standalone"})||rt.quarter(tt,{width:"abbreviated",context:"standalone"})||rt.quarter(tt,{width:"narrow",context:"standalone"})}}validate(tt,nt){return nt>=1&&nt<=4}set(tt,nt,rt){return tt.setMonth((rt-1)*3,1),tt.setHours(0,0,0,0),tt}}class MonthParser extends Parser{constructor(){super(...arguments);Jn(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Jn(this,"priority",110)}parse(tt,nt,rt){const it=ot=>ot-1;switch(nt){case"M":return mapValue(parseNumericPattern(numericPatterns.month,tt),it);case"MM":return mapValue(parseNDigits(2,tt),it);case"Mo":return mapValue(rt.ordinalNumber(tt,{unit:"month"}),it);case"MMM":return rt.month(tt,{width:"abbreviated",context:"formatting"})||rt.month(tt,{width:"narrow",context:"formatting"});case"MMMMM":return rt.month(tt,{width:"narrow",context:"formatting"});case"MMMM":default:return rt.month(tt,{width:"wide",context:"formatting"})||rt.month(tt,{width:"abbreviated",context:"formatting"})||rt.month(tt,{width:"narrow",context:"formatting"})}}validate(tt,nt){return nt>=0&&nt<=11}set(tt,nt,rt){return tt.setMonth(rt,1),tt.setHours(0,0,0,0),tt}}class StandAloneMonthParser extends Parser{constructor(){super(...arguments);Jn(this,"priority",110);Jn(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(tt,nt,rt){const it=ot=>ot-1;switch(nt){case"L":return mapValue(parseNumericPattern(numericPatterns.month,tt),it);case"LL":return mapValue(parseNDigits(2,tt),it);case"Lo":return mapValue(rt.ordinalNumber(tt,{unit:"month"}),it);case"LLL":return rt.month(tt,{width:"abbreviated",context:"standalone"})||rt.month(tt,{width:"narrow",context:"standalone"});case"LLLLL":return rt.month(tt,{width:"narrow",context:"standalone"});case"LLLL":default:return rt.month(tt,{width:"wide",context:"standalone"})||rt.month(tt,{width:"abbreviated",context:"standalone"})||rt.month(tt,{width:"narrow",context:"standalone"})}}validate(tt,nt){return nt>=0&&nt<=11}set(tt,nt,rt){return tt.setMonth(rt,1),tt.setHours(0,0,0,0),tt}}function setWeek(_e,et,tt){const nt=toDate(_e),rt=getWeek$1(nt,tt)-et;return nt.setDate(nt.getDate()-rt*7),nt}class LocalWeekParser extends Parser{constructor(){super(...arguments);Jn(this,"priority",100);Jn(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(tt,nt,rt){switch(nt){case"w":return parseNumericPattern(numericPatterns.week,tt);case"wo":return rt.ordinalNumber(tt,{unit:"week"});default:return parseNDigits(nt.length,tt)}}validate(tt,nt){return nt>=1&&nt<=53}set(tt,nt,rt,it){return startOfWeek(setWeek(tt,rt,it),it)}}function setISOWeek(_e,et){const tt=toDate(_e),nt=getISOWeek(tt)-et;return tt.setDate(tt.getDate()-nt*7),tt}class ISOWeekParser extends Parser{constructor(){super(...arguments);Jn(this,"priority",100);Jn(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(tt,nt,rt){switch(nt){case"I":return parseNumericPattern(numericPatterns.week,tt);case"Io":return rt.ordinalNumber(tt,{unit:"week"});default:return parseNDigits(nt.length,tt)}}validate(tt,nt){return nt>=1&&nt<=53}set(tt,nt,rt){return startOfISOWeek(setISOWeek(tt,rt))}}const DAYS_IN_MONTH=[31,28,31,30,31,30,31,31,30,31,30,31],DAYS_IN_MONTH_LEAP_YEAR=[31,29,31,30,31,30,31,31,30,31,30,31];class DateParser extends Parser{constructor(){super(...arguments);Jn(this,"priority",90);Jn(this,"subPriority",1);Jn(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(tt,nt,rt){switch(nt){case"d":return parseNumericPattern(numericPatterns.date,tt);case"do":return rt.ordinalNumber(tt,{unit:"date"});default:return parseNDigits(nt.length,tt)}}validate(tt,nt){const rt=tt.getFullYear(),it=isLeapYearIndex$1(rt),ot=tt.getMonth();return it?nt>=1&&nt<=DAYS_IN_MONTH_LEAP_YEAR[ot]:nt>=1&&nt<=DAYS_IN_MONTH[ot]}set(tt,nt,rt){return tt.setDate(rt),tt.setHours(0,0,0,0),tt}}class DayOfYearParser extends Parser{constructor(){super(...arguments);Jn(this,"priority",90);Jn(this,"subpriority",1);Jn(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(tt,nt,rt){switch(nt){case"D":case"DD":return parseNumericPattern(numericPatterns.dayOfYear,tt);case"Do":return rt.ordinalNumber(tt,{unit:"date"});default:return parseNDigits(nt.length,tt)}}validate(tt,nt){const rt=tt.getFullYear();return isLeapYearIndex$1(rt)?nt>=1&&nt<=366:nt>=1&&nt<=365}set(tt,nt,rt){return tt.setMonth(0,rt),tt.setHours(0,0,0,0),tt}}function setDay(_e,et,tt){var lt,at,ct,ht;const nt=getDefaultOptions$1(),rt=(tt==null?void 0:tt.weekStartsOn)??((at=(lt=tt==null?void 0:tt.locale)==null?void 0:lt.options)==null?void 0:at.weekStartsOn)??nt.weekStartsOn??((ht=(ct=nt.locale)==null?void 0:ct.options)==null?void 0:ht.weekStartsOn)??0,it=toDate(_e),ot=it.getDay(),ut=(et%7+7)%7,ft=7-rt,dt=et<0||et>6?et-(ot+ft)%7:(ut+ft)%7-(ot+ft)%7;return addDays(it,dt)}class DayParser extends Parser{constructor(){super(...arguments);Jn(this,"priority",90);Jn(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(tt,nt,rt){switch(nt){case"E":case"EE":case"EEE":return rt.day(tt,{width:"abbreviated",context:"formatting"})||rt.day(tt,{width:"short",context:"formatting"})||rt.day(tt,{width:"narrow",context:"formatting"});case"EEEEE":return rt.day(tt,{width:"narrow",context:"formatting"});case"EEEEEE":return rt.day(tt,{width:"short",context:"formatting"})||rt.day(tt,{width:"narrow",context:"formatting"});case"EEEE":default:return rt.day(tt,{width:"wide",context:"formatting"})||rt.day(tt,{width:"abbreviated",context:"formatting"})||rt.day(tt,{width:"short",context:"formatting"})||rt.day(tt,{width:"narrow",context:"formatting"})}}validate(tt,nt){return nt>=0&&nt<=6}set(tt,nt,rt,it){return tt=setDay(tt,rt,it),tt.setHours(0,0,0,0),tt}}class LocalDayParser extends Parser{constructor(){super(...arguments);Jn(this,"priority",90);Jn(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(tt,nt,rt,it){const ot=st=>{const ut=Math.floor((st-1)/7)*7;return(st+it.weekStartsOn+6)%7+ut};switch(nt){case"e":case"ee":return mapValue(parseNDigits(nt.length,tt),ot);case"eo":return mapValue(rt.ordinalNumber(tt,{unit:"day"}),ot);case"eee":return rt.day(tt,{width:"abbreviated",context:"formatting"})||rt.day(tt,{width:"short",context:"formatting"})||rt.day(tt,{width:"narrow",context:"formatting"});case"eeeee":return rt.day(tt,{width:"narrow",context:"formatting"});case"eeeeee":return rt.day(tt,{width:"short",context:"formatting"})||rt.day(tt,{width:"narrow",context:"formatting"});case"eeee":default:return rt.day(tt,{width:"wide",context:"formatting"})||rt.day(tt,{width:"abbreviated",context:"formatting"})||rt.day(tt,{width:"short",context:"formatting"})||rt.day(tt,{width:"narrow",context:"formatting"})}}validate(tt,nt){return nt>=0&&nt<=6}set(tt,nt,rt,it){return tt=setDay(tt,rt,it),tt.setHours(0,0,0,0),tt}}class StandAloneLocalDayParser extends Parser{constructor(){super(...arguments);Jn(this,"priority",90);Jn(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(tt,nt,rt,it){const ot=st=>{const ut=Math.floor((st-1)/7)*7;return(st+it.weekStartsOn+6)%7+ut};switch(nt){case"c":case"cc":return mapValue(parseNDigits(nt.length,tt),ot);case"co":return mapValue(rt.ordinalNumber(tt,{unit:"day"}),ot);case"ccc":return rt.day(tt,{width:"abbreviated",context:"standalone"})||rt.day(tt,{width:"short",context:"standalone"})||rt.day(tt,{width:"narrow",context:"standalone"});case"ccccc":return rt.day(tt,{width:"narrow",context:"standalone"});case"cccccc":return rt.day(tt,{width:"short",context:"standalone"})||rt.day(tt,{width:"narrow",context:"standalone"});case"cccc":default:return rt.day(tt,{width:"wide",context:"standalone"})||rt.day(tt,{width:"abbreviated",context:"standalone"})||rt.day(tt,{width:"short",context:"standalone"})||rt.day(tt,{width:"narrow",context:"standalone"})}}validate(tt,nt){return nt>=0&&nt<=6}set(tt,nt,rt,it){return tt=setDay(tt,rt,it),tt.setHours(0,0,0,0),tt}}function getISODay(_e){let tt=toDate(_e).getDay();return tt===0&&(tt=7),tt}function setISODay(_e,et){const tt=toDate(_e),nt=getISODay(tt),rt=et-nt;return addDays(tt,rt)}class ISODayParser extends Parser{constructor(){super(...arguments);Jn(this,"priority",90);Jn(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(tt,nt,rt){const it=ot=>ot===0?7:ot;switch(nt){case"i":case"ii":return parseNDigits(nt.length,tt);case"io":return rt.ordinalNumber(tt,{unit:"day"});case"iii":return mapValue(rt.day(tt,{width:"abbreviated",context:"formatting"})||rt.day(tt,{width:"short",context:"formatting"})||rt.day(tt,{width:"narrow",context:"formatting"}),it);case"iiiii":return mapValue(rt.day(tt,{width:"narrow",context:"formatting"}),it);case"iiiiii":return mapValue(rt.day(tt,{width:"short",context:"formatting"})||rt.day(tt,{width:"narrow",context:"formatting"}),it);case"iiii":default:return mapValue(rt.day(tt,{width:"wide",context:"formatting"})||rt.day(tt,{width:"abbreviated",context:"formatting"})||rt.day(tt,{width:"short",context:"formatting"})||rt.day(tt,{width:"narrow",context:"formatting"}),it)}}validate(tt,nt){return nt>=1&&nt<=7}set(tt,nt,rt){return tt=setISODay(tt,rt),tt.setHours(0,0,0,0),tt}}class AMPMParser extends Parser{constructor(){super(...arguments);Jn(this,"priority",80);Jn(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(tt,nt,rt){switch(nt){case"a":case"aa":case"aaa":return rt.dayPeriod(tt,{width:"abbreviated",context:"formatting"})||rt.dayPeriod(tt,{width:"narrow",context:"formatting"});case"aaaaa":return rt.dayPeriod(tt,{width:"narrow",context:"formatting"});case"aaaa":default:return rt.dayPeriod(tt,{width:"wide",context:"formatting"})||rt.dayPeriod(tt,{width:"abbreviated",context:"formatting"})||rt.dayPeriod(tt,{width:"narrow",context:"formatting"})}}set(tt,nt,rt){return tt.setHours(dayPeriodEnumToHours(rt),0,0,0),tt}}class AMPMMidnightParser extends Parser{constructor(){super(...arguments);Jn(this,"priority",80);Jn(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(tt,nt,rt){switch(nt){case"b":case"bb":case"bbb":return rt.dayPeriod(tt,{width:"abbreviated",context:"formatting"})||rt.dayPeriod(tt,{width:"narrow",context:"formatting"});case"bbbbb":return rt.dayPeriod(tt,{width:"narrow",context:"formatting"});case"bbbb":default:return rt.dayPeriod(tt,{width:"wide",context:"formatting"})||rt.dayPeriod(tt,{width:"abbreviated",context:"formatting"})||rt.dayPeriod(tt,{width:"narrow",context:"formatting"})}}set(tt,nt,rt){return tt.setHours(dayPeriodEnumToHours(rt),0,0,0),tt}}class DayPeriodParser extends Parser{constructor(){super(...arguments);Jn(this,"priority",80);Jn(this,"incompatibleTokens",["a","b","t","T"])}parse(tt,nt,rt){switch(nt){case"B":case"BB":case"BBB":return rt.dayPeriod(tt,{width:"abbreviated",context:"formatting"})||rt.dayPeriod(tt,{width:"narrow",context:"formatting"});case"BBBBB":return rt.dayPeriod(tt,{width:"narrow",context:"formatting"});case"BBBB":default:return rt.dayPeriod(tt,{width:"wide",context:"formatting"})||rt.dayPeriod(tt,{width:"abbreviated",context:"formatting"})||rt.dayPeriod(tt,{width:"narrow",context:"formatting"})}}set(tt,nt,rt){return tt.setHours(dayPeriodEnumToHours(rt),0,0,0),tt}}class Hour1to12Parser extends Parser{constructor(){super(...arguments);Jn(this,"priority",70);Jn(this,"incompatibleTokens",["H","K","k","t","T"])}parse(tt,nt,rt){switch(nt){case"h":return parseNumericPattern(numericPatterns.hour12h,tt);case"ho":return rt.ordinalNumber(tt,{unit:"hour"});default:return parseNDigits(nt.length,tt)}}validate(tt,nt){return nt>=1&&nt<=12}set(tt,nt,rt){const it=tt.getHours()>=12;return it&&rt<12?tt.setHours(rt+12,0,0,0):!it&&rt===12?tt.setHours(0,0,0,0):tt.setHours(rt,0,0,0),tt}}class Hour0to23Parser extends Parser{constructor(){super(...arguments);Jn(this,"priority",70);Jn(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(tt,nt,rt){switch(nt){case"H":return parseNumericPattern(numericPatterns.hour23h,tt);case"Ho":return rt.ordinalNumber(tt,{unit:"hour"});default:return parseNDigits(nt.length,tt)}}validate(tt,nt){return nt>=0&&nt<=23}set(tt,nt,rt){return tt.setHours(rt,0,0,0),tt}}class Hour0To11Parser extends Parser{constructor(){super(...arguments);Jn(this,"priority",70);Jn(this,"incompatibleTokens",["h","H","k","t","T"])}parse(tt,nt,rt){switch(nt){case"K":return parseNumericPattern(numericPatterns.hour11h,tt);case"Ko":return rt.ordinalNumber(tt,{unit:"hour"});default:return parseNDigits(nt.length,tt)}}validate(tt,nt){return nt>=0&&nt<=11}set(tt,nt,rt){return tt.getHours()>=12&&rt<12?tt.setHours(rt+12,0,0,0):tt.setHours(rt,0,0,0),tt}}class Hour1To24Parser extends Parser{constructor(){super(...arguments);Jn(this,"priority",70);Jn(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(tt,nt,rt){switch(nt){case"k":return parseNumericPattern(numericPatterns.hour24h,tt);case"ko":return rt.ordinalNumber(tt,{unit:"hour"});default:return parseNDigits(nt.length,tt)}}validate(tt,nt){return nt>=1&&nt<=24}set(tt,nt,rt){const it=rt<=24?rt%24:rt;return tt.setHours(it,0,0,0),tt}}class MinuteParser extends Parser{constructor(){super(...arguments);Jn(this,"priority",60);Jn(this,"incompatibleTokens",["t","T"])}parse(tt,nt,rt){switch(nt){case"m":return parseNumericPattern(numericPatterns.minute,tt);case"mo":return rt.ordinalNumber(tt,{unit:"minute"});default:return parseNDigits(nt.length,tt)}}validate(tt,nt){return nt>=0&&nt<=59}set(tt,nt,rt){return tt.setMinutes(rt,0,0),tt}}class SecondParser extends Parser{constructor(){super(...arguments);Jn(this,"priority",50);Jn(this,"incompatibleTokens",["t","T"])}parse(tt,nt,rt){switch(nt){case"s":return parseNumericPattern(numericPatterns.second,tt);case"so":return rt.ordinalNumber(tt,{unit:"second"});default:return parseNDigits(nt.length,tt)}}validate(tt,nt){return nt>=0&&nt<=59}set(tt,nt,rt){return tt.setSeconds(rt,0),tt}}class FractionOfSecondParser extends Parser{constructor(){super(...arguments);Jn(this,"priority",30);Jn(this,"incompatibleTokens",["t","T"])}parse(tt,nt){const rt=it=>Math.trunc(it*Math.pow(10,-nt.length+3));return mapValue(parseNDigits(nt.length,tt),rt)}set(tt,nt,rt){return tt.setMilliseconds(rt),tt}}class ISOTimezoneWithZParser extends Parser{constructor(){super(...arguments);Jn(this,"priority",10);Jn(this,"incompatibleTokens",["t","T","x"])}parse(tt,nt){switch(nt){case"X":return parseTimezonePattern(timezonePatterns.basicOptionalMinutes,tt);case"XX":return parseTimezonePattern(timezonePatterns.basic,tt);case"XXXX":return parseTimezonePattern(timezonePatterns.basicOptionalSeconds,tt);case"XXXXX":return parseTimezonePattern(timezonePatterns.extendedOptionalSeconds,tt);case"XXX":default:return parseTimezonePattern(timezonePatterns.extended,tt)}}set(tt,nt,rt){return nt.timestampIsSet?tt:constructFrom(tt,tt.getTime()-getTimezoneOffsetInMilliseconds(tt)-rt)}}class ISOTimezoneParser extends Parser{constructor(){super(...arguments);Jn(this,"priority",10);Jn(this,"incompatibleTokens",["t","T","X"])}parse(tt,nt){switch(nt){case"x":return parseTimezonePattern(timezonePatterns.basicOptionalMinutes,tt);case"xx":return parseTimezonePattern(timezonePatterns.basic,tt);case"xxxx":return parseTimezonePattern(timezonePatterns.basicOptionalSeconds,tt);case"xxxxx":return parseTimezonePattern(timezonePatterns.extendedOptionalSeconds,tt);case"xxx":default:return parseTimezonePattern(timezonePatterns.extended,tt)}}set(tt,nt,rt){return nt.timestampIsSet?tt:constructFrom(tt,tt.getTime()-getTimezoneOffsetInMilliseconds(tt)-rt)}}class TimestampSecondsParser extends Parser{constructor(){super(...arguments);Jn(this,"priority",40);Jn(this,"incompatibleTokens","*")}parse(tt){return parseAnyDigitsSigned(tt)}set(tt,nt,rt){return[constructFrom(tt,rt*1e3),{timestampIsSet:!0}]}}class TimestampMillisecondsParser extends Parser{constructor(){super(...arguments);Jn(this,"priority",20);Jn(this,"incompatibleTokens","*")}parse(tt){return parseAnyDigitsSigned(tt)}set(tt,nt,rt){return[constructFrom(tt,rt),{timestampIsSet:!0}]}}const parsers={G:new EraParser,y:new YearParser,Y:new LocalWeekYearParser,R:new ISOWeekYearParser,u:new ExtendedYearParser,Q:new QuarterParser,q:new StandAloneQuarterParser,M:new MonthParser,L:new StandAloneMonthParser,w:new LocalWeekParser,I:new ISOWeekParser,d:new DateParser,D:new DayOfYearParser,E:new DayParser,e:new LocalDayParser,c:new StandAloneLocalDayParser,i:new ISODayParser,a:new AMPMParser,b:new AMPMMidnightParser,B:new DayPeriodParser,h:new Hour1to12Parser,H:new Hour0to23Parser,K:new Hour0To11Parser,k:new Hour1To24Parser,m:new MinuteParser,s:new SecondParser,S:new FractionOfSecondParser,X:new ISOTimezoneWithZParser,x:new ISOTimezoneParser,t:new TimestampSecondsParser,T:new TimestampMillisecondsParser},formattingTokensRegExp=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,longFormattingTokensRegExp$1=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,escapedStringRegExp=/^'([^]*?)'?$/,doubleQuoteRegExp=/''/g,notWhitespaceRegExp=/\S/,unescapedLatinCharacterRegExp=/[a-zA-Z]/;function parse(_e,et,tt,nt){var pt,mt,gt,yt,bt,xt,vt,wt;const rt=getDefaultOptions(),it=(nt==null?void 0:nt.locale)??rt.locale??enUS,ot=(nt==null?void 0:nt.firstWeekContainsDate)??((mt=(pt=nt==null?void 0:nt.locale)==null?void 0:pt.options)==null?void 0:mt.firstWeekContainsDate)??rt.firstWeekContainsDate??((yt=(gt=rt.locale)==null?void 0:gt.options)==null?void 0:yt.firstWeekContainsDate)??1,st=(nt==null?void 0:nt.weekStartsOn)??((xt=(bt=nt==null?void 0:nt.locale)==null?void 0:bt.options)==null?void 0:xt.weekStartsOn)??rt.weekStartsOn??((wt=(vt=rt.locale)==null?void 0:vt.options)==null?void 0:wt.weekStartsOn)??0;if(et==="")return _e===""?toDate(tt):constructFrom(tt,NaN);const ut={firstWeekContainsDate:ot,weekStartsOn:st,locale:it},ft=[new DateToSystemTimezoneSetter],dt=et.match(longFormattingTokensRegExp$1).map(_t=>{const Ct=_t[0];if(Ct in longFormatters){const Et=longFormatters[Ct];return Et(_t,it.formatLong)}return _t}).join("").match(formattingTokensRegExp),lt=[];for(let _t of dt){!(nt!=null&&nt.useAdditionalWeekYearTokens)&&isProtectedWeekYearToken(_t)&&warnOrThrowProtectedError(_t,et,_e),!(nt!=null&&nt.useAdditionalDayOfYearTokens)&&isProtectedDayOfYearToken(_t)&&warnOrThrowProtectedError(_t,et,_e);const Ct=_t[0],Et=parsers[Ct];if(Et){const{incompatibleTokens:$t}=Et;if(Array.isArray($t)){const Dt=lt.find(Pt=>$t.includes(Pt.token)||Pt.token===Ct);if(Dt)throw new RangeError(`The format string mustn't contain \`${Dt.fullToken}\` and \`${_t}\` at the same time`)}else if(Et.incompatibleTokens==="*"&&lt.length>0)throw new RangeError(`The format string mustn't contain \`${_t}\` and any other token at the same time`);lt.push({token:Ct,fullToken:_t});const jt=Et.run(_e,_t,it.match,ut);if(!jt)return constructFrom(tt,NaN);ft.push(jt.setter),_e=jt.rest}else{if(Ct.match(unescapedLatinCharacterRegExp))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Ct+"`");if(_t==="''"?_t="'":Ct==="'"&&(_t=cleanEscapedString(_t)),_e.indexOf(_t)===0)_e=_e.slice(_t.length);else return constructFrom(tt,NaN)}}if(_e.length>0&&notWhitespaceRegExp.test(_e))return constructFrom(tt,NaN);const at=ft.map(_t=>_t.priority).sort((_t,Ct)=>Ct-_t).filter((_t,Ct,Et)=>Et.indexOf(_t)===Ct).map(_t=>ft.filter(Ct=>Ct.priority===_t).sort((Ct,Et)=>Et.subPriority-Ct.subPriority)).map(_t=>_t[0]);let ct=toDate(tt);if(isNaN(ct.getTime()))return constructFrom(tt,NaN);const ht={};for(const _t of at){if(!_t.validate(ct,ut))return constructFrom(tt,NaN);const Ct=_t.set(ct,ht,ut);Array.isArray(Ct)?(ct=Ct[0],Object.assign(ht,Ct[1])):ct=Ct}return constructFrom(tt,ct)}function cleanEscapedString(_e){return _e.match(escapedStringRegExp)[1].replace(doubleQuoteRegExp,"'")}function parseISO(_e,et){const nt=splitDateString(_e);let rt;if(nt.date){const ut=parseYear(nt.date,2);rt=parseDate$1(ut.restDateString,ut.year)}if(!rt||isNaN(rt.getTime()))return new Date(NaN);const it=rt.getTime();let ot=0,st;if(nt.time&&(ot=parseTime(nt.time),isNaN(ot)))return new Date(NaN);if(nt.timezone){if(st=parseTimezone(nt.timezone),isNaN(st))return new Date(NaN)}else{const ut=new Date(it+ot),ft=new Date(0);return ft.setFullYear(ut.getUTCFullYear(),ut.getUTCMonth(),ut.getUTCDate()),ft.setHours(ut.getUTCHours(),ut.getUTCMinutes(),ut.getUTCSeconds(),ut.getUTCMilliseconds()),ft}return new Date(it+ot+st)}const patterns={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},dateRegex=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,timeRegex=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,timezoneRegex=/^([+-])(\d{2})(?::?(\d{2}))?$/;function splitDateString(_e){const et={},tt=_e.split(patterns.dateTimeDelimiter);let nt;if(tt.length>2)return et;if(/:/.test(tt[0])?nt=tt[0]:(et.date=tt[0],nt=tt[1],patterns.timeZoneDelimiter.test(et.date)&&(et.date=_e.split(patterns.timeZoneDelimiter)[0],nt=_e.substr(et.date.length,_e.length))),nt){const rt=patterns.timezone.exec(nt);rt?(et.time=nt.replace(rt[1],""),et.timezone=rt[1]):et.time=nt}return et}function parseYear(_e,et){const tt=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+et)+"})|(\\d{2}|[+-]\\d{"+(2+et)+"})$)"),nt=_e.match(tt);if(!nt)return{year:NaN,restDateString:""};const rt=nt[1]?parseInt(nt[1]):null,it=nt[2]?parseInt(nt[2]):null;return{year:it===null?rt:it*100,restDateString:_e.slice((nt[1]||nt[2]).length)}}function parseDate$1(_e,et){if(et===null)return new Date(NaN);const tt=_e.match(dateRegex);if(!tt)return new Date(NaN);const nt=!!tt[4],rt=parseDateUnit(tt[1]),it=parseDateUnit(tt[2])-1,ot=parseDateUnit(tt[3]),st=parseDateUnit(tt[4]),ut=parseDateUnit(tt[5])-1;if(nt)return validateWeekDate(et,st,ut)?dayOfISOWeekYear(et,st,ut):new Date(NaN);{const ft=new Date(0);return!validateDate(et,it,ot)||!validateDayOfYearDate(et,rt)?new Date(NaN):(ft.setUTCFullYear(et,it,Math.max(rt,ot)),ft)}}function parseDateUnit(_e){return _e?parseInt(_e):1}function parseTime(_e){const et=_e.match(timeRegex);if(!et)return NaN;const tt=parseTimeUnit(et[1]),nt=parseTimeUnit(et[2]),rt=parseTimeUnit(et[3]);return validateTime(tt,nt,rt)?tt*millisecondsInHour+nt*millisecondsInMinute+rt*1e3:NaN}function parseTimeUnit(_e){return _e&&parseFloat(_e.replace(",","."))||0}function parseTimezone(_e){if(_e==="Z")return 0;const et=_e.match(timezoneRegex);if(!et)return 0;const tt=et[1]==="+"?-1:1,nt=parseInt(et[2]),rt=et[3]&&parseInt(et[3])||0;return validateTimezone(nt,rt)?tt*(nt*millisecondsInHour+rt*millisecondsInMinute):NaN}function dayOfISOWeekYear(_e,et,tt){const nt=new Date(0);nt.setUTCFullYear(_e,0,4);const rt=nt.getUTCDay()||7,it=(et-1)*7+tt+1-rt;return nt.setUTCDate(nt.getUTCDate()+it),nt}const daysInMonths=[31,null,31,30,31,30,31,31,30,31,30,31];function isLeapYearIndex(_e){return _e%400===0||_e%4===0&&_e%100!==0}function validateDate(_e,et,tt){return et>=0&&et<=11&&tt>=1&&tt<=(daysInMonths[et]||(isLeapYearIndex(_e)?29:28))}function validateDayOfYearDate(_e,et){return et>=1&&et<=(isLeapYearIndex(_e)?366:365)}function validateWeekDate(_e,et,tt){return et>=1&&et<=53&&tt>=0&&tt<=6}function validateTime(_e,et,tt){return _e===24?et===0&&tt===0:tt>=0&&tt<60&&et>=0&&et<60&&_e>=0&&_e<25}function validateTimezone(_e,et){return et>=0&&et<=59}function addSeconds(_e,et){return addMilliseconds(_e,et*1e3)}function set(_e,et){let tt=toDate(_e);return isNaN(+tt)?constructFrom(_e,NaN):(et.year!=null&&tt.setFullYear(et.year),et.month!=null&&(tt=setMonth(tt,et.month)),et.date!=null&&tt.setDate(et.date),et.hours!=null&&tt.setHours(et.hours),et.minutes!=null&&tt.setMinutes(et.minutes),et.seconds!=null&&tt.setSeconds(et.seconds),et.milliseconds!=null&&tt.setMilliseconds(et.milliseconds),tt)}function _inheritsLoose(_e,et){_e.prototype=Object.create(et.prototype),_e.prototype.constructor=_e,_setPrototypeOf$1(_e,et)}function _setPrototypeOf$1(_e,et){return _setPrototypeOf$1=Object.setPrototypeOf||function(nt,rt){return nt.__proto__=rt,nt},_setPrototypeOf$1(_e,et)}function _objectWithoutPropertiesLoose(_e,et){if(_e==null)return{};var tt={},nt=Object.keys(_e),rt,it;for(it=0;it<nt.length;it++)rt=nt[it],!(et.indexOf(rt)>=0)&&(tt[rt]=_e[rt]);return tt}function _assertThisInitialized$1(_e){if(_e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _e}function isNodeFound(_e,et,tt){return _e===et?!0:_e.correspondingElement?_e.correspondingElement.classList.contains(tt):_e.classList.contains(tt)}function findHighest(_e,et,tt){if(_e===et)return!0;for(;_e.parentNode||_e.host;){if(_e.parentNode&&isNodeFound(_e,et,tt))return!0;_e=_e.parentNode||_e.host}return _e}function clickedScrollbar(_e){return document.documentElement.clientWidth<=_e.clientX||document.documentElement.clientHeight<=_e.clientY}var testPassiveEventSupport=function _e(){if(!(typeof window>"u"||typeof window.addEventListener!="function")){var et=!1,tt=Object.defineProperty({},"passive",{get:function(){et=!0}}),nt=function(){};return window.addEventListener("testPassiveEventSupport",nt,tt),window.removeEventListener("testPassiveEventSupport",nt,tt),et}};function autoInc(_e){return _e===void 0&&(_e=0),function(){return++_e}}var uid=autoInc(),passiveEventSupport,handlersMap={},enabledInstances={},touchEvents=["touchstart","touchmove"],IGNORE_CLASS_NAME="ignore-react-onclickoutside";function getEventHandlerOptions(_e,et){var tt={},nt=touchEvents.indexOf(et)!==-1;return nt&&passiveEventSupport&&(tt.passive=!_e.props.preventDefault),tt}function onClickOutsideHOC(_e,et){var tt,nt,rt=_e.displayName||_e.name||"Component";return nt=tt=function(it){_inheritsLoose(ot,it);function ot(ut){var ft;return ft=it.call(this,ut)||this,ft.__outsideClickHandler=function(dt){if(typeof ft.__clickOutsideHandlerProp=="function"){ft.__clickOutsideHandlerProp(dt);return}var lt=ft.getInstance();if(typeof lt.props.handleClickOutside=="function"){lt.props.handleClickOutside(dt);return}if(typeof lt.handleClickOutside=="function"){lt.handleClickOutside(dt);return}throw new Error("WrappedComponent: "+rt+" lacks a handleClickOutside(event) function for processing outside click events.")},ft.__getComponentNode=function(){var dt=ft.getInstance();return typeof dt.setClickOutsideRef=="function"?dt.setClickOutsideRef():reactDomExports.findDOMNode(dt)},ft.enableOnClickOutside=function(){if(!(typeof document>"u"||enabledInstances[ft._uid])){typeof passiveEventSupport>"u"&&(passiveEventSupport=testPassiveEventSupport()),enabledInstances[ft._uid]=!0;var dt=ft.props.eventTypes;dt.forEach||(dt=[dt]),handlersMap[ft._uid]=function(lt){if(ft.componentNode!==null&&!(ft.initTimeStamp>lt.timeStamp)&&(ft.props.preventDefault&&lt.preventDefault(),ft.props.stopPropagation&&lt.stopPropagation(),!(ft.props.excludeScrollbar&&clickedScrollbar(lt)))){var at=lt.composed&&lt.composedPath&&lt.composedPath().shift()||lt.target;findHighest(at,ft.componentNode,ft.props.outsideClickIgnoreClass)===document&&ft.__outsideClickHandler(lt)}},dt.forEach(function(lt){document.addEventListener(lt,handlersMap[ft._uid],getEventHandlerOptions(_assertThisInitialized$1(ft),lt))})}},ft.disableOnClickOutside=function(){delete enabledInstances[ft._uid];var dt=handlersMap[ft._uid];if(dt&&typeof document<"u"){var lt=ft.props.eventTypes;lt.forEach||(lt=[lt]),lt.forEach(function(at){return document.removeEventListener(at,dt,getEventHandlerOptions(_assertThisInitialized$1(ft),at))}),delete handlersMap[ft._uid]}},ft.getRef=function(dt){return ft.instanceRef=dt},ft._uid=uid(),ft.initTimeStamp=performance.now(),ft}var st=ot.prototype;return st.getInstance=function(){if(_e.prototype&&!_e.prototype.isReactComponent)return this;var ft=this.instanceRef;return ft.getInstance?ft.getInstance():ft},st.componentDidMount=function(){typeof document>"u"||!document.createElement||(this.getInstance(),this.componentNode=this.__getComponentNode(),!this.props.disableOnClickOutside&&this.enableOnClickOutside())},st.componentDidUpdate=function(){this.componentNode=this.__getComponentNode()},st.componentWillUnmount=function(){this.disableOnClickOutside()},st.render=function(){var ft=this.props;ft.excludeScrollbar;var dt=_objectWithoutPropertiesLoose(ft,["excludeScrollbar"]);return _e.prototype&&_e.prototype.isReactComponent?dt.ref=this.getRef:dt.wrappedRef=this.getRef,dt.disableOnClickOutside=this.disableOnClickOutside,dt.enableOnClickOutside=this.enableOnClickOutside,reactExports.createElement(_e,dt)},ot}(reactExports.Component),tt.displayName="OnClickOutside("+rt+")",tt.defaultProps={eventTypes:["mousedown","touchstart"],excludeScrollbar:!1,outsideClickIgnoreClass:IGNORE_CLASS_NAME,preventDefault:!1,stopPropagation:!1},tt.getClass=function(){return _e.getClass?_e.getClass():_e},nt}function getNodeName(_e){return isNode(_e)?(_e.nodeName||"").toLowerCase():"#document"}function getWindow(_e){var et;return(_e==null||(et=_e.ownerDocument)==null?void 0:et.defaultView)||window}function getDocumentElement(_e){var et;return(et=(isNode(_e)?_e.ownerDocument:_e.document)||window.document)==null?void 0:et.documentElement}function isNode(_e){return _e instanceof Node||_e instanceof getWindow(_e).Node}function isElement(_e){return _e instanceof Element||_e instanceof getWindow(_e).Element}function isHTMLElement(_e){return _e instanceof HTMLElement||_e instanceof getWindow(_e).HTMLElement}function isShadowRoot(_e){return typeof ShadowRoot>"u"?!1:_e instanceof ShadowRoot||_e instanceof getWindow(_e).ShadowRoot}function isOverflowElement(_e){const{overflow:et,overflowX:tt,overflowY:nt,display:rt}=getComputedStyle$1(_e);return/auto|scroll|overlay|hidden|clip/.test(et+nt+tt)&&!["inline","contents"].includes(rt)}function isTableElement(_e){return["table","td","th"].includes(getNodeName(_e))}function isContainingBlock(_e){const et=isWebKit(),tt=getComputedStyle$1(_e);return tt.transform!=="none"||tt.perspective!=="none"||(tt.containerType?tt.containerType!=="normal":!1)||!et&&(tt.backdropFilter?tt.backdropFilter!=="none":!1)||!et&&(tt.filter?tt.filter!=="none":!1)||["transform","perspective","filter"].some(nt=>(tt.willChange||"").includes(nt))||["paint","layout","strict","content"].some(nt=>(tt.contain||"").includes(nt))}function getContainingBlock(_e){let et=getParentNode(_e);for(;isHTMLElement(et)&&!isLastTraversableNode(et);){if(isContainingBlock(et))return et;et=getParentNode(et)}return null}function isWebKit(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function isLastTraversableNode(_e){return["html","body","#document"].includes(getNodeName(_e))}function getComputedStyle$1(_e){return getWindow(_e).getComputedStyle(_e)}function getNodeScroll(_e){return isElement(_e)?{scrollLeft:_e.scrollLeft,scrollTop:_e.scrollTop}:{scrollLeft:_e.pageXOffset,scrollTop:_e.pageYOffset}}function getParentNode(_e){if(getNodeName(_e)==="html")return _e;const et=_e.assignedSlot||_e.parentNode||isShadowRoot(_e)&&_e.host||getDocumentElement(_e);return isShadowRoot(et)?et.host:et}function getNearestOverflowAncestor(_e){const et=getParentNode(_e);return isLastTraversableNode(et)?_e.ownerDocument?_e.ownerDocument.body:_e.body:isHTMLElement(et)&&isOverflowElement(et)?et:getNearestOverflowAncestor(et)}function getOverflowAncestors(_e,et,tt){var nt;et===void 0&&(et=[]),tt===void 0&&(tt=!0);const rt=getNearestOverflowAncestor(_e),it=rt===((nt=_e.ownerDocument)==null?void 0:nt.body),ot=getWindow(rt);return it?et.concat(ot,ot.visualViewport||[],isOverflowElement(rt)?rt:[],ot.frameElement&&tt?getOverflowAncestors(ot.frameElement):[]):et.concat(rt,getOverflowAncestors(rt,[],tt))}const min=Math.min,max=Math.max,round=Math.round,floor=Math.floor,createCoords=_e=>({x:_e,y:_e}),oppositeSideMap={left:"right",right:"left",bottom:"top",top:"bottom"},oppositeAlignmentMap={start:"end",end:"start"};function clamp(_e,et,tt){return max(_e,min(et,tt))}function evaluate(_e,et){return typeof _e=="function"?_e(et):_e}function getSide(_e){return _e.split("-")[0]}function getAlignment(_e){return _e.split("-")[1]}function getOppositeAxis(_e){return _e==="x"?"y":"x"}function getAxisLength(_e){return _e==="y"?"height":"width"}function getSideAxis(_e){return["top","bottom"].includes(getSide(_e))?"y":"x"}function getAlignmentAxis(_e){return getOppositeAxis(getSideAxis(_e))}function getAlignmentSides(_e,et,tt){tt===void 0&&(tt=!1);const nt=getAlignment(_e),rt=getAlignmentAxis(_e),it=getAxisLength(rt);let ot=rt==="x"?nt===(tt?"end":"start")?"right":"left":nt==="start"?"bottom":"top";return et.reference[it]>et.floating[it]&&(ot=getOppositePlacement(ot)),[ot,getOppositePlacement(ot)]}function getExpandedPlacements(_e){const et=getOppositePlacement(_e);return[getOppositeAlignmentPlacement(_e),et,getOppositeAlignmentPlacement(et)]}function getOppositeAlignmentPlacement(_e){return _e.replace(/start|end/g,et=>oppositeAlignmentMap[et])}function getSideList(_e,et,tt){const nt=["left","right"],rt=["right","left"],it=["top","bottom"],ot=["bottom","top"];switch(_e){case"top":case"bottom":return tt?et?rt:nt:et?nt:rt;case"left":case"right":return et?it:ot;default:return[]}}function getOppositeAxisPlacements(_e,et,tt,nt){const rt=getAlignment(_e);let it=getSideList(getSide(_e),tt==="start",nt);return rt&&(it=it.map(ot=>ot+"-"+rt),et&&(it=it.concat(it.map(getOppositeAlignmentPlacement)))),it}function getOppositePlacement(_e){return _e.replace(/left|right|bottom|top/g,et=>oppositeSideMap[et])}function expandPaddingObject(_e){return{top:0,right:0,bottom:0,left:0,..._e}}function getPaddingObject(_e){return typeof _e!="number"?expandPaddingObject(_e):{top:_e,right:_e,bottom:_e,left:_e}}function rectToClientRect(_e){const{x:et,y:tt,width:nt,height:rt}=_e;return{width:nt,height:rt,top:tt,left:et,right:et+nt,bottom:tt+rt,x:et,y:tt}}function computeCoordsFromPlacement(_e,et,tt){let{reference:nt,floating:rt}=_e;const it=getSideAxis(et),ot=getAlignmentAxis(et),st=getAxisLength(ot),ut=getSide(et),ft=it==="y",dt=nt.x+nt.width/2-rt.width/2,lt=nt.y+nt.height/2-rt.height/2,at=nt[st]/2-rt[st]/2;let ct;switch(ut){case"top":ct={x:dt,y:nt.y-rt.height};break;case"bottom":ct={x:dt,y:nt.y+nt.height};break;case"right":ct={x:nt.x+nt.width,y:lt};break;case"left":ct={x:nt.x-rt.width,y:lt};break;default:ct={x:nt.x,y:nt.y}}switch(getAlignment(et)){case"start":ct[ot]-=at*(tt&&ft?-1:1);break;case"end":ct[ot]+=at*(tt&&ft?-1:1);break}return ct}const computePosition$1=async(_e,et,tt)=>{const{placement:nt="bottom",strategy:rt="absolute",middleware:it=[],platform:ot}=tt,st=it.filter(Boolean),ut=await(ot.isRTL==null?void 0:ot.isRTL(et));let ft=await ot.getElementRects({reference:_e,floating:et,strategy:rt}),{x:dt,y:lt}=computeCoordsFromPlacement(ft,nt,ut),at=nt,ct={},ht=0;for(let pt=0;pt<st.length;pt++){const{name:mt,fn:gt}=st[pt],{x:yt,y:bt,data:xt,reset:vt}=await gt({x:dt,y:lt,initialPlacement:nt,placement:at,strategy:rt,middlewareData:ct,rects:ft,platform:ot,elements:{reference:_e,floating:et}});dt=yt??dt,lt=bt??lt,ct={...ct,[mt]:{...ct[mt],...xt}},vt&&ht<=50&&(ht++,typeof vt=="object"&&(vt.placement&&(at=vt.placement),vt.rects&&(ft=vt.rects===!0?await ot.getElementRects({reference:_e,floating:et,strategy:rt}):vt.rects),{x:dt,y:lt}=computeCoordsFromPlacement(ft,at,ut)),pt=-1)}return{x:dt,y:lt,placement:at,strategy:rt,middlewareData:ct}};async function detectOverflow(_e,et){var tt;et===void 0&&(et={});const{x:nt,y:rt,platform:it,rects:ot,elements:st,strategy:ut}=_e,{boundary:ft="clippingAncestors",rootBoundary:dt="viewport",elementContext:lt="floating",altBoundary:at=!1,padding:ct=0}=evaluate(et,_e),ht=getPaddingObject(ct),mt=st[at?lt==="floating"?"reference":"floating":lt],gt=rectToClientRect(await it.getClippingRect({element:(tt=await(it.isElement==null?void 0:it.isElement(mt)))==null||tt?mt:mt.contextElement||await(it.getDocumentElement==null?void 0:it.getDocumentElement(st.floating)),boundary:ft,rootBoundary:dt,strategy:ut})),yt=lt==="floating"?{x:nt,y:rt,width:ot.floating.width,height:ot.floating.height}:ot.reference,bt=await(it.getOffsetParent==null?void 0:it.getOffsetParent(st.floating)),xt=await(it.isElement==null?void 0:it.isElement(bt))?await(it.getScale==null?void 0:it.getScale(bt))||{x:1,y:1}:{x:1,y:1},vt=rectToClientRect(it.convertOffsetParentRelativeRectToViewportRelativeRect?await it.convertOffsetParentRelativeRectToViewportRelativeRect({elements:st,rect:yt,offsetParent:bt,strategy:ut}):yt);return{top:(gt.top-vt.top+ht.top)/xt.y,bottom:(vt.bottom-gt.bottom+ht.bottom)/xt.y,left:(gt.left-vt.left+ht.left)/xt.x,right:(vt.right-gt.right+ht.right)/xt.x}}const arrow$3=_e=>({name:"arrow",options:_e,async fn(et){const{x:tt,y:nt,placement:rt,rects:it,platform:ot,elements:st,middlewareData:ut}=et,{element:ft,padding:dt=0}=evaluate(_e,et)||{};if(ft==null)return{};const lt=getPaddingObject(dt),at={x:tt,y:nt},ct=getAlignmentAxis(rt),ht=getAxisLength(ct),pt=await ot.getDimensions(ft),mt=ct==="y",gt=mt?"top":"left",yt=mt?"bottom":"right",bt=mt?"clientHeight":"clientWidth",xt=it.reference[ht]+it.reference[ct]-at[ct]-it.floating[ht],vt=at[ct]-it.reference[ct],wt=await(ot.getOffsetParent==null?void 0:ot.getOffsetParent(ft));let _t=wt?wt[bt]:0;(!_t||!await(ot.isElement==null?void 0:ot.isElement(wt)))&&(_t=st.floating[bt]||it.floating[ht]);const Ct=xt/2-vt/2,Et=_t/2-pt[ht]/2-1,$t=min(lt[gt],Et),jt=min(lt[yt],Et),Dt=$t,Pt=_t-pt[ht]-jt,kt=_t/2-pt[ht]/2+Ct,At=clamp(Dt,kt,Pt),Tt=!ut.arrow&&getAlignment(rt)!=null&&kt!==At&&it.reference[ht]/2-(kt<Dt?$t:jt)-pt[ht]/2<0,St=Tt?kt<Dt?kt-Dt:kt-Pt:0;return{[ct]:at[ct]+St,data:{[ct]:At,centerOffset:kt-At-St,...Tt&&{alignmentOffset:St}},reset:Tt}}}),flip$2=function(_e){return _e===void 0&&(_e={}),{name:"flip",options:_e,async fn(et){var tt,nt;const{placement:rt,middlewareData:it,rects:ot,initialPlacement:st,platform:ut,elements:ft}=et,{mainAxis:dt=!0,crossAxis:lt=!0,fallbackPlacements:at,fallbackStrategy:ct="bestFit",fallbackAxisSideDirection:ht="none",flipAlignment:pt=!0,...mt}=evaluate(_e,et);if((tt=it.arrow)!=null&&tt.alignmentOffset)return{};const gt=getSide(rt),yt=getSide(st)===st,bt=await(ut.isRTL==null?void 0:ut.isRTL(ft.floating)),xt=at||(yt||!pt?[getOppositePlacement(st)]:getExpandedPlacements(st));!at&&ht!=="none"&&xt.push(...getOppositeAxisPlacements(st,pt,ht,bt));const vt=[st,...xt],wt=await detectOverflow(et,mt),_t=[];let Ct=((nt=it.flip)==null?void 0:nt.overflows)||[];if(dt&&_t.push(wt[gt]),lt){const Dt=getAlignmentSides(rt,ot,bt);_t.push(wt[Dt[0]],wt[Dt[1]])}if(Ct=[...Ct,{placement:rt,overflows:_t}],!_t.every(Dt=>Dt<=0)){var Et,$t;const Dt=(((Et=it.flip)==null?void 0:Et.index)||0)+1,Pt=vt[Dt];if(Pt)return{data:{index:Dt,overflows:Ct},reset:{placement:Pt}};let kt=($t=Ct.filter(At=>At.overflows[0]<=0).sort((At,Tt)=>At.overflows[1]-Tt.overflows[1])[0])==null?void 0:$t.placement;if(!kt)switch(ct){case"bestFit":{var jt;const At=(jt=Ct.map(Tt=>[Tt.placement,Tt.overflows.filter(St=>St>0).reduce((St,Rt)=>St+Rt,0)]).sort((Tt,St)=>Tt[1]-St[1])[0])==null?void 0:jt[0];At&&(kt=At);break}case"initialPlacement":kt=st;break}if(rt!==kt)return{reset:{placement:kt}}}return{}}}};async function convertValueToCoords(_e,et){const{placement:tt,platform:nt,elements:rt}=_e,it=await(nt.isRTL==null?void 0:nt.isRTL(rt.floating)),ot=getSide(tt),st=getAlignment(tt),ut=getSideAxis(tt)==="y",ft=["left","top"].includes(ot)?-1:1,dt=it&&ut?-1:1,lt=evaluate(et,_e);let{mainAxis:at,crossAxis:ct,alignmentAxis:ht}=typeof lt=="number"?{mainAxis:lt,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...lt};return st&&typeof ht=="number"&&(ct=st==="end"?ht*-1:ht),ut?{x:ct*dt,y:at*ft}:{x:at*ft,y:ct*dt}}const offset$2=function(_e){return _e===void 0&&(_e=0),{name:"offset",options:_e,async fn(et){var tt,nt;const{x:rt,y:it,placement:ot,middlewareData:st}=et,ut=await convertValueToCoords(et,_e);return ot===((tt=st.offset)==null?void 0:tt.placement)&&(nt=st.arrow)!=null&&nt.alignmentOffset?{}:{x:rt+ut.x,y:it+ut.y,data:{...ut,placement:ot}}}}};function getCssDimensions(_e){const et=getComputedStyle$1(_e);let tt=parseFloat(et.width)||0,nt=parseFloat(et.height)||0;const rt=isHTMLElement(_e),it=rt?_e.offsetWidth:tt,ot=rt?_e.offsetHeight:nt,st=round(tt)!==it||round(nt)!==ot;return st&&(tt=it,nt=ot),{width:tt,height:nt,$:st}}function unwrapElement(_e){return isElement(_e)?_e:_e.contextElement}function getScale(_e){const et=unwrapElement(_e);if(!isHTMLElement(et))return createCoords(1);const tt=et.getBoundingClientRect(),{width:nt,height:rt,$:it}=getCssDimensions(et);let ot=(it?round(tt.width):tt.width)/nt,st=(it?round(tt.height):tt.height)/rt;return(!ot||!Number.isFinite(ot))&&(ot=1),(!st||!Number.isFinite(st))&&(st=1),{x:ot,y:st}}const noOffsets=createCoords(0);function getVisualOffsets(_e){const et=getWindow(_e);return!isWebKit()||!et.visualViewport?noOffsets:{x:et.visualViewport.offsetLeft,y:et.visualViewport.offsetTop}}function shouldAddVisualOffsets(_e,et,tt){return et===void 0&&(et=!1),!tt||et&&tt!==getWindow(_e)?!1:et}function getBoundingClientRect(_e,et,tt,nt){et===void 0&&(et=!1),tt===void 0&&(tt=!1);const rt=_e.getBoundingClientRect(),it=unwrapElement(_e);let ot=createCoords(1);et&&(nt?isElement(nt)&&(ot=getScale(nt)):ot=getScale(_e));const st=shouldAddVisualOffsets(it,tt,nt)?getVisualOffsets(it):createCoords(0);let ut=(rt.left+st.x)/ot.x,ft=(rt.top+st.y)/ot.y,dt=rt.width/ot.x,lt=rt.height/ot.y;if(it){const at=getWindow(it),ct=nt&&isElement(nt)?getWindow(nt):nt;let ht=at,pt=ht.frameElement;for(;pt&&nt&&ct!==ht;){const mt=getScale(pt),gt=pt.getBoundingClientRect(),yt=getComputedStyle$1(pt),bt=gt.left+(pt.clientLeft+parseFloat(yt.paddingLeft))*mt.x,xt=gt.top+(pt.clientTop+parseFloat(yt.paddingTop))*mt.y;ut*=mt.x,ft*=mt.y,dt*=mt.x,lt*=mt.y,ut+=bt,ft+=xt,ht=getWindow(pt),pt=ht.frameElement}}return rectToClientRect({width:dt,height:lt,x:ut,y:ft})}const topLayerSelectors=[":popover-open",":modal"];function isTopLayer(_e){return topLayerSelectors.some(et=>{try{return _e.matches(et)}catch{return!1}})}function convertOffsetParentRelativeRectToViewportRelativeRect(_e){let{elements:et,rect:tt,offsetParent:nt,strategy:rt}=_e;const it=rt==="fixed",ot=getDocumentElement(nt),st=et?isTopLayer(et.floating):!1;if(nt===ot||st&&it)return tt;let ut={scrollLeft:0,scrollTop:0},ft=createCoords(1);const dt=createCoords(0),lt=isHTMLElement(nt);if((lt||!lt&&!it)&&((getNodeName(nt)!=="body"||isOverflowElement(ot))&&(ut=getNodeScroll(nt)),isHTMLElement(nt))){const at=getBoundingClientRect(nt);ft=getScale(nt),dt.x=at.x+nt.clientLeft,dt.y=at.y+nt.clientTop}return{width:tt.width*ft.x,height:tt.height*ft.y,x:tt.x*ft.x-ut.scrollLeft*ft.x+dt.x,y:tt.y*ft.y-ut.scrollTop*ft.y+dt.y}}function getClientRects(_e){return Array.from(_e.getClientRects())}function getWindowScrollBarX(_e){return getBoundingClientRect(getDocumentElement(_e)).left+getNodeScroll(_e).scrollLeft}function getDocumentRect(_e){const et=getDocumentElement(_e),tt=getNodeScroll(_e),nt=_e.ownerDocument.body,rt=max(et.scrollWidth,et.clientWidth,nt.scrollWidth,nt.clientWidth),it=max(et.scrollHeight,et.clientHeight,nt.scrollHeight,nt.clientHeight);let ot=-tt.scrollLeft+getWindowScrollBarX(_e);const st=-tt.scrollTop;return getComputedStyle$1(nt).direction==="rtl"&&(ot+=max(et.clientWidth,nt.clientWidth)-rt),{width:rt,height:it,x:ot,y:st}}function getViewportRect(_e,et){const tt=getWindow(_e),nt=getDocumentElement(_e),rt=tt.visualViewport;let it=nt.clientWidth,ot=nt.clientHeight,st=0,ut=0;if(rt){it=rt.width,ot=rt.height;const ft=isWebKit();(!ft||ft&&et==="fixed")&&(st=rt.offsetLeft,ut=rt.offsetTop)}return{width:it,height:ot,x:st,y:ut}}function getInnerBoundingClientRect(_e,et){const tt=getBoundingClientRect(_e,!0,et==="fixed"),nt=tt.top+_e.clientTop,rt=tt.left+_e.clientLeft,it=isHTMLElement(_e)?getScale(_e):createCoords(1),ot=_e.clientWidth*it.x,st=_e.clientHeight*it.y,ut=rt*it.x,ft=nt*it.y;return{width:ot,height:st,x:ut,y:ft}}function getClientRectFromClippingAncestor(_e,et,tt){let nt;if(et==="viewport")nt=getViewportRect(_e,tt);else if(et==="document")nt=getDocumentRect(getDocumentElement(_e));else if(isElement(et))nt=getInnerBoundingClientRect(et,tt);else{const rt=getVisualOffsets(_e);nt={...et,x:et.x-rt.x,y:et.y-rt.y}}return rectToClientRect(nt)}function hasFixedPositionAncestor(_e,et){const tt=getParentNode(_e);return tt===et||!isElement(tt)||isLastTraversableNode(tt)?!1:getComputedStyle$1(tt).position==="fixed"||hasFixedPositionAncestor(tt,et)}function getClippingElementAncestors(_e,et){const tt=et.get(_e);if(tt)return tt;let nt=getOverflowAncestors(_e,[],!1).filter(st=>isElement(st)&&getNodeName(st)!=="body"),rt=null;const it=getComputedStyle$1(_e).position==="fixed";let ot=it?getParentNode(_e):_e;for(;isElement(ot)&&!isLastTraversableNode(ot);){const st=getComputedStyle$1(ot),ut=isContainingBlock(ot);!ut&&st.position==="fixed"&&(rt=null),(it?!ut&&!rt:!ut&&st.position==="static"&&!!rt&&["absolute","fixed"].includes(rt.position)||isOverflowElement(ot)&&!ut&&hasFixedPositionAncestor(_e,ot))?nt=nt.filter(dt=>dt!==ot):rt=st,ot=getParentNode(ot)}return et.set(_e,nt),nt}function getClippingRect(_e){let{element:et,boundary:tt,rootBoundary:nt,strategy:rt}=_e;const ot=[...tt==="clippingAncestors"?isTopLayer(et)?[]:getClippingElementAncestors(et,this._c):[].concat(tt),nt],st=ot[0],ut=ot.reduce((ft,dt)=>{const lt=getClientRectFromClippingAncestor(et,dt,rt);return ft.top=max(lt.top,ft.top),ft.right=min(lt.right,ft.right),ft.bottom=min(lt.bottom,ft.bottom),ft.left=max(lt.left,ft.left),ft},getClientRectFromClippingAncestor(et,st,rt));return{width:ut.right-ut.left,height:ut.bottom-ut.top,x:ut.left,y:ut.top}}function getDimensions(_e){const{width:et,height:tt}=getCssDimensions(_e);return{width:et,height:tt}}function getRectRelativeToOffsetParent(_e,et,tt){const nt=isHTMLElement(et),rt=getDocumentElement(et),it=tt==="fixed",ot=getBoundingClientRect(_e,!0,it,et);let st={scrollLeft:0,scrollTop:0};const ut=createCoords(0);if(nt||!nt&&!it)if((getNodeName(et)!=="body"||isOverflowElement(rt))&&(st=getNodeScroll(et)),nt){const lt=getBoundingClientRect(et,!0,it,et);ut.x=lt.x+et.clientLeft,ut.y=lt.y+et.clientTop}else rt&&(ut.x=getWindowScrollBarX(rt));const ft=ot.left+st.scrollLeft-ut.x,dt=ot.top+st.scrollTop-ut.y;return{x:ft,y:dt,width:ot.width,height:ot.height}}function isStaticPositioned(_e){return getComputedStyle$1(_e).position==="static"}function getTrueOffsetParent(_e,et){return!isHTMLElement(_e)||getComputedStyle$1(_e).position==="fixed"?null:et?et(_e):_e.offsetParent}function getOffsetParent(_e,et){const tt=getWindow(_e);if(isTopLayer(_e))return tt;if(!isHTMLElement(_e)){let rt=getParentNode(_e);for(;rt&&!isLastTraversableNode(rt);){if(isElement(rt)&&!isStaticPositioned(rt))return rt;rt=getParentNode(rt)}return tt}let nt=getTrueOffsetParent(_e,et);for(;nt&&isTableElement(nt)&&isStaticPositioned(nt);)nt=getTrueOffsetParent(nt,et);return nt&&isLastTraversableNode(nt)&&isStaticPositioned(nt)&&!isContainingBlock(nt)?tt:nt||getContainingBlock(_e)||tt}const getElementRects=async function(_e){const et=this.getOffsetParent||getOffsetParent,tt=this.getDimensions,nt=await tt(_e.floating);return{reference:getRectRelativeToOffsetParent(_e.reference,await et(_e.floating),_e.strategy),floating:{x:0,y:0,width:nt.width,height:nt.height}}};function isRTL(_e){return getComputedStyle$1(_e).direction==="rtl"}const platform={convertOffsetParentRelativeRectToViewportRelativeRect,getDocumentElement,getClippingRect,getOffsetParent,getElementRects,getClientRects,getDimensions,getScale,isElement,isRTL};function observeMove(_e,et){let tt=null,nt;const rt=getDocumentElement(_e);function it(){var st;clearTimeout(nt),(st=tt)==null||st.disconnect(),tt=null}function ot(st,ut){st===void 0&&(st=!1),ut===void 0&&(ut=1),it();const{left:ft,top:dt,width:lt,height:at}=_e.getBoundingClientRect();if(st||et(),!lt||!at)return;const ct=floor(dt),ht=floor(rt.clientWidth-(ft+lt)),pt=floor(rt.clientHeight-(dt+at)),mt=floor(ft),yt={rootMargin:-ct+"px "+-ht+"px "+-pt+"px "+-mt+"px",threshold:max(0,min(1,ut))||1};let bt=!0;function xt(vt){const wt=vt[0].intersectionRatio;if(wt!==ut){if(!bt)return ot();wt?ot(!1,wt):nt=setTimeout(()=>{ot(!1,1e-7)},1e3)}bt=!1}try{tt=new IntersectionObserver(xt,{...yt,root:rt.ownerDocument})}catch{tt=new IntersectionObserver(xt,yt)}tt.observe(_e)}return ot(!0),it}function autoUpdate(_e,et,tt,nt){nt===void 0&&(nt={});const{ancestorScroll:rt=!0,ancestorResize:it=!0,elementResize:ot=typeof ResizeObserver=="function",layoutShift:st=typeof IntersectionObserver=="function",animationFrame:ut=!1}=nt,ft=unwrapElement(_e),dt=rt||it?[...ft?getOverflowAncestors(ft):[],...getOverflowAncestors(et)]:[];dt.forEach(gt=>{rt&&gt.addEventListener("scroll",tt,{passive:!0}),it&&gt.addEventListener("resize",tt)});const lt=ft&&st?observeMove(ft,tt):null;let at=-1,ct=null;ot&&(ct=new ResizeObserver(gt=>{let[yt]=gt;yt&&yt.target===ft&&ct&&(ct.unobserve(et),cancelAnimationFrame(at),at=requestAnimationFrame(()=>{var bt;(bt=ct)==null||bt.observe(et)})),tt()}),ft&&!ut&&ct.observe(ft),ct.observe(et));let ht,pt=ut?getBoundingClientRect(_e):null;ut&&mt();function mt(){const gt=getBoundingClientRect(_e);pt&&(gt.x!==pt.x||gt.y!==pt.y||gt.width!==pt.width||gt.height!==pt.height)&&tt(),pt=gt,ht=requestAnimationFrame(mt)}return tt(),()=>{var gt;dt.forEach(yt=>{rt&&yt.removeEventListener("scroll",tt),it&&yt.removeEventListener("resize",tt)}),lt==null||lt(),(gt=ct)==null||gt.disconnect(),ct=null,ut&&cancelAnimationFrame(ht)}}const offset$1=offset$2,flip$1=flip$2,arrow$2=arrow$3,computePosition=(_e,et,tt)=>{const nt=new Map,rt={platform,...tt},it={...rt.platform,_c:nt};return computePosition$1(_e,et,{...rt,platform:it})};var index$1=typeof document<"u"?reactExports.useLayoutEffect:reactExports.useEffect;function deepEqual(_e,et){if(_e===et)return!0;if(typeof _e!=typeof et)return!1;if(typeof _e=="function"&&_e.toString()===et.toString())return!0;let tt,nt,rt;if(_e&&et&&typeof _e=="object"){if(Array.isArray(_e)){if(tt=_e.length,tt!==et.length)return!1;for(nt=tt;nt--!==0;)if(!deepEqual(_e[nt],et[nt]))return!1;return!0}if(rt=Object.keys(_e),tt=rt.length,tt!==Object.keys(et).length)return!1;for(nt=tt;nt--!==0;)if(!{}.hasOwnProperty.call(et,rt[nt]))return!1;for(nt=tt;nt--!==0;){const it=rt[nt];if(!(it==="_owner"&&_e.$$typeof)&&!deepEqual(_e[it],et[it]))return!1}return!0}return _e!==_e&&et!==et}function getDPR(_e){return typeof window>"u"?1:(_e.ownerDocument.defaultView||window).devicePixelRatio||1}function roundByDPR(_e,et){const tt=getDPR(_e);return Math.round(et*tt)/tt}function useLatestRef(_e){const et=reactExports.useRef(_e);return index$1(()=>{et.current=_e}),et}function useFloating$1(_e){_e===void 0&&(_e={});const{placement:et="bottom",strategy:tt="absolute",middleware:nt=[],platform:rt,elements:{reference:it,floating:ot}={},transform:st=!0,whileElementsMounted:ut,open:ft}=_e,[dt,lt]=reactExports.useState({x:0,y:0,strategy:tt,placement:et,middlewareData:{},isPositioned:!1}),[at,ct]=reactExports.useState(nt);deepEqual(at,nt)||ct(nt);const[ht,pt]=reactExports.useState(null),[mt,gt]=reactExports.useState(null),yt=reactExports.useCallback(St=>{St!==wt.current&&(wt.current=St,pt(St))},[]),bt=reactExports.useCallback(St=>{St!==_t.current&&(_t.current=St,gt(St))},[]),xt=it||ht,vt=ot||mt,wt=reactExports.useRef(null),_t=reactExports.useRef(null),Ct=reactExports.useRef(dt),Et=ut!=null,$t=useLatestRef(ut),jt=useLatestRef(rt),Dt=reactExports.useCallback(()=>{if(!wt.current||!_t.current)return;const St={placement:et,strategy:tt,middleware:at};jt.current&&(St.platform=jt.current),computePosition(wt.current,_t.current,St).then(Rt=>{const Ot={...Rt,isPositioned:!0};Pt.current&&!deepEqual(Ct.current,Ot)&&(Ct.current=Ot,reactDomExports.flushSync(()=>{lt(Ot)}))})},[at,et,tt,jt]);index$1(()=>{ft===!1&&Ct.current.isPositioned&&(Ct.current.isPositioned=!1,lt(St=>({...St,isPositioned:!1})))},[ft]);const Pt=reactExports.useRef(!1);index$1(()=>(Pt.current=!0,()=>{Pt.current=!1}),[]),index$1(()=>{if(xt&&(wt.current=xt),vt&&(_t.current=vt),xt&&vt){if($t.current)return $t.current(xt,vt,Dt);Dt()}},[xt,vt,Dt,$t,Et]);const kt=reactExports.useMemo(()=>({reference:wt,floating:_t,setReference:yt,setFloating:bt}),[yt,bt]),At=reactExports.useMemo(()=>({reference:xt,floating:vt}),[xt,vt]),Tt=reactExports.useMemo(()=>{const St={position:tt,left:0,top:0};if(!At.floating)return St;const Rt=roundByDPR(At.floating,dt.x),Ot=roundByDPR(At.floating,dt.y);return st?{...St,transform:"translate("+Rt+"px, "+Ot+"px)",...getDPR(At.floating)>=1.5&&{willChange:"transform"}}:{position:tt,left:Rt,top:Ot}},[tt,st,At.floating,dt.x,dt.y]);return reactExports.useMemo(()=>({...dt,update:Dt,refs:kt,elements:At,floatingStyles:Tt}),[dt,Dt,kt,At,Tt])}const arrow$1=_e=>{function et(tt){return{}.hasOwnProperty.call(tt,"current")}return{name:"arrow",options:_e,fn(tt){const{element:nt,padding:rt}=typeof _e=="function"?_e(tt):_e;return nt&&et(nt)?nt.current!=null?arrow$2({element:nt.current,padding:rt}).fn(tt):{}:nt?arrow$2({element:nt,padding:rt}).fn(tt):{}}}},offset=(_e,et)=>({...offset$1(_e),options:[_e,et]}),flip=(_e,et)=>({...flip$1(_e),options:[_e,et]}),arrow=(_e,et)=>({...arrow$1(_e),options:[_e,et]}),SafeReact={...React$1},useInsertionEffect=SafeReact.useInsertionEffect,useSafeInsertionEffect=useInsertionEffect||(_e=>_e());function useEffectEvent(_e){const et=reactExports.useRef(()=>{});return useSafeInsertionEffect(()=>{et.current=_e}),reactExports.useCallback(function(){for(var tt=arguments.length,nt=new Array(tt),rt=0;rt<tt;rt++)nt[rt]=arguments[rt];return et.current==null?void 0:et.current(...nt)},[])}var index=typeof document<"u"?reactExports.useLayoutEffect:reactExports.useEffect;function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(_e){for(var et=1;et<arguments.length;et++){var tt=arguments[et];for(var nt in tt)Object.prototype.hasOwnProperty.call(tt,nt)&&(_e[nt]=tt[nt])}return _e},_extends$1.apply(this,arguments)}let serverHandoffComplete=!1,count=0;const genId=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+count++;function useFloatingId(){const[_e,et]=reactExports.useState(()=>serverHandoffComplete?genId():void 0);return index(()=>{_e==null&&et(genId())},[]),reactExports.useEffect(()=>{serverHandoffComplete=!0},[]),_e}const useReactId=SafeReact.useId,useId=useReactId||useFloatingId,FloatingArrow=reactExports.forwardRef(function _e(et,tt){const{context:{placement:nt,elements:{floating:rt},middlewareData:{arrow:it}},width:ot=14,height:st=7,tipRadius:ut=0,strokeWidth:ft=0,staticOffset:dt,stroke:lt,d:at,style:{transform:ct,...ht}={},...pt}=et,mt=useId();if(!rt)return null;const gt=ft*2,yt=gt/2,bt=ot/2*(ut/-8+1),xt=st/2*ut/4,[vt,wt]=nt.split("-"),_t=platform.isRTL(rt),Ct=!!at,Et=vt==="top"||vt==="bottom",$t=dt&&wt==="end"?"bottom":"top";let jt=dt&&wt==="end"?"right":"left";dt&&_t&&(jt=wt==="end"?"left":"right");const Dt=(it==null?void 0:it.x)!=null?dt||it.x:"",Pt=(it==null?void 0:it.y)!=null?dt||it.y:"",kt=at||"M0,0"+(" H"+ot)+(" L"+(ot-bt)+","+(st-xt))+(" Q"+ot/2+","+st+" "+bt+","+(st-xt))+" Z",At={top:Ct?"rotate(180deg)":"",left:Ct?"rotate(90deg)":"rotate(-90deg)",bottom:Ct?"":"rotate(180deg)",right:Ct?"rotate(-90deg)":"rotate(90deg)"}[vt];return reactExports.createElement("svg",_extends$1({},pt,{"aria-hidden":!0,ref:tt,width:Ct?ot:ot+gt,height:ot,viewBox:"0 0 "+ot+" "+(st>ot?st:ot),style:{position:"absolute",pointerEvents:"none",[jt]:Dt,[$t]:Pt,[vt]:Et||Ct?"100%":"calc(100% - "+gt/2+"px)",transform:""+At+(ct??""),...ht}}),gt>0&&reactExports.createElement("path",{clipPath:"url(#"+mt+")",fill:"none",stroke:lt,strokeWidth:gt+(at?0:1),d:kt}),reactExports.createElement("path",{stroke:gt&&!at?pt.fill:"none",d:kt}),reactExports.createElement("clipPath",{id:mt},reactExports.createElement("rect",{x:-yt,y:yt*(Ct?-1:1),width:ot+gt,height:ot})))});function createPubSub(){const _e=new Map;return{emit(et,tt){var nt;(nt=_e.get(et))==null||nt.forEach(rt=>rt(tt))},on(et,tt){_e.set(et,[..._e.get(et)||[],tt])},off(et,tt){var nt;_e.set(et,((nt=_e.get(et))==null?void 0:nt.filter(rt=>rt!==tt))||[])}}}const FloatingNodeContext=reactExports.createContext(null),FloatingTreeContext=reactExports.createContext(null),useFloatingParentNodeId=()=>{var _e;return((_e=reactExports.useContext(FloatingNodeContext))==null?void 0:_e.id)||null},useFloatingTree=()=>reactExports.useContext(FloatingTreeContext);function useFloatingRootContext(_e){const{open:et=!1,onOpenChange:tt,elements:nt}=_e,rt=useId(),it=reactExports.useRef({}),[ot]=reactExports.useState(()=>createPubSub()),st=useFloatingParentNodeId()!=null,[ut,ft]=reactExports.useState(nt.reference),dt=useEffectEvent((ct,ht,pt)=>{it.current.openEvent=ct?ht:void 0,ot.emit("openchange",{open:ct,event:ht,reason:pt,nested:st}),tt==null||tt(ct,ht,pt)}),lt=reactExports.useMemo(()=>({setPositionReference:ft}),[]),at=reactExports.useMemo(()=>({reference:ut||nt.reference||null,floating:nt.floating||null,domReference:nt.reference}),[ut,nt.reference,nt.floating]);return reactExports.useMemo(()=>({dataRef:it,open:et,onOpenChange:dt,elements:at,events:ot,floatingId:rt,refs:lt}),[et,dt,at,ot,rt,lt])}function useFloating(_e){_e===void 0&&(_e={});const{nodeId:et}=_e,tt=useFloatingRootContext({..._e,elements:{reference:null,floating:null,..._e.elements}}),nt=_e.rootContext||tt,rt=nt.elements,[it,ot]=reactExports.useState(null),[st,ut]=reactExports.useState(null),dt=(rt==null?void 0:rt.reference)||it,lt=reactExports.useRef(null),at=useFloatingTree();index(()=>{dt&&(lt.current=dt)},[dt]);const ct=useFloating$1({..._e,elements:{...rt,...st&&{reference:st}}}),ht=reactExports.useCallback(bt=>{const xt=isElement(bt)?{getBoundingClientRect:()=>bt.getBoundingClientRect(),contextElement:bt}:bt;ut(xt),ct.refs.setReference(xt)},[ct.refs]),pt=reactExports.useCallback(bt=>{(isElement(bt)||bt===null)&&(lt.current=bt,ot(bt)),(isElement(ct.refs.reference.current)||ct.refs.reference.current===null||bt!==null&&!isElement(bt))&&ct.refs.setReference(bt)},[ct.refs]),mt=reactExports.useMemo(()=>({...ct.refs,setReference:pt,setPositionReference:ht,domReference:lt}),[ct.refs,pt,ht]),gt=reactExports.useMemo(()=>({...ct.elements,domReference:dt}),[ct.elements,dt]),yt=reactExports.useMemo(()=>({...ct,...nt,refs:mt,elements:gt,nodeId:et}),[ct,mt,gt,et,nt]);return index(()=>{nt.dataRef.current.floatingContext=yt;const bt=at==null?void 0:at.nodesRef.current.find(xt=>xt.id===et);bt&&(bt.context=yt)}),reactExports.useMemo(()=>({...ct,context:yt,refs:mt,elements:gt}),[ct,mt,gt,yt])}/*!
  react-datepicker v6.9.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/function _callSuper(_e,et,tt){return et=_getPrototypeOf(et),_possibleConstructorReturn(_e,_isNativeReflectConstruct()?Reflect.construct(et,tt||[],_getPrototypeOf(_e).constructor):et.apply(_e,tt))}function _isNativeReflectConstruct(){try{var _e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct=function(){return!!_e})()}function ownKeys(_e,et){var tt=Object.keys(_e);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);et&&(nt=nt.filter(function(rt){return Object.getOwnPropertyDescriptor(_e,rt).enumerable})),tt.push.apply(tt,nt)}return tt}function _objectSpread2(_e){for(var et=1;et<arguments.length;et++){var tt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys(Object(tt),!0).forEach(function(nt){_defineProperty(_e,nt,tt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(tt)):ownKeys(Object(tt)).forEach(function(nt){Object.defineProperty(_e,nt,Object.getOwnPropertyDescriptor(tt,nt))})}return _e}function _toPrimitive(_e,et){if(typeof _e!="object"||!_e)return _e;var tt=_e[Symbol.toPrimitive];if(tt!==void 0){var nt=tt.call(_e,et||"default");if(typeof nt!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(_e)}function _toPropertyKey(_e){var et=_toPrimitive(_e,"string");return typeof et=="symbol"?et:et+""}function _typeof(_e){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(et){return typeof et}:function(et){return et&&typeof Symbol=="function"&&et.constructor===Symbol&&et!==Symbol.prototype?"symbol":typeof et},_typeof(_e)}function _classCallCheck(_e,et){if(!(_e instanceof et))throw new TypeError("Cannot call a class as a function")}function _defineProperties(_e,et){for(var tt=0;tt<et.length;tt++){var nt=et[tt];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(_e,_toPropertyKey(nt.key),nt)}}function _createClass(_e,et,tt){return et&&_defineProperties(_e.prototype,et),tt&&_defineProperties(_e,tt),Object.defineProperty(_e,"prototype",{writable:!1}),_e}function _defineProperty(_e,et,tt){return et=_toPropertyKey(et),et in _e?Object.defineProperty(_e,et,{value:tt,enumerable:!0,configurable:!0,writable:!0}):_e[et]=tt,_e}function _extends(){return _extends=Object.assign?Object.assign.bind():function(_e){for(var et=1;et<arguments.length;et++){var tt=arguments[et];for(var nt in tt)Object.prototype.hasOwnProperty.call(tt,nt)&&(_e[nt]=tt[nt])}return _e},_extends.apply(this,arguments)}function _inherits(_e,et){if(typeof et!="function"&&et!==null)throw new TypeError("Super expression must either be null or a function");_e.prototype=Object.create(et&&et.prototype,{constructor:{value:_e,writable:!0,configurable:!0}}),Object.defineProperty(_e,"prototype",{writable:!1}),et&&_setPrototypeOf(_e,et)}function _getPrototypeOf(_e){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(tt){return tt.__proto__||Object.getPrototypeOf(tt)},_getPrototypeOf(_e)}function _setPrototypeOf(_e,et){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nt,rt){return nt.__proto__=rt,nt},_setPrototypeOf(_e,et)}function _assertThisInitialized(_e){if(_e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _e}function _possibleConstructorReturn(_e,et){if(et&&(typeof et=="object"||typeof et=="function"))return et;if(et!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(_e)}function _toConsumableArray(_e){return _arrayWithoutHoles(_e)||_iterableToArray(_e)||_unsupportedIterableToArray(_e)||_nonIterableSpread()}function _arrayWithoutHoles(_e){if(Array.isArray(_e))return _arrayLikeToArray(_e)}function _iterableToArray(_e){if(typeof Symbol<"u"&&_e[Symbol.iterator]!=null||_e["@@iterator"]!=null)return Array.from(_e)}function _unsupportedIterableToArray(_e,et){if(_e){if(typeof _e=="string")return _arrayLikeToArray(_e,et);var tt=Object.prototype.toString.call(_e).slice(8,-1);if(tt==="Object"&&_e.constructor&&(tt=_e.constructor.name),tt==="Map"||tt==="Set")return Array.from(_e);if(tt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(tt))return _arrayLikeToArray(_e,et)}}function _arrayLikeToArray(_e,et){(et==null||et>_e.length)&&(et=_e.length);for(var tt=0,nt=new Array(et);tt<et;tt++)nt[tt]=_e[tt];return nt}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var DEFAULT_YEAR_ITEM_NUMBER=12,longFormattingTokensRegExp=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;function newDate(_e){var et=_e?typeof _e=="string"||_e instanceof String?parseISO(_e):toDate(_e):new Date;return isValid(et)?et:null}function parseDate(_e,et,tt,nt,rt){var it=null,ot=getLocaleObject(tt)||getLocaleObject(getDefaultLocale()),st=!0;return Array.isArray(et)?(et.forEach(function(ut){var ft=parse(_e,ut,new Date,{locale:ot,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});nt&&(st=isValid(ft,rt)&&_e===formatDate(ft,ut,tt)),isValid(ft,rt)&&st&&(it=ft)}),it):(it=parse(_e,et,new Date,{locale:ot,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0}),nt?st=isValid(it)&&_e===formatDate(it,et,tt):isValid(it)||(et=et.match(longFormattingTokensRegExp).map(function(ut){var ft=ut[0];if(ft==="p"||ft==="P"){var dt=longFormatters[ft];return ot?dt(ut,ot.formatLong):ft}return ut}).join(""),_e.length>0&&(it=parse(_e,et.slice(0,_e.length),new Date,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})),isValid(it)||(it=new Date(_e))),isValid(it)&&st?it:null)}function isValid(_e,et){return et=et||new Date("1/1/1000"),isValid$1(_e)&&!isBefore(_e,et)}function formatDate(_e,et,tt){if(tt==="en")return format(_e,et,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var nt=getLocaleObject(tt);return tt&&!nt&&console.warn('A locale object was not found for the provided string ["'.concat(tt,'"].')),!nt&&getDefaultLocale()&&getLocaleObject(getDefaultLocale())&&(nt=getLocaleObject(getDefaultLocale())),format(_e,et,{locale:nt||null,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function safeDateFormat(_e,et){var tt=et.dateFormat,nt=et.locale;return _e&&formatDate(_e,Array.isArray(tt)?tt[0]:tt,nt)||""}function safeDateRangeFormat(_e,et,tt){if(!_e)return"";var nt=safeDateFormat(_e,tt),rt=et?safeDateFormat(et,tt):"";return"".concat(nt," - ").concat(rt)}function safeMultipleDatesFormat(_e,et){if(!(_e!=null&&_e.length))return"";var tt=safeDateFormat(_e[0],et);if(_e.length===1)return tt;if(_e.length===2){var nt=safeDateFormat(_e[1],et);return"".concat(tt,", ").concat(nt)}var rt=_e.length-1;return"".concat(tt," (+").concat(rt,")")}function setTime(_e,et){var tt=et.hour,nt=tt===void 0?0:tt,rt=et.minute,it=rt===void 0?0:rt,ot=et.second,st=ot===void 0?0:ot;return setHours(setMinutes(setSeconds(_e,st),it),nt)}function getWeek(_e,et){return getDefaultLocale()&&getLocaleObject(getDefaultLocale()),getISOWeek(_e)}function getDayOfWeekCode(_e,et){return formatDate(_e,"ddd",et)}function getStartOfDay(_e){return startOfDay(_e)}function getStartOfWeek(_e,et,tt){var nt=getLocaleObject(et||getDefaultLocale());return startOfWeek(_e,{locale:nt,weekStartsOn:tt})}function getStartOfMonth(_e){return startOfMonth(_e)}function getStartOfYear(_e){return startOfYear(_e)}function getStartOfQuarter(_e){return startOfQuarter(_e)}function getStartOfToday(){return startOfDay(newDate())}function getEndOfWeek(_e){return endOfWeek(_e)}function isSameYear(_e,et){return _e&&et?isSameYear$1(_e,et):!_e&&!et}function isSameMonth(_e,et){return _e&&et?isSameMonth$1(_e,et):!_e&&!et}function isSameQuarter(_e,et){return _e&&et?isSameQuarter$1(_e,et):!_e&&!et}function isSameDay(_e,et){return _e&&et?isSameDay$1(_e,et):!_e&&!et}function isEqual(_e,et){return _e&&et?isEqual$1(_e,et):!_e&&!et}function isDayInRange(_e,et,tt){var nt,rt=startOfDay(et),it=endOfDay(tt);try{nt=isWithinInterval(_e,{start:rt,end:it})}catch{nt=!1}return nt}function registerLocale(_e,et){var tt=typeof window<"u"?window:globalThis;tt.__localeData__||(tt.__localeData__={}),tt.__localeData__[_e]=et}function setDefaultLocale(_e){var et=typeof window<"u"?window:globalThis;et.__localeId__=_e}function getDefaultLocale(){var _e=typeof window<"u"?window:globalThis;return _e.__localeId__}function getLocaleObject(_e){if(typeof _e=="string"){var et=typeof window<"u"?window:globalThis;return et.__localeData__?et.__localeData__[_e]:null}else return _e}function getFormattedWeekdayInLocale(_e,et,tt){return et(formatDate(_e,"EEEE",tt))}function getWeekdayMinInLocale(_e,et){return formatDate(_e,"EEEEEE",et)}function getWeekdayShortInLocale(_e,et){return formatDate(_e,"EEE",et)}function getMonthInLocale(_e,et){return formatDate(setMonth(newDate(),_e),"LLLL",et)}function getMonthShortInLocale(_e,et){return formatDate(setMonth(newDate(),_e),"LLL",et)}function getQuarterShortInLocale(_e,et){return formatDate(setQuarter(newDate(),_e),"QQQ",et)}function isDayDisabled(_e){var et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},tt=et.minDate,nt=et.maxDate,rt=et.excludeDates,it=et.excludeDateIntervals,ot=et.includeDates,st=et.includeDateIntervals,ut=et.filterDate;return isOutOfBounds(_e,{minDate:tt,maxDate:nt})||rt&&rt.some(function(ft){return isSameDay(_e,ft.date?ft.date:ft)})||it&&it.some(function(ft){var dt=ft.start,lt=ft.end;return isWithinInterval(_e,{start:dt,end:lt})})||ot&&!ot.some(function(ft){return isSameDay(_e,ft)})||st&&!st.some(function(ft){var dt=ft.start,lt=ft.end;return isWithinInterval(_e,{start:dt,end:lt})})||ut&&!ut(newDate(_e))||!1}function isDayExcluded(_e){var et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},tt=et.excludeDates,nt=et.excludeDateIntervals;return nt&&nt.length>0?nt.some(function(rt){var it=rt.start,ot=rt.end;return isWithinInterval(_e,{start:it,end:ot})}):tt&&tt.some(function(rt){return isSameDay(_e,rt.date?rt.date:rt)})||!1}function isMonthDisabled(_e){var et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},tt=et.minDate,nt=et.maxDate,rt=et.excludeDates,it=et.includeDates,ot=et.filterDate;return isOutOfBounds(_e,{minDate:startOfMonth(tt),maxDate:endOfMonth(nt)})||rt&&rt.some(function(st){return isSameMonth(_e,st)})||it&&!it.some(function(st){return isSameMonth(_e,st)})||ot&&!ot(newDate(_e))||!1}function isMonthInRange(_e,et,tt,nt){var rt=getYear(_e),it=getMonth(_e),ot=getYear(et),st=getMonth(et),ut=getYear(nt);if(rt===ot&&rt===ut)return it<=tt&&tt<=st;if(rt<ot)return ut===rt&&it<=tt||ut===ot&&st>=tt||ut<ot&&ut>rt}function isQuarterDisabled(_e){var et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},tt=et.minDate,nt=et.maxDate,rt=et.excludeDates,it=et.includeDates,ot=et.filterDate;return isOutOfBounds(_e,{minDate:tt,maxDate:nt})||rt&&rt.some(function(st){return isSameQuarter(_e,st)})||it&&!it.some(function(st){return isSameQuarter(_e,st)})||ot&&!ot(newDate(_e))||!1}function isYearInRange(_e,et,tt){if(!isValid$1(et)||!isValid$1(tt))return!1;var nt=getYear(et),rt=getYear(tt);return nt<=_e&&rt>=_e}function isYearDisabled(_e){var et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},tt=et.minDate,nt=et.maxDate,rt=et.excludeDates,it=et.includeDates,ot=et.filterDate,st=new Date(_e,0,1);return isOutOfBounds(st,{minDate:startOfYear(tt),maxDate:endOfYear(nt)})||rt&&rt.some(function(ut){return isSameYear(st,ut)})||it&&!it.some(function(ut){return isSameYear(st,ut)})||ot&&!ot(newDate(st))||!1}function isQuarterInRange(_e,et,tt,nt){var rt=getYear(_e),it=getQuarter(_e),ot=getYear(et),st=getQuarter(et),ut=getYear(nt);if(rt===ot&&rt===ut)return it<=tt&&tt<=st;if(rt<ot)return ut===rt&&it<=tt||ut===ot&&st>=tt||ut<ot&&ut>rt}function isOutOfBounds(_e){var et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},tt=et.minDate,nt=et.maxDate;return tt&&differenceInCalendarDays(_e,tt)<0||nt&&differenceInCalendarDays(_e,nt)>0}function isTimeInList(_e,et){return et.some(function(tt){return getHours(tt)===getHours(_e)&&getMinutes(tt)===getMinutes(_e)&&getSeconds(tt)===getSeconds(_e)})}function isTimeDisabled(_e){var et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},tt=et.excludeTimes,nt=et.includeTimes,rt=et.filterTime;return tt&&isTimeInList(_e,tt)||nt&&!isTimeInList(_e,nt)||rt&&!rt(_e)||!1}function isTimeInDisabledRange(_e,et){var tt=et.minTime,nt=et.maxTime;if(!tt||!nt)throw new Error("Both minTime and maxTime props required");var rt=newDate();rt=setHours(rt,getHours(_e)),rt=setMinutes(rt,getMinutes(_e)),rt=setSeconds(rt,getSeconds(_e));var it=newDate();it=setHours(it,getHours(tt)),it=setMinutes(it,getMinutes(tt)),it=setSeconds(it,getSeconds(tt));var ot=newDate();ot=setHours(ot,getHours(nt)),ot=setMinutes(ot,getMinutes(nt)),ot=setSeconds(ot,getSeconds(nt));var st;try{st=!isWithinInterval(rt,{start:it,end:ot})}catch{st=!1}return st}function monthDisabledBefore(_e){var et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},tt=et.minDate,nt=et.includeDates,rt=subMonths(_e,1);return tt&&differenceInCalendarMonths(tt,rt)>0||nt&&nt.every(function(it){return differenceInCalendarMonths(it,rt)>0})||!1}function monthDisabledAfter(_e){var et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},tt=et.maxDate,nt=et.includeDates,rt=addMonths(_e,1);return tt&&differenceInCalendarMonths(rt,tt)>0||nt&&nt.every(function(it){return differenceInCalendarMonths(rt,it)>0})||!1}function quarterDisabledBefore(_e){var et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},tt=et.minDate,nt=et.includeDates,rt=startOfYear(_e),it=subQuarters(rt,1);return tt&&differenceInCalendarQuarters(tt,it)>0||nt&&nt.every(function(ot){return differenceInCalendarQuarters(ot,it)>0})||!1}function quarterDisabledAfter(_e){var et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},tt=et.maxDate,nt=et.includeDates,rt=endOfYear(_e),it=addQuarters(rt,1);return tt&&differenceInCalendarQuarters(it,tt)>0||nt&&nt.every(function(ot){return differenceInCalendarQuarters(it,ot)>0})||!1}function yearDisabledBefore(_e){var et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},tt=et.minDate,nt=et.includeDates,rt=subYears(_e,1);return tt&&differenceInCalendarYears(tt,rt)>0||nt&&nt.every(function(it){return differenceInCalendarYears(it,rt)>0})||!1}function yearsDisabledBefore(_e){var et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},tt=et.minDate,nt=et.yearItemNumber,rt=nt===void 0?DEFAULT_YEAR_ITEM_NUMBER:nt,it=getStartOfYear(subYears(_e,rt)),ot=getYearsPeriod(it,rt),st=ot.endPeriod,ut=tt&&getYear(tt);return ut&&ut>st||!1}function yearDisabledAfter(_e){var et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},tt=et.maxDate,nt=et.includeDates,rt=addYears(_e,1);return tt&&differenceInCalendarYears(rt,tt)>0||nt&&nt.every(function(it){return differenceInCalendarYears(rt,it)>0})||!1}function yearsDisabledAfter(_e){var et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},tt=et.maxDate,nt=et.yearItemNumber,rt=nt===void 0?DEFAULT_YEAR_ITEM_NUMBER:nt,it=addYears(_e,rt),ot=getYearsPeriod(it,rt),st=ot.startPeriod,ut=tt&&getYear(tt);return ut&&ut<st||!1}function getEffectiveMinDate(_e){var et=_e.minDate,tt=_e.includeDates;if(tt&&et){var nt=tt.filter(function(rt){return differenceInCalendarDays(rt,et)>=0});return min$1(nt)}else return tt?min$1(tt):et}function getEffectiveMaxDate(_e){var et=_e.maxDate,tt=_e.includeDates;if(tt&&et){var nt=tt.filter(function(rt){return differenceInCalendarDays(rt,et)<=0});return max$1(nt)}else return tt?max$1(tt):et}function getHightLightDaysMap(){for(var _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"react-datepicker__day--highlighted",tt=new Map,nt=0,rt=_e.length;nt<rt;nt++){var it=_e[nt];if(isDate(it)){var ot=formatDate(it,"MM.dd.yyyy"),st=tt.get(ot)||[];st.includes(et)||(st.push(et),tt.set(ot,st))}else if(_typeof(it)==="object"){var ut=Object.keys(it),ft=ut[0],dt=it[ut[0]];if(typeof ft=="string"&&dt.constructor===Array)for(var lt=0,at=dt.length;lt<at;lt++){var ct=formatDate(dt[lt],"MM.dd.yyyy"),ht=tt.get(ct)||[];ht.includes(ft)||(ht.push(ft),tt.set(ct,ht))}}}return tt}function arraysAreEqual(_e,et){return _e.length!==et.length?!1:_e.every(function(tt,nt){return tt===et[nt]})}function getHolidaysMap(){var _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"react-datepicker__day--holidays",tt=new Map;return _e.forEach(function(nt){var rt=nt.date,it=nt.holidayName;if(isDate(rt)){var ot=formatDate(rt,"MM.dd.yyyy"),st=tt.get(ot)||{};if(!("className"in st&&st.className===et&&arraysAreEqual(st.holidayNames,[it]))){st.className=et;var ut=st.holidayNames;st.holidayNames=ut?[].concat(_toConsumableArray(ut),[it]):[it],tt.set(ot,st)}}}),tt}function timesToInjectAfter(_e,et,tt,nt,rt){for(var it=rt.length,ot=[],st=0;st<it;st++){var ut=_e;ut=addHours(ut,getHours(rt[st])),ut=addMinutes(ut,getMinutes(rt[st])),ut=addSeconds(ut,getSeconds(rt[st]));var ft=addMinutes(_e,(tt+1)*nt);isAfter(ut,et)&&isBefore(ut,ft)&&ot.push(rt[st])}return ot}function addZero(_e){return _e<10?"0".concat(_e):"".concat(_e)}function getYearsPeriod(_e){var et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:DEFAULT_YEAR_ITEM_NUMBER,tt=Math.ceil(getYear(_e)/et)*et,nt=tt-(et-1);return{startPeriod:nt,endPeriod:tt}}function getHoursInDay(_e){var et=new Date(_e.getFullYear(),_e.getMonth(),_e.getDate()),tt=new Date(_e.getFullYear(),_e.getMonth(),_e.getDate(),24);return Math.round((+tt-+et)/36e5)}function startOfMinute(_e){var et=_e.getSeconds(),tt=_e.getMilliseconds();return toDate(_e.getTime()-et*1e3-tt)}function isSameMinute(_e,et){return startOfMinute(_e).getTime()===startOfMinute(et).getTime()}function getMidnightDate(_e){if(!isDate(_e))throw new Error("Invalid date");var et=new Date(_e);return et.setHours(0,0,0,0),et}function isDateBefore(_e,et){if(!isDate(_e)||!isDate(et))throw new Error("Invalid date received");var tt=getMidnightDate(_e),nt=getMidnightDate(et);return isBefore(tt,nt)}function isSpaceKeyDown(_e){var et=" ";return _e.key===et}function generateYears(_e,et,tt,nt){for(var rt=[],it=0;it<2*et+1;it++){var ot=_e+et-it,st=!0;tt&&(st=getYear(tt)<=ot),nt&&st&&(st=getYear(nt)>=ot),st&&rt.push(ot)}return rt}var YearDropdownOptions=function(_e){function et(tt){var nt;_classCallCheck(this,et),nt=_callSuper(this,et,[tt]),_defineProperty(nt,"renderOptions",function(){var st=nt.props.year,ut=nt.state.yearsList.map(function(lt){return React.createElement("div",{className:st===lt?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:lt,onClick:nt.onChange.bind(nt,lt),"aria-selected":st===lt?"true":void 0},st===lt?React.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",lt)}),ft=nt.props.minDate?getYear(nt.props.minDate):null,dt=nt.props.maxDate?getYear(nt.props.maxDate):null;return(!dt||!nt.state.yearsList.find(function(lt){return lt===dt}))&&ut.unshift(React.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:nt.incrementYears},React.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!ft||!nt.state.yearsList.find(function(lt){return lt===ft}))&&ut.push(React.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:nt.decrementYears},React.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),ut}),_defineProperty(nt,"onChange",function(st){nt.props.onChange(st)}),_defineProperty(nt,"handleClickOutside",function(){nt.props.onCancel()}),_defineProperty(nt,"shiftYears",function(st){var ut=nt.state.yearsList.map(function(ft){return ft+st});nt.setState({yearsList:ut})}),_defineProperty(nt,"incrementYears",function(){return nt.shiftYears(1)}),_defineProperty(nt,"decrementYears",function(){return nt.shiftYears(-1)});var rt=tt.yearDropdownItemNumber,it=tt.scrollableYearDropdown,ot=rt||(it?10:5);return nt.state={yearsList:generateYears(nt.props.year,ot,nt.props.minDate,nt.props.maxDate)},nt.dropdownRef=reactExports.createRef(),nt}return _inherits(et,_e),_createClass(et,[{key:"componentDidMount",value:function(){var nt=this.dropdownRef.current;if(nt){var rt=nt.children?Array.from(nt.children):null,it=rt?rt.find(function(ot){return ot.ariaSelected}):null;nt.scrollTop=it?it.offsetTop+(it.clientHeight-nt.clientHeight)/2:(nt.scrollHeight-nt.clientHeight)/2}}},{key:"render",value:function(){var nt=clsx({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return React.createElement("div",{className:nt,ref:this.dropdownRef},this.renderOptions())}}])}(React.Component),WrappedYearDropdownOptions=onClickOutsideHOC(YearDropdownOptions),YearDropdown=function(_e){function et(){var tt;_classCallCheck(this,et);for(var nt=arguments.length,rt=new Array(nt),it=0;it<nt;it++)rt[it]=arguments[it];return tt=_callSuper(this,et,[].concat(rt)),_defineProperty(tt,"state",{dropdownVisible:!1}),_defineProperty(tt,"renderSelectOptions",function(){for(var ot=tt.props.minDate?getYear(tt.props.minDate):1900,st=tt.props.maxDate?getYear(tt.props.maxDate):2100,ut=[],ft=ot;ft<=st;ft++)ut.push(React.createElement("option",{key:ft,value:ft},ft));return ut}),_defineProperty(tt,"onSelectChange",function(ot){tt.onChange(ot.target.value)}),_defineProperty(tt,"renderSelectMode",function(){return React.createElement("select",{value:tt.props.year,className:"react-datepicker__year-select",onChange:tt.onSelectChange},tt.renderSelectOptions())}),_defineProperty(tt,"renderReadView",function(ot){return React.createElement("div",{key:"read",style:{visibility:ot?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(ut){return tt.toggleDropdown(ut)}},React.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),React.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},tt.props.year))}),_defineProperty(tt,"renderDropdown",function(){return React.createElement(WrappedYearDropdownOptions,{key:"dropdown",year:tt.props.year,onChange:tt.onChange,onCancel:tt.toggleDropdown,minDate:tt.props.minDate,maxDate:tt.props.maxDate,scrollableYearDropdown:tt.props.scrollableYearDropdown,yearDropdownItemNumber:tt.props.yearDropdownItemNumber})}),_defineProperty(tt,"renderScrollMode",function(){var ot=tt.state.dropdownVisible,st=[tt.renderReadView(!ot)];return ot&&st.unshift(tt.renderDropdown()),st}),_defineProperty(tt,"onChange",function(ot){tt.toggleDropdown(),ot!==tt.props.year&&tt.props.onChange(ot)}),_defineProperty(tt,"toggleDropdown",function(ot){tt.setState({dropdownVisible:!tt.state.dropdownVisible},function(){tt.props.adjustDateOnChange&&tt.handleYearChange(tt.props.date,ot)})}),_defineProperty(tt,"handleYearChange",function(ot,st){tt.onSelect(ot,st),tt.setOpen()}),_defineProperty(tt,"onSelect",function(ot,st){tt.props.onSelect&&tt.props.onSelect(ot,st)}),_defineProperty(tt,"setOpen",function(){tt.props.setOpen&&tt.props.setOpen(!0)}),tt}return _inherits(et,_e),_createClass(et,[{key:"render",value:function(){var nt;switch(this.props.dropdownMode){case"scroll":nt=this.renderScrollMode();break;case"select":nt=this.renderSelectMode();break}return React.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},nt)}}])}(React.Component),MonthDropdownOptions=function(_e){function et(){var tt;_classCallCheck(this,et);for(var nt=arguments.length,rt=new Array(nt),it=0;it<nt;it++)rt[it]=arguments[it];return tt=_callSuper(this,et,[].concat(rt)),_defineProperty(tt,"isSelectedMonth",function(ot){return tt.props.month===ot}),_defineProperty(tt,"renderOptions",function(){return tt.props.monthNames.map(function(ot,st){return React.createElement("div",{className:tt.isSelectedMonth(st)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:ot,onClick:tt.onChange.bind(tt,st),"aria-selected":tt.isSelectedMonth(st)?"true":void 0},tt.isSelectedMonth(st)?React.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",ot)})}),_defineProperty(tt,"onChange",function(ot){return tt.props.onChange(ot)}),_defineProperty(tt,"handleClickOutside",function(){return tt.props.onCancel()}),tt}return _inherits(et,_e),_createClass(et,[{key:"render",value:function(){return React.createElement("div",{className:"react-datepicker__month-dropdown"},this.renderOptions())}}])}(React.Component),WrappedMonthDropdownOptions=onClickOutsideHOC(MonthDropdownOptions),MonthDropdown=function(_e){function et(){var tt;_classCallCheck(this,et);for(var nt=arguments.length,rt=new Array(nt),it=0;it<nt;it++)rt[it]=arguments[it];return tt=_callSuper(this,et,[].concat(rt)),_defineProperty(tt,"state",{dropdownVisible:!1}),_defineProperty(tt,"renderSelectOptions",function(ot){return ot.map(function(st,ut){return React.createElement("option",{key:ut,value:ut},st)})}),_defineProperty(tt,"renderSelectMode",function(ot){return React.createElement("select",{value:tt.props.month,className:"react-datepicker__month-select",onChange:function(ut){return tt.onChange(ut.target.value)}},tt.renderSelectOptions(ot))}),_defineProperty(tt,"renderReadView",function(ot,st){return React.createElement("div",{key:"read",style:{visibility:ot?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:tt.toggleDropdown},React.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),React.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},st[tt.props.month]))}),_defineProperty(tt,"renderDropdown",function(ot){return React.createElement(WrappedMonthDropdownOptions,{key:"dropdown",month:tt.props.month,monthNames:ot,onChange:tt.onChange,onCancel:tt.toggleDropdown})}),_defineProperty(tt,"renderScrollMode",function(ot){var st=tt.state.dropdownVisible,ut=[tt.renderReadView(!st,ot)];return st&&ut.unshift(tt.renderDropdown(ot)),ut}),_defineProperty(tt,"onChange",function(ot){tt.toggleDropdown(),ot!==tt.props.month&&tt.props.onChange(ot)}),_defineProperty(tt,"toggleDropdown",function(){return tt.setState({dropdownVisible:!tt.state.dropdownVisible})}),tt}return _inherits(et,_e),_createClass(et,[{key:"render",value:function(){var nt=this,rt=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(ot){return getMonthShortInLocale(ot,nt.props.locale)}:function(ot){return getMonthInLocale(ot,nt.props.locale)}),it;switch(this.props.dropdownMode){case"scroll":it=this.renderScrollMode(rt);break;case"select":it=this.renderSelectMode(rt);break}return React.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},it)}}])}(React.Component);function generateMonthYears(_e,et){for(var tt=[],nt=getStartOfMonth(_e),rt=getStartOfMonth(et);!isAfter(nt,rt);)tt.push(newDate(nt)),nt=addMonths(nt,1);return tt}var MonthYearDropdownOptions=function(_e){function et(tt){var nt;return _classCallCheck(this,et),nt=_callSuper(this,et,[tt]),_defineProperty(nt,"renderOptions",function(){return nt.state.monthYearsList.map(function(rt){var it=getTime(rt),ot=isSameYear(nt.props.date,rt)&&isSameMonth(nt.props.date,rt);return React.createElement("div",{className:ot?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:it,onClick:nt.onChange.bind(nt,it),"aria-selected":ot?"true":void 0},ot?React.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",formatDate(rt,nt.props.dateFormat,nt.props.locale))})}),_defineProperty(nt,"onChange",function(rt){return nt.props.onChange(rt)}),_defineProperty(nt,"handleClickOutside",function(){nt.props.onCancel()}),nt.state={monthYearsList:generateMonthYears(nt.props.minDate,nt.props.maxDate)},nt}return _inherits(et,_e),_createClass(et,[{key:"render",value:function(){var nt=clsx({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return React.createElement("div",{className:nt},this.renderOptions())}}])}(React.Component),WrappedMonthYearDropdownOptions=onClickOutsideHOC(MonthYearDropdownOptions),MonthYearDropdown=function(_e){function et(){var tt;_classCallCheck(this,et);for(var nt=arguments.length,rt=new Array(nt),it=0;it<nt;it++)rt[it]=arguments[it];return tt=_callSuper(this,et,[].concat(rt)),_defineProperty(tt,"state",{dropdownVisible:!1}),_defineProperty(tt,"renderSelectOptions",function(){for(var ot=getStartOfMonth(tt.props.minDate),st=getStartOfMonth(tt.props.maxDate),ut=[];!isAfter(ot,st);){var ft=getTime(ot);ut.push(React.createElement("option",{key:ft,value:ft},formatDate(ot,tt.props.dateFormat,tt.props.locale))),ot=addMonths(ot,1)}return ut}),_defineProperty(tt,"onSelectChange",function(ot){tt.onChange(ot.target.value)}),_defineProperty(tt,"renderSelectMode",function(){return React.createElement("select",{value:getTime(getStartOfMonth(tt.props.date)),className:"react-datepicker__month-year-select",onChange:tt.onSelectChange},tt.renderSelectOptions())}),_defineProperty(tt,"renderReadView",function(ot){var st=formatDate(tt.props.date,tt.props.dateFormat,tt.props.locale);return React.createElement("div",{key:"read",style:{visibility:ot?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:function(ft){return tt.toggleDropdown(ft)}},React.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),React.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},st))}),_defineProperty(tt,"renderDropdown",function(){return React.createElement(WrappedMonthYearDropdownOptions,{key:"dropdown",date:tt.props.date,dateFormat:tt.props.dateFormat,onChange:tt.onChange,onCancel:tt.toggleDropdown,minDate:tt.props.minDate,maxDate:tt.props.maxDate,scrollableMonthYearDropdown:tt.props.scrollableMonthYearDropdown,locale:tt.props.locale})}),_defineProperty(tt,"renderScrollMode",function(){var ot=tt.state.dropdownVisible,st=[tt.renderReadView(!ot)];return ot&&st.unshift(tt.renderDropdown()),st}),_defineProperty(tt,"onChange",function(ot){tt.toggleDropdown();var st=newDate(parseInt(ot));isSameYear(tt.props.date,st)&&isSameMonth(tt.props.date,st)||tt.props.onChange(st)}),_defineProperty(tt,"toggleDropdown",function(){return tt.setState({dropdownVisible:!tt.state.dropdownVisible})}),tt}return _inherits(et,_e),_createClass(et,[{key:"render",value:function(){var nt;switch(this.props.dropdownMode){case"scroll":nt=this.renderScrollMode();break;case"select":nt=this.renderSelectMode();break}return React.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},nt)}}])}(React.Component),Day=function(_e){function et(){var tt;_classCallCheck(this,et);for(var nt=arguments.length,rt=new Array(nt),it=0;it<nt;it++)rt[it]=arguments[it];return tt=_callSuper(this,et,[].concat(rt)),_defineProperty(tt,"dayEl",React.createRef()),_defineProperty(tt,"handleClick",function(ot){!tt.isDisabled()&&tt.props.onClick&&tt.props.onClick(ot)}),_defineProperty(tt,"handleMouseEnter",function(ot){!tt.isDisabled()&&tt.props.onMouseEnter&&tt.props.onMouseEnter(ot)}),_defineProperty(tt,"handleOnKeyDown",function(ot){var st=ot.key;st===" "&&(ot.preventDefault(),ot.key="Enter"),tt.props.handleOnKeyDown(ot)}),_defineProperty(tt,"isSameDay",function(ot){return isSameDay(tt.props.day,ot)}),_defineProperty(tt,"isKeyboardSelected",function(){var ot;if(tt.props.disabledKeyboardNavigation)return!1;var st=tt.props.selectsMultiple?(ot=tt.props.selectedDates)===null||ot===void 0?void 0:ot.some(function(ut){return tt.isSameDayOrWeek(ut)}):tt.isSameDayOrWeek(tt.props.selected);return!st&&tt.isSameDayOrWeek(tt.props.preSelection)}),_defineProperty(tt,"isDisabled",function(){return isDayDisabled(tt.props.day,tt.props)}),_defineProperty(tt,"isExcluded",function(){return isDayExcluded(tt.props.day,tt.props)}),_defineProperty(tt,"isStartOfWeek",function(){return isSameDay(tt.props.day,getStartOfWeek(tt.props.day,tt.props.locale,tt.props.calendarStartDay))}),_defineProperty(tt,"isSameWeek",function(ot){return tt.props.showWeekPicker&&isSameDay(ot,getStartOfWeek(tt.props.day,tt.props.locale,tt.props.calendarStartDay))}),_defineProperty(tt,"isSameDayOrWeek",function(ot){return tt.isSameDay(ot)||tt.isSameWeek(ot)}),_defineProperty(tt,"getHighLightedClass",function(){var ot=tt.props,st=ot.day,ut=ot.highlightDates;if(!ut)return!1;var ft=formatDate(st,"MM.dd.yyyy");return ut.get(ft)}),_defineProperty(tt,"getHolidaysClass",function(){var ot=tt.props,st=ot.day,ut=ot.holidays;if(!ut)return!1;var ft=formatDate(st,"MM.dd.yyyy");if(ut.has(ft))return[ut.get(ft).className]}),_defineProperty(tt,"isInRange",function(){var ot=tt.props,st=ot.day,ut=ot.startDate,ft=ot.endDate;return!ut||!ft?!1:isDayInRange(st,ut,ft)}),_defineProperty(tt,"isInSelectingRange",function(){var ot,st=tt.props,ut=st.day,ft=st.selectsStart,dt=st.selectsEnd,lt=st.selectsRange,at=st.selectsDisabledDaysInRange,ct=st.startDate,ht=st.endDate,pt=(ot=tt.props.selectingDate)!==null&&ot!==void 0?ot:tt.props.preSelection;return!(ft||dt||lt)||!pt||!at&&tt.isDisabled()?!1:ft&&ht&&(isBefore(pt,ht)||isEqual(pt,ht))?isDayInRange(ut,pt,ht):dt&&ct&&(isAfter(pt,ct)||isEqual(pt,ct))||lt&&ct&&!ht&&(isAfter(pt,ct)||isEqual(pt,ct))?isDayInRange(ut,ct,pt):!1}),_defineProperty(tt,"isSelectingRangeStart",function(){var ot;if(!tt.isInSelectingRange())return!1;var st=tt.props,ut=st.day,ft=st.startDate,dt=st.selectsStart,lt=(ot=tt.props.selectingDate)!==null&&ot!==void 0?ot:tt.props.preSelection;return dt?isSameDay(ut,lt):isSameDay(ut,ft)}),_defineProperty(tt,"isSelectingRangeEnd",function(){var ot;if(!tt.isInSelectingRange())return!1;var st=tt.props,ut=st.day,ft=st.endDate,dt=st.selectsEnd,lt=st.selectsRange,at=(ot=tt.props.selectingDate)!==null&&ot!==void 0?ot:tt.props.preSelection;return dt||lt?isSameDay(ut,at):isSameDay(ut,ft)}),_defineProperty(tt,"isRangeStart",function(){var ot=tt.props,st=ot.day,ut=ot.startDate,ft=ot.endDate;return!ut||!ft?!1:isSameDay(ut,st)}),_defineProperty(tt,"isRangeEnd",function(){var ot=tt.props,st=ot.day,ut=ot.startDate,ft=ot.endDate;return!ut||!ft?!1:isSameDay(ft,st)}),_defineProperty(tt,"isWeekend",function(){var ot=getDay(tt.props.day);return ot===0||ot===6}),_defineProperty(tt,"isAfterMonth",function(){return tt.props.month!==void 0&&(tt.props.month+1)%12===getMonth(tt.props.day)}),_defineProperty(tt,"isBeforeMonth",function(){return tt.props.month!==void 0&&(getMonth(tt.props.day)+1)%12===tt.props.month}),_defineProperty(tt,"isCurrentDay",function(){return tt.isSameDay(newDate())}),_defineProperty(tt,"isSelected",function(){if(tt.props.selectsMultiple){var ot;return(ot=tt.props.selectedDates)===null||ot===void 0?void 0:ot.some(function(st){return tt.isSameDayOrWeek(st)})}return tt.isSameDayOrWeek(tt.props.selected)}),_defineProperty(tt,"getClassNames",function(ot){var st=tt.props.dayClassName?tt.props.dayClassName(ot):void 0;return clsx("react-datepicker__day",st,"react-datepicker__day--"+getDayOfWeekCode(tt.props.day),{"react-datepicker__day--disabled":tt.isDisabled(),"react-datepicker__day--excluded":tt.isExcluded(),"react-datepicker__day--selected":tt.isSelected(),"react-datepicker__day--keyboard-selected":tt.isKeyboardSelected(),"react-datepicker__day--range-start":tt.isRangeStart(),"react-datepicker__day--range-end":tt.isRangeEnd(),"react-datepicker__day--in-range":tt.isInRange(),"react-datepicker__day--in-selecting-range":tt.isInSelectingRange(),"react-datepicker__day--selecting-range-start":tt.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":tt.isSelectingRangeEnd(),"react-datepicker__day--today":tt.isCurrentDay(),"react-datepicker__day--weekend":tt.isWeekend(),"react-datepicker__day--outside-month":tt.isAfterMonth()||tt.isBeforeMonth()},tt.getHighLightedClass("react-datepicker__day--highlighted"),tt.getHolidaysClass())}),_defineProperty(tt,"getAriaLabel",function(){var ot=tt.props,st=ot.day,ut=ot.ariaLabelPrefixWhenEnabled,ft=ut===void 0?"Choose":ut,dt=ot.ariaLabelPrefixWhenDisabled,lt=dt===void 0?"Not available":dt,at=tt.isDisabled()||tt.isExcluded()?lt:ft;return"".concat(at," ").concat(formatDate(st,"PPPP",tt.props.locale))}),_defineProperty(tt,"getTitle",function(){var ot=tt.props,st=ot.day,ut=ot.holidays,ft=ut===void 0?new Map:ut,dt=ot.excludeDates,lt=formatDate(st,"MM.dd.yyyy"),at=[];return ft.has(lt)&&at.push.apply(at,_toConsumableArray(ft.get(lt).holidayNames)),tt.isExcluded()&&at.push(dt==null?void 0:dt.filter(function(ct){return isSameDay(ct.date?ct.date:ct,st)}).map(function(ct){return ct.message})),at.join(", ")}),_defineProperty(tt,"getTabIndex",function(ot,st){var ut=ot||tt.props.selected,ft=st||tt.props.preSelection,dt=!(tt.props.showWeekPicker&&(tt.props.showWeekNumber||!tt.isStartOfWeek()))&&(tt.isKeyboardSelected()||tt.isSameDay(ut)&&isSameDay(ft,ut))?0:-1;return dt}),_defineProperty(tt,"handleFocusDay",function(){var ot,st=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ut=!1;tt.getTabIndex()===0&&!st.isInputFocused&&tt.isSameDay(tt.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(ut=!0),tt.props.inline&&!tt.props.shouldFocusDayInline&&(ut=!1),tt.props.containerRef&&tt.props.containerRef.current&&tt.props.containerRef.current.contains(document.activeElement)&&document.activeElement.classList.contains("react-datepicker__day")&&(ut=!0),tt.props.monthShowsDuplicateDaysEnd&&tt.isAfterMonth()&&(ut=!1),tt.props.monthShowsDuplicateDaysStart&&tt.isBeforeMonth()&&(ut=!1)),ut&&((ot=tt.dayEl.current)===null||ot===void 0||ot.focus({preventScroll:!0}))}),_defineProperty(tt,"renderDayContents",function(){return tt.props.monthShowsDuplicateDaysEnd&&tt.isAfterMonth()||tt.props.monthShowsDuplicateDaysStart&&tt.isBeforeMonth()?null:tt.props.renderDayContents?tt.props.renderDayContents(getDate(tt.props.day),tt.props.day):getDate(tt.props.day)}),_defineProperty(tt,"render",function(){return React.createElement("div",{ref:tt.dayEl,className:tt.getClassNames(tt.props.day),onKeyDown:tt.handleOnKeyDown,onClick:tt.handleClick,onMouseEnter:tt.props.usePointerEvent?void 0:tt.handleMouseEnter,onPointerEnter:tt.props.usePointerEvent?tt.handleMouseEnter:void 0,tabIndex:tt.getTabIndex(),"aria-label":tt.getAriaLabel(),role:"option",title:tt.getTitle(),"aria-disabled":tt.isDisabled(),"aria-current":tt.isCurrentDay()?"date":void 0,"aria-selected":tt.isSelected()||tt.isInRange()},tt.renderDayContents(),tt.getTitle()!==""&&React.createElement("span",{className:"overlay"},tt.getTitle()))}),tt}return _inherits(et,_e),_createClass(et,[{key:"componentDidMount",value:function(){this.handleFocusDay()}},{key:"componentDidUpdate",value:function(nt){this.handleFocusDay(nt)}}])}(React.Component),WeekNumber=function(_e){function et(){var tt;_classCallCheck(this,et);for(var nt=arguments.length,rt=new Array(nt),it=0;it<nt;it++)rt[it]=arguments[it];return tt=_callSuper(this,et,[].concat(rt)),_defineProperty(tt,"weekNumberEl",React.createRef()),_defineProperty(tt,"handleClick",function(ot){tt.props.onClick&&tt.props.onClick(ot)}),_defineProperty(tt,"handleOnKeyDown",function(ot){var st=ot.key;st===" "&&(ot.preventDefault(),ot.key="Enter"),tt.props.handleOnKeyDown(ot)}),_defineProperty(tt,"isKeyboardSelected",function(){return!tt.props.disabledKeyboardNavigation&&!isSameDay(tt.props.date,tt.props.selected)&&isSameDay(tt.props.date,tt.props.preSelection)}),_defineProperty(tt,"getTabIndex",function(){return tt.props.showWeekPicker&&tt.props.showWeekNumber&&(tt.isKeyboardSelected()||isSameDay(tt.props.date,tt.props.selected)&&isSameDay(tt.props.preSelection,tt.props.selected))?0:-1}),_defineProperty(tt,"handleFocusWeekNumber",function(){var ot=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},st=!1;tt.getTabIndex()===0&&!ot.isInputFocused&&isSameDay(tt.props.date,tt.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(st=!0),tt.props.inline&&!tt.props.shouldFocusDayInline&&(st=!1),tt.props.containerRef&&tt.props.containerRef.current&&tt.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(st=!0)),st&&tt.weekNumberEl.current&&tt.weekNumberEl.current.focus({preventScroll:!0})}),tt}return _inherits(et,_e),_createClass(et,[{key:"componentDidMount",value:function(){this.handleFocusWeekNumber()}},{key:"componentDidUpdate",value:function(nt){this.handleFocusWeekNumber(nt)}},{key:"render",value:function(){var nt=this.props,rt=nt.weekNumber,it=nt.ariaLabelPrefix,ot=it===void 0?"week ":it,st=nt.onClick,ut={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!st,"react-datepicker__week-number--selected":!!st&&isSameDay(this.props.date,this.props.selected),"react-datepicker__week-number--keyboard-selected":this.isKeyboardSelected()};return React.createElement("div",{ref:this.weekNumberEl,className:clsx(ut),"aria-label":"".concat(ot," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},rt)}}],[{key:"defaultProps",get:function(){return{ariaLabelPrefix:"week "}}}])}(React.Component),Week=function(_e){function et(){var tt;_classCallCheck(this,et);for(var nt=arguments.length,rt=new Array(nt),it=0;it<nt;it++)rt[it]=arguments[it];return tt=_callSuper(this,et,[].concat(rt)),_defineProperty(tt,"handleDayClick",function(ot,st){tt.props.onDayClick&&tt.props.onDayClick(ot,st)}),_defineProperty(tt,"handleDayMouseEnter",function(ot){tt.props.onDayMouseEnter&&tt.props.onDayMouseEnter(ot)}),_defineProperty(tt,"handleWeekClick",function(ot,st,ut){typeof tt.props.onWeekSelect=="function"&&tt.props.onWeekSelect(ot,st,ut),tt.props.showWeekPicker&&tt.handleDayClick(ot,ut),tt.props.shouldCloseOnSelect&&tt.props.setOpen(!1)}),_defineProperty(tt,"formatWeekNumber",function(ot){return tt.props.formatWeekNumber?tt.props.formatWeekNumber(ot):getWeek(ot)}),_defineProperty(tt,"renderDays",function(){var ot=tt.startOfWeek(),st=[],ut=tt.formatWeekNumber(ot);if(tt.props.showWeekNumber){var ft=tt.props.onWeekSelect||tt.props.showWeekPicker?tt.handleWeekClick.bind(tt,ot,ut):void 0;st.push(React.createElement(WeekNumber,{key:"W",weekNumber:ut,date:ot,onClick:ft,selected:tt.props.selected,preSelection:tt.props.preSelection,ariaLabelPrefix:tt.props.ariaLabelPrefix,showWeekPicker:tt.props.showWeekPicker,showWeekNumber:tt.props.showWeekNumber,disabledKeyboardNavigation:tt.props.disabledKeyboardNavigation,handleOnKeyDown:tt.props.handleOnKeyDown,isInputFocused:tt.props.isInputFocused,containerRef:tt.props.containerRef}))}return st.concat([0,1,2,3,4,5,6].map(function(dt){var lt=addDays(ot,dt);return React.createElement(Day,{ariaLabelPrefixWhenEnabled:tt.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:tt.props.disabledDayAriaLabelPrefix,key:lt.valueOf(),day:lt,month:tt.props.month,onClick:tt.handleDayClick.bind(tt,lt),usePointerEvent:tt.props.usePointerEvent,onMouseEnter:tt.handleDayMouseEnter.bind(tt,lt),minDate:tt.props.minDate,maxDate:tt.props.maxDate,calendarStartDay:tt.props.calendarStartDay,excludeDates:tt.props.excludeDates,excludeDateIntervals:tt.props.excludeDateIntervals,includeDates:tt.props.includeDates,includeDateIntervals:tt.props.includeDateIntervals,highlightDates:tt.props.highlightDates,holidays:tt.props.holidays,selectingDate:tt.props.selectingDate,filterDate:tt.props.filterDate,preSelection:tt.props.preSelection,selected:tt.props.selected,selectsStart:tt.props.selectsStart,selectsEnd:tt.props.selectsEnd,selectsRange:tt.props.selectsRange,showWeekPicker:tt.props.showWeekPicker,showWeekNumber:tt.props.showWeekNumber,selectsDisabledDaysInRange:tt.props.selectsDisabledDaysInRange,selectsMultiple:tt.props.selectsMultiple,selectedDates:tt.props.selectedDates,startDate:tt.props.startDate,endDate:tt.props.endDate,dayClassName:tt.props.dayClassName,renderDayContents:tt.props.renderDayContents,disabledKeyboardNavigation:tt.props.disabledKeyboardNavigation,handleOnKeyDown:tt.props.handleOnKeyDown,isInputFocused:tt.props.isInputFocused,containerRef:tt.props.containerRef,inline:tt.props.inline,shouldFocusDayInline:tt.props.shouldFocusDayInline,monthShowsDuplicateDaysEnd:tt.props.monthShowsDuplicateDaysEnd,monthShowsDuplicateDaysStart:tt.props.monthShowsDuplicateDaysStart,locale:tt.props.locale})}))}),_defineProperty(tt,"startOfWeek",function(){return getStartOfWeek(tt.props.day,tt.props.locale,tt.props.calendarStartDay)}),_defineProperty(tt,"isKeyboardSelected",function(){return!tt.props.disabledKeyboardNavigation&&!isSameDay(tt.startOfWeek(),tt.props.selected)&&isSameDay(tt.startOfWeek(),tt.props.preSelection)}),tt}return _inherits(et,_e),_createClass(et,[{key:"render",value:function(){var nt={"react-datepicker__week":!0,"react-datepicker__week--selected":isSameDay(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return React.createElement("div",{className:clsx(nt)},this.renderDays())}}],[{key:"defaultProps",get:function(){return{shouldCloseOnSelect:!0}}}])}(React.Component),FIXED_HEIGHT_STANDARD_WEEK_COUNT=6,MONTH_COLUMNS_LAYOUT={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},MONTH_COLUMNS=_defineProperty(_defineProperty(_defineProperty({},MONTH_COLUMNS_LAYOUT.TWO_COLUMNS,{grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2}),MONTH_COLUMNS_LAYOUT.THREE_COLUMNS,{grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3}),MONTH_COLUMNS_LAYOUT.FOUR_COLUMNS,{grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4}),MONTH_NAVIGATION_HORIZONTAL_OFFSET=1;function getMonthColumnsLayout(_e,et){return _e?MONTH_COLUMNS_LAYOUT.FOUR_COLUMNS:et?MONTH_COLUMNS_LAYOUT.TWO_COLUMNS:MONTH_COLUMNS_LAYOUT.THREE_COLUMNS}var Month=function(_e){function et(){var tt;_classCallCheck(this,et);for(var nt=arguments.length,rt=new Array(nt),it=0;it<nt;it++)rt[it]=arguments[it];return tt=_callSuper(this,et,[].concat(rt)),_defineProperty(tt,"MONTH_REFS",_toConsumableArray(Array(12)).map(function(){return React.createRef()})),_defineProperty(tt,"QUARTER_REFS",_toConsumableArray(Array(4)).map(function(){return React.createRef()})),_defineProperty(tt,"isDisabled",function(ot){return isDayDisabled(ot,tt.props)}),_defineProperty(tt,"isExcluded",function(ot){return isDayExcluded(ot,tt.props)}),_defineProperty(tt,"handleDayClick",function(ot,st){tt.props.onDayClick&&tt.props.onDayClick(ot,st,tt.props.orderInDisplay)}),_defineProperty(tt,"handleDayMouseEnter",function(ot){tt.props.onDayMouseEnter&&tt.props.onDayMouseEnter(ot)}),_defineProperty(tt,"handleMouseLeave",function(){tt.props.onMouseLeave&&tt.props.onMouseLeave()}),_defineProperty(tt,"isRangeStartMonth",function(ot){var st=tt.props,ut=st.day,ft=st.startDate,dt=st.endDate;return!ft||!dt?!1:isSameMonth(setMonth(ut,ot),ft)}),_defineProperty(tt,"isRangeStartQuarter",function(ot){var st=tt.props,ut=st.day,ft=st.startDate,dt=st.endDate;return!ft||!dt?!1:isSameQuarter(setQuarter(ut,ot),ft)}),_defineProperty(tt,"isRangeEndMonth",function(ot){var st=tt.props,ut=st.day,ft=st.startDate,dt=st.endDate;return!ft||!dt?!1:isSameMonth(setMonth(ut,ot),dt)}),_defineProperty(tt,"isRangeEndQuarter",function(ot){var st=tt.props,ut=st.day,ft=st.startDate,dt=st.endDate;return!ft||!dt?!1:isSameQuarter(setQuarter(ut,ot),dt)}),_defineProperty(tt,"isInSelectingRangeMonth",function(ot){var st,ut=tt.props,ft=ut.day,dt=ut.selectsStart,lt=ut.selectsEnd,at=ut.selectsRange,ct=ut.startDate,ht=ut.endDate,pt=(st=tt.props.selectingDate)!==null&&st!==void 0?st:tt.props.preSelection;return!(dt||lt||at)||!pt?!1:dt&&ht?isMonthInRange(pt,ht,ot,ft):lt&&ct||at&&ct&&!ht?isMonthInRange(ct,pt,ot,ft):!1}),_defineProperty(tt,"isSelectingMonthRangeStart",function(ot){var st;if(!tt.isInSelectingRangeMonth(ot))return!1;var ut=tt.props,ft=ut.day,dt=ut.startDate,lt=ut.selectsStart,at=setMonth(ft,ot),ct=(st=tt.props.selectingDate)!==null&&st!==void 0?st:tt.props.preSelection;return lt?isSameMonth(at,ct):isSameMonth(at,dt)}),_defineProperty(tt,"isSelectingMonthRangeEnd",function(ot){var st;if(!tt.isInSelectingRangeMonth(ot))return!1;var ut=tt.props,ft=ut.day,dt=ut.endDate,lt=ut.selectsEnd,at=ut.selectsRange,ct=setMonth(ft,ot),ht=(st=tt.props.selectingDate)!==null&&st!==void 0?st:tt.props.preSelection;return lt||at?isSameMonth(ct,ht):isSameMonth(ct,dt)}),_defineProperty(tt,"isInSelectingRangeQuarter",function(ot){var st,ut=tt.props,ft=ut.day,dt=ut.selectsStart,lt=ut.selectsEnd,at=ut.selectsRange,ct=ut.startDate,ht=ut.endDate,pt=(st=tt.props.selectingDate)!==null&&st!==void 0?st:tt.props.preSelection;return!(dt||lt||at)||!pt?!1:dt&&ht?isQuarterInRange(pt,ht,ot,ft):lt&&ct||at&&ct&&!ht?isQuarterInRange(ct,pt,ot,ft):!1}),_defineProperty(tt,"isWeekInMonth",function(ot){var st=tt.props.day,ut=addDays(ot,6);return isSameMonth(ot,st)||isSameMonth(ut,st)}),_defineProperty(tt,"isCurrentMonth",function(ot,st){return getYear(ot)===getYear(newDate())&&st===getMonth(newDate())}),_defineProperty(tt,"isCurrentQuarter",function(ot,st){return getYear(ot)===getYear(newDate())&&st===getQuarter(newDate())}),_defineProperty(tt,"isSelectedMonth",function(ot,st,ut){return getMonth(ut)===st&&getYear(ot)===getYear(ut)}),_defineProperty(tt,"isSelectedQuarter",function(ot,st,ut){return getQuarter(ot)===st&&getYear(ot)===getYear(ut)}),_defineProperty(tt,"renderWeeks",function(){for(var ot=[],st=tt.props.fixedHeight,ut=0,ft=!1,dt=getStartOfWeek(getStartOfMonth(tt.props.day),tt.props.locale,tt.props.calendarStartDay),lt=tt.props.showWeekPicker?getStartOfWeek(tt.props.selected,tt.props.locale,tt.props.calendarStartDay):tt.props.selected,at=tt.props.showWeekPicker?getStartOfWeek(tt.props.preSelection,tt.props.locale,tt.props.calendarStartDay):tt.props.preSelection;ot.push(React.createElement(Week,{ariaLabelPrefix:tt.props.weekAriaLabelPrefix,chooseDayAriaLabelPrefix:tt.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:tt.props.disabledDayAriaLabelPrefix,key:ut,day:dt,month:getMonth(tt.props.day),onDayClick:tt.handleDayClick,usePointerEvent:tt.props.usePointerEvent,onDayMouseEnter:tt.handleDayMouseEnter,onWeekSelect:tt.props.onWeekSelect,formatWeekNumber:tt.props.formatWeekNumber,locale:tt.props.locale,minDate:tt.props.minDate,maxDate:tt.props.maxDate,excludeDates:tt.props.excludeDates,excludeDateIntervals:tt.props.excludeDateIntervals,includeDates:tt.props.includeDates,includeDateIntervals:tt.props.includeDateIntervals,inline:tt.props.inline,shouldFocusDayInline:tt.props.shouldFocusDayInline,highlightDates:tt.props.highlightDates,holidays:tt.props.holidays,selectingDate:tt.props.selectingDate,filterDate:tt.props.filterDate,preSelection:at,selected:lt,selectsStart:tt.props.selectsStart,selectsEnd:tt.props.selectsEnd,selectsRange:tt.props.selectsRange,selectsDisabledDaysInRange:tt.props.selectsDisabledDaysInRange,selectsMultiple:tt.props.selectsMultiple,selectedDates:tt.props.selectedDates,showWeekNumber:tt.props.showWeekNumbers,showWeekPicker:tt.props.showWeekPicker,startDate:tt.props.startDate,endDate:tt.props.endDate,dayClassName:tt.props.dayClassName,setOpen:tt.props.setOpen,shouldCloseOnSelect:tt.props.shouldCloseOnSelect,disabledKeyboardNavigation:tt.props.disabledKeyboardNavigation,renderDayContents:tt.props.renderDayContents,handleOnKeyDown:tt.props.handleOnKeyDown,isInputFocused:tt.props.isInputFocused,containerRef:tt.props.containerRef,calendarStartDay:tt.props.calendarStartDay,monthShowsDuplicateDaysEnd:tt.props.monthShowsDuplicateDaysEnd,monthShowsDuplicateDaysStart:tt.props.monthShowsDuplicateDaysStart})),!ft;){ut++,dt=addWeeks(dt,1);var ct=st&&ut>=FIXED_HEIGHT_STANDARD_WEEK_COUNT,ht=!st&&!tt.isWeekInMonth(dt);if(ct||ht)if(tt.props.peekNextMonth)ft=!0;else break}return ot}),_defineProperty(tt,"onMonthClick",function(ot,st){var ut=setMonth(tt.props.day,st);isMonthDisabled(ut,tt.props)||tt.handleDayClick(getStartOfMonth(ut),ot)}),_defineProperty(tt,"onMonthMouseEnter",function(ot){var st=setMonth(tt.props.day,ot);isMonthDisabled(st,tt.props)||tt.handleDayMouseEnter(getStartOfMonth(st))}),_defineProperty(tt,"handleMonthNavigation",function(ot,st){tt.isDisabled(st)||tt.isExcluded(st)||(tt.props.setPreSelection(st),tt.MONTH_REFS[ot].current&&tt.MONTH_REFS[ot].current.focus())}),_defineProperty(tt,"onMonthKeyDown",function(ot,st){var ut=tt.props,ft=ut.selected,dt=ut.preSelection,lt=ut.disabledKeyboardNavigation,at=ut.showTwoColumnMonthYearPicker,ct=ut.showFourColumnMonthYearPicker,ht=ut.setPreSelection,pt=ut.handleOnMonthKeyDown,mt=ot.key;if(mt!=="Tab"&&ot.preventDefault(),!lt){var gt=getMonthColumnsLayout(ct,at),yt=MONTH_COLUMNS[gt].verticalNavigationOffset,bt=MONTH_COLUMNS[gt].grid;switch(mt){case"Enter":tt.onMonthClick(ot,st),ht(ft);break;case"ArrowRight":tt.handleMonthNavigation(st===11?0:st+MONTH_NAVIGATION_HORIZONTAL_OFFSET,addMonths(dt,MONTH_NAVIGATION_HORIZONTAL_OFFSET));break;case"ArrowLeft":tt.handleMonthNavigation(st===0?11:st-MONTH_NAVIGATION_HORIZONTAL_OFFSET,subMonths(dt,MONTH_NAVIGATION_HORIZONTAL_OFFSET));break;case"ArrowUp":tt.handleMonthNavigation(bt[0].includes(st)?st+12-yt:st-yt,subMonths(dt,yt));break;case"ArrowDown":tt.handleMonthNavigation(bt[bt.length-1].includes(st)?st-12+yt:st+yt,addMonths(dt,yt));break}}pt&&pt(ot)}),_defineProperty(tt,"onQuarterClick",function(ot,st){var ut=setQuarter(tt.props.day,st);isQuarterDisabled(ut,tt.props)||tt.handleDayClick(getStartOfQuarter(ut),ot)}),_defineProperty(tt,"onQuarterMouseEnter",function(ot){var st=setQuarter(tt.props.day,ot);isQuarterDisabled(st,tt.props)||tt.handleDayMouseEnter(getStartOfQuarter(st))}),_defineProperty(tt,"handleQuarterNavigation",function(ot,st){tt.isDisabled(st)||tt.isExcluded(st)||(tt.props.setPreSelection(st),tt.QUARTER_REFS[ot-1].current&&tt.QUARTER_REFS[ot-1].current.focus())}),_defineProperty(tt,"onQuarterKeyDown",function(ot,st){var ut=ot.key;if(!tt.props.disabledKeyboardNavigation)switch(ut){case"Enter":tt.onQuarterClick(ot,st),tt.props.setPreSelection(tt.props.selected);break;case"ArrowRight":tt.handleQuarterNavigation(st===4?1:st+1,addQuarters(tt.props.preSelection,1));break;case"ArrowLeft":tt.handleQuarterNavigation(st===1?4:st-1,subQuarters(tt.props.preSelection,1));break}}),_defineProperty(tt,"isMonthDisabled",function(ot){var st=tt.props,ut=st.day,ft=st.minDate,dt=st.maxDate,lt=st.excludeDates,at=st.includeDates,ct=setMonth(ut,ot);return(ft||dt||lt||at)&&isMonthDisabled(ct,tt.props)}),_defineProperty(tt,"getMonthClassNames",function(ot){var st=tt.props,ut=st.day,ft=st.startDate,dt=st.endDate,lt=st.selected,at=st.preSelection,ct=st.monthClassName,ht=ct?ct(setMonth(ut,ot)):void 0;return clsx("react-datepicker__month-text","react-datepicker__month-".concat(ot),ht,{"react-datepicker__month-text--disabled":tt.isMonthDisabled(ot),"react-datepicker__month-text--selected":tt.isSelectedMonth(ut,ot,lt),"react-datepicker__month-text--keyboard-selected":!tt.props.disabledKeyboardNavigation&&tt.isSelectedMonth(ut,ot,at),"react-datepicker__month-text--in-selecting-range":tt.isInSelectingRangeMonth(ot),"react-datepicker__month-text--in-range":isMonthInRange(ft,dt,ot,ut),"react-datepicker__month-text--range-start":tt.isRangeStartMonth(ot),"react-datepicker__month-text--range-end":tt.isRangeEndMonth(ot),"react-datepicker__month-text--selecting-range-start":tt.isSelectingMonthRangeStart(ot),"react-datepicker__month-text--selecting-range-end":tt.isSelectingMonthRangeEnd(ot),"react-datepicker__month-text--today":tt.isCurrentMonth(ut,ot)})}),_defineProperty(tt,"getTabIndex",function(ot){var st=getMonth(tt.props.preSelection),ut=!tt.props.disabledKeyboardNavigation&&ot===st?"0":"-1";return ut}),_defineProperty(tt,"getQuarterTabIndex",function(ot){var st=getQuarter(tt.props.preSelection),ut=!tt.props.disabledKeyboardNavigation&&ot===st?"0":"-1";return ut}),_defineProperty(tt,"getAriaLabel",function(ot){var st=tt.props,ut=st.chooseDayAriaLabelPrefix,ft=ut===void 0?"Choose":ut,dt=st.disabledDayAriaLabelPrefix,lt=dt===void 0?"Not available":dt,at=st.day,ct=st.locale,ht=setMonth(at,ot),pt=tt.isDisabled(ht)||tt.isExcluded(ht)?lt:ft;return"".concat(pt," ").concat(formatDate(ht,"MMMM yyyy",ct))}),_defineProperty(tt,"getQuarterClassNames",function(ot){var st=tt.props,ut=st.day,ft=st.startDate,dt=st.endDate,lt=st.selected,at=st.minDate,ct=st.maxDate,ht=st.preSelection,pt=st.disabledKeyboardNavigation;return clsx("react-datepicker__quarter-text","react-datepicker__quarter-".concat(ot),{"react-datepicker__quarter-text--disabled":(at||ct)&&isQuarterDisabled(setQuarter(ut,ot),tt.props),"react-datepicker__quarter-text--selected":tt.isSelectedQuarter(ut,ot,lt),"react-datepicker__quarter-text--keyboard-selected":!pt&&tt.isSelectedQuarter(ut,ot,ht),"react-datepicker__quarter-text--in-selecting-range":tt.isInSelectingRangeQuarter(ot),"react-datepicker__quarter-text--in-range":isQuarterInRange(ft,dt,ot,ut),"react-datepicker__quarter-text--range-start":tt.isRangeStartQuarter(ot),"react-datepicker__quarter-text--range-end":tt.isRangeEndQuarter(ot)})}),_defineProperty(tt,"getMonthContent",function(ot){var st=tt.props,ut=st.showFullMonthYearPicker,ft=st.renderMonthContent,dt=st.locale,lt=st.day,at=getMonthShortInLocale(ot,dt),ct=getMonthInLocale(ot,dt);return ft?ft(ot,at,ct,lt):ut?ct:at}),_defineProperty(tt,"getQuarterContent",function(ot){var st=tt.props,ut=st.renderQuarterContent,ft=st.locale,dt=getQuarterShortInLocale(ot,ft);return ut?ut(ot,dt):dt}),_defineProperty(tt,"renderMonths",function(){var ot=tt.props,st=ot.showTwoColumnMonthYearPicker,ut=ot.showFourColumnMonthYearPicker,ft=ot.day,dt=ot.selected,lt=MONTH_COLUMNS[getMonthColumnsLayout(ut,st)].grid;return lt.map(function(at,ct){return React.createElement("div",{className:"react-datepicker__month-wrapper",key:ct},at.map(function(ht,pt){return React.createElement("div",{ref:tt.MONTH_REFS[ht],key:pt,onClick:function(gt){tt.onMonthClick(gt,ht)},onKeyDown:function(gt){isSpaceKeyDown(gt)&&(gt.preventDefault(),gt.key="Enter"),tt.onMonthKeyDown(gt,ht)},onMouseEnter:tt.props.usePointerEvent?void 0:function(){return tt.onMonthMouseEnter(ht)},onPointerEnter:tt.props.usePointerEvent?function(){return tt.onMonthMouseEnter(ht)}:void 0,tabIndex:tt.getTabIndex(ht),className:tt.getMonthClassNames(ht),"aria-disabled":tt.isMonthDisabled(ht),role:"option","aria-label":tt.getAriaLabel(ht),"aria-current":tt.isCurrentMonth(ft,ht)?"date":void 0,"aria-selected":tt.isSelectedMonth(ft,ht,dt)},tt.getMonthContent(ht))}))})}),_defineProperty(tt,"renderQuarters",function(){var ot=tt.props,st=ot.day,ut=ot.selected,ft=[1,2,3,4];return React.createElement("div",{className:"react-datepicker__quarter-wrapper"},ft.map(function(dt,lt){return React.createElement("div",{key:lt,ref:tt.QUARTER_REFS[lt],role:"option",onClick:function(ct){tt.onQuarterClick(ct,dt)},onKeyDown:function(ct){tt.onQuarterKeyDown(ct,dt)},onMouseEnter:tt.props.usePointerEvent?void 0:function(){return tt.onQuarterMouseEnter(dt)},onPointerEnter:tt.props.usePointerEvent?function(){return tt.onQuarterMouseEnter(dt)}:void 0,className:tt.getQuarterClassNames(dt),"aria-selected":tt.isSelectedQuarter(st,dt,ut),tabIndex:tt.getQuarterTabIndex(dt),"aria-current":tt.isCurrentQuarter(st,dt)?"date":void 0},tt.getQuarterContent(dt))}))}),_defineProperty(tt,"getClassNames",function(){var ot=tt.props,st=ot.selectingDate,ut=ot.selectsStart,ft=ot.selectsEnd,dt=ot.showMonthYearPicker,lt=ot.showQuarterYearPicker,at=ot.showWeekPicker;return clsx("react-datepicker__month",{"react-datepicker__month--selecting-range":st&&(ut||ft)},{"react-datepicker__monthPicker":dt},{"react-datepicker__quarterPicker":lt},{"react-datepicker__weekPicker":at})}),tt}return _inherits(et,_e),_createClass(et,[{key:"render",value:function(){var nt=this.props,rt=nt.showMonthYearPicker,it=nt.showQuarterYearPicker,ot=nt.day,st=nt.ariaLabelPrefix,ut=st===void 0?"Month ":st,ft=ut?ut.trim()+" ":"";return React.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(ft).concat(formatDate(ot,"MMMM, yyyy",this.props.locale)),role:"listbox"},rt?this.renderMonths():it?this.renderQuarters():this.renderWeeks())}}])}(React.Component),Time=function(_e){function et(){var tt;_classCallCheck(this,et);for(var nt=arguments.length,rt=new Array(nt),it=0;it<nt;it++)rt[it]=arguments[it];return tt=_callSuper(this,et,[].concat(rt)),_defineProperty(tt,"state",{height:null}),_defineProperty(tt,"scrollToTheSelectedTime",function(){requestAnimationFrame(function(){tt.list&&(tt.list.scrollTop=tt.centerLi&&et.calcCenterPosition(tt.props.monthRef?tt.props.monthRef.clientHeight-tt.header.clientHeight:tt.list.clientHeight,tt.centerLi))})}),_defineProperty(tt,"handleClick",function(ot){(tt.props.minTime||tt.props.maxTime)&&isTimeInDisabledRange(ot,tt.props)||(tt.props.excludeTimes||tt.props.includeTimes||tt.props.filterTime)&&isTimeDisabled(ot,tt.props)||tt.props.onChange(ot)}),_defineProperty(tt,"isSelectedTime",function(ot){return tt.props.selected&&isSameMinute(tt.props.selected,ot)}),_defineProperty(tt,"isDisabledTime",function(ot){return(tt.props.minTime||tt.props.maxTime)&&isTimeInDisabledRange(ot,tt.props)||(tt.props.excludeTimes||tt.props.includeTimes||tt.props.filterTime)&&isTimeDisabled(ot,tt.props)}),_defineProperty(tt,"liClasses",function(ot){var st=["react-datepicker__time-list-item",tt.props.timeClassName?tt.props.timeClassName(ot):void 0];return tt.isSelectedTime(ot)&&st.push("react-datepicker__time-list-item--selected"),tt.isDisabledTime(ot)&&st.push("react-datepicker__time-list-item--disabled"),tt.props.injectTimes&&(getHours(ot)*3600+getMinutes(ot)*60+getSeconds(ot))%(tt.props.intervals*60)!==0&&st.push("react-datepicker__time-list-item--injected"),st.join(" ")}),_defineProperty(tt,"handleOnKeyDown",function(ot,st){ot.key===" "&&(ot.preventDefault(),ot.key="Enter"),(ot.key==="ArrowUp"||ot.key==="ArrowLeft")&&ot.target.previousSibling&&(ot.preventDefault(),ot.target.previousSibling.focus()),(ot.key==="ArrowDown"||ot.key==="ArrowRight")&&ot.target.nextSibling&&(ot.preventDefault(),ot.target.nextSibling.focus()),ot.key==="Enter"&&tt.handleClick(st),tt.props.handleOnKeyDown(ot)}),_defineProperty(tt,"renderTimes",function(){for(var ot=[],st=tt.props.format?tt.props.format:"p",ut=tt.props.intervals,ft=tt.props.selected||tt.props.openToDate||newDate(),dt=getStartOfDay(ft),lt=tt.props.injectTimes&&tt.props.injectTimes.sort(function(yt,bt){return yt-bt}),at=60*getHoursInDay(ft),ct=at/ut,ht=0;ht<ct;ht++){var pt=addMinutes(dt,ht*ut);if(ot.push(pt),lt){var mt=timesToInjectAfter(dt,pt,ht,ut,lt);ot=ot.concat(mt)}}var gt=ot.reduce(function(yt,bt){return bt.getTime()<=ft.getTime()?bt:yt},ot[0]);return ot.map(function(yt,bt){return React.createElement("li",{key:bt,onClick:tt.handleClick.bind(tt,yt),className:tt.liClasses(yt),ref:function(vt){yt===gt&&(tt.centerLi=vt)},onKeyDown:function(vt){tt.handleOnKeyDown(vt,yt)},tabIndex:yt===gt?0:-1,role:"option","aria-selected":tt.isSelectedTime(yt)?"true":void 0,"aria-disabled":tt.isDisabledTime(yt)?"true":void 0},formatDate(yt,st,tt.props.locale))})}),tt}return _inherits(et,_e),_createClass(et,[{key:"componentDidMount",value:function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})}},{key:"render",value:function(){var nt=this,rt=this.state.height;return React.createElement("div",{className:"react-datepicker__time-container ".concat(this.props.todayButton?"react-datepicker__time-container--with-today-button":"")},React.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(this.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(ot){nt.header=ot}},React.createElement("div",{className:"react-datepicker-time__header"},this.props.timeCaption)),React.createElement("div",{className:"react-datepicker__time"},React.createElement("div",{className:"react-datepicker__time-box"},React.createElement("ul",{className:"react-datepicker__time-list",ref:function(ot){nt.list=ot},style:rt?{height:rt}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))}}],[{key:"defaultProps",get:function(){return{intervals:30,onTimeChange:function(){},todayButton:null,timeCaption:"Time"}}}])}(React.Component);_defineProperty(Time,"calcCenterPosition",function(_e,et){return et.offsetTop-(_e/2-et.clientHeight/2)});var VERTICAL_NAVIGATION_OFFSET=3,Year=function(_e){function et(tt){var nt;return _classCallCheck(this,et),nt=_callSuper(this,et,[tt]),_defineProperty(nt,"YEAR_REFS",_toConsumableArray(Array(nt.props.yearItemNumber)).map(function(){return React.createRef()})),_defineProperty(nt,"isDisabled",function(rt){return isDayDisabled(rt,nt.props)}),_defineProperty(nt,"isExcluded",function(rt){return isDayExcluded(rt,nt.props)}),_defineProperty(nt,"selectingDate",function(){var rt;return(rt=nt.props.selectingDate)!==null&&rt!==void 0?rt:nt.props.preSelection}),_defineProperty(nt,"updateFocusOnPaginate",function(rt){var it=(function(){this.YEAR_REFS[rt].current.focus()}).bind(nt);window.requestAnimationFrame(it)}),_defineProperty(nt,"handleYearClick",function(rt,it){nt.props.onDayClick&&nt.props.onDayClick(rt,it)}),_defineProperty(nt,"handleYearNavigation",function(rt,it){var ot=nt.props,st=ot.date,ut=ot.yearItemNumber,ft=getYearsPeriod(st,ut),dt=ft.startPeriod;nt.isDisabled(it)||nt.isExcluded(it)||(nt.props.setPreSelection(it),rt-dt<0?nt.updateFocusOnPaginate(ut-(dt-rt)):rt-dt>=ut?nt.updateFocusOnPaginate(Math.abs(ut-(rt-dt))):nt.YEAR_REFS[rt-dt].current.focus())}),_defineProperty(nt,"isSameDay",function(rt,it){return isSameDay(rt,it)}),_defineProperty(nt,"isCurrentYear",function(rt){return rt===getYear(newDate())}),_defineProperty(nt,"isRangeStart",function(rt){return nt.props.startDate&&nt.props.endDate&&isSameYear(setYear(newDate(),rt),nt.props.startDate)}),_defineProperty(nt,"isRangeEnd",function(rt){return nt.props.startDate&&nt.props.endDate&&isSameYear(setYear(newDate(),rt),nt.props.endDate)}),_defineProperty(nt,"isInRange",function(rt){return isYearInRange(rt,nt.props.startDate,nt.props.endDate)}),_defineProperty(nt,"isInSelectingRange",function(rt){var it=nt.props,ot=it.selectsStart,st=it.selectsEnd,ut=it.selectsRange,ft=it.startDate,dt=it.endDate;return!(ot||st||ut)||!nt.selectingDate()?!1:ot&&dt?isYearInRange(rt,nt.selectingDate(),dt):st&&ft||ut&&ft&&!dt?isYearInRange(rt,ft,nt.selectingDate()):!1}),_defineProperty(nt,"isSelectingRangeStart",function(rt){if(!nt.isInSelectingRange(rt))return!1;var it=nt.props,ot=it.startDate,st=it.selectsStart,ut=setYear(newDate(),rt);return st?isSameYear(ut,nt.selectingDate()):isSameYear(ut,ot)}),_defineProperty(nt,"isSelectingRangeEnd",function(rt){if(!nt.isInSelectingRange(rt))return!1;var it=nt.props,ot=it.endDate,st=it.selectsEnd,ut=it.selectsRange,ft=setYear(newDate(),rt);return st||ut?isSameYear(ft,nt.selectingDate()):isSameYear(ft,ot)}),_defineProperty(nt,"isKeyboardSelected",function(rt){var it=getStartOfYear(setYear(nt.props.date,rt));return!nt.props.disabledKeyboardNavigation&&!nt.props.inline&&!isSameDay(it,getStartOfYear(nt.props.selected))&&isSameDay(it,getStartOfYear(nt.props.preSelection))}),_defineProperty(nt,"onYearClick",function(rt,it){var ot=nt.props.date;nt.handleYearClick(getStartOfYear(setYear(ot,it)),rt)}),_defineProperty(nt,"onYearKeyDown",function(rt,it){var ot=rt.key,st=nt.props,ut=st.date,ft=st.yearItemNumber,dt=st.handleOnKeyDown;if(ot!=="Tab"&&rt.preventDefault(),!nt.props.disabledKeyboardNavigation)switch(ot){case"Enter":nt.onYearClick(rt,it),nt.props.setPreSelection(nt.props.selected);break;case"ArrowRight":nt.handleYearNavigation(it+1,addYears(nt.props.preSelection,1));break;case"ArrowLeft":nt.handleYearNavigation(it-1,subYears(nt.props.preSelection,1));break;case"ArrowUp":{var lt=getYearsPeriod(ut,ft),at=lt.startPeriod,ct=VERTICAL_NAVIGATION_OFFSET,ht=it-ct;if(ht<at){var pt=ft%ct;it>=at&&it<at+pt?ct=pt:ct+=pt,ht=it-ct}nt.handleYearNavigation(ht,subYears(nt.props.preSelection,ct));break}case"ArrowDown":{var mt=getYearsPeriod(ut,ft),gt=mt.endPeriod,yt=VERTICAL_NAVIGATION_OFFSET,bt=it+yt;if(bt>gt){var xt=ft%yt;it<=gt&&it>gt-xt?yt=xt:yt+=xt,bt=it+yt}nt.handleYearNavigation(bt,addYears(nt.props.preSelection,yt));break}}dt&&dt(rt)}),_defineProperty(nt,"getYearClassNames",function(rt){var it=nt.props,ot=it.date,st=it.minDate,ut=it.maxDate,ft=it.selected,dt=it.excludeDates,lt=it.includeDates,at=it.filterDate,ct=it.yearClassName;return clsx("react-datepicker__year-text","react-datepicker__year-".concat(rt),ct?ct(setYear(ot,rt)):void 0,{"react-datepicker__year-text--selected":rt===getYear(ft),"react-datepicker__year-text--disabled":(st||ut||dt||lt||at)&&isYearDisabled(rt,nt.props),"react-datepicker__year-text--keyboard-selected":nt.isKeyboardSelected(rt),"react-datepicker__year-text--range-start":nt.isRangeStart(rt),"react-datepicker__year-text--range-end":nt.isRangeEnd(rt),"react-datepicker__year-text--in-range":nt.isInRange(rt),"react-datepicker__year-text--in-selecting-range":nt.isInSelectingRange(rt),"react-datepicker__year-text--selecting-range-start":nt.isSelectingRangeStart(rt),"react-datepicker__year-text--selecting-range-end":nt.isSelectingRangeEnd(rt),"react-datepicker__year-text--today":nt.isCurrentYear(rt)})}),_defineProperty(nt,"getYearTabIndex",function(rt){if(nt.props.disabledKeyboardNavigation)return"-1";var it=getYear(nt.props.preSelection);return rt===it?"0":"-1"}),_defineProperty(nt,"getYearContainerClassNames",function(){var rt=nt.props,it=rt.selectingDate,ot=rt.selectsStart,st=rt.selectsEnd,ut=rt.selectsRange;return clsx("react-datepicker__year",{"react-datepicker__year--selecting-range":it&&(ot||st||ut)})}),_defineProperty(nt,"getYearContent",function(rt){return nt.props.renderYearContent?nt.props.renderYearContent(rt):rt}),nt}return _inherits(et,_e),_createClass(et,[{key:"render",value:function(){for(var nt=this,rt=[],it=this.props,ot=it.date,st=it.yearItemNumber,ut=it.onYearMouseEnter,ft=it.onYearMouseLeave,dt=getYearsPeriod(ot,st),lt=dt.startPeriod,at=dt.endPeriod,ct=function(mt){rt.push(React.createElement("div",{ref:nt.YEAR_REFS[mt-lt],onClick:function(yt){nt.onYearClick(yt,mt)},onKeyDown:function(yt){isSpaceKeyDown(yt)&&(yt.preventDefault(),yt.key="Enter"),nt.onYearKeyDown(yt,mt)},tabIndex:nt.getYearTabIndex(mt),className:nt.getYearClassNames(mt),onMouseEnter:nt.props.usePointerEvent?void 0:function(gt){return ut(gt,mt)},onPointerEnter:nt.props.usePointerEvent?function(gt){return ut(gt,mt)}:void 0,onMouseLeave:nt.props.usePointerEvent?void 0:function(gt){return ft(gt,mt)},onPointerLeave:nt.props.usePointerEvent?function(gt){return ft(gt,mt)}:void 0,key:mt,"aria-current":nt.isCurrentYear(mt)?"date":void 0},nt.getYearContent(mt)))},ht=lt;ht<=at;ht++)ct(ht);return React.createElement("div",{className:this.getYearContainerClassNames()},React.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},rt))}}])}(React.Component),inputTime=function(_e){function et(tt){var nt;return _classCallCheck(this,et),nt=_callSuper(this,et,[tt]),_defineProperty(nt,"onTimeChange",function(rt){nt.setState({time:rt});var it=nt.props.date,ot=it instanceof Date&&!isNaN(it),st=ot?it:new Date;st.setHours(rt.split(":")[0]),st.setMinutes(rt.split(":")[1]),nt.props.onChange(st)}),_defineProperty(nt,"renderTimeInput",function(){var rt=nt.state.time,it=nt.props,ot=it.date,st=it.timeString,ut=it.customTimeInput;return ut?React.cloneElement(ut,{date:ot,value:rt,onChange:nt.onTimeChange}):React.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",required:!0,value:rt,onChange:function(dt){nt.onTimeChange(dt.target.value||st)}})}),nt.state={time:nt.props.timeString},nt}return _inherits(et,_e),_createClass(et,[{key:"render",value:function(){return React.createElement("div",{className:"react-datepicker__input-time-container"},React.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),React.createElement("div",{className:"react-datepicker-time__input-container"},React.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))}}],[{key:"getDerivedStateFromProps",value:function(nt,rt){return nt.timeString!==rt.time?{time:nt.timeString}:null}}])}(React.Component);function CalendarContainer(_e){var et=_e.showTimeSelectOnly,tt=et===void 0?!1:et,nt=_e.showTime,rt=nt===void 0?!1:nt,it=_e.className,ot=_e.children,st=tt?"Choose Time":"Choose Date".concat(rt?" and Time":"");return React.createElement("div",{className:it,role:"dialog","aria-label":st,"aria-modal":"true"},ot)}var DROPDOWN_FOCUS_CLASSNAMES=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],isDropdownSelect=function _e(){var et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},tt=(et.className||"").split(/\s+/);return DROPDOWN_FOCUS_CLASSNAMES.some(function(nt){return tt.indexOf(nt)>=0})},Calendar=function(_e){function et(tt){var nt;return _classCallCheck(this,et),nt=_callSuper(this,et,[tt]),_defineProperty(nt,"handleClickOutside",function(rt){nt.props.onClickOutside(rt)}),_defineProperty(nt,"setClickOutsideRef",function(){return nt.containerRef.current}),_defineProperty(nt,"handleDropdownFocus",function(rt){isDropdownSelect(rt.target)&&nt.props.onDropdownFocus()}),_defineProperty(nt,"getDateInView",function(){var rt=nt.props,it=rt.preSelection,ot=rt.selected,st=rt.openToDate,ut=getEffectiveMinDate(nt.props),ft=getEffectiveMaxDate(nt.props),dt=newDate(),lt=st||ot||it;return lt||(ut&&isBefore(dt,ut)?ut:ft&&isAfter(dt,ft)?ft:dt)}),_defineProperty(nt,"increaseMonth",function(){nt.setState(function(rt){var it=rt.date;return{date:addMonths(it,1)}},function(){return nt.handleMonthChange(nt.state.date)})}),_defineProperty(nt,"decreaseMonth",function(){nt.setState(function(rt){var it=rt.date;return{date:subMonths(it,1)}},function(){return nt.handleMonthChange(nt.state.date)})}),_defineProperty(nt,"handleDayClick",function(rt,it,ot){nt.props.onSelect(rt,it,ot),nt.props.setPreSelection&&nt.props.setPreSelection(rt)}),_defineProperty(nt,"handleDayMouseEnter",function(rt){nt.setState({selectingDate:rt}),nt.props.onDayMouseEnter&&nt.props.onDayMouseEnter(rt)}),_defineProperty(nt,"handleMonthMouseLeave",function(){nt.setState({selectingDate:null}),nt.props.onMonthMouseLeave&&nt.props.onMonthMouseLeave()}),_defineProperty(nt,"handleYearMouseEnter",function(rt,it){nt.setState({selectingDate:setYear(newDate(),it)}),nt.props.onYearMouseEnter&&nt.props.onYearMouseEnter(rt,it)}),_defineProperty(nt,"handleYearMouseLeave",function(rt,it){nt.props.onYearMouseLeave&&nt.props.onYearMouseLeave(rt,it)}),_defineProperty(nt,"handleYearChange",function(rt){nt.props.onYearChange&&(nt.props.onYearChange(rt),nt.setState({isRenderAriaLiveMessage:!0})),nt.props.adjustDateOnChange&&(nt.props.onSelect&&nt.props.onSelect(rt),nt.props.setOpen&&nt.props.setOpen(!0)),nt.props.setPreSelection&&nt.props.setPreSelection(rt)}),_defineProperty(nt,"handleMonthChange",function(rt){nt.handleCustomMonthChange(rt),nt.props.adjustDateOnChange&&(nt.props.onSelect&&nt.props.onSelect(rt),nt.props.setOpen&&nt.props.setOpen(!0)),nt.props.setPreSelection&&nt.props.setPreSelection(rt)}),_defineProperty(nt,"handleCustomMonthChange",function(rt){nt.props.onMonthChange&&(nt.props.onMonthChange(rt),nt.setState({isRenderAriaLiveMessage:!0}))}),_defineProperty(nt,"handleMonthYearChange",function(rt){nt.handleYearChange(rt),nt.handleMonthChange(rt)}),_defineProperty(nt,"changeYear",function(rt){nt.setState(function(it){var ot=it.date;return{date:setYear(ot,rt)}},function(){return nt.handleYearChange(nt.state.date)})}),_defineProperty(nt,"changeMonth",function(rt){nt.setState(function(it){var ot=it.date;return{date:setMonth(ot,rt)}},function(){return nt.handleMonthChange(nt.state.date)})}),_defineProperty(nt,"changeMonthYear",function(rt){nt.setState(function(it){var ot=it.date;return{date:setYear(setMonth(ot,getMonth(rt)),getYear(rt))}},function(){return nt.handleMonthYearChange(nt.state.date)})}),_defineProperty(nt,"header",function(){var rt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:nt.state.date,it=getStartOfWeek(rt,nt.props.locale,nt.props.calendarStartDay),ot=[];return nt.props.showWeekNumbers&&ot.push(React.createElement("div",{key:"W",className:"react-datepicker__day-name"},nt.props.weekLabel||"#")),ot.concat([0,1,2,3,4,5,6].map(function(st){var ut=addDays(it,st),ft=nt.formatWeekday(ut,nt.props.locale),dt=nt.props.weekDayClassName?nt.props.weekDayClassName(ut):void 0;return React.createElement("div",{key:st,"aria-label":formatDate(ut,"EEEE",nt.props.locale),className:clsx("react-datepicker__day-name",dt)},ft)}))}),_defineProperty(nt,"formatWeekday",function(rt,it){return nt.props.formatWeekDay?getFormattedWeekdayInLocale(rt,nt.props.formatWeekDay,it):nt.props.useWeekdaysShort?getWeekdayShortInLocale(rt,it):getWeekdayMinInLocale(rt,it)}),_defineProperty(nt,"decreaseYear",function(){nt.setState(function(rt){var it=rt.date;return{date:subYears(it,nt.props.showYearPicker?nt.props.yearItemNumber:1)}},function(){return nt.handleYearChange(nt.state.date)})}),_defineProperty(nt,"clearSelectingDate",function(){nt.setState({selectingDate:null})}),_defineProperty(nt,"renderPreviousButton",function(){if(!nt.props.renderCustomHeader){var rt;switch(!0){case nt.props.showMonthYearPicker:rt=yearDisabledBefore(nt.state.date,nt.props);break;case nt.props.showYearPicker:rt=yearsDisabledBefore(nt.state.date,nt.props);break;case nt.props.showQuarterYearPicker:rt=quarterDisabledBefore(nt.state.date,nt.props);break;default:rt=monthDisabledBefore(nt.state.date,nt.props);break}if(!(!nt.props.forceShowMonthNavigation&&!nt.props.showDisabledMonthNavigation&&rt||nt.props.showTimeSelectOnly)){var it=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],ot=["react-datepicker__navigation","react-datepicker__navigation--previous"],st=nt.decreaseMonth;(nt.props.showMonthYearPicker||nt.props.showQuarterYearPicker||nt.props.showYearPicker)&&(st=nt.decreaseYear),rt&&nt.props.showDisabledMonthNavigation&&(ot.push("react-datepicker__navigation--previous--disabled"),st=null);var ut=nt.props.showMonthYearPicker||nt.props.showQuarterYearPicker||nt.props.showYearPicker,ft=nt.props,dt=ft.previousMonthButtonLabel,lt=ft.previousYearButtonLabel,at=nt.props,ct=at.previousMonthAriaLabel,ht=ct===void 0?typeof dt=="string"?dt:"Previous Month":ct,pt=at.previousYearAriaLabel,mt=pt===void 0?typeof lt=="string"?lt:"Previous Year":pt;return React.createElement("button",{type:"button",className:ot.join(" "),onClick:st,onKeyDown:nt.props.handleOnKeyDown,"aria-label":ut?mt:ht},React.createElement("span",{className:it.join(" ")},ut?nt.props.previousYearButtonLabel:nt.props.previousMonthButtonLabel))}}}),_defineProperty(nt,"increaseYear",function(){nt.setState(function(rt){var it=rt.date;return{date:addYears(it,nt.props.showYearPicker?nt.props.yearItemNumber:1)}},function(){return nt.handleYearChange(nt.state.date)})}),_defineProperty(nt,"renderNextButton",function(){if(!nt.props.renderCustomHeader){var rt;switch(!0){case nt.props.showMonthYearPicker:rt=yearDisabledAfter(nt.state.date,nt.props);break;case nt.props.showYearPicker:rt=yearsDisabledAfter(nt.state.date,nt.props);break;case nt.props.showQuarterYearPicker:rt=quarterDisabledAfter(nt.state.date,nt.props);break;default:rt=monthDisabledAfter(nt.state.date,nt.props);break}if(!(!nt.props.forceShowMonthNavigation&&!nt.props.showDisabledMonthNavigation&&rt||nt.props.showTimeSelectOnly)){var it=["react-datepicker__navigation","react-datepicker__navigation--next"],ot=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];nt.props.showTimeSelect&&it.push("react-datepicker__navigation--next--with-time"),nt.props.todayButton&&it.push("react-datepicker__navigation--next--with-today-button");var st=nt.increaseMonth;(nt.props.showMonthYearPicker||nt.props.showQuarterYearPicker||nt.props.showYearPicker)&&(st=nt.increaseYear),rt&&nt.props.showDisabledMonthNavigation&&(it.push("react-datepicker__navigation--next--disabled"),st=null);var ut=nt.props.showMonthYearPicker||nt.props.showQuarterYearPicker||nt.props.showYearPicker,ft=nt.props,dt=ft.nextMonthButtonLabel,lt=ft.nextYearButtonLabel,at=nt.props,ct=at.nextMonthAriaLabel,ht=ct===void 0?typeof dt=="string"?dt:"Next Month":ct,pt=at.nextYearAriaLabel,mt=pt===void 0?typeof lt=="string"?lt:"Next Year":pt;return React.createElement("button",{type:"button",className:it.join(" "),onClick:st,onKeyDown:nt.props.handleOnKeyDown,"aria-label":ut?mt:ht},React.createElement("span",{className:ot.join(" ")},ut?nt.props.nextYearButtonLabel:nt.props.nextMonthButtonLabel))}}}),_defineProperty(nt,"renderCurrentMonth",function(){var rt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:nt.state.date,it=["react-datepicker__current-month"];return nt.props.showYearDropdown&&it.push("react-datepicker__current-month--hasYearDropdown"),nt.props.showMonthDropdown&&it.push("react-datepicker__current-month--hasMonthDropdown"),nt.props.showMonthYearDropdown&&it.push("react-datepicker__current-month--hasMonthYearDropdown"),React.createElement("div",{className:it.join(" ")},formatDate(rt,nt.props.dateFormat,nt.props.locale))}),_defineProperty(nt,"renderYearDropdown",function(){var rt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!(!nt.props.showYearDropdown||rt))return React.createElement(YearDropdown,{adjustDateOnChange:nt.props.adjustDateOnChange,date:nt.state.date,onSelect:nt.props.onSelect,setOpen:nt.props.setOpen,dropdownMode:nt.props.dropdownMode,onChange:nt.changeYear,minDate:nt.props.minDate,maxDate:nt.props.maxDate,year:getYear(nt.state.date),scrollableYearDropdown:nt.props.scrollableYearDropdown,yearDropdownItemNumber:nt.props.yearDropdownItemNumber})}),_defineProperty(nt,"renderMonthDropdown",function(){var rt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!(!nt.props.showMonthDropdown||rt))return React.createElement(MonthDropdown,{dropdownMode:nt.props.dropdownMode,locale:nt.props.locale,onChange:nt.changeMonth,month:getMonth(nt.state.date),useShortMonthInDropdown:nt.props.useShortMonthInDropdown})}),_defineProperty(nt,"renderMonthYearDropdown",function(){var rt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!(!nt.props.showMonthYearDropdown||rt))return React.createElement(MonthYearDropdown,{dropdownMode:nt.props.dropdownMode,locale:nt.props.locale,dateFormat:nt.props.dateFormat,onChange:nt.changeMonthYear,minDate:nt.props.minDate,maxDate:nt.props.maxDate,date:nt.state.date,scrollableMonthYearDropdown:nt.props.scrollableMonthYearDropdown})}),_defineProperty(nt,"handleTodayButtonClick",function(rt){nt.props.onSelect(getStartOfToday(),rt),nt.props.setPreSelection&&nt.props.setPreSelection(getStartOfToday())}),_defineProperty(nt,"renderTodayButton",function(){if(!(!nt.props.todayButton||nt.props.showTimeSelectOnly))return React.createElement("div",{className:"react-datepicker__today-button",onClick:function(it){return nt.handleTodayButtonClick(it)}},nt.props.todayButton)}),_defineProperty(nt,"renderDefaultHeader",function(rt){var it=rt.monthDate,ot=rt.i;return React.createElement("div",{className:"react-datepicker__header ".concat(nt.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},nt.renderCurrentMonth(it),React.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(nt.props.dropdownMode),onFocus:nt.handleDropdownFocus},nt.renderMonthDropdown(ot!==0),nt.renderMonthYearDropdown(ot!==0),nt.renderYearDropdown(ot!==0)),React.createElement("div",{className:"react-datepicker__day-names"},nt.header(it)))}),_defineProperty(nt,"renderCustomHeader",function(){var rt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},it=rt.monthDate,ot=rt.i;if(nt.props.showTimeSelect&&!nt.state.monthContainer||nt.props.showTimeSelectOnly)return null;var st=monthDisabledBefore(nt.state.date,nt.props),ut=monthDisabledAfter(nt.state.date,nt.props),ft=yearDisabledBefore(nt.state.date,nt.props),dt=yearDisabledAfter(nt.state.date,nt.props),lt=!nt.props.showMonthYearPicker&&!nt.props.showQuarterYearPicker&&!nt.props.showYearPicker;return React.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:nt.props.onDropdownFocus},nt.props.renderCustomHeader(_objectSpread2(_objectSpread2({},nt.state),{},{customHeaderCount:ot,monthDate:it,changeMonth:nt.changeMonth,changeYear:nt.changeYear,decreaseMonth:nt.decreaseMonth,increaseMonth:nt.increaseMonth,decreaseYear:nt.decreaseYear,increaseYear:nt.increaseYear,prevMonthButtonDisabled:st,nextMonthButtonDisabled:ut,prevYearButtonDisabled:ft,nextYearButtonDisabled:dt})),lt&&React.createElement("div",{className:"react-datepicker__day-names"},nt.header(it)))}),_defineProperty(nt,"renderYearHeader",function(rt){var it=rt.monthDate,ot=nt.props,st=ot.showYearPicker,ut=ot.yearItemNumber,ft=getYearsPeriod(it,ut),dt=ft.startPeriod,lt=ft.endPeriod;return React.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},st?"".concat(dt," - ").concat(lt):getYear(it))}),_defineProperty(nt,"renderHeader",function(rt){switch(!0){case nt.props.renderCustomHeader!==void 0:return nt.renderCustomHeader(rt);case(nt.props.showMonthYearPicker||nt.props.showQuarterYearPicker||nt.props.showYearPicker):return nt.renderYearHeader(rt);default:return nt.renderDefaultHeader(rt)}}),_defineProperty(nt,"renderMonths",function(){var rt;if(!(nt.props.showTimeSelectOnly||nt.props.showYearPicker)){for(var it=[],ot=nt.props.showPreviousMonths?nt.props.monthsShown-1:0,st=nt.props.showMonthYearPicker||nt.props.showQuarterYearPicker?addYears(nt.state.date,ot):subMonths(nt.state.date,ot),ut=(rt=nt.props.monthSelectedIn)!==null&&rt!==void 0?rt:ot,ft=0;ft<nt.props.monthsShown;++ft){var dt=ft-ut+ot,lt=nt.props.showMonthYearPicker||nt.props.showQuarterYearPicker?addYears(st,dt):addMonths(st,dt),at="month-".concat(ft),ct=ft<nt.props.monthsShown-1,ht=ft>0;it.push(React.createElement("div",{key:at,ref:function(mt){nt.monthContainer=mt},className:"react-datepicker__month-container"},nt.renderHeader({monthDate:lt,i:ft}),React.createElement(Month,{chooseDayAriaLabelPrefix:nt.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:nt.props.disabledDayAriaLabelPrefix,weekAriaLabelPrefix:nt.props.weekAriaLabelPrefix,ariaLabelPrefix:nt.props.monthAriaLabelPrefix,onChange:nt.changeMonthYear,day:lt,dayClassName:nt.props.dayClassName,calendarStartDay:nt.props.calendarStartDay,monthClassName:nt.props.monthClassName,onDayClick:nt.handleDayClick,handleOnKeyDown:nt.props.handleOnDayKeyDown,handleOnMonthKeyDown:nt.props.handleOnKeyDown,usePointerEvent:nt.props.usePointerEvent,onDayMouseEnter:nt.handleDayMouseEnter,onMouseLeave:nt.handleMonthMouseLeave,onWeekSelect:nt.props.onWeekSelect,orderInDisplay:ft,formatWeekNumber:nt.props.formatWeekNumber,locale:nt.props.locale,minDate:nt.props.minDate,maxDate:nt.props.maxDate,excludeDates:nt.props.excludeDates,excludeDateIntervals:nt.props.excludeDateIntervals,highlightDates:nt.props.highlightDates,holidays:nt.props.holidays,selectingDate:nt.state.selectingDate,includeDates:nt.props.includeDates,includeDateIntervals:nt.props.includeDateIntervals,inline:nt.props.inline,shouldFocusDayInline:nt.props.shouldFocusDayInline,fixedHeight:nt.props.fixedHeight,filterDate:nt.props.filterDate,preSelection:nt.props.preSelection,setPreSelection:nt.props.setPreSelection,selected:nt.props.selected,selectsStart:nt.props.selectsStart,selectsEnd:nt.props.selectsEnd,selectsRange:nt.props.selectsRange,selectsDisabledDaysInRange:nt.props.selectsDisabledDaysInRange,selectsMultiple:nt.props.selectsMultiple,selectedDates:nt.props.selectedDates,showWeekNumbers:nt.props.showWeekNumbers,startDate:nt.props.startDate,endDate:nt.props.endDate,peekNextMonth:nt.props.peekNextMonth,setOpen:nt.props.setOpen,shouldCloseOnSelect:nt.props.shouldCloseOnSelect,renderDayContents:nt.props.renderDayContents,renderMonthContent:nt.props.renderMonthContent,renderQuarterContent:nt.props.renderQuarterContent,renderYearContent:nt.props.renderYearContent,disabledKeyboardNavigation:nt.props.disabledKeyboardNavigation,showMonthYearPicker:nt.props.showMonthYearPicker,showFullMonthYearPicker:nt.props.showFullMonthYearPicker,showTwoColumnMonthYearPicker:nt.props.showTwoColumnMonthYearPicker,showFourColumnMonthYearPicker:nt.props.showFourColumnMonthYearPicker,showYearPicker:nt.props.showYearPicker,showQuarterYearPicker:nt.props.showQuarterYearPicker,showWeekPicker:nt.props.showWeekPicker,isInputFocused:nt.props.isInputFocused,containerRef:nt.containerRef,monthShowsDuplicateDaysEnd:ct,monthShowsDuplicateDaysStart:ht})))}return it}}),_defineProperty(nt,"renderYears",function(){if(!nt.props.showTimeSelectOnly&&nt.props.showYearPicker)return React.createElement("div",{className:"react-datepicker__year--container"},nt.renderHeader({monthDate:nt.state.date}),React.createElement(Year,_extends({onDayClick:nt.handleDayClick,selectingDate:nt.state.selectingDate,clearSelectingDate:nt.clearSelectingDate,date:nt.state.date},nt.props,{onYearMouseEnter:nt.handleYearMouseEnter,onYearMouseLeave:nt.handleYearMouseLeave})))}),_defineProperty(nt,"renderTimeSection",function(){if(nt.props.showTimeSelect&&(nt.state.monthContainer||nt.props.showTimeSelectOnly))return React.createElement(Time,{selected:nt.props.selected,openToDate:nt.props.openToDate,onChange:nt.props.onTimeChange,timeClassName:nt.props.timeClassName,format:nt.props.timeFormat,includeTimes:nt.props.includeTimes,intervals:nt.props.timeIntervals,minTime:nt.props.minTime,maxTime:nt.props.maxTime,excludeTimes:nt.props.excludeTimes,filterTime:nt.props.filterTime,timeCaption:nt.props.timeCaption,todayButton:nt.props.todayButton,showMonthDropdown:nt.props.showMonthDropdown,showMonthYearDropdown:nt.props.showMonthYearDropdown,showYearDropdown:nt.props.showYearDropdown,withPortal:nt.props.withPortal,monthRef:nt.state.monthContainer,injectTimes:nt.props.injectTimes,locale:nt.props.locale,handleOnKeyDown:nt.props.handleOnKeyDown,showTimeSelectOnly:nt.props.showTimeSelectOnly})}),_defineProperty(nt,"renderInputTimeSection",function(){var rt=new Date(nt.props.selected),it=isValid(rt)&&!!nt.props.selected,ot=it?"".concat(addZero(rt.getHours()),":").concat(addZero(rt.getMinutes())):"";if(nt.props.showTimeInput)return React.createElement(inputTime,{date:rt,timeString:ot,timeInputLabel:nt.props.timeInputLabel,onChange:nt.props.onTimeChange,customTimeInput:nt.props.customTimeInput})}),_defineProperty(nt,"renderAriaLiveRegion",function(){var rt=getYearsPeriod(nt.state.date,nt.props.yearItemNumber),it=rt.startPeriod,ot=rt.endPeriod,st;return nt.props.showYearPicker?st="".concat(it," - ").concat(ot):nt.props.showMonthYearPicker||nt.props.showQuarterYearPicker?st=getYear(nt.state.date):st="".concat(getMonthInLocale(getMonth(nt.state.date),nt.props.locale)," ").concat(getYear(nt.state.date)),React.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},nt.state.isRenderAriaLiveMessage&&st)}),_defineProperty(nt,"renderChildren",function(){if(nt.props.children)return React.createElement("div",{className:"react-datepicker__children-container"},nt.props.children)}),nt.containerRef=React.createRef(),nt.state={date:nt.getDateInView(),selectingDate:null,monthContainer:null,isRenderAriaLiveMessage:!1},nt}return _inherits(et,_e),_createClass(et,[{key:"componentDidMount",value:function(){var nt=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){nt.setState({monthContainer:nt.monthContainer})}())}},{key:"componentDidUpdate",value:function(nt){var rt=this;if(this.props.preSelection&&(!isSameDay(this.props.preSelection,nt.preSelection)||this.props.monthSelectedIn!==nt.monthSelectedIn)){var it=!isSameMonth(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return it&&rt.handleCustomMonthChange(rt.state.date)})}else this.props.openToDate&&!isSameDay(this.props.openToDate,nt.openToDate)&&this.setState({date:this.props.openToDate})}},{key:"render",value:function(){var nt=this.props.container||CalendarContainer;return React.createElement("div",{style:{display:"contents"},ref:this.containerRef},React.createElement(nt,{className:clsx("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren()))}}],[{key:"defaultProps",get:function(){return{onDropdownFocus:function(){},monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",customTimeInput:null,yearItemNumber:DEFAULT_YEAR_ITEM_NUMBER}}}])}(React.Component),CalendarIcon=function _e(et){var tt=et.icon,nt=et.className,rt=nt===void 0?"":nt,it=et.onClick,ot="react-datepicker__calendar-icon";return React.isValidElement(tt)?React.cloneElement(tt,{className:"".concat(tt.props.className||""," ").concat(ot," ").concat(rt),onClick:function(ut){typeof tt.props.onClick=="function"&&tt.props.onClick(ut),typeof it=="function"&&it(ut)}}):typeof tt=="string"?React.createElement("i",{className:"".concat(ot," ").concat(tt," ").concat(rt),"aria-hidden":"true",onClick:it}):React.createElement("svg",{className:"".concat(ot," ").concat(rt),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:it},React.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},CalendarIcon$1=CalendarIcon,Portal=function(_e){function et(tt){var nt;return _classCallCheck(this,et),nt=_callSuper(this,et,[tt]),nt.el=document.createElement("div"),nt}return _inherits(et,_e),_createClass(et,[{key:"componentDidMount",value:function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)}},{key:"componentWillUnmount",value:function(){this.portalRoot.removeChild(this.el)}},{key:"render",value:function(){return ReactDOM.createPortal(this.props.children,this.el)}}])}(React.Component),focusableElementsSelector="[tabindex], a, button, input, select, textarea",focusableFilter=function _e(et){return!et.disabled&&et.tabIndex!==-1},TabLoop=function(_e){function et(tt){var nt;return _classCallCheck(this,et),nt=_callSuper(this,et,[tt]),_defineProperty(nt,"getTabChildren",function(){return Array.prototype.slice.call(nt.tabLoopRef.current.querySelectorAll(focusableElementsSelector),1,-1).filter(focusableFilter)}),_defineProperty(nt,"handleFocusStart",function(){var rt=nt.getTabChildren();rt&&rt.length>1&&rt[rt.length-1].focus()}),_defineProperty(nt,"handleFocusEnd",function(){var rt=nt.getTabChildren();rt&&rt.length>1&&rt[0].focus()}),nt.tabLoopRef=React.createRef(),nt}return _inherits(et,_e),_createClass(et,[{key:"render",value:function(){return this.props.enableTabLoop?React.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},React.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:"0",onFocus:this.handleFocusStart}),this.props.children,React.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:"0",onFocus:this.handleFocusEnd})):this.props.children}}],[{key:"defaultProps",get:function(){return{enableTabLoop:!0}}}])}(React.Component);function withFloating(_e){var et=function(nt){var rt=_objectSpread2(_objectSpread2({},nt),{},{popperModifiers:nt.popperModifiers||[],popperProps:nt.popperProps||{},hidePopper:typeof nt.hidePopper=="boolean"?nt.hidePopper:!0}),it=React.useRef(),ot=useFloating(_objectSpread2({open:!rt.hidePopper,whileElementsMounted:autoUpdate,placement:rt.popperPlacement,middleware:[flip({padding:15}),offset(10),arrow({element:it})].concat(_toConsumableArray(rt.popperModifiers))},rt.popperProps));return React.createElement(_e,_extends({},rt,{popperProps:_objectSpread2(_objectSpread2({},ot),{},{arrowRef:it})}))};return et}var PopperComponent=function(_e){function et(){return _classCallCheck(this,et),_callSuper(this,et,arguments)}return _inherits(et,_e),_createClass(et,[{key:"render",value:function(){var nt=this.props,rt=nt.className,it=nt.wrapperClassName,ot=nt.hidePopper,st=nt.popperComponent,ut=nt.targetComponent,ft=nt.enableTabLoop,dt=nt.popperOnKeyDown,lt=nt.portalId,at=nt.portalHost,ct=nt.popperProps,ht=nt.showArrow,pt;if(!ot){var mt=clsx("react-datepicker-popper",rt);pt=React.createElement(TabLoop,{enableTabLoop:ft},React.createElement("div",{ref:ct.refs.setFloating,style:ct.floatingStyles,className:mt,"data-placement":ct.placement,onKeyDown:dt},st,ht&&React.createElement(FloatingArrow,{ref:ct.arrowRef,context:ct.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(pt=React.createElement(this.props.popperContainer,{},pt)),lt&&!ot&&(pt=React.createElement(Portal,{portalId:lt,portalHost:at},pt));var gt=clsx("react-datepicker-wrapper",it);return React.createElement(React.Fragment,null,React.createElement("div",{ref:ct.refs.setReference,className:gt},ut),pt)}}],[{key:"defaultProps",get:function(){return{hidePopper:!0}}}])}(React.Component),PopperComponent$1=withFloating(PopperComponent),outsideClickIgnoreClass="react-datepicker-ignore-onclickoutside",WrappedCalendar=onClickOutsideHOC(Calendar);function hasPreSelectionChanged(_e,et){return _e&&et?getMonth(_e)!==getMonth(et)||getYear(_e)!==getYear(et):_e!==et}var INPUT_ERR_1="Date input not valid.",DatePicker=function(_e){function et(tt){var nt;return _classCallCheck(this,et),nt=_callSuper(this,et,[tt]),_defineProperty(nt,"getPreSelection",function(){return nt.props.openToDate?nt.props.openToDate:nt.props.selectsEnd&&nt.props.startDate?nt.props.startDate:nt.props.selectsStart&&nt.props.endDate?nt.props.endDate:newDate()}),_defineProperty(nt,"modifyHolidays",function(){var rt;return(rt=nt.props.holidays)===null||rt===void 0?void 0:rt.reduce(function(it,ot){var st=new Date(ot.date);return isValid$1(st)?[].concat(_toConsumableArray(it),[_objectSpread2(_objectSpread2({},ot),{},{date:st})]):it},[])}),_defineProperty(nt,"calcInitialState",function(){var rt,it=nt.getPreSelection(),ot=getEffectiveMinDate(nt.props),st=getEffectiveMaxDate(nt.props),ut=ot&&isBefore(it,startOfDay(ot))?ot:st&&isAfter(it,endOfDay(st))?st:it;return{open:nt.props.startOpen||!1,preventFocus:!1,preSelection:(rt=nt.props.selectsRange?nt.props.startDate:nt.props.selected)!==null&&rt!==void 0?rt:ut,highlightDates:getHightLightDaysMap(nt.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1}}),_defineProperty(nt,"clearPreventFocusTimeout",function(){nt.preventFocusTimeout&&clearTimeout(nt.preventFocusTimeout)}),_defineProperty(nt,"setFocus",function(){nt.input&&nt.input.focus&&nt.input.focus({preventScroll:!0})}),_defineProperty(nt,"setBlur",function(){nt.input&&nt.input.blur&&nt.input.blur(),nt.cancelFocusInput()}),_defineProperty(nt,"setOpen",function(rt){var it=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;nt.setState({open:rt,preSelection:rt&&nt.state.open?nt.state.preSelection:nt.calcInitialState().preSelection,lastPreSelectChange:PRESELECT_CHANGE_VIA_NAVIGATE},function(){rt||nt.setState(function(ot){return{focused:it?ot.focused:!1}},function(){!it&&nt.setBlur(),nt.setState({inputValue:null})})})}),_defineProperty(nt,"inputOk",function(){return isDate(nt.state.preSelection)}),_defineProperty(nt,"isCalendarOpen",function(){return nt.props.open===void 0?nt.state.open&&!nt.props.disabled&&!nt.props.readOnly:nt.props.open}),_defineProperty(nt,"handleFocus",function(rt){nt.state.preventFocus||(nt.props.onFocus(rt),!nt.props.preventOpenOnFocus&&!nt.props.readOnly&&nt.setOpen(!0)),nt.setState({focused:!0})}),_defineProperty(nt,"sendFocusBackToInput",function(){nt.preventFocusTimeout&&nt.clearPreventFocusTimeout(),nt.setState({preventFocus:!0},function(){nt.preventFocusTimeout=setTimeout(function(){nt.setFocus(),nt.setState({preventFocus:!1})})})}),_defineProperty(nt,"cancelFocusInput",function(){clearTimeout(nt.inputFocusTimeout),nt.inputFocusTimeout=null}),_defineProperty(nt,"deferFocusInput",function(){nt.cancelFocusInput(),nt.inputFocusTimeout=setTimeout(function(){return nt.setFocus()},1)}),_defineProperty(nt,"handleDropdownFocus",function(){nt.cancelFocusInput()}),_defineProperty(nt,"handleBlur",function(rt){(!nt.state.open||nt.props.withPortal||nt.props.showTimeInput)&&nt.props.onBlur(rt),nt.setState({focused:!1})}),_defineProperty(nt,"handleCalendarClickOutside",function(rt){nt.props.inline||nt.setOpen(!1),nt.props.onClickOutside(rt),nt.props.withPortal&&rt.preventDefault()}),_defineProperty(nt,"handleChange",function(){for(var rt=arguments.length,it=new Array(rt),ot=0;ot<rt;ot++)it[ot]=arguments[ot];var st=it[0];if(!(nt.props.onChangeRaw&&(nt.props.onChangeRaw.apply(nt,it),typeof st.isDefaultPrevented!="function"||st.isDefaultPrevented()))){nt.setState({inputValue:st.target.value,lastPreSelectChange:PRESELECT_CHANGE_VIA_INPUT});var ut=parseDate(st.target.value,nt.props.dateFormat,nt.props.locale,nt.props.strictParsing,nt.props.minDate);nt.props.showTimeSelectOnly&&nt.props.selected&&ut&&!isSameDay(ut,nt.props.selected)&&(ut=set(nt.props.selected,{hours:getHours(ut),minutes:getMinutes(ut),seconds:getSeconds(ut)})),(ut||!st.target.value)&&nt.setSelected(ut,st,!0)}}),_defineProperty(nt,"handleSelect",function(rt,it,ot){if(nt.props.shouldCloseOnSelect&&!nt.props.showTimeSelect&&nt.sendFocusBackToInput(),nt.props.onChangeRaw&&nt.props.onChangeRaw(it),nt.setSelected(rt,it,!1,ot),nt.props.showDateSelect&&nt.setState({isRenderAriaLiveMessage:!0}),!nt.props.shouldCloseOnSelect||nt.props.showTimeSelect)nt.setPreSelection(rt);else if(!nt.props.inline){nt.props.selectsRange||nt.setOpen(!1);var st=nt.props,ut=st.startDate,ft=st.endDate;ut&&!ft&&(nt.props.swapRange||!isDateBefore(rt,ut))&&nt.setOpen(!1)}}),_defineProperty(nt,"setSelected",function(rt,it,ot,st){var ut=rt;if(nt.props.showYearPicker){if(ut!==null&&isYearDisabled(getYear(ut),nt.props))return}else if(nt.props.showMonthYearPicker){if(ut!==null&&isMonthDisabled(ut,nt.props))return}else if(ut!==null&&isDayDisabled(ut,nt.props))return;var ft=nt.props,dt=ft.onChange,lt=ft.selectsRange,at=ft.startDate,ct=ft.endDate,ht=ft.selectsMultiple,pt=ft.selectedDates,mt=ft.minTime,gt=ft.swapRange;if(!isEqual(nt.props.selected,ut)||nt.props.allowSameDay||lt||ht)if(ut!==null&&(nt.props.selected&&(!ot||!nt.props.showTimeSelect&&!nt.props.showTimeSelectOnly&&!nt.props.showTimeInput)&&(ut=setTime(ut,{hour:getHours(nt.props.selected),minute:getMinutes(nt.props.selected),second:getSeconds(nt.props.selected)})),!ot&&(nt.props.showTimeSelect||nt.props.showTimeSelectOnly)&&mt&&(ut=setTime(ut,{hour:mt.getHours(),minute:mt.getMinutes(),second:mt.getSeconds()})),nt.props.inline||nt.setState({preSelection:ut}),nt.props.focusSelectedMonth||nt.setState({monthSelectedIn:st})),lt){var yt=!at&&!ct,bt=at&&!ct,xt=at&&ct;yt?dt([ut,null],it):bt&&(ut===null?dt([null,null],it):isDateBefore(ut,at)?dt(gt?[ut,at]:[ut,null],it):dt([at,ut],it)),xt&&dt([ut,null],it)}else if(ht)if(!(pt!=null&&pt.length))dt([ut],it);else{var vt=pt.some(function(_t){return isSameDay(_t,ut)});if(vt){var wt=pt.filter(function(_t){return!isSameDay(_t,ut)});dt(wt,it)}else dt([].concat(_toConsumableArray(pt),[ut]),it)}else dt(ut,it);ot||(nt.props.onSelect(ut,it),nt.setState({inputValue:null}))}),_defineProperty(nt,"setPreSelection",function(rt){var it=typeof nt.props.minDate<"u",ot=typeof nt.props.maxDate<"u",st=!0;if(rt){var ut=startOfDay(rt);if(it&&ot)st=isDayInRange(rt,nt.props.minDate,nt.props.maxDate);else if(it){var ft=startOfDay(nt.props.minDate);st=isAfter(rt,ft)||isEqual(ut,ft)}else if(ot){var dt=endOfDay(nt.props.maxDate);st=isBefore(rt,dt)||isEqual(ut,dt)}}st&&nt.setState({preSelection:rt})}),_defineProperty(nt,"toggleCalendar",function(){nt.setOpen(!nt.state.open)}),_defineProperty(nt,"handleTimeChange",function(rt){var it=nt.props.selected?nt.props.selected:nt.getPreSelection(),ot=nt.props.selected?rt:setTime(it,{hour:getHours(rt),minute:getMinutes(rt)});nt.setState({preSelection:ot}),nt.props.onChange(ot),nt.props.shouldCloseOnSelect&&(nt.sendFocusBackToInput(),nt.setOpen(!1)),nt.props.showTimeInput&&nt.setOpen(!0),(nt.props.showTimeSelectOnly||nt.props.showTimeSelect)&&nt.setState({isRenderAriaLiveMessage:!0}),nt.setState({inputValue:null})}),_defineProperty(nt,"onInputClick",function(){!nt.props.disabled&&!nt.props.readOnly&&nt.setOpen(!0),nt.props.onInputClick()}),_defineProperty(nt,"onInputKeyDown",function(rt){nt.props.onKeyDown(rt);var it=rt.key;if(!nt.state.open&&!nt.props.inline&&!nt.props.preventOpenOnFocus){(it==="ArrowDown"||it==="ArrowUp"||it==="Enter")&&nt.onInputClick();return}if(nt.state.open){if(it==="ArrowDown"||it==="ArrowUp"){rt.preventDefault();var ot=nt.props.showWeekPicker&&nt.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':nt.props.showFullMonthYearPicker||nt.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',st=nt.calendar.componentNode&&nt.calendar.componentNode.querySelector(ot);st&&st.focus({preventScroll:!0});return}var ut=newDate(nt.state.preSelection);it==="Enter"?(rt.preventDefault(),nt.inputOk()&&nt.state.lastPreSelectChange===PRESELECT_CHANGE_VIA_NAVIGATE?(nt.handleSelect(ut,rt),!nt.props.shouldCloseOnSelect&&nt.setPreSelection(ut)):nt.setOpen(!1)):it==="Escape"?(rt.preventDefault(),nt.sendFocusBackToInput(),nt.setOpen(!1)):it==="Tab"&&nt.setOpen(!1),nt.inputOk()||nt.props.onInputError({code:1,msg:INPUT_ERR_1})}}),_defineProperty(nt,"onPortalKeyDown",function(rt){var it=rt.key;it==="Escape"&&(rt.preventDefault(),nt.setState({preventFocus:!0},function(){nt.setOpen(!1),setTimeout(function(){nt.setFocus(),nt.setState({preventFocus:!1})})}))}),_defineProperty(nt,"onDayKeyDown",function(rt){nt.props.onKeyDown(rt);var it=rt.key,ot=rt.shiftKey,st=newDate(nt.state.preSelection);if(it==="Enter")rt.preventDefault(),nt.handleSelect(st,rt),!nt.props.shouldCloseOnSelect&&nt.setPreSelection(st);else if(it==="Escape")rt.preventDefault(),nt.setOpen(!1),nt.inputOk()||nt.props.onInputError({code:1,msg:INPUT_ERR_1});else if(!nt.props.disabledKeyboardNavigation){var ut;switch(it){case"ArrowLeft":nt.props.showWeekPicker?ut=subWeeks(st,1):ut=subDays(st,1);break;case"ArrowRight":nt.props.showWeekPicker?ut=addWeeks(st,1):ut=addDays(st,1);break;case"ArrowUp":ut=subWeeks(st,1);break;case"ArrowDown":ut=addWeeks(st,1);break;case"PageUp":ut=ot?subYears(st,1):subMonths(st,1);break;case"PageDown":ut=ot?addYears(st,1):addMonths(st,1);break;case"Home":ut=getStartOfWeek(st,nt.props.locale,nt.props.calendarStartDay);break;case"End":ut=getEndOfWeek(st);break;default:ut=null;break}if(!ut){nt.props.onInputError&&nt.props.onInputError({code:1,msg:INPUT_ERR_1});return}if(rt.preventDefault(),nt.setState({lastPreSelectChange:PRESELECT_CHANGE_VIA_NAVIGATE}),nt.props.adjustDateOnChange&&nt.setSelected(ut),nt.setPreSelection(ut),nt.props.inline){var ft=getMonth(st),dt=getMonth(ut),lt=getYear(st),at=getYear(ut);ft!==dt||lt!==at?nt.setState({shouldFocusDayInline:!0}):nt.setState({shouldFocusDayInline:!1})}}}),_defineProperty(nt,"onPopperKeyDown",function(rt){var it=rt.key;it==="Escape"&&(rt.preventDefault(),nt.sendFocusBackToInput())}),_defineProperty(nt,"onClearClick",function(rt){rt&&rt.preventDefault&&rt.preventDefault(),nt.sendFocusBackToInput(),nt.props.selectsRange?nt.props.onChange([null,null],rt):nt.props.onChange(null,rt),nt.setState({inputValue:null})}),_defineProperty(nt,"clear",function(){nt.onClearClick()}),_defineProperty(nt,"onScroll",function(rt){typeof nt.props.closeOnScroll=="boolean"&&nt.props.closeOnScroll?(rt.target===document||rt.target===document.documentElement||rt.target===document.body)&&nt.setOpen(!1):typeof nt.props.closeOnScroll=="function"&&nt.props.closeOnScroll(rt)&&nt.setOpen(!1)}),_defineProperty(nt,"renderCalendar",function(){return!nt.props.inline&&!nt.isCalendarOpen()?null:React.createElement(WrappedCalendar,{ref:function(it){nt.calendar=it},locale:nt.props.locale,calendarStartDay:nt.props.calendarStartDay,chooseDayAriaLabelPrefix:nt.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:nt.props.disabledDayAriaLabelPrefix,weekAriaLabelPrefix:nt.props.weekAriaLabelPrefix,monthAriaLabelPrefix:nt.props.monthAriaLabelPrefix,adjustDateOnChange:nt.props.adjustDateOnChange,setOpen:nt.setOpen,shouldCloseOnSelect:nt.props.shouldCloseOnSelect,dateFormat:nt.props.dateFormatCalendar,useWeekdaysShort:nt.props.useWeekdaysShort,formatWeekDay:nt.props.formatWeekDay,dropdownMode:nt.props.dropdownMode,selected:nt.props.selected,preSelection:nt.state.preSelection,onSelect:nt.handleSelect,onWeekSelect:nt.props.onWeekSelect,openToDate:nt.props.openToDate,minDate:nt.props.minDate,maxDate:nt.props.maxDate,selectsStart:nt.props.selectsStart,selectsEnd:nt.props.selectsEnd,selectsRange:nt.props.selectsRange,selectsMultiple:nt.props.selectsMultiple,selectedDates:nt.props.selectedDates,startDate:nt.props.startDate,endDate:nt.props.endDate,excludeDates:nt.props.excludeDates,excludeDateIntervals:nt.props.excludeDateIntervals,filterDate:nt.props.filterDate,onClickOutside:nt.handleCalendarClickOutside,formatWeekNumber:nt.props.formatWeekNumber,highlightDates:nt.state.highlightDates,holidays:getHolidaysMap(nt.modifyHolidays()),includeDates:nt.props.includeDates,includeDateIntervals:nt.props.includeDateIntervals,includeTimes:nt.props.includeTimes,injectTimes:nt.props.injectTimes,inline:nt.props.inline,shouldFocusDayInline:nt.state.shouldFocusDayInline,peekNextMonth:nt.props.peekNextMonth,showMonthDropdown:nt.props.showMonthDropdown,showPreviousMonths:nt.props.showPreviousMonths,useShortMonthInDropdown:nt.props.useShortMonthInDropdown,showMonthYearDropdown:nt.props.showMonthYearDropdown,showWeekNumbers:nt.props.showWeekNumbers,showYearDropdown:nt.props.showYearDropdown,withPortal:nt.props.withPortal,forceShowMonthNavigation:nt.props.forceShowMonthNavigation,showDisabledMonthNavigation:nt.props.showDisabledMonthNavigation,scrollableYearDropdown:nt.props.scrollableYearDropdown,scrollableMonthYearDropdown:nt.props.scrollableMonthYearDropdown,todayButton:nt.props.todayButton,weekLabel:nt.props.weekLabel,outsideClickIgnoreClass,fixedHeight:nt.props.fixedHeight,monthsShown:nt.props.monthsShown,monthSelectedIn:nt.state.monthSelectedIn,onDropdownFocus:nt.handleDropdownFocus,onMonthChange:nt.props.onMonthChange,onYearChange:nt.props.onYearChange,dayClassName:nt.props.dayClassName,weekDayClassName:nt.props.weekDayClassName,monthClassName:nt.props.monthClassName,timeClassName:nt.props.timeClassName,showDateSelect:nt.props.showDateSelect,showTimeSelect:nt.props.showTimeSelect,showTimeSelectOnly:nt.props.showTimeSelectOnly,onTimeChange:nt.handleTimeChange,timeFormat:nt.props.timeFormat,timeIntervals:nt.props.timeIntervals,minTime:nt.props.minTime,maxTime:nt.props.maxTime,excludeTimes:nt.props.excludeTimes,filterTime:nt.props.filterTime,timeCaption:nt.props.timeCaption,className:nt.props.calendarClassName,container:nt.props.calendarContainer,yearItemNumber:nt.props.yearItemNumber,yearDropdownItemNumber:nt.props.yearDropdownItemNumber,previousMonthAriaLabel:nt.props.previousMonthAriaLabel,previousMonthButtonLabel:nt.props.previousMonthButtonLabel,nextMonthAriaLabel:nt.props.nextMonthAriaLabel,nextMonthButtonLabel:nt.props.nextMonthButtonLabel,previousYearAriaLabel:nt.props.previousYearAriaLabel,previousYearButtonLabel:nt.props.previousYearButtonLabel,nextYearAriaLabel:nt.props.nextYearAriaLabel,nextYearButtonLabel:nt.props.nextYearButtonLabel,timeInputLabel:nt.props.timeInputLabel,disabledKeyboardNavigation:nt.props.disabledKeyboardNavigation,renderCustomHeader:nt.props.renderCustomHeader,popperProps:nt.props.popperProps,renderDayContents:nt.props.renderDayContents,renderMonthContent:nt.props.renderMonthContent,renderQuarterContent:nt.props.renderQuarterContent,renderYearContent:nt.props.renderYearContent,onDayMouseEnter:nt.props.onDayMouseEnter,onMonthMouseLeave:nt.props.onMonthMouseLeave,onYearMouseEnter:nt.props.onYearMouseEnter,onYearMouseLeave:nt.props.onYearMouseLeave,selectsDisabledDaysInRange:nt.props.selectsDisabledDaysInRange,showTimeInput:nt.props.showTimeInput,showMonthYearPicker:nt.props.showMonthYearPicker,showFullMonthYearPicker:nt.props.showFullMonthYearPicker,showTwoColumnMonthYearPicker:nt.props.showTwoColumnMonthYearPicker,showFourColumnMonthYearPicker:nt.props.showFourColumnMonthYearPicker,showYearPicker:nt.props.showYearPicker,showQuarterYearPicker:nt.props.showQuarterYearPicker,showWeekPicker:nt.props.showWeekPicker,excludeScrollbar:nt.props.excludeScrollbar,handleOnKeyDown:nt.props.onKeyDown,handleOnDayKeyDown:nt.onDayKeyDown,isInputFocused:nt.state.focused,customTimeInput:nt.props.customTimeInput,setPreSelection:nt.setPreSelection,usePointerEvent:nt.props.usePointerEvent,yearClassName:nt.props.yearClassName},nt.props.children)}),_defineProperty(nt,"renderAriaLiveRegion",function(){var rt=nt.props,it=rt.dateFormat,ot=rt.locale,st=nt.props.showTimeInput||nt.props.showTimeSelect,ut=st?"PPPPp":"PPPP",ft;return nt.props.selectsRange?ft="Selected start date: ".concat(safeDateFormat(nt.props.startDate,{dateFormat:ut,locale:ot}),". ").concat(nt.props.endDate?"End date: "+safeDateFormat(nt.props.endDate,{dateFormat:ut,locale:ot}):""):nt.props.showTimeSelectOnly?ft="Selected time: ".concat(safeDateFormat(nt.props.selected,{dateFormat:it,locale:ot})):nt.props.showYearPicker?ft="Selected year: ".concat(safeDateFormat(nt.props.selected,{dateFormat:"yyyy",locale:ot})):nt.props.showMonthYearPicker?ft="Selected month: ".concat(safeDateFormat(nt.props.selected,{dateFormat:"MMMM yyyy",locale:ot})):nt.props.showQuarterYearPicker?ft="Selected quarter: ".concat(safeDateFormat(nt.props.selected,{dateFormat:"yyyy, QQQ",locale:ot})):ft="Selected date: ".concat(safeDateFormat(nt.props.selected,{dateFormat:ut,locale:ot})),React.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},ft)}),_defineProperty(nt,"renderDateInput",function(){var rt,it=clsx(nt.props.className,_defineProperty({},outsideClickIgnoreClass,nt.state.open)),ot=nt.props.customInput||React.createElement("input",{type:"text"}),st=nt.props.customInputRef||"ref",ut=typeof nt.props.value=="string"?nt.props.value:typeof nt.state.inputValue=="string"?nt.state.inputValue:nt.props.selectsRange?safeDateRangeFormat(nt.props.startDate,nt.props.endDate,nt.props):nt.props.selectsMultiple?safeMultipleDatesFormat(nt.props.selectedDates,nt.props):safeDateFormat(nt.props.selected,nt.props);return React.cloneElement(ot,(rt={},_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(rt,st,function(ft){nt.input=ft}),"value",ut),"onBlur",nt.handleBlur),"onChange",nt.handleChange),"onClick",nt.onInputClick),"onFocus",nt.handleFocus),"onKeyDown",nt.onInputKeyDown),"id",nt.props.id),"name",nt.props.name),"form",nt.props.form),_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(rt,"autoFocus",nt.props.autoFocus),"placeholder",nt.props.placeholderText),"disabled",nt.props.disabled),"autoComplete",nt.props.autoComplete),"className",clsx(ot.props.className,it)),"title",nt.props.title),"readOnly",nt.props.readOnly),"required",nt.props.required),"tabIndex",nt.props.tabIndex),"aria-describedby",nt.props.ariaDescribedBy),_defineProperty(_defineProperty(_defineProperty(rt,"aria-invalid",nt.props.ariaInvalid),"aria-labelledby",nt.props.ariaLabelledBy),"aria-required",nt.props.ariaRequired)))}),_defineProperty(nt,"renderClearButton",function(){var rt=nt.props,it=rt.isClearable,ot=rt.disabled,st=rt.selected,ut=rt.startDate,ft=rt.endDate,dt=rt.clearButtonTitle,lt=rt.clearButtonClassName,at=lt===void 0?"":lt,ct=rt.ariaLabelClose,ht=ct===void 0?"Close":ct,pt=rt.selectedDates;return it&&(st!=null||ut!=null||ft!=null||pt!=null&&pt.length)?React.createElement("button",{type:"button",className:clsx("react-datepicker__close-icon",at,{"react-datepicker__close-icon--disabled":ot}),disabled:ot,"aria-label":ht,onClick:nt.onClearClick,title:dt,tabIndex:-1}):null}),nt.state=nt.calcInitialState(),nt.preventFocusTimeout=null,nt}return _inherits(et,_e),_createClass(et,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.onScroll,!0)}},{key:"componentDidUpdate",value:function(nt,rt){nt.inline&&hasPreSelectionChanged(nt.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&nt.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),nt.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:getHightLightDaysMap(this.props.highlightDates)}),!rt.focused&&!isEqual(nt.selected,this.props.selected)&&this.setState({inputValue:null}),rt.open!==this.state.open&&(rt.open===!1&&this.state.open===!0&&this.props.onCalendarOpen(),rt.open===!0&&this.state.open===!1&&this.props.onCalendarClose())}},{key:"componentWillUnmount",value:function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0)}},{key:"renderInputContainer",value:function(){var nt=this.props,rt=nt.showIcon,it=nt.icon,ot=nt.calendarIconClassname,st=nt.toggleCalendarOnIconClick,ut=this.state.open;return React.createElement("div",{className:"react-datepicker__input-container".concat(rt?" react-datepicker__view-calendar-icon":"")},rt&&React.createElement(CalendarIcon$1,_extends({icon:it,className:"".concat(ot," ").concat(ut&&"react-datepicker-ignore-onclickoutside")},st?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())}},{key:"render",value:function(){var nt=this.renderCalendar();if(this.props.inline)return nt;if(this.props.withPortal){var rt=this.state.open?React.createElement(TabLoop,{enableTabLoop:this.props.enableTabLoop},React.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},nt)):null;return this.state.open&&this.props.portalId&&(rt=React.createElement(Portal,{portalId:this.props.portalId,portalHost:this.props.portalHost},rt)),React.createElement("div",null,this.renderInputContainer(),rt)}return React.createElement(PopperComponent$1,{className:this.props.popperClassName,wrapperClassName:this.props.wrapperClassName,hidePopper:!this.isCalendarOpen(),portalId:this.props.portalId,portalHost:this.props.portalHost,popperModifiers:this.props.popperModifiers,targetComponent:this.renderInputContainer(),popperContainer:this.props.popperContainer,popperComponent:nt,popperPlacement:this.props.popperPlacement,popperProps:this.props.popperProps,popperOnKeyDown:this.onPopperKeyDown,enableTabLoop:this.props.enableTabLoop,showArrow:this.props.showPopperArrow})}}],[{key:"defaultProps",get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",onChange:function(){},disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",onFocus:function(){},onBlur:function(){},onKeyDown:function(){},onInputClick:function(){},onSelect:function(){},onClickOutside:function(){},onMonthChange:function(){},onCalendarOpen:function(){},onCalendarClose:function(){},preventOpenOnFocus:!1,onYearChange:function(){},onInputError:function(){},monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:DEFAULT_YEAR_ITEM_NUMBER,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}}}])}(React.Component),PRESELECT_CHANGE_VIA_INPUT="input",PRESELECT_CHANGE_VIA_NAVIGATE="navigate";function TokensPage({isOnlineRef:_e,allowRestart:et,onCancel:tt,onTranscript:nt,onPartialTranscript:rt,bodyStyle:it,exchangeRate:ot,setExchangeRate:st,updateExchangeRate:ut,modelSelector:ft,creditBalance:dt,updateCreditBalance:lt,teamLlm:at,chatHistoryRoles:ct,setChatHistoryRoles:ht,chatHistoryTeams:pt,setChatHistoryTeams:mt,user:gt,token:yt,login:bt,logout:xt,refresh:vt,doSave:wt,aiUsage:_t,submitForm:Ct,stopAllPlaying:Et,stopLanguageModels:$t,aiLlm:jt,usingOpenAiTts:Dt,usingSelfHostedTts:Pt,usingWebSpeechTts:kt,usingMeSpeakTts:At,usingTts:Tt,usingStt:St,usingOpenAiStt:Rt,usingSelfHostedStt:Ot,usingLocalStt:Nt,queueSpeech:It,getUrl:Bt,playDataUri:zt,stopPlaying:Gt,isPlaying:Kt,setIsPlaying:fn,isMuted:dn,isMutedRef:Wt,mute:rn,unmute:Vt,deleteRole:an,exportRoles:Qt,importRoles:Zt,init:xn,roles:vn,setRoles:gn,currentRole:Cn,setCurrentRole:kn,newRole:En,utteranceQueue:sn,setUtteranceQueue:On,mergeData:Tn,setMergeData:bn,lastLlmTrigger:Dn,autoStartMicrophone:Nn,setAutoStartMicrophone:wn,autoStopMicrophone:qn,setAutoStopMicrophone:or,refreshHash:tr,setRefreshHash:cr,forceRefresh:rr,hasRequiredConfig:Vn,isSpeaking:Jt,setIsSpeaking:pn,isWaiting:$n,startWaiting:jn,stopWaiting:Fn,userMessage:Ln,userMessageRef:Xn,setUserMessage:ar,isReady:Qn,setIsReady:Yt,config:hn,setConfig:mn,llmEnabled:yn,setLlmEnabled:qt,icons:Sn,configRef:Bn,utils:Zn,newChat:Hn,addUserMessage:sr,addAssistantMessage:nr,setLastAssistantMessage:dr,setLastUserMessage:zn,getLastUserMessage:mr,chatHistoryId:$r,chatHistoryIdRef:lr,setChatHistoryId:wr,chatHistories:gr,setChatHistories:Kn,currentChatHistory:jr,revertChatHistory:Pr,deleteChatHistory:Lr,playSpeech:Un,duplicateChatHistory:en,configIn:Mn,chatHistoriesRef:Wn,getLastAssistantChatIndex:pr,getLastAssistantMessage:Sr,categories:kr,setCategories:_r,teams:vr,setTeams:ur,currentTeam:Er,setCurrentTeam:Cr,currentTeamRef:Dr,deleteTeam:zr,configManager:Hr,runtimes:Or,duplicateRole:Vr,accordionSelectedKey:Nr,setAccordionSelectedKey:Lt,categoryFilter:Xt,setCategoryFilter:Ht,fileManager:on,files:ln,exportDocument:tn,availableModels:An}){const Rn=new Date;Rn.setDate(Rn.getDate()-14);const _n=new Date;_n.setDate(_n.getDate()+1);const[Mt,Ft]=reactExports.useState(Rn),Ut=reactExports.useRef();function cn(fr){Ft(fr),Ut.current=fr}const[In,Gn]=reactExports.useState(_n),ir=reactExports.useRef();function Tr(fr){Gn(fr),ir.current=fr}const[Ar,Fr]=reactExports.useState([]),[Ir,Br]=reactExports.useState([]),[Rr,Pn]=reactExports.useState([]);reactExports.useEffect(function(){Gr()},[]);let yr={};function Gr(){let fr=_t.collated(Ut.current,ir.current);Fr(fr.logs),Br(fr.tallies),Pn(fr.grandTotals)}return Zn.summariseConfig(hn),jsxRuntimeExports.jsxs("div",{className:"App",style:{marginLeft:"0.5em",textAlign:"left"},id:tr,children:[jsxRuntimeExports.jsx(Menu,{isOnlineRef:_e,allowRestart:et,onCancel:tt,onTranscript:nt,onPartialTranscript:rt,bodyStyle:it,exchangeRate:ot,setExchangeRate:st,updateExchangeRate:ut,modelSelector:ft,creditBalance:dt,updateCreditBalance:lt,teamLlm:at,chatHistoryRoles:ct,setChatHistoryRoles:ht,chatHistoryTeams:pt,setChatHistoryTeams:mt,user:gt,token:yt,login:bt,logout:xt,refresh:vt,doSave:wt,aiUsage:_t,submitForm:Ct,stopAllPlaying:Et,stopLanguageModels:$t,aiLlm:jt,usingOpenAiTts:Dt,usingSelfHostedTts:Pt,usingWebSpeechTts:kt,usingMeSpeakTts:At,usingTts:Tt,usingStt:St,usingOpenAiStt:Rt,usingSelfHostedStt:Ot,usingLocalStt:Nt,queueSpeech:It,getUrl:Bt,playDataUri:zt,stopPlaying:Gt,isPlaying:Kt,setIsPlaying:fn,isMuted:dn,isMutedRef:Wt,mute:rn,unmute:Vt,deleteRole:an,exportRoles:Qt,importRoles:Zt,init:xn,roles:vn,setRoles:gn,currentRole:Cn,setCurrentRole:kn,newRole:En,utteranceQueue:sn,setUtteranceQueue:On,mergeData:Tn,setMergeData:bn,lastLlmTrigger:Dn,autoStartMicrophone:Nn,setAutoStartMicrophone:wn,autoStopMicrophone:qn,setAutoStopMicrophone:or,refreshHash:tr,setRefreshHash:cr,forceRefresh:rr,hasRequiredConfig:Vn,isSpeaking:Jt,setIsSpeaking:pn,isWaiting:$n,startWaiting:jn,stopWaiting:Fn,userMessage:Ln,userMessageRef:Xn,setUserMessage:ar,isReady:Qn,setIsReady:Yt,config:hn,setConfig:mn,llmEnabled:yn,setLlmEnabled:qt,icons:Sn,configRef:Bn,utils:Zn,newChat:Hn,addUserMessage:sr,addAssistantMessage:nr,setLastAssistantMessage:dr,setLastUserMessage:zn,getLastUserMessage:mr,chatHistoryId:$r,chatHistoryIdRef:lr,setChatHistoryId:wr,chatHistories:gr,setChatHistories:Kn,currentChatHistory:jr,revertChatHistory:Pr,deleteChatHistory:Lr,playSpeech:Un,duplicateChatHistory:en,configIn:Mn,chatHistoriesRef:Wn,getLastAssistantChatIndex:pr,getLastAssistantMessage:Sr,categories:kr,setCategories:_r,teams:vr,setTeams:ur,currentTeam:Er,setCurrentTeam:Cr,currentTeamRef:Dr,deleteTeam:zr,configManager:Hr,runtimes:Or,duplicateRole:Vr,accordionSelectedKey:Nr,setAccordionSelectedKey:Lt,categoryFilter:Xt,setCategoryFilter:Ht,fileManager:on,files:ln,exportDocument:tn,availableModels:An}),jsxRuntimeExports.jsx("div",{id:"body",style:it,children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{style:{borderBottom:"2px solid black",marginBottom:"1em",paddingBottom:"1em"},children:[jsxRuntimeExports.jsx("h4",{children:"Search"}),jsxRuntimeExports.jsx("b",{children:"From:"})," ",jsxRuntimeExports.jsx(DatePicker,{selected:Mt,onChange:fr=>{cn(fr),Gr()}}),"",jsxRuntimeExports.jsx("b",{children:"To:"})," ",jsxRuntimeExports.jsx(DatePicker,{selected:In,onChange:fr=>{Tr(fr),Gr()}})]}),jsxRuntimeExports.jsx(Button,{style:{float:"right"},variant:"success",onClick:function(){Zn.downloadText(JSON.stringify(Ar),"statistics.json")},children:Sn.save}),jsxRuntimeExports.jsxs("div",{style:{borderBottom:"2px solid black",marginBottom:"1em",paddingBottom:"1em"},children:[jsxRuntimeExports.jsx("h4",{children:"Grand Totals"}),jsxRuntimeExports.jsxs("table",{children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{children:"Tokens In"}),jsxRuntimeExports.jsx("th",{children:"Tokens Out"}),jsxRuntimeExports.jsx("th",{children:"Total Tokens"}),jsxRuntimeExports.jsx("th",{children:"Cost In"}),jsxRuntimeExports.jsx("th",{children:"Cost Out"}),jsxRuntimeExports.jsx("th",{children:"Total Cost"})]})}),jsxRuntimeExports.jsx("tbody",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{children:Rr.tokens_in>0?Rr.tokens_in:0}),jsxRuntimeExports.jsx("td",{children:Rr.tokens_out>0?Rr.tokens_out:0}),jsxRuntimeExports.jsx("td",{children:Rr.tokens_in+Rr.tokens_in>0?Rr.tokens_in+Rr.tokens_in:0}),jsxRuntimeExports.jsx("td",{children:Rr.cost_in>0?Rr.cost_in:0}),jsxRuntimeExports.jsx("td",{children:Rr.cost_out>0?Rr.cost_out:0}),jsxRuntimeExports.jsx("td",{children:Rr.cost_in+Rr.cost_out>0?Rr.cost_in+Rr.cost_out:0})]})})]}),jsxRuntimeExports.jsx("br",{})]}),Object.keys(Ar).map(function(fr,xr){let Wr=fr.split(":::::"),Yr=Wr[0];(Wr&&Wr.length)>0&&Wr[1],yr[Yr]=yr[Yr]>0?yr[Yr]+1:1;let Jr={border:"1px solid black",paddingLeft:"0.3em"};return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h5",{children:["Key: ",yr[Yr],"    ",Yr]}),jsxRuntimeExports.jsxs("table",{children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{children:"Date"}),jsxRuntimeExports.jsx("th",{children:"Tokens In"}),jsxRuntimeExports.jsx("th",{children:"Tokens Out"}),jsxRuntimeExports.jsx("th",{children:"Total Tokens"}),jsxRuntimeExports.jsx("th",{children:"Cost In"}),jsxRuntimeExports.jsx("th",{children:"Cost Out"}),jsxRuntimeExports.jsx("th",{children:"Total Cost"})]})}),jsxRuntimeExports.jsxs("tbody",{children:[Ar[fr].map(function(Xr,Zr){return jsxRuntimeExports.jsxs("tr",{style:{border:"1px solid black",backgroundColor:Zr%2===0?"lightgrey":"lightblue"},children:[jsxRuntimeExports.jsx("td",{style:Jr,children:new Date(Xr.date).toLocaleString()}),jsxRuntimeExports.jsx("td",{style:Jr,children:Xr.tokens_in}),jsxRuntimeExports.jsx("td",{style:Jr,children:Xr.tokens_out}),jsxRuntimeExports.jsx("td",{style:Jr,children:Xr.tokens_in+Xr.tokens_out}),jsxRuntimeExports.jsx("td",{style:Jr,children:Xr.price_in}),jsxRuntimeExports.jsx("td",{style:Jr,children:Xr.price_out}),jsxRuntimeExports.jsx("td",{style:Jr,children:Xr.price_in+Xr.price_out})]},Zr)}),jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{children:jsxRuntimeExports.jsx("b",{})}),jsxRuntimeExports.jsx("td",{children:jsxRuntimeExports.jsx("b",{children:Ir[fr].tokens_in})}),jsxRuntimeExports.jsx("td",{children:jsxRuntimeExports.jsx("b",{children:Ir[fr].tokens_out})}),jsxRuntimeExports.jsx("td",{children:jsxRuntimeExports.jsx("b",{children:Ir[fr].tokens_out+Ir[fr].tokens_out})}),jsxRuntimeExports.jsx("td",{children:jsxRuntimeExports.jsx("b",{children:Ir[fr].price_in})}),jsxRuntimeExports.jsx("td",{children:jsxRuntimeExports.jsx("b",{children:Ir[fr].price_out})}),jsxRuntimeExports.jsx("td",{children:jsxRuntimeExports.jsx("b",{children:Ir[fr].price_in+Ir[fr].price_out})})]})]})]})]},xr)})]})}),jsxRuntimeExports.jsx(Footer,{icons:Sn})]})}function sortData({tableData:_e,sortKey:et,reverse:tt}){if(!et)return _e;const nt=_e.sort((rt,it)=>rt[et]>it[et]?1:-1);return tt?nt.reverse():nt}function SortButton({sortOrder:_e,columnKey:et,sortKey:tt,onClick:nt}){return jsxRuntimeExports.jsx(Button,{variant:"outline-primary",style:{float:"right"},onClick:nt,className:tt===et&&_e==="desc"?"sort-button sort-reverse":"sort-button",children:""})}function SortableTable({data:_e,headers:et}){const[tt,nt]=reactExports.useState("last_name"),[rt,it]=reactExports.useState("ascn"),ot=reactExports.useCallback(()=>sortData({tableData:_e,sortKey:tt,reverse:rt==="desc"}),[_e,tt,rt]);function st(ut){it(rt==="ascn"?"desc":"ascn"),nt(ut)}return jsxRuntimeExports.jsxs(Table,{striped:!0,bordered:!0,hover:!0,children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsx("tr",{children:et.map(ut=>jsxRuntimeExports.jsxs("td",{children:[ut.label," ",jsxRuntimeExports.jsx(SortButton,{columnKey:ut.key,onClick:()=>st(ut.key),sortOrder:rt,sortKey:tt})]},ut.key))})}),jsxRuntimeExports.jsx("tbody",{children:ot().map(ut=>jsxRuntimeExports.jsx("tr",{children:et.map((ft,dt)=>jsxRuntimeExports.jsx("td",{children:ft&&ft.key&&ut[ft.key]?ut[ft.key]:""},dt))},ut.id))})]})}const headers=[{key:"provider",label:"Provider"},{key:"model",label:"Model"},{key:"price_in",label:"Price In"},{key:"price_out",label:"Price Out"},{key:"parameters",label:"Parameters"},{key:"context_length",label:"Context"}];function PricingTable({data:_e}){return jsxRuntimeExports.jsx(SortableTable,{data:_e||[],headers})}function PricingPage({isOnlineRef:_e,allowRestart:et,onCancel:tt,onTranscript:nt,onPartialTranscript:rt,bodyStyle:it,exchangeRate:ot,setExchangeRate:st,updateExchangeRate:ut,modelSelector:ft,creditBalance:dt,updateCreditBalance:lt,teamLlm:at,chatHistoryRoles:ct,setChatHistoryRoles:ht,chatHistoryTeams:pt,setChatHistoryTeams:mt,user:gt,token:yt,login:bt,logout:xt,refresh:vt,doSave:wt,aiUsage:_t,submitForm:Ct,stopAllPlaying:Et,stopLanguageModels:$t,aiLlm:jt,usingOpenAiTts:Dt,usingSelfHostedTts:Pt,usingWebSpeechTts:kt,usingMeSpeakTts:At,usingTts:Tt,usingStt:St,usingOpenAiStt:Rt,usingSelfHostedStt:Ot,usingLocalStt:Nt,queueSpeech:It,getUrl:Bt,playDataUri:zt,stopPlaying:Gt,isPlaying:Kt,setIsPlaying:fn,isMuted:dn,isMutedRef:Wt,mute:rn,unmute:Vt,deleteRole:an,exportRoles:Qt,importRoles:Zt,init:xn,roles:vn,setRoles:gn,currentRole:Cn,setCurrentRole:kn,newRole:En,utteranceQueue:sn,setUtteranceQueue:On,mergeData:Tn,setMergeData:bn,lastLlmTrigger:Dn,autoStartMicrophone:Nn,setAutoStartMicrophone:wn,autoStopMicrophone:qn,setAutoStopMicrophone:or,refreshHash:tr,setRefreshHash:cr,forceRefresh:rr,hasRequiredConfig:Vn,isSpeaking:Jt,setIsSpeaking:pn,isWaiting:$n,startWaiting:jn,stopWaiting:Fn,userMessage:Ln,userMessageRef:Xn,setUserMessage:ar,isReady:Qn,setIsReady:Yt,config:hn,setConfig:mn,llmEnabled:yn,setLlmEnabled:qt,icons:Sn,configRef:Bn,utils:Zn,newChat:Hn,addUserMessage:sr,addAssistantMessage:nr,setLastAssistantMessage:dr,setLastUserMessage:zn,getLastUserMessage:mr,chatHistoryId:$r,chatHistoryIdRef:lr,setChatHistoryId:wr,chatHistories:gr,setChatHistories:Kn,currentChatHistory:jr,revertChatHistory:Pr,deleteChatHistory:Lr,playSpeech:Un,duplicateChatHistory:en,configIn:Mn,chatHistoriesRef:Wn,getLastAssistantChatIndex:pr,getLastAssistantMessage:Sr,categories:kr,setCategories:_r,teams:vr,setTeams:ur,currentTeam:Er,setCurrentTeam:Cr,currentTeamRef:Dr,deleteTeam:zr,configManager:Hr,runtimes:Or,duplicateRole:Vr,accordionSelectedKey:Nr,setAccordionSelectedKey:Lt,categoryFilter:Xt,setCategoryFilter:Ht,fileManager:on,files:ln,exportDocument:tn,availableModels:An}){let Rn={marginTop:"0.5em"};return jsxRuntimeExports.jsxs("div",{className:"App",style:{textAlign:"left"},id:tr,children:[jsxRuntimeExports.jsx(Menu,{isOnlineRef:_e,allowRestart:et,onCancel:tt,onTranscript:nt,onPartialTranscript:rt,bodyStyle:it,exchangeRate:ot,setExchangeRate:st,updateExchangeRate:ut,modelSelector:ft,creditBalance:dt,updateCreditBalance:lt,teamLlm:at,chatHistoryRoles:ct,setChatHistoryRoles:ht,chatHistoryTeams:pt,setChatHistoryTeams:mt,user:gt,token:yt,login:bt,logout:xt,refresh:vt,doSave:wt,aiUsage:_t,submitForm:Ct,stopAllPlaying:Et,stopLanguageModels:$t,aiLlm:jt,usingOpenAiTts:Dt,usingSelfHostedTts:Pt,usingWebSpeechTts:kt,usingMeSpeakTts:At,usingTts:Tt,usingStt:St,usingOpenAiStt:Rt,usingSelfHostedStt:Ot,usingLocalStt:Nt,queueSpeech:It,getUrl:Bt,playDataUri:zt,stopPlaying:Gt,isPlaying:Kt,setIsPlaying:fn,isMuted:dn,isMutedRef:Wt,mute:rn,unmute:Vt,deleteRole:an,exportRoles:Qt,importRoles:Zt,init:xn,roles:vn,setRoles:gn,currentRole:Cn,setCurrentRole:kn,newRole:En,utteranceQueue:sn,setUtteranceQueue:On,mergeData:Tn,setMergeData:bn,lastLlmTrigger:Dn,autoStartMicrophone:Nn,setAutoStartMicrophone:wn,autoStopMicrophone:qn,setAutoStopMicrophone:or,refreshHash:tr,setRefreshHash:cr,forceRefresh:rr,hasRequiredConfig:Vn,isSpeaking:Jt,setIsSpeaking:pn,isWaiting:$n,startWaiting:jn,stopWaiting:Fn,userMessage:Ln,userMessageRef:Xn,setUserMessage:ar,isReady:Qn,setIsReady:Yt,config:hn,setConfig:mn,llmEnabled:yn,setLlmEnabled:qt,icons:Sn,configRef:Bn,utils:Zn,newChat:Hn,addUserMessage:sr,addAssistantMessage:nr,setLastAssistantMessage:dr,setLastUserMessage:zn,getLastUserMessage:mr,chatHistoryId:$r,chatHistoryIdRef:lr,setChatHistoryId:wr,chatHistories:gr,setChatHistories:Kn,currentChatHistory:jr,revertChatHistory:Pr,deleteChatHistory:Lr,playSpeech:Un,duplicateChatHistory:en,configIn:Mn,chatHistoriesRef:Wn,getLastAssistantChatIndex:pr,getLastAssistantMessage:Sr,categories:kr,setCategories:_r,teams:vr,setTeams:ur,currentTeam:Er,setCurrentTeam:Cr,currentTeamRef:Dr,deleteTeam:zr,configManager:Hr,runtimes:Or,duplicateRole:Vr,accordionSelectedKey:Nr,setAccordionSelectedKey:Lt,categoryFilter:Xt,setCategoryFilter:Ht,fileManager:on,files:ln,exportDocument:tn,availableModels:An}),jsxRuntimeExports.jsxs("div",{id:"body",style:it,children:[jsxRuntimeExports.jsx(Link,{style:{float:"right",marginRight:"1em",marginTop:"1em"},to:"/payment",children:jsxRuntimeExports.jsx(Button,{variant:"success",size:"lg",children:"Buy Credit"})}),jsxRuntimeExports.jsx("h3",{children:"Pricing"}),jsxRuntimeExports.jsx("div",{style:Rn,children:"This software relies on third party providers to provide language models and other services. The bulk of your credit goes to these providers."}),jsxRuntimeExports.jsx("div",{style:Rn,children:"All prices are shown in US Dollars."}),jsxRuntimeExports.jsx("div",{style:Rn,children:"You can configure the software to enter provider details directly and bypass our service however credit with our service gives you quick and easy access to a range of providers as well as access to our search, code execution and web proxy endpoints."}),jsxRuntimeExports.jsxs("div",{style:Rn,children:["Credit is non refundable and non transferable. See our ",jsxRuntimeExports.jsx(Link,{style:{marginLeft:"1em"},size:"sm",to:"/terms",children:jsxRuntimeExports.jsx(Button,{children:"Terms and Conditions"})})]}),jsxRuntimeExports.jsx("div",{style:Rn,children:"We charge fees against your credit as follows. (See the table below for provider pricing.)"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsxs(Table,{striped:!0,bordered:!0,hover:!0,children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{children:"Service"}),jsxRuntimeExports.jsx("th",{children:"Charge"})]})}),jsxRuntimeExports.jsxs("tbody",{children:[jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{children:"LLM proxy (chat to a range of providers)"}),jsxRuntimeExports.jsx("td",{children:"15% surcharge on provider price plus $0.01  per request "})]}),jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{children:"AI enhanced websearch"}),jsxRuntimeExports.jsx("td",{children:"$0.02  per request"})]}),jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{children:"Web request made through our CORS supporting proxy"}),jsxRuntimeExports.jsx("td",{children:"$0.01 per request"})]}),jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{children:"Code execution endpoint"}),jsxRuntimeExports.jsx("td",{children:"$0.005/second"})]})]})]}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx(PricingTable,{data:An})]}),jsxRuntimeExports.jsx(Footer,{icons:Sn})]})}function findScript(_e){return document.querySelector(`script[src="${_e}"]`)}function injectScript(_e){const et=document.head||document.body;if(!et)throw new Error("Square.js requires a <body> or <head> element.");const tt=document.createElement("script");return tt.src=_e,et.appendChild(tt),tt}let loadPromise=null;function loadSquare(_e){return loadPromise!==null||(loadPromise=new Promise((et,tt)=>{if(typeof window>"u"){et(null);return}if(window.Square){et(window.Square);return}try{let nt=findScript(_e);nt||(nt=injectScript(_e)),nt.addEventListener("load",()=>{window.Square?et(window.Square):tt(new Error("Square.js failed to load properly."))}),nt.addEventListener("error",()=>{tt(new Error("Error occurred while loading Square.js"))})}catch(nt){tt(nt)}})),loadPromise}var __awaiter=globalThis&&globalThis.__awaiter||function(_e,et,tt,nt){function rt(it){return it instanceof tt?it:new tt(function(ot){ot(it)})}return new(tt||(tt=Promise))(function(it,ot){function st(dt){try{ft(nt.next(dt))}catch(lt){ot(lt)}}function ut(dt){try{ft(nt.throw(dt))}catch(lt){ot(lt)}}function ft(dt){dt.done?it(dt.value):rt(dt.value).then(st,ut)}ft((nt=nt.apply(_e,et||[])).next())})};const Version="v1";class InvalidApplicationIdError extends Error{constructor(et="The Payment 'applicationId' option is not in the correct format."){super(et),this.name="InvalidApplicationIdError",Object.setPrototypeOf(this,InvalidApplicationIdError.prototype)}}function getSrcForApplicationId(_e){let et="";if(_e.startsWith("sq0idp-")&&(et="https://web.squarecdn.com/"),_e.startsWith("sandbox-sq0idb-")&&(et="https://sandbox.web.squarecdn.com/"),et.length===0)throw new InvalidApplicationIdError;return et+=`${Version}/square.js`,et}function payments(_e,et,tt){return __awaiter(this,void 0,void 0,function*(){const nt=(tt==null?void 0:tt.scriptSrc)!==void 0?tt.scriptSrc:getSrcForApplicationId(_e),rt=yield loadSquare(nt);return rt===null?null:rt.payments(_e,et)})}var e="colors",t="sizes",r="space",n={gap:r,gridGap:r,columnGap:r,gridColumnGap:r,rowGap:r,gridRowGap:r,inset:r,insetBlock:r,insetBlockEnd:r,insetBlockStart:r,insetInline:r,insetInlineEnd:r,insetInlineStart:r,margin:r,marginTop:r,marginRight:r,marginBottom:r,marginLeft:r,marginBlock:r,marginBlockEnd:r,marginBlockStart:r,marginInline:r,marginInlineEnd:r,marginInlineStart:r,padding:r,paddingTop:r,paddingRight:r,paddingBottom:r,paddingLeft:r,paddingBlock:r,paddingBlockEnd:r,paddingBlockStart:r,paddingInline:r,paddingInlineEnd:r,paddingInlineStart:r,top:r,right:r,bottom:r,left:r,scrollMargin:r,scrollMarginTop:r,scrollMarginRight:r,scrollMarginBottom:r,scrollMarginLeft:r,scrollMarginX:r,scrollMarginY:r,scrollMarginBlock:r,scrollMarginBlockEnd:r,scrollMarginBlockStart:r,scrollMarginInline:r,scrollMarginInlineEnd:r,scrollMarginInlineStart:r,scrollPadding:r,scrollPaddingTop:r,scrollPaddingRight:r,scrollPaddingBottom:r,scrollPaddingLeft:r,scrollPaddingX:r,scrollPaddingY:r,scrollPaddingBlock:r,scrollPaddingBlockEnd:r,scrollPaddingBlockStart:r,scrollPaddingInline:r,scrollPaddingInlineEnd:r,scrollPaddingInlineStart:r,fontSize:"fontSizes",background:e,backgroundColor:e,backgroundImage:e,borderImage:e,border:e,borderBlock:e,borderBlockEnd:e,borderBlockStart:e,borderBottom:e,borderBottomColor:e,borderColor:e,borderInline:e,borderInlineEnd:e,borderInlineStart:e,borderLeft:e,borderLeftColor:e,borderRight:e,borderRightColor:e,borderTop:e,borderTopColor:e,caretColor:e,color:e,columnRuleColor:e,fill:e,outline:e,outlineColor:e,stroke:e,textDecorationColor:e,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:t,minBlockSize:t,maxBlockSize:t,inlineSize:t,minInlineSize:t,maxInlineSize:t,width:t,minWidth:t,maxWidth:t,height:t,minHeight:t,maxHeight:t,flexBasis:t,gridTemplateColumns:t,gridTemplateRows:t,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},i=(_e,et)=>typeof et=="function"?{"()":Function.prototype.toString.call(et)}:et,o=()=>{const _e=Object.create(null);return(et,tt,...nt)=>{const rt=(it=>JSON.stringify(it,i))(et);return rt in _e?_e[rt]:_e[rt]=tt(et,...nt)}},l=Symbol.for("sxs.internal"),s=(_e,et)=>Object.defineProperties(_e,Object.getOwnPropertyDescriptors(et)),a=_e=>{for(const et in _e)return!0;return!1},{hasOwnProperty:c}=Object.prototype,d=_e=>_e.includes("-")?_e:_e.replace(/[A-Z]/g,et=>"-"+et.toLowerCase()),g=/\s+(?![^()]*\))/,p=_e=>et=>_e(...typeof et=="string"?String(et).split(g):[et]),u={appearance:_e=>({WebkitAppearance:_e,appearance:_e}),backfaceVisibility:_e=>({WebkitBackfaceVisibility:_e,backfaceVisibility:_e}),backdropFilter:_e=>({WebkitBackdropFilter:_e,backdropFilter:_e}),backgroundClip:_e=>({WebkitBackgroundClip:_e,backgroundClip:_e}),boxDecorationBreak:_e=>({WebkitBoxDecorationBreak:_e,boxDecorationBreak:_e}),clipPath:_e=>({WebkitClipPath:_e,clipPath:_e}),content:_e=>({content:_e.includes('"')||_e.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(_e)?_e:`"${_e}"`}),hyphens:_e=>({WebkitHyphens:_e,hyphens:_e}),maskImage:_e=>({WebkitMaskImage:_e,maskImage:_e}),maskSize:_e=>({WebkitMaskSize:_e,maskSize:_e}),tabSize:_e=>({MozTabSize:_e,tabSize:_e}),textSizeAdjust:_e=>({WebkitTextSizeAdjust:_e,textSizeAdjust:_e}),userSelect:_e=>({WebkitUserSelect:_e,userSelect:_e}),marginBlock:p((_e,et)=>({marginBlockStart:_e,marginBlockEnd:et||_e})),marginInline:p((_e,et)=>({marginInlineStart:_e,marginInlineEnd:et||_e})),maxSize:p((_e,et)=>({maxBlockSize:_e,maxInlineSize:et||_e})),minSize:p((_e,et)=>({minBlockSize:_e,minInlineSize:et||_e})),paddingBlock:p((_e,et)=>({paddingBlockStart:_e,paddingBlockEnd:et||_e})),paddingInline:p((_e,et)=>({paddingInlineStart:_e,paddingInlineEnd:et||_e}))},h=/([\d.]+)([^]*)/,f=(_e,et)=>_e.length?_e.reduce((tt,nt)=>(tt.push(...et.map(rt=>rt.includes("&")?rt.replace(/&/g,/[ +>|~]/.test(nt)&&/&.*&/.test(rt)?`:is(${nt})`:nt):nt+" "+rt)),tt),[]):et,m=(_e,et)=>_e in b&&typeof et=="string"?et.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,(tt,nt,rt,it)=>nt+(rt==="stretch"?`-moz-available${it};${d(_e)}:${nt}-webkit-fill-available`:`-moz-fit-content${it};${d(_e)}:${nt}fit-content`)+it):String(et),b={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},S=_e=>_e?_e+"-":"",k=(_e,et,tt)=>_e.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,(nt,rt,it,ot,st)=>ot=="$"==!!it?nt:(rt||ot=="--"?"calc(":"")+"var(--"+(ot==="$"?S(et)+(st.includes("$")?"":S(tt))+st.replace(/\$/g,"-"):st)+")"+(rt||ot=="--"?"*"+(rt||"")+(it||"1")+")":"")),y=/\s*,\s*(?![^()]*\))/,B=Object.prototype.toString,$=(_e,et,tt,nt,rt)=>{let it,ot,st;const ut=(ft,dt,lt)=>{let at,ct;const ht=pt=>{for(at in pt){const yt=at.charCodeAt(0)===64,bt=yt&&Array.isArray(pt[at])?pt[at]:[pt[at]];for(ct of bt){const xt=/[A-Z]/.test(gt=at)?gt:gt.replace(/-[^]/g,wt=>wt[1].toUpperCase()),vt=typeof ct=="object"&&ct&&ct.toString===B&&(!nt.utils[xt]||!dt.length);if(xt in nt.utils&&!vt){const wt=nt.utils[xt];if(wt!==ot){ot=wt,ht(wt(ct)),ot=null;continue}}else if(xt in u){const wt=u[xt];if(wt!==st){st=wt,ht(wt(ct)),st=null;continue}}if(yt&&(mt=at.slice(1)in nt.media?"@media "+nt.media[at.slice(1)]:at,at=mt.replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,(wt,_t,Ct,Et,$t,jt)=>{const Dt=h.test(_t),Pt=.0625*(Dt?-1:1),[kt,At]=Dt?[Et,_t]:[_t,Et];return"("+(Ct[0]==="="?"":Ct[0]===">"===Dt?"max-":"min-")+kt+":"+(Ct[0]!=="="&&Ct.length===1?At.replace(h,(Tt,St,Rt)=>Number(St)+Pt*(Ct===">"?1:-1)+Rt):At)+($t?") and ("+($t[0]===">"?"min-":"max-")+kt+":"+($t.length===1?jt.replace(h,(Tt,St,Rt)=>Number(St)+Pt*($t===">"?-1:1)+Rt):jt):"")+")"})),vt){const wt=yt?lt.concat(at):[...lt],_t=yt?[...dt]:f(dt,at.split(y));it!==void 0&&rt(x(...it)),it=void 0,ut(ct,_t,wt)}else it===void 0&&(it=[[],dt,lt]),at=yt||at.charCodeAt(0)!==36?at:`--${S(nt.prefix)}${at.slice(1).replace(/\$/g,"-")}`,ct=vt?ct:typeof ct=="number"?ct&&xt in I?String(ct)+"px":String(ct):k(m(xt,ct??""),nt.prefix,nt.themeMap[xt]),it[0].push(`${yt?`${at} `:`${d(at)}:`}${ct}`)}}var mt,gt};ht(ft),it!==void 0&&rt(x(...it)),it=void 0};ut(_e,et,tt)},x=(_e,et,tt)=>`${tt.map(nt=>`${nt}{`).join("")}${et.length?`${et.join(",")}{`:""}${_e.join(";")}${et.length?"}":""}${Array(tt.length?tt.length+1:0).join("}")}`,I={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},R=_e=>String.fromCharCode(_e+(_e>25?39:97)),z=_e=>(et=>{let tt,nt="";for(tt=Math.abs(et);tt>52;tt=tt/52|0)nt=R(tt%52)+nt;return R(tt%52)+nt})(((et,tt)=>{let nt=tt.length;for(;nt;)et=33*et^tt.charCodeAt(--nt);return et})(5381,JSON.stringify(_e))>>>0),W=["themed","global","styled","onevar","resonevar","allvar","inline"],j=_e=>{if(_e.href&&!_e.href.startsWith(location.origin))return!1;try{return!!_e.cssRules}catch{return!1}},E=_e=>{let et;const tt=()=>{const{cssRules:rt}=et.sheet;return[].map.call(rt,(it,ot)=>{const{cssText:st}=it;let ut="";if(st.startsWith("--sxs"))return"";if(rt[ot-1]&&(ut=rt[ot-1].cssText).startsWith("--sxs")){if(!it.cssRules.length)return"";for(const ft in et.rules)if(et.rules[ft].group===it)return`--sxs{--sxs:${[...et.rules[ft].cache].join(" ")}}${st}`;return it.cssRules.length?`${ut}${st}`:""}return st}).join("")},nt=()=>{if(et){const{rules:st,sheet:ut}=et;if(!ut.deleteRule){for(;Object(Object(ut.cssRules)[0]).type===3;)ut.cssRules.splice(0,1);ut.cssRules=[]}for(const ft in st)delete st[ft]}const rt=Object(_e).styleSheets||[];for(const st of rt)if(j(st)){for(let ut=0,ft=st.cssRules;ft[ut];++ut){const dt=Object(ft[ut]);if(dt.type!==1)continue;const lt=Object(ft[ut+1]);if(lt.type!==4)continue;++ut;const{cssText:at}=dt;if(!at.startsWith("--sxs"))continue;const ct=at.slice(14,-3).trim().split(/\s+/),ht=W[ct[0]];ht&&(et||(et={sheet:st,reset:nt,rules:{},toString:tt}),et.rules[ht]={group:lt,index:ut,cache:new Set(ct)})}if(et)break}if(!et){const st=(ut,ft)=>({type:ft,cssRules:[],insertRule(dt,lt){this.cssRules.splice(lt,0,st(dt,{import:3,undefined:1}[(dt.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return ut==="@media{}"?`@media{${[].map.call(this.cssRules,dt=>dt.cssText).join("")}}`:ut}});et={sheet:_e?(_e.head||_e).appendChild(document.createElement("style")).sheet:st("","text/css"),rules:{},reset:nt,toString:tt}}const{sheet:it,rules:ot}=et;for(let st=W.length-1;st>=0;--st){const ut=W[st];if(!ot[ut]){const ft=W[st+1],dt=ot[ft]?ot[ft].index:it.cssRules.length;it.insertRule("@media{}",dt),it.insertRule(`--sxs{--sxs:${st}}`,dt),ot[ut]={group:it.cssRules[dt+1],index:dt,cache:new Set([st])}}v(ot[ut])}};return nt(),et},v=_e=>{const et=_e.group;let tt=et.cssRules.length;_e.apply=nt=>{try{et.insertRule(nt,tt),++tt}catch{}}},T=Symbol(),w=o(),M=(_e,et)=>w(_e,()=>(...tt)=>{let nt={type:null,composers:new Set};for(const rt of tt)if(rt!=null)if(rt[l]){nt.type==null&&(nt.type=rt[l].type);for(const it of rt[l].composers)nt.composers.add(it)}else rt.constructor!==Object||rt.$$typeof?nt.type==null&&(nt.type=rt):nt.composers.add(C(rt,_e));return nt.type==null&&(nt.type="span"),nt.composers.size||nt.composers.add(["PJLV",{},[],[],{},[]]),P(_e,nt,et)}),C=({variants:_e,compoundVariants:et,defaultVariants:tt,...nt},rt)=>{const it=`${S(rt.prefix)}c-${z(nt)}`,ot=[],st=[],ut=Object.create(null),ft=[];for(const at in tt)ut[at]=String(tt[at]);if(typeof _e=="object"&&_e)for(const at in _e){dt=ut,lt=at,c.call(dt,lt)||(ut[at]="undefined");const ct=_e[at];for(const ht in ct){const pt={[at]:String(ht)};String(ht)==="undefined"&&ft.push(at);const mt=ct[ht],gt=[pt,mt,!a(mt)];ot.push(gt)}}var dt,lt;if(typeof et=="object"&&et)for(const at of et){let{css:ct,...ht}=at;ct=typeof ct=="object"&&ct||{};for(const mt in ht)ht[mt]=String(ht[mt]);const pt=[ht,ct,!a(ct)];st.push(pt)}return[it,nt,ot,st,ut,ft]},P=(_e,et,tt)=>{const[nt,rt,it,ot]=L(et.composers),st=typeof et.type=="function"||et.type.$$typeof?(lt=>{function at(){for(let ct=0;ct<at[T].length;ct++){const[ht,pt]=at[T][ct];lt.rules[ht].apply(pt)}return at[T]=[],null}return at[T]=[],at.rules={},W.forEach(ct=>at.rules[ct]={apply:ht=>at[T].push([ct,ht])}),at})(tt):null,ut=(st||tt).rules,ft=`.${nt}${rt.length>1?`:where(.${rt.slice(1).join(".")})`:""}`,dt=lt=>{lt=typeof lt=="object"&&lt||A;const{css:at,...ct}=lt,ht={};for(const gt in it)if(delete ct[gt],gt in lt){let yt=lt[gt];typeof yt=="object"&&yt?ht[gt]={"@initial":it[gt],...yt}:(yt=String(yt),ht[gt]=yt!=="undefined"||ot.has(gt)?yt:it[gt])}else ht[gt]=it[gt];const pt=new Set([...rt]);for(const[gt,yt,bt,xt]of et.composers){tt.rules.styled.cache.has(gt)||(tt.rules.styled.cache.add(gt),$(yt,[`.${gt}`],[],_e,_t=>{ut.styled.apply(_t)}));const vt=O(bt,ht,_e.media),wt=O(xt,ht,_e.media,!0);for(const _t of vt)if(_t!==void 0)for(const[Ct,Et,$t]of _t){const jt=`${gt}-${z(Et)}-${Ct}`;pt.add(jt);const Dt=($t?tt.rules.resonevar:tt.rules.onevar).cache,Pt=$t?ut.resonevar:ut.onevar;Dt.has(jt)||(Dt.add(jt),$(Et,[`.${jt}`],[],_e,kt=>{Pt.apply(kt)}))}for(const _t of wt)if(_t!==void 0)for(const[Ct,Et]of _t){const $t=`${gt}-${z(Et)}-${Ct}`;pt.add($t),tt.rules.allvar.cache.has($t)||(tt.rules.allvar.cache.add($t),$(Et,[`.${$t}`],[],_e,jt=>{ut.allvar.apply(jt)}))}}if(typeof at=="object"&&at){const gt=`${nt}-i${z(at)}-css`;pt.add(gt),tt.rules.inline.cache.has(gt)||(tt.rules.inline.cache.add(gt),$(at,[`.${gt}`],[],_e,yt=>{ut.inline.apply(yt)}))}for(const gt of String(lt.className||"").trim().split(/\s+/))gt&&pt.add(gt);const mt=ct.className=[...pt].join(" ");return{type:et.type,className:mt,selector:ft,props:ct,toString:()=>mt,deferredInjector:st}};return s(dt,{className:nt,selector:ft,[l]:et,toString:()=>(tt.rules.styled.cache.has(nt)||dt(),nt)})},L=_e=>{let et="";const tt=[],nt={},rt=[];for(const[it,,,,ot,st]of _e){et===""&&(et=it),tt.push(it),rt.push(...st);for(const ut in ot){const ft=ot[ut];(nt[ut]===void 0||ft!=="undefined"||st.includes(ft))&&(nt[ut]=ft)}}return[et,tt,nt,new Set(rt)]},O=(_e,et,tt,nt)=>{const rt=[];e:for(let[it,ot,st]of _e){if(st)continue;let ut,ft=0,dt=!1;for(ut in it){const lt=it[ut];let at=et[ut];if(at!==lt){if(typeof at!="object"||!at)continue e;{let ct,ht,pt=0;for(const mt in at){if(lt===String(at[mt])){if(mt!=="@initial"){const gt=mt.slice(1);(ht=ht||[]).push(gt in tt?tt[gt]:mt.replace(/^@media ?/,"")),dt=!0}ft+=pt,ct=!0}++pt}if(ht&&ht.length&&(ot={["@media "+ht.join(", ")]:ot}),!ct)continue e}}}(rt[ft]=rt[ft]||[]).push([nt?"cv":`${ut}-${it[ut]}`,ot,dt])}return rt},A={},N=o(),D=(_e,et)=>N(_e,()=>(...tt)=>{const nt=()=>{for(let rt of tt){rt=typeof rt=="object"&&rt||{};let it=z(rt);if(!et.rules.global.cache.has(it)){if(et.rules.global.cache.add(it),"@import"in rt){let ot=[].indexOf.call(et.sheet.cssRules,et.rules.themed.group)-1;for(let st of[].concat(rt["@import"]))st=st.includes('"')||st.includes("'")?st:`"${st}"`,et.sheet.insertRule(`@import ${st};`,ot++);delete rt["@import"]}$(rt,[],[],_e,ot=>{et.rules.global.apply(ot)})}}return""};return s(nt,{toString:nt})}),H=o(),V=(_e,et)=>H(_e,()=>tt=>{const nt=`${S(_e.prefix)}k-${z(tt)}`,rt=()=>{if(!et.rules.global.cache.has(nt)){et.rules.global.cache.add(nt);const it=[];$(tt,[],[],_e,st=>it.push(st));const ot=`@keyframes ${nt}{${it.join("")}}`;et.rules.global.apply(ot)}return nt};return s(rt,{get name(){return rt()},toString:rt})}),G=class{constructor(_e,et,tt,nt){this.token=_e==null?"":String(_e),this.value=et==null?"":String(et),this.scale=tt==null?"":String(tt),this.prefix=nt==null?"":String(nt)}get computedValue(){return"var("+this.variable+")"}get variable(){return"--"+S(this.prefix)+S(this.scale)+this.token}toString(){return this.computedValue}},F=o(),J=(_e,et)=>F(_e,()=>(tt,nt)=>{nt=typeof tt=="object"&&tt||Object(nt);const rt=`.${tt=(tt=typeof tt=="string"?tt:"")||`${S(_e.prefix)}t-${z(nt)}`}`,it={},ot=[];for(const ut in nt){it[ut]={};for(const ft in nt[ut]){const dt=`--${S(_e.prefix)}${ut}-${ft}`,lt=k(String(nt[ut][ft]),_e.prefix,ut);it[ut][ft]=new G(ft,lt,ut,_e.prefix),ot.push(`${dt}:${lt}`)}}const st=()=>{if(ot.length&&!et.rules.themed.cache.has(tt)){et.rules.themed.cache.add(tt);const ut=`${nt===_e.theme?":root,":""}.${tt}{${ot.join(";")}}`;et.rules.themed.apply(ut)}return tt};return{...it,get className(){return st()},selector:rt,toString:st}}),U=o(),Y=o(),q=_e=>{const et=(tt=>{let nt=!1;const rt=U(tt,it=>{nt=!0;const ot="prefix"in(it=typeof it=="object"&&it||{})?String(it.prefix):"",st=typeof it.media=="object"&&it.media||{},ut=typeof it.root=="object"?it.root||null:globalThis.document||null,ft=typeof it.theme=="object"&&it.theme||{},dt={prefix:ot,media:st,theme:ft,themeMap:typeof it.themeMap=="object"&&it.themeMap||{...n},utils:typeof it.utils=="object"&&it.utils||{}},lt=E(ut),at={css:M(dt,lt),globalCss:D(dt,lt),keyframes:V(dt,lt),createTheme:J(dt,lt),reset(){lt.reset(),at.theme.toString()},theme:{},sheet:lt,config:dt,prefix:ot,getCssText:lt.toString,toString:lt.toString};return String(at.theme=at.createTheme(ft)),at});return nt||rt.reset(),rt})(_e);return et.styled=(({config:tt,sheet:nt})=>Y(tt,()=>{const rt=M(tt,nt);return(...it)=>{const ot=rt(...it),st=ot[l].type,ut=React.forwardRef((ft,dt)=>{const lt=ft&&ft.as||st,{props:at,deferredInjector:ct}=ot(ft);return delete at.as,at.ref=dt,ct?React.createElement(React.Fragment,null,React.createElement(lt,at),React.createElement(ct,null)):React.createElement(lt,at)});return ut.className=ot.className,ut.displayName=`Styled.${st.displayName||st.name||st}`,ut.selector=ot.selector,ut.toString=()=>ot.selector,ut[l]=ot[l],ut}}))(et),et};const{keyframes,styled}=q();function RenderErrorScreen({isDevelopment:_e=!1},et){throw new Error("Please contact your developer to provide the required parameters to use the Web Payments SDK.")}const ErrorScreen=reactExports.forwardRef(RenderErrorScreen),useIsomorphicLayoutEffect=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect;function useDynamicCallback(_e){const et=reactExports.useRef(_e);return useIsomorphicLayoutEffect(()=>{et.current=_e},[_e]),reactExports.useCallback((...tt)=>et.current(...tt),[])}const FormContext=reactExports.createContext({cardTokenizeResponseReceived:null,createPaymentRequest:null,payments:null});function FormProvider({applicationId:_e,locationId:et,children:tt,overrides:nt,...rt}){const[it,ot]=reactExports.useState(),[st]=reactExports.useState(()=>{var lt;return(lt=rt.createPaymentRequest)==null?void 0:lt.call(rt)});reactExports.useEffect(()=>{const lt=new AbortController,{signal:at}=lt;async function ct(ht){await payments(_e,et,nt).then(pt=>{if(pt===null)throw new Error("Square Web Payments SDK failed to load");if(!(ht!=null&&ht.aborted))return ot(pt),pt})}return _e&&et&&ct(at),()=>{lt.abort()}},[_e,et]);const ft=useDynamicCallback(async lt=>{if(lt.errors||!rt.createVerificationDetails){await rt.cardTokenizeResponseReceived(lt);return}const at=await(it==null?void 0:it.verifyBuyer(String(lt.token),rt.createVerificationDetails()));await rt.cardTokenizeResponseReceived(lt,at)});if(!_e||!et)return reactExports.createElement(ErrorScreen,null);if(!it)return null;const dt={cardTokenizeResponseReceived:ft,createPaymentRequest:st,payments:it};return reactExports.createElement(FormContext.Provider,{value:dt},tt)}const useForm=()=>{const _e=reactExports.useContext(FormContext);if(_e===void 0)throw new Error("useForm must be used within a FormProvider");return _e},getRefElement=_e=>_e&&"current"in _e?_e.current:_e;var ho;const isSsr=!(typeof window<"u"&&((ho=window.document)!=null&&ho.createElement));function useEventListener({type:_e,listener:et,element:tt=isSsr?void 0:window,options:nt}){const rt=reactExports.useRef();reactExports.useEffect(()=>{rt.current=et},[et]);const it=reactExports.useCallback(ot=>{var st;(st=rt.current)==null||st.call(rt,ot)},[]);reactExports.useEffect(()=>{const ot=getRefElement(tt);return ot==null||ot.addEventListener(_e,it,nt),()=>ot==null?void 0:ot.removeEventListener(_e,it)},[_e,tt,nt,it])}const pulse=keyframes({"0%, 100%":{opacity:1},"50%":{opacity:.5}}),LoadingCard=styled("div",{animation:`${pulse()} 2s cubic-bezier(0.4, 0, 0.6, 1) infinite`,background:"#F3F4F6",borderRadius:6,height:50,marginBottom:39,position:"relative"}),PayButton=styled("button",{backgroundColor:"#006aff",borderRadius:5,boxShadow:1,color:"#fff",cursor:"pointer",borderStyle:"none",fontSize:16,fontWeight:500,lineHeight:"24px",outline:"none",padding:12,userSelect:"none",width:"100%","&:active":{backgroundColor:"rgb(0, 85, 204)"},"&:disabled":{backgroundColor:"rgba(0, 0, 0, 0.05)",color:"rgba(0, 0, 0, 0.3)",cursor:"not-allowed"}});function CreditCard({buttonProps:_e,callbacks:et,children:tt,focus:nt="cardNumber",id:rt="rswps-card-container",includeInputLabels:it,postalCode:ot,recalculateSize:st,render:ut,style:ft,...dt}){const[lt,at]=reactExports.useState(()=>{}),[ct,ht]=reactExports.useState(!1),pt=reactExports.useRef(null),{cardTokenizeResponseReceived:mt,payments:gt}=useForm(),yt=reactExports.useMemo(()=>{const vt={includeInputLabels:it,postalCode:ot,style:ft};return Object.keys(vt).reduce((wt,_t)=>(vt[_t]!==void 0&&(wt[_t]=vt[_t]),wt),{})},[it,ot,ft]),bt=async vt=>{if(vt.stopPropagation(),!(_e!=null&&_e.isLoading)){if(!lt){console.warn("Credit Card button was clicked, but no Credit Card instance was found.");return}ht(!0);try{const wt=await lt.tokenize();if(wt.status==="OK")return await mt(wt);let _t=`Tokenization failed with status: ${wt.status}`;if(wt!=null&&wt.errors)throw _t+=` and errors: ${JSON.stringify(wt==null?void 0:wt.errors)}`,new Error(_t);console.warn(_t)}catch(wt){console.error(wt)}finally{ht(!1)}}};if(reactExports.useEffect(()=>{const vt=new AbortController,{signal:wt}=vt;return(async Ct=>{const Et=await(gt==null?void 0:gt.card(yt).then($t=>Ct.aborted?null:(at($t),$t)));await(Et==null?void 0:Et.attach(`#${rt}`)),nt&&await(Et==null?void 0:Et.focus(nt)),Ct.aborted&&await(Et==null?void 0:Et.destroy())})(wt),()=>{vt.abort()}},[gt,rt]),reactExports.useEffect(()=>{lt&&nt&&lt.focus(nt)},[lt,nt]),et)for(const vt of Object.keys(et))lt==null||lt.addEventListener(vt,et[vt]);st&&st(lt==null?void 0:lt.recalculateSize),useEventListener({listener:bt,type:"click",element:pt,options:{passive:!0}});const xt=({children:vt,isLoading:wt,..._t})=>{const Ct="rswp-card-button",Et=wt||!lt||ct;return reactExports.createElement(PayButton,{..._t,"aria-disabled":Et,css:_t==null?void 0:_t.css,disabled:Et,id:Ct,ref:pt,type:"button"},vt??"Pay")};return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("div",{...dt,"data-testid":"rswps-card-container",id:rt,style:{minHeight:89}},!lt&&reactExports.createElement(LoadingCard,null)),typeof ut=="function"?ut(xt):reactExports.createElement(xt,{..._e},tt??"Pay"))}function RenderPaymentForm({applicationId:_e,cardTokenizeResponseReceived:et,locationId:tt,children:nt,formProps:rt={"aria-label":"Payment form",id:"rswps-form"},overrides:it,...ot},st){return reactExports.createElement(FormProvider,{...ot,applicationId:_e,cardTokenizeResponseReceived:et,locationId:tt,overrides:it},reactExports.createElement("div",{"data-testid":"rswps-form",...rt,ref:st,role:"form"},nt))}const PaymentForm=reactExports.forwardRef(RenderPaymentForm),countries=[{name:"Afghanistan",code:"AF"},{name:"Albania",code:"AL"},{name:"Algeria",code:"DZ"},{name:"Andorra",code:"AD"},{name:"Angola",code:"AO"},{name:"Antigua and Barbuda",code:"AG"},{name:"Argentina",code:"AR"},{name:"Armenia",code:"AM"},{name:"Australia",code:"AU"},{name:"Austria",code:"AT"},{name:"Azerbaijan",code:"AZ"},{name:"Bahamas",code:"BS"},{name:"Bahrain",code:"BH"},{name:"Bangladesh",code:"BD"},{name:"Barbados",code:"BB"},{name:"Belarus",code:"BY"},{name:"Belgium",code:"BE"},{name:"Belize",code:"BZ"},{name:"Benin",code:"BJ"},{name:"Bhutan",code:"BT"},{name:"Bolivia",code:"BO"},{name:"Bosnia and Herzegovina",code:"BA"},{name:"Botswana",code:"BW"},{name:"Brazil",code:"BR"},{name:"Brunei Darussalam",code:"BN"},{name:"Bulgaria",code:"BG"},{name:"Burkina Faso",code:"BF"},{name:"Burundi",code:"BI"},{name:"Cabo Verde",code:"CV"},{name:"Cambodia",code:"KH"},{name:"Cameroon",code:"CM"},{name:"Canada",code:"CA"},{name:"Central African Republic",code:"CF"},{name:"Chad",code:"TD"},{name:"Chile",code:"CL"},{name:"China",code:"CN"},{name:"Colombia",code:"CO"},{name:"Comoros",code:"KM"},{name:"Congo",code:"CG"},{name:"Congo, Democratic Republic of the",code:"CD"},{name:"Costa Rica",code:"CR"},{name:"Croatia",code:"HR"},{name:"Cuba",code:"CU"},{name:"Cyprus",code:"CY"},{name:"Czech Republic",code:"CZ"},{name:"Denmark",code:"DK"},{name:"Djibouti",code:"DJ"},{name:"Dominica",code:"DM"},{name:"Dominican Republic",code:"DO"},{name:"Ecuador",code:"EC"},{name:"Egypt",code:"EG"},{name:"El Salvador",code:"SV"},{name:"Equatorial Guinea",code:"GQ"},{name:"Eritrea",code:"ER"},{name:"Estonia",code:"EE"},{name:"Eswatini",code:"SZ"},{name:"Ethiopia",code:"ET"},{name:"Fiji",code:"FJ"},{name:"Finland",code:"FI"},{name:"France",code:"FR"},{name:"Gabon",code:"GA"},{name:"Gambia",code:"GM"},{name:"Georgia",code:"GE"},{name:"Germany",code:"DE"},{name:"Ghana",code:"GH"},{name:"Greece",code:"GR"},{name:"Grenada",code:"GD"},{name:"Guatemala",code:"GT"},{name:"Guinea",code:"GN"},{name:"Guinea-Bissau",code:"GW"},{name:"Guyana",code:"GY"},{name:"Haiti",code:"HT"},{name:"Honduras",code:"HN"},{name:"Hungary",code:"HU"},{name:"Iceland",code:"IS"},{name:"India",code:"IN"},{name:"Indonesia",code:"ID"},{name:"Iran",code:"IR"},{name:"Iraq",code:"IQ"},{name:"Ireland",code:"IE"},{name:"Israel",code:"IL"},{name:"Italy",code:"IT"},{name:"Jamaica",code:"JM"},{name:"Japan",code:"JP"},{name:"Jordan",code:"JO"},{name:"Kazakhstan",code:"KZ"},{name:"Kenya",code:"KE"},{name:"Kiribati",code:"KI"},{name:"Korea, Democratic People's Republic of",code:"KP"},{name:"Korea, Republic of",code:"KR"},{name:"Kuwait",code:"KW"},{name:"Kyrgyzstan",code:"KG"},{name:"Lao People's Democratic Republic",code:"LA"},{name:"Latvia",code:"LV"},{name:"Lebanon",code:"LB"},{name:"Lesotho",code:"LS"},{name:"Liberia",code:"LR"},{name:"Libya",code:"LY"},{name:"Liechtenstein",code:"LI"},{name:"Lithuania",code:"LT"},{name:"Luxembourg",code:"LU"},{name:"Madagascar",code:"MG"},{name:"Malawi",code:"MW"},{name:"Malaysia",code:"MY"},{name:"Maldives",code:"MV"},{name:"Mali",code:"ML"},{name:"Malta",code:"MT"},{name:"Marshall Islands",code:"MH"},{name:"Mauritania",code:"MR"},{name:"Mauritius",code:"MU"},{name:"Mexico",code:"MX"},{name:"Micronesia (Federated States of)",code:"FM"},{name:"Moldova",code:"MD"},{name:"Monaco",code:"MC"},{name:"Mongolia",code:"MN"},{name:"Montenegro",code:"ME"},{name:"Morocco",code:"MA"},{name:"Mozambique",code:"MZ"},{name:"Myanmar",code:"MM"},{name:"Namibia",code:"NA"},{name:"Nauru",code:"NR"},{name:"Nepal",code:"NP"},{name:"Netherlands",code:"NL"},{name:"New Zealand",code:"NZ"},{name:"Nicaragua",code:"NI"},{name:"Niger",code:"NE"},{name:"Nigeria",code:"NG"},{name:"North Macedonia",code:"MK"},{name:"Norway",code:"NO"},{name:"Oman",code:"OM"},{name:"Pakistan",code:"PK"},{name:"Palau",code:"PW"},{name:"Palestine, State of",code:"PS"},{name:"Panama",code:"PA"},{name:"Papua New Guinea",code:"PG"},{name:"Paraguay",code:"PY"},{name:"Peru",code:"PE"},{name:"Philippines",code:"PH"},{name:"Poland",code:"PL"},{name:"Portugal",code:"PT"},{name:"Qatar",code:"QA"},{name:"Romania",code:"RO"},{name:"Russian Federation",code:"RU"},{name:"Rwanda",code:"RW"},{name:"Saint Kitts and Nevis",code:"KN"},{name:"Saint Lucia",code:"LC"},{name:"Saint Vincent and the Grenadines",code:"VC"},{name:"Samoa",code:"WS"},{name:"San Marino",code:"SM"},{name:"Sao Tome and Principe",code:"ST"},{name:"Saudi Arabia",code:"SA"},{name:"Senegal",code:"SN"},{name:"Serbia",code:"RS"},{name:"Seychelles",code:"SC"},{name:"Sierra Leone",code:"SL"},{name:"Singapore",code:"SG"},{name:"Slovakia",code:"SK"},{name:"Slovenia",code:"SI"},{name:"Solomon Islands",code:"SB"},{name:"Somalia",code:"SO"},{name:"South Africa",code:"ZA"},{name:"South Sudan",code:"SS"},{name:"Spain",code:"ES"},{name:"Sri Lanka",code:"LK"},{name:"Sudan",code:"SD"},{name:"Suriname",code:"SR"},{name:"Sweden",code:"SE"},{name:"Switzerland",code:"CH"},{name:"Syrian Arab Republic",code:"SY"},{name:"Tajikistan",code:"TJ"},{name:"Tanzania, United Republic of",code:"TZ"},{name:"Thailand",code:"TH"},{name:"Timor-Leste",code:"TL"},{name:"Togo",code:"TG"},{name:"Tonga",code:"TO"},{name:"Trinidad and Tobago",code:"TT"},{name:"Tunisia",code:"TN"},{name:"Turkey",code:"TR"},{name:"Turkmenistan",code:"TM"},{name:"Tuvalu",code:"TV"},{name:"Uganda",code:"UG"},{name:"Ukraine",code:"UA"},{name:"United Arab Emirates",code:"AE"},{name:"United Kingdom of Great Britain and Northern Ireland",code:"GB"},{name:"United States of America",code:"US"},{name:"Uruguay",code:"UY"},{name:"Uzbekistan",code:"UZ"},{name:"Vanuatu",code:"VU"},{name:"Venezuela (Bolivarian Republic of)",code:"VE"},{name:"Viet Nam",code:"VN"},{name:"Yemen",code:"YE"},{name:"Zambia",code:"ZM"},{name:"Zimbabwe",code:"ZW"}];var define_import_meta_env_default={VITE_GOOGLE_OAUTH_CLIENT_ID:"730767136065-vi1urlhhqo0pj0gcb0gtn1i3kj7mc4dl.apps.googleusercontent.com",VITE_GOOGLE_ANALYTICS_ID:"G-QTPXLSHQ31",VITE_GOOGLE_PICKER_API_KEY:"AIzaSyBL-F78yq6O8b_PoYM8V6-e3cr33EjKktY",VITE_GOOGLE_PICKER_CLIENT_ID:"730767136065-vi1urlhhqo0pj0gcb0gtn1i3kj7mc4dl.apps.googleusercontent.com",VITE_API_URL:"https://m7tueuetec.execute-api.us-east-1.amazonaws.com",VITE_PAYPAL_SANDBOX_CLIENT_ID:"AU9cY15vsAcz4tWwm5U0O-nMBqYTP3cT0dOHTpHqPCCD1n9fwdcD-xNcuzMv_eP-UtaB3PFHTuHoXeCW",VITE_PAYPAL_LIVE_CLIENT_ID:"AYxEgtruh3dXv2plpbUVWgmmS7-DUGmzHIpPpVrIvZR9SM3y5SLS3qyvCoF16Dq1wUg3FyhRK0dLnzrP",VITE_SQUARE_SANDBOX_APPLICATION_ID:"sandbox-sq0idb-FbP3OOk_tpjkzmpqCxX1OA",VITE_SQUARE_SANDBOX_LOCATION_ID:"L16TY989P8ZP6",VITE_SQUARE_LIVE_APPLICATION_ID:"sq0idp-Wbc-ea_9WBxRA-QoaH3s5A",VITE_SQUARE_LIVE_LOCATION_ID:"LKNA5PZB75Q9G",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};let APPLICATION_ID="sq0idp-Wbc-ea_9WBxRA-QoaH3s5A",LOCATION_ID="LKNA5PZB75Q9G";define_import_meta_env_default.VITE_STAGE==="dev"&&(APPLICATION_ID="sandbox-sq0idb-FbP3OOk_tpjkzmpqCxX1OA",LOCATION_ID="L16TY989P8ZP6");function SquarePaymentForm({login:_e,user:et,token:tt,exchangeRate:nt,updateCreditBalance:rt}){const[it,ot]=reactExports.useState(0),[st,ut]=reactExports.useState(""),[ft,dt]=reactExports.useState(""),[lt,at]=reactExports.useState(""),[ct,ht]=reactExports.useState(""),[pt,mt]=reactExports.useState(""),[gt,yt]=reactExports.useState(""),[bt,xt]=reactExports.useState(""),[vt,wt]=reactExports.useState(null),[_t,Ct]=reactExports.useState(!1);async function Et(jt,Dt){if(jt){const Pt=JSON.stringify({locationId:LOCATION_ID,sourceId:jt.token,verificationToken:Dt,amountMoney:{amount:parseFloat(it)*100,currency:"AUD"},idempotencyKey:window.crypto.randomUUID()}),kt=await fetch("https://m7tueuetec.execute-api.us-east-1.amazonaws.com/payment",{method:"POST",headers:{"Content-Type":"application/json",authorization:"Bearer "+(tt?tt.access_token:"")},body:Pt});if(kt.ok){let At=await kt.json();console.log(At),At&&At.success===!0?(Ct(!0),wt(null),rt()):wt(At.errors.map(function(Tt){return Tt.detail}))}}else wt(["Failed to create card token"])}function $t(jt){let Dt=parseFloat(jt)-parseFloat(jt)*.022;return(parseFloat(Dt)/nt).toFixed(2)}return tt&&tt.access_token?jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{children:"Buy Credit"}),jsxRuntimeExports.jsx("div",{style:{marginBottom:"1em"},children:"Purchasing credit gives you quick and easy access to a wide range of language models from various providers as well as our other useful endpoints to help power your Personas."}),jsxRuntimeExports.jsxs("div",{style:{marginBottom:"1em"},children:["See the ",jsxRuntimeExports.jsx(Link,{to:"/pricing",children:jsxRuntimeExports.jsx(Button,{children:"Pricing"})})," page to see what things cost."]}),jsxRuntimeExports.jsx("div",{style:{marginBottom:"2em"},children:"We are currently only able to charge in Australian Dollars."}),jsxRuntimeExports.jsx("div",{style:{marginBottom:"2em",fontSize:"1.1em",fontStyle:"italic"},children:"How much do you want to spend?."}),jsxRuntimeExports.jsxs("div",{style:{marginBottom:"1em",paddingBottom:"2em",borderBottom:"2px solid black"},children:[jsxRuntimeExports.jsx(Button,{style:{marginRight:"1em"},onClick:function(){ot(5),Ct(!1)},children:"$5 Credit"}),jsxRuntimeExports.jsx(Button,{style:{marginRight:"1em"},onClick:function(){ot(10),Ct(!1)},children:"$10 Credit"}),jsxRuntimeExports.jsx(Button,{style:{marginRight:"1em"},onClick:function(){ot(20),Ct(!1)},children:"$20 Credit"}),jsxRuntimeExports.jsx(Button,{style:{marginRight:"1em"},onClick:function(){ot(50),Ct(!1)},children:"$50 Credit"})]}),it>0&&jsxRuntimeExports.jsxs("div",{style:{padding:"1em",backgroundColor:"lightblue",marginBottom:"1em",paddingBottom:"1em"},children:[jsxRuntimeExports.jsx("div",{children:"To simplify the pricing for international services, we convert your payment to American Dollars"}),jsxRuntimeExports.jsxs("span",{children:["Pay for ",jsxRuntimeExports.jsxs("b",{children:["$AUD",parseFloat(it).toFixed(2)]})," credit"]}),jsxRuntimeExports.jsxs("span",{children:[", get ",jsxRuntimeExports.jsxs("b",{children:["$USD",$t(it)]})," credit"]})]}),!_t&&it>0&&jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs(Form$1,{style:{paddingTop:"1em",borderTop:"2px solid black"},children:[jsxRuntimeExports.jsx(Form$1.Group,{children:jsxRuntimeExports.jsxs(Row,{children:[jsxRuntimeExports.jsxs(Col,{children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"First Name"}),jsxRuntimeExports.jsx(Form$1.Control,{type:"text",value:st,onChange:function(jt){ut(jt.target.value)}})]}),jsxRuntimeExports.jsxs(Col,{children:[" ",jsxRuntimeExports.jsx(Form$1.Label,{children:"Last Name"}),jsxRuntimeExports.jsx(Form$1.Control,{type:"text",value:ft,onChange:function(jt){dt(jt.target.value)}})]})]})}),jsxRuntimeExports.jsxs(Form$1.Group,{children:[jsxRuntimeExports.jsx(Row,{children:jsxRuntimeExports.jsxs(Col,{children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Address"}),jsxRuntimeExports.jsx(Form$1.Control,{type:"text",value:lt,onChange:function(jt){at(jt.target.value)}})]})}),jsxRuntimeExports.jsxs(Row,{children:[jsxRuntimeExports.jsxs(Col,{children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"City/Town/Locality"}),jsxRuntimeExports.jsx(Form$1.Control,{type:"text",value:pt,onChange:function(jt){mt(jt.target.value)}})]}),jsxRuntimeExports.jsxs(Col,{children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Country"}),jsxRuntimeExports.jsx(Form$1.Control,{as:"select",value:ct,onChange:function(jt){ht(jt.target.value)},children:countries.map(jt=>jsxRuntimeExports.jsx("option",{value:jt.code,children:jt.name},jt.code))})]})]})]}),jsxRuntimeExports.jsxs(Form$1.Group,{children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Phone Number"}),jsxRuntimeExports.jsx(Form$1.Control,{type:"text",value:gt,onChange:function(jt){yt(jt.target.value)}}),jsxRuntimeExports.jsx(Form$1.Label,{children:"Email Address"}),jsxRuntimeExports.jsx(Form$1.Control,{type:"text",value:bt,onChange:function(jt){xt(jt.target.value)}})]}),jsxRuntimeExports.jsxs(Form$1.Group,{style:{marginTop:"1em"},children:[jsxRuntimeExports.jsx(Form$1.Label,{style:{marginRight:"1em"},children:"Payment Details"}),jsxRuntimeExports.jsx(PaymentForm,{applicationId:APPLICATION_ID,cardTokenizeResponseReceived:(jt,Dt)=>{console.info({token:jt,buyer:Dt}),Et(jt,Dt?Dt.token:"")},createVerificationDetails:()=>({amount:"0.01",billingContact:{addressLines:[lt],familyName:ft,givenName:st,email:bt,country:ct,phone:gt,city:pt},currencyCode:"AUD",intent:"CHARGE"}),locationId:LOCATION_ID,children:jsxRuntimeExports.jsx(CreditCard,{})})]})]})}),_t&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{children:"Payment Successful"}),jsxRuntimeExports.jsxs("div",{children:["Thank you for you payment of $",parseFloat(it).toFixed(2)]})]}),jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:Array.isArray(vt)&&vt.length>0&&jsxRuntimeExports.jsx("div",{style:{fontWeight:"bold",color:"red"},children:vt.map(function(jt){return jsxRuntimeExports.jsx("div",{children:jt})})})}),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{})]})]}):jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{children:"Buy Credit"}),jsxRuntimeExports.jsxs("div",{style:{marginBottom:"1em"},children:["You need to ",jsxRuntimeExports.jsx(Button,{onClick:_e,children:"Login"})," before you can buy credit."]})]})}function PaymentPage({isOnlineRef:_e,allowRestart:et,onCancel:tt,onTranscript:nt,onPartialTranscript:rt,bodyStyle:it,exchangeRate:ot,setExchangeRate:st,updateExchangeRate:ut,modelSelector:ft,creditBalance:dt,updateCreditBalance:lt,teamLlm:at,chatHistoryRoles:ct,setChatHistoryRoles:ht,chatHistoryTeams:pt,setChatHistoryTeams:mt,user:gt,token:yt,login:bt,logout:xt,refresh:vt,doSave:wt,aiUsage:_t,submitForm:Ct,stopAllPlaying:Et,stopLanguageModels:$t,aiLlm:jt,usingOpenAiTts:Dt,usingSelfHostedTts:Pt,usingWebSpeechTts:kt,usingMeSpeakTts:At,usingTts:Tt,usingStt:St,usingOpenAiStt:Rt,usingSelfHostedStt:Ot,usingLocalStt:Nt,queueSpeech:It,getUrl:Bt,playDataUri:zt,stopPlaying:Gt,isPlaying:Kt,setIsPlaying:fn,isMuted:dn,isMutedRef:Wt,mute:rn,unmute:Vt,deleteRole:an,exportRoles:Qt,importRoles:Zt,init:xn,roles:vn,setRoles:gn,currentRole:Cn,setCurrentRole:kn,newRole:En,utteranceQueue:sn,setUtteranceQueue:On,mergeData:Tn,setMergeData:bn,lastLlmTrigger:Dn,autoStartMicrophone:Nn,setAutoStartMicrophone:wn,autoStopMicrophone:qn,setAutoStopMicrophone:or,refreshHash:tr,setRefreshHash:cr,forceRefresh:rr,hasRequiredConfig:Vn,isSpeaking:Jt,setIsSpeaking:pn,isWaiting:$n,startWaiting:jn,stopWaiting:Fn,userMessage:Ln,userMessageRef:Xn,setUserMessage:ar,isReady:Qn,setIsReady:Yt,config:hn,setConfig:mn,llmEnabled:yn,setLlmEnabled:qt,icons:Sn,configRef:Bn,utils:Zn,newChat:Hn,addUserMessage:sr,addAssistantMessage:nr,setLastAssistantMessage:dr,setLastUserMessage:zn,getLastUserMessage:mr,chatHistoryId:$r,chatHistoryIdRef:lr,setChatHistoryId:wr,chatHistories:gr,setChatHistories:Kn,currentChatHistory:jr,revertChatHistory:Pr,deleteChatHistory:Lr,playSpeech:Un,duplicateChatHistory:en,configIn:Mn,chatHistoriesRef:Wn,getLastAssistantChatIndex:pr,getLastAssistantMessage:Sr,categories:kr,setCategories:_r,teams:vr,setTeams:ur,currentTeam:Er,setCurrentTeam:Cr,currentTeamRef:Dr,deleteTeam:zr,configManager:Hr,runtimes:Or,duplicateRole:Vr,accordionSelectedKey:Nr,setAccordionSelectedKey:Lt,categoryFilter:Xt,setCategoryFilter:Ht,fileManager:on,files:ln,exportDocument:tn,availableModels:An}){return jsxRuntimeExports.jsxs("div",{className:"App",style:{textAlign:"left"},id:tr,children:[jsxRuntimeExports.jsx(Menu,{isOnlineRef:_e,allowRestart:et,onCancel:tt,onTranscript:nt,onPartialTranscript:rt,bodyStyle:it,exchangeRate:ot,setExchangeRate:st,updateExchangeRate:ut,modelSelector:ft,creditBalance:dt,updateCreditBalance:lt,teamLlm:at,chatHistoryRoles:ct,setChatHistoryRoles:ht,chatHistoryTeams:pt,setChatHistoryTeams:mt,user:gt,token:yt,login:bt,logout:xt,refresh:vt,doSave:wt,aiUsage:_t,submitForm:Ct,stopAllPlaying:Et,stopLanguageModels:$t,aiLlm:jt,usingOpenAiTts:Dt,usingSelfHostedTts:Pt,usingWebSpeechTts:kt,usingMeSpeakTts:At,usingTts:Tt,usingStt:St,usingOpenAiStt:Rt,usingSelfHostedStt:Ot,usingLocalStt:Nt,queueSpeech:It,getUrl:Bt,playDataUri:zt,stopPlaying:Gt,isPlaying:Kt,setIsPlaying:fn,isMuted:dn,isMutedRef:Wt,mute:rn,unmute:Vt,deleteRole:an,exportRoles:Qt,importRoles:Zt,init:xn,roles:vn,setRoles:gn,currentRole:Cn,setCurrentRole:kn,newRole:En,utteranceQueue:sn,setUtteranceQueue:On,mergeData:Tn,setMergeData:bn,lastLlmTrigger:Dn,autoStartMicrophone:Nn,setAutoStartMicrophone:wn,autoStopMicrophone:qn,setAutoStopMicrophone:or,refreshHash:tr,setRefreshHash:cr,forceRefresh:rr,hasRequiredConfig:Vn,isSpeaking:Jt,setIsSpeaking:pn,isWaiting:$n,startWaiting:jn,stopWaiting:Fn,userMessage:Ln,userMessageRef:Xn,setUserMessage:ar,isReady:Qn,setIsReady:Yt,config:hn,setConfig:mn,llmEnabled:yn,setLlmEnabled:qt,icons:Sn,configRef:Bn,utils:Zn,newChat:Hn,addUserMessage:sr,addAssistantMessage:nr,setLastAssistantMessage:dr,setLastUserMessage:zn,getLastUserMessage:mr,chatHistoryId:$r,chatHistoryIdRef:lr,setChatHistoryId:wr,chatHistories:gr,setChatHistories:Kn,currentChatHistory:jr,revertChatHistory:Pr,deleteChatHistory:Lr,playSpeech:Un,duplicateChatHistory:en,configIn:Mn,chatHistoriesRef:Wn,getLastAssistantChatIndex:pr,getLastAssistantMessage:Sr,categories:kr,setCategories:_r,teams:vr,setTeams:ur,currentTeam:Er,setCurrentTeam:Cr,currentTeamRef:Dr,deleteTeam:zr,configManager:Hr,runtimes:Or,duplicateRole:Vr,accordionSelectedKey:Nr,setAccordionSelectedKey:Lt,categoryFilter:Xt,setCategoryFilter:Ht,fileManager:on,files:ln,exportDocument:tn,availableModels:An}),jsxRuntimeExports.jsx("div",{id:"body",style:it,children:jsxRuntimeExports.jsx("div",{style:{marginLeft:"0.5em"},children:jsxRuntimeExports.jsx(SquarePaymentForm,{login:bt,updateCreditBalance:lt,user:gt,token:yt,exchangeRate:ot})})}),jsxRuntimeExports.jsx(Footer,{icons:Sn})]})}function RolesBasedChart({forceRefresh:_e}){return jsxRuntimeExports.jsx(MermaidViewer,{forceRefresh:_e,elementId:"mermaidrenderer_6",chart:`flowchart LR
    IN --> Blocker
    Blocker --> Feeder
    Blocker --> OUT
    Feeder --> ct[Chain Of Thought Planner]
    ct  --> Generator 
    Generator --> tr[Text Reducer ]
    tr --> Scorer 
    Scorer --> Formatter 
    Formatter --> OUT 
    Scorer --> Rewriter 
    Rewriter -->  Generator
    `})}function HomePage({loadRole:_e,isOnlineRef:et,allowRestart:tt,onCancel:nt,onTranscript:rt,onPartialTranscript:it,bodyStyle:ot,exchangeRate:st,setExchangeRate:ut,updateExchangeRate:ft,modelSelector:dt,creditBalance:lt,updateCreditBalance:at,teamLlm:ct,chatHistoryRoles:ht,setChatHistoryRoles:pt,chatHistoryTeams:mt,setChatHistoryTeams:gt,user:yt,token:bt,login:xt,logout:vt,refresh:wt,doSave:_t,aiUsage:Ct,submitForm:Et,stopAllPlaying:$t,stopLanguageModels:jt,aiLlm:Dt,usingOpenAiTts:Pt,usingSelfHostedTts:kt,usingWebSpeechTts:At,usingMeSpeakTts:Tt,usingTts:St,usingStt:Rt,usingOpenAiStt:Ot,usingSelfHostedStt:Nt,usingLocalStt:It,queueSpeech:Bt,getUrl:zt,playDataUri:Gt,stopPlaying:Kt,isPlaying:fn,setIsPlaying:dn,isMuted:Wt,isMutedRef:rn,mute:Vt,unmute:an,deleteRole:Qt,exportRoles:Zt,importRoles:xn,init:vn,roles:gn,setRoles:Cn,currentRole:kn,setCurrentRole:En,newRole:sn,utteranceQueue:On,setUtteranceQueue:Tn,mergeData:bn,setMergeData:Dn,lastLlmTrigger:Nn,autoStartMicrophone:wn,setAutoStartMicrophone:qn,autoStopMicrophone:or,setAutoStopMicrophone:tr,refreshHash:cr,setRefreshHash:rr,forceRefresh:Vn,hasRequiredConfig:Jt,isSpeaking:pn,setIsSpeaking:$n,isWaiting:jn,startWaiting:Fn,stopWaiting:Ln,userMessage:Xn,userMessageRef:ar,setUserMessage:Qn,isReady:Yt,setIsReady:hn,config:mn,setConfig:yn,llmEnabled:qt,setLlmEnabled:Sn,icons:Bn,configRef:Zn,utils:Hn,newChat:sr,addUserMessage:nr,addAssistantMessage:dr,setLastAssistantMessage:zn,setLastUserMessage:mr,getLastUserMessage:$r,chatHistoryId:lr,chatHistoryIdRef:wr,setChatHistoryId:gr,chatHistories:Kn,setChatHistories:jr,currentChatHistory:Pr,revertChatHistory:Lr,deleteChatHistory:Un,playSpeech:en,duplicateChatHistory:Mn,configIn:Wn,chatHistoriesRef:pr,getLastAssistantChatIndex:Sr,getLastAssistantMessage:kr,categories:_r,setCategories:vr,teams:ur,setTeams:Er,currentTeam:Cr,setCurrentTeam:Dr,currentTeamRef:zr,deleteTeam:Hr,configManager:Or,runtimes:Vr,duplicateRole:Nr,accordionSelectedKey:Lt,setAccordionSelectedKey:Xt,categoryFilter:Ht,setCategoryFilter:on,fileManager:ln,files:tn,exportDocument:An,availableModels:Rn}){return jsxRuntimeExports.jsxs("div",{style:Object.assign({backgroundColor:"rgb(222 212 249)"},ot),children:[jsxRuntimeExports.jsx(Menu,{isOnlineRef:et,bodyStyle:ot,creditBalance:lt,refreshHash:cr,icons:Bn,token:bt,logout:vt,user:yt,login:xt,config:mn,utils:Hn,aiUsage:Ct,forceRefresh:Vn}),jsxRuntimeExports.jsxs(Row,{children:[jsxRuntimeExports.jsx(Col,{children:""}),jsxRuntimeExports.jsx(Col,{sm:"3",children:jsxRuntimeExports.jsxs(Card$1,{children:[jsxRuntimeExports.jsx(Card$1.Img,{variant:"top",src:"/home/office_team.png"}),jsxRuntimeExports.jsxs(Card$1.Body,{children:[jsxRuntimeExports.jsx(Card$1.Title,{children:"AI For People"}),jsxRuntimeExports.jsxs(Card$1.Text,{children:["A range of expert teams to bring you accurate, relevant information with depth.",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx(LoadRoleModal,{isHomePage:!0,forceRefresh:Vn,categoryFilter:Ht,setCategoryFilter:on,roles:gn,currentRole:kn,newRole:sn,importRoles:xn,exportRoles:Zt,loadRole:_e,setRoles:Cn,setCurrentRole:En,chatHistoryId:lr,categories:_r,setUserMessage:Qn,icons:Bn,teams:ur,setTeams:Er,currentTeam:Cr,setCurrentTeam:Dr,teams:ur,chatHistoryId:lr}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),"A simple chat interface hides a flow of queries to language models, web search and code execution putting state of the art tools into the hands of beginners."]})]})]})}),jsxRuntimeExports.jsx(Col,{sm:"3",children:jsxRuntimeExports.jsxs(Card$1,{children:[jsxRuntimeExports.jsx(Card$1.Img,{variant:"top",src:"/home/creative_team.png"}),jsxRuntimeExports.jsxs(Card$1.Body,{children:[jsxRuntimeExports.jsx(Card$1.Title,{children:"AI For Creatives"}),jsxRuntimeExports.jsxs(Card$1.Text,{children:["Get more detailed answers to your questions by creating ",jsxRuntimeExports.jsx("i",{children:"Personas"})," to add context to your questions.",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),"Use ",jsxRuntimeExports.jsx("i",{children:"Teams"})," to create your own flows of information without knowing anything about coding.",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),"Create the fine tuned customer ready documents you need."]}),jsxRuntimeExports.jsx(Button,{variant:"primary",children:jsxRuntimeExports.jsx(Link,{to:"/roles",style:{textDecoration:"none",color:"white"},children:"Show Me Some Examples"})})]})]})}),jsxRuntimeExports.jsx(Col,{sm:"3",children:jsxRuntimeExports.jsxs(Card$1,{children:[jsxRuntimeExports.jsx(Card$1.Img,{variant:"top",src:"/home/production_team.png"}),jsxRuntimeExports.jsxs(Card$1.Body,{children:[jsxRuntimeExports.jsx(Card$1.Title,{children:"AI For Developers"}),jsxRuntimeExports.jsx(Card$1.Text,{children:jsxRuntimeExports.jsxs("ul",{children:[jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("a",{href:"https://github.com/syntithenai/talktoateam",target:"_new",children:"Open Source"})," React Framework. ",jsxRuntimeExports.jsx("br",{}),"100%  Browser Javascript. Serverside with nodejs."]}),jsxRuntimeExports.jsx("li",{children:"Portable JSON Team definition"}),jsxRuntimeExports.jsx("li",{children:"Standard/OpenAI API based access to many providers"}),jsxRuntimeExports.jsx("li",{children:"Fine grained model selection for Team members"}),jsxRuntimeExports.jsx("li",{children:"Speech Integration"})]})}),jsxRuntimeExports.jsx(Button,{variant:"primary",children:jsxRuntimeExports.jsx(Link,{to:"/help",style:{textDecoration:"none",color:"white"},children:"Learn More"})})]})]})}),jsxRuntimeExports.jsx(Col,{children:""})]}),jsxRuntimeExports.jsxs(Row,{style:{marginTop:"8em",textAlign:"center"},children:[jsxRuntimeExports.jsx(Col,{children:""}),jsxRuntimeExports.jsx(Col,{sm:5,children:jsxRuntimeExports.jsxs(Card$1,{style:{width:"100%"},children:[jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx(Card$1.Img,{variant:"top",src:"/home/many_providers.png",style:{textAlign:"center",width:"26rem"}})}),jsxRuntimeExports.jsxs(Card$1.Body,{children:[jsxRuntimeExports.jsx(Card$1.Title,{children:"Diverse Models"}),jsxRuntimeExports.jsxs(Card$1.Text,{children:["OpenAI continues to release some of the most capable language models.",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),"All that power isn't always needed. A very basic language model can be very effective at simple categorisation and transformation tasks. Not to mention faster and cheaper.",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),"This software supports fine grained selection of models at every step in a team workflow to enable more economic or performant choices."]}),jsxRuntimeExports.jsx(Button,{variant:"primary",children:jsxRuntimeExports.jsx(Link,{to:"/pricing",style:{textDecoration:"none",color:"white"},children:"Model Providers"})})]})]})}),jsxRuntimeExports.jsx(Col,{sm:5,children:jsxRuntimeExports.jsxs(Card$1,{style:{width:"100%"},children:[jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx(Card$1.Img,{variant:"top",src:"/home/search_and_runcode.png",style:{textAlign:"center",width:"26rem"}})}),jsxRuntimeExports.jsxs(Card$1.Body,{children:[jsxRuntimeExports.jsx(Card$1.Title,{children:"Tools"}),jsxRuntimeExports.jsxs(Card$1.Text,{children:["Language models don't always have the latest information and by their nature are very good at providing compelling justification for incorrect statements.",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),"By integrating web search and more generally code execution into the processing of querying models, the quality of information improves signficantly.",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{})]}),jsxRuntimeExports.jsx(Button,{variant:"primary",children:jsxRuntimeExports.jsx(Link,{to:"/help",style:{textDecoration:"none",color:"white"},children:"Learn More"})})]})]})}),jsxRuntimeExports.jsx(Col,{children:""})]}),jsxRuntimeExports.jsxs(Row,{style:{marginTop:"2em",textAlign:"center"},children:[jsxRuntimeExports.jsx(Col,{children:""}),jsxRuntimeExports.jsx(Col,{sm:9,children:jsxRuntimeExports.jsx(Card$1,{style:{width:"100%"},children:jsxRuntimeExports.jsxs(Card$1.Body,{children:[jsxRuntimeExports.jsx(Card$1.Title,{children:"Rendering"}),jsxRuntimeExports.jsx(Card$1.Text,{children:jsxRuntimeExports.jsxs(Row,{children:[jsxRuntimeExports.jsx(Col,{children:jsxRuntimeExports.jsx(Card$1,{style:{width:"100%"},children:jsxRuntimeExports.jsxs(Card$1.Body,{children:[jsxRuntimeExports.jsx(Card$1.Title,{style:{fontSize:"0.9em"},children:"Graphs"}),jsxRuntimeExports.jsx(Card$1.Img,{variant:"top",src:"/home/world_graph.png",style:{width:"12rem"}}),jsxRuntimeExports.jsxs(Card$1.Text,{children:["Ask for a graph to explain things using Mermaid Charts. ",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{})]})]})})}),jsxRuntimeExports.jsx(Col,{children:jsxRuntimeExports.jsx(Card$1,{style:{width:"100%"},children:jsxRuntimeExports.jsxs(Card$1.Body,{children:[jsxRuntimeExports.jsx(Card$1.Title,{style:{fontSize:"0.9em"},children:"Coding"}),jsxRuntimeExports.jsx(Card$1.Img,{variant:"top",src:"/home/coding.png",style:{width:"12rem"}}),jsxRuntimeExports.jsxs(Card$1.Text,{children:["Models can generate and run code in a range of programming languages. ",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),"This software supports local Javascript and remote code execution."]})]})})}),jsxRuntimeExports.jsx(Col,{children:jsxRuntimeExports.jsx(Card$1,{style:{width:"100%"},children:jsxRuntimeExports.jsxs(Card$1.Body,{children:[jsxRuntimeExports.jsx(Card$1.Title,{style:{fontSize:"0.9em"},children:"Music"}),jsxRuntimeExports.jsx(Card$1.Img,{variant:"top",src:"/home/music_notation.png",style:{width:"12rem"}}),jsxRuntimeExports.jsxs(Card$1.Text,{children:["Most language models have an understanding of ABC notation for music. ",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),"Explore theory and harmony, transcribe, compose and more.",jsxRuntimeExports.jsx("br",{})]})]})})})]})})]})})}),jsxRuntimeExports.jsx(Col,{children:""})]}),jsxRuntimeExports.jsxs(Row,{style:{marginTop:"2em",textAlign:"center"},children:[jsxRuntimeExports.jsx(Col,{children:""}),jsxRuntimeExports.jsx(Col,{sm:9,children:jsxRuntimeExports.jsxs(Card$1,{style:{width:"100%"},children:[jsxRuntimeExports.jsx(Card$1.Body,{children:jsxRuntimeExports.jsx(RolesBasedChart,{forceRefresh:Vn})}),jsxRuntimeExports.jsxs(Card$1.Body,{children:[jsxRuntimeExports.jsx(Card$1.Title,{children:"Agentic Workflows"}),jsxRuntimeExports.jsxs(Card$1.Text,{children:["Implement complex flows of information by using Teams that use Teams.",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),"Teams can be executed in your web browser.",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),"Team Workflow definitions can be downloaded as a JSON file to run on a nodejs server for integration with other applications.",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx(Button,{variant:"primary",children:jsxRuntimeExports.jsx("a",{href:"https://github.com/syntithenai/talktoateam/issues",target:"_new",style:{textDecoration:"none",color:"white"},children:"Contact Us"})})," for assistance deploying models for public consumption as websites, telephony endpoints and more."]})]})]})}),jsxRuntimeExports.jsx(Col,{children:""})]}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx(Footer,{icons:Bn})]})}const dateFormats={full:"EEEE, d MMMM yyyy",long:"d MMMM yyyy",medium:"d MMM yyyy",short:"dd/MM/yyyy"},timeFormats={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},formatLong={date:buildFormatLongFn({formats:dateFormats,defaultWidth:"full"}),time:buildFormatLongFn({formats:timeFormats,defaultWidth:"full"}),dateTime:buildFormatLongFn({formats:dateTimeFormats,defaultWidth:"full"})},enAU={code:"en-AU",formatDistance,formatLong,formatRelative,localize,match,options:{weekStartsOn:1,firstWeekContainsDate:4}};function TransactionsPage({isOnlineRef:_e,allowRestart:et,onCancel:tt,onTranscript:nt,onPartialTranscript:rt,bodyStyle:it,exchangeRate:ot,setExchangeRate:st,updateExchangeRate:ut,modelSelector:ft,creditBalance:dt,updateCreditBalance:lt,teamLlm:at,chatHistoryRoles:ct,setChatHistoryRoles:ht,chatHistoryTeams:pt,setChatHistoryTeams:mt,user:gt,token:yt,login:bt,logout:xt,refresh:vt,doSave:wt,aiUsage:_t,submitForm:Ct,stopAllPlaying:Et,stopLanguageModels:$t,aiLlm:jt,usingOpenAiTts:Dt,usingSelfHostedTts:Pt,usingWebSpeechTts:kt,usingMeSpeakTts:At,usingTts:Tt,usingStt:St,usingOpenAiStt:Rt,usingSelfHostedStt:Ot,usingLocalStt:Nt,queueSpeech:It,getUrl:Bt,playDataUri:zt,stopPlaying:Gt,isPlaying:Kt,setIsPlaying:fn,isMuted:dn,isMutedRef:Wt,mute:rn,unmute:Vt,deleteRole:an,exportRoles:Qt,importRoles:Zt,init:xn,roles:vn,setRoles:gn,currentRole:Cn,setCurrentRole:kn,newRole:En,utteranceQueue:sn,setUtteranceQueue:On,mergeData:Tn,setMergeData:bn,lastLlmTrigger:Dn,autoStartMicrophone:Nn,setAutoStartMicrophone:wn,autoStopMicrophone:qn,setAutoStopMicrophone:or,refreshHash:tr,setRefreshHash:cr,forceRefresh:rr,hasRequiredConfig:Vn,isSpeaking:Jt,setIsSpeaking:pn,isWaiting:$n,startWaiting:jn,stopWaiting:Fn,userMessage:Ln,userMessageRef:Xn,setUserMessage:ar,isReady:Qn,setIsReady:Yt,config:hn,setConfig:mn,llmEnabled:yn,setLlmEnabled:qt,icons:Sn,configRef:Bn,utils:Zn,newChat:Hn,addUserMessage:sr,addAssistantMessage:nr,setLastAssistantMessage:dr,setLastUserMessage:zn,getLastUserMessage:mr,chatHistoryId:$r,chatHistoryIdRef:lr,setChatHistoryId:wr,chatHistories:gr,setChatHistories:Kn,currentChatHistory:jr,revertChatHistory:Pr,deleteChatHistory:Lr,playSpeech:Un,duplicateChatHistory:en,configIn:Mn,chatHistoriesRef:Wn,getLastAssistantChatIndex:pr,getLastAssistantMessage:Sr,categories:kr,setCategories:_r,teams:vr,setTeams:ur,currentTeam:Er,setCurrentTeam:Cr,currentTeamRef:Dr,deleteTeam:zr,configManager:Hr,runtimes:Or,duplicateRole:Vr,accordionSelectedKey:Nr,setAccordionSelectedKey:Lt,categoryFilter:Xt,setCategoryFilter:Ht,fileManager:on,files:ln,exportDocument:tn,availableModels:An}){registerLocale("enAU",enAU),setDefaultLocale("enAU");const[Rn,_n]=reactExports.useState([]),Mt=new Date;Mt.setDate(Mt.getDate()-14);const Ft=new Date;Ft.setDate(Ft.getDate()+1);const[Ut,cn]=reactExports.useState(Mt),[In,Gn]=reactExports.useState(Ft);reactExports.useEffect(function(){fetch("https://m7tueuetec.execute-api.us-east-1.amazonaws.com/transactions",{method:"GET",headers:{"Content-Type":"application/json",authorization:"Bearer "+(yt?yt.access_token:"")}}).then(function(Br){Br.ok&&Br.json().then(function(Rr){console.log(Rr),Array.isArray(Rr)&&_n(Rr.map(function(Pn){return{date:Tr(Pn.date),type:Pn.type,model:Pn.model,amount:"$"+parseFloat(Pn.amount).toFixed(4)}}))})})},[]);function ir(Br){const Rr=String(Br.getDate()).padStart(2,"0"),Pn=String(Br.getMonth()+1).padStart(2,"0"),yr=Br.getFullYear();return`${Rr}/${Pn}/${yr}`}function Tr(Br){const Rr=new Date(Br*1e3);return ir(Rr)}const Ar=[{key:"date",label:"Date"},{key:"amount",label:"Amount $USD"},{key:"type",label:"Type"},{key:"model",label:"Model"}];function Fr(Br,Rr){let Pn=Br.split("/"),yr=Rr.split("/");if(parseInt(Pn[2])>parseInt(yr[2]))return!0;if(parseInt(Pn[2])===parseInt(yr[2])){if(parseInt(Pn[1])>parseInt(yr[1]))return!0;if(parseInt(Pn[1])===parseInt(yr[1])){if(parseInt(Pn[0])>parseInt(yr[0]))return!0;if(parseInt(Pn[0])===parseInt(yr[0]))return!0}}return console.log("lose"),!1}function Ir(Br){let Rr=!0,Pn=!0;return Br&&Br.date&&(Ut&&(Rr=!1,console.log(Fr(ir(Ut),Br.date),ir(Ut),Br.date),Fr(Br.date,ir(Ut))&&(Rr=!0)),In&&(Pn=!1,Fr(ir(In),Br.date)&&(Pn=!0))),Rr&&Pn}return jsxRuntimeExports.jsxs("div",{className:"App",style:{textAlign:"left"},children:[jsxRuntimeExports.jsx(Menu,{isOnlineRef:_e,allowRestart:et,onCancel:tt,onTranscript:nt,onPartialTranscript:rt,bodyStyle:it,exchangeRate:ot,setExchangeRate:st,updateExchangeRate:ut,modelSelector:ft,creditBalance:dt,updateCreditBalance:lt,teamLlm:at,chatHistoryRoles:ct,setChatHistoryRoles:ht,chatHistoryTeams:pt,setChatHistoryTeams:mt,user:gt,token:yt,login:bt,logout:xt,refresh:vt,doSave:wt,aiUsage:_t,submitForm:Ct,stopAllPlaying:Et,stopLanguageModels:$t,aiLlm:jt,usingOpenAiTts:Dt,usingSelfHostedTts:Pt,usingWebSpeechTts:kt,usingMeSpeakTts:At,usingTts:Tt,usingStt:St,usingOpenAiStt:Rt,usingSelfHostedStt:Ot,usingLocalStt:Nt,queueSpeech:It,getUrl:Bt,playDataUri:zt,stopPlaying:Gt,isPlaying:Kt,setIsPlaying:fn,isMuted:dn,isMutedRef:Wt,mute:rn,unmute:Vt,deleteRole:an,exportRoles:Qt,importRoles:Zt,init:xn,roles:vn,setRoles:gn,currentRole:Cn,setCurrentRole:kn,newRole:En,utteranceQueue:sn,setUtteranceQueue:On,mergeData:Tn,setMergeData:bn,lastLlmTrigger:Dn,autoStartMicrophone:Nn,setAutoStartMicrophone:wn,autoStopMicrophone:qn,setAutoStopMicrophone:or,refreshHash:tr,setRefreshHash:cr,forceRefresh:rr,hasRequiredConfig:Vn,isSpeaking:Jt,setIsSpeaking:pn,isWaiting:$n,startWaiting:jn,stopWaiting:Fn,userMessage:Ln,userMessageRef:Xn,setUserMessage:ar,isReady:Qn,setIsReady:Yt,config:hn,setConfig:mn,llmEnabled:yn,setLlmEnabled:qt,icons:Sn,configRef:Bn,utils:Zn,newChat:Hn,addUserMessage:sr,addAssistantMessage:nr,setLastAssistantMessage:dr,setLastUserMessage:zn,getLastUserMessage:mr,chatHistoryId:$r,chatHistoryIdRef:lr,setChatHistoryId:wr,chatHistories:gr,setChatHistories:Kn,currentChatHistory:jr,revertChatHistory:Pr,deleteChatHistory:Lr,playSpeech:Un,duplicateChatHistory:en,configIn:Mn,chatHistoriesRef:Wn,getLastAssistantChatIndex:pr,getLastAssistantMessage:Sr,categories:kr,setCategories:_r,teams:vr,setTeams:ur,currentTeam:Er,setCurrentTeam:Cr,currentTeamRef:Dr,deleteTeam:zr,configManager:Hr,runtimes:Or,duplicateRole:Vr,accordionSelectedKey:Nr,setAccordionSelectedKey:Lt,categoryFilter:Xt,setCategoryFilter:Ht,fileManager:on,files:ln,exportDocument:tn,availableModels:An}),jsxRuntimeExports.jsxs("div",{id:"body",style:it,children:[jsxRuntimeExports.jsx(Link,{style:{float:"right",marginRight:"1em",marginTop:"1em"},to:"/payment",children:jsxRuntimeExports.jsx(Button,{variant:"success",size:"lg",children:"Buy Credit"})}),jsxRuntimeExports.jsx("h3",{children:"Transaction History"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsxs("div",{style:{borderBottom:"2px solid black",marginBottom:"1em",paddingBottom:"1em"},children:[jsxRuntimeExports.jsx("h4",{children:"Search"}),jsxRuntimeExports.jsx("b",{children:"From:"})," ",jsxRuntimeExports.jsx(DatePicker,{locale:"enAU",selected:Ut,onChange:Br=>{cn(Br)}}),"",jsxRuntimeExports.jsx("b",{children:"To:"})," ",jsxRuntimeExports.jsx(DatePicker,{locale:"enAU",selected:In,onChange:Br=>{Gn(Br)}})]}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx(SortableTable,{data:Array.isArray(Rn)?JSON.parse(JSON.stringify(Rn)).filter(Ir).reverse():[],headers:Ar})]}),jsxRuntimeExports.jsx(Footer,{icons:Sn})]})}function AdminAddTransactionModal({loadUserTransactions:_e,icons:et,user:tt,token:nt}){const[rt,it]=reactExports.useState(!1),ot=()=>{it(!1)};useNavigate();const st=()=>it(!0);reactExports.useRef();const[ut,ft]=reactExports.useState(0),[dt,lt]=reactExports.useState(0);function at(){ot(),fetch("https://m7tueuetec.execute-api.us-east-1.amazonaws.com/admin_add_transaction",{method:"POST",headers:{"Content-Type":"application/json",authorization:"Bearer "+(nt?nt.access_token:"")},body:JSON.stringify({amount:ut,type:dt,user:tt,model:""})}).then(function(ct){ct.ok&&(ft(0),lt("credit"),_e())})}return rt?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs(Modal$2,{show:rt,onHide:ot,children:[jsxRuntimeExports.jsx(Modal$2.Header,{closeButton:!0,children:jsxRuntimeExports.jsx(Modal$2.Title,{style:{marginRight:"2em"},children:"Add A Transaction"})}),jsxRuntimeExports.jsx(Modal$2.Body,{style:{minHeight:"50em"},children:jsxRuntimeExports.jsxs(Form$1,{onSubmit:at,children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"User"}),jsxRuntimeExports.jsx(Form$1.Control,{type:"text",disabled:!0,value:tt}),jsxRuntimeExports.jsx(Form$1.Label,{children:"Amount $"}),jsxRuntimeExports.jsx(Form$1.Control,{type:"text",value:ut,onChange:function(ct){ft(ct.target.value)}}),jsxRuntimeExports.jsx(Form$1.Label,{children:"Type"}),jsxRuntimeExports.jsxs(Form$1.Select,{value:dt,onChange:function(ct){lt(ct.target.value)},children:[jsxRuntimeExports.jsx("option",{value:"credit",children:"Credit"}),jsxRuntimeExports.jsx("option",{value:"adjustment",children:"Adjustment"})]}),jsxRuntimeExports.jsx(Button,{style:{marginTop:"1em"},onClick:at,children:"Add Transaction"})]})})]})}):jsxRuntimeExports.jsx(Button,{variant:"success",style:{marginRight:"2em"},onClick:st,children:"Add Transaction"})}function AdminTransactionsPage({isOnlineRef:_e,allowRestart:et,onCancel:tt,onTranscript:nt,onPartialTranscript:rt,bodyStyle:it,exchangeRate:ot,setExchangeRate:st,updateExchangeRate:ut,modelSelector:ft,creditBalance:dt,updateCreditBalance:lt,teamLlm:at,chatHistoryRoles:ct,setChatHistoryRoles:ht,chatHistoryTeams:pt,setChatHistoryTeams:mt,user:gt,token:yt,login:bt,logout:xt,refresh:vt,doSave:wt,aiUsage:_t,submitForm:Ct,stopAllPlaying:Et,stopLanguageModels:$t,aiLlm:jt,usingOpenAiTts:Dt,usingSelfHostedTts:Pt,usingWebSpeechTts:kt,usingMeSpeakTts:At,usingTts:Tt,usingStt:St,usingOpenAiStt:Rt,usingSelfHostedStt:Ot,usingLocalStt:Nt,queueSpeech:It,getUrl:Bt,playDataUri:zt,stopPlaying:Gt,isPlaying:Kt,setIsPlaying:fn,isMuted:dn,isMutedRef:Wt,mute:rn,unmute:Vt,deleteRole:an,exportRoles:Qt,importRoles:Zt,init:xn,roles:vn,setRoles:gn,currentRole:Cn,setCurrentRole:kn,newRole:En,utteranceQueue:sn,setUtteranceQueue:On,mergeData:Tn,setMergeData:bn,lastLlmTrigger:Dn,autoStartMicrophone:Nn,setAutoStartMicrophone:wn,autoStopMicrophone:qn,setAutoStopMicrophone:or,refreshHash:tr,setRefreshHash:cr,forceRefresh:rr,hasRequiredConfig:Vn,isSpeaking:Jt,setIsSpeaking:pn,isWaiting:$n,startWaiting:jn,stopWaiting:Fn,userMessage:Ln,userMessageRef:Xn,setUserMessage:ar,isReady:Qn,setIsReady:Yt,config:hn,setConfig:mn,llmEnabled:yn,setLlmEnabled:qt,icons:Sn,configRef:Bn,utils:Zn,newChat:Hn,addUserMessage:sr,addAssistantMessage:nr,setLastAssistantMessage:dr,setLastUserMessage:zn,getLastUserMessage:mr,chatHistoryId:$r,chatHistoryIdRef:lr,setChatHistoryId:wr,chatHistories:gr,setChatHistories:Kn,currentChatHistory:jr,revertChatHistory:Pr,deleteChatHistory:Lr,playSpeech:Un,duplicateChatHistory:en,configIn:Mn,chatHistoriesRef:Wn,getLastAssistantChatIndex:pr,getLastAssistantMessage:Sr,categories:kr,setCategories:_r,teams:vr,setTeams:ur,currentTeam:Er,setCurrentTeam:Cr,currentTeamRef:Dr,deleteTeam:zr,configManager:Hr,runtimes:Or,duplicateRole:Vr,accordionSelectedKey:Nr,setAccordionSelectedKey:Lt,categoryFilter:Xt,setCategoryFilter:Ht,fileManager:on,files:ln,exportDocument:tn,availableModels:An}){const[Rn,_n]=reactExports.useState([]),[Mt,Ft]=reactExports.useState([]),[Ut,cn]=reactExports.useState(null);function In(){fetch("https://m7tueuetec.execute-api.us-east-1.amazonaws.com/admin_users",{method:"POST",headers:{"Content-Type":"application/json",authorization:"Bearer "+(yt?yt.access_token:"")},body:JSON.stringify({filter:Mt})}).then(function(Tr){Tr.ok&&Tr.json().then(function(Ar){if(Array.isArray(Ar)&&Ar.length>0){let Fr=0;_n(Ar.map(function(Ir){return Fr+=parseFloat(Ir.amount),{date:Gn(Ir.date),type:Ir.type,model:Ir.model,amount:"$"+parseFloat(Ir.amount).toFixed(4)}})),cn(Fr)}else cn(null)})})}function Gn(Tr){const Ar=new Date(Tr*1e3),Fr=String(Ar.getDate()).padStart(2,"0"),Ir=String(Ar.getMonth()+1).padStart(2,"0"),Br=Ar.getFullYear();return`${Fr}/${Ir}/${Br}`}const ir=[{key:"date",label:"Date"},{key:"amount",label:"Amount $USD"},{key:"type",label:"Type"},{key:"model",label:"Model"}];return jsxRuntimeExports.jsxs("div",{className:"App",style:{textAlign:"left"},children:[jsxRuntimeExports.jsx(Menu,{isOnlineRef:_e,allowRestart:et,onCancel:tt,onTranscript:nt,onPartialTranscript:rt,bodyStyle:it,exchangeRate:ot,setExchangeRate:st,updateExchangeRate:ut,modelSelector:ft,creditBalance:dt,updateCreditBalance:lt,teamLlm:at,chatHistoryRoles:ct,setChatHistoryRoles:ht,chatHistoryTeams:pt,setChatHistoryTeams:mt,user:gt,token:yt,login:bt,logout:xt,refresh:vt,doSave:wt,aiUsage:_t,submitForm:Ct,stopAllPlaying:Et,stopLanguageModels:$t,aiLlm:jt,usingOpenAiTts:Dt,usingSelfHostedTts:Pt,usingWebSpeechTts:kt,usingMeSpeakTts:At,usingTts:Tt,usingStt:St,usingOpenAiStt:Rt,usingSelfHostedStt:Ot,usingLocalStt:Nt,queueSpeech:It,getUrl:Bt,playDataUri:zt,stopPlaying:Gt,isPlaying:Kt,setIsPlaying:fn,isMuted:dn,isMutedRef:Wt,mute:rn,unmute:Vt,deleteRole:an,exportRoles:Qt,importRoles:Zt,init:xn,roles:vn,setRoles:gn,currentRole:Cn,setCurrentRole:kn,newRole:En,utteranceQueue:sn,setUtteranceQueue:On,mergeData:Tn,setMergeData:bn,lastLlmTrigger:Dn,autoStartMicrophone:Nn,setAutoStartMicrophone:wn,autoStopMicrophone:qn,setAutoStopMicrophone:or,refreshHash:tr,setRefreshHash:cr,forceRefresh:rr,hasRequiredConfig:Vn,isSpeaking:Jt,setIsSpeaking:pn,isWaiting:$n,startWaiting:jn,stopWaiting:Fn,userMessage:Ln,userMessageRef:Xn,setUserMessage:ar,isReady:Qn,setIsReady:Yt,config:hn,setConfig:mn,llmEnabled:yn,setLlmEnabled:qt,icons:Sn,configRef:Bn,utils:Zn,newChat:Hn,addUserMessage:sr,addAssistantMessage:nr,setLastAssistantMessage:dr,setLastUserMessage:zn,getLastUserMessage:mr,chatHistoryId:$r,chatHistoryIdRef:lr,setChatHistoryId:wr,chatHistories:gr,setChatHistories:Kn,currentChatHistory:jr,revertChatHistory:Pr,deleteChatHistory:Lr,playSpeech:Un,duplicateChatHistory:en,configIn:Mn,chatHistoriesRef:Wn,getLastAssistantChatIndex:pr,getLastAssistantMessage:Sr,categories:kr,setCategories:_r,teams:vr,setTeams:ur,currentTeam:Er,setCurrentTeam:Cr,currentTeamRef:Dr,deleteTeam:zr,configManager:Hr,runtimes:Or,duplicateRole:Vr,accordionSelectedKey:Nr,setAccordionSelectedKey:Lt,categoryFilter:Xt,setCategoryFilter:Ht,fileManager:on,files:ln,exportDocument:tn,availableModels:An}),!(gt&&gt.email&&gt.email==="syntithenai@gmail.com")&&jsxRuntimeExports.jsx("div",{id:"body",style:it,children:jsxRuntimeExports.jsx("b",{children:"No Access"})}),gt&&gt.email&&gt.email==="syntithenai@gmail.com"&&jsxRuntimeExports.jsxs("div",{id:"body",style:it,children:[Mt.indexOf("@")!==-1&&Mt.indexOf(".")!==-1&&jsxRuntimeExports.jsx("span",{style:{float:"right"},children:jsxRuntimeExports.jsx(AdminAddTransactionModal,{token:yt,user:Mt,icons:Sn,loadUserTransactions:In})}),jsxRuntimeExports.jsx("h3",{children:"Admin Transactions"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsxs(Form$1,{style:{marginBottom:"2em"},children:[jsxRuntimeExports.jsx(Form$1.Control,{style:{width:"18em",float:"left"},type:"text",value:Mt,onChange:function(Tr){Ft(Tr.target.value)}}),jsxRuntimeExports.jsx(Button,{style:{float:"left",marginLeft:"0.5em"},onClick:In,children:"Search"}),Ut!=null&&jsxRuntimeExports.jsxs("span",{children:[jsxRuntimeExports.jsx("b",{style:{marginLeft:"2em"},children:"Balance"})," $",Ut.toFixed(4)]})]}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx(SortableTable,{data:Array.isArray(Rn)?JSON.parse(JSON.stringify(Rn)).reverse():[],headers:ir})]}),jsxRuntimeExports.jsx(Footer,{icons:Sn})]})}function FilesPage(_e){const{isOnlineRef:et,allowRestart:tt,onCancel:nt,onTranscript:rt,onPartialTranscript:it,bodyStyle:ot,exchangeRate:st,setExchangeRate:ut,updateExchangeRate:ft,modelSelector:dt,creditBalance:lt,updateCreditBalance:at,teamLlm:ct,chatHistoryRoles:ht,setChatHistoryRoles:pt,chatHistoryTeams:mt,setChatHistoryTeams:gt,user:yt,token:bt,login:xt,logout:vt,refresh:wt,doSave:_t,aiUsage:Ct,submitForm:Et,stopAllPlaying:$t,stopLanguageModels:jt,aiLlm:Dt,usingOpenAiTts:Pt,usingSelfHostedTts:kt,usingWebSpeechTts:At,usingMeSpeakTts:Tt,usingTts:St,usingStt:Rt,usingOpenAiStt:Ot,usingSelfHostedStt:Nt,usingLocalStt:It,queueSpeech:Bt,getUrl:zt,playDataUri:Gt,stopPlaying:Kt,isPlaying:fn,setIsPlaying:dn,isMuted:Wt,isMutedRef:rn,mute:Vt,unmute:an,deleteRole:Qt,exportRoles:Zt,importRoles:xn,init:vn,roles:gn,setRoles:Cn,currentRole:kn,setCurrentRole:En,newRole:sn,utteranceQueue:On,setUtteranceQueue:Tn,mergeData:bn,setMergeData:Dn,lastLlmTrigger:Nn,autoStartMicrophone:wn,setAutoStartMicrophone:qn,autoStopMicrophone:or,setAutoStopMicrophone:tr,refreshHash:cr,setRefreshHash:rr,forceRefresh:Vn,hasRequiredConfig:Jt,isSpeaking:pn,setIsSpeaking:$n,isWaiting:jn,startWaiting:Fn,stopWaiting:Ln,userMessage:Xn,userMessageRef:ar,setUserMessage:Qn,isReady:Yt,setIsReady:hn,config:mn,setConfig:yn,llmEnabled:qt,setLlmEnabled:Sn,icons:Bn,configRef:Zn,utils:Hn,newChat:sr,addUserMessage:nr,addAssistantMessage:dr,setLastAssistantMessage:zn,setLastUserMessage:mr,getLastUserMessage:$r,chatHistoryId:lr,chatHistoryIdRef:wr,setChatHistoryId:gr,chatHistories:Kn,setChatHistories:jr,currentChatHistory:Pr,revertChatHistory:Lr,deleteChatHistory:Un,playSpeech:en,duplicateChatHistory:Mn,configIn:Wn,chatHistoriesRef:pr,getLastAssistantChatIndex:Sr,getLastAssistantMessage:kr,categories:_r,setCategories:vr,teams:ur,setTeams:Er,currentTeam:Cr,setCurrentTeam:Dr,currentTeamRef:zr,deleteTeam:Hr,configManager:Or,runtimes:Vr,duplicateRole:Nr,accordionSelectedKey:Lt,setAccordionSelectedKey:Xt,categoryFilter:Ht,setCategoryFilter:on,fileManager:ln,files:tn,exportDocument:An,availableModels:Rn}=_e;return reactExports.useRef(),Hn.summariseConfig(mn),jsxRuntimeExports.jsxs("div",{className:"App",id:cr,children:[jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Menu,{isOnlineRef:et,bodyStyle:ot,creditBalance:lt,refreshHash:cr,token:bt,logout:vt,user:yt,login:xt,utils:Hn,usingStt:Rt,usingTts:St,isSpeaking:pn,isMuted:Wt,mute:Vt,stopAllPlaying:$t,icons:Bn,unmute:an,stopPlaying:Kt,lastLlmTrigger:Nn,config:mn,aiUsage:Ct,forceRefresh:Vn,autoStartMicrophone:wn,setAutoStartMicrophone:qn,isPlaying:fn,allowRestart:tt,isWaiting:jn,startWaiting:Fn,stopWaiting:Ln,onCancel:nt,isReady:Yt,setIsReady:hn,onTranscript:rt,onPartialTranscript:it,setUserMessage:Qn}),jsxRuntimeExports.jsx("div",{id:"body",style:ot,children:jsxRuntimeExports.jsx(FileList,{..._e})})]}),jsxRuntimeExports.jsx(Footer,{icons:Bn})]})}function wikipedia({config:_e,abortController:et}){async function tt(it){const ot=`https://en.wikipedia.org/w/api.php?action=query&list=search&srsearch=${encodeURIComponent(it)}&utf8=&format=json&origin=*`;let st={signal:et.current.signal};try{const ut=await fetch(ot,st),ft=await ut.json();if(console.log("WIKISEARCH DATA",ut,ft),ft.query.search.length>0)return"```\n"+ft.query.search.map(function(dt){return dt.title}).join(`
`)+"\n```"}catch(ut){return ut}}async function nt(it){const ot=`https://en.wikipedia.org/w/api.php?action=query&prop=extracts&titles=${encodeURIComponent(it)}&format=json&explaintext=true&origin=*`;let st={signal:et.current.signal};try{const ft=await(await fetch(ot,st)).json(),dt=Object.keys(ft.query.pages).length>0?Object.keys(ft.query.pages)[0]:null;return dt?ft.query.pages[dt].extract:""}catch(ut){return ut}}async function rt(it){let ot=await tt(it);if(console.log(ot),ot&&ot.slice&&(ot=ot.slice(3,ot.length-3).trim()),console.log(ot),ot&&ot.split(`
`).length>0)return nt(ot.split(`
`)[0])}return{wikipedia_search:tt,wikipedia_load_page:nt,wikipedia_first_result:rt}}function thesession({config:_e,abortController:et}){function tt(it){return new Promise(function(ot,st){let ut={signal:et.current.signal};fetch("https://thesession.org/tunes/"+it+"?format=json",ut).then(function(ft){ft.json().then(function(dt){let lt=[];if(dt&&dt.settings)for(let at=0;at<dt.settings.length;at++){let ct=dt.settings[at];if(ct&&ct.abc){let ht="```abc\n";ht+="X:"+ct.id+`
`,ht+="T:"+dt.name+`
`,ht+=`C: 
`,ht+="Z:"+(ct.name?ct.name:"")+`
`,ht+="R:"+(ct.type?ct.type:"")+`
`,ht+="K:"+(ct.key?ct.key:"")+`
`,ht+=ct.abc+`
`,ht+="```",lt.push({content:ht,log:{duration:0,tokens_in:0,tokens_out:0},name:"Setting "+(at+1)})}}ot(lt)})}).catch(function(ft){ot("")})})}function nt(it){return new Promise(function(ot,st){let ut={signal:et.current.signal};fetch("https://thesession.org/tunes/search?format=json&q="+it,ut).then(function(ft){ft.json().then(function(dt){dt&&dt.tunes&&dt.tunes[0]&&dt.tunes[0].id&&fetch("https://thesession.org/tunes/"+dt.tunes[0].id+"?format=json").then(function(lt){lt.json().then(function(at){let ct="```abc\n";at&&at.settings&&at.settings[0]&&(ct+="X:"+at.settings[0].id+`
`,ct+="T:"+at.name+`
`,ct+=`C: 
`,ct+="Z:"+(at&&at.settings&&at.settings[0]&&at.settings[0].member&&at.settings[0].member.name?at.settings[0].member.name:"")+`
`,ct+="R:"+(at&&at.settings&&at.settings[0]&&at.settings[0].type?at.settings[0].type:"")+`
`,ct+="K:"+(at&&at.settings&&at.settings[0]&&at.settings[0].key?at.settings[0].key:"")+`
`,ct+=at.settings[0].abc+`
`),ct+="```",ot(ct)})})})}).catch(function(ft){ot("")})})}function rt(it){return new Promise(function(ot,st){let ut={signal:et.current.signal};fetch("https://thesession.org/tunes/search?format=json&q="+it,ut).then(function(ft){ft.json().then(function(dt){let lt=dt.tunes.map(function(at){return at.id+" "+at.name}).join(`
`);ot("```"+lt+"```")})}).catch(function(ft){ot("")})})}return{thesession_search_list:rt,thesession_search_single:nt,thesession_settings_by_id:tt}}function coderunner({runtimes:_e,config:et,token:tt,creditBalance:nt}){function rt(){return new Promise(function(st,ut){let ft="",dt={"Content-Type":"application/json"};et&&et.tools&&et.tools.coderunner_url?(ft=et.tools.coderunner_url,dt.authorization="Bearer "+et.tools.coderunner_key):nt>0&&tt&&tt.access_token&&(ft="https://m7tueuetec.execute-api.us-east-1.amazonaws.com/websearch",dt.authorization="Bearer "+tt.access_token),fetch(ft+"/runtimes",{method:"GET",headers:dt}).then(function(lt){lt.json().then(function(at){st(at)})})})}function it(st){return new Promise(function(ut,ft){if(st){let dt=st.split("```");if(console.log("RUNPARETS",dt),dt.length>1){let lt=dt[1].split(`
`),at=lt[0].trim(),ct=lt.slice(1).join(`
`);console.log("language",at,ct),ot(ct,at).then(function({response:ht,error:pt}){ut(ht+(pt?`
### ERROR 
`+pt:""))}).catch(function(ht){ft(ht)})}else console.log("not enough parts",dt,st),ut("")}else console.log("empty code"),ut("")})}function ot(st,ut){return new Promise(function(ft,dt){console.log("RUN code",ut,st,et);let lt="",at=!1;if(_e&&Array.isArray(_e)&&_e.forEach(function(ct){(ct.language===ut||Array.isArray(ct.aliases)&&ct.aliases.indexOf(ut)!==-1)&&(at=ct)}),at){at.language,at.version;let ct="",ht={"Content-Type":"application/json"};et&&et.tools&&et.tools.coderunner_url?(ct=et.tools.coderunner_url,ht.authorization="Bearer "+et.tools.coderunner_key):nt>0&&tt&&tt.access_token&&(ct="https://m7tueuetec.execute-api.us-east-1.amazonaws.com/runcode",ht.authorization="Bearer "+tt.access_token),lt="";try{fetch(ct,{method:"POST",headers:ht}).then(function(pt){console.log("ai response",pt),pt.json().then(function(mt){console.log("CODE RESPONSE",mt),mt&&mt.compile&&mt.compile.stderr?lt=mt.compile.stderr:mt&&mt.run&&mt.run.stderr&&(lt=mt.run.stderr),mt&&mt.run&&mt.run.stdout?pt=mt.run.stdout:pt="",ft({response:pt,error:lt})})})}catch(pt){let mt="";pt=String(pt),ft({response:mt,error:pt}),console.error("Speech generateion error:",pt)}}})}return{coderunner_load_runtimes:rt,coderunner_run:it,runCode:ot}}function websearch({config:_e,token:et,creditBalance:tt,abortController:nt}){async function rt(ot,st=5){if(_e||tt>0){let ut="",ft={"Content-Type":"application/json"};if(_e&&_e.tools&&_e.tools.tavily_url)ut=_e.tools.tavily_url,ft.authorization="Bearer "+_e.tools.tavily_key,_e&&_e.tools&&_e.tools.cors_url&&(ut=_e.tools.cors_url+_e.tools.tavily_url,_e&&_e.tools&&_e.tools.cors_key&&(ft["x-cors-api-key"]=_e&&_e.tools&&_e.tools.cors_key?_e.tools.cors_key:""));else if(tt>0&&et&&et.access_token)ut="https://m7tueuetec.execute-api.us-east-1.amazonaws.com/websearch",ft.authorization="Bearer "+et.access_token;else return window.alert("Login  and buy credit or provide Tavily credentials in Tools settings to enable web search."),JSON.stringify({error:"No access"});if(ut&&ut.trim().length>0)return(await fetch(ut,{signal:nt.current?nt.current.signal:null,method:"POST",headers:ft,body:JSON.stringify({api_key:_e&&_e.tools&&_e.tools.tavily_key&&_e.tools.tavily_url?_e.tools.tavily_key:"",query:ot,search_depth:"basic",include_answer:"true",include_images:"false",include_raw_content:"true",max_results:st,include_domains:[],exclude_domains:[]})})).json()}else return window.alert("Login and buy credit or provide Tavily credentials in Tools settings to enable web search."),JSON.stringify({error:"No access"});return{}}function it(ot){return console.log("START SEARCH",_e),new Promise(function(st,ut){_e.tools&&(_e.tools.tavily_key||_e.tools.cors_url)||et&&et.access_token&&tt>0||ut("To use websearch you login and buy credit or provide your own tool urls and keys. Check your tools configuration."),rt(ot.join(" "),5).then(function(ft){try{let dt=JSON.parse(ft);if(console.log("TTRES",dt),dt&&dt.detail&&dt.detail.error||dt&&dt.detail&&dt.detail.error)return ut(dt.detail.error);console.log(dt);let lt=[dt.answer];return st(lt.join(`
`))}catch(dt){console.log(dt),ut(String(dt))}}).catch(function(ft){console.log(ft),ut("Failed web search, check your configuration and/or try again later.")})})}return{websearch_tavily:it}}function tools({runtimes:_e,config:et,token:tt,creditBalance:nt,abortController:rt}){return{...wikipedia({config:et,abortController:rt}),...thesession({config:et,abortController:rt}),...coderunner({runtimes:_e,config:et,token:tt,creditBalance:nt,abortController:rt}),...websearch({config:et,token:tt,creditBalance:nt,abortController:rt})}}function useTools(_e,et,tt,nt,rt){return window.tools=tools({runtimes:_e,config:et,token:tt,creditBalance:nt,abortController:rt}),window.tools}function useModelSelector({configString:_e,creditBalance:et,token:tt,availableModels:nt}){let rt={};try{rt=JSON.parse(_e)}catch{}function it(){return!!(tt&&tt.access_token&&et>0)}function ot(at){let ct=at.split(" "),ht=ct[0],pt=ct.slice(1).join(" "),mt=null;return Array.isArray(nt)&&nt.forEach(function(gt){gt.provider===ht&&gt.model===pt&&(mt=gt)}),mt}function st(at){let ct=ut(at);if(ct&&ct.provider==="openai"&&rt&&rt.llm&&rt.llm.openai_key)return ct.model;if(ct&&ct.provider==="groqcloud"&&rt&&rt.llm&&rt.llm.groqcloud_key)return ct.model;if(ct)return ct.provider+" "+ct.model}function ut(at){console.log("getmodel",at,rt,nt,et,tt);let ct=null,ht=null;rt&&rt.llm&&rt.llm[at+"_model"]&&(ct=rt.llm[at+"_model"]);let pt=nt,mt={};if(pt.forEach(function(gt){ct&&ct.startsWith(gt.provider)&&ct.endsWith(gt.model)&&(ht=gt),Array.isArray(gt.tags)&&gt.tags.forEach(function(yt){Array.isArray(mt[yt])||(mt[yt]=[]),mt[yt].push(gt)})}),ct&&ht)return console.log("seek from selection",ct),ht;if(Object.keys(mt).forEach(function(gt){mt[gt]=mt[gt].sort(function(yt,bt){let xt=(parseFloat(yt.price_in)>0?parseFloat(yt.price_in):0)+(parseFloat(yt.price_out)>0?parseFloat(yt.price_out):0),vt=(parseFloat(bt.price_in)>0?parseFloat(bt.price_in):0)+(parseFloat(bt.price_out)>0?parseFloat(bt.price_out):0);return parseInt(yt.parameters)<parseInt(bt.parameters)?1:parseInt(yt.parameters)>parseInt(bt.parameters)||xt<vt?-1:1})}),console.log(mt),at==="basic"){if(Array.isArray(mt.basic)&&mt.basic.length>0)return mt.basic[0];if(Array.isArray(mt.small)&&mt.small.length>0)return mt.small[0];if(Array.isArray(mt.medium)&&mt.medium.length>0)return mt.medium[0];if(Array.isArray(mt.large)&&mt.large.length>0)return mt.large[0];if(Array.isArray(mt.advanced)&&mt.advanced.length>0)return mt.advanced[0]}else if(at==="small"){if(Array.isArray(mt.small)&&mt.small.length>0)return mt.small[0];if(Array.isArray(mt.medium)&&mt.medium.length>0)return mt.medium[0];if(Array.isArray(mt.large)&&mt.large.length>0)return mt.large[0];if(Array.isArray(mt.advanced)&&mt.advanced.length>0)return mt.advanced[0]}else if(at==="medium"){if(Array.isArray(mt.medium)&&mt.medium.length>0)return mt.medium[0];if(Array.isArray(mt.large)&&mt.large.length>0)return mt.large[0];if(Array.isArray(mt.advanced)&&mt.advanced.length>0)return mt.advanced[0]}else if(at==="large"){if(Array.isArray(mt.large)&&mt.large.length>0)return mt.large[0];if(Array.isArray(mt.advanced)&&mt.advanced.length>0)return mt.advanced[0]}else if(at==="advanced"){if(Array.isArray(mt.advanced)&&mt.advanced.length>0)return mt.advanced[0];if(Array.isArray(mt.large)&&mt.large.length>0)return mt.large[0]}else if(at==="code"){if(Array.isArray(mt.code)&&mt.code.length>0)return mt.code[0];if(Array.isArray(mt.large)&&mt.large.length>0)return mt.large[0];if(Array.isArray(mt.advanced)&&mt.advanced.length>0)return mt.advanced[0]}else if(at==="instruct"){if(Array.isArray(mt.instruct)&&mt.instruct.length>0)return mt.instruct[0];if(Array.isArray(mt.large)&&mt.large.length>0)return mt.large[0]}}function ft(at){switch(at){case"openai":return"https://api.openai.com/v1";case"togetherai":return"https://api.together.xyz/v1";case"deepinfra":return"https://api.deepinfra.com/v1/openai";case"groqcloud":return"https://api.groq.com/openai/v1";case"selfhosted":return rt&&rt.llm&&rt.llm.self_hosted_url?rt.llm.self_hosted_url:"";default:return""}}function dt(at){if(console.log("GET MODEL URL",at,rt),at==="selfhosted"&&rt&&rt.llm&&rt.llm.self_hosted_url)return rt.llm.self_hosted_url;if(at==="openai"&&rt&&rt.llm&&rt.llm.openai_key)return ft(at);if(at==="groqcloud"&&rt&&rt.llm&&rt.llm.groqcloud_key)return ft(at);if(it())return"https://m7tueuetec.execute-api.us-east-1.amazonaws.com";if(at==="groqcloud")return"https://m7tueuetec.execute-api.us-east-1.amazonaws.com"}function lt(at){switch(console.log("GETLEU",at,rt),at){case"openai":return rt&&rt.llm&&rt.llm.openai_key?rt.llm.openai_key:"";case"togetherai":return rt&&rt.llm&&rt.llm.togetherai_key?rt.llm.togetherai_key:"";case"deepinfra":return rt&&rt.llm&&rt.llm.deepinfra_key?rt.llm.deepinfra_key:"";case"groqcloud":return rt&&rt.llm&&rt.llm.groqcloud_key?rt.llm.groqcloud_key:"";case"selfhosted":return rt&&rt.llm&&rt.llm.self_hosted_key?rt.llm.self_hosted_key:"";default:return""}}return{getModelKey:st,getModel:ut,lookupModel:ot,getModelUrl:dt,getModelApiKey:lt}}function App({nlp:_e}){function et(xr){let Wr=localStorage.getItem("voice2llm_last_saved_id");Wr&&xr&&xr.id===Wr||St(xr)}let tt={zIndex:"3",position:"relative",top:"5em",left:0,width:"100%",paddingTop:"0.2em",paddingLeft:"0.5em",height:"100%"};const nt=useUtils();var{user:rt,token:it,login:ot,logout:st,refresh:ut,loadCurrentUser:ft,loadUserImage:dt,breakLoginToken:lt}=useGoogleLogin({clientId:"730767136065-vi1urlhhqo0pj0gcb0gtn1i3kj7mc4dl.apps.googleusercontent.com",usePrompt:!1,loginButtonId:"google_login_button",scopes:["https://www.googleapis.com/auth/drive.file"]});reactExports.useEffect(function(){ut(),ReactGA.initialize("G-QTPXLSHQ31")},[]);const[at,ct]=reactExports.useState(""),{save:ht,exportDocument:pt,getDocument:mt}=usePollingGoogleDocument({token:it,logout:st,refresh:ut,pollingInterval:1e4,onMerge:et,pausePolling:function(){},setGoogleDocumentId:ct,googleDocumentId:at,googleFileName:"Voice2Llm"});function gt(){if(it&&it.access_token){let xr=localStorage.getItem("voice2llm_last_saved_id")?localStorage.getItem("voice2llm_last_saved_id"):bt();localStorage.setItem("voice2llm_last_saved_id",xr);let Wr={id:xr,currentRole:lr,roles:zn,chatHistoryId:Jt,chatHistories:jn,chatHistoryRoles:Kn,chatHistoryTeams:Pr,currentTeam:en,config:Cn,logs:vr.logs,categories:bn,teams:kr};ht(JSON.stringify(Wr))}}const{scrollTo:yt,generateRandomId:bt}=useUtils(),{errorMessage:xt,setErrorMessage:vt,isOnlineRef:wt,exchangeRate:_t,setExchangeRate:Ct,updateExchangeRate:Et,abortController:$t,creditBalance:jt,updateCreditBalance:Dt,availableModels:Pt,utteranceQueue:kt,setUtteranceQueue:At,mergeData:Tt,setMergeData:St,lastLlmTrigger:Rt,autoStartMicrophone:Ot,setAutoStartMicrophone:Nt,autoStopMicrophone:It,setAutoStopMicrophone:Bt,refreshHash:zt,setRefreshHash:Gt,forceRefresh:Kt,hasRequiredConfig:fn,isSpeaking:dn,setIsSpeaking:Wt,isWaiting:rn,startWaiting:Vt,stopWaiting:an,userMessage:Qt,userMessageRef:Zt,setUserMessage:xn,isReady:vn,setIsReady:gn,config:Cn,setConfig:kn,llmEnabled:En,setLlmEnabled:sn,icons:On,configRef:Tn,categories:bn,setCategories:Dn,accordionSelectedKey:Nn,setAccordionSelectedKey:wn,categoryFilter:qn,setCategoryFilter:or}=useAppState({doSave:gt,token:it});let tr=useModelSelector({configString:JSON.stringify(Cn),creditBalance:jt,token:it,availableModels:Pt});const{files:cr,fileManager:rr}=useFileManager({creditBalance:jt,config:Cn,storeName:"files",token:it,logout:st,allowMimeTypes:[".txt","text/plain"],loadData:!1,onError:function(xr){window.alert(xr)},forceRefresh:Kt}),{chatHistoriesRef:Vn,chatHistoryId:Jt,chatHistoryIdRef:pn,setChatHistoryId:$n,chatHistories:jn,setChatHistories:Fn,newChatHistory:Ln,addUserMessage:Xn,addAssistantMessage:ar,setLastAssistantMessage:Qn,setLastUserMessage:Yt,getLastUserMessage:hn,currentChatHistory:mn,revertChatHistory:yn,deleteChatHistory:qt,duplicateChatHistory:Sn,getLastAssistantChatIndex:Bn,getLastAssistantMessage:Zn}=useChatHistoryManager({utils:nt,forceRefresh:Kt,doSave:gt,utils:nt}),{deleteRole:Hn,exportRoles:sr,importRoles:nr,init:dr,roles:zn,rolesRef:mr,setRoles:$r,currentRole:lr,setCurrentRole:wr,newRole:gr,chatHistoryRoles:Kn,setChatHistoryRoles:jr,chatHistoryTeams:Pr,setChatHistoryTeams:Lr,currentRoleRef:Un,currentTeam:en,currentTeamRef:Mn,setCurrentTeam:Wn,deleteTeam:pr,duplicateRole:Sr,teams:kr,setTeams:_r}=useSystemMessageManager({forceRefresh:Kt,doSave:gt,chatHistoryId:Jt,categories:bn,setCategories:Dn}),vr=useOpenAiUsageLogger(),ur=useConfigManager({config:Cn,token:it}),{queueSpeech:Er,getUrl:Cr,playDataUri:Dr,stopPlaying:zr,isPlaying:Hr,setIsPlaying:Or,isMuted:Vr,isMutedRef:Nr,mute:Lt,unmute:Xt,urlAudioPlayer:Ht}=useAudioPlayQueue({onStopPlaying:function(){Kt()},onStartPlaying:function(){Kt()},onFinishedPlaying:function(){console.log("on finish play",Rt.current),Rt.current==="speech"&&Nt(!0),Kt()},onError:function(){Kt()},forceRefresh:Kt});reactExports.useEffect(function(){Dt(it?it.access_token:"")},[it?it.access_token:null,JSON.stringify(vr.totals)]);function on(){yr(),(!mn()||mn().length>0)&&Ln()}const ln=useOpenAiTts({aiUsage:vr}),tn=useWebSpeechTts({forceRefresh:Kt}),An=useMeSpeakTts({}),[Rn,_n]=reactExports.useState({});reactExports.useEffect(()=>{try{fetch(ur.codeRunnerEndpoint()+"/runtimes",{method:"GET",headers:{Authorization:"Bearer "+(Cn&&Cn.tools&&Cn.tools.piston_key?Cn.tools.piston_key:""),"Content-Type":"application/json"}}).then(function(xr){xr.json().then(function(Wr){_n(Wr)})}).catch(function(xr){vt("Failed to load code runtimes from "+ur.codeRunnerEndpoint()),console.log(xr)})}catch(xr){vt("Failed to load code runtimes from "+ur.codeRunnerEndpoint()),console.error("Error loading code runtimes:",xr)}},[]);const Mt=useTools(Rn,Cn,it,jt,$t);async function Ft(xr,Wr="",Yr="",Jr=""){if(!(zn&&zn[lr]&&zn[lr].config&&zn[lr].config.outputType&&zn[lr].config.outputType.trim().length>0))return Er(xr,Cn,{aiTts:ln,webSpeechTts:tn,meSpeakTts:An},Wr,Yr,Jr)}const{usingOpenAiTts:Ut,usingSelfHostedTts:cn,usingWebSpeechTts:In,usingMeSpeakTts:Gn,usingTts:ir,usingStt:Tr,usingOpenAiStt:Ar,usingSelfHostedStt:Fr,usingLocalStt:Ir}=nt.summariseConfig(Cn),Br=useLlm({files:cr,fileManager:rr,modelSelector:tr,errorMessage:xt,setErrorMessage:vt,onStart:function(){ar(""),nt.scrollTo("endofdocument"),Kt()},onUpdate:function(xr,Wr,Yr){Qn(xr,{duration:Yr}),Kt(),nt.scrollTo("endofdocument"),Ft(Wr,"","",zn&&zn[lr]&&zn[lr].config&&zn[lr].config.ttsSpeed>.2?zn[lr].config.ttsSpeed/100:1).then(function(){})},onComplete:function(xr,Wr){console.log("LOCAL LLM complete",xr,Wr),Qn(xr,Wr),gt(),Rt.current==="speech"&&Nt(!0),Dt(it?it.access_token:""),Kt(),nt.scrollTo("endofdocument")},onError:function(xr){yr(),console.log(xr.name),xr instanceof DOMException&&xr.name=="AbortError"?console.log("ABORT: ",xr.message):(console.log("LLM error:",xr.message),vt(xr.message))},forceRefresh:Kt,aiUsage:vr,currentChatHistory:mn,tools:Mt,nlp:_e,abortController:$t,token:it}),Rr=useTeamLlm({modelSelector:tr,teams:kr,roles:zn,utils:nt,files:cr,fileManager:rr,errorMessage:xt,setErrorMessage:vt,onStart:function(){ar(""),nt.scrollTo("endofdocument"),Kt()},onUpdate:function(xr,Wr){console.log("TEAM LLM UPDATE",xr,Wr),Qn(xr,{duration:Wr}),wn(xr.length-1),Kt(),nt.scrollTo("endofdocument")},onComplete:function(xr,Wr){console.log("TEAM LLM COMPLETE",xr,Wr),Qn(xr,Wr),wn(xr.length-1),gt(),Dt(it?it.access_token:""),Kt(),nt.scrollTo("endofdocument")},onError:function(xr){yr(),xr instanceof AbortError?console.log("ABORT: ",xr.message):(console.log("LLM error:",xr.message),vt(xr.message))},forceRefresh:Kt,aiUsage:vr,tools:Mt,abortController:$t,token:it});function Pn(){Ht.current&&Ht.current.pause(),zr(),An.stop(),tn.stop(),Kt()}function yr(xr=!0){console.log("STOP LANG MODELS",xr),Pn(),Br.stop(),Rr.stop(),xr&&(Bt(!0),Rt.current="button"),Kt()}function Gr(xr){let Wr=Tn.current;try{if(xr){yr(!1),Xn(xr),xn(""),gt(),$t.current=new AbortController;const{useLlm:Yr,useOpenAi:Jr,useSelfHosted:Xr,useGroq:Zr}=nt.summariseConfig(Wr);let _i=Un.current&&zn&&zn[Un.current]&&zn[Un.current].message?zn[Un.current].message:"";Un.current&&zn&&zn[Un.current]&&zn[Un.current].skills&&(_i+=`

`+zn[lr].skills),Un.current&&zn&&zn[Un.current]&&zn[Un.current].backStory&&(_i+=`

`+zn[Un.current].backStory),en?Rr.start(xr,en,Vn.current[pn.current]):(console.log("APP AI START",Jr,Zr),Br.start(zn[lr],Vn.current[pn.current])),Kt()}}catch(Yr){window.alert(Yr),console.log(Yr)}return!1}let fr={errorMessage:xt,setErrorMessage:vt,isOnlineRef:wt,bodyStyle:tt,exchangeRate:_t,setExchangeRate:Ct,updateExchangeRate:Et,modelSelector:tr,creditBalance:jt,updateCreditBalance:Dt,teamLlm:Rr,chatHistoryRoles:Kn,setChatHistoryRoles:jr,chatHistoryTeams:Pr,setChatHistoryTeams:Lr,user:rt,token:it,login:ot,logout:st,refresh:ut,doSave:gt,aiUsage:vr,submitForm:Gr,stopAllPlaying:Pn,stopLanguageModels:yr,aiLlm:Br,usingOpenAiTts:Ut,usingSelfHostedTts:cn,usingWebSpeechTts:In,usingMeSpeakTts:Gn,usingTts:ir,usingStt:Tr,usingOpenAiStt:Ar,usingSelfHostedStt:Fr,usingLocalStt:Ir,queueSpeech:Er,getUrl:Cr,playDataUri:Dr,stopPlaying:zr,isPlaying:Hr,setIsPlaying:Or,isMuted:Vr,isMutedRef:Nr,mute:Lt,unmute:Xt,deleteRole:Hn,exportRoles:sr,importRoles:nr,init:dr,roles:zn,setRoles:$r,currentRole:lr,setCurrentRole:wr,newRole:gr,utteranceQueue:kt,setUtteranceQueue:At,mergeData:Tt,setMergeData:St,lastLlmTrigger:Rt,autoStartMicrophone:Ot,setAutoStartMicrophone:Nt,autoStopMicrophone:It,setAutoStopMicrophone:Bt,refreshHash:zt,setRefreshHash:Gt,forceRefresh:Kt,hasRequiredConfig:fn,isSpeaking:dn,setIsSpeaking:Wt,isWaiting:rn,startWaiting:Vt,stopWaiting:an,userMessage:Qt,userMessageRef:Zt,setUserMessage:xn,isReady:vn,setIsReady:gn,config:Cn,setConfig:kn,llmEnabled:En,setLlmEnabled:sn,icons:On,configRef:Tn,utils:nt,newChat:on,addUserMessage:Xn,addAssistantMessage:ar,setLastAssistantMessage:Qn,setLastUserMessage:Yt,getLastUserMessage:hn,chatHistoryId:Jt,chatHistoryIdRef:pn,setChatHistoryId:$n,chatHistories:jn,setChatHistories:Fn,currentChatHistory:mn,revertChatHistory:yn,deleteChatHistory:qt,playSpeech:Ft,duplicateChatHistory:Sn,configIn:Tn.current,chatHistoriesRef:Vn,getLastAssistantChatIndex:Bn,getLastAssistantMessage:Zn,categories:bn,setCategories:Dn,teams:kr,setTeams:_r,currentTeam:en,setCurrentTeam:Wn,currentTeamRef:Mn,deleteTeam:pr,configManager:ur,runtimes:Rn,duplicateRole:Sr,accordionSelectedKey:Nn,setAccordionSelectedKey:wn,categoryFilter:qn,setCategoryFilter:or,fileManager:rr,files:cr,exportDocument:pt,availableModels:Pt,getDocument:mt};return jsxRuntimeExports.jsxs("div",{style:{position:"relative"},children:[Tt&&jsxRuntimeExports.jsx(MergeWarningModal,{chatHistoryId:Jt,chatHistories:jn,setChatHistories:Fn,logs:vr.logs,setLogs:vr.setLogs,doSave:gt,config:Cn,setConfig:kn,forceRefresh:Kt,mergeData:Tt,setMergeData:St,roles:zn,setRoles:$r,currentRole:lr,setCurrentRole:wr,setChatHistoryRoles:jr,chatHistoryRoles:Kn}),!Tt&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[!fn(Cn)&&jsxRuntimeExports.jsx(ConfigWizard,{login:ot,logout:st,user:rt,token:it,config:Cn,setConfig:kn,forceRefresh:Kt}),fn(Cn)&&jsxRuntimeExports.jsxs(HashRouter,{children:[xt&&jsxRuntimeExports.jsx(ErrorWarningModal,{errorMessage:xt,setErrorMessage:vt,icons:On}),jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(HomePage,{...fr})}),jsxRuntimeExports.jsx(Route,{path:"/menu",element:jsxRuntimeExports.jsx(ChatHistoryPage,{...fr})}),jsxRuntimeExports.jsx(Route,{path:"/help",element:jsxRuntimeExports.jsx(HelpPage,{...fr})}),jsxRuntimeExports.jsx(Route,{path:"/chat/:id",element:jsxRuntimeExports.jsx(ChatPage,{...fr})}),jsxRuntimeExports.jsx(Route,{path:"/chat",element:jsxRuntimeExports.jsx(ChatPage,{...fr})}),jsxRuntimeExports.jsx(Route,{path:"/simplechat/:id",element:jsxRuntimeExports.jsx(ChatPage,{...fr,simplifiedChat:!0})}),jsxRuntimeExports.jsx(Route,{path:"/simplechat",element:jsxRuntimeExports.jsx(ChatPage,{...fr,simplifiedChat:!0})}),jsxRuntimeExports.jsx(Route,{path:"/history",element:jsxRuntimeExports.jsx(ChatHistoryPage,{...fr})}),jsxRuntimeExports.jsx(Route,{path:"/settings",element:jsxRuntimeExports.jsx(SettingsPage,{...fr})}),jsxRuntimeExports.jsx(Route,{path:"/roles",element:jsxRuntimeExports.jsx(RolesPage,{...fr})}),jsxRuntimeExports.jsx(Route,{path:"/role/:id/:category",element:jsxRuntimeExports.jsx(RolePage,{...fr})}),jsxRuntimeExports.jsx(Route,{path:"/role/:id",element:jsxRuntimeExports.jsx(RolePage,{...fr})}),jsxRuntimeExports.jsx(Route,{path:"/role",element:jsxRuntimeExports.jsx(RolePage,{...fr})}),jsxRuntimeExports.jsx(Route,{path:"/privacy",element:jsxRuntimeExports.jsx(PrivacyPage,{...fr})}),jsxRuntimeExports.jsx(Route,{path:"/terms",element:jsxRuntimeExports.jsx(TermsPage,{...fr})}),jsxRuntimeExports.jsx(Route,{path:"/team/:id/:category",element:jsxRuntimeExports.jsx(TeamPage,{...fr})}),jsxRuntimeExports.jsx(Route,{path:"/team/:id",element:jsxRuntimeExports.jsx(TeamPage,{...fr})}),jsxRuntimeExports.jsx(Route,{path:"/team",element:jsxRuntimeExports.jsx(TeamPage,{...fr})}),jsxRuntimeExports.jsx(Route,{path:"/tokens",element:jsxRuntimeExports.jsx(TokensPage,{...fr})}),jsxRuntimeExports.jsx(Route,{path:"/files",element:jsxRuntimeExports.jsx(FilesPage,{...fr})}),jsxRuntimeExports.jsx(Route,{path:"/payment",element:jsxRuntimeExports.jsx(PaymentPage,{...fr})}),jsxRuntimeExports.jsx(Route,{path:"/pricing",element:jsxRuntimeExports.jsx(PricingPage,{...fr})}),jsxRuntimeExports.jsx(Route,{path:"/transactions",element:jsxRuntimeExports.jsx(TransactionsPage,{...fr})}),jsxRuntimeExports.jsx(Route,{path:"/admin",element:jsxRuntimeExports.jsx(AdminTransactionsPage,{...fr})}),jsxRuntimeExports.jsx(Route,{path:"/roadmap",element:jsxRuntimeExports.jsx(RoadMapPage,{...fr})})]})]}),jsxRuntimeExports.jsx("div",{id:"endofdocument"})]})]})}client.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(React.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));export{constant$1 as $,utils as A,rgba as B,setDiagramTitle as C,getDiagramTitle as D,clear as E,curveBasis as F,parseGenericTypes as G,setupGraphViewbox as H,random as I,define as J,extend$1 as K,Color$1 as L,rgbConvert as M,nogamma as N,hue as O,commonjsGlobal as P,getDefaultExportFromCjs as Q,Rgb as R,Selection$1 as S,dayjs as T,selectSvgElement as U,tau as V,defaultConfig$2 as W,cleanAndMerge as X,parseFontSize as Y,getThemeVariables$2 as Z,getConfig$1 as _,getAccDescription as a,Stack as a$,interpolateNumber as a0,color as a1,interpolateRgb as a2,interpolateString as a3,hasKatex as a4,calculateMathMLDimensions as a5,ZERO_WIDTH_SPACE as a6,generateId as a7,isObject$2 as a8,setToString as a9,epsilon as aA,sqrt as aB,min$2 as aC,abs$1 as aD,atan2 as aE,asin as aF,acos as aG,max$2 as aH,Utils as aI,Color as aJ,isObjectLike as aK,baseGetTag as aL,Symbol$1 as aM,arrayLikeKeys as aN,baseKeys as aO,memoize as aP,isArguments as aQ,copyObject as aR,getPrototype as aS,cloneArrayBuffer as aT,cloneTypedArray as aU,getTag as aV,nodeUtil as aW,copyArray as aX,isBuffer as aY,cloneBuffer as aZ,initCloneObject as a_,overRest as aa,baseRest as ab,isIterateeCall as ac,keysIn as ad,eq as ae,isArrayLike as af,isArray as ag,baseFor as ah,baseAssignValue as ai,identity as aj,isIndex as ak,assignValue as al,baseUnary as am,constant as an,merge$1 as ao,lineBreakRegex as ap,commonjsRequire as aq,defaultConfig as ar,commonDb as as,isDark as at,lighten as au,darken as av,pi as aw,cos as ax,sin as ay,halfPi as az,setAccDescription as b,MapCache as b0,Uint8Array$1 as b1,isTypedArray as b2,isLength as b3,Set$1 as b4,isArrayLikeObject as b5,isEmpty as b6,decodeEntities as b7,dedent as b8,getConfig as c,sanitizeText$2 as d,assignWithDepth$1 as e,calculateTextWidth as f,getAccTitle as g,select as h,configureSvgSize as i,common$1 as j,calculateTextHeight as k,log$1 as l,dist$1 as m,curveLinear as n,getStylesFromArray as o,evaluate$1 as p,interpolateToCurve as q,renderKatex as r,setAccTitle as s,setupGraphViewbox$1 as t,setConfig as u,root$1 as v,wrapLabel as w,array as x,isPlainObject as y,isFunction$1 as z};
